/*! For license information please see code-studio-commonwp66228e0484c0ac75b218.min.js.LICENSE.txt */

(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[2],[(e,t,n)=>{var r=n(3),o=n(10),i=n(18),a=n(15),s=n(22),l=function(e,t,n){var u,c,d,f,p=e&l.F,h=e&l.G,m=e&l.S,g=e&l.P,y=e&l.B,v=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(u in h&&(n=t),n)d=((c=!p&&v&&void 0!==v[u])?v:n)[u],f=y&&c?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,v&&a(v,u,d,e&l.U),b[u]!=d&&i(b,u,f),g&&_[u]!=d&&(_[u]=d)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},,(e,t,n)=>{e.exports=n(186)()},e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},(e,t,n)=>{var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},(e,t,n)=>{var r=n(60)("wks"),o=n(38),i=n(3).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},(e,t,n)=>{var r=n(24),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===i)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=o:void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},e=>{var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},(e,t,n)=>{e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},(e,t,n)=>{var r=n(5),o=n(104),i=n(34),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},(e,t,n)=>{"use strict";var r=i(n(180)),o=i(n(181));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("common_locale");a=(0,o.default)(a,"common"),e.exports=a},(e,t,n)=>{var r=n(30);e.exports=function(e){return Object(r(e))}},(e,t,n)=>{var r=n(3),o=n(18),i=n(17),a=n(38)("src"),s=n(144),l="toString",u=(""+s).split(l);n(10).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(i(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},(e,t,n)=>{var r=n(0),o=n(4),i=n(30),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},(e,t,n)=>{var r=n(12),o=n(37);e.exports=n(11)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{var r=n(55),o=n(30);e.exports=function(e){return r(o(e))}},e=>{var t;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=(n(t={black:"#000",background_black:"#121416",dark_gray:"#2D3139",darkest_gray:"#272822",dark_slate_gray:"#282c34",darkest_slate_gray:"#25292d",dark_charcoal:"#4d575f",charcoal:"#5b6770",light_gray:"#949ca2",lighter_gray:"#c6cacd",lightest_gray:"#e7e8ea",background_gray:"#f2f2f2",dimgray:"#696969",white:"#fff",default_blue:"#3670b3",dark_teal:"#0094a3",teal:"#00adbc",applab_button_teal:"#1abc9c",light_teal:"#59cad3",lightish_teal:"#80d6de",lighter_teal:"#a6e3e8",lightest_teal:"#d9f3f5",dark_purple:"#5c3f7f",purple:"#7665a0",light_purple:"#a69bc1",lighter_purple:"#cfc9de",lightest_purple:"#ebe8f1",cyan:"#0094ca",light_cyan:"#59b9dc",lighter_cyan:"#a6daed",lightest_cyan:"#d9eff7",almost_white_cyan:"#f5fcff",orange:"#ffa400",light_orange:"#ffc459",lighter_orange:"#ffe0a6",lightest_orange:"#fff2d9",dark_orange:"#ff8600",green:"#b9bf15",light_green:"#d1d567",lighter_green:"#e7e9ad",lightest_green:"#f5f5dc",highlight_green:"#8afc9b",yellow:"#ffb81d",light_yellow:"#ffdb74",lighter_yellow:"#ffebb5",lightest_yellow:"#fff7df",goldenrod:"#daa520",header_text:"#fff",bkgnd_color:"#00adbc",inset_color:"#c6cacd",dark_color:"#7665a0",hdr_color:"#7665a0",red:"#c00",lightest_red:"#fcc",dark_red:"#d62911",realgreen:"#008000",realyellow:"#ff0",mustardyellow:"#efcd1c",twitter_blue:"#00aced",facebook_blue:"#3b5998",microsoft_blue:"#2a5cb2",dark_blue:"#00647f",google_red:"#a5201a",blockly_flyout_gray:"#ddd",default_text:"#333",border_gray:"#bbb",border_light_gray:"#d8d8d8",table_header:"#ececec",table_light_row:"#fcfcfc",table_dark_row:"#f4f4f4",level_submitted:"#7665a0",level_perfect:"rgb(14, 190, 14)",level_passed:"rgb(159, 212, 159)",level_attempted:"#ff0",level_not_tried:"#fefefe",level_current:"#ffa400",level_review_rejected:"#c00",level_review_accepted:"rgb(11, 142, 11)",assessment:"#0094ca",workspace_running_background:"#e5e5e5"},"dark_purple","#682A77"),n(t,"bright_green","#0ebe0e"),n(t,"neon_pink","#e9118f"),n(t,"link_color","#0596ce"),n(t,"shadow","rgba(0, 0, 0, 0.3)"),n(t,"bootstrap_button_blue","#337ab7"),n(t,"bootstrap_button_red","#d9534f"),n(t,"bootstrap_error_background","#f2dede"),n(t,"bootstrap_error_text","#b94a48"),n(t,"bootstrap_error_border","#ebccd1"),n(t,"bootstrap_warning_background","#fcf8e3"),n(t,"bootstrap_warning_text","#c09853"),n(t,"bootstrap_warning_border","#faebcc"),n(t,"bootstrap_border_color","#cccccc"),n(t,"bootstrap_success_background","#dff0d8"),n(t,"bootstrap_success_text","#468847"),n(t,"bootstrap_success_border","#d6e9c6"),n(t,"droplet_light_green","#d3e965"),n(t,"droplet_blue","#64b5f6"),n(t,"droplet_bright_blue","#19c3e1"),n(t,"droplet_yellow","#fff176"),n(t,"droplet_orange","#ffb74d"),n(t,"droplet_red","#f78183"),n(t,"droplet_cyan","#4dd0e1"),n(t,"droplet_pink","#f57ac6"),n(t,"droplet_purple","#bb77c7"),n(t,"droplet_green","#68d995"),n(t,"droplet_white","#fff"),n(t,"oceans_deep_blue","rgb(2, 0, 28)"),t)},(e,t,n)=>{"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},(e,t,n)=>{var r=n(23);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},(e,t,n)=>{var r=n(0),o=n(10),i=n(4);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},(e,t,n)=>{var r=n(22),o=n(55),i=n(14),a=n(8),s=n(120);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var m,g,y=i(t),v=o(y),b=r(s,h,3),_=a(v.length),w=0,E=n?p(t,_):l?p(t,0):void 0;_>w;w++)if((f||w in v)&&(g=b(m=v[w],w,y),e))if(n)E[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:E.push(m)}else if(c)return!1;return d?-1:u||c?c:E}}},(e,t,n)=>{"use strict";t.__esModule=!0,t.connect=t.Provider=void 0;var r=i(n(780)),o=i(n(781));function i(e){return e&&e.__esModule?e:{default:e}}t.Provider=r.default,t.connect=o.default},(e,t,n)=>{"use strict";if(n(11)){var r=n(39),o=n(3),i=n(4),a=n(0),s=n(71),l=n(75),u=n(22),c=n(51),d=n(37),f=n(18),p=n(52),h=n(24),m=n(8),g=n(127),y=n(41),v=n(34),b=n(17),_=n(56),w=n(6),E=n(14),O=n(92),S=n(42),T=n(43),C=n(47).f,k=n(94),A=n(38),P=n(7),x=n(26),I=n(61),R=n(57),D=n(96),j=n(49),N=n(64),L=n(50),M=n(95),B=n(122),F=n(12),U=n(31),H=F.f,W=U.f,q=o.RangeError,z=o.TypeError,V=o.Uint8Array,G="ArrayBuffer",$="SharedArrayBuffer",K="BYTES_PER_ELEMENT",Y=Array.prototype,X=l.ArrayBuffer,J=l.DataView,Z=x(0),Q=x(2),ee=x(3),te=x(4),ne=x(5),re=x(6),oe=I(!0),ie=I(!1),ae=D.values,se=D.keys,le=D.entries,ue=Y.lastIndexOf,ce=Y.reduce,de=Y.reduceRight,fe=Y.join,pe=Y.sort,he=Y.slice,me=Y.toString,ge=Y.toLocaleString,ye=P("iterator"),ve=P("toStringTag"),be=A("typed_constructor"),_e=A("def_constructor"),we=s.CONSTR,Ee=s.TYPED,Oe=s.VIEW,Se="Wrong length!",Te=x(1,(function(e,t){return xe(R(e,e[_e]),t)})),Ce=i((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),ke=!!V&&!!V.prototype.set&&i((function(){new V(1).set({})})),Ae=function(e,t){var n=h(e);if(n<0||n%t)throw q("Wrong offset!");return n},Pe=function(e){if(w(e)&&Ee in e)return e;throw z(e+" is not a typed array!")},xe=function(e,t){if(!w(e)||!(be in e))throw z("It is not a typed array constructor!");return new e(t)},Ie=function(e,t){return Re(R(e,e[_e]),t)},Re=function(e,t){for(var n=0,r=t.length,o=xe(e,r);r>n;)o[n]=t[n++];return o},De=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},je=function(e){var t,n,r,o,i,a,s=E(e),l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,f=k(s);if(null!=f&&!O(f)){for(a=f.call(s),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);s=r}for(d&&l>2&&(c=u(c,arguments[2],2)),t=0,n=m(s.length),o=xe(this,n);n>t;t++)o[t]=d?c(s[t],t):s[t];return o},Ne=function(){for(var e=0,t=arguments.length,n=xe(this,t);t>e;)n[e]=arguments[e++];return n},Le=!!V&&i((function(){ge.call(new V(1))})),Me=function(){return ge.apply(Le?he.call(Pe(this)):Pe(this),arguments)},Be={copyWithin:function(e,t){return B.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return M.apply(Pe(this),arguments)},filter:function(e){return Ie(this,Q(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Z(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return fe.apply(Pe(this),arguments)},lastIndexOf:function(e){return ue.apply(Pe(this),arguments)},map:function(e){return Te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ce.apply(Pe(this),arguments)},reduceRight:function(e){return de.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,n=Pe(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Pe(this),e)},subarray:function(e,t){var n=Pe(this),r=n.length,o=y(e,r);return new(R(n,n[_e]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===t?r:y(t,r))-o))}},Fe=function(e,t){return Ie(this,he.call(Pe(this),e,t))},Ue=function(e){Pe(this);var t=Ae(arguments[1],1),n=this.length,r=E(e),o=m(r.length),i=0;if(o+t>n)throw q(Se);for(;i<o;)this[t+i]=r[i++]},He={entries:function(){return le.call(Pe(this))},keys:function(){return se.call(Pe(this))},values:function(){return ae.call(Pe(this))}},We=function(e,t){return w(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return We(e,t=v(t,!0))?d(2,e[t]):W(e,t)},ze=function(e,t,n){return!(We(e,t=v(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};we||(U.f=qe,F.f=ze),a(a.S+a.F*!we,"Object",{getOwnPropertyDescriptor:qe,defineProperty:ze}),i((function(){me.call({})}))&&(me=ge=function(){return fe.call(this)});var Ve=p({},Be);p(Ve,He),f(Ve,ye,He.values),p(Ve,{slice:Fe,set:Ue,constructor:function(){},toString:me,toLocaleString:Me}),De(Ve,"buffer","b"),De(Ve,"byteOffset","o"),De(Ve,"byteLength","l"),De(Ve,"length","e"),H(Ve,ve,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,l){var u=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=o[u],y=h||{},v=h&&T(h),b=!h||!s.ABV,E={},O=h&&h.prototype,k=function(e,n){H(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Ce)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,Ce)}(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,o){c(e,h,u,"_d");var i,a,s,l,d=0,p=0;if(w(n)){if(!(n instanceof X||(l=_(n))==G||l==$))return Ee in n?Re(h,n):je.call(h,n);i=n,p=Ae(r,t);var y=n.byteLength;if(void 0===o){if(y%t)throw q(Se);if((a=y-p)<0)throw q(Se)}else if((a=m(o)*t)+p>y)throw q(Se);s=a/t}else s=g(n),i=new X(a=s*t);for(f(e,"_d",{b:i,o:p,l:a,e:s,v:new J(i)});d<s;)k(e,d++)})),O=h.prototype=S(Ve),f(O,"constructor",h)):i((function(){h(1)}))&&i((function(){new h(-1)}))&&N((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,o){var i;return c(e,h,u),w(n)?n instanceof X||(i=_(n))==G||i==$?void 0!==o?new y(n,Ae(r,t),o):void 0!==r?new y(n,Ae(r,t)):new y(n):Ee in n?Re(h,n):je.call(h,n):new y(g(n))})),Z(v!==Function.prototype?C(y).concat(C(v)):C(y),(function(e){e in h||f(h,e,y[e])})),h.prototype=O,r||(O.constructor=h));var A=O[ye],P=!!A&&("values"==A.name||null==A.name),x=He.values;f(h,be,!0),f(O,Ee,u),f(O,Oe,!0),f(O,_e,h),(l?new h(1)[ve]==u:ve in O)||H(O,ve,{get:function(){return u}}),E[u]=h,a(a.G+a.W+a.F*(h!=y),E),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i((function(){y.of.call(h,1)})),u,{from:je,of:Ne}),K in O||f(O,K,t),a(a.P,u,Be),L(u),a(a.P+a.F*ke,u,{set:Ue}),a(a.P+a.F*!P,u,He),r||O.toString==me||(O.toString=me),a(a.P+a.F*i((function(){new h(1).slice()})),u,{slice:Fe}),a(a.P+a.F*(i((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!i((function(){O.toLocaleString.call([1,2])}))),u,{toLocaleString:Me}),j[u]=P?A:x,r||P||f(O,ye,x)}}else e.exports=function(){}},e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},(e,t,n)=>{var r=n(62),o=n(37),i=n(19),a=n(34),s=n(17),l=n(104),u=Object.getOwnPropertyDescriptor;t.f=n(11)?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bisect=function(e,t){var n=e.filter((function(e){return t(e)})),r=e.filter((function(e){return!t(e)}));return[n,r]},t.calculateOffsetCoordinates=function(e,t,n){var r=e.getBoundingClientRect();return{x:Math.round((t-r.left)*e.offsetWidth/r.width),y:Math.round((n-r.top)*e.offsetHeight/r.height)}},t.cloneWithoutFunctions=function(e){return JSON.parse(JSON.stringify(e))},t.createEvent=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{t=new Event(e,{bubbles:n,cancelable:r})}catch(o){(t=document.createEvent("Event")).initEvent(e,n,r)}return t},t.createHiddenPrintWindow=function(e){(0,l.dataURIFromURI)(e).then((function(e){var t=(0,r.default)('<iframe style="position: absolute; visibility: hidden;"></iframe>');t.appendTo("body"),t[0].contentWindow.document.write('<img src="'.concat(e,'" style="border: 1px solid #000;" onload="if (document.execCommand(\'print\', false, null)) {  } else { window.print(); }"/>'))}))},t.createUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.currentLocation=function(){return window.location},t.deepMergeConcatArrays=function(e,t){return o.default.fromJS(e).mergeWith((function e(t,n){var r=o.default.List.isList;return r(t)&&r(n)?t.concat(n):t&&t.mergeWith?t.mergeWith(e,n):n}),t).toJS()},t.ellipsify=function(e,t){if(e&&e.length>t)return e.substr(0,t-3)+"...";return e||""},t.escapeHtml=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;"):""},t.escapeText=function(e){var t=e.toString(),n=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/ {2}/g," &nbsp;")).split("\n"),r=n[0],o=n.slice(1);0===r.length&&n.length>1&&(r="<br>");return r+o.map((function(e){return"<div>"+(e.length?e:"<br>")+"</div>"})).join("")},t.executeIfConditional=function(e,t){return function(){if(e())return t.apply(this,arguments)}},t.extend=function(e,n){var r=t.shallowCopy(e);for(var o in n)r[o]=n[o];return r},t.findProfanity=void 0,t.fireResizeEvent=function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},t.flatten=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},t.getTabId=function(){var e=f("tabId",!1);if(e)return e;return p("tabId",Math.random()+""),f("tabId",!1)},t.hashString=function(e){return(0,i.default)(e).toString()},t.interpolateColors=function(e,t,n){var r=new a.default(e),o=new a.default(t),i=r.r*(1-n)+o.r*n,s=r.g*(1-n)+o.g*n,l=r.b*(1-n)+o.b*n;return"rgb(".concat(i,", ").concat(s,", ").concat(l,")")},t.isBlank=function(e){return!(e&&""!==e.trim())},t.isInfiniteRecursionError=function(e){if(e instanceof RangeError&&/^Maximum call stack size exceeded/.test(e.message))return!0;if("undefined"!=typeof InternalError&&e instanceof InternalError&&"too much recursion"===e.message)return!0;if(e instanceof Error&&"Out of stack space"===e.message)return!0;return!1},t.isSubsequence=function(e,t){var n=0,r=0;for(;r<t.length;){for(;n<e.length&&t[r]!==e[n];)n++;if(n>=e.length)return!1;r++,n++}return!0},t.levenshtein=function(e,t){if(!e||!t)return(e||t).length;for(var n=[],r=0;r<=t.length;r++)if(n[r]=[r],0!==r)for(var o=0;o<=e.length;o++)n[0][o]=o,0!==o&&(n[r][o]=t.charAt(r-1)===e.charAt(o-1)?n[r-1][o-1]:Math.min(n[r-1][o-1]+1,n[r][o-1]+1,n[r-1][o]+1));return n[t.length][e.length]},t.linkWithQueryParams=function(e){var t=window.location.search||"";return e+t},t.makeEnum=function(){for(var e,t={},n=0;n<arguments.length;n++){if(e=String(arguments[n]),t[e])throw new Error('Key "'+e+'" occurred twice while constructing enum');t[e]=e}Object.freeze&&Object.freeze(t);return t},t.mod=function(e,t){return(e%t+t)%t},t.navigateToHref=function(e){window.location.href=e},t.normalize=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);if(0===t)return e;return{x:e.x/t,y:e.y/t}},t.quote=function(e){return'"'+e+'"'},t.randomKey=function(e){return c(Object.keys(e))},t.randomValue=c,t.range=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n},t.reload=function(){window.location.reload()},t.resetAniGif=function(e){if(!e)return;var t=e.src;e.src="#",setTimeout((function(){return e.src=t}),0)},t.shallowCopy=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.showGenericQtip=d,t.showUnusedBlockQtip=function(e){var t=n(13),r=t.unattachedBlockTipTitle(),o=t.unattachedBlockTipBody();d(e,r,o,{my:"bottom left",at:"top right"})},t.stringToChunks=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return e.split(n).reduce((function(e,r){var o="";return e[e.length-1].length+r.length<t&&(o=e.pop()+n),o+=r,e.push(o.trim()),e}),[""])},t.stringifyQueryParams=function(e){if(!e)return"";var t=Object.keys(e);if(!t.length)return"";return"?"+t.map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.stripQuotes=function(e){return e.replace(/["']/g,"")},t.tooltipifyVocabulary=function(){(0,r.default)(".vocab").each((function(){(0,r.default)(this).tooltip({placement:"bottom"})}))},t.tryGetLocalStorage=function(e,t){if(void 0===t)throw"tryGetLocalStorage requires defaultValue";var n=t;try{n=localStorage.getItem(e)}catch(r){}return n},t.tryGetSessionStorage=f,t.trySetLocalStorage=function(e,t){try{return localStorage.setItem(e,t),!0}catch(n){return!1}},t.trySetSessionStorage=p,t.unescapeText=function(e){var t=e;return t=(t=(t=(t=(t=(t=t.replace(/(?!^)<div[^>]*>/gi,"\n")).replace(/<[^>]+>/gi,"")).replace(/&nbsp;/gi," ")).replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).replace(/&amp;/gi,"&")},t.valueOr=function(e,t){return void 0===e?t:e},t.windowOpen=function(){var e;return(e=window).open.apply(e,arguments)},t.wrapNumberValidatorsForLevelBuilder=function(){var e=Blockly.FieldTextInput.nonnegativeIntegerValidator,t=Blockly.FieldTextInput.numberValidator;Blockly.FieldTextInput.nonnegativeIntegerValidator=function(t){return"???"===t?t:e(t)},Blockly.FieldTextInput.numberValidator=function(e){return"???"===e?e:t(e)}},t.xFromPosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case s.Position.OUTTOPOUTLEFT:case s.Position.TOPOUTLEFT:case s.Position.MIDDLEOUTLEFT:case s.Position.BOTTOMOUTLEFT:case s.Position.OUTBOTTOMOUTLEFT:return-n;case s.Position.OUTTOPLEFT:case s.Position.TOPLEFT:case s.Position.MIDDLELEFT:case s.Position.BOTTOMLEFT:case s.Position.OUTBOTTOMLEFT:return 0;case s.Position.OUTTOPCENTER:case s.Position.TOPCENTER:case s.Position.MIDDLECENTER:case s.Position.BOTTOMCENTER:case s.Position.OUTBOTTOMCENTER:return(t-n)/2;case s.Position.OUTTOPRIGHT:case s.Position.TOPRIGHT:case s.Position.MIDDLERIGHT:case s.Position.BOTTOMRIGHT:case s.Position.OUTBOTTOMRIGHT:return t-n;case s.Position.OUTTOPOUTRIGHT:case s.Position.TOPOUTRIGHT:case s.Position.MIDDLEOUTRIGHT:case s.Position.BOTTOMOUTRIGHT:case s.Position.OUTBOTTOMOUTRIGHT:return t}},t.yFromPosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case s.Position.OUTTOPOUTLEFT:case s.Position.OUTTOPLEFT:case s.Position.OUTTOPCENTER:case s.Position.OUTTOPRIGHT:case s.Position.OUTTOPOUTRIGHT:return-n;case s.Position.TOPOUTLEFT:case s.Position.TOPLEFT:case s.Position.TOPCENTER:case s.Position.TOPRIGHT:case s.Position.TOPOUTRIGHT:return 0;case s.Position.MIDDLEOUTLEFT:case s.Position.MIDDLELEFT:case s.Position.MIDDLECENTER:case s.Position.MIDDLERIGHT:case s.Position.MIDDLEOUTRIGHT:return(t-n)/2;case s.Position.BOTTOMOUTLEFT:case s.Position.BOTTOMLEFT:case s.Position.BOTTOMCENTER:case s.Position.BOTTOMRIGHT:case s.Position.BOTTOMOUTRIGHT:return t-n;case s.Position.OUTBOTTOMOUTLEFT:case s.Position.OUTBOTTOMLEFT:case s.Position.OUTBOTTOMCENTER:case s.Position.OUTBOTTOMRIGHT:case s.Position.OUTBOTTOMOUTRIGHT:return t}};var r=u(n(32)),o=u(n(389)),i=u(n(204)),a=u(n(207)),s=n(137),l=n(392);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return e[Math.floor(Math.random()*e.length)]}function d(e,t,n,o){(0,r.default)(e).qtip({content:{text:"\n        <h4>".concat(t,"</h4>\n        <p>").concat(n,"</p>\n      "),title:{button:(0,r.default)('<div class="tooltip-x-close"/>')}},position:o,style:{classes:"cdo-qtips",tip:{width:20,height:20}},hide:{event:"unfocus"},show:!1}).qtip("show")}function f(e,t){if(void 0===t)throw"tryGetSessionStorage requires defaultValue";var n=t;try{n=sessionStorage.getItem(e)}catch(r){}return n}function p(e,t){try{return sessionStorage.setItem(e,t),!0}catch(n){if("QuotaExceededError"!==n.name)throw n;return!1}}n(426),Function.prototype.inherits=function(e){this.prototype=Object.create(e.prototype),this.prototype.constructor=this,this.superPrototype=e.prototype};t.findProfanity=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={url:"/profanity/find",method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify({text:e,locale:t})};return n&&(o.headers={"X-CSRF-Token":n}),r.default.ajax(o)}},(e,t,n)=>{var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},(e,t,n)=>{var r=n(38)("meta"),o=n(6),i=n(17),a=n(12).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(4)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!i(e,r)&&c(e),e}}},,e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},e=>{e.exports=!1},(e,t,n)=>{var r=n(107),o=n(78);e.exports=Object.keys||function(e){return r(e,o)}},(e,t,n)=>{var r=n(24),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},(e,t,n)=>{var r=n(5),o=n(108),i=n(78),a=n(77)("IE_PROTO"),s=function(){},l=function(){var e,t=n(76)("iframe"),r=i.length;for(t.style.display="none",n(80).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},(e,t,n)=>{var r=n(17),o=n(14),i=n(77)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},(e,t,n)=>{var r=n(7)("unscopables"),o=Array.prototype;null==o[r]&&n(18)(o,r,{}),e.exports=function(e){o[r][e]=!0}},(e,t,n)=>{var r=n(6);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},(e,t,n)=>{var r=n(12).f,o=n(17),i=n(7)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},(e,t,n)=>{var r=n(107),o=n(78).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},(e,t,n)=>{var r=n(0),o=n(30),i=n(4),a=n(82),s="["+a+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(e,t,n){var o={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),l=o[e]=s?t(d):a[e];n&&(o[n]=l),r(r.P+r.F*s,"String",o)},d=c.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=c},e=>{e.exports={}},(e,t,n)=>{"use strict";var r=n(3),o=n(12),i=n(11),a=n(7)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},(e,t,n)=>{var r=n(15);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),o=n(684),i=a(n(200));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,n,i,a){var s=e[t];return r.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,o.isValidElementType)(s)?null:new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},(e,t,n)=>{var r=n(29);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},(e,t,n)=>{var r=n(29),o=n(7)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},(e,t,n)=>{var r=n(5),o=n(23),i=n(7)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},(e,t,n)=>{"use strict";e.exports=function(e,t){var n,i,a=t.children||[],s=a.length,l=[],u=-1;for(;++u<s;)(n=o(e,a[u],t))&&(u&&"break"===a[u-1].type&&(n.value&&(n.value=r.left(n.value)),(i=n.children&&n.children[0])&&i.value&&(i.value=r.left(i.value))),l=l.concat(n));return l};var r=n(166),o=n(398)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=s(n(2)),o=s(n(1)),i=s(n(53)),a=["icon","className"];function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){var t=e.icon,n=e.className,r=l(e,a),s=i.default.assign({},r,{className:"fa fa-".concat(t," ").concat(n||"")});return o.default.createElement("i",s)}u.propTypes={icon:r.default.string.isRequired,className:r.default.string},e.exports=t.default},(e,t,n)=>{var r=n(10),o=n(3),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(39)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},(e,t,n)=>{var r=n(19),o=n(8),i=n(41);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},(e,t)=>{t.f={}.propertyIsEnumerable},(e,t,n)=>{var r=n(29);e.exports=Array.isArray||function(e){return"Array"==r(e)}},(e,t,n)=>{var r=n(7)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(a){}return n}},(e,t,n)=>{"use strict";var r=n(5);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},(e,t,n)=>{"use strict";var r=n(56),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},(e,t,n)=>{"use strict";n(151);var r=n(15),o=n(18),i=n(4),a=n(30),s=n(7),l=n(97),u=s("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),p=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!t})):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var m=/./[f],g=n(a,f,""[e],(function(e,t,n,r,o){return t.exec===l?p&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=g[0],v=g[1];r(String.prototype,e,y),o(RegExp.prototype,f,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},(e,t,n)=>{var r=n(22),o=n(119),i=n(92),a=n(5),s=n(8),l=n(94),u={},c={},d=e.exports=function(e,t,n,d,f){var p,h,m,g,y=f?function(){return e}:l(e),v=r(n,d,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=s(e.length);p>b;b++)if((g=t?v(a(h=e[b])[0],h[1]):v(e[b]))===u||g===c)return g}else for(m=y.call(e);!(h=m.next()).done;)if((g=o(m,v,h.value,t))===u||g===c)return g};d.BREAK=u,d.RETURN=c},(e,t,n)=>{var r=n(3).navigator;e.exports=r&&r.userAgent||""},(e,t,n)=>{"use strict";var r=n(3),o=n(0),i=n(15),a=n(52),s=n(35),l=n(68),u=n(51),c=n(6),d=n(4),f=n(64),p=n(46),h=n(83);e.exports=function(e,t,n,m,g,y){var v=r[e],b=v,_=g?"set":"add",w=b&&b.prototype,E={},O=function(e){var t=w[e];i(w,e,"delete"==e||"has"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!d((function(){(new b).entries().next()})))){var S=new b,T=S[_](y?{}:-0,1)!=S,C=d((function(){S.has(1)})),k=f((function(e){new b(e)})),A=!y&&d((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));k||((b=t((function(t,n){u(t,b,e);var r=h(new v,t,b);return null!=n&&l(n,g,r[_],r),r}))).prototype=w,w.constructor=b),(C||A)&&(O("delete"),O("has"),g&&O("get")),(A||T)&&O(_),y&&w.clear&&delete w.clear}else b=m.getConstructor(t,e,g,_),a(b.prototype,n),s.NEED=!0;return p(b,e),E[e]=b,o(o.G+o.W+o.F*(b!=v),E),y||m.setStrong(b,e,g),b}},(e,t,n)=>{for(var r,o=n(3),i=n(18),a=n(38),s=a("typed_array"),l=a("view"),u=!(!o.ArrayBuffer||!o.DataView),c=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=o[f[d++]])?(i(r.prototype,s,!0),i(r.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},(e,t,n)=>{"use strict";var r=n(195);e.exports=function(e,t,n){var o;null!=n||"object"==typeof t&&!Array.isArray(t)||(n=t,t={});o=r({type:String(e)},t),Array.isArray(n)?o.children=n:null!=n&&(o.value=String(n));return o}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(53)),o=u(n(1)),i=u(n(2)),a=u(n(59)),s=u(n(9)),l=u(n(785));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={orange:"orange",gray:"gray",blue:"blue",teal:"teal",white:"white",red:"red",green:"green",purple:"purple"},g={default:"default",large:"large",narrow:"narrow",small:"small"},y=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"onKeyDown",(function(e){var n=t.props,r=n.href,o=n.disabled,i=n.onClick;"Enter"!==e.key||o||r||(e.preventDefault(),e.stopPropagation(),i())})),t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),i.prototype.render=function(){var e=this.props,t=e.href,n=e.text,i=e.styleAsText,u=e.icon,c=e.iconClassName,f=e.iconStyle,p=e.target,h=e.style,y=e.onClick,v=e.disabled,b=e.download,_=e.id,w=e.tabIndex,E=e.isPending,O=e.pendingText,S=e.__useDeprecatedTag,T=this.props.color||m.orange,C=this.props.size||g.default;if(!t&&!y)throw new Error("Expect at least one of href/onClick");var k="button";if(S&&(k=t?"a":"div"),b&&"a"!==k)throw new Error("Attempted to use the download attribute with a non-anchor tag");var A,P=S?l.default[C]:[l.default[C],l.default.updated],x="_blank"===p?"noopener noreferrer":void 0;return A=i?(0,s.default)(this.props.className,l.default.main,l.default.textButton,"button-active-no-border"):(0,s.default)(this.props.className,l.default.main,l.default[T],P),o.default.createElement(k,{className:A,style:d({},h),href:v?"#":t,target:p,rel:x,disabled:v,download:b,onClick:v?null:y,onKeyDown:this.onKeyDown,tabIndex:w,id:_},o.default.createElement("div",{style:r.default.pick(h,["textAlign"])},u&&o.default.createElement(a.default,{icon:u,className:(0,s.default)(c,l.default.icon),style:d({},f)}),this.props.children&&this.props.children,E&&O&&o.default.createElement("span",null,O," ",o.default.createElement(a.default,{icon:"spinner",className:"fa-spin"})),o.default.createElement("span",{className:l.default.textSpan},!E&&n)))},i}(o.default.Component);h(y,"propTypes",{className:i.default.string,href:i.default.string,text:i.default.string,children:i.default.node,size:i.default.oneOf(Object.keys(g)),color:i.default.oneOf(Object.keys(m)),styleAsText:i.default.bool,icon:i.default.string,iconClassName:i.default.string,iconStyle:i.default.object,target:i.default.string,style:i.default.object,disabled:i.default.bool,download:i.default.oneOfType([i.default.bool,i.default.string]),onClick:i.default.func,id:i.default.string,tabIndex:i.default.oneOfType([i.default.number,i.default.string]),isPending:i.default.bool,pendingText:i.default.string,__useDeprecatedTag:i.default.bool}),y.ButtonColor=m,y.ButtonSize=g,y.ButtonHeight={default:34,large:40,narrow:40,small:20};var v=y;t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";var r=n(3),o=n(11),i=n(39),a=n(71),s=n(18),l=n(52),u=n(4),c=n(51),d=n(24),f=n(8),p=n(127),h=n(47).f,m=n(12).f,g=n(95),y=n(46),v="ArrayBuffer",b="DataView",_="Wrong index!",w=r.ArrayBuffer,E=r.DataView,O=r.Math,S=r.RangeError,T=r.Infinity,C=w,k=O.abs,A=O.pow,P=O.floor,x=O.log,I=O.LN2,R="buffer",D="byteLength",j="byteOffset",N=o?"_b":R,L=o?"_l":D,M=o?"_o":j;function B(e,t,n){var r,o,i,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,u=l>>1,c=23===t?A(2,-24)-A(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===T?(o=e!=e?1:0,r=l):(r=P(x(e)/I),e*(i=A(2,-r))<1&&(r--,i*=2),(e+=r+u>=1?c/i:c*A(2,1-u))*i>=2&&(r++,i/=2),r+u>=l?(o=0,r=l):r+u>=1?(o=(e*i-1)*A(2,t),r+=u):(o=e*A(2,u-1)*A(2,t),r=0));t>=8;a[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a}function F(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,s=o-7,l=n-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===c)c=1-a;else{if(c===i)return r?NaN:u?-T:T;r+=A(2,t),c-=a}return(u?-1:1)*r*A(2,c-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function H(e){return[255&e]}function W(e){return[255&e,e>>8&255]}function q(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function z(e){return B(e,52,8)}function V(e){return B(e,23,4)}function G(e,t,n){m(e.prototype,t,{get:function(){return this[n]}})}function $(e,t,n,r){var o=p(+n);if(o+t>e[L])throw S(_);var i=e[N]._b,a=o+e[M],s=i.slice(a,a+t);return r?s:s.reverse()}function K(e,t,n,r,o,i){var a=p(+n);if(a+t>e[L])throw S(_);for(var s=e[N]._b,l=a+e[M],u=r(+o),c=0;c<t;c++)s[l+c]=u[i?c:t-c-1]}if(a.ABV){if(!u((function(){w(1)}))||!u((function(){new w(-1)}))||u((function(){return new w,new w(1.5),new w(NaN),w.name!=v}))){for(var Y,X=(w=function(e){return c(this,w),new C(p(e))}).prototype=C.prototype,J=h(C),Z=0;J.length>Z;)(Y=J[Z++])in w||s(w,Y,C[Y]);i||(X.constructor=w)}var Q=new E(new w(2)),ee=E.prototype.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||l(E.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else w=function(e){c(this,w,v);var t=p(e);this._b=g.call(new Array(t),0),this[L]=t},E=function(e,t,n){c(this,E,b),c(e,w,b);var r=e[L],o=d(t);if(o<0||o>r)throw S("Wrong offset!");if(o+(n=void 0===n?r-o:f(n))>r)throw S("Wrong length!");this[N]=e,this[M]=o,this[L]=n},o&&(G(w,D,"_l"),G(E,R,"_b"),G(E,D,"_l"),G(E,j,"_o")),l(E.prototype,{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){var t=$(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=$(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U($(this,4,e,arguments[1]))},getUint32:function(e){return U($(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F($(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F($(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,H,t)},setUint8:function(e,t){K(this,1,e,H,t)},setInt16:function(e,t){K(this,2,e,W,t,arguments[2])},setUint16:function(e,t){K(this,2,e,W,t,arguments[2])},setInt32:function(e,t){K(this,4,e,q,t,arguments[2])},setUint32:function(e,t){K(this,4,e,q,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,V,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,z,t,arguments[2])}});y(w,v),y(E,b),s(E.prototype,a.VIEW,!0),t.ArrayBuffer=w,t.DataView=E},(e,t,n)=>{var r=n(6),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},(e,t,n)=>{var r=n(60)("keys"),o=n(38);e.exports=function(e){return r[e]||(r[e]=o(e))}},e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var r=n(3).document;e.exports=r&&r.documentElement},(e,t,n)=>{var r=n(6),o=n(5),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(22)(Function.call,n(31).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},(e,t,n)=>{var r=n(6),o=n(81).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},(e,t,n)=>{"use strict";var r=n(24),o=n(30);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},(e,t,n)=>{var r=n(24),o=n(30);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},(e,t,n)=>{"use strict";var r=n(39),o=n(0),i=n(15),a=n(18),s=n(49),l=n(118),u=n(46),c=n(43),d=n(7)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,n,g,y,v,b){l(n,t,g);var _,w,E,O=function(e){if(!f&&e in k)return k[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",T=y==h,C=!1,k=e.prototype,A=k[d]||k["@@iterator"]||y&&k[y],P=A||O(y),x=y?T?O("entries"):P:void 0,I="Array"==t&&k.entries||A;if(I&&(E=c(I.call(new e)))!==Object.prototype&&E.next&&(u(E,S,!0),r||"function"==typeof E[d]||a(E,d,m)),T&&A&&A.name!==h&&(C=!0,P=function(){return A.call(this)}),r&&!b||!f&&!C&&k[d]||a(k,d,P),s[t]=P,s[S]=m,y)if(_={values:T?P:O(h),keys:v?P:O(p),entries:x},b)for(w in _)w in k||i(k,w,_[w]);else o(o.P+o.F*(f||C),t,_);return _}},(e,t,n)=>{var r=n(90),o=n(30);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},(e,t,n)=>{var r=n(6),o=n(29),i=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},(e,t,n)=>{var r=n(7)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(o){}}return!0}},(e,t,n)=>{var r=n(49),o=n(7)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},(e,t,n)=>{"use strict";var r=n(12),o=n(37);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},(e,t,n)=>{var r=n(56),o=n(7)("iterator"),i=n(49);e.exports=n(10).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},(e,t,n)=>{"use strict";var r=n(14),o=n(41),i=n(8);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:o(l,n);u>s;)t[s++]=e;return t}},(e,t,n)=>{"use strict";var r=n(44),o=n(123),i=n(49),a=n(19);e.exports=n(88)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},(e,t,n)=>{"use strict";var r,o,i=n(65),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function(e){var t,n,r,o,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",i.call(l))),u&&(t=l.lastIndex),r=a.call(l,e),u&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),c&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=l},(e,t,n)=>{"use strict";var r=n(87)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},(e,t,n)=>{var r,o,i,a=n(22),s=n(112),l=n(80),u=n(76),c=n(3),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,g=0,y={},v="onreadystatechange",b=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete y[e]},"process"==n(29)(d)?r=function(e){d.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):r=v in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:p}},e=>{var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e};var t=Object.prototype.hasOwnProperty},e=>{"use strict";var t=function(){function e(e){for(var t={},n=this._getOverriddenMethods(this,t),r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];"function"==typeof n[i]&&(t[i]=e[i],e[i]=n[i])}}return e.prototype._getOverriddenMethods=function(){throw new Error("Not implemented")},e}();t.install=function(e,t,n){e.__mixins||(e.__mixins=[]);for(var r=0;r<e.__mixins.length;r++)if(e.__mixins[r].constructor===t)return e.__mixins[r];var o=new t(e,n);return e.__mixins.push(o),o},e.exports=t},,(e,t,n)=>{e.exports=!n(11)&&!n(4)((function(){return 7!=Object.defineProperty(n(76)("div"),"a",{get:function(){return 7}}).a}))},(e,t,n)=>{t.f=n(7)},(e,t,n)=>{var r=n(3),o=n(10),i=n(39),a=n(105),s=n(12).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},(e,t,n)=>{var r=n(17),o=n(19),i=n(61)(!1),a=n(77)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},(e,t,n)=>{var r=n(12),o=n(5),i=n(40);e.exports=n(11)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},(e,t,n)=>{"use strict";var r=n(11),o=n(40),i=n(79),a=n(62),s=n(14),l=n(55),u=Object.assign;e.exports=!u||n(4)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,c=1,d=i.f,f=a.f;u>c;)for(var p,h=l(arguments[c++]),m=d?o(h).concat(d(h)):o(h),g=m.length,y=0;g>y;)p=m[y++],r&&!f.call(h,p)||(n[p]=h[p]);return n}:u},e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},(e,t,n)=>{"use strict";var r=n(23),o=n(6),i=n(112),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?l(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},(e,t,n)=>{var r=n(3).parseInt,o=n(48).trim,i=n(82),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},(e,t,n)=>{var r=n(3).parseFloat,o=n(48).trim;e.exports=1/r(n(82)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},(e,t,n)=>{var r=n(29);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},(e,t,n)=>{var r=n(6),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},(e,t,n)=>{"use strict";var r=n(42),o=n(37),i=n(46),a={};n(18)(a,n(7)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},(e,t,n)=>{var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},(e,t,n)=>{var r=n(150);e.exports=function(e,t){return new(r(e))(t)}},(e,t,n)=>{var r=n(23),o=n(14),i=n(55),a=n(8);e.exports=function(e,t,n,s,l){r(t);var u=o(e),c=i(u),d=a(u.length),f=l?d-1:0,p=l?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=p)f in c&&(s=t(s,c[f],f,u));return s}},(e,t,n)=>{"use strict";var r=n(14),o=n(41),i=n(8);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),s=o(e,a),l=o(t,a),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?a:o(u,a))-l,a-s),d=1;for(l<s&&s<l+c&&(d=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},e=>{e.exports=function(e,t){return{value:t,done:!!e}}},(e,t,n)=>{var r=n(5),o=n(6),i=n(155);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},(e,t,n)=>{"use strict";var r=n(12).f,o=n(42),i=n(52),a=n(22),s=n(51),l=n(68),u=n(88),c=n(123),d=n(50),f=n(11),p=n(35).fastKey,h=n(45),m=f?"_s":"size",g=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&l(r,n,e[u],e)}));return i(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=g(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),f&&r(c.prototype,"size",{get:function(){return h(this,t)[m]}}),c},def:function(e,t,n){var r,o,i=g(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:g,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,c(1))}),n?"entries":"values",!n,!0),d(t)}}},(e,t,n)=>{"use strict";var r=n(52),o=n(35).getWeak,i=n(5),a=n(6),s=n(51),l=n(68),u=n(26),c=n(17),d=n(45),f=u(5),p=u(6),h=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return f(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&l(r,n,e[i],e)}));return r(u.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?m(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?m(d(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var r=o(i(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},(e,t,n)=>{var r=n(24),o=n(8);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},(e,t,n)=>{var r=n(47),o=n(79),i=n(5),a=n(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},(e,t,n)=>{var r=n(8),o=n(84),i=n(30);e.exports=function(e,t,n,a){var s=String(i(e)),l=s.length,u=void 0===n?" ":String(n),c=r(t);if(c<=l||""==u)return s;var d=c-l,f=o.call(u,Math.ceil(d/u.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},(e,t,n)=>{var r=n(11),o=n(40),i=n(19),a=n(62).f;e.exports=function(e){return function(t){for(var n,s=i(t),l=o(s),u=l.length,c=0,d=[];u>c;)n=l[c++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(33),o=n(136);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s,l="analysis-events",u=function(){function e(e,t){this.firehose=function(e,t){var n=function(e){return e.replace(/[a-z]/gi,(function(e){return String.fromCharCode(e.charCodeAt(0)+(e.toLowerCase()<="m"?13:-13))}))},r=[n("NXVNJ5C5RRRYVIWUSDDI"),n("qB/z7w2OdN6SEKsGOMqRdHjEG/P+395vrBboCiK5"),"us-east-1","config"];o=r,i=295,function(e){for(;--e;)o.push(o.shift())}(++i);var o,i;var a=function(e,t){return r[e-=0]};return e[a("0x0")]=new e.Config({accessKeyId:a("0x1"),secretAccessKey:a("0x2"),region:a("0x3")}),new t({apiVersion:"2015-08-04",correctClockSkew:!0})}(e,t)}var t=e.prototype;return t.getEnvironment=function(){var e=window.location.hostname;return e.includes("adhoc")?"adhoc":e.includes("test")?"test":e.includes("levelbuilder")?"levelbuilder":e.includes("staging")?"staging":e.includes("localhost")?"development":e.includes("code.org")?"production":"unknown"},t.isTestEnvironment=function(){return"test"===this.getEnvironment()},t.isDevelopmentEnvironment=function(){return"development"===this.getEnvironment()},t.shouldPutRecord=function(e){return!!e||!this.isTestEnvironment()&&!this.isDevelopmentEnvironment()},t.getAnalyticsUuid=function(){var e=(0,r.tryGetLocalStorage)("analyticsID",null);return e||(e=(0,r.createUuid)()),(0,r.trySetLocalStorage)("analyticsID",e),e},t.getDeviceInfo=function(){return{user_agent:window.navigator.userAgent,window_width:window.innerWidth,window_height:window.innerHeight,hostname:window.location.hostname,full_path:window.location.href}},t.getLocale=function(){if(window.appOptions)return window.appOptions.locale},t.addCommonValues=function(e,t,n){e.created_at=(new Date).toISOString(),e.environment=this.getEnvironment(),e.uuid=this.getAnalyticsUuid(),e.device=JSON.stringify(this.getDeviceInfo()),e.locale=this.getLocale();var r=(0,o.getStore)().getState();if(r){if(t){var i=r.pageConstants,a=r.currentUser.userId;i?e.user_id=i.userId:a&&(e.user_id=a)}var s=r.progress;s&&n&&(e.script_id=s.scriptId,e.level_id=parseInt(s.currentLevelId))}return e},t.handleError=function(e,t){$.ajax({url:"/api/firehose_unreachable",data:JSON.stringify({original_data:e,error_text:String(t)}),contentType:"application/json; charset=utf-8",method:"PUT",dataType:"json"})},t.putRecord=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alwaysPut:!1,includeUserId:!1,callback:null,useProgressScriptId:!0};e=this.addCommonValues(e,t.includeUserId,t.useProgressScriptId);var n=this.handleError.bind(this,e);if(!this.shouldPutRecord(t.alwaysPut))return console.groupCollapsed("Skipped sending record to analysis-events"),console.log(e),console.groupEnd(),void(t.callback&&t.callback(null,e));this.firehose.putRecord({DeliveryStreamName:l,Record:{Data:JSON.stringify(e)}},(function(e,r){t.callback?t.callback(e,r):e&&n(e)}))},t.putRecordBatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alwaysPut:!1,includeUserId:!1,useProgressScriptId:!0};if(e.map((function(e){return this.AddCommonValues(e,t.includeUserId,t.useProgressScriptId)})),!this.shouldPutRecord(t.alwaysPut))return console.groupCollapsed("Skipped sending record batch to analysis-events"),e.map((function(e){console.log(e)})),void console.groupEnd();var n=e.map((function(e){return{Data:JSON.stringify(e)}}));this.firehose.putRecordBatch({DeliveryStreamName:l,Records:n},(function(e,t){}))},e}();function c(){return s||(s=Promise.all([Promise.all([n.e(7),n.e(10)]).then(n.t.bind(n,1587,23)),Promise.all([n.e(7),n.e(203)]).then(n.t.bind(n,1591,23)),Promise.all([n.e(7),n.e(10)]).then(n.t.bind(n,1590,23))]).then((function(e){var t=i(e,2),n=t[0].default,r=t[1].default;return new Promise((function(e){return e(new u(n,r))}))})).catch((function(){s=null}))),s}var d={putRecord:function(e,t){return c().then((function(n){return n.putRecord(e,t)}))},putRecordBatch:function(e,t){return c().then((function(n){return n.putRecordBatch(e,t)}))}};t.default=d,e.exports=t.default},(e,t,n)=>{var r=n(168),o=n(100),i=n(454),a=n(386),s=n(372),l=function(e,t,n){var u,c,d,f=e&l.F,p=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,y=e&l.W,v=p?o:o[t]||(o[t]={}),b=v.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(u in p&&(n=t),n)(c=!f&&_&&void 0!==_[u])&&s(v,u)||(d=c?_[u]:n[u],v[u]=p&&"function"!=typeof _[u]?n[u]:g&&c?i(d,r):y&&_[u]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[u]=d,e&l.R&&b&&!b[u]&&a(b,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n)return[e,t];return e},e.exports=t.default},e=>{"use strict";e.exports=function(){}},function(){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};h.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];E.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=_,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,o){var i=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new E(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&r&&s(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r,o=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),u.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=function(){o||(o=function(e,t){return i.default.isEnabled(i.default.REDUX_LOGGING),a.createStore(e,t,a.applyMiddleware(s.default))}(Object.keys(c).length>0?a.combineReducers(c):function(e){return e}),i.default.isEnabled("reduxGlobalStore")&&(window.reduxStore=o));return o},t.hasReducer=function(e){return!!c[e]},t.registerReducers=function(e){for(var t in e){var n=c[t];if(n&&n!==e[t])throw new Error('reducer with key "'.concat(t,'" already registered!'))}Object.assign(c,e),o&&o.replaceReducer(a.combineReducers(c))};u(n(389));var o,i=u(n(138)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(462)),s=u(n(773));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}var c={}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestResults=t.TOOLBOX_EDIT_MODE=t.SVG_NS=t.ResultType=t.Position=t.NOTIFICATION_ALERT_TYPE=t.KeyCodes=t.HarvesterTerminationValue=t.CIPHER=t.BlocklyVersion=t.BeeTerminationValue=t.BASE_DIALOG_WIDTH=t.ALPHABET=void 0;t.ResultType={UNSET:0,SUCCESS:1,FAILURE:-1,TIMEOUT:2,ERROR:-2};t.TestResults={NO_TESTS_RUN:-1,GENERIC_FAIL:0,EMPTY_BLOCK_FAIL:1,TOO_FEW_BLOCKS_FAIL:2,LEVEL_INCOMPLETE_FAIL:3,MISSING_BLOCK_UNFINISHED:4,EXTRA_TOP_BLOCKS_FAIL:5,RUNTIME_ERROR_FAIL:6,SYNTAX_ERROR_FAIL:7,MISSING_BLOCK_FINISHED:10,APP_SPECIFIC_FAIL:11,EMPTY_FUNCTION_BLOCK_FAIL:12,UNUSED_PARAM:13,UNUSED_FUNCTION:14,PARAM_INPUT_UNATTACHED:15,INCOMPLETE_BLOCK_IN_FUNCTION:16,QUESTION_MARKS_IN_NUMBER_FIELD:17,EMPTY_FUNCTIONAL_BLOCK:18,EXAMPLE_FAILED:19,NESTED_FOR_SAME_VARIABLE:-2,EMPTY_FUNCTION_NAME:-3,MISSING_RECOMMENDED_BLOCK_UNFINISHED:-4,EXTRA_FUNCTION_FAIL:-5,LOCAL_FUNCTION_FAIL:-6,GENERIC_LINT_FAIL:-7,LOG_CONDITION_FAIL:-8,BLOCK_LIMIT_FAIL:-9,FREE_PLAY_UNCHANGED_FAIL:-10,UNSUBMITTED_ATTEMPT:-50,SKIPPED:-100,TEACHER_FEEDBACK_KEEP_WORKING:-110,LEVEL_STARTED:-150,MINIMUM_PASS_RESULT:20,TOO_MANY_BLOCKS_FAIL:20,APP_SPECIFIC_ACCEPTABLE_FAIL:21,MISSING_RECOMMENDED_BLOCK_FINISHED:22,MINIMUM_OPTIMAL_RESULT:30,FREE_PLAY:30,PASS_WITH_EXTRA_TOP_BLOCKS:31,APP_SPECIFIC_IMPERFECT_PASS:32,EDIT_BLOCKS:70,MANUAL_PASS:90,ALL_PASS:100,CONTAINED_LEVEL_RESULT:101,BETTER_THAN_IDEAL:102,SUBMITTED_RESULT:1e3,REVIEW_REJECTED_RESULT:1500,REVIEW_ACCEPTED_RESULT:2e3};var n={FAILURE:!1,SUCCESS:!0,INFINITE_LOOP:1/0,NOT_AT_FLOWER:1,FLOWER_EMPTY:2,NOT_AT_HONEYCOMB:3,HONEYCOMB_FULL:4,UNCHECKED_CLOUD:5,UNCHECKED_PURPLE:6,INSUFFICIENT_NECTAR:7,INSUFFICIENT_HONEY:8,DID_NOT_COLLECT_EVERYTHING:9};t.BeeTerminationValue=n;t.HarvesterTerminationValue={WRONG_CROP:1,EMPTY_CROP:2,DID_NOT_COLLECT_EVERYTHING:3};t.KeyCodes={BACKSPACE:8,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,COPY:67,PASTE:86,DELETE:127};t.Position={OUTTOPOUTLEFT:1,OUTTOPLEFT:2,OUTTOPCENTER:3,OUTTOPRIGHT:4,OUTTOPOUTRIGHT:5,TOPOUTLEFT:6,TOPLEFT:7,TOPCENTER:8,TOPRIGHT:9,TOPOUTRIGHT:10,MIDDLEOUTLEFT:11,MIDDLELEFT:12,MIDDLECENTER:13,MIDDLERIGHT:14,MIDDLEOUTRIGHT:15,BOTTOMOUTLEFT:16,BOTTOMLEFT:17,BOTTOMCENTER:18,BOTTOMRIGHT:19,BOTTOMOUTRIGHT:20,OUTBOTTOMOUTLEFT:21,OUTBOTTOMLEFT:22,OUTBOTTOMCENTER:23,OUTBOTTOMRIGHT:24,OUTBOTTOMOUTRIGHT:25};t.SVG_NS="http://www.w3.org/2000/svg";t.ALPHABET="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";t.CIPHER="Iq61F8kiaUHPGcsY7DgX4yAu3LwtWhnCmeR5pVrJoKfQZMx0BSdlOjEv2TbN9z";t.BASE_DIALOG_WIDTH=700;t.TOOLBOX_EDIT_MODE="toolbox_blocks";t.NOTIFICATION_ALERT_TYPE="notification";t.BlocklyVersion={CDO:"CDO",GOOGLE:"Google"}},(e,t,n)=>{"use strict";var r=n(33),o=s(n(179)),i=s(n(142)),a=s(n(451));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(169),u=e.exports,c="experimentsList",d="experiments";u.REDUX_LOGGING="reduxLogging",u.SCHOOL_AUTOCOMPLETE_DROPDOWN_NEW_SEARCH="schoolAutocompleteDropdownNewSearch",u.SHOW_UNPUBLISHED_FIREBASE_TABLES="showUnpublishedFirebaseTables",u.MICROBIT="microbit",u.TEACHER_DASHBOARD_SECTION_BUTTONS="teacher-dashboard-section-buttons",u.TEACHER_DASHBOARD_SECTION_BUTTONS_ALTERNATE_TEXT="teacher-dashboard-section-buttons-alternate-text",u.FINISH_DIALOG_METRICS="finish-dialog-metrics",u.I18N_TRACKING="frontend-i18n-tracking",u.TIME_SPENT="time-spent",u.BYPASS_DIALOG_POPUP="bypass-dialog-popup",u.SPECIAL_TOPIC="special-topic",u.CLEARER_SIGN_UP_USER_TYPE="clearerSignUpUserType",u.OPT_IN_EMAIL_REG_PARTNER="optInEmailRegPartner",u.BUBBLE_DIALOG="bubbleDialog",u.getQueryString_=function(){return window.location.search},u.getStoredExperiments_=function(){var e=o.default.get("_experiments"+window.cookieEnvSuffix),t=e?JSON.parse(decodeURIComponent(e)).map((function(e){return{key:e}})):[];try{var n=localStorage.getItem(c),i=n?JSON.parse(n):[],a=Date.now(),s=i.filter((function(e){return e.key&&(void 0===e.expiration||e.expiration>a)}));return s.length<i.length&&(0,r.trySetLocalStorage)(c,JSON.stringify(s)),t.concat(s)}catch(l){return t}},u.getEnabledExperiments=function(){return this.getStoredExperiments_().map((function(e){return e.key}))},u.setEnabled=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=this.getStoredExperiments_(),a=o.findIndex((function(t){return t.key===e}));if(t)a<0?(o.push({key:e,expiration:n}),(0,i.default)(d,"enable",e)):o[a].expiration=n;else{if(!(a>=0))return;o.splice(a,1),(0,i.default)(d,"disable",e)}(0,r.trySetLocalStorage)(c,JSON.stringify(o))},u.isEnabled=function(e){var t=this.getStoredExperiments_().some((function(t){return t.key===e}))||!!(window.appOptions&&window.appOptions.experiments&&window.appOptions.experiments.includes(e));t=t||!!a.default.get(e,!1);var n=l.parse(this.getQueryString_()),r=n.enableExperiments,o=n.disableExperiments,i=n.tempEnableExperiments;r&&(r.split(",").indexOf(e)>=0&&(t=!0,this.setEnabled(e,!0)));o&&(o.split(",").indexOf(e)>=0&&(t=!1,this.setEnabled(e,!1)));if(i){var s=new Date;s.setHours(s.getHours()+12);var u=s.getTime();i.split(",").indexOf(e)>=0&&(t=!0,this.setEnabled(e,!0,u))}return t}},(e,t,n)=>{"use strict";e.exports=function(e,t){var n=[],o=-1,i=e.length;t&&n.push(r("text","\n"));for(;++o<i;)o&&n.push(r("text","\n")),n.push(e[o]);t&&0!==e.length&&n.push(r("text","\n"));return n};var r=n(73)},(e,t,n)=>{"use strict";var r=n(406),o=n(404),i=n(407);e.exports=function(e){var t,n,a=e.space,s=e.mustUseProperty||[],l=e.attributes||{},u=e.properties,c=e.transform,d={},f={};for(t in u)n=new i(t,c(l,t),u[t],a),-1!==s.indexOf(t)&&(n.mustUseProperty=!0),d[t]=n,f[r(t)]=t,f[r(n.attribute)]=t;return new o(d,f,a)}},,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;0;(e=window).trackEvent.apply(e,arguments)},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=n(137);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(u(t=e.call.apply(e,[this].concat(r))||this),"handleKeyDown",(function(e){"Escape"===e.key&&t.closeDialog(),t.props.handleKeyDown&&t.props.handleKeyDown(e)})),d(u(t),"closeDialog",(function(){!t.props.uncloseable&&t.props.handleClose&&(t.props.handleClose(),t.props.soundPlayer&&t.props.soundPlayer.stopAllAudio())})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var a=r.prototype;return a.componentDidMount=function(){this.focusDialog()},a.componentDidUpdate=function(){this.focusDialog()},a.getTabbableElements=function(){return[].slice.call(this.refs.dialog.querySelectorAll("a,button,input"))},a.focusDialog=function(){var e=document.activeElement&&this.refs.dialog&&this.refs.dialog.contains(document.activeElement);this.props.isOpen&&!e&&this.refs.dialog.focus()},a.render=function(){if(!this.props.isOpen&&!this.props.hideBackdrop)return o.default.createElement("div",null);var e,t,n;this.props.fullWidth&&(e=l(l({},e),{},{width:"90%",marginLeft:"-45%"})),this.props.fullHeight&&(e=l(l({},e),{},{height:"80%"}),t=l(l({},t),{},{boxSizing:"border-box"}));var r="",a="modal",s="modal-body",u=this.props.overflow||"hidden",c=this.props.overflow||(this.props.fixedHeight||this.props.fullHeight?"hidden":"auto");this.props.useUpdatedStyles?(r="dashboard-styles",s="",t={background:"#fff",height:this.props.fixedHeight,maxHeight:!this.props.fixedHeight&&"80vh",overflowX:u,overflowY:c,borderRadius:4},this.props.useFlexbox&&(t=l(l({},t),{},{display:"flex",flexDirection:"column"})),e=l(l({},e),{},{width:this.props.fixedWidth||i.BASE_DIALOG_WIDTH,marginLeft:-this.props.fixedWidth/2||-350}),n={position:"absolute",top:0,right:0,padding:10,color:"#ddd",cursor:"pointer",fontSize:24}):this.props.noModalStyles&&(a="",s=""),e=l(l(l({},e),this.props.hideBackdrop&&{position:"initial",marginLeft:0}),this.props.style),s=[s,this.props.bodyClassName].filter((function(e){return!!e})).join(" ");var d=o.default.createElement("div",{style:e,tabIndex:"-1",className:a,ref:"dialog",onKeyDown:this.handleKeyDown},o.default.createElement("div",{style:t,id:this.props.bodyId,className:s},!this.props.uncloseable&&!this.props.hideCloseButton&&(this.props.useUpdatedStyles?o.default.createElement("i",{id:"x-close",className:"fa fa-times",style:n,onClick:this.closeDialog}):o.default.createElement("div",{id:"x-close",className:"x-close",onClick:this.closeDialog})),this.props.children));return this.props.hideBackdrop?d:o.default.createElement("div",{className:r},o.default.createElement("div",{className:"modal-backdrop",style:this.props.backdropStyle,onClick:this.closeDialog}),d)},r}(o.default.Component);t.default=f,d(f,"propTypes",{isOpen:r.default.bool,handleClose:r.default.func,uncloseable:r.default.bool,hideCloseButton:r.default.bool,handleKeyDown:r.default.func,hideBackdrop:r.default.bool,fullWidth:r.default.bool,fullHeight:r.default.bool,useUpdatedStyles:r.default.bool,noModalStyles:r.default.bool,children:r.default.node,fixedWidth:r.default.number,fixedHeight:r.default.number,useFlexbox:r.default.bool,bodyId:r.default.string,bodyClassName:r.default.string,style:r.default.object,soundPlayer:r.default.object,overflow:r.default.string,backdropStyle:r.default.object}),e.exports=t.default},(e,t,n)=>{e.exports=n(60)("native-function-to-string",Function.toString)},(e,t,n)=>{var r=n(40),o=n(79),i=n(62);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},(e,t,n)=>{var r=n(19),o=n(47).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},(e,t,n)=>{var r=n(85),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),l=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),u=r(e);return o<l?u*(o/l/a+1/i-1/i)*l*a:(n=(t=(1+a/i)*o)-(t-o))>s||n!=n?u*(1/0):u*n}},(e,t,n)=>{"use strict";var r=n(4),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!r((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},(e,t,n)=>{"use strict";var r=n(5),o=n(34),i="number";e.exports=function(e){if("string"!==e&&e!==i&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),e!=i)}},(e,t,n)=>{var r=n(6),o=n(63),i=n(7)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},(e,t,n)=>{"use strict";var r=n(97);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},(e,t,n)=>{n(11)&&"g"!=/./g.flags&&n(12).f(RegExp.prototype,"flags",{configurable:!0,get:n(65)})},(e,t,n)=>{"use strict";var r,o,i,a,s=n(39),l=n(3),u=n(22),c=n(56),d=n(0),f=n(6),p=n(23),h=n(51),m=n(68),g=n(57),y=n(99).set,v=n(154)(),b=n(155),_=n(156),w=n(69),E=n(124),O="Promise",S=l.TypeError,T=l.process,C=T&&T.versions,k=C&&C.v8||"",A=l.Promise,P="process"==c(T),x=function(){},I=o=b.f,R=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(7)("species")]=function(e){e(x,x)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(r){}}(),D=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;v((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?u(S("Promise-chain cycle")):(i=D(n))?i.call(n,l,u):l(n)):u(r)}catch(d){c&&!a&&c.exit(),u(d)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){y.call(l,(function(){var t,n,r,o=e._v,i=L(e);if(i&&(t=_((function(){P?T.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=P||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){y.call(l,(function(){var t;P?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=D(e))?v((function(){var r={_w:n,_d:!1};try{t.call(e,u(F,r,1),u(B,r,1))}catch(o){B.call(r,o)}})):(n._v=e,n._s=1,j(n,!1))}catch(r){B.call({_w:n,_d:!1},r)}}};R||(A=function(e){h(this,A,O,"_h"),p(e),r.call(this);try{e(u(F,this,1),u(B,this,1))}catch(t){B.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(52)(A.prototype,{then:function(e,t){var n=I(g(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=P?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(B,e,1)},b.f=I=function(e){return e===A||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!R,{Promise:A}),n(46)(A,O),n(50)(O),a=n(10).Promise,d(d.S+d.F*!R,O,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!R),O,{resolve:function(e){return E(s&&this===a?A:this,e)}}),d(d.S+d.F*!(R&&n(64)((function(e){A.all(e).catch(x)}))),O,{all:function(e){var t=this,n=I(t),r=n.resolve,o=n.reject,i=_((function(){var n=[],i=0,a=1;m(e,!1,(function(e){var s=i++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,o=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},(e,t,n)=>{var r=n(3),o=n(99).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(29)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(l&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){o.call(r,u)};else{var d=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},(e,t,n)=>{"use strict";var r=n(23);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},(e,t,n)=>{"use strict";var r=n(125),o=n(45),i="Map";e.exports=n(70)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},(e,t,n)=>{"use strict";var r=n(125),o=n(45);e.exports=n(70)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},(e,t,n)=>{"use strict";var r,o=n(3),i=n(26)(0),a=n(15),s=n(35),l=n(109),u=n(126),c=n(6),d=n(45),f=n(45),p=!o.ActiveXObject&&"ActiveXObject"in o,h="WeakMap",m=s.getWeak,g=Object.isExtensible,y=u.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=m(e);return!0===t?y(d(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,h),e,t)}},_=e.exports=n(70)(h,v,b,u,!0,!0);f&&p&&(l((r=u.getConstructor(v,h)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(e){var t=_.prototype,n=t[e];a(t,e,(function(t,o){if(c(t)&&!g(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)}))})))},(e,t,n)=>{"use strict";var r=n(63),o=n(6),i=n(8),a=n(22),s=n(7)("isConcatSpreadable");e.exports=function e(t,n,l,u,c,d,f,p){for(var h,m,g=c,y=0,v=!!f&&a(f,p,3);y<u;){if(y in l){if(h=v?v(l[y],y,n):l[y],m=!1,o(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&d>0)g=e(t,n,h,i(h.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=h}g++}y++}return g}},(e,t,n)=>{n(354),e.exports=n(105).f("asyncIterator")},e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?h:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function g(){}function y(){}function v(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(b=w);var E=v.prototype=g.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,s){var l=c(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return y.prototype=v,l(E,"constructor",v),l(v,"constructor",y),y.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},O(S.prototype),l(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(E),l(E,s,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},(e,t,n)=>{"use strict";var r=n(379),o=n(434),i=n(436);e.exports=function(e){var t,n,a=e.space,s=e.mustUseProperty||[],l=e.attributes||{},u=e.properties,c=e.transform,d={},f={};for(t in u)n=new i(t,c(l,t),u[t],a),-1!==s.indexOf(t)&&(n.mustUseProperty=!0),d[t]=n,f[r(t)]=t,f[r(n.attribute)]=t;return new o(d,f,a)}},(e,t,n)=>{e.exports=!n(182)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(2)),o=p(n(1)),i=p(n(535)),a=n(536),s=p(n(464)),l=p(n(554)),u=p(n(569)),c=p(n(466)),d=p(n(571)),f=p(n(641));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var g,y,v,b=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n),r.prototype.render=function(){var e=(this.props.openExternalLinksInNewTab?S:O).processSync(this.props.markdown).contents,t={};return this.props.className&&(t.className=this.props.className),e&&"div"===e.type&&!Object.keys(t).length?e:o.default.createElement("div",t,e)},r}(o.default.Component);g=b,y="propTypes",v={markdown:r.default.string.isRequired,openExternalLinksInNewTab:r.default.bool,className:r.default.string},y in g?Object.defineProperty(g,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[y]=v;var _=Object.assign({},d.default);_.attributes.img.push("height","width"),_.tagNames.push("span"),_.attributes.span=["dataUrl","className"],_.attributes["*"].push("style","className"),_.clobber=[];var w=["block","functional_input","mutation","next","statement","title","field","value","xml"];_.tagNames=_.tagNames.concat(w);var E={};w.forEach((function(e){_.attributes[e]=["block_text","id","inline","name","type"],E[e]=function(t){var n=e;return o.default.createElement(n,h({is:e},t))}}));var O=i.default.create().getParser().use([a.expandableImages,a.visualCodeBlock,a.xmlAsTopLevelBlock,a.details]).use(s.default,{allowDangerousHTML:!0}).use(l.default).use(u.default,_).use(c.default,{createElement:o.default.createElement,components:E}),S=O().use(f.default,{links:"all"}),T=b;t.default=T,e.exports=t.default},(e,t)=>{(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},(e,t)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},(e,t,n)=>{"use strict";var r=n(206);function o(e,t){return t?r(e):encodeURIComponent(e)}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),void 0===t[r]?t[r]=o:Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]})),t):t},t.stringify=function(e,t){var n=!1!==(t=t||{}).strict;return e?Object.keys(e).sort().map((function(t){var r=e[t];if(void 0===r)return"";if(null===r)return t;if(Array.isArray(r)){var i=[];return r.slice().sort().forEach((function(e){void 0!==e&&(null===e?i.push(o(t,n)):i.push(o(t,n)+"="+o(e,n)))})),i.join("&")}return o(t,n)+"="+o(r,n)})).filter((function(e){return e.length>0})).join("&"):""}},e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=i[u]||0,d="".concat(u," ").concat(c);i[u]=c+1;var f=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),u=0;u<i.length;u++){var c=n(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},(e,t)=>{"use strict";var n,r,o,i;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var l=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};t.SPECIAL_ELEMENTS=(a(i={},s.HTML,(a(n={},l.ADDRESS,!0),a(n,l.APPLET,!0),a(n,l.AREA,!0),a(n,l.ARTICLE,!0),a(n,l.ASIDE,!0),a(n,l.BASE,!0),a(n,l.BASEFONT,!0),a(n,l.BGSOUND,!0),a(n,l.BLOCKQUOTE,!0),a(n,l.BODY,!0),a(n,l.BR,!0),a(n,l.BUTTON,!0),a(n,l.CAPTION,!0),a(n,l.CENTER,!0),a(n,l.COL,!0),a(n,l.COLGROUP,!0),a(n,l.DD,!0),a(n,l.DETAILS,!0),a(n,l.DIR,!0),a(n,l.DIV,!0),a(n,l.DL,!0),a(n,l.DT,!0),a(n,l.EMBED,!0),a(n,l.FIELDSET,!0),a(n,l.FIGCAPTION,!0),a(n,l.FIGURE,!0),a(n,l.FOOTER,!0),a(n,l.FORM,!0),a(n,l.FRAME,!0),a(n,l.FRAMESET,!0),a(n,l.H1,!0),a(n,l.H2,!0),a(n,l.H3,!0),a(n,l.H4,!0),a(n,l.H5,!0),a(n,l.H6,!0),a(n,l.HEAD,!0),a(n,l.HEADER,!0),a(n,l.HGROUP,!0),a(n,l.HR,!0),a(n,l.HTML,!0),a(n,l.IFRAME,!0),a(n,l.IMG,!0),a(n,l.INPUT,!0),a(n,l.LI,!0),a(n,l.LINK,!0),a(n,l.LISTING,!0),a(n,l.MAIN,!0),a(n,l.MARQUEE,!0),a(n,l.MENU,!0),a(n,l.META,!0),a(n,l.NAV,!0),a(n,l.NOEMBED,!0),a(n,l.NOFRAMES,!0),a(n,l.NOSCRIPT,!0),a(n,l.OBJECT,!0),a(n,l.OL,!0),a(n,l.P,!0),a(n,l.PARAM,!0),a(n,l.PLAINTEXT,!0),a(n,l.PRE,!0),a(n,l.SCRIPT,!0),a(n,l.SECTION,!0),a(n,l.SELECT,!0),a(n,l.SOURCE,!0),a(n,l.STYLE,!0),a(n,l.SUMMARY,!0),a(n,l.TABLE,!0),a(n,l.TBODY,!0),a(n,l.TD,!0),a(n,l.TEMPLATE,!0),a(n,l.TEXTAREA,!0),a(n,l.TFOOT,!0),a(n,l.TH,!0),a(n,l.THEAD,!0),a(n,l.TITLE,!0),a(n,l.TR,!0),a(n,l.TRACK,!0),a(n,l.UL,!0),a(n,l.WBR,!0),a(n,l.XMP,!0),n)),a(i,s.MATHML,(a(r={},l.MI,!0),a(r,l.MO,!0),a(r,l.MN,!0),a(r,l.MS,!0),a(r,l.MTEXT,!0),a(r,l.ANNOTATION_XML,!0),r)),a(i,s.SVG,(a(o={},l.TITLE,!0),a(o,l.FOREIGN_OBJECT,!0),a(o,l.DESC,!0),o)),i)},(e,t,n)=>{var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(h){}return o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var d=l[c].split("="),f=d.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var p=d[0].replace(u,decodeURIComponent);if(f=n.read?n.read(f,p):n(f,p)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(h){}if(t===p){a=f;break}t||(a[p]=f)}catch(h){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return window.locales&&window.locales[e]?window.locales[e]:(console.warn("Translations must be loaded into the global scope before access. Falling back on an empty translation object. This page may break due to missing translations."),{})},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!o.default.isEnabled(o.default.I18N_TRACKING))return e;var n={};return Object.keys(e).forEach((function(r,o){n[r]=function(n){var o=e[r](n);return function(e,t){if(!e||!t)return;(0,i.getI18nStringTrackerWorker)().log(e,t)}(r,t),o}})),n};var r,o=(r=n(138))&&r.__esModule?r:{default:r},i=n(453);e.exports=t.default},e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},e=>{"use strict";var t={};function n(e,r,o){var i,a,s,l,u,c="";for("string"!=typeof r&&(o=r,r=n.defaultChars),void 0===o&&(o=!0),u=function(e){var n,r,o=t[e];if(o)return o;for(o=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)o[e.charCodeAt(n)]=e[n];return o}(r),i=0,a=e.length;i<a;i++)if(s=e.charCodeAt(i),o&&37===s&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(s<128)c+=u[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a&&(l=e.charCodeAt(i+1))>=56320&&l<=57343){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},e=>{"use strict";e.exports=JSON.parse('{"html":"http://www.w3.org/1999/xhtml","mathml":"http://www.w3.org/1998/Math/MathML","svg":"http://www.w3.org/2000/svg","xlink":"http://www.w3.org/1999/xlink","xml":"http://www.w3.org/XML/1998/namespace","xmlns":"http://www.w3.org/2000/xmlns/"}')},(e,t)=>{"use strict";var n,r,o,i,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(n){throw setTimeout(u,0),n}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(u,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},i=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var g=f.now();t.unstable_now=function(){return f.now()-g}}var y=!1,v=null,b=-1,_=5,w=0;i=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,O=E.port2;E.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+_;try{v(!0,e)?O.postMessage(null):(y=!1,v=null)}catch(n){throw O.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,O.postMessage(null))},r=function(e,n){b=p((function(){e(t.unstable_now())}),n)},o=function(){h(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<k(o,t)))break e;e[r]=t,e[n]=o,n=r}}function T(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],P=[],x=1,I=null,R=3,D=!1,j=!1,N=!1;function L(e){for(var t=T(P);null!==t;){if(null===t.callback)C(P);else{if(!(t.startTime<=e))break;C(P),t.sortIndex=t.expirationTime,S(A,t)}t=T(P)}}function M(e){if(N=!1,L(e),!j)if(null!==T(A))j=!0,n(B);else{var t=T(P);null!==t&&r(M,t.startTime-e)}}function B(e,n){j=!1,N&&(N=!1,o()),D=!0;var a=R;try{for(L(n),I=T(A);null!==I&&(!(I.expirationTime>n)||e&&!i());){var s=I.callback;if(null!==s){I.callback=null,R=I.priorityLevel;var l=s(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?I.callback=l:I===T(A)&&C(A),L(n)}else C(A);I=T(A)}if(null!==I)var u=!0;else{var c=T(P);null!==c&&r(M,c.startTime-n),u=!1}return u}finally{I=null,R=a,D=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||D||(j=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:F(e)}else a=F(e),l=s;return e={id:x++,callback:i,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(P,e),null===T(A)&&e===T(P)&&(N?o():N=!0,r(M,l-s))):(e.sortIndex=a,S(A,e),j||D||(j=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=T(A);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},(e,t,n)=>{"use strict";var r=n(187);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,l=[],u=!1,c=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},(e,t,n)=>{"use strict";var r=n(557),o=n(421),i=n(558),a=n(377),s=o.CODE_POINTS,l=o.CODE_POINT_SEQUENCES,u={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},c="DATA_STATE",d="RCDATA_STATE",f="RAWTEXT_STATE",p="SCRIPT_DATA_STATE",h="PLAINTEXT_STATE",m="TAG_OPEN_STATE",g="END_TAG_OPEN_STATE",y="TAG_NAME_STATE",v="RCDATA_LESS_THAN_SIGN_STATE",b="RCDATA_END_TAG_OPEN_STATE",_="RCDATA_END_TAG_NAME_STATE",w="RAWTEXT_LESS_THAN_SIGN_STATE",E="RAWTEXT_END_TAG_OPEN_STATE",O="RAWTEXT_END_TAG_NAME_STATE",S="SCRIPT_DATA_LESS_THAN_SIGN_STATE",T="SCRIPT_DATA_END_TAG_OPEN_STATE",C="SCRIPT_DATA_END_TAG_NAME_STATE",k="SCRIPT_DATA_ESCAPE_START_STATE",A="SCRIPT_DATA_ESCAPE_START_DASH_STATE",P="SCRIPT_DATA_ESCAPED_STATE",x="SCRIPT_DATA_ESCAPED_DASH_STATE",I="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",R="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",D="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",j="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",N="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",L="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",M="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",B="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",F="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",H="BEFORE_ATTRIBUTE_NAME_STATE",W="ATTRIBUTE_NAME_STATE",q="AFTER_ATTRIBUTE_NAME_STATE",z="BEFORE_ATTRIBUTE_VALUE_STATE",V="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",G="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",$="ATTRIBUTE_VALUE_UNQUOTED_STATE",K="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",Y="SELF_CLOSING_START_TAG_STATE",X="BOGUS_COMMENT_STATE",J="MARKUP_DECLARATION_OPEN_STATE",Z="COMMENT_START_STATE",Q="COMMENT_START_DASH_STATE",ee="COMMENT_STATE",te="COMMENT_LESS_THAN_SIGN_STATE",ne="COMMENT_LESS_THAN_SIGN_BANG_STATE",re="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",oe="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ie="COMMENT_END_DASH_STATE",ae="COMMENT_END_STATE",se="COMMENT_END_BANG_STATE",le="DOCTYPE_STATE",ue="BEFORE_DOCTYPE_NAME_STATE",ce="DOCTYPE_NAME_STATE",de="AFTER_DOCTYPE_NAME_STATE",fe="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",pe="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",he="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",me="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",ge="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ye="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",ve="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",be="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",_e="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",we="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Ee="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Oe="BOGUS_DOCTYPE_STATE",Se="CDATA_SECTION_STATE",Te="CDATA_SECTION_BRACKET_STATE",Ce="CDATA_SECTION_END_STATE",ke="CHARACTER_REFERENCE_STATE",Ae="NAMED_CHARACTER_REFERENCE_STATE",Pe="AMBIGUOS_AMPERSAND_STATE",xe="NUMERIC_CHARACTER_REFERENCE_STATE",Ie="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Re="DECIMAL_CHARACTER_REFERENCE_START_STATE",De="HEXADEMICAL_CHARACTER_REFERENCE_STATE",je="DECIMAL_CHARACTER_REFERENCE_STATE",Ne="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Le(e){return e===s.SPACE||e===s.LINE_FEED||e===s.TABULATION||e===s.FORM_FEED}function Me(e){return e>=s.DIGIT_0&&e<=s.DIGIT_9}function Be(e){return e>=s.LATIN_CAPITAL_A&&e<=s.LATIN_CAPITAL_Z}function Fe(e){return e>=s.LATIN_SMALL_A&&e<=s.LATIN_SMALL_Z}function Ue(e){return Fe(e)||Be(e)}function He(e){return Ue(e)||Me(e)}function We(e){return e>=s.LATIN_CAPITAL_A&&e<=s.LATIN_CAPITAL_F}function qe(e){return e>=s.LATIN_SMALL_A&&e<=s.LATIN_SMALL_F}function ze(e){return e+32}function Ve(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function Ge(e){return String.fromCharCode(ze(e))}function $e(e,t){for(var n=i[++e],r=++e,o=r+n-1;r<=o;){var a=r+o>>>1,s=i[a];if(s<t)r=a+1;else{if(!(s>t))return i[a+n];o=a-1}}return-1}var Ke=function(){function e(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=c,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}var t=e.prototype;return t._err=function(){},t._errOnNextCodePoint=function(e){this._consume(),this._err(e),this._unconsume()},t.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},t.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},t.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},t._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:e.HIBERNATION_TOKEN}),!0}return!1},t._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},t._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},t._reconsumeInState=function(e){this.state=e,this._unconsume()},t._consumeSequenceIfMatch=function(e,t,n){for(var r=0,o=!0,i=e.length,a=0,l=t,u=void 0;a<i;a++){if(a>0&&(l=this._consume(),r++),l===s.EOF){o=!1;break}if(l!==(u=e[a])&&(n||l!==ze(u))){o=!1;break}}if(!o)for(;r--;)this._unconsume();return o},t._isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==l.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==l.SCRIPT_STRING[e])return!1;return!0},t._createStartTagToken=function(){this.currentToken={type:e.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}},t._createEndTagToken=function(){this.currentToken={type:e.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},t._createCommentToken=function(){this.currentToken={type:e.COMMENT_TOKEN,data:""}},t._createDoctypeToken=function(t){this.currentToken={type:e.DOCTYPE_TOKEN,name:t,forceQuirks:!1,publicId:null,systemId:null}},t._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},t._createEOFToken=function(){this.currentToken={type:e.EOF_TOKEN}},t._createAttr=function(e){this.currentAttr={name:e,value:""}},t._leaveAttrName=function(t){null===e.getTokenAttr(this.currentToken,this.currentAttr.name)?this.currentToken.attrs.push(this.currentAttr):this._err(a.duplicateAttribute),this.state=t},t._leaveAttrValue=function(e){this.state=e},t._emitCurrentToken=function(){this._emitCurrentCharacterToken();var t=this.currentToken;this.currentToken=null,t.type===e.START_TAG_TOKEN?this.lastStartTagName=t.tagName:t.type===e.END_TAG_TOKEN&&(t.attrs.length>0&&this._err(a.endTagWithAttributes),t.selfClosing&&this._err(a.endTagWithTrailingSolidus)),this.tokenQueue.push(t)},t._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},t._emitEOFToken=function(){this._createEOFToken(),this._emitCurrentToken()},t._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},t._emitCodePoint=function(t){var n=e.CHARACTER_TOKEN;Le(t)?n=e.WHITESPACE_CHARACTER_TOKEN:t===s.NULL&&(n=e.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(n,Ve(t))},t._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},t._emitChars=function(t){this._appendCharToCurrentCharacterToken(e.CHARACTER_TOKEN,t)},t._matchNamedCharacterReference=function(e){var t=null,n=1,r=$e(0,e);for(this.tempBuff.push(e);r>-1;){var o=i[r],a=o<7;a&&1&o&&(t=2&o?[i[++r],i[++r]]:[i[++r]],n=0);var l=this._consume();if(this.tempBuff.push(l),n++,l===s.EOF)break;r=a?4&o?$e(r,l):-1:l===o?++r:-1}for(;n--;)this.tempBuff.pop(),this._unconsume();return t},t._isCharacterReferenceInAttribute=function(){return this.returnState===V||this.returnState===G||this.returnState===$},t._isCharacterReferenceAttributeQuirk=function(e){if(!e&&this._isCharacterReferenceInAttribute()){var t=this._consume();return this._unconsume(),t===s.EQUALS_SIGN||He(t)}return!1},t._flushCodePointsConsumedAsCharacterReference=function(){if(this._isCharacterReferenceInAttribute())for(var e=0;e<this.tempBuff.length;e++)this.currentAttr.value+=Ve(this.tempBuff[e]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]},t.DATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===s.LESS_THAN_SIGN?this.state=m:e===s.AMPERSAND?(this.returnState=c,this.state=ke):e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitCodePoint(e)):e===s.EOF?this._emitEOFToken():this._emitCodePoint(e)},t.RCDATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===s.AMPERSAND?(this.returnState=d,this.state=ke):e===s.LESS_THAN_SIGN?this.state=v:e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?this._emitEOFToken():this._emitCodePoint(e)},t.RAWTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===s.LESS_THAN_SIGN?this.state=w:e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?this._emitEOFToken():this._emitCodePoint(e)},t.SCRIPT_DATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===s.LESS_THAN_SIGN?this.state=S:e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?this._emitEOFToken():this._emitCodePoint(e)},t.PLAINTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?this._emitEOFToken():this._emitCodePoint(e)},t.TAG_OPEN_STATE=function(e){e===s.EXCLAMATION_MARK?this.state=J:e===s.SOLIDUS?this.state=g:Ue(e)?(this._createStartTagToken(),this._reconsumeInState(y)):e===s.QUESTION_MARK?(this._err(a.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(X)):e===s.EOF?(this._err(a.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(a.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(c))},t.END_TAG_OPEN_STATE=function(e){Ue(e)?(this._createEndTagToken(),this._reconsumeInState(y)):e===s.GREATER_THAN_SIGN?(this._err(a.missingEndTagName),this.state=c):e===s.EOF?(this._err(a.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(a.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(X))},t.TAG_NAME_STATE=function(e){Le(e)?this.state=H:e===s.SOLIDUS?this.state=Y:e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):Be(e)?this.currentToken.tagName+=Ge(e):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.tagName+=o.REPLACEMENT_CHARACTER):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=Ve(e)},t.RCDATA_LESS_THAN_SIGN_STATE=function(e){e===s.SOLIDUS?(this.tempBuff=[],this.state=b):(this._emitChars("<"),this._reconsumeInState(d))},t.RCDATA_END_TAG_OPEN_STATE=function(e){Ue(e)?(this._createEndTagToken(),this._reconsumeInState(_)):(this._emitChars("</"),this._reconsumeInState(d))},t.RCDATA_END_TAG_NAME_STATE=function(e){if(Be(e))this.currentToken.tagName+=Ge(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=Ve(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=H);if(e===s.SOLIDUS)return void(this.state=Y);if(e===s.GREATER_THAN_SIGN)return this.state=c,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(d)}},t.RAWTEXT_LESS_THAN_SIGN_STATE=function(e){e===s.SOLIDUS?(this.tempBuff=[],this.state=E):(this._emitChars("<"),this._reconsumeInState(f))},t.RAWTEXT_END_TAG_OPEN_STATE=function(e){Ue(e)?(this._createEndTagToken(),this._reconsumeInState(O)):(this._emitChars("</"),this._reconsumeInState(f))},t.RAWTEXT_END_TAG_NAME_STATE=function(e){if(Be(e))this.currentToken.tagName+=Ge(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=Ve(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=H);if(e===s.SOLIDUS)return void(this.state=Y);if(e===s.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=c)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(f)}},t.SCRIPT_DATA_LESS_THAN_SIGN_STATE=function(e){e===s.SOLIDUS?(this.tempBuff=[],this.state=T):e===s.EXCLAMATION_MARK?(this.state=k,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(p))},t.SCRIPT_DATA_END_TAG_OPEN_STATE=function(e){Ue(e)?(this._createEndTagToken(),this._reconsumeInState(C)):(this._emitChars("</"),this._reconsumeInState(p))},t.SCRIPT_DATA_END_TAG_NAME_STATE=function(e){if(Be(e))this.currentToken.tagName+=Ge(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=Ve(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=H);if(e===s.SOLIDUS)return void(this.state=Y);if(e===s.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=c)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(p)}},t.SCRIPT_DATA_ESCAPE_START_STATE=function(e){e===s.HYPHEN_MINUS?(this.state=A,this._emitChars("-")):this._reconsumeInState(p)},t.SCRIPT_DATA_ESCAPE_START_DASH_STATE=function(e){e===s.HYPHEN_MINUS?(this.state=I,this._emitChars("-")):this._reconsumeInState(p)},t.SCRIPT_DATA_ESCAPED_STATE=function(e){e===s.HYPHEN_MINUS?(this.state=x,this._emitChars("-")):e===s.LESS_THAN_SIGN?this.state=R:e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)},t.SCRIPT_DATA_ESCAPED_DASH_STATE=function(e){e===s.HYPHEN_MINUS?(this.state=I,this._emitChars("-")):e===s.LESS_THAN_SIGN?this.state=R:e===s.NULL?(this._err(a.unexpectedNullCharacter),this.state=P,this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=P,this._emitCodePoint(e))},t.SCRIPT_DATA_ESCAPED_DASH_DASH_STATE=function(e){e===s.HYPHEN_MINUS?this._emitChars("-"):e===s.LESS_THAN_SIGN?this.state=R:e===s.GREATER_THAN_SIGN?(this.state=p,this._emitChars(">")):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.state=P,this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=P,this._emitCodePoint(e))},t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===s.SOLIDUS?(this.tempBuff=[],this.state=D):Ue(e)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(N)):(this._emitChars("<"),this._reconsumeInState(P))},t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE=function(e){Ue(e)?(this._createEndTagToken(),this._reconsumeInState(j)):(this._emitChars("</"),this._reconsumeInState(P))},t.SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE=function(e){if(Be(e))this.currentToken.tagName+=Ge(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=Ve(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=H);if(e===s.SOLIDUS)return void(this.state=Y);if(e===s.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=c)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(P)}},t.SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE=function(e){Le(e)||e===s.SOLIDUS||e===s.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?L:P,this._emitCodePoint(e)):Be(e)?(this.tempBuff.push(ze(e)),this._emitCodePoint(e)):Fe(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(P)},t.SCRIPT_DATA_DOUBLE_ESCAPED_STATE=function(e){e===s.HYPHEN_MINUS?(this.state=M,this._emitChars("-")):e===s.LESS_THAN_SIGN?(this.state=F,this._emitChars("<")):e===s.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)},t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE=function(e){e===s.HYPHEN_MINUS?(this.state=B,this._emitChars("-")):e===s.LESS_THAN_SIGN?(this.state=F,this._emitChars("<")):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.state=L,this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=L,this._emitCodePoint(e))},t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE=function(e){e===s.HYPHEN_MINUS?this._emitChars("-"):e===s.LESS_THAN_SIGN?(this.state=F,this._emitChars("<")):e===s.GREATER_THAN_SIGN?(this.state=p,this._emitChars(">")):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.state=L,this._emitChars(o.REPLACEMENT_CHARACTER)):e===s.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=L,this._emitCodePoint(e))},t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===s.SOLIDUS?(this.tempBuff=[],this.state=U,this._emitChars("/")):this._reconsumeInState(L)},t.SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE=function(e){Le(e)||e===s.SOLIDUS||e===s.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?P:L,this._emitCodePoint(e)):Be(e)?(this.tempBuff.push(ze(e)),this._emitCodePoint(e)):Fe(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(L)},t.BEFORE_ATTRIBUTE_NAME_STATE=function(e){Le(e)||(e===s.SOLIDUS||e===s.GREATER_THAN_SIGN||e===s.EOF?this._reconsumeInState(q):e===s.EQUALS_SIGN?(this._err(a.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=W):(this._createAttr(""),this._reconsumeInState(W)))},t.ATTRIBUTE_NAME_STATE=function(e){Le(e)||e===s.SOLIDUS||e===s.GREATER_THAN_SIGN||e===s.EOF?(this._leaveAttrName(q),this._unconsume()):e===s.EQUALS_SIGN?this._leaveAttrName(z):Be(e)?this.currentAttr.name+=Ge(e):e===s.QUOTATION_MARK||e===s.APOSTROPHE||e===s.LESS_THAN_SIGN?(this._err(a.unexpectedCharacterInAttributeName),this.currentAttr.name+=Ve(e)):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.name+=o.REPLACEMENT_CHARACTER):this.currentAttr.name+=Ve(e)},t.AFTER_ATTRIBUTE_NAME_STATE=function(e){Le(e)||(e===s.SOLIDUS?this.state=Y:e===s.EQUALS_SIGN?this.state=z:e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(W)))},t.BEFORE_ATTRIBUTE_VALUE_STATE=function(e){Le(e)||(e===s.QUOTATION_MARK?this.state=V:e===s.APOSTROPHE?this.state=G:e===s.GREATER_THAN_SIGN?(this._err(a.missingAttributeValue),this.state=c,this._emitCurrentToken()):this._reconsumeInState($))},t.ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE=function(e){e===s.QUOTATION_MARK?this.state=K:e===s.AMPERSAND?(this.returnState=V,this.state=ke):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.value+=o.REPLACEMENT_CHARACTER):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Ve(e)},t.ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE=function(e){e===s.APOSTROPHE?this.state=K:e===s.AMPERSAND?(this.returnState=G,this.state=ke):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.value+=o.REPLACEMENT_CHARACTER):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Ve(e)},t.ATTRIBUTE_VALUE_UNQUOTED_STATE=function(e){Le(e)?this._leaveAttrValue(H):e===s.AMPERSAND?(this.returnState=$,this.state=ke):e===s.GREATER_THAN_SIGN?(this._leaveAttrValue(c),this._emitCurrentToken()):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.value+=o.REPLACEMENT_CHARACTER):e===s.QUOTATION_MARK||e===s.APOSTROPHE||e===s.LESS_THAN_SIGN||e===s.EQUALS_SIGN||e===s.GRAVE_ACCENT?(this._err(a.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=Ve(e)):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Ve(e)},t.AFTER_ATTRIBUTE_VALUE_QUOTED_STATE=function(e){Le(e)?this._leaveAttrValue(H):e===s.SOLIDUS?this._leaveAttrValue(Y):e===s.GREATER_THAN_SIGN?(this._leaveAttrValue(c),this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):(this._err(a.missingWhitespaceBetweenAttributes),this._reconsumeInState(H))},t.SELF_CLOSING_START_TAG_STATE=function(e){e===s.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInTag),this._emitEOFToken()):(this._err(a.unexpectedSolidusInTag),this._reconsumeInState(H))},t.BOGUS_COMMENT_STATE=function(e){e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):e===s.EOF?(this._emitCurrentToken(),this._emitEOFToken()):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.data+=o.REPLACEMENT_CHARACTER):this.currentToken.data+=Ve(e)},t.MARKUP_DECLARATION_OPEN_STATE=function(e){this._consumeSequenceIfMatch(l.DASH_DASH_STRING,e,!0)?(this._createCommentToken(),this.state=Z):this._consumeSequenceIfMatch(l.DOCTYPE_STRING,e,!1)?this.state=le:this._consumeSequenceIfMatch(l.CDATA_START_STRING,e,!0)?this.allowCDATA?this.state=Se:(this._err(a.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=X):this._ensureHibernation()||(this._err(a.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(X))},t.COMMENT_START_STATE=function(e){e===s.HYPHEN_MINUS?this.state=Q:e===s.GREATER_THAN_SIGN?(this._err(a.abruptClosingOfEmptyComment),this.state=c,this._emitCurrentToken()):this._reconsumeInState(ee)},t.COMMENT_START_DASH_STATE=function(e){e===s.HYPHEN_MINUS?this.state=ae:e===s.GREATER_THAN_SIGN?(this._err(a.abruptClosingOfEmptyComment),this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ee))},t.COMMENT_STATE=function(e){e===s.HYPHEN_MINUS?this.state=ie:e===s.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=te):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.data+=o.REPLACEMENT_CHARACTER):e===s.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=Ve(e)},t.COMMENT_LESS_THAN_SIGN_STATE=function(e){e===s.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=ne):e===s.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(ee)},t.COMMENT_LESS_THAN_SIGN_BANG_STATE=function(e){e===s.HYPHEN_MINUS?this.state=re:this._reconsumeInState(ee)},t.COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE=function(e){e===s.HYPHEN_MINUS?this.state=oe:this._reconsumeInState(ie)},t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE=function(e){e!==s.GREATER_THAN_SIGN&&e!==s.EOF&&this._err(a.nestedComment),this._reconsumeInState(ae)},t.COMMENT_END_DASH_STATE=function(e){e===s.HYPHEN_MINUS?this.state=ae:e===s.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ee))},t.COMMENT_END_STATE=function(e){e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):e===s.EXCLAMATION_MARK?this.state=se:e===s.HYPHEN_MINUS?this.currentToken.data+="-":e===s.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(ee))},t.COMMENT_END_BANG_STATE=function(e){e===s.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ie):e===s.GREATER_THAN_SIGN?(this._err(a.incorrectlyClosedComment),this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(ee))},t.DOCTYPE_STATE=function(e){Le(e)?this.state=ue:e===s.GREATER_THAN_SIGN?this._reconsumeInState(ue):e===s.EOF?(this._err(a.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(ue))},t.BEFORE_DOCTYPE_NAME_STATE=function(e){Le(e)||(Be(e)?(this._createDoctypeToken(Ge(e)),this.state=ce):e===s.NULL?(this._err(a.unexpectedNullCharacter),this._createDoctypeToken(o.REPLACEMENT_CHARACTER),this.state=ce):e===s.GREATER_THAN_SIGN?(this._err(a.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=c):e===s.EOF?(this._err(a.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(Ve(e)),this.state=ce))},t.DOCTYPE_NAME_STATE=function(e){Le(e)?this.state=de:e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):Be(e)?this.currentToken.name+=Ge(e):e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.name+=o.REPLACEMENT_CHARACTER):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=Ve(e)},t.AFTER_DOCTYPE_NAME_STATE=function(e){Le(e)||(e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(l.PUBLIC_STRING,e,!1)?this.state=fe:this._consumeSequenceIfMatch(l.SYSTEM_STRING,e,!1)?this.state=ve:this._ensureHibernation()||(this._err(a.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe)))},t.AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE=function(e){Le(e)?this.state=pe:e===s.QUOTATION_MARK?(this._err(a.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=he):e===s.APOSTROPHE?(this._err(a.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=me):e===s.GREATER_THAN_SIGN?(this._err(a.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe))},t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE=function(e){Le(e)||(e===s.QUOTATION_MARK?(this.currentToken.publicId="",this.state=he):e===s.APOSTROPHE?(this.currentToken.publicId="",this.state=me):e===s.GREATER_THAN_SIGN?(this._err(a.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe)))},t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===s.QUOTATION_MARK?this.state=ge:e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.publicId+=o.REPLACEMENT_CHARACTER):e===s.GREATER_THAN_SIGN?(this._err(a.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=c):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Ve(e)},t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===s.APOSTROPHE?this.state=ge:e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.publicId+=o.REPLACEMENT_CHARACTER):e===s.GREATER_THAN_SIGN?(this._err(a.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=c):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Ve(e)},t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE=function(e){Le(e)?this.state=ye:e===s.GREATER_THAN_SIGN?(this.state=c,this._emitCurrentToken()):e===s.QUOTATION_MARK?(this._err(a.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=_e):e===s.APOSTROPHE?(this._err(a.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=we):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe))},t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE=function(e){Le(e)||(e===s.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=c):e===s.QUOTATION_MARK?(this.currentToken.systemId="",this.state=_e):e===s.APOSTROPHE?(this.currentToken.systemId="",this.state=we):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe)))},t.AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE=function(e){Le(e)?this.state=be:e===s.QUOTATION_MARK?(this._err(a.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=_e):e===s.APOSTROPHE?(this._err(a.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=we):e===s.GREATER_THAN_SIGN?(this._err(a.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe))},t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){Le(e)||(e===s.QUOTATION_MARK?(this.currentToken.systemId="",this.state=_e):e===s.APOSTROPHE?(this.currentToken.systemId="",this.state=we):e===s.GREATER_THAN_SIGN?(this._err(a.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=c,this._emitCurrentToken()):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Oe)))},t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===s.QUOTATION_MARK?this.state=Ee:e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.systemId+=o.REPLACEMENT_CHARACTER):e===s.GREATER_THAN_SIGN?(this._err(a.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=c):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Ve(e)},t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===s.APOSTROPHE?this.state=Ee:e===s.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.systemId+=o.REPLACEMENT_CHARACTER):e===s.GREATER_THAN_SIGN?(this._err(a.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=c):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Ve(e)},t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){Le(e)||(e===s.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=c):e===s.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Oe)))},t.BOGUS_DOCTYPE_STATE=function(e){e===s.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=c):e===s.NULL?this._err(a.unexpectedNullCharacter):e===s.EOF&&(this._emitCurrentToken(),this._emitEOFToken())},t.CDATA_SECTION_STATE=function(e){e===s.RIGHT_SQUARE_BRACKET?this.state=Te:e===s.EOF?(this._err(a.eofInCdata),this._emitEOFToken()):this._emitCodePoint(e)},t.CDATA_SECTION_BRACKET_STATE=function(e){e===s.RIGHT_SQUARE_BRACKET?this.state=Ce:(this._emitChars("]"),this._reconsumeInState(Se))},t.CDATA_SECTION_END_STATE=function(e){e===s.GREATER_THAN_SIGN?this.state=c:e===s.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Se))},t.CHARACTER_REFERENCE_STATE=function(e){this.tempBuff=[s.AMPERSAND],e===s.NUMBER_SIGN?(this.tempBuff.push(e),this.state=xe):He(e)?this._reconsumeInState(Ae):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))},t.NAMED_CHARACTER_REFERENCE_STATE=function(e){var t=this._matchNamedCharacterReference(e);if(this._ensureHibernation())this.tempBuff=[s.AMPERSAND];else if(t){var n=this.tempBuff[this.tempBuff.length-1]===s.SEMICOLON;this._isCharacterReferenceAttributeQuirk(n)||(n||this._errOnNextCodePoint(a.missingSemicolonAfterCharacterReference),this.tempBuff=t),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=Pe},t.AMBIGUOS_AMPERSAND_STATE=function(e){He(e)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=Ve(e):this._emitCodePoint(e):(e===s.SEMICOLON&&this._err(a.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))},t.NUMERIC_CHARACTER_REFERENCE_STATE=function(e){this.charRefCode=0,e===s.LATIN_SMALL_X||e===s.LATIN_CAPITAL_X?(this.tempBuff.push(e),this.state=Ie):this._reconsumeInState(Re)},t.HEXADEMICAL_CHARACTER_REFERENCE_START_STATE=function(e){!function(e){return Me(e)||We(e)||qe(e)}(e)?(this._err(a.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)):this._reconsumeInState(De)},t.DECIMAL_CHARACTER_REFERENCE_START_STATE=function(e){Me(e)?this._reconsumeInState(je):(this._err(a.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))},t.HEXADEMICAL_CHARACTER_REFERENCE_STATE=function(e){We(e)?this.charRefCode=16*this.charRefCode+e-55:qe(e)?this.charRefCode=16*this.charRefCode+e-87:Me(e)?this.charRefCode=16*this.charRefCode+e-48:e===s.SEMICOLON?this.state=Ne:(this._err(a.missingSemicolonAfterCharacterReference),this._reconsumeInState(Ne))},t.DECIMAL_CHARACTER_REFERENCE_STATE=function(e){Me(e)?this.charRefCode=10*this.charRefCode+e-48:e===s.SEMICOLON?this.state=Ne:(this._err(a.missingSemicolonAfterCharacterReference),this._reconsumeInState(Ne))},t.NUMERIC_CHARACTER_REFERENCE_END_STATE=function(){if(this.charRefCode===s.NULL)this._err(a.nullCharacterReference),this.charRefCode=s.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(a.characterReferenceOutsideUnicodeRange),this.charRefCode=s.REPLACEMENT_CHARACTER;else if(o.isSurrogate(this.charRefCode))this._err(a.surrogateCharacterReference),this.charRefCode=s.REPLACEMENT_CHARACTER;else if(o.isUndefinedCodePoint(this.charRefCode))this._err(a.noncharacterCharacterReference);else if(o.isControlCodePoint(this.charRefCode)||this.charRefCode===s.CARRIAGE_RETURN){this._err(a.controlCharacterReference);var e=u[this.charRefCode];e&&(this.charRefCode=e)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)},e}();Ke.CHARACTER_TOKEN="CHARACTER_TOKEN",Ke.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ke.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ke.START_TAG_TOKEN="START_TAG_TOKEN",Ke.END_TAG_TOKEN="END_TAG_TOKEN",Ke.COMMENT_TOKEN="COMMENT_TOKEN",Ke.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ke.EOF_TOKEN="EOF_TOKEN",Ke.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ke.MODE={DATA:c,RCDATA:d,RAWTEXT:f,SCRIPT_DATA:p,PLAINTEXT:h},Ke.getTokenAttr=function(e,t){for(var n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},e.exports=Ke},(e,t,n)=>{"use strict";var r=n(433),o=n(435),i=n(438),a=n(439),s=n(442),l=n(563);e.exports=r([i,o,a,s,l])},(e,t,n)=>{"use strict";var r=n(433),o=n(435),i=n(438),a=n(439),s=n(442),l=n(564);e.exports=r([i,o,a,s,l])},(e,t,n)=>{"use strict";var r=n(379),o=n(436),i=n(437),a="data";e.exports=function(e,t){var n=r(t),f=t,p=i;if(n in e.normal)return e.property[e.normal[n]];n.length>4&&n.slice(0,4)===a&&s.test(t)&&("-"===t.charAt(4)?f=function(e){var t=e.slice(5).replace(l,d);return a+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(l.test(t))return e;"-"!==(t=t.replace(u,c)).charAt(0)&&(t="-"+t);return a+t}(t),p=o);return new p(f,t)};var s=/^data[-a-z0-9.:_]+$/i,l=/-[a-z]/g,u=/[A-Z]/g;function c(e){return"-"+e.toLowerCase()}function d(e){return e.charAt(1).toUpperCase()}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e.toLowerCase();var t=document.querySelector("script[data-".concat(e,"]"));try{return JSON.parse(t.dataset[e])}catch(n){throw console.error("Failed to parse script data for script",e),n}},t.hasScriptData=function(e){return!!document.querySelector(e)}},e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,i){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},(e,t,n)=>{var r=n(576),o=n(448);e.exports=Object.keys||function(e){return r(e,o)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unitProgressType=t.studentType=t.studentLevelProgressType=t.studentLessonProgressType=t.levelWithProgressType=t.levelType=t.lessonType=t.groupedLessonsType=t.PUZZLE_PAGE_NONE=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(621);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.PUZZLE_PAGE_NONE=-1;var u=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired});t.studentType=u;var c={id:o.default.string.isRequired,levelNumber:o.default.number,bubbleText:o.default.string,kind:o.default.string,url:o.default.string,name:o.default.string,icon:o.default.string,isUnplugged:o.default.bool,isConceptLevel:o.default.bool,pageNumber:o.default.number};c.sublevels=o.default.arrayOf(o.default.shape(f));var d=o.default.shape(c);t.levelType=d;var f=o.default.shape(s(s({},c),{},{status:o.default.string.isRequired,paired:o.default.bool,isLocked:o.default.bool,isCurrentLevel:o.default.bool}));t.levelWithProgressType=f;var p={status:o.default.string.isRequired,result:o.default.number.isRequired,locked:o.default.bool.isRequired,paired:o.default.bool.isRequired,timeSpent:o.default.number,lastTimestamp:o.default.number,teacherFeedbackReviewState:o.default.oneOf(Object.keys(i.ReviewStates))};p.pages=o.default.arrayOf(o.default.shape(p));var h=o.default.shape(p);t.studentLevelProgressType=h;var m=o.default.objectOf(h);t.unitProgressType=m;var g=o.default.shape({name:o.default.string.isRequired,id:o.default.number.isRequired,lockable:o.default.bool.isRequired,lessonNumber:o.default.number,lesson_plan_html_url:o.default.string,lesson_feedback_url:o.default.string,isFocusArea:o.default.bool.isRequired,description_student:o.default.string,description_teacher:o.default.string});t.lessonType=g;var y=o.default.shape({incompletePercent:o.default.number.isRequired,imperfectPercent:o.default.number.isRequired,completedPercent:o.default.number.isRequired,timeSpent:o.default.number.isRequired,lastTimestamp:o.default.number.isRequired});t.studentLessonProgressType=y;var v={id:o.default.number,displayName:o.default.string,bigQuestions:o.default.string,description:o.default.string},b=o.default.shape({lessonGroup:o.default.shape(v),lessons:o.default.arrayOf(g).isRequired,levelsByLesson:o.default.arrayOf(o.default.arrayOf(f)).isRequired});t.groupedLessonsType=b},(e,t,n)=>{var r=n(456)("wks"),o=n(458),i=n(168).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),d=6;d<u;d++)c[d-6]=arguments[d];return e.apply(void 0,[n,r,s,i,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=void 0;var o=r(n(167)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):i(e,t)}:i;function i(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=o,e.exports=t.default},(e,t,n)=>{"use strict";n.r(t),n.d(t,{Accordion:()=>se,Alert:()=>me,Badge:()=>ve,Breadcrumb:()=>Ie,BreadcrumbItem:()=>Pe,Button:()=>je,ButtonGroup:()=>Fe,ButtonToolbar:()=>He,Carousel:()=>nt,CarouselItem:()=>Ye,Checkbox:()=>it,Clearfix:()=>ut,CloseButton:()=>fe,Col:()=>gt,Collapse:()=>Pt,ControlLabel:()=>pt,Dropdown:()=>en,DropdownButton:()=>on,Fade:()=>cn,Form:()=>pn,FormControl:()=>On,FormGroup:()=>kn,Glyphicon:()=>Ze,Grid:()=>xn,HelpBlock:()=>Rn,Image:()=>Nn,InputGroup:()=>Hn,Jumbotron:()=>zn,Label:()=>Gn,ListGroup:()=>Zn,ListGroupItem:()=>Yn,Media:()=>yr,MenuItem:()=>_r,Modal:()=>eo,ModalBody:()=>jr,ModalDialog:()=>Mr,ModalFooter:()=>Ur,ModalHeader:()=>zr,ModalTitle:()=>$r,Nav:()=>oo,NavDropdown:()=>ko,NavItem:()=>xo,Navbar:()=>So,NavbarBrand:()=>so,Overlay:()=>Lo,OverlayTrigger:()=>qo,PageHeader:()=>Vo,PageItem:()=>Jo,Pager:()=>ei,Pagination:()=>ci,Panel:()=>qi,PanelGroup:()=>ae,Popover:()=>Gi,ProgressBar:()=>Xi,Radio:()=>Qi,ResponsiveEmbed:()=>na,Row:()=>ia,SafeAnchor:()=>Ce,SplitButton:()=>ca,Tab:()=>Aa,TabContainer:()=>ma,TabContent:()=>_a,TabPane:()=>Ta,Table:()=>Ia,Tabs:()=>Na,Thumbnail:()=>Ba,ToggleButton:()=>Ha,ToggleButtonGroup:()=>Va,Tooltip:()=>Ka,Well:()=>Xa,utils:()=>o});var r={};n.r(r),n.d(r,{_curry:()=>J,addStyle:()=>X,bsClass:()=>W,bsSizes:()=>z,bsStyles:()=>q,getClassSet:()=>V,prefix:()=>H,splitBsProps:()=>K,splitBsPropsAndOmit:()=>Y});var o={};n.r(o),n.d(o,{ValidComponentChildren:()=>Z,bootstrapUtils:()=>r,createChainedFunction:()=>Ee});var i=n(590),a=n.n(i);function s(){return s=a()||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var l=n(733),u=n.n(l);function c(e,t){e.prototype=u()(t.prototype),e.prototype.constructor=e,e.__proto__=t}var d=n(1),f=n(732),p=n.n(f);function h(e,t){if(null==e)return{};var n,r,o={},i=p()(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var m=n(9),g=n.n(m),y=n(2),v=n.n(y),b=n(189),_=n.n(b),w=function(){};function E(e,t){return void 0!==e[t]}function O(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}var C=n(734);function k(e,t,n){void 0===n&&(n=[]);var r,o=e.displayName||e.name||"Component",i=!!(r=e)&&("function"!=typeof r||r.prototype&&r.prototype.isReactComponent),a=Object.keys(t),s=a.map(O);!i&&n.length&&_()(!1);var l=function(r){var o,i;function l(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];(e=r.call.apply(r,[this].concat(i))||this).handlers=Object.create(null),a.forEach((function(n){var r=t[n];e.handlers[r]=function(t){if(e.props[r]){var o;e._notifying=!0;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];(o=e.props)[r].apply(o,[t].concat(a)),e._notifying=!1}e.unmounted||e.setState((function(e){var r,o=e.values;return{values:S(Object.create(null),o,(r={},r[n]=t,r))}}))}})),n.length&&(e.attachRef=function(t){e.inner=t});var l=Object.create(null);return a.forEach((function(t){l[t]=e.props[O(t)]})),e.state={values:l,prevProps:{}},e}i=r,(o=l).prototype=Object.create(i.prototype),o.prototype.constructor=o,T(o,i);var u=l.prototype;return u.shouldComponentUpdate=function(){return!this._notifying},l.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,o={values:S(Object.create(null),n),prevProps:{}};return a.forEach((function(t){o.prevProps[t]=e[t],!E(e,t)&&E(r,t)&&(o.values[t]=e[O(t)])})),o},u.componentWillUnmount=function(){this.unmounted=!0},u.render=function(){var t=this,n=this.props,r=n.innerRef,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["innerRef"]);s.forEach((function(e){delete o[e]}));var i={};return a.forEach((function(e){var n=t.props[e];i[e]=void 0!==n?n:t.state.values[e]})),d.createElement(e,S({},o,i,this.handlers,{ref:r||this.attachRef}))},l}(d.Component);(0,C.polyfill)(l),l.displayName="Uncontrolled("+o+")",l.propTypes=S({innerRef:function(){}},function(e,t){var n={};return Object.keys(e).forEach((function(e){n[O(e)]=w})),n}(t)),n.forEach((function(e){l.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var u=l;return d.forwardRef&&((u=d.forwardRef((function(e,t){return d.createElement(l,S({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=l.propTypes),u.ControlledComponent=e,u.deferControlTo=function(e,n,r){return void 0===n&&(n={}),k(e,S({},t,n),r)},u}var A=n(593),P=n.n(A),x="large",I="small",R="xsmall",D={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},j=["lg","md","sm","xs"],N={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},L="default",M="primary",B="link",F="inverse";function U(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[n.length-1];return"function"==typeof o?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function H(e,t){var n=(e.bsClass||"").trim();return null==n&&_()(!1),n+(t?"-"+t:"")}var W=U((function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=v().string,r.bsClass=e,t})),q=U((function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.STYLES||[],o=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var i=v().oneOf(r);(n.STYLES=r,i._values=r,n.propTypes=s({},o,{bsStyle:i}),void 0!==t)&&((n.defaultProps||(n.defaultProps={})).bsStyle=t);return n})),z=U((function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.SIZES||[],o=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var i=[];r.forEach((function(e){var t=D[e];t&&t!==e&&i.push(t),i.push(e)}));var a=v().oneOf(i);return a._values=i,n.SIZES=r,n.propTypes=s({},o,{bsSize:a}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n}));function V(e){var t,n=((t={})[H(e)]=!0,t);e.bsSize&&(n[H(e,D[e.bsSize]||e.bsSize)]=!0);return e.bsStyle&&(n[H(e,e.bsStyle)]=!0),n}function G(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function $(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function K(e){var t={};return P()(e).forEach((function(e){var n=e[0],r=e[1];$(n)||(t[n]=r)})),[G(e),t]}function Y(e,t){var n={};t.forEach((function(e){n[e]=!0}));var r={};return P()(e).forEach((function(e){var t=e[0],o=e[1];$(t)||n[t]||(r[t]=o)})),[G(e),r]}function X(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];q(n)(e)}var J=U;const Z={map:function(e,t,n){var r=0;return d.Children.map(e,(function(e){return d.isValidElement(e)?t.call(n,e,r++):e}))},forEach:function(e,t,n){var r=0;d.Children.forEach(e,(function(e){d.isValidElement(e)&&t.call(n,e,r++)}))},count:function(e){var t=0;return d.Children.forEach(e,(function(e){d.isValidElement(e)&&++t})),t},find:function(e,t,n){var r,o=0;return d.Children.forEach(e,(function(e){r||d.isValidElement(e)&&t.call(n,e,o++)&&(r=e)})),r},filter:function(e,t,n){var r=0,o=[];return d.Children.forEach(e,(function(e){d.isValidElement(e)&&t.call(n,e,r++)&&o.push(e)})),o},every:function(e,t,n){var r=0,o=!0;return d.Children.forEach(e,(function(e){o&&d.isValidElement(e)&&(t.call(n,e,r++)||(o=!1))})),o},some:function(e,t,n){var r=0,o=!1;return d.Children.forEach(e,(function(e){o||d.isValidElement(e)&&t.call(n,e,r++)&&(o=!0)})),o},toArray:function(e){var t=[];return d.Children.forEach(e,(function(e){d.isValidElement(e)&&t.push(e)})),t}};var Q=n(200),ee=n.n(Q),te=v().oneOfType([v().string,v().number]);var ne,re={accordion:v().bool,activeKey:v().any,onSelect:v().func,role:v().string,generateChildId:v().func,id:(ne="PanelGroup",function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=te.apply(void 0,[e].concat(r)))||e.id||(t=new Error("In order to properly initialize the "+ne+" in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to "+ne+" is required"))}return t})},oe={$bs_panelGroup:v().shape({getId:v().func,headerRole:v().string,panelRole:v().string,activeKey:v().any,onToggle:v().func})},ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e,n,r){n?t.props.onSelect(e,r):t.props.activeKey===e&&t.props.onSelect(null,r)},t}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.accordion,r=e.generateChildId,o=e.id,i=null;return n&&(i=r||function(e,t){return o?o+"-"+t+"-"+e:null}),{$bs_panelGroup:s({getId:i,headerRole:"tab",panelRole:"tabpanel"},n&&{activeKey:t,onToggle:this.handleSelect})}},n.render=function(){var e=this.props,t=e.accordion,n=e.className,r=e.children,o=Y(h(e,["accordion","className","children"]),["onSelect","activeKey"]),i=o[0],a=o[1];t&&(a.role=a.role||"tablist");var l=V(i);return d.createElement("div",s({},a,{className:g()(n,l)}),Z.map(r,(function(e){return(0,d.cloneElement)(e,{bsStyle:e.props.bsStyle||i.bsStyle})})))},t}(d.Component);ie.propTypes=re,ie.defaultProps={accordion:!1},ie.childContextTypes=oe;const ae=k(W("panel-group",ie),{activeKey:"onSelect"});const se=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return d.createElement(ae,s({},this.props,{accordion:!0}),this.props.children)},t}(d.Component);var le=n(395),ue=n.n(le),ce={label:v().string.isRequired,onClick:v().func},de=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.onClick;return d.createElement("button",{type:"button",className:"close",onClick:n},d.createElement("span",{"aria-hidden":"true"},"×"),d.createElement("span",{className:"sr-only"},t))},t}(d.Component);de.propTypes=ce,de.defaultProps={label:"Close"};const fe=de;var pe={onDismiss:v().func,closeLabel:v().string},he=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,r=t.closeLabel,o=t.className,i=t.children,a=K(h(t,["onDismiss","closeLabel","className","children"])),l=a[0],u=a[1],c=!!n,f=s({},V(l),((e={})[H(l,"dismissable")]=c,e));return d.createElement("div",s({},u,{role:"alert",className:g()(o,f)}),c&&d.createElement(fe,{onClick:n,label:r}),i)},t}(d.Component);he.propTypes=pe,he.defaultProps={closeLabel:"Close alert"};const me=q(ue()(N),N.INFO,W("alert",he));var ge={pullRight:v().bool},ye=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.hasContent=function(e){var t=!1;return d.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},n.render=function(){var e=this.props,t=e.pullRight,n=e.className,r=e.children,o=K(h(e,["pullRight","className","children"])),i=o[0],a=o[1],l=s({},V(i),{"pull-right":t,hidden:!this.hasContent(r)});return d.createElement("span",s({},a,{className:g()(n,l)}),r)},t}(d.Component);ye.propTypes=ge,ye.defaultProps={pullRight:!1};const ve=W("badge",ye);function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _e=n(54),we=n.n(_e);const Ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)};var Oe={href:v().string,onClick:v().func,onKeyDown:v().func,disabled:v().bool,role:v().string,tabIndex:v().oneOfType([v().number,v().string]),componentClass:we()};function Se(e){return!e||"#"===e.trim()}var Te=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleClick=r.handleClick.bind(be(be(r))),r.handleKeyDown=r.handleKeyDown.bind(be(be(r))),r}c(t,e);var n=t.prototype;return n.handleClick=function(e){var t=this.props,n=t.disabled,r=t.href,o=t.onClick;(n||Se(r))&&e.preventDefault(),n?e.stopPropagation():o&&o(e)},n.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},n.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,r=e.onKeyDown,o=h(e,["componentClass","disabled","onKeyDown"]);return Se(o.href)&&(o.role=o.role||"button",o.href=o.href||"#"),n&&(o.tabIndex=-1,o.style=s({pointerEvents:"none"},o.style)),d.createElement(t,s({},o,{onClick:this.handleClick,onKeyDown:Ee(this.handleKeyDown,r)}))},t}(d.Component);Te.propTypes=Oe,Te.defaultProps={componentClass:"a"};const Ce=Te;var ke={active:v().bool,href:v().string,title:v().node,target:v().string},Ae=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.href,r=e.title,o=e.target,i=e.className,a=h(e,["active","href","title","target","className"]),l={href:n,title:r,target:o};return d.createElement("li",{className:g()(i,{active:t})},t?d.createElement("span",a):d.createElement(Ce,s({},a,l)))},t}(d.Component);Ae.propTypes=ke,Ae.defaultProps={active:!1};const Pe=Ae;var xe=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("ol",s({},o,{role:"navigation","aria-label":"breadcrumbs",className:g()(t,i)}))},t}(d.Component);xe.Item=Pe;const Ie=W("breadcrumb",xe);var Re={active:v().bool,disabled:v().bool,block:v().bool,onClick:v().func,componentClass:we(),href:v().string,type:v().oneOf(["button","reset","submit"])},De=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return d.createElement(Ce,s({},e,{className:g()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,r=h(e,["componentClass"]),o=n||"button";return d.createElement(o,s({},r,{type:r.type||"button",className:t}))},n.render=function(){var e,t=this.props,n=t.active,r=t.block,o=t.className,i=K(h(t,["active","block","className"])),a=i[0],l=i[1],u=s({},V(a),((e={active:n})[H(a,"block")]=r,e)),c=g()(o,u);return l.href?this.renderAnchor(l,c):this.renderButton(l,c)},t}(d.Component);De.propTypes=Re,De.defaultProps={active:!1,block:!1,disabled:!1};const je=W("btn",z([x,I,R],q(ue()(N).concat([L,M,B]),L,De)));var Ne=n(396),Le=n.n(Ne),Me={vertical:v().bool,justified:v().bool,block:Le()(v().bool,(function(e){var t=e.block,n=e.vertical;return t&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null}))},Be=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,r=t.justified,o=t.vertical,i=t.className,a=K(h(t,["block","justified","vertical","className"])),l=a[0],u=a[1],c=s({},V(l),((e={})[H(l)]=!o,e[H(l,"vertical")]=o,e[H(l,"justified")]=r,e[H(je.defaultProps,"block")]=n,e));return d.createElement("div",s({},u,{className:g()(i,c)}))},t}(d.Component);Be.propTypes=Me,Be.defaultProps={block:!1,justified:!1,vertical:!1};const Fe=W("btn-group",Be);var Ue=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("div",s({},o,{role:"toolbar",className:g()(t,i)}))},t}(d.Component);const He=W("btn-toolbar",Ue);var We={componentClass:we()},qe=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);qe.propTypes=We,qe.defaultProps={componentClass:"div"};const ze=W("carousel-caption",qe);var Ve=n(36),Ge=n(1074),$e={direction:v().oneOf(["prev","next"]),onAnimateOutEnd:v().func,active:v().bool,animateIn:v().bool,animateOut:v().bool,index:v().number},Ke=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleAnimateOutEnd=r.handleAnimateOutEnd.bind(be(be(r))),r.state={direction:null},r.isUnmounted=!1,r}c(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.props.active!==e.active&&this.setState({direction:null})},n.componentDidUpdate=function(e){var t=this,n=this.props.active,r=e.active;!n&&r&&Ge.ZP.end(Ve.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout((function(){return t.startAnimation()}),20)},n.componentWillUnmount=function(){this.isUnmounted=!0},n.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},n.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},n.render=function(){var e=this.props,t=e.direction,n=e.active,r=e.animateIn,o=e.animateOut,i=e.className,a=h(e,["direction","active","animateIn","animateOut","className"]);delete a.onAnimateOutEnd,delete a.index;var l={item:!0,active:n&&!r||o};return t&&n&&r&&(l[t]=!0),this.state.direction&&(r||o)&&(l[this.state.direction]=!0),d.createElement("div",s({},a,{className:g()(i,l)}))},t}(d.Component);Ke.propTypes=$e,Ke.defaultProps={active:!1,animateIn:!1,animateOut:!1};const Ye=Ke;var Xe={glyph:v().string.isRequired},Je=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,r=t.className,o=K(h(t,["glyph","className"])),i=o[0],a=o[1],l=s({},V(i),((e={})[H(i,n)]=!0,e));return d.createElement("span",s({},a,{className:g()(r,l)}))},t}(d.Component);Je.propTypes=Xe;const Ze=W("glyphicon",Je);var Qe={slide:v().bool,indicators:v().bool,interval:v().number,controls:v().bool,pauseOnHover:v().bool,wrap:v().bool,onSelect:v().func,onSlideEnd:v().func,activeIndex:v().number,defaultActiveIndex:v().number,direction:v().oneOf(["prev","next"]),prevIcon:v().node,prevLabel:v().string,nextIcon:v().node,nextLabel:v().string},et={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:d.createElement(Ze,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:d.createElement(Ze,{glyph:"chevron-right"}),nextLabel:"Next"},tt=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).handleMouseOver=r.handleMouseOver.bind(be(be(r))),r.handleMouseOut=r.handleMouseOut.bind(be(be(r))),r.handlePrev=r.handlePrev.bind(be(be(r))),r.handleNext=r.handleNext.bind(be(be(r))),r.handleItemAnimateOutEnd=r.handleItemAnimateOutEnd.bind(be(be(r)));var o=t.defaultActiveIndex;return r.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},r.isUnmounted=!1,r}c(t,e);var n=t.prototype;return n.componentDidMount=function(){this.waitForNext()},n.UNSAFE_componentWillReceiveProps=function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)})),null==e.activeIndex&&this.state.activeIndex>=e.children.length&&this.setState({activeIndex:0,previousActiveIndex:null,direction:null})},n.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},n.getActiveIndex=function(){var e=this.props.activeIndex;return null!=e?e:this.state.activeIndex},n.getDirection=function(e,t){return e===t?null:e>t?"prev":"next"},n.handleItemAnimateOutEnd=function(){var e=this;this.setState({previousActiveIndex:null,direction:null},(function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()}))},n.handleMouseOut=function(){this.isPaused&&this.play()},n.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},n.handleNext=function(e){var t=this.getActiveIndex()+1;if(t>Z.count(this.props.children)-1){if(!this.props.wrap)return;t=0}this.select(t,e,"next")},n.handlePrev=function(e){var t=this.getActiveIndex()-1;if(t<0){if(!this.props.wrap)return;t=Z.count(this.props.children)-1}this.select(t,e,"prev")},n.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},n.play=function(){this.isPaused=!1,this.waitForNext()},n.select=function(e,t,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,e);var o=this.props.onSelect;if(o&&(o.length>1?(t?(t.persist(),t.direction=n):t={direction:n},o(e,t)):o(e)),null==this.props.activeIndex&&e!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:r,direction:n})}}},n.waitForNext=function(){var e=this.props,t=e.slide,n=e.interval,r=e.activeIndex;!this.isPaused&&t&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},n.renderControls=function(e){var t=e.wrap,n=e.children,r=e.activeIndex,o=e.prevIcon,i=e.nextIcon,a=e.bsProps,s=e.prevLabel,l=e.nextLabel,u=H(a,"control"),c=Z.count(n);return[(t||0!==r)&&d.createElement(Ce,{key:"prev",className:g()(u,"left"),onClick:this.handlePrev},o,s&&d.createElement("span",{className:"sr-only"},s)),(t||r!==c-1)&&d.createElement(Ce,{key:"next",className:g()(u,"right"),onClick:this.handleNext},i,l&&d.createElement("span",{className:"sr-only"},l))]},n.renderIndicators=function(e,t,n){var r=this,o=[];return Z.forEach(e,(function(e,n){o.push(d.createElement("li",{key:n,className:n===t?"active":null,onClick:function(e){return r.select(n,e)}})," ")})),d.createElement("ol",{className:H(n,"indicators")},o)},n.render=function(){var e=this,t=this.props,n=t.slide,r=t.indicators,o=t.controls,i=t.wrap,a=t.prevIcon,l=t.prevLabel,u=t.nextIcon,c=t.nextLabel,f=t.className,p=t.children,m=h(t,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),y=this.state,v=y.previousActiveIndex,b=y.direction,_=Y(m,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),w=_[0],E=_[1],O=this.getActiveIndex(),S=s({},V(w),{slide:n});return d.createElement("div",s({},E,{className:g()(f,S),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),r&&this.renderIndicators(p,O,w),d.createElement("div",{className:H(w,"inner")},Z.map(p,(function(t,r){var o=r===O,i=n&&r===v;return(0,d.cloneElement)(t,{active:o,index:r,animateOut:i,animateIn:o&&null!=v&&n,direction:b,onAnimateOutEnd:i?e.handleItemAnimateOutEnd:null})}))),o&&this.renderControls({wrap:i,children:p,activeIndex:O,prevIcon:a,prevLabel:l,nextIcon:u,nextLabel:c,bsProps:w}))},t}(d.Component);tt.propTypes=Qe,tt.defaultProps=et,tt.Caption=ze,tt.Item=Ye;const nt=W("carousel",tt);n(134);var rt={inline:v().bool,disabled:v().bool,title:v().string,validationState:v().oneOf(["success","warning","error",null]),inputRef:v().func},ot=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,o=e.inputRef,i=e.className,a=e.style,l=e.title,u=e.children,c=K(h(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),f=c[0],p=c[1],m=d.createElement("input",s({},p,{ref:o,type:"checkbox",disabled:n}));if(t){var y,v=((y={})[H(f,"inline")]=!0,y.disabled=n,y);return d.createElement("label",{className:g()(i,v),style:a,title:l},m,u)}var b=s({},V(f),{disabled:n});return r&&(b["has-"+r]=!0),d.createElement("div",{className:g()(i,b),style:a},d.createElement("label",{title:l},m,u))},t}(d.Component);ot.propTypes=rt,ot.defaultProps={inline:!1,disabled:!1,title:""};const it=W("checkbox",ot);function at(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var st={componentClass:we(),visibleXsBlock:v().bool,visibleSmBlock:v().bool,visibleMdBlock:v().bool,visibleLgBlock:v().bool},lt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return j.forEach((function(e){var t="visible"+at(e)+"Block";i[t]&&(a["visible-"+e+"-block"]=!0),delete i[t]})),d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);lt.propTypes=st,lt.defaultProps={componentClass:"div"};const ut=W("clearfix",lt);var ct={htmlFor:v().string,srOnly:v().bool},dt={$bs_formGroup:v().object},ft=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.htmlFor,o=void 0===r?t:r,i=n.srOnly,a=n.className,l=K(h(n,["htmlFor","srOnly","className"])),u=l[0],c=l[1],f=s({},V(u),{"sr-only":i});return d.createElement("label",s({},c,{htmlFor:o,className:g()(a,f)}))},t}(d.Component);ft.propTypes=ct,ft.defaultProps={srOnly:!1},ft.contextTypes=dt;const pt=W("control-label",ft);var ht={componentClass:we(),xs:v().number,sm:v().number,md:v().number,lg:v().number,xsHidden:v().bool,smHidden:v().bool,mdHidden:v().bool,lgHidden:v().bool,xsOffset:v().number,smOffset:v().number,mdOffset:v().number,lgOffset:v().number,xsPush:v().number,smPush:v().number,mdPush:v().number,lgPush:v().number,xsPull:v().number,smPull:v().number,mdPull:v().number,lgPull:v().number},mt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=[];return j.forEach((function(e){function t(t,n){var r=""+e+t,s=i[r];null!=s&&a.push(H(o,""+e+n+"-"+s)),delete i[r]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";i[n]&&a.push("hidden-"+e),delete i[n]})),d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);mt.propTypes=ht,mt.defaultProps={componentClass:"div"};const gt=W("col",mt);var yt,vt=n(1075),bt=n.n(vt),_t=n(376),wt=n.n(_t),Et=n(1480),Ot={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function St(e){e.offsetHeight}var Tt=((yt={})[Et.Wj]="collapse",yt[Et.Ix]="collapsing",yt[Et.d0]="collapsing",yt[Et.cn]="collapse in",yt),Ct={in:v().bool,mountOnEnter:v().bool,unmountOnExit:v().bool,appear:v().bool,timeout:v().number,onEnter:v().func,onEntering:v().func,onEntered:v().func,onExit:v().func,onExiting:v().func,onExited:v().func,dimension:v().oneOfType([v().oneOf(["height","width"]),v().func]),getDimensionValue:v().func,role:v().string},kt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+at(e)],r=Ot[e];return n+bt()(wt()(t,r[0]),10)+bt()(wt()(t,r[1]),10)}},At=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var n=t.getDimension();e.style[n]=t._getScrollDimensionValue(e,n)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var n=t.getDimension();e.style[n]=t.props.getDimensionValue(n,e)+"px",St(e)},t.handleExiting=function(e){e.style[t.getDimension()]="0"},t}c(t,e);var n=t.prototype;return n.getDimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},n._getScrollDimensionValue=function(e,t){return e["scroll"+at(t)]+"px"},n.render=function(){var e=this,t=this.props,n=t.onEnter,r=t.onEntering,o=t.onEntered,i=t.onExit,a=t.onExiting,l=t.className,u=t.children,c=h(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete c.dimension,delete c.getDimensionValue;var f=Ee(this.handleEnter,n),p=Ee(this.handleEntering,r),m=Ee(this.handleEntered,o),y=Ee(this.handleExit,i),v=Ee(this.handleExiting,a);return d.createElement(Et.ZP,s({},c,{"aria-expanded":c.role?c.in:null,onEnter:f,onEntering:p,onEntered:m,onExit:y,onExiting:v}),(function(t,n){return d.cloneElement(u,s({},n,{className:g()(l,u.props.className,Tt[t],"width"===e.getDimension()&&"width")}))}))},t}(d.Component);At.propTypes=Ct,At.defaultProps=kt;const Pt=At;var xt=n(496),It=n.n(xt),Rt=n(202),Dt=n.n(Rt),jt=n(429),Nt=n.n(jt),Lt=n(397),Mt=n.n(Lt),Bt=n(831),Ft=n.n(Bt),Ut=n(498),Ht=n.n(Ut),Wt={open:v().bool,pullRight:v().bool,onClose:v().func,labelledBy:v().oneOfType([v().string,v().number]),onSelect:v().func,rootCloseEvent:v().oneOf(["click","mousedown"])},qt=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleRootClose=n.handleRootClose.bind(be(be(n))),n.handleKeyDown=n.handleKeyDown.bind(be(be(n))),n}c(t,e);var n=t.prototype;return n.getFocusableMenuItems=function(){var e=Ve.findDOMNode(this);return e?Ft()(e.querySelectorAll('[tabIndex="-1"]')):[]},n.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},n.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[n===t.length-1?0:n+1].focus()},n.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[0===n?t.length-1:n-1].focus()},n.handleKeyDown=function(e){switch(e.keyCode){case Nt().codes.down:this.focusNext(),e.preventDefault();break;case Nt().codes.up:this.focusPrevious(),e.preventDefault();break;case Nt().codes.esc:case Nt().codes.tab:this.props.onClose(e,{source:"keydown"})}},n.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},n.render=function(){var e,t=this,n=this.props,r=n.open,o=n.pullRight,i=n.labelledBy,a=n.onSelect,l=n.className,u=n.rootCloseEvent,c=n.children,f=Y(h(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),p=f[0],m=f[1],y=s({},V(p),((e={})[H(p,"right")]=o,e));return d.createElement(Ht(),{disabled:!r,onRootClose:this.handleRootClose,event:u},d.createElement("ul",s({},m,{role:"menu",className:g()(l,y),"aria-labelledby":i}),Z.map(c,(function(e){return d.cloneElement(e,{onKeyDown:Ee(e.props.onKeyDown,t.handleKeyDown),onSelect:Ee(e.props.onSelect,a)})}))))},t}(d.Component);qt.propTypes=Wt,qt.defaultProps={bsRole:"menu",pullRight:!1};const zt=W("dropdown-menu",qt);var Vt={noCaret:v().bool,open:v().bool,title:v().string,useAnchor:v().bool},Gt=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,r=e.useAnchor,o=e.bsClass,i=e.className,a=e.children,l=h(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete l.bsRole;var u=r?Ce:je,c=!t;return d.createElement(u,s({},l,{role:"button",className:g()(i,o),"aria-haspopup":!0,"aria-expanded":n}),a||l.title,c&&" ",c&&d.createElement("span",{className:"caret"}))},t}(d.Component);Gt.propTypes=Vt,Gt.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};const $t=W("dropdown-toggle",Gt);var Kt=$t.defaultProps.bsRole,Yt=zt.defaultProps.bsRole,Xt={dropup:v().bool,id:Mt()(v().oneOfType([v().string,v().number])),componentClass:we(),children:Le()(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee()((function(e,n,r){var o;return t.every((function(t){return!!Z.some(e.children,(function(e){return e.props.bsRole===t}))||(o=t,!1)})),o?new Error("(children) "+r+" - Missing a required child with bsRole: "+o+". "+r+" must have at least one child of each of the following bsRoles: "+t.join(", ")):null}))}(Kt,Yt),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee()((function(e,n,r){var o;return t.every((function(t){return!(Z.filter(e.children,(function(e){return e.props.bsRole===t})).length>1)||(o=t,!1)})),o?new Error("(children) "+r+" - Duplicate children detected of bsRole: "+o+". Only one child each allowed with the following bsRoles: "+t.join(", ")):null}))}(Yt)),disabled:v().bool,pullRight:v().bool,open:v().bool,defaultOpen:v().bool,onToggle:v().func,onSelect:v().func,role:v().string,rootCloseEvent:v().oneOf(["click","mousedown"]),onMouseEnter:v().func,onMouseLeave:v().func},Jt={componentClass:Fe},Zt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleClick=r.handleClick.bind(be(be(r))),r.handleKeyDown=r.handleKeyDown.bind(be(be(r))),r.handleClose=r.handleClose.bind(be(be(r))),r._focusInDropdown=!1,r.lastOpenEventType=null,r}c(t,e);var n=t.prototype;return n.componentDidMount=function(){this.focusNextOnOpen()},n.UNSAFE_componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=Dt()(Ve.findDOMNode(this.menu),It()(document)))},n.componentDidUpdate=function(e){var t=this.props.open,n=e.open;t&&!n&&this.focusNextOnOpen(),!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},n.focus=function(){var e=Ve.findDOMNode(this.toggle);e&&e.focus&&e.focus()},n.focusNextOnOpen=function(){var e=this.menu;e&&e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},n.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},n.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},n.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case Nt().codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case Nt().codes.esc:case Nt().codes.tab:this.handleClose(e,{source:"keydown"})}},n.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},n.renderMenu=function(e,t){var n=this,r=t.id,o=t.onSelect,i=t.rootCloseEvent,a=h(t,["id","onSelect","rootCloseEvent"]),l=function(e){n.menu=e};return"string"==typeof e.ref||(l=Ee(e.ref,l)),(0,d.cloneElement)(e,s({},a,{ref:l,labelledBy:r,bsClass:H(a,"menu"),onClose:Ee(e.props.onClose,this.handleClose),onSelect:Ee(e.props.onSelect,o,(function(e,t){return n.handleClose(t,{source:"select"})})),rootCloseEvent:i}))},n.renderToggle=function(e,t){var n=this,r=function(e){n.toggle=e};return"string"==typeof e.ref||(r=Ee(e.ref,r)),(0,d.cloneElement)(e,s({},t,{ref:r,bsClass:H(t,"toggle"),onClick:Ee(e.props.onClick,this.handleClick),onKeyDown:Ee(e.props.onKeyDown,this.handleKeyDown)}))},n.render=function(){var e,t=this,n=this.props,r=n.componentClass,o=n.id,i=n.dropup,a=n.disabled,l=n.pullRight,u=n.open,c=n.onSelect,f=n.role,p=n.bsClass,m=n.className,y=n.rootCloseEvent,v=n.children,b=h(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete b.onToggle;var _=((e={})[p]=!0,e.open=u,e.disabled=a,e);return i&&(_[p]=!1,_.dropup=!0),d.createElement(r,s({},b,{className:g()(m,_)}),Z.map(v,(function(e){switch(e.props.bsRole){case Kt:return t.renderToggle(e,{id:o,disabled:a,open:u,role:f,bsClass:p});case Yt:return t.renderMenu(e,{id:o,open:u,pullRight:l,bsClass:p,onSelect:c,rootCloseEvent:y});default:return e}})))},t}(d.Component);Zt.propTypes=Xt,Zt.defaultProps=Jt,W("dropdown",Zt);var Qt=k(Zt,{open:"onToggle"});Qt.Toggle=$t,Qt.Menu=zt;const en=Qt;function tn(e,t){var n=t.propTypes,r={},o={};return P()(e).forEach((function(e){var t=e[0],i=e[1];n[t]?r[t]=i:o[t]=i})),[r,o]}var nn=s({},en.propTypes,{bsStyle:v().string,bsSize:v().string,title:v().node.isRequired,noCaret:v().bool,children:v().node}),rn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,o=e.children,i=tn(h(e,["bsSize","bsStyle","title","children"]),en.ControlledComponent),a=i[0],l=i[1];return d.createElement(en,s({},a,{bsSize:t,bsStyle:n}),d.createElement(en.Toggle,s({},l,{bsSize:t,bsStyle:n}),r),d.createElement(en.Menu,null,o))},t}(d.Component);rn.propTypes=nn;const on=rn;var an,sn={in:v().bool,mountOnEnter:v().bool,unmountOnExit:v().bool,appear:v().bool,timeout:v().number,onEnter:v().func,onEntering:v().func,onEntered:v().func,onExit:v().func,onExiting:v().func,onExited:v().func},ln=((an={})[Et.d0]="in",an[Et.cn]="in",an),un=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=h(e,["className","children"]);return d.createElement(Et.ZP,r,(function(e,r){return d.cloneElement(n,s({},r,{className:g()("fade",t,n.props.className,ln[e])}))}))},t}(d.Component);un.propTypes=sn,un.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1};const cn=un;var dn={horizontal:v().bool,inline:v().bool,componentClass:we()},fn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,r=e.componentClass,o=e.className,i=K(h(e,["horizontal","inline","componentClass","className"])),a=i[0],l=i[1],u=[];return t&&u.push(H(a,"horizontal")),n&&u.push(H(a,"inline")),d.createElement(r,s({},l,{className:g()(o,u)}))},t}(d.Component);fn.propTypes=dn,fn.defaultProps={horizontal:!1,inline:!1,componentClass:"form"};const pn=W("form",fn);var hn={$bs_formGroup:v().object},mn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,r){var o=this.getGlyph(e&&e.validationState);return o?d.createElement(Ze,s({},r,{glyph:o,className:g()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,r=K(h(e,["className","children"])),o=r[0],i=r[1],a=V(o);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,a,i);var l=d.Children.only(n);return d.cloneElement(l,s({},i,{className:g()(l.props.className,t,a)}))},t}(d.Component);mn.defaultProps={bsRole:"feedback"},mn.contextTypes=hn;const gn=W("form-control-feedback",mn);var yn={componentClass:we()},vn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);vn.propTypes=yn,vn.defaultProps={componentClass:"p"};const bn=W("form-control-static",vn);var _n={componentClass:we(),type:v().string,id:v().string,inputRef:v().func},wn={$bs_formGroup:v().object},En=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,n=t&&t.controlId,r=this.props,o=r.componentClass,i=r.type,a=r.id,l=void 0===a?n:a,u=r.inputRef,c=r.className,f=r.bsSize,p=K(h(r,["componentClass","type","id","inputRef","className","bsSize"])),m=p[0],y=p[1];("file"!==i&&(e=V(m)),f)&&(e[H({bsClass:"input"},D[f]||f)]=!0);return d.createElement(o,s({},y,{type:i,id:l,ref:u,className:g()(c,e)}))},t}(d.Component);En.propTypes=_n,En.defaultProps={componentClass:"input"},En.contextTypes=wn,En.Feedback=gn,En.Static=bn;const On=W("form-control",z([I,x],En));var Sn={controlId:v().string,validationState:v().oneOf(["success","warning","error",null])},Tn={$bs_formGroup:v().object.isRequired},Cn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},n.hasFeedback=function(e){var t=this;return Z.some(e,(function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)}))},n.render=function(){var e=this.props,t=e.validationState,n=e.className,r=e.children,o=Y(h(e,["validationState","className","children"]),["controlId"]),i=o[0],a=o[1],l=s({},V(i),{"has-feedback":this.hasFeedback(r)});return t&&(l["has-"+t]=!0),d.createElement("div",s({},a,{className:g()(n,l)}),r)},t}(d.Component);Cn.propTypes=Sn,Cn.childContextTypes=Tn;const kn=W("form-group",z([x,I],Cn));var An={fluid:v().bool,componentClass:we()},Pn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,r=e.className,o=K(h(e,["fluid","componentClass","className"])),i=o[0],a=o[1],l=H(i,t&&"fluid");return d.createElement(n,s({},a,{className:g()(r,l)}))},t}(d.Component);Pn.propTypes=An,Pn.defaultProps={componentClass:"div",fluid:!1};const xn=W("container",Pn);var In=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("span",s({},o,{className:g()(t,i)}))},t}(d.Component);const Rn=W("help-block",In);var Dn={responsive:v().bool,rounded:v().bool,circle:v().bool,thumbnail:v().bool},jn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.responsive,r=t.rounded,o=t.circle,i=t.thumbnail,a=t.className,l=K(h(t,["responsive","rounded","circle","thumbnail","className"])),u=l[0],c=l[1],f=((e={})[H(u,"responsive")]=n,e[H(u,"rounded")]=r,e[H(u,"circle")]=o,e[H(u,"thumbnail")]=i,e);return d.createElement("img",s({},c,{className:g()(a,f)}))},t}(d.Component);jn.propTypes=Dn,jn.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};const Nn=W("img",jn);var Ln=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("span",s({},o,{className:g()(t,i)}))},t}(d.Component);const Mn=W("input-group-addon",Ln);var Bn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("span",s({},o,{className:g()(t,i)}))},t}(d.Component);const Fn=W("input-group-btn",Bn);var Un=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("span",s({},o,{className:g()(t,i)}))},t}(d.Component);Un.Addon=Mn,Un.Button=Fn;const Hn=W("input-group",z([x,I],Un));var Wn={componentClass:we()},qn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);qn.propTypes=Wn,qn.defaultProps={componentClass:"div"};const zn=W("jumbotron",qn);var Vn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.hasContent=function(e){var t=!1;return d.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},n.render=function(){var e=this.props,t=e.className,n=e.children,r=K(h(e,["className","children"])),o=r[0],i=r[1],a=s({},V(o),{hidden:!this.hasContent(n)});return d.createElement("span",s({},i,{className:g()(t,a)}),n)},t}(d.Component);const Gn=W("label",q(ue()(N).concat([L,M]),L,Vn));var $n={active:v().any,disabled:v().any,header:v().node,listItem:v().bool,onClick:v().func,href:v().string,type:v().string},Kn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderHeader=function(e,t){return d.isValidElement(e)?(0,d.cloneElement)(e,{className:g()(e.props.className,t)}):d.createElement("h4",{className:t},e)},n.render=function(){var e,t=this.props,n=t.active,r=t.disabled,o=t.className,i=t.header,a=t.listItem,l=t.children,u=K(h(t,["active","disabled","className","header","listItem","children"])),c=u[0],f=u[1],p=s({},V(c),{active:n,disabled:r});return f.href?e="a":f.onClick?(e="button",f.type=f.type||"button"):e=a?"li":"span",f.className=g()(o,p),i?d.createElement(e,f,this.renderHeader(i,H(c,"heading")),d.createElement("p",{className:H(c,"text")},l)):d.createElement(e,f,l)},t}(d.Component);Kn.propTypes=$n,Kn.defaultProps={listItem:!1};const Yn=W("list-group-item",q(ue()(N),Kn));var Xn={componentClass:we()};var Jn=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.componentClass,r=void 0===n?function(e){return e?Z.some(e,(function(e){return e.type!==Yn||e.props.href||e.props.onClick}))?"div":"ul":"div"}(t):n,o=e.className,i=K(h(e,["children","componentClass","className"])),a=i[0],l=i[1],u=V(a),c="ul"===r&&Z.every(t,(function(e){return e.type===Yn}));return d.createElement(r,s({},l,{className:g()(o,u)}),c?Z.map(t,(function(e){return(0,d.cloneElement)(e,{listItem:!0})})):t)},t}(d.Component);Jn.propTypes=Xn;const Zn=W("list-group",Jn);var Qn={align:v().oneOf(["top","middle","bottom"]),componentClass:we()},er=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.align,r=e.className,o=K(h(e,["componentClass","align","className"])),i=o[0],a=o[1],l=V(i);return n&&(l[H(yr.defaultProps,n)]=!0),d.createElement(t,s({},a,{className:g()(r,l)}))},t}(d.Component);er.propTypes=Qn,er.defaultProps={componentClass:"div"};const tr=W("media-body",er);var nr={componentClass:we()},rr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);rr.propTypes=nr,rr.defaultProps={componentClass:"h4"};const or=W("media-heading",rr);var ir={align:v().oneOf(["top","middle","bottom"])},ar=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=K(h(e,["align","className"])),o=r[0],i=r[1],a=V(o);return t&&(a[H(yr.defaultProps,t)]=!0),d.createElement("div",s({},i,{className:g()(n,a)}))},t}(d.Component);ar.propTypes=ir;const sr=W("media-left",ar);var lr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("ul",s({},o,{className:g()(t,i)}))},t}(d.Component);const ur=W("media-list",lr);var cr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("li",s({},o,{className:g()(t,i)}))},t}(d.Component);const dr=W("media",cr);var fr={align:v().oneOf(["top","middle","bottom"])},pr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=K(h(e,["align","className"])),o=r[0],i=r[1],a=V(o);return t&&(a[H(yr.defaultProps,t)]=!0),d.createElement("div",s({},i,{className:g()(n,a)}))},t}(d.Component);pr.propTypes=fr;const hr=W("media-right",pr);var mr={componentClass:we()},gr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);gr.propTypes=mr,gr.defaultProps={componentClass:"div"},gr.Heading=or,gr.Body=tr,gr.Left=sr,gr.Right=hr,gr.List=ur,gr.ListItem=dr;const yr=W("media",gr);var vr={active:v().bool,disabled:v().bool,divider:Le()(v().bool,(function(e){var t=e.divider,n=e.children;return t&&n?new Error("Children will not be rendered for dividers"):null})),eventKey:v().any,header:v().bool,href:v().string,onClick:v().func,onSelect:v().func},br=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleClick=r.handleClick.bind(be(be(r))),r}c(t,e);var n=t.prototype;return n.handleClick=function(e){var t=this.props,n=t.href,r=t.disabled,o=t.onSelect,i=t.eventKey;n&&!r||e.preventDefault(),r||o&&o(i,e)},n.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.divider,o=e.header,i=e.onClick,a=e.className,l=e.style,u=Y(h(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),c=u[0],f=u[1];return r?(f.children=void 0,d.createElement("li",s({},f,{role:"separator",className:g()(a,"divider"),style:l}))):o?d.createElement("li",s({},f,{role:"heading",className:g()(a,H(c,"header")),style:l})):d.createElement("li",{role:"presentation",className:g()(a,{active:t,disabled:n}),style:l},d.createElement(Ce,s({},f,{role:"menuitem",tabIndex:"-1",onClick:Ee(i,this.handleClick)})))},t}(d.Component);br.propTypes=vr,br.defaultProps={divider:!1,disabled:!1,header:!1};const _r=W("dropdown",br);var wr=n(1076),Er=n(201),Or=n.n(Er),Sr=n(167),Tr=n.n(Sr),Cr=n(490),kr=n.n(Cr),Ar=n(607),Pr=n.n(Ar),xr=n(499),Ir=n.n(xr),Rr={componentClass:we()},Dr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);Dr.propTypes=Rr,Dr.defaultProps={componentClass:"div"};const jr=W("modal-body",Dr);var Nr={dialogClassName:v().string},Lr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,r=t.className,o=t.style,i=t.children,a=t.onMouseDownDialog,l=K(h(t,["dialogClassName","className","style","children","onMouseDownDialog"])),u=l[0],c=l[1],f=H(u),p=s({display:"block"},o),m=s({},V(u),((e={})[f]=!1,e[H(u,"dialog")]=!0,e));return d.createElement("div",s({},c,{tabIndex:"-1",role:"dialog",style:p,className:g()(r,f)}),d.createElement("div",{className:g()(n,m),onMouseDown:a},d.createElement("div",{className:H(u,"content"),role:"document"},i)))},t}(d.Component);Lr.propTypes=Nr;const Mr=W("modal",z([x,I],Lr));var Br={componentClass:we()},Fr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);Fr.propTypes=Br,Fr.defaultProps={componentClass:"div"};const Ur=W("modal-footer",Fr);var Hr={closeLabel:v().string,closeButton:v().bool,onHide:v().func},Wr={$bs_modal:v().shape({onHide:v().func})},qr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,r=e.onHide,o=e.className,i=e.children,a=h(e,["closeLabel","closeButton","onHide","className","children"]),l=this.context.$bs_modal,u=K(a),c=u[0],f=u[1],p=V(c);return d.createElement("div",s({},f,{className:g()(o,p)}),n&&d.createElement(fe,{label:t,onClick:Ee(l&&l.onHide,r)}),i)},t}(d.Component);qr.propTypes=Hr,qr.defaultProps={closeLabel:"Close",closeButton:!1},qr.contextTypes=Wr;const zr=W("modal-header",qr);var Vr={componentClass:we()},Gr=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);Gr.propTypes=Vr,Gr.defaultProps={componentClass:"h4"};const $r=W("modal-title",Gr);var Kr=s({},Pr().propTypes,Mr.propTypes,{backdrop:v().oneOf(["static",!0,!1]),backdropClassName:v().string,keyboard:v().bool,animation:v().bool,dialogComponentClass:we(),autoFocus:v().bool,enforceFocus:v().bool,restoreFocus:v().bool,show:v().bool,onHide:v().func,onEnter:v().func,onEntering:v().func,onEntered:v().func,onExit:v().func,onExiting:v().func,onExited:v().func,container:Pr().propTypes.container}),Yr=s({},Pr().defaultProps,{animation:!0,dialogComponentClass:Mr}),Xr={$bs_modal:v().shape({onHide:v().func})};function Jr(e){return d.createElement(cn,s({},e,{timeout:Qr.TRANSITION_DURATION}))}function Zr(e){return d.createElement(cn,s({},e,{timeout:Qr.BACKDROP_TRANSITION_DURATION}))}var Qr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleDialogBackdropMouseDown=function(){r._waitingForMouseUp=!0},r.handleMouseUp=function(e){var t=r._modal.getDialogElement();r._waitingForMouseUp&&e.target===t&&(r._ignoreBackdropClick=!0),r._waitingForMouseUp=!1},r.handleEntering=r.handleEntering.bind(be(be(r))),r.handleExited=r.handleExited.bind(be(be(r))),r.handleWindowResize=r.handleWindowResize.bind(be(be(r))),r.handleDialogClick=r.handleDialogClick.bind(be(be(r))),r.setModalRef=r.setModalRef.bind(be(be(r))),r.state={style:{}},r}c(t,e);var n=t.prototype;return n.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},n.componentWillUnmount=function(){this.handleExited()},n.setModalRef=function(e){this._modal=e},n.handleDialogClick=function(e){this._ignoreBackdropClick||e.target!==e.currentTarget?this._ignoreBackdropClick=!1:this.props.onHide()},n.handleEntering=function(){wr.ZP.on(window,"resize",this.handleWindowResize),this.updateStyle()},n.handleExited=function(){wr.ZP.off(window,"resize",this.handleWindowResize)},n.handleWindowResize=function(){this.updateStyle()},n.updateStyle=function(){if(Tr()){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=Or()(e),r=Ir()(Ve.findDOMNode(this.props.container||n.body)),o=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!o?kr()():void 0,paddingLeft:!r&&o?kr()():void 0}})}},n.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,r=e.animation,o=e.show,i=e.dialogComponentClass,a=e.className,l=e.style,u=e.children,c=e.onEntering,f=e.onExited,p=h(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),m=tn(p,Pr()),y=m[0],v=m[1],b=o&&!r&&"in";return d.createElement(Pr(),s({},y,{ref:this.setModalRef,show:o,containerClassName:H(p,"open"),transition:r?Jr:void 0,backdrop:t,backdropTransition:r?Zr:void 0,backdropClassName:g()(H(p,"backdrop"),n,b),onEntering:Ee(c,this.handleEntering),onExited:Ee(f,this.handleExited),onMouseUp:this.handleMouseUp}),d.createElement(i,s({},v,{style:s({},this.state.style,l),className:g()(a,b),onClick:!0===t?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),u))},t}(d.Component);Qr.propTypes=Kr,Qr.defaultProps=Yr,Qr.childContextTypes=Xr,Qr.Body=jr,Qr.Header=zr,Qr.Title=$r,Qr.Footer=Ur,Qr.Dialog=Mr,Qr.TRANSITION_DURATION=300,Qr.BACKDROP_TRANSITION_DURATION=150;const eo=W("modal",z([x,I],Qr));var to={activeKey:v().any,activeHref:v().string,stacked:v().bool,justified:Le()(v().bool,(function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null})),onSelect:v().func,role:v().string,navbar:v().bool,pullRight:v().bool,pullLeft:v().bool},no={$bs_navbar:v().shape({bsClass:v().string,onSelect:v().func}),$bs_tabContainer:v().shape({activeKey:v().any,onSelect:v().func.isRequired,getTabId:v().func.isRequired,getPaneId:v().func.isRequired})},ro=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,n=this.getActiveProps(),r=n.activeKey,o=n.activeHref,i=Z.find(t,(function(t){return e.isActive(t,r,o)})),a=Z.toArray(t).indexOf(i),s=Ve.findDOMNode(this).children,l=s&&s[a];l&&l.firstChild&&l.firstChild.focus()}},n.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},n.getNextActiveChild=function(e){var t=this,n=this.props.children,r=Z.filter(n,(function(e){return null!=e.props.eventKey&&!e.props.disabled})),o=this.getActiveProps(),i=o.activeKey,a=o.activeHref,s=Z.find(n,(function(e){return t.isActive(e,i,a)})),l=r.indexOf(s);if(-1===l)return r[0];var u=l+e,c=r.length;return u>=c?u=0:u<0&&(u=c-1),r[u]},n.getTabProps=function(e,t,n,r,o){var i=this;if(!t&&"tablist"!==n)return null;var a=e.props,s=a.id,l=a["aria-controls"],u=a.eventKey,c=a.role,d=a.onKeyDown,f=a.tabIndex;return t&&(s=t.getTabId(u),l=t.getPaneId(u)),"tablist"===n&&(c=c||"tab",d=Ee((function(e){return i.handleTabKeyDown(o,e)}),d),f=r?f:-1),{id:s,role:c,onKeyDown:d,"aria-controls":l,tabIndex:f}},n.handleTabKeyDown=function(e,t){var n;switch(t.keyCode){case Nt().codes.left:case Nt().codes.up:n=this.getNextActiveChild(-1);break;case Nt().codes.right:case Nt().codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},n.isActive=function(e,t,n){var r=e.props;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||r.active},n.render=function(){var e,t=this,n=this.props,r=n.stacked,o=n.justified,i=n.onSelect,a=n.role,l=n.navbar,u=n.pullRight,c=n.pullLeft,f=n.className,p=n.children,m=h(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),y=this.context.$bs_tabContainer,v=a||(y?"tablist":null),b=this.getActiveProps(),_=b.activeKey,w=b.activeHref;delete m.activeKey,delete m.activeHref;var E,O,S=K(m),T=S[0],C=S[1],k=s({},V(T),((e={})[H(T,"stacked")]=r,e[H(T,"justified")]=o,e)),A=null!=l?l:this.context.$bs_navbar;if(A){var P=this.context.$bs_navbar||{bsClass:"navbar"};k[H(P,"nav")]=!0,O=H(P,"right"),E=H(P,"left")}else O="pull-right",E="pull-left";return k[O]=u,k[E]=c,d.createElement("ul",s({},C,{role:v,className:g()(f,k)}),Z.map(p,(function(e){var n=t.isActive(e,_,w),r=Ee(e.props.onSelect,i,A&&A.onSelect,y&&y.onSelect);return(0,d.cloneElement)(e,s({},t.getTabProps(e,y,v,n,r),{active:n,activeKey:_,activeHref:w,onSelect:r}))})))},t}(d.Component);ro.propTypes=to,ro.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},ro.contextTypes=no;const oo=W("nav",q(["tabs","pills"],ro));var io={$bs_navbar:v().shape({bsClass:v().string})},ao=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=h(e,["className","children"]),o=H(this.context.$bs_navbar||{bsClass:"navbar"},"brand");return d.isValidElement(n)?d.cloneElement(n,{className:g()(n.props.className,t,o)}):d.createElement("span",s({},r,{className:g()(t,o)}),n)},t}(d.Component);ao.contextTypes=io;const so=ao;var lo={$bs_navbar:v().shape({bsClass:v().string,expanded:v().bool})},uo=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=h(e,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},o=H(r,"collapse");return d.createElement(Pt,s({in:r.expanded},n),d.createElement("div",{className:o},t))},t}(d.Component);uo.contextTypes=lo;const co=uo;var fo={$bs_navbar:v().shape({bsClass:v().string})},po=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=h(e,["className"]),r=H(this.context.$bs_navbar||{bsClass:"navbar"},"header");return d.createElement("div",s({},n,{className:g()(t,r)}))},t}(d.Component);po.contextTypes=fo;const ho=po;var mo={onClick:v().func,children:v().node},go={$bs_navbar:v().shape({bsClass:v().string,expanded:v().bool,onToggle:v().func.isRequired})},yo=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.children,o=h(e,["onClick","className","children"]),i=this.context.$bs_navbar||{bsClass:"navbar"},a=s({type:"button"},o,{onClick:Ee(t,i.onToggle),className:g()(n,H(i,"toggle"),!i.expanded&&"collapsed")});return r?d.createElement("button",a,r):d.createElement("button",a,d.createElement("span",{className:"sr-only"},"Toggle navigation"),d.createElement("span",{className:"icon-bar"}),d.createElement("span",{className:"icon-bar"}),d.createElement("span",{className:"icon-bar"}))},t}(d.Component);yo.propTypes=mo,yo.contextTypes=go;const vo=yo;var bo={fixedTop:v().bool,fixedBottom:v().bool,staticTop:v().bool,inverse:v().bool,fluid:v().bool,componentClass:we(),onToggle:v().func,onSelect:v().func,collapseOnSelect:v().bool,expanded:v().bool,role:v().string},_o={$bs_navbar:v().shape({bsClass:v().string,expanded:v().bool,onToggle:v().func.isRequired,onSelect:v().func})},wo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleToggle=r.handleToggle.bind(be(be(r))),r.handleCollapse=r.handleCollapse.bind(be(be(r))),r}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,r=e.onSelect,o=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:Ee(r,o?this.handleCollapse:null)}}},n.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},n.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},n.render=function(){var e,t=this.props,n=t.componentClass,r=t.fixedTop,o=t.fixedBottom,i=t.staticTop,a=t.inverse,l=t.fluid,u=t.className,c=t.children,f=Y(h(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),["expanded","onToggle","onSelect","collapseOnSelect"]),p=f[0],m=f[1];void 0===m.role&&"nav"!==n&&(m.role="navigation"),a&&(p.bsStyle=F);var y=s({},V(p),((e={})[H(p,"fixed-top")]=r,e[H(p,"fixed-bottom")]=o,e[H(p,"static-top")]=i,e));return d.createElement(n,s({},m,{className:g()(u,y)}),d.createElement(xn,{fluid:l},c))},t}(d.Component);wo.propTypes=bo,wo.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},wo.childContextTypes=_o,W("navbar",wo);var Eo=k(wo,{expanded:"onToggle"});function Oo(e,t,n){var r=function(e,n){var r=e.componentClass,o=e.className,i=e.pullRight,a=e.pullLeft,l=h(e,["componentClass","className","pullRight","pullLeft"]),u=n.$bs_navbar,c=void 0===u?{bsClass:"navbar"}:u;return d.createElement(r,s({},l,{className:g()(o,H(c,t),i&&H(c,"right"),a&&H(c,"left"))}))};return r.displayName=n,r.propTypes={componentClass:we(),pullRight:v().bool,pullLeft:v().bool},r.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar:v().shape({bsClass:v().string})},r}Eo.Brand=so,Eo.Header=ho,Eo.Toggle=vo,Eo.Collapse=co,Eo.Form=Oo("div","form","NavbarForm"),Eo.Text=Oo("p","text","NavbarText"),Eo.Link=Oo("a","link","NavbarLink");const So=q([L,F],L)(Eo);var To=s({},en.propTypes,{title:v().node.isRequired,noCaret:v().bool,active:v().bool,activeKey:v().any,activeHref:v().string,children:v().node}),Co=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.isActive=function(e,t,n){var r=this,o=e.props;return!!(o.active||null!=t&&o.eventKey===t||n&&o.href===n)||(!!Z.some(o.children,(function(e){return r.isActive(e,t,n)}))||o.active)},n.render=function(){var e=this,t=this.props,n=t.title,r=t.activeKey,o=t.activeHref,i=t.className,a=t.style,l=t.children,u=h(t,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,r,o);delete u.active,delete u.eventKey;var f=tn(u,en.ControlledComponent),p=f[0],m=f[1];return d.createElement(en,s({},p,{componentClass:"li",className:g()(i,{active:c}),style:a}),d.createElement(en.Toggle,s({},m,{useAnchor:!0}),n),d.createElement(en.Menu,null,Z.map(l,(function(t){return d.cloneElement(t,{active:e.isActive(t,r,o)})}))))},t}(d.Component);Co.propTypes=To;const ko=Co;var Ao={active:v().bool,disabled:v().bool,role:v().string,href:v().string,onClick:v().func,onSelect:v().func,eventKey:v().any},Po=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleClick=r.handleClick.bind(be(be(r))),r}c(t,e);var n=t.prototype;return n.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},n.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.onClick,o=e.className,i=e.style,a=h(e,["active","disabled","onClick","className","style"]);return delete a.onSelect,delete a.eventKey,delete a.activeKey,delete a.activeHref,a.role?"tab"===a.role&&(a["aria-selected"]=t):"#"===a.href&&(a.role="button"),d.createElement("li",{role:"presentation",className:g()(o,{active:t,disabled:n}),style:i},d.createElement(Ce,s({},a,{disabled:n,onClick:Ee(r,this.handleClick)})))},t}(d.Component);Po.propTypes=Ao,Po.defaultProps={active:!1,disabled:!1};const xo=Po;var Io=n(608),Ro=n.n(Io),Do=s({},Ro().propTypes,{show:v().bool,rootClose:v().bool,onHide:v().func,animation:v().oneOfType([v().bool,we()]),onEnter:v().func,onEntering:v().func,onEntered:v().func,onExit:v().func,onExiting:v().func,onExited:v().func,placement:v().oneOf(["top","right","bottom","left"])}),jo={animation:cn,rootClose:!1,show:!1,placement:"right"},No=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.animation,r=t.children,o=h(t,["animation","children"]),i=!0===n?cn:n||null;return e=i?r:(0,d.cloneElement)(r,{className:g()(r.props.className,"in")}),d.createElement(Ro(),s({},o,{transition:i}),e)},t}(d.Component);No.propTypes=Do,No.defaultProps=jo;const Lo=No;var Mo=n(1077),Bo=n.n(Mo);function Fo(e,t){return Bo()(t)?t.indexOf(e)>=0:e===t}var Uo=v().oneOf(["click","hover","focus"]),Ho=s({},Lo.propTypes,{trigger:v().oneOfType([Uo,v().arrayOf(Uo)]),delay:v().number,delayShow:v().number,delayHide:v().number,defaultOverlayShown:v().bool,overlay:v().node.isRequired,onBlur:v().func,onClick:v().func,onFocus:v().func,onMouseOut:v().func,onMouseOver:v().func,target:v().oneOf([null]),onHide:v().oneOf([null]),show:v().oneOf([null])}),Wo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleToggle=r.handleToggle.bind(be(be(r))),r.handleDelayedShow=r.handleDelayedShow.bind(be(be(r))),r.handleDelayedHide=r.handleDelayedHide.bind(be(be(r))),r.handleHide=r.handleHide.bind(be(be(r))),r.handleMouseOver=function(e){return r.handleMouseOverOut(r.handleDelayedShow,e,"fromElement")},r.handleMouseOut=function(e){return r.handleMouseOverOut(r.handleDelayedHide,e,"toElement")},r._mountNode=null,r.state={show:t.defaultOverlayShown},r}c(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},n.componentDidUpdate=function(){this.renderOverlay()},n.componentWillUnmount=function(){Ve.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},n.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout((function(){e._hoverHideDelay=null,e.hide()}),t):this.hide()}},n.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout((function(){e._hoverShowDelay=null,e.show()}),t):this.show()}},n.handleHide=function(){this.hide()},n.handleMouseOverOut=function(e,t,n){var r=t.currentTarget,o=t.relatedTarget||t.nativeEvent[n];o&&o===r||Dt()(r,o)||e(t)},n.handleToggle=function(){this.state.show?this.hide():this.show()},n.hide=function(){this.setState({show:!1})},n.makeOverlay=function(e,t){return d.createElement(Lo,s({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},n.show=function(){this.setState({show:!0})},n.renderOverlay=function(){Ve.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},n.render=function(){var e=this.props,t=e.trigger,n=e.overlay,r=e.children,o=e.onBlur,i=e.onClick,a=e.onFocus,s=e.onMouseOut,l=e.onMouseOver,u=h(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete u.delay,delete u.delayShow,delete u.delayHide,delete u.defaultOverlayShown;var c=d.Children.only(r),f=c.props,p={};return this.state.show&&(p["aria-describedby"]=n.props.id),p.onClick=Ee(f.onClick,i),Fo("click",t)&&(p.onClick=Ee(p.onClick,this.handleToggle)),Fo("hover",t)&&(p.onMouseOver=Ee(f.onMouseOver,l,this.handleMouseOver),p.onMouseOut=Ee(f.onMouseOut,s,this.handleMouseOut)),Fo("focus",t)&&(p.onFocus=Ee(f.onFocus,a,this.handleDelayedShow),p.onBlur=Ee(f.onBlur,o,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,u),(0,d.cloneElement)(c,p)},t}(d.Component);Wo.propTypes=Ho,Wo.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};const qo=Wo;var zo=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=K(h(e,["className","children"])),o=r[0],i=r[1],a=V(o);return d.createElement("div",s({},i,{className:g()(t,a)}),d.createElement("h1",null,n))},t}(d.Component);const Vo=W("page-header",zo);var Go={disabled:v().bool,previous:v().bool,next:v().bool,onClick:v().func,onSelect:v().func,eventKey:v().any},$o=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleSelect=r.handleSelect.bind(be(be(r))),r}c(t,e);var n=t.prototype;return n.handleSelect=function(e){var t=this.props,n=t.disabled,r=t.onSelect,o=t.eventKey;n?e.preventDefault():r&&r(o,e)},n.render=function(){var e=this.props,t=e.disabled,n=e.previous,r=e.next,o=e.onClick,i=e.className,a=e.style,l=h(e,["disabled","previous","next","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,d.createElement("li",{className:g()(i,{disabled:t,previous:n,next:r}),style:a},d.createElement(Ce,s({},l,{disabled:t,onClick:Ee(o,this.handleSelect)})))},t}(d.Component);$o.propTypes=Go,$o.defaultProps={disabled:!1,previous:!1,next:!1};const Ko=$o;var Yo={};function Xo(e,t,n){var r;"object"==typeof e?r=e.message:(r=e+" is deprecated. Use "+t+" instead.",n&&(r+="\nYou can read more about it at "+n)),Yo[r]||(Yo[r]=!0)}Xo.wrapper=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.UNSAFE_componentWillMount=function(){if(Xo.apply(void 0,n),e.prototype.UNSAFE_componentWillMount){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.prototype.UNSAFE_componentWillMount).call.apply(t,[this].concat(o))}},t}(e)};const Jo=Xo.wrapper(Ko,"`<PageItem>`","`<Pager.Item>`");var Zo={onSelect:v().func},Qo=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.className,r=e.children,o=K(h(e,["onSelect","className","children"])),i=o[0],a=o[1],l=V(i);return d.createElement("ul",s({},a,{className:g()(n,l)}),Z.map(r,(function(e){return(0,d.cloneElement)(e,{onSelect:Ee(e.props.onSelect,t)})})))},t}(d.Component);Qo.propTypes=Zo,Qo.Item=Ko;const ei=W("pager",Qo);var ti={eventKey:v().any,className:v().string,onSelect:v().func,disabled:v().bool,active:v().bool,activeLabel:v().string.isRequired};function ni(e){var t=e.active,n=e.disabled,r=e.className,o=e.style,i=e.activeLabel,a=e.children,l=h(e,["active","disabled","className","style","activeLabel","children"]),u=t||n?"span":Ce;return d.createElement("li",{style:o,className:g()(r,{active:t,disabled:n})},d.createElement(u,s({disabled:n},l),a,t&&d.createElement("span",{className:"sr-only"},i)))}function ri(e,t,n){var r,o;return void 0===n&&(n=e),o=r=function(e){function r(){return e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this.props,r=e.disabled,o=e.children,i=e.className,a=h(e,["disabled","children","className"]),l=r?"span":Ce;return d.createElement("li",s({"aria-label":n,className:g()(i,{disabled:r})},a),d.createElement(l,null,o||t))},r}(d.Component),r.displayName=e,r.propTypes={disabled:v().bool},o}ni.propTypes=ti,ni.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"};var oi=ri("First","«"),ii=ri("Prev","‹"),ai=ri("Ellipsis","…","More"),si=ri("Next","›"),li=ri("Last","»"),ui=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=K(h(e,["className","children"])),o=r[0],i=r[1],a=V(o);return d.createElement("ul",s({},i,{className:g()(t,a)}),n)},t}(d.Component);W("pagination",ui),ui.First=oi,ui.Prev=ii,ui.Ellipsis=ai,ui.Item=ni,ui.Next=si,ui.Last=li;const ci=ui;var di={onEnter:v().func,onEntering:v().func,onEntered:v().func,onExit:v().func,onExiting:v().func,onExited:v().func},fi={$bs_panel:v().shape({headingId:v().string,bodyId:v().string,bsClass:v().string,expanded:v().bool})},pi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props.children,t=this.context.$bs_panel||{},n=t.headingId,r=t.bodyId,o=t.bsClass,i=t.expanded,a=K(this.props),l=a[0],u=a[1];return l.bsClass=o||l.bsClass,n&&r&&(u.id=r,u.role=u.role||"tabpanel",u["aria-labelledby"]=n),d.createElement(Pt,s({in:i},u),d.createElement("div",{className:H(l,"collapse")},e))},t}(d.Component);pi.propTypes=di,pi.contextTypes=fi;const hi=W("panel",pi);var mi={collapsible:v().bool.isRequired},gi={$bs_panel:v().shape({bsClass:v().string})},yi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.collapsible,o=(this.context.$bs_panel||{}).bsClass,i=Y(this.props,["collapsible"]),a=i[0],l=i[1];a.bsClass=o||a.bsClass;var u=d.createElement("div",s({},l,{className:g()(n,H(a,"body"))}),t);return r&&(u=d.createElement(hi,null,u)),u},t}(d.Component);yi.propTypes=mi,yi.defaultProps={collapsible:!1},yi.contextTypes=gi;const vi=W("panel",yi);var bi=n(430),_i={componentClass:bi.default},wi={$bs_panel:v().shape({headingId:v().string,bsClass:v().string})},Ei=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.componentClass,o=h(e,["children","className","componentClass"]),i=this.context.$bs_panel||{},a=i.headingId,l=i.bsClass,u=K(o),c=u[0],f=u[1];return c.bsClass=l||c.bsClass,a&&(f.role=f.role||"tab",f.id=a),d.createElement(r,s({},f,{className:g()(n,H(c,"heading"))}),t)},t}(d.Component);Ei.propTypes=_i,Ei.defaultProps={componentClass:"div"},Ei.contextTypes=wi;const Oi=W("panel",Ei);var Si={onClick:v().func,componentClass:bi.default},Ti={componentClass:Ce},Ci={$bs_panel:v().shape({bodyId:v().string,onToggle:v().func,expanded:v().bool})},ki=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggle=t.handleToggle.bind(be(be(t))),t}c(t,e);var n=t.prototype;return n.handleToggle=function(e){var t=(this.context.$bs_panel||{}).onToggle;t&&t(e)},n.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.componentClass,o=h(e,["onClick","className","componentClass"]),i=this.context.$bs_panel||{},a=i.expanded,s=i.bodyId,l=r;return o.onClick=Ee(t,this.handleToggle),o["aria-expanded"]=a,o.className=g()(n,!a&&"collapsed"),s&&(o["aria-controls"]=s),d.createElement(l,o)},t}(d.Component);ki.propTypes=Si,ki.defaultProps=Ti,ki.contextTypes=Ci;const Ai=ki;var Pi={componentClass:bi.default,toggle:v().bool},xi={$bs_panel:v().shape({bsClass:v().string})},Ii=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.toggle,o=e.componentClass,i=h(e,["children","className","toggle","componentClass"]),a=(this.context.$bs_panel||{}).bsClass,l=K(i),u=l[0],c=l[1];return u.bsClass=a||u.bsClass,r&&(t=d.createElement(Ai,null,t)),d.createElement(o,s({},c,{className:g()(n,H(u,"title"))}),t)},t}(d.Component);Ii.propTypes=Pi,Ii.defaultProps={componentClass:"div"},Ii.contextTypes=xi;const Ri=W("panel",Ii);var Di={$bs_panel:v().shape({bsClass:v().string})},ji=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=(this.context.$bs_panel||{}).bsClass,o=K(this.props),i=o[0],a=o[1];return i.bsClass=r||i.bsClass,d.createElement("div",s({},a,{className:g()(n,H(i,"footer"))}),t)},t}(d.Component);ji.contextTypes=Di;const Ni=W("panel",ji);var Li=Object.prototype.hasOwnProperty,Mi=function(e,t){return e?e+"--"+t:null},Bi={expanded:v().bool,onToggle:v().func,eventKey:v().any,id:v().string},Fi={$bs_panelGroup:v().shape({getId:v().func,activeKey:v().any,onToggle:v().func})},Ui={$bs_panel:v().shape({headingId:v().string,bodyId:v().string,bsClass:v().string,onToggle:v().func,expanded:v().bool})},Hi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggle=function(e){var n=t.context.$bs_panelGroup,r=!t.getExpanded();n&&n.onToggle?n.onToggle(t.props.eventKey,r,e):t.props.onToggle(r,e)},t}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e,t=this.props,n=t.eventKey,r=t.id,o=null==n?r:n;if(null!==o){var i=this.context.$bs_panelGroup,a=i&&i.getId||Mi;e={headingId:a(o,"heading"),bodyId:a(o,"body")}}return{$bs_panel:s({},e,{bsClass:this.props.bsClass,expanded:this.getExpanded(),onToggle:this.handleToggle})}},n.getExpanded=function(){var e=this.context.$bs_panelGroup;return e&&Li.call(e,"activeKey")?e.activeKey===this.props.eventKey:!!this.props.expanded},n.render=function(){var e=this.props,t=e.className,n=e.children,r=Y(this.props,["onToggle","eventKey","expanded"]),o=r[0],i=r[1];return d.createElement("div",s({},i,{className:g()(t,V(o))}),n)},t}(d.Component);Hi.propTypes=Bi,Hi.contextTypes=Fi,Hi.childContextTypes=Ui;var Wi=k(W("panel",q(ue()(N).concat([L,M]),L,Hi)),{expanded:"onToggle"});a()(Wi,{Heading:Oi,Title:Ri,Body:vi,Footer:Ni,Toggle:Ai,Collapse:hi});const qi=Wi;var zi={id:Mt()(v().oneOfType([v().string,v().number])),placement:v().oneOf(["top","right","bottom","left"]),positionTop:v().oneOfType([v().number,v().string]),positionLeft:v().oneOfType([v().number,v().string]),arrowOffsetTop:v().oneOfType([v().number,v().string]),arrowOffsetLeft:v().oneOfType([v().number,v().string]),title:v().node},Vi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,o=t.positionLeft,i=t.arrowOffsetTop,a=t.arrowOffsetLeft,l=t.title,u=t.className,c=t.style,f=t.children,p=K(h(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),m=p[0],y=p[1],v=s({},V(m),((e={})[n]=!0,e)),b=s({display:"block",top:r,left:o},c),_={top:i,left:a};return d.createElement("div",s({},y,{role:"tooltip",className:g()(u,v),style:b}),d.createElement("div",{className:"arrow",style:_}),l&&d.createElement("h3",{className:H(m,"title")},l),d.createElement("div",{className:H(m,"content")},f))},t}(d.Component);Vi.propTypes=zi,Vi.defaultProps={placement:"right"};const Gi=W("popover",Vi);var $i={min:v().number,now:v().number,max:v().number,label:v().node,srOnly:v().bool,striped:v().bool,active:v().bool,children:function(e,t,n){var r=e[t];if(!r)return null;var o=null;return d.Children.forEach(r,(function(e){if(!o){var t=d.createElement(Yi,null);if(e.type!==t.type){var r=d.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;o=new Error("Children of "+n+" can contain only ProgressBar components. Found "+r+".")}}})),o},isChild:v().bool};function Ki(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}var Yi=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderProgressBar=function(e){var t,n=e.min,r=e.now,o=e.max,i=e.label,a=e.srOnly,l=e.striped,u=e.active,c=e.className,f=e.style,p=K(h(e,["min","now","max","label","srOnly","striped","active","className","style"])),m=p[0],y=p[1],v=s({},V(m),((t={active:u})[H(m,"striped")]=u||l,t));return d.createElement("div",s({},y,{role:"progressbar",className:g()(c,v),style:s({width:Ki(r,n,o)+"%"},f),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":o}),a?d.createElement("span",{className:"sr-only"},i):i)},n.render=function(){var e=this.props,t=e.isChild,n=h(e,["isChild"]);if(t)return this.renderProgressBar(n);var r=n.min,o=n.now,i=n.max,a=n.label,l=n.srOnly,u=n.striped,c=n.active,f=n.bsClass,p=n.bsStyle,m=n.className,y=n.children,v=h(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return d.createElement("div",s({},v,{className:g()(m,"progress")}),y?Z.map(y,(function(e){return(0,d.cloneElement)(e,{isChild:!0})})):this.renderProgressBar({min:r,now:o,max:i,label:a,srOnly:l,striped:u,active:c,bsClass:f,bsStyle:p}))},t}(d.Component);Yi.propTypes=$i,Yi.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1};const Xi=W("progress-bar",q(ue()(N),Yi));var Ji={inline:v().bool,disabled:v().bool,title:v().string,validationState:v().oneOf(["success","warning","error",null]),inputRef:v().func},Zi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,o=e.inputRef,i=e.className,a=e.style,l=e.title,u=e.children,c=K(h(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),f=c[0],p=c[1],m=d.createElement("input",s({},p,{ref:o,type:"radio",disabled:n}));if(t){var y,v=((y={})[H(f,"inline")]=!0,y.disabled=n,y);return d.createElement("label",{className:g()(i,v),style:a,title:l},m,u)}var b=s({},V(f),{disabled:n});return r&&(b["has-"+r]=!0),d.createElement("div",{className:g()(i,b),style:a},d.createElement("label",{title:l},m,u))},t}(d.Component);Zi.propTypes=Ji,Zi.defaultProps={inline:!1,disabled:!1,title:""};const Qi=W("radio",Zi);var ea={children:v().element.isRequired,a16by9:v().bool,a4by3:v().bool},ta=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.a16by9,r=t.a4by3,o=t.className,i=t.children,a=K(h(t,["a16by9","a4by3","className","children"])),l=a[0],u=a[1],c=s({},V(l),((e={})[H(l,"16by9")]=n,e[H(l,"4by3")]=r,e));return d.createElement("div",{className:g()(c)},(0,d.cloneElement)(i,s({},u,{className:g()(o,H(l,"item"))})))},t}(d.Component);ta.propTypes=ea,ta.defaultProps={a16by9:!1,a4by3:!1};const na=W("embed-responsive",ta);var ra={componentClass:we()},oa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=K(h(e,["componentClass","className"])),o=r[0],i=r[1],a=V(o);return d.createElement(t,s({},i,{className:g()(n,a)}))},t}(d.Component);oa.propTypes=ra,oa.defaultProps={componentClass:"div"};const ia=W("row",oa);var aa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return d.createElement($t,s({},this.props,{useAnchor:!1,noCaret:!1}))},t}(d.Component);aa.defaultProps=$t.defaultProps;const sa=aa;var la=s({},en.propTypes,{bsStyle:v().string,bsSize:v().string,href:v().string,onClick:v().func,title:v().node.isRequired,toggleLabel:v().string,children:v().node}),ua=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,o=e.toggleLabel,i=e.children,a=h(e,["bsSize","bsStyle","title","toggleLabel","children"]),l=tn(a,en.ControlledComponent),u=l[0],c=l[1];return d.createElement(en,s({},u,{bsSize:t,bsStyle:n}),d.createElement(je,s({},c,{disabled:a.disabled,bsSize:t,bsStyle:n}),r),d.createElement(sa,{"aria-label":o||r,bsSize:t,bsStyle:n}),d.createElement(en.Menu,null,i))},t}(d.Component);ua.propTypes=la,ua.Toggle=sa;const ca=ua;var da=v().oneOfType([v().string,v().number]),fa={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=da.apply(void 0,[e].concat(r)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:v().func,onSelect:v().func,activeKey:v().any},pa={$bs_tabContainer:v().shape({activeKey:v().any,onSelect:v().func.isRequired,getTabId:v().func.isRequired,getPaneId:v().func.isRequired})},ha=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.generateChildId,o=e.id,i=r||function(e,t){return o?o+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return i(e,"tab")},getPaneId:function(e){return i(e,"pane")}}}},n.render=function(){var e=this.props,t=e.children,n=h(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,d.cloneElement(d.Children.only(t),n)},t}(d.Component);ha.propTypes=fa,ha.childContextTypes=pa;const ma=k(ha,{activeKey:"onSelect"});var ga={componentClass:we(),animation:v().oneOfType([v().bool,we()]),mountOnEnter:v().bool,unmountOnExit:v().bool},ya={$bs_tabContainer:v().shape({activeKey:v().any})},va={$bs_tabContent:v().shape({bsClass:v().string,animation:v().oneOfType([v().bool,we()]),activeKey:v().any,mountOnEnter:v().bool,unmountOnExit:v().bool,onPaneEnter:v().func.isRequired,onPaneExited:v().func.isRequired,exiting:v().bool.isRequired})},ba=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handlePaneEnter=r.handlePaneEnter.bind(be(be(r))),r.handlePaneExited=r.handlePaneExited.bind(be(be(r))),r.state={activeKey:null,activeChild:null},r}c(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,r=e.mountOnEnter,o=e.unmountOnExit,i=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=i&&i!==a;return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=i?i:a,mountOnEnter:r,unmountOnExit:o,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:s}}},n.UNSAFE_componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},n.componentWillUnmount=function(){this.isUnmounted=!0},n.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},n.handlePaneEnter=function(e,t){return!!this.props.animation&&(t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0))},n.handlePaneExited=function(e){this.isUnmounted||this.setState((function(t){return t.activeChild!==e?null:{activeKey:null,activeChild:null}}))},n.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=Y(h(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),o=r[0],i=r[1];return d.createElement(t,s({},i,{className:g()(n,H(o,"content"))}))},t}(d.Component);ba.propTypes=ga,ba.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},ba.contextTypes=ya,ba.childContextTypes=va;const _a=W("tab",ba);var wa={eventKey:v().any,animation:v().oneOfType([v().bool,we()]),id:v().string,"aria-labelledby":v().string,bsClass:v().string,onEnter:v().func,onEntering:v().func,onEntered:v().func,onExit:v().func,onExiting:v().func,onExited:v().func,mountOnEnter:v().bool,unmountOnExit:v().bool},Ea={$bs_tabContainer:v().shape({getTabId:v().func,getPaneId:v().func}),$bs_tabContent:v().shape({bsClass:v().string,animation:v().oneOfType([v().bool,we()]),activeKey:v().any,mountOnEnter:v().bool,unmountOnExit:v().bool,onPaneEnter:v().func.isRequired,onPaneExited:v().func.isRequired,exiting:v().bool.isRequired})},Oa={$bs_tabContainer:v().oneOf([null])},Sa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleEnter=r.handleEnter.bind(be(be(r))),r.handleExited=r.handleExited.bind(be(be(r))),r.in=!1,r}c(t,e);var n=t.prototype;return n.getChildContext=function(){return{$bs_tabContainer:null}},n.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},n.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},n.componentWillUnmount=function(){this.in&&this.handleExited()},n.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},n.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},n.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},n.isActive=function(){var e=this.context.$bs_tabContent,t=e&&e.activeKey;return this.props.eventKey===t},n.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},n.render=function(){var e=this.props,t=e.eventKey,n=e.className,r=e.onEnter,o=e.onEntering,i=e.onEntered,a=e.onExit,l=e.onExiting,u=e.onExited,c=e.mountOnEnter,f=e.unmountOnExit,p=h(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),m=this.context,y=m.$bs_tabContent,v=m.$bs_tabContainer,b=Y(p,["animation"]),_=b[0],w=b[1],E=this.isActive(),O=this.getAnimation(),S=null!=c?c:y&&y.mountOnEnter,T=null!=f?f:y&&y.unmountOnExit;if(!E&&!O&&T)return null;var C=!0===O?cn:O||null;y&&(_.bsClass=H(y,"pane"));var k=s({},V(_),{active:E});v&&(w.id=v.getPaneId(t),w["aria-labelledby"]=v.getTabId(t));var A=d.createElement("div",s({},w,{role:"tabpanel","aria-hidden":!E,className:g()(n,k)}));if(C){var P=y&&y.exiting;return d.createElement(C,{in:E&&!P,onEnter:Ee(this.handleEnter,r),onEntering:o,onEntered:i,onExit:a,onExiting:l,onExited:Ee(this.handleExited,u),mountOnEnter:S,unmountOnExit:T},A)}return A},t}(d.Component);Sa.propTypes=wa,Sa.contextTypes=Ea,Sa.childContextTypes=Oa;const Ta=W("tab-pane",Sa);var Ca=s({},Ta.propTypes,{disabled:v().bool,title:v().node,tabClassName:v().string}),ka=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=s({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,d.createElement(Ta,e)},t}(d.Component);ka.propTypes=Ca,ka.Container=ma,ka.Content=_a,ka.Pane=Ta;const Aa=ka;var Pa={striped:v().bool,bordered:v().bool,condensed:v().bool,hover:v().bool,responsive:v().bool},xa=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,r=t.bordered,o=t.condensed,i=t.hover,a=t.responsive,l=t.className,u=K(h(t,["striped","bordered","condensed","hover","responsive","className"])),c=u[0],f=u[1],p=s({},V(c),((e={})[H(c,"striped")]=n,e[H(c,"bordered")]=r,e[H(c,"condensed")]=o,e[H(c,"hover")]=i,e)),m=d.createElement("table",s({},f,{className:g()(l,p)}));return a?d.createElement("div",{className:H(c,"responsive")},m):m},t}(d.Component);xa.propTypes=Pa,xa.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1};const Ia=W("table",xa);var Ra=ma.ControlledComponent,Da={activeKey:v().any,bsStyle:v().oneOf(["tabs","pills"]),animation:v().oneOfType([v().bool,we()]),id:Mt()(v().oneOfType([v().string,v().number])),onSelect:v().func,mountOnEnter:v().bool,unmountOnExit:v().bool};var ja=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderTab=function(e){var t=e.props,n=t.title,r=t.eventKey,o=t.disabled,i=t.tabClassName;return null==n?null:d.createElement(xo,{eventKey:r,disabled:o,className:i},n)},n.render=function(){var e=this.props,t=e.id,n=e.onSelect,r=e.animation,o=e.mountOnEnter,i=e.unmountOnExit,a=e.bsClass,l=e.className,u=e.style,c=e.children,f=e.activeKey,p=void 0===f?function(e){var t;return Z.forEach(e,(function(e){null==t&&(t=e.props.eventKey)})),t}(c):f,m=h(e,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return d.createElement(Ra,{id:t,activeKey:p,onSelect:n,className:l,style:u},d.createElement("div",null,d.createElement(oo,s({},m,{role:"tablist"}),Z.map(c,this.renderTab)),d.createElement(_a,{bsClass:a,animation:r,mountOnEnter:o,unmountOnExit:i},c)))},t}(d.Component);ja.propTypes=Da,ja.defaultProps={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},W("tab",ja);const Na=k(ja,{activeKey:"onSelect"});var La={src:v().string,alt:v().string,href:v().string,onError:v().func,onLoad:v().func},Ma=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.alt,r=e.onError,o=e.onLoad,i=e.className,a=e.children,l=K(h(e,["src","alt","onError","onLoad","className","children"])),u=l[0],c=l[1],f=c.href?Ce:"div",p=V(u);return d.createElement(f,s({},c,{className:g()(i,p)}),d.createElement("img",{src:t,alt:n,onError:r,onLoad:o}),a&&d.createElement("div",{className:"caption"},a))},t}(d.Component);Ma.propTypes=La;const Ba=W("thumbnail",Ma);var Fa={type:v().oneOf(["checkbox","radio"]),name:v().string,checked:v().bool,disabled:v().bool,onChange:v().func,value:v().any.isRequired},Ua=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=e.checked,o=e.type,i=e.onChange,a=e.value,l=h(e,["children","name","checked","type","onChange","value"]),u=l.disabled;return d.createElement(je,s({},l,{active:!!r,componentClass:"label"}),d.createElement("input",{name:n,type:o,autoComplete:"off",value:a,checked:!!r,disabled:!!u,onChange:i}),t)},t}(d.Component);Ua.propTypes=Fa;const Ha=Ua;var Wa={name:v().string,value:v().any,onChange:v().func,type:v().oneOf(["checkbox","radio"]).isRequired},qa=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.getValues=function(){var e=this.props.value;return null==e?[]:[].concat(e)},n.handleToggle=function(e){var t=this.props,n=t.type,r=t.onChange,o=this.getValues(),i=-1!==o.indexOf(e);"radio"!==n?r(i?o.filter((function(t){return t!==e})):o.concat([e])):i||r(e)},n.render=function(){var e=this,t=this.props,n=t.children,r=t.type,o=t.name,i=h(t,["children","type","name"]),a=this.getValues();return"radio"!==r||o||_()(!1),delete i.onChange,delete i.value,d.createElement(Fe,s({},i,{"data-toggle":"buttons"}),Z.map(n,(function(t){var n=t.props,i=n.value,s=n.onChange;return d.cloneElement(t,{type:r,name:t.name||o,checked:-1!==a.indexOf(i),onChange:Ee(s,(function(){return e.handleToggle(i)}))})})))},t}(d.Component);qa.propTypes=Wa,qa.defaultProps={type:"radio"};var za=k(qa,{value:"onChange"});za.Button=Ha;const Va=za;var Ga={id:Mt()(v().oneOfType([v().string,v().number])),placement:v().oneOf(["top","right","bottom","left"]),positionTop:v().oneOfType([v().number,v().string]),positionLeft:v().oneOfType([v().number,v().string]),arrowOffsetTop:v().oneOfType([v().number,v().string]),arrowOffsetLeft:v().oneOfType([v().number,v().string])},$a=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,o=t.positionLeft,i=t.arrowOffsetTop,a=t.arrowOffsetLeft,l=t.className,u=t.style,c=t.children,f=K(h(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),p=f[0],m=f[1],y=s({},V(p),((e={})[n]=!0,e)),v=s({top:r,left:o},u),b={top:i,left:a};return d.createElement("div",s({},m,{role:"tooltip",className:g()(l,y),style:v}),d.createElement("div",{className:H(p,"arrow"),style:b}),d.createElement("div",{className:H(p,"inner")},c))},t}(d.Component);$a.propTypes=Ga,$a.defaultProps={placement:"right"};const Ka=W("tooltip",$a);var Ya=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=K(h(e,["className"])),r=n[0],o=n[1],i=V(r);return d.createElement("div",s({},o,{className:g()(t,i)}))},t}(d.Component);const Xa=W("well",z([x,I],Ya))},function(e,t,n){var r;e.exports=(r=n(208),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],l=e[t+1],p=e[t+2],h=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],E=e[t+11],O=e[t+12],S=e[t+13],T=e[t+14],C=e[t+15],k=i[0],A=i[1],P=i[2],x=i[3];k=u(k,A,P,x,a,7,s[0]),x=u(x,k,A,P,l,12,s[1]),P=u(P,x,k,A,p,17,s[2]),A=u(A,P,x,k,h,22,s[3]),k=u(k,A,P,x,m,7,s[4]),x=u(x,k,A,P,g,12,s[5]),P=u(P,x,k,A,y,17,s[6]),A=u(A,P,x,k,v,22,s[7]),k=u(k,A,P,x,b,7,s[8]),x=u(x,k,A,P,_,12,s[9]),P=u(P,x,k,A,w,17,s[10]),A=u(A,P,x,k,E,22,s[11]),k=u(k,A,P,x,O,7,s[12]),x=u(x,k,A,P,S,12,s[13]),P=u(P,x,k,A,T,17,s[14]),k=c(k,A=u(A,P,x,k,C,22,s[15]),P,x,l,5,s[16]),x=c(x,k,A,P,y,9,s[17]),P=c(P,x,k,A,E,14,s[18]),A=c(A,P,x,k,a,20,s[19]),k=c(k,A,P,x,g,5,s[20]),x=c(x,k,A,P,w,9,s[21]),P=c(P,x,k,A,C,14,s[22]),A=c(A,P,x,k,m,20,s[23]),k=c(k,A,P,x,_,5,s[24]),x=c(x,k,A,P,T,9,s[25]),P=c(P,x,k,A,h,14,s[26]),A=c(A,P,x,k,b,20,s[27]),k=c(k,A,P,x,S,5,s[28]),x=c(x,k,A,P,p,9,s[29]),P=c(P,x,k,A,v,14,s[30]),k=d(k,A=c(A,P,x,k,O,20,s[31]),P,x,g,4,s[32]),x=d(x,k,A,P,b,11,s[33]),P=d(P,x,k,A,E,16,s[34]),A=d(A,P,x,k,T,23,s[35]),k=d(k,A,P,x,l,4,s[36]),x=d(x,k,A,P,m,11,s[37]),P=d(P,x,k,A,v,16,s[38]),A=d(A,P,x,k,w,23,s[39]),k=d(k,A,P,x,S,4,s[40]),x=d(x,k,A,P,a,11,s[41]),P=d(P,x,k,A,h,16,s[42]),A=d(A,P,x,k,y,23,s[43]),k=d(k,A,P,x,_,4,s[44]),x=d(x,k,A,P,O,11,s[45]),P=d(P,x,k,A,C,16,s[46]),k=f(k,A=d(A,P,x,k,p,23,s[47]),P,x,a,6,s[48]),x=f(x,k,A,P,v,10,s[49]),P=f(P,x,k,A,T,15,s[50]),A=f(A,P,x,k,g,21,s[51]),k=f(k,A,P,x,O,6,s[52]),x=f(x,k,A,P,h,10,s[53]),P=f(P,x,k,A,w,15,s[54]),A=f(A,P,x,k,l,21,s[55]),k=f(k,A,P,x,b,6,s[56]),x=f(x,k,A,P,C,10,s[57]),P=f(P,x,k,A,y,15,s[58]),A=f(A,P,x,k,S,21,s[59]),k=f(k,A,P,x,m,6,s[60]),x=f(x,k,A,P,E,10,s[61]),P=f(P,x,k,A,p,15,s[62]),A=f(A,P,x,k,_,21,s[63]),i[0]=i[0]+k|0,i[1]=i[1]+A|0,i[2]=i[2]+P|0,i[3]=i[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function c(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function d(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(l),t.HmacMD5=i._createHmacHelper(l)}(Math),r.MD5)},(e,t,n)=>{var r=n(383);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},e=>{"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},e=>{e.exports=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var o=n[r].re,i=n[r].process,a=o.exec(e);if(a){var s=i(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,r=0;r<n.length;r++)for(var o=n[r].example,i=0;i<o.length;i++)e[e.length]=o[i];for(var a in t)e[e.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(r=0;r<e.length;r++)try{var l=document.createElement("li"),u=new RGBColor(e[r]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+e[r]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(d),s.appendChild(l)}catch(f){}return s}}},function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=o(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,u=e.min(4*l,o);if(l){for(var c=0;c<l;c+=i)this._doProcessBlock(r,c);var d=r.splice(0,l);n.sigBytes-=u}return new a.init(d,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(o.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),n)},(e,t,n)=>{"use strict";n(210),n(342),n(344),n(346),n(348),n(350),n(352),n(161),n(355),n(357),n(359),n(361),n(363),n(162)},(e,t,n)=>{n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(96),n(310),n(151),n(311),n(152),n(312),n(313),n(314),n(315),n(153),n(157),n(158),n(159),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),e.exports=n(10)},(e,t,n)=>{"use strict";var r=n(3),o=n(17),i=n(11),a=n(0),s=n(15),l=n(35).KEY,u=n(4),c=n(60),d=n(46),f=n(38),p=n(7),h=n(105),m=n(106),g=n(145),y=n(63),v=n(5),b=n(6),_=n(14),w=n(19),E=n(34),O=n(37),S=n(42),T=n(146),C=n(31),k=n(79),A=n(12),P=n(40),x=C.f,I=A.f,R=T.f,D=r.Symbol,j=r.JSON,N=j&&j.stringify,L=p("_hidden"),M=p("toPrimitive"),B={}.propertyIsEnumerable,F=c("symbol-registry"),U=c("symbols"),H=c("op-symbols"),W=Object.prototype,q="function"==typeof D&&!!k.f,z=r.QObject,V=!z||!z.prototype||!z.prototype.findChild,G=i&&u((function(){return 7!=S(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=x(W,t);r&&delete W[t],I(e,t,n),r&&e!==W&&I(W,t,r)}:I,$=function(e){var t=U[e]=S(D.prototype);return t._k=e,t},K=q&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Y=function(e,t,n){return e===W&&Y(H,t,n),v(e),t=E(t,!0),v(n),o(U,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=S(n,{enumerable:O(0,!1)})):(o(e,L)||I(e,L,O(1,{})),e[L][t]=!0),G(e,t,n)):I(e,t,n)},X=function(e,t){v(e);for(var n,r=g(t=w(t)),o=0,i=r.length;i>o;)Y(e,n=r[o++],t[n]);return e},J=function(e){var t=B.call(this,e=E(e,!0));return!(this===W&&o(U,e)&&!o(H,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=w(e),t=E(t,!0),e!==W||!o(U,t)||o(H,t)){var n=x(e,t);return!n||!o(U,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(w(e)),r=[],i=0;n.length>i;)o(U,t=n[i++])||t==L||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=R(n?H:w(e)),i=[],a=0;r.length>a;)!o(U,t=r[a++])||n&&!o(W,t)||i.push(U[t]);return i};q||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(H,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),G(this,e,O(1,n))};return i&&V&&G(W,e,{configurable:!0,set:t}),$(e)}).prototype,"toString",(function(){return this._k})),C.f=Z,A.f=Y,n(47).f=T.f=Q,n(62).f=J,k.f=ee,i&&!n(39)&&s(W,"propertyIsEnumerable",J,!0),h.f=function(e){return $(p(e))}),a(a.G+a.W+a.F*!q,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=P(p.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=D(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?S(e):X(S(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=u((function(){k.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return k.f(_(e))}}),j&&a(a.S+a.F*(!q||u((function(){var e=D();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,N.apply(j,r)}}),D.prototype[M]||n(18)(D.prototype,M,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},(e,t,n)=>{var r=n(0);r(r.S,"Object",{create:n(42)})},(e,t,n)=>{var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperty:n(12).f})},(e,t,n)=>{var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperties:n(108)})},(e,t,n)=>{var r=n(19),o=n(31).f;n(25)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},(e,t,n)=>{var r=n(14),o=n(43);n(25)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},(e,t,n)=>{var r=n(14),o=n(40);n(25)("keys",(function(){return function(e){return o(r(e))}}))},(e,t,n)=>{n(25)("getOwnPropertyNames",(function(){return n(146).f}))},(e,t,n)=>{var r=n(6),o=n(35).onFreeze;n(25)("freeze",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},(e,t,n)=>{var r=n(6),o=n(35).onFreeze;n(25)("seal",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},(e,t,n)=>{var r=n(6),o=n(35).onFreeze;n(25)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},(e,t,n)=>{var r=n(6);n(25)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},(e,t,n)=>{var r=n(6);n(25)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},(e,t,n)=>{var r=n(6);n(25)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},(e,t,n)=>{var r=n(0);r(r.S+r.F,"Object",{assign:n(109)})},(e,t,n)=>{var r=n(0);r(r.S,"Object",{is:n(110)})},(e,t,n)=>{var r=n(0);r(r.S,"Object",{setPrototypeOf:n(81).set})},(e,t,n)=>{"use strict";var r=n(56),o={};o[n(7)("toStringTag")]="z",o+""!="[object z]"&&n(15)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},(e,t,n)=>{var r=n(0);r(r.P,"Function",{bind:n(111)})},(e,t,n)=>{var r=n(12).f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n(11)&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},(e,t,n)=>{"use strict";var r=n(6),o=n(43),i=n(7)("hasInstance"),a=Function.prototype;i in a||n(12).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},(e,t,n)=>{var r=n(0),o=n(113);r(r.G+r.F*(parseInt!=o),{parseInt:o})},(e,t,n)=>{var r=n(0),o=n(114);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},(e,t,n)=>{"use strict";var r=n(3),o=n(17),i=n(29),a=n(83),s=n(34),l=n(4),u=n(47).f,c=n(31).f,d=n(12).f,f=n(48).trim,p="Number",h=r.Number,m=h,g=h.prototype,y=i(n(42)(g))==p,v="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=v?t.trim():f(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,l=t.slice(2),u=0,c=l.length;u<c;u++)if((a=l.charCodeAt(u))<48||a>o)return NaN;return parseInt(l,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(y?l((function(){g.valueOf.call(n)})):i(n)!=p)?a(new m(b(t)),n,h):b(t)};for(var _,w=n(11)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)o(m,_=w[E])&&!o(h,_)&&d(h,_,c(m,_));h.prototype=g,g.constructor=h,n(15)(r,p,h)}},(e,t,n)=>{"use strict";var r=n(0),o=n(24),i=n(115),a=n(84),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d="0",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=l(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=l(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call(d,7-n.length)+n}return t},m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,l=i(this,c),u=o(e),g="",y=d;if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*m(2,69,1))-69,n=t<0?l*m(2,-t,1):l/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=u;r>=7;)f(1e7,0),r-=7;for(f(m(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),f(1,1),p(2),y=h()}else f(0,n),f(1<<-t,0),y=h()+a.call(d,u);return y=u>0?g+((s=y.length)<=u?"0."+a.call(d,u-s)+y:y.slice(0,s-u)+"."+y.slice(s-u)):g+y}})},(e,t,n)=>{"use strict";var r=n(0),o=n(4),i=n(115),a=1..toPrecision;r(r.P+r.F*(o((function(){return"1"!==a.call(1,void 0)}))||!o((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},(e,t,n)=>{var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},(e,t,n)=>{var r=n(0),o=n(3).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},(e,t,n)=>{var r=n(0);r(r.S,"Number",{isInteger:n(116)})},(e,t,n)=>{var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},(e,t,n)=>{var r=n(0),o=n(116),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},(e,t,n)=>{var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},(e,t,n)=>{var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},(e,t,n)=>{var r=n(0),o=n(114);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},(e,t,n)=>{var r=n(0),o=n(113);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},(e,t,n)=>{var r=n(0),o=n(117),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},(e,t,n)=>{var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},(e,t,n)=>{var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},(e,t,n)=>{var r=n(0),o=n(85);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},(e,t,n)=>{var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},(e,t,n)=>{var r=n(0),o=n(86);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{fround:n(147)})},(e,t,n)=>{var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,l=0;a<s;)l<(n=o(arguments[a++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(i)}})},(e,t,n)=>{var r=n(0),o=Math.imul;r(r.S+r.F*n(4)((function(){return-5!=o(4294967295,5)||2!=o.length})),"Math",{imul:function(e,t){var n=65535,r=+e,o=+t,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{log1p:n(117)})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{sign:n(85)})},(e,t,n)=>{var r=n(0),o=n(86),i=Math.exp;r(r.S+r.F*n(4)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},(e,t,n)=>{var r=n(0),o=n(86),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},(e,t,n)=>{var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},(e,t,n)=>{var r=n(0),o=n(41),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},(e,t,n)=>{var r=n(0),o=n(19),i=n(8);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},(e,t,n)=>{"use strict";n(48)("trim",(function(e){return function(){return e(this,3)}}))},(e,t,n)=>{"use strict";var r=n(87)(!0);n(88)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},(e,t,n)=>{"use strict";var r=n(0),o=n(87)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},(e,t,n)=>{"use strict";var r=n(0),o=n(8),i=n(89),a="endsWith",s="".endsWith;r(r.P+r.F*n(91)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),l=void 0===n?r:Math.min(o(n),r),u=String(e);return s?s.call(t,u,l):t.slice(l-u.length,l)===u}})},(e,t,n)=>{"use strict";var r=n(0),o=n(89),i="includes";r(r.P+r.F*n(91)(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},(e,t,n)=>{var r=n(0);r(r.P,"String",{repeat:n(84)})},(e,t,n)=>{"use strict";var r=n(0),o=n(8),i=n(89),a="startsWith",s="".startsWith;r(r.P+r.F*n(91)(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},(e,t,n)=>{"use strict";n(16)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},(e,t,n)=>{"use strict";n(16)("big",(function(e){return function(){return e(this,"big","","")}}))},(e,t,n)=>{"use strict";n(16)("blink",(function(e){return function(){return e(this,"blink","","")}}))},(e,t,n)=>{"use strict";n(16)("bold",(function(e){return function(){return e(this,"b","","")}}))},(e,t,n)=>{"use strict";n(16)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},(e,t,n)=>{"use strict";n(16)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},(e,t,n)=>{"use strict";n(16)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},(e,t,n)=>{"use strict";n(16)("italics",(function(e){return function(){return e(this,"i","","")}}))},(e,t,n)=>{"use strict";n(16)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},(e,t,n)=>{"use strict";n(16)("small",(function(e){return function(){return e(this,"small","","")}}))},(e,t,n)=>{"use strict";n(16)("strike",(function(e){return function(){return e(this,"strike","","")}}))},(e,t,n)=>{"use strict";n(16)("sub",(function(e){return function(){return e(this,"sub","","")}}))},(e,t,n)=>{"use strict";n(16)("sup",(function(e){return function(){return e(this,"sup","","")}}))},(e,t,n)=>{var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},(e,t,n)=>{"use strict";var r=n(0),o=n(14),i=n(34);r(r.P+r.F*n(4)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},(e,t,n)=>{var r=n(0),o=n(148);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},(e,t,n)=>{var r=Date.prototype,o="Invalid Date",i="toString",a=r.toString,s=r.getTime;new Date(NaN)+""!=o&&n(15)(r,i,(function(){var e=s.call(this);return e==e?a.call(this):o}))},(e,t,n)=>{var r=n(7)("toPrimitive"),o=Date.prototype;r in o||n(18)(o,r,n(149))},(e,t,n)=>{var r=n(0);r(r.S,"Array",{isArray:n(63)})},(e,t,n)=>{"use strict";var r=n(22),o=n(0),i=n(14),a=n(119),s=n(92),l=n(8),u=n(93),c=n(94);o(o.S+o.F*!n(64)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,f=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,y=0,v=c(f);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==v||p==Array&&s(v))for(n=new p(t=l(f.length));t>y;y++)u(n,y,g?m(f[y],y):f[y]);else for(d=v.call(f),n=new p;!(o=d.next()).done;y++)u(n,y,g?a(d,m,[o.value,y],!0):o.value);return n.length=y,n}})},(e,t,n)=>{"use strict";var r=n(0),o=n(93);r(r.S+r.F*n(4)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},(e,t,n)=>{"use strict";var r=n(0),o=n(19),i=[].join;r(r.P+r.F*(n(55)!=Object||!n(21)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},(e,t,n)=>{"use strict";var r=n(0),o=n(80),i=n(29),a=n(41),s=n(8),l=[].slice;r(r.P+r.F*n(4)((function(){o&&l.call(o)})),"Array",{slice:function(e,t){var n=s(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var o=a(e,n),u=a(t,n),c=s(u-o),d=new Array(c),f=0;f<c;f++)d[f]="String"==r?this.charAt(o+f):this[o+f];return d}})},(e,t,n)=>{"use strict";var r=n(0),o=n(23),i=n(14),a=n(4),s=[].sort,l=[1,2,3];r(r.P+r.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(21)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(0),i=n(21)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(1);r(r.P+r.F*!n(21)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(2);r(r.P+r.F*!n(21)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(3);r(r.P+r.F*!n(21)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(4);r(r.P+r.F*!n(21)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},(e,t,n)=>{"use strict";var r=n(0),o=n(121);r(r.P+r.F*!n(21)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},(e,t,n)=>{"use strict";var r=n(0),o=n(121);r(r.P+r.F*!n(21)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},(e,t,n)=>{"use strict";var r=n(0),o=n(61)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(21)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},(e,t,n)=>{"use strict";var r=n(0),o=n(19),i=n(24),a=n(8),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(21)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},(e,t,n)=>{var r=n(0);r(r.P,"Array",{copyWithin:n(122)}),n(44)("copyWithin")},(e,t,n)=>{var r=n(0);r(r.P,"Array",{fill:n(95)}),n(44)("fill")},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(5),i="find",a=!0;i in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(44)(i)},(e,t,n)=>{"use strict";var r=n(0),o=n(26)(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(44)(i)},(e,t,n)=>{n(50)("Array")},(e,t,n)=>{var r=n(3),o=n(83),i=n(12).f,a=n(47).f,s=n(90),l=n(65),u=r.RegExp,c=u,d=u.prototype,f=/a/g,p=/a/g,h=new u(f)!==f;if(n(11)&&(!h||n(4)((function(){return p[n(7)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),i=void 0===t;return!n&&r&&e.constructor===u&&i?e:o(h?new c(r&&!i?e.source:e,t):c((r=e instanceof u)?e.source:e,r&&i?l.call(e):t),n?this:d,u)};for(var m=function(e){e in u||i(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},g=a(c),y=0;g.length>y;)m(g[y++]);d.constructor=u,u.prototype=d,n(15)(r,"RegExp",u)}n(50)("RegExp")},(e,t,n)=>{"use strict";n(152);var r=n(5),o=n(65),i=n(11),a="toString",s=/./.toString,l=function(e){n(15)(RegExp.prototype,a,e,!0)};n(4)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},(e,t,n)=>{"use strict";var r=n(5),o=n(8),i=n(98),a=n(66);n(67)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=r(e),u=String(this);if(!l.global)return a(l,u);var c=l.unicode;l.lastIndex=0;for(var d,f=[],p=0;null!==(d=a(l,u));){var h=String(d[0]);f[p]=h,""===h&&(l.lastIndex=i(u,o(l.lastIndex),c)),p++}return 0===p?null:f}]}))},(e,t,n)=>{"use strict";var r=n(5),o=n(14),i=n(8),a=n(24),s=n(98),l=n(66),u=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(67)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var d=r(e),f=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var y=d.unicode;d.lastIndex=0}for(var v=[];;){var b=l(d,f);if(null===b)break;if(v.push(b),!g)break;""===String(b[0])&&(d.lastIndex=s(f,i(d.lastIndex),y))}for(var _,w="",E=0,O=0;O<v.length;O++){b=v[O];for(var S=String(b[0]),T=u(c(a(b.index),f.length),0),C=[],k=1;k<b.length;k++)C.push(void 0===(_=b[k])?_:String(_));var A=b.groups;if(p){var P=[S].concat(C,T,f);void 0!==A&&P.push(A);var x=String(t.apply(void 0,P))}else x=m(S,f,T,C,A,t);T>=E&&(w+=f.slice(E,T)+x,E=T+S.length)}return w+f.slice(E)}];function m(e,t,r,i,a,s){var l=r+e.length,u=i.length,c=p;return void 0!==a&&(a=o(a),c=f),n.call(s,c,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>u){var f=d(c/10);return 0===f?n:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):n}s=i[c-1]}return void 0===s?"":s}))}}))},(e,t,n)=>{"use strict";var r=n(5),o=n(110),i=n(66);n(67)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),l=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var c=i(s,l);return o(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]}))},(e,t,n)=>{"use strict";var r=n(90),o=n(5),i=n(57),a=n(98),s=n(8),l=n(66),u=n(97),c=n(4),d=Math.min,f=[].push,p=4294967295,h=!c((function(){RegExp(p,"y")}));n(67)("split",2,(function(e,t,n,c){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?p:t>>>0,m=new RegExp(e.source,c+"g");(i=u.call(m,o))&&!((a=m.lastIndex)>d&&(l.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&f.apply(l,i.slice(1)),s=i[0].length,d=a,l.length>=h));)m.lastIndex===i.index&&m.lastIndex++;return d===o.length?!s&&m.test("")||l.push(""):l.push(o.slice(d)),l.length>h?l.slice(0,h):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):m.call(String(o),n,r)},function(e,t){var r=c(m,e,this,t,m!==n);if(r.done)return r.value;var u=o(e),f=String(this),g=i(u,RegExp),y=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),b=new g(h?u:"^(?:"+u.source+")",v),_=void 0===t?p:t>>>0;if(0===_)return[];if(0===f.length)return null===l(b,f)?[f]:[];for(var w=0,E=0,O=[];E<f.length;){b.lastIndex=h?E:0;var S,T=l(b,h?f:f.slice(E));if(null===T||(S=d(s(b.lastIndex+(h?0:E)),f.length))===w)E=a(f,E,y);else{if(O.push(f.slice(w,E)),O.length===_)return O;for(var C=1;C<=T.length-1;C++)if(O.push(T[C]),O.length===_)return O;E=w=S}}return O.push(f.slice(w)),O}]}))},(e,t,n)=>{"use strict";var r=n(126),o=n(45),i="WeakSet";n(70)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(o(this,i),e,!0)}},r,!1,!0)},(e,t,n)=>{"use strict";var r=n(0),o=n(71),i=n(75),a=n(5),s=n(41),l=n(8),u=n(6),c=n(3).ArrayBuffer,d=n(57),f=i.ArrayBuffer,p=i.DataView,h=o.ABV&&c.isView,m=f.prototype.slice,g=o.VIEW,y="ArrayBuffer";r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,y,{isView:function(e){return h&&h(e)||u(e)&&g in e}}),r(r.P+r.U+r.F*n(4)((function(){return!new f(2).slice(1,void 0).byteLength})),y,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),o=s(void 0===t?n:t,n),i=new(d(this,f))(l(o-r)),u=new p(this),c=new p(i),h=0;r<o;)c.setUint8(h++,u.getUint8(r++));return i}}),n(50)(y)},(e,t,n)=>{var r=n(0);r(r.G+r.W+r.F*!n(71).ABV,{DataView:n(75).DataView})},(e,t,n)=>{n(28)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},(e,t,n)=>{n(28)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(28)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{var r=n(0),o=n(23),i=n(5),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=o(e),l=i(n);return a?a(r,t,l):s.call(r,t,l)}})},(e,t,n)=>{var r=n(0),o=n(42),i=n(23),a=n(5),s=n(6),l=n(4),u=n(111),c=(n(3).Reflect||{}).construct,d=l((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),f=!l((function(){c((function(){}))}));r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var l=n.prototype,p=o(s(l)?l:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},(e,t,n)=>{var r=n(12),o=n(0),i=n(5),a=n(34);o(o.S+o.F*n(4)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(o){return!1}}})},(e,t,n)=>{var r=n(0),o=n(31).f,i=n(5);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},(e,t,n)=>{"use strict";var r=n(0),o=n(5),i=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(118)(i,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new i(e)}})},(e,t,n)=>{var r=n(31),o=n(43),i=n(17),a=n(0),s=n(6),l=n(5);a(a.S,"Reflect",{get:function e(t,n){var a,u,c=arguments.length<3?t:arguments[2];return l(t)===c?t[n]:(a=r.f(t,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(u=o(t))?e(u,n,c):void 0}})},(e,t,n)=>{var r=n(31),o=n(0),i=n(5);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},(e,t,n)=>{var r=n(0),o=n(43),i=n(5);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},(e,t,n)=>{var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},(e,t,n)=>{var r=n(0),o=n(5),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},(e,t,n)=>{var r=n(0);r(r.S,"Reflect",{ownKeys:n(128)})},(e,t,n)=>{var r=n(0),o=n(5),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(t){return!1}}})},(e,t,n)=>{var r=n(12),o=n(31),i=n(43),a=n(17),s=n(0),l=n(37),u=n(5),c=n(6);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,p=arguments.length<4?t:arguments[3],h=o.f(u(t),n);if(!h){if(c(f=i(t)))return e(f,n,s,p);h=l(0)}if(a(h,"value")){if(!1===h.writable||!c(p))return!1;if(d=o.f(p,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(p,n,d)}else r.f(p,n,l(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},(e,t,n)=>{var r=n(0),o=n(81);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(n){return!1}}})},(e,t,n)=>{n(343),e.exports=n(10).Array.includes},(e,t,n)=>{"use strict";var r=n(0),o=n(61)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(44)("includes")},(e,t,n)=>{n(345),e.exports=n(10).Array.flatMap},(e,t,n)=>{"use strict";var r=n(0),o=n(160),i=n(14),a=n(8),s=n(23),l=n(120);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return s(e),t=a(r.length),n=l(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(44)("flatMap")},(e,t,n)=>{n(347),e.exports=n(10).String.padStart},(e,t,n)=>{"use strict";var r=n(0),o=n(129),i=n(69),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},(e,t,n)=>{n(349),e.exports=n(10).String.padEnd},(e,t,n)=>{"use strict";var r=n(0),o=n(129),i=n(69),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},(e,t,n)=>{n(351),e.exports=n(10).String.trimLeft},(e,t,n)=>{"use strict";n(48)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},(e,t,n)=>{n(353),e.exports=n(10).String.trimRight},(e,t,n)=>{"use strict";n(48)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},(e,t,n)=>{n(106)("asyncIterator")},(e,t,n)=>{n(356),e.exports=n(10).Object.getOwnPropertyDescriptors},(e,t,n)=>{var r=n(0),o=n(128),i=n(19),a=n(31),s=n(93);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),l=a.f,u=o(r),c={},d=0;u.length>d;)void 0!==(n=l(r,t=u[d++]))&&s(c,t,n);return c}})},(e,t,n)=>{n(358),e.exports=n(10).Object.values},(e,t,n)=>{var r=n(0),o=n(130)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},(e,t,n)=>{n(360),e.exports=n(10).Object.entries},(e,t,n)=>{var r=n(0),o=n(130)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},(e,t,n)=>{"use strict";n(153),n(362),e.exports=n(10).Promise.finally},(e,t,n)=>{"use strict";var r=n(0),o=n(10),i=n(3),a=n(57),s=n(124);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},(e,t,n)=>{n(364),n(365),n(366),e.exports=n(10)},(e,t,n)=>{var r=n(3),o=n(0),i=n(69),a=[].slice,s=/MSIE .\./.test(i),l=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},(e,t,n)=>{var r=n(0),o=n(99);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},(e,t,n)=>{for(var r=n(96),o=n(40),i=n(15),a=n(3),s=n(18),l=n(49),u=n(7),c=u("iterator"),d=u("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),m=0;m<h.length;m++){var g,y=h[m],v=p[y],b=a[y],_=b&&b.prototype;if(_&&(_[c]||s(_,c,f),_[d]||s(_,d,y),l[y]=f,v))for(g in r)_[g]||i(_,g,r[g],!0)}},(e,t,n)=>{n(209)},(e,t,n)=>{e.exports=n.p+"blank_sharing_drawingwp486e70a4903750fa358d7b57133cac80.png"},(e,t,n)=>{"use strict";e.exports=s;var r=n(471),o=r.CONTINUE,i=r.SKIP,a=r.EXIT;function s(e,t,n,o){"function"==typeof t&&"function"!=typeof n&&(o=n,n=t,t=null),r(e,t,(function(e,t){var r=t[t.length-1],o=r?r.children.indexOf(e):null;return n(e,o,r)}),o)}s.CONTINUE=o,s.SKIP=i,s.EXIT=a},(e,t)=>{"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},(e,t)=>{"use strict";var n=t;function r(e){return t.displayName=e,t;function t(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:isNaN(n.offset)?null:n.offset}}}n.start=r("start"),n.end=r("end")},e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},(e,t,n)=>{var r=n(373);e.exports=function(e){return Object(r(e))}},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(r.default.findDOMNode(e))};var r=i(n(36)),o=i(n(201));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e,t,n){var r="",c="",d=t;if("string"==typeof t){if(void 0===n)return e.style[(0,o.default)(t)]||(0,a.default)(e).getPropertyValue((0,i.default)(t));(d={})[t]=n}Object.keys(d).forEach((function(t){var n=d[t];n||0===n?(0,u.default)(t)?c+=t+"("+n+") ":r+=(0,i.default)(t)+": "+n+";":(0,s.default)(e,(0,i.default)(t))})),c&&(r+=l.transform+": "+c+";");e.style.cssText+=";"+r};var o=r(n(495)),i=r(n(691)),a=r(n(693)),s=r(n(694)),l=n(591),u=r(n(695));e.exports=t.default},e=>{"use strict";e.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=function(e){var t,n;function o(t,n){var r;return(r=e.call(this,t)||this).posTracker=null,r.onParseError=n.onParseError,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var i=o.prototype;return i._setErrorLocation=function(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset},i._reportError=function(e){var t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)},i._getOverriddenMethods=function(e){return{_err:function(t){e._reportError(t)}}},o}(n(102));e.exports=o},e=>{"use strict";e.exports=function(e){return e.toLowerCase()}},(e,t)=>{"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},e=>{"use strict";var t,n="";e.exports=function(e,r){if("string"!=typeof e)throw new TypeError("expected a string");if(1===r)return e;if(2===r)return e+e;var o=e.length*r;if(t!==e||void 0===t)t=e,n="";else if(n.length>=o)return n.substr(0,o);for(;o>n.length&&r>1;)1&r&&(n+=e),r>>=1,e+=e;return n=(n+=e).substr(0,o)}},(e,t,n)=>{"use strict";var r,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=O(n(1)),u=O(n(2)),c=O(n(36)),d=O(n(9)),f=O(n(714)),p=O(n(715)),h=O(n(716)),m=O(n(717)),g=O(n(718)),y=O(n(719)),v=O(n(720)),b=O(n(721)),_=n(722),w=O(n(723)),E=O(n(724));function O(e){return e&&e.__esModule?e:{default:e}}var S=(0,f.default)(r=(0,p.default)(r=(0,h.default)(r=(0,m.default)(r=(0,g.default)(r=(0,y.default)((i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:(0,_.parseAria)(e),isEmptyTip:!1,disable:!1,originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.insecure,n=e.resizeHide;t&&this.setStyleHeader(),this.bindListener(),this.bindWindowEvents(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.ariaProps,n=(0,_.parseAria)(e),r=Object.keys(n).some((function(e){return n[e]!==t[e]}));r&&this.setState({ariaProps:n})}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t=void 0;if(e){var n=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t=document.querySelectorAll('[data-tip][data-for="'+n+'"]')}else t=document.querySelectorAll("[data-tip]:not([data-for])");return(0,w.default)(t)}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,o=t.isCapture;this.getTargetArray(n).forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,o)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e=this.props,t=e.getContent,n=e.children,r=void 0;return t&&(r=Array.isArray(t)?t[0]&&t[0](this.state.originTooltip):t(this.state.originTooltip)),(0,b.default)(this.state.originTooltip,n,r,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,o=n.getContent,i=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,l=!0;e.currentTarget.getAttribute("data-scroll-hide")?l="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(l=this.props.scrollHide);var u=e.currentTarget.getAttribute("data-place")||this.props.place||"top",d=s?"solid":this.getEffect(e.currentTarget),f=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},p=(0,v.default)(e,e.currentTarget,c.default.findDOMNode(this),u,u,d,f),h=p.isNewState?p.newState.place:u;this.clearTimer();var m=e.currentTarget,g=this.state.show?m.getAttribute("data-delay-update")||this.props.delayUpdate:0,y=this,_=function(){y.setState({originTooltip:i,isMultiline:a,desiredPlace:u,place:h,type:m.getAttribute("data-type")||y.props.type||"dark",effect:d,offset:f,html:m.getAttribute("data-html")?"true"===m.getAttribute("data-html"):y.props.html||!1,delayShow:m.getAttribute("data-delay-show")||y.props.delayShow||0,delayHide:m.getAttribute("data-delay-hide")||y.props.delayHide||0,delayUpdate:m.getAttribute("data-delay-update")||y.props.delayUpdate||0,border:m.getAttribute("data-border")?"true"===m.getAttribute("data-border"):y.props.border||!1,extraClass:m.getAttribute("data-class")||y.props.class||y.props.className||"",disable:m.getAttribute("data-tip-disable")?"true"===m.getAttribute("data-tip-disable"):y.props.disable||!1,currentTarget:m},(function(){l&&y.addScrollListener(y.state.currentTarget),y.updateTooltip(e),o&&Array.isArray(o)&&(y.intervalUpdateContent=setInterval((function(){if(y.mount){var e=y.props.getContent,t=(0,b.default)(i,"",e[0](),a),n=y.isEmptyTip(t);y.setState({isEmptyTip:n}),y.updatePosition()}}),o[1]))}))};g?this.delayReshow=setTimeout(_,g):_()}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,o=n.disable,i=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(r,10),l=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!o){var u=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:l,show:!0},(function(){t.updatePosition(),n&&i&&i(e)}))}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(u,s):u()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=this.state,o=r.delayHide,i=r.disable,a=this.props.afterHide,s=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(s)&&!i){if(t)if(!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))||!this.state.show)return;var l=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(),t&&a&&a(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(l,parseInt(o,10)):l()}}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltip,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltip)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,o=t.place,i=t.desiredPlace,a=t.effect,s=t.offset,l=c.default.findDOMNode(this),u=(0,v.default)(n,r,l,o,i,a,s);if(u.isNewState)return this.setState(u.newState,(function(){e.updatePosition()}));l.style.left=u.position.left+"px",l.style.top=u.position.top+"px"}},{key:"setStyleHeader",value:function(){var e=document.getElementsByTagName("head")[0];if(!e.querySelector('style[id="react-tooltip"]')){var t=document.createElement("style");t.id="react-tooltip",t.innerHTML=E.default,n.nc&&t.setAttribute("nonce",n.nc),e.insertBefore(t,e.firstChild)}}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,o=n.html,i=n.ariaProps,s=n.disable,u=this.getTooltipContent(),c=this.isEmptyTip(u),f=(0,d.default)("__react_component_tooltip",{show:this.state.show&&!s&&!c},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type},{allow_hover:this.props.delayUpdate}),p=this.props.wrapper;return t.supportedWrappers.indexOf(p)<0&&(p=t.defaultProps.wrapper),o?l.default.createElement(p,a({className:f+" "+r,id:this.props.id,ref:function(t){return e.tooltipRef=t}},i,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:u}})):l.default.createElement(p,a({className:f+" "+r,id:this.props.id},i,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),u)}}]),t}(l.default.Component),o.propTypes={children:u.default.any,place:u.default.string,type:u.default.string,effect:u.default.string,offset:u.default.object,multiline:u.default.bool,border:u.default.bool,insecure:u.default.bool,class:u.default.string,className:u.default.string,id:u.default.string,html:u.default.bool,delayHide:u.default.number,delayUpdate:u.default.number,delayShow:u.default.number,event:u.default.string,eventOff:u.default.string,watchWindow:u.default.bool,isCapture:u.default.bool,globalEventOff:u.default.string,getContent:u.default.any,afterShow:u.default.func,afterHide:u.default.func,disable:u.default.bool,scrollHide:u.default.bool,resizeHide:u.default.bool,wrapper:u.default.string},o.defaultProps={insecure:!0,resizeHide:!0,wrapper:"div"},o.supportedWrappers=["div","span"],o.displayName="ReactTooltip",r=i))||r)||r)||r)||r)||r)||r;e.exports=S},e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},(e,t,n)=>{var r=n(447),o=n(373);e.exports=function(e){return r(o(e))}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StudentGradeLevels=t.SectionLoginType=t.PostMilestoneMode=t.PlGradeValue=t.LevelStatus=t.LevelKind=t.ErrorSeverityLevels=t.ConditionallyPublishableProjectTypes=t.ArtistAutorunOptions=t.AlwaysPublishableProjectTypes=t.AllPublishableProjectTypes=t.AbuseConstants=void 0;t.ArtistAutorunOptions={full_auto_run:"FULL_AUTO_RUN"};t.LevelKind={peer_review:"peer_review",assessment:"assessment",puzzle:"puzzle",unplugged:"unplugged",level:"level",stage_extras:"stage_extras"};t.LevelStatus={not_tried:"not_tried",submitted:"submitted",perfect:"perfect",passed:"passed",attempted:"attempted",review_accepted:"review_accepted",review_rejected:"review_rejected",dots_disabled:"dots_disabled",free_play_complete:"free_play_complete",completed_assessment:"completed_assessment"};t.SectionLoginType={word:"word",picture:"picture",email:"email",google_classroom:"google_classroom",clever:"clever"};t.StudentGradeLevels=["K","1","2","3","4","5","6","7","8","9","10","11","12","Other"];t.PlGradeValue="pl";t.PostMilestoneMode={all:"all",successful_runs_and_final_level_only:"successful_runs_and_final_level_only",final_level_only:"final_level_only"};t.AlwaysPublishableProjectTypes=["artist","frozen","playlab","gumball","iceage","infinity","minecraft_adventurer","minecraft_designer","minecraft_hero","minecraft_aquatic","starwars","starwarsblocks","starwarsblocks_hour","flappy","bounce","sports","basketball","artist_k1","playlab_k1","dance","spritelab","poetry","poetry_hoc","thebadguys"];t.AllPublishableProjectTypes=["artist","frozen","playlab","gumball","iceage","infinity","minecraft_adventurer","minecraft_designer","minecraft_hero","minecraft_aquatic","starwars","starwarsblocks","starwarsblocks_hour","flappy","bounce","sports","basketball","artist_k1","playlab_k1","dance","spritelab","poetry","poetry_hoc","thebadguys","applab","gamelab"];t.ConditionallyPublishableProjectTypes=["applab","gamelab"];t.AbuseConstants={ABUSE_THRESHOLD:15};t.ErrorSeverityLevels={WARN:2,ERROR:3,FATAL:4}},(e,t,n)=>{var r=n(414),o=n(415);e.exports=n(164)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environmentSpecificCookieName=function(e){var t=window.dashboard.rack_env;if("production"===t)return e;return"".concat(e,"_").concat(t)},t.getRootDomainFromHostname=function(e){return e.split(".").slice(-2).join(".")},t.hasQueryParam=function(e){var t=u();return Object.prototype.hasOwnProperty.call(t,e)},t.queryParams=u,t.resetWindowLocation=function(){l=window.location},t.setWindowLocation=function(e){l=e},t.updateQueryParam=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o.default.stringify(a(a({},o.default.parse(l.search)),{},s({},e,t))),i=l.pathname;r&&(i+="?"+r);var u=n?"replaceState":"pushState";window.history[u](null,document.title,i)};var r,o=(r=n(169))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=window.location;function u(e){var t=o.default.parse(l.search);return e?t[e]:t}},,e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},(e,t,n)=>{var r=n(456)("keys"),o=n(458);e.exports=function(e){return r[e]||(r[e]=o(e))}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.URIFromImageData=function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t.toDataURL()},t.blobToDataURI=function(e,t){var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.readAsDataURL(e)},t.canvasToBlob=p,t.dataURIFromURI=function(e){return f.apply(this,arguments)},t.dataURIToBlob=function(e){return h.apply(this,arguments)},t.dataURIToFramedBlob=function(e,t){var n=new Image,r=new Image;r.src=e,n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height;var o=e.getContext("2d");o.drawImage(n,0,0),o.drawImage(r,175,52,154,154),e.toBlob&&e.toBlob(t)},n.src=i.default},t.dataURIToSourceSize=function(e){return m(e).then((function(e){return{x:e.width,y:e.height}}))},t.downloadBlobAsPng=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.png",n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t,n.click()},t.fetchURLAsBlob=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(n){200===n.target.status?t(null,n.target.response):t(new Error("URL ".concat(e," responded with code ").concat(n.target.status)))},n.onerror=function(e){return t(new Error("Error ".concat(e.target.status," occurred while receiving the document.")))},n.send()},t.svgToDataURI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o){Promise.all([n.e(207),n.e(202)]).then(n.t.bind(n,756,23)).then((function(){e.toDataURL(t,l(l({},r),{},{callback:o}))}))}))},t.toCanvas=y,t.toImage=m,t.toImageData=function(e){return b.apply(this,arguments)};var o,i=(o=n(368))&&o.__esModule?o:{default:o};function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function f(){return(f=d(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return n=e.sent,e.abrupt("return",n.toDataURL());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return new Promise((function(t){e.toBlob(t)}))}function h(){return(h=d(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return n=e.sent,e.next=5,p(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=d(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof HTMLImageElement)){e.next=2;break}return e.abrupt("return",t);case 2:if(r=function(){},!(t instanceof Blob)){e.next=8;break}n=URL.createObjectURL(t),r=function(){return URL.revokeObjectURL(t)},e.next=13;break;case 8:if("string"!=typeof t){e.next=12;break}n=t,e.next=13;break;case 12:throw new Error("Unable to convert input to image");case 13:return e.abrupt("return",new Promise((function(e,t){var o=new Image;o.onload=function(){r(),e(o)},o.onerror=function(e){r(),t(e)},o.src=n})));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=d(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof HTMLCanvasElement)){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,m(t);case 5:return n=e.sent,(r=document.createElement("canvas")).width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0),e.abrupt("return",r);case 14:throw e.prev=14,e.t0=e.catch(2),new Error("Unable to convert input to canvas: "+e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function b(){return(b=d(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof ImageData)){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,y(t);case 5:return n=e.sent,e.abrupt("return",n.getContext("2d").getImageData(0,0,n.width,n.height));case 9:throw e.prev=9,e.t0=e.catch(2),new Error("Unable to convert input to ImageData: "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,u;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=c.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var u=l.length,c=h(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=n(2))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={aboveFooter:{height:"90px"},footer:{position:"absolute",height:"100px",padding:"0 20px",left:"0",right:"0",bottom:"0",background:"white",zIndex:"500"},buttonRow:{display:"flex",flexFlow:"row",justifyContent:"space-between"},rightAlign:{justifyContent:"flex-end"}},p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e=this.props.rightAlign?u(u({},f.buttonRow),f.rightAlign):f.buttonRow;return a.default.createElement("div",null,a.default.createElement("div",{style:f.aboveFooter}),a.default.createElement("div",{style:f.footer},a.default.createElement("hr",null),a.default.createElement("div",{style:e},this.props.children)))},r}(a.Component);t.default=p,d(p,"propTypes",{rightAlign:i.default.bool,children:i.default.any}),e.exports=t.default},(e,t,n)=>{e.exports=n(822)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}return(0,i.default)(r)};var r,o=n(200),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,o,i){var a=r||"<<anonymous>>",s=i||n;if(null==t[n])return new Error("The "+o+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return e.apply(void 0,[t,n,r,o,i].concat(u))}},e.exports=t.default},(e,t,n)=>{"use strict";e.exports=function(e,t,n){var r=t&&t.type,o=i.call(e.handlers,r)?e.handlers[r]:null;if(!r)throw new Error("Expected node, got `"+t+"`");return("function"==typeof o?o:a)(e,t,n)};var r=n(73),o=n(58),i={}.hasOwnProperty;function a(e,t){return function(e){var t=e.data||{};if(i.call(t,"hName")||i.call(t,"hProperties")||i.call(t,"hChildren"))return!1;return"value"in e}(t)?e.augment(t,r("text",t.value)):e(t,"div",o(e,t))}},e=>{"use strict";e.exports=function(e,t){return e(t,"hr")}},(e,t,n)=>{"use strict";e.exports=function(e,t){var n={},i=t.ordered?"ol":"ul";"number"==typeof t.start&&1!==t.start&&(n.start=t.start);return e(t,i,n,r(o(e,t),!0))};var r=n(139),o=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n=t.identifier;return e(t.position,"sup",{id:"fnref-"+n},[e(t,"a",{href:"#fn-"+n,className:["footnote-ref"]},[r("text",n)])])};var r=n(73)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n,i,a,s=t.referenceType,l="]";"collapsed"===s?l+="[]":"full"===s&&(l+="["+(t.label||t.identifier)+"]");if("imageReference"===t.type)return r("text","!["+t.alt+l);n=o(e,t),(i=n[0])&&"text"===i.type?i.value="["+i.value:n.unshift(r("text","["));(a=n[n.length-1])&&"text"===a.type?a.value+=l:n.push(r("text",l));return n};var r=n(73),o=n(58)},(e,t,n)=>{"use strict";var r=n(101),o=n(404);e.exports=function(e){var t,n,i=e.length,a=[],s=[],l=-1;for(;++l<i;)t=e[l],a.push(t.property),s.push(t.normal),n=t.space;return new o(r.apply(null,a),r.apply(null,s),n)}},e=>{"use strict";e.exports=n;var t=n.prototype;function n(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}t.space=null,t.normal={},t.property={}},(e,t,n)=>{"use strict";var r=n(140);e.exports=r({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},e=>{"use strict";e.exports=function(e){return e.toLowerCase().replace(/\b[:-]\b/g,"")}},(e,t,n)=>{"use strict";var r=n(408),o=n(370);function i(e,t,n,i){a(this,"space",i),r.call(this,e,t),a(this,"boolean",s(n,o.boolean)),a(this,"booleanish",s(n,o.booleanish)),a(this,"overloadedBoolean",s(n,o.overloadedBoolean)),a(this,"number",s(n,o.number)),a(this,"commaSeparated",s(n,o.commaSeparated)),a(this,"spaceSeparated",s(n,o.spaceSeparated)),a(this,"commaOrSpaceSeparated",s(n,o.commaOrSpaceSeparated))}function a(e,t,n){n&&(e[t]=n)}function s(e,t){return(e&t)===t}e.exports=i,i.prototype=new r,i.prototype.defined=!0},e=>{"use strict";e.exports=n;var t=n.prototype;function n(e,t){this.property=e,this.attribute=t}t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1},(e,t,n)=>{"use strict";var r=n(140);e.exports=r({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},(e,t,n)=>{"use strict";var r=n(140),o=n(411);e.exports=r({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:o,properties:{xmlns:null,xmlnsXLink:null}})},(e,t,n)=>{"use strict";var r=n(412);e.exports=function(e,t){return r(e,t.toLowerCase())}},e=>{"use strict";e.exports=function(e,t){return t in e?e[t]:t}},(e,t,n)=>{"use strict";var r=n(370),o=n(140),i=r.booleanish,a=r.number,s=r.spaceSeparated;e.exports=o({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:i,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:s,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},(e,t,n)=>{var r=n(205),o=n(573),i=n(574),a=Object.defineProperty;t.f=n(164)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},(e,t,n)=>{var r=n(476);e.exports=function(e,t){if(!e||"string"!=typeof e)return null;for(var n,o,i,a=r("p{"+e+"}").stylesheet.rules[0].declarations,s=null,l="function"==typeof t,u=0,c=a.length;u<c;u++)o=(n=a[u]).property,i=n.value,l?t(o,i,n):i&&(s||(s={}),s[o]=i);return s}},(e,t,n)=>{"use strict";var r=n(166);t.parse=function(e){var t=r(String(e||""));return""===t?[]:t.split(o)},t.stringify=function(e){return r(e.join(" "))};var o=/[ \t\n\r\f]+/g},(e,t)=>{"use strict";t.parse=function(e){var t,n=[],r=String(e||""),o=r.indexOf(","),i=0,a=!1;for(;!a;)-1===o&&(o=r.length,a=!0),!(t=r.slice(i,o).trim())&&a||n.push(t),i=o+1,o=r.indexOf(",",i);return n},t.stringify=function(e,t){var n=t||{},r=!1===n.padLeft?"":" ",o=n.padRight?" ":"";""===e[e.length-1]&&(e=e.concat(""));return e.join(o+","+r).trim()}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeViewType=t.ViewType=t.SET_VIEW_TYPE=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Participant,t=arguments.length>1?arguments[1]:void 0;if(t.type===a){var n=t.viewType;if("Teacher"===n)n="Instructor",(0,o.updateQueryParam)("viewAs","Instructor");else if("Student"===n)n="Participant",(0,o.updateQueryParam)("viewAs","Participant");else if(!i[n])throw new Error("unknown ViewType: "+n);return n}return e},t.setViewType=void 0;var r=n(33),o=n(388),i=(0,r.makeEnum)("Participant","Instructor");t.ViewType=i;var a="viewAs/SET_VIEW_TYPE";t.SET_VIEW_TYPE=a;var s=function(e){return{type:a,viewType:e}};t.setViewType=s;t.changeViewType=function(e){return function(t){if(e===i.Participant&&(0,o.queryParams)("user_id"))return(0,o.updateQueryParam)("user_id",void 0),void(0,r.reload)();t(s(e))}}},(e,t)=>{"use strict";var n=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];t.REPLACEMENT_CHARACTER="�",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},t.isSurrogate=function(e){return e>=55296&&e<=57343},t.isSurrogatePair=function(e){return e>=56320&&e<=57343},t.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},t.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},t.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||n.indexOf(e)>-1}},(e,t)=>{t.addReadyListener=function(e){"complete"===document.readyState?setTimeout(e,1):window.addEventListener("load",e,!1)},t.getTouchEventName=function(e){var t,n=window.navigator.pointerEnabled,o=window.navigator.msPointerEnabled;if(n?t="ie11":o?t="ie10":!(n||o)&&(t="standard"),t&&r[e])return r[e][t]};var n=function(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(t,n,r){e.addEventListener(n,r,!1),i[t]={name:n,handler:r}},s=function(t){var n=i[t];n&&(e.removeEventListener(n.name,n.handler),delete i[t])};a("click",n,r);var l=t.getTouchEventName(n);return l&&a("touch",l,(function(e){o&&e.preventDefault();["pointerdown","MSPointerDown","pointermove","MSPointerMove","pointerup","MSPointerUp"].includes(l)&&s("click"),null==r||r.call(this,e)})),function(){s("click"),s("touch")}};t.addMouseDownTouchEvent=function(e,t){return n(e,"mousedown",t)},t.addMouseUpTouchEvent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n(e,"mouseup",t,r)},t.addMouseMoveTouchEvent=function(e,t){return n(e,"mousemove",t)},t.addClickTouchEvent=function(e,t){return n(e,"click",t)};var r={click:{standard:"touchstart",ie10:"MSPointerDown",ie11:"pointerdown"},mousedown:{standard:"touchstart",ie10:"MSPointerDown",ie11:"pointerdown"},mouseup:{standard:"touchend",ie10:"MSPointerUp",ie11:"pointerup"},mousemove:{standard:"touchmove",ie10:"MSPointerMove",ie11:"pointermove"}};t.TOUCH_MAP=r,t.isMobile=function(){return/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/.test(window.navigator.userAgent)},t.isWindowsTouch=function(){return/MSIE.*Touch/.test(window.navigator.userAgent)},t.isAndroid=function(){return/Android/.test(window.navigator.userAgent)},t.isIOS=function(){return/iP(hone|od|ad)/.test(window.navigator.userAgent)},t.isIPad=function(){return/iPad/i.test(window.navigator.userAgent)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(1)),i=a(n(200));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,n,i,a){var s=e[t],l=void 0===s?"undefined":r(s);return o.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,i.default.findDOMNode(e)||t};var r,o=n(36),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";var r,o=(r=n(638))&&r.__esModule?r:{default:r};HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=atob(this.toDataURL(t,n).split(",")[1]),o=new Uint8Array(r.length),i=0;i<r.length;i++)o[i]=r.charCodeAt(i);e(new Blob([o],{type:t||"image/png"}))}}),void 0===SVGElement.prototype.getElementsByClassName&&(SVGElement.prototype.getElementsByClassName=function(e){return this.querySelectorAll("."+e)}),document.evaluate||o.default.install(window)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l,u,c,d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r.prototype.render=function(){var e=this.props,t=e.size,n=e.style,r="small"===t?"":"medium"===t?"fa-2x":"fa-3x";return o.default.createElement(i.default,{style:n,icon:"spinner",className:"fa-pulse ".concat(r)})},r}(o.default.Component);t.default=d,l=d,u="propTypes",c={size:r.default.oneOf(["small","medium","large"]),style:r.default.object},u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},(e,t)=>{function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,i=String(e);return(n=r[i.toLowerCase()])?n:(n=o[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var i;if(i=r[t.toLowerCase()])return i===n;if(i=o[t.toLowerCase()])return i===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)r[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)r[i-48]=i;for(i=1;i<13;i++)r["f"+i]=i+111;for(i=0;i<10;i++)r["numpad "+i]=i+96;var a=t.names=t.title={};for(i in r)a[r[i]]=i;for(var s in o)r[s]=o[s]},(e,t,n)=>{"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=a(n(1)),i=a(n(677));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,n,i,a){var s=e[t],l=void 0===s?"undefined":r(s);return o.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}))},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=n(102),i=n(190),a=n(432),s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).tokenizer=t,n.posTracker=o.install(t.preprocessor,a),n.currentAttrLocation=null,n.ctLoc=null,n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var l=s.prototype;return l._getCurrentLocation=function(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}},l._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},l._getOverriddenMethods=function(e,t){var n={_createStartTagToken:function(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken:function(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken:function(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken:function(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.ctLoc},_createCharacterToken:function(n,r){t._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=e.ctLoc},_createEOFToken:function(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr:function(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName:function(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){var n=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=n.startLine,this.currentCharacterToken.location.endCol=n.startCol,this.currentCharacterToken.location.endOffset=n.startOffset),this.currentToken.type===i.EOF_TOKEN?(n.endLine=n.startLine,n.endCol=n.startCol,n.endOffset=n.startOffset):(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col+1,n.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){var n=this.currentCharacterToken&&this.currentCharacterToken.location;n&&-1===n.endOffset&&(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col,n.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((function(r){var o=i.MODE[r];n[o]=function(n){e.ctLoc=e._getCurrentLocation(),t[o].call(this,n)}})),n},s}(o);e.exports=s},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this).preprocessor=t,n.isEol=!1,n.lineStartPos=0,n.droppedBufferSize=0,n.offset=0,n.col=0,n.line=1,n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),o.prototype._getOverriddenMethods=function(e,t){return{advance:function(){var n=this.pos+1,r=this.html[n];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=n),("\n"===r||"\r"===r&&"\n"!==this.html[n+1])&&(e.isEol=!0),e.col=n-e.lineStartPos+1,e.offset=e.droppedBufferSize+n,t.advance.call(this)},retreat:function(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk:function(){var n=this.pos;t.dropParsedChunk.call(this);var r=n-this.pos;e.lineStartPos-=r,e.droppedBufferSize+=r,e.offset=e.droppedBufferSize+this.pos}}},o}(n(102));e.exports=o},(e,t,n)=>{"use strict";var r=n(101),o=n(434);e.exports=function(e){var t,n,i=e.length,a=[],s=[],l=-1;for(;++l<i;)t=e[l],a.push(t.property),s.push(t.normal),n=t.space;return new o(r.apply(null,a),r.apply(null,s),n)}},e=>{"use strict";e.exports=n;var t=n.prototype;function n(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}t.space=null,t.normal={},t.property={}},(e,t,n)=>{"use strict";var r=n(163);e.exports=r({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},(e,t,n)=>{"use strict";var r=n(437),o=n(380);function i(e,t,n,i){a(this,"space",i),r.call(this,e,t),a(this,"boolean",s(n,o.boolean)),a(this,"booleanish",s(n,o.booleanish)),a(this,"overloadedBoolean",s(n,o.overloadedBoolean)),a(this,"number",s(n,o.number)),a(this,"commaSeparated",s(n,o.commaSeparated)),a(this,"spaceSeparated",s(n,o.spaceSeparated)),a(this,"commaOrSpaceSeparated",s(n,o.commaOrSpaceSeparated))}function a(e,t,n){n&&(e[t]=n)}function s(e,t){return(e&t)===t}e.exports=i,i.prototype=new r,i.prototype.defined=!0},e=>{"use strict";e.exports=n;var t=n.prototype;function n(e,t){this.property=e,this.attribute=t}t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1},(e,t,n)=>{"use strict";var r=n(163);e.exports=r({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},(e,t,n)=>{"use strict";var r=n(163),o=n(440);e.exports=r({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:o,properties:{xmlns:null,xmlnsXLink:null}})},(e,t,n)=>{"use strict";var r=n(441);e.exports=function(e,t){return r(e,t.toLowerCase())}},e=>{"use strict";e.exports=function(e,t){return t in e?e[t]:t}},(e,t,n)=>{"use strict";var r=n(380),o=n(163),i=r.booleanish,a=r.number,s=r.spaceSeparated;e.exports=o({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:i,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:s,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},(e,t,n)=>{"use strict";var r=n(193),o=n(379),i=n(565),a=n(418).parse,s=n(419).parse;function l(e,t){return"string"==typeof e||"length"in e||function(e,t){var n=t.type;if("input"===e||!n||"string"!=typeof n)return!1;if("object"==typeof t.children&&"length"in t.children)return!0;if(n=n.toLowerCase(),"button"===e)return"menu"!==n&&"submit"!==n&&"reset"!==n&&"button"!==n;return"value"in t}(t.tagName,e)}function u(e,t){var n,r;if("string"!=typeof t&&"number"!=typeof t)if("object"==typeof t&&"length"in t)for(n=-1,r=t.length;++n<r;)u(e,t[n]);else{if("object"!=typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}else e.push({type:"text",value:String(t)})}function c(e,t,n){var r=n;return e.number||e.positiveNumber?isNaN(r)||""===r||(r=Number(r)):(e.boolean||e.overloadedBoolean)&&("string"!=typeof r||""!==r&&o(n)!==o(t)||(r=!0)),r}e.exports=function(e,t){return function(e,r){var o,a=i(e,t),s=Array.prototype.slice.call(arguments,2);r&&l(r,a)&&(s.unshift(r),r=null);if(r)for(o in r)n(a.properties,o,r[o]);u(a.children,s),"template"===a.tagName&&(a.content={type:"root",children:a.children},a.children=[]);return a};function n(t,n,o){var i,l,u;null!=o&&o==o&&(l=(i=r(e,n)).property,"string"==typeof(u=o)&&(i.spaceSeparated?u=a(u):i.commaSeparated?u=s(u):i.commaOrSpaceSeparated&&(u=a(s(u).join(" ")))),"style"===l&&"string"!=typeof o&&(u=function(e){var t,n=[];for(t in e)n.push([t,e[t]].join(": "));return n.join("; ")}(u)),"className"===l&&t.className&&(u=t.className.concat(u)),t[l]=function(e,t,n){var r,o,i;if("object"!=typeof n||!("length"in n))return c(e,t,n);o=n.length,r=-1,i=[];for(;++r<o;)i[r]=c(e,t,n[r]);return i}(i,l,u))}}},e=>{"use strict";e.exports=function(e,r){var o=r||{};function i(r){var o=i.invalid,a=i.handlers;return r&&n.call(r,e)&&(o=n.call(a,r[e])?a[r[e]]:i.unknown),(o||t).apply(this,arguments)}return i.handlers=o.handlers||{},i.invalid=o.invalid,i.unknown=o.unknown,i};var t=Function.prototype,n={}.hasOwnProperty},e=>{"use strict";e.exports=function(e){return n.test("number"==typeof e?t(e):e.charAt(0))};var t=String.fromCharCode,n=/\s/},(e,t,n)=>{var r=n(383),o=n(168).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},(e,t,n)=>{var r=n(416);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},(e,t,n)=>{"use strict";var r=i(n(169)),o=i(n(131));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(){return n(450)}function u(e,t,n){var r="/v3/".concat(e,"/").concat(t);return n&&(r+="/".concat(n)),r}function c(e,t,n,r,o){var i=new XMLHttpRequest;i.addEventListener("load",(function(){i.status>=400?r&&r(i):n(i)})),i.addEventListener("error",(function(){r&&r(i)})),i.open(e,t,!0),i.send(o)}var d=function(){function e(e){this.collectionType=e}var t=e.prototype;return t.withProjectId=function(e){var t=new this.constructor(this.collectionType);return t.projectId=e,t},t.getProjectId=function(){return this.projectId||l().getCurrentId()},t.basePath=function(e){var t;return e&&(t=encodeURIComponent(e).replace(/%2F/g,"/")),u(this.collectionType,this.getProjectId(),t)},t.ajax=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(r=r||function(){},window.dashboard||this.getProjectId()){var a=this.basePath(t);return i.length>0&&(a+="?",i.forEach((function(e,t){a+=e,t<i.length-1&&(a+="&")}))),c(e,a,n,r,o)}r({status:"No dashboard"})},t.getFile=function(e,t,n,r,o){if(r=r||function(){},window.dashboard||this.getProjectId()){var i=this.basePath(e);return t&&(i="".concat(i,"?version=").concat(t)),c("GET",i,n,r)}r({status:"No dashboard"})},t.restorePreviousFileVersion=function(e,t,n,o){var i=this.basePath("".concat(e,"/restore"));return c("PUT",i+="?"+r.default.stringify({version:t}),n,o)},t._withBeforeFirstWriteHook=function(e){var t=this;this._shouldCallBeforeFirstWriteHook&&this._beforeFirstWriteHook?this._beforeFirstWriteHook((function(n,r){n?(o.default.putRecord({study:"weblab_loading_investigation",study_group:"empty_manifest",event:"error_uploading_starter_files",project_id:t.getProjectId()},{includeUserId:!0}),t._shouldCallBeforeFirstWriteHook=!0,t._errorAction()):r&&(t._shouldCallBeforeFirstWriteHook=!1,t._beforeFirstWriteHook=null,e())})):e()},t.registerBeforeFirstWriteHook=function(e){this._shouldCallBeforeFirstWriteHook=!0,this._beforeFirstWriteHook=e},t.registerErrorAction=function(e){this._errorAction=e},e}(),f=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.copyAssets=function(e,t,n,o){var i=u("copy-assets",this.getProjectId());return c("POST",i+="?"+r.default.stringify({src_channel:e,src_files:JSON.stringify(t)}),n,o)},n.deleteFile=function(e,t,n){return c("DELETE",this.basePath(e),t,n)},n.getUploadUrl=function(){return this.basePath("/")},n.wrapUploadDoneCallback=function(e){return e},n.wrapUploadStartCallback=function(e){return e},n.getFiles=function(e,t,n){return c("GET",this.basePath(""),(function(n){var r;try{r=JSON.parse(n.responseText)}catch(o){if(t)return void t(n)}e&&e({files:r},n)}),t)},n.putAsset=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this._withBeforeFirstWriteHook((function(){c("PUT",n.basePath(e),r,o,t)}))},t}(d),p=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.getVersionHistory=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u("files-version",this.getProjectId());return n&&(r+="?with_comments=true"),c("GET",r,e,t)},n.restorePreviousVersion=function(e,t,n){var o=u("files-version",this.getProjectId());return c("PUT",o+="?"+r.default.stringify({version:e}),t,n)},n._renameFileInternal=function(e,t,n,o){var i=this.basePath(t),a={src:e,delete:e};return l().filesVersionId&&(a["files-version"]=l().filesVersionId),c("PUT",i+="?"+r.default.stringify(a),(function(e){var t=JSON.parse(e.response);l().filesVersionId=t.filesVersionId,n&&n(e,l().filesVersionId)}),o)},n.renameFile=function(e,t,n,r){var o=this;this._withBeforeFirstWriteHook((function(){o._renameFileInternal(e,t,n,r)}))},n.prepareForRemix=function(e){this._withBeforeFirstWriteHook(e)},n.basePathWithFilesVersion=function(e){var t=this.basePath(e);return l().filesVersionId&&(t+="?files-version=".concat(l().filesVersionId)),t},n._deleteFileInternal=function(e,t,n){return c("DELETE",this.basePathWithFilesVersion(e),(function(e){var n=JSON.parse(e.response);l().filesVersionId=n.filesVersionId,t&&t(e,l().filesVersionId)}),n)},n.deleteFile=function(e,t,n){var r=this;this._withBeforeFirstWriteHook((function(){r._deleteFileInternal(e,t,n)}))},n._putFileInternal=function(e,t,n,r){return c("PUT",this.basePathWithFilesVersion(e),(function(e){var t=JSON.parse(e.response);l().filesVersionId=t.filesVersionId,n&&n(e,l().filesVersionId)}),r,t)},n.putFile=function(e,t,n,r){var o=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(){return o._putFileInternal(e,t,n,r)};i?a():this._withBeforeFirstWriteHook(a)},n.deleteAll=function(e,t){return this._beforeFirstWriteHook=null,this._shouldCallBeforeFirstWriteHook=!1,c("DELETE",this.basePath("*"),e,t)},n.getUploadUrl=function(){return this.basePathWithFilesVersion("/")},n.wrapUploadDoneCallback=function(e){return function(t){l().filesVersionId=t.filesVersionId,e&&e(t)}},n.wrapUploadStartCallback=function(e){var t=this;return function(n){t._withBeforeFirstWriteHook((function(){e(n)}))}},n.getFiles=function(e,t,n){var r=this.basePath("");return n&&(r+="?version=".concat(n)),c("GET",r,(function(n){var r;try{r=JSON.parse(n.responseText)}catch(o){if(t)return void t(n)}e&&e(r,n)}),t)},t}(d),h=function(){function e(){}var t=e.prototype;return t.getStarterAssets=function(e,t,n){return c("GET",this.withLevelName(e).basePath(""),t,n)},t.withLevelName=function(e){var t=new this.constructor;return t.levelName=e,t},t.basePath=function(e){if(!this||!this.levelName){throw new Error("You must bind the API and set levelName before creating a base path.")}return"/level_starter_assets/".concat(this.levelName,"/").concat(e)},t.getUploadUrl=function(){return this.basePath("")},t.wrapUploadDoneCallback=function(e){return e},t.wrapUploadStartCallback=function(e){return e},t.deleteFile=function(e,t,n){return c("DELETE",this.basePath(e),t,n)},e}();e.exports={animations:new d("animations"),assets:new f("assets"),starterAssets:new h,files:new p("files"),sources:new d("sources"),channels:new d("channels")}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=v(n(32)),i=v(n(13)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(33)),s=n(137),l=n(449),u=v(n(131)),c=n(385),d=v(n(846)),f=n(841),p=v(n(901)),h=n(388),m=n(136),g=n(492);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=h.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,l(v,"constructor",h),l(h,"constructor",p),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function _(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S,T,C,k=c.AbuseConstants.ABUSE_THRESHOLD,A=!1,P=!1,x=!1,I=n(840).create("/v3/assets"),R=n(840).create("/v3/files"),D=n(840).create("/v3/sources"),j=n(840).create("/v3/sources-public"),N=n(840).create("/v3/channels"),L=n(1001),M="main.json",B="appModeChanged",F="appInitialized",U="workspaceChange",H=0,W=0,q=1,z=2,V=3,G=4,$=!1,K=0,Y=9e5,X=0,J=!1,Z=!1,Q="",ee="",te=!1,ne=!1,re=!1,oe=!1,ie=!1,ae=null,se=null,le=null,ue={source:null,html:null,makerAPIsEnabled:null,animations:null,selectedSong:null,selectedPoem:null};function ce(e){ue={source:e.source,html:e.html,animations:e.animations,makerAPIsEnabled:e.makerAPIsEnabled,selectedSong:e.selectedSong,selectedPoem:e.selectedPoem,libraries:e.libraries}}var de=/^(.*\/projects\/\w+\/[\w\d-]+)\/.*/,fe=".metadata/thumbnail.png",pe=e.exports={getCurrentId:function(){if(S)return S.id},getCurrentName:function(){if(S)return S.name},getCurrentLibraryName:function(){if(S)return S.libraryName},getCurrentLibrarySharedClasses:function(){if(S)return S.sharedWith},getCurrentLibraryDescription:function(){if(S)return S.libraryDescription},getUrl:function(){return this.getLocation().href},getLocation:function(){return document.location},getProjectUrl:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.getUrl().match(de),r=(e=n?n[1]:this.getUrl()).indexOf("#");-1!==r&&(e=e.substring(0,r));var o="",i=e.indexOf("?");if(-1!==i&&(o=e.substring(i),e=e.substring(0,i)),t.startsWith("/"))for(;e.endsWith("/");)e=e.substring(0,e.length-1);return e+t+o},getShareUrl:function(){var e=this.getLocation();if(this.isWebLab()){var t=e.hostname.replace(/([-.]?studio)?\.?code.org/i,""),n=t.length>0?"".concat(t,"."):"",r="localhost"===t?":".concat(e.port):"";return"".concat(e.protocol,"//").concat(n,"codeprojects.org").concat(r,"/projects/weblab/").concat(this.getCurrentId())}return e.origin+this.getPathName()},getProjectSourcesUrl:function(){return"".concat(this.getLocation().origin,"/v3/sources/").concat(this.getCurrentId())},getCurrentTimestamp:function(){if(S)return S.updatedAt},getAbuseScore:function(){return X},getSharingDisabled:function(){return J},getMakerAPIs:function(){return ue.makerAPIsEnabled},getCurrentSourceVersionId:function(){return T},disableAutoContentModeration:function(){var e=this;return new Promise((function(t,n){N.update("".concat(e.getCurrentId(),"/disable-content-moderation"),null,(function(e){e?n(e):t()}))}))},enableAutoContentModeration:function(){var e=this;return new Promise((function(t,n){N.update("".concat(e.getCurrentId(),"/enable-content-moderation"),null,(function(e){e?n(e):t()}))}))},adminResetAbuseScore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getCurrentId();t&&N.delete(t+"/abuse",(function(n,r){if(n)throw n;I.patchAll(t,"abuse_score=".concat(e),null,(function(e,t){if(e)throw e})),R.patchAll(t,"abuse_score=".concat(e),null,(function(t,n){if(t)throw t;(0,o.default)(".admin-abuse-score").text(e)}))}))},isEditable:_e,isFrozen:function(){if(S)return S.frozen},isOwner:function(){return!(!S||!S.isOwner)},isPublished:function(){return!(!S||!S.publishedAt)},hasPrivacyProfanityViolation:function(){return Z},privacyProfanityDetailsEnglish:function(){return Q},privacyProfanityDetailsIntl:function(){return ee},privacyProfanitySecondLanguage:function(){return te},exceedsAbuseThreshold:function(){return X>=k},hideBecausePrivacyViolationOrProfane:function(){return!this.showEvenIfPolicyViolatingOrAbusiveProject()&&this.hasPrivacyProfanityViolation()},hideBecauseAbusive:function(){return!this.showEvenIfPolicyViolatingOrAbusiveProject()&&this.exceedsAbuseThreshold()},showEvenIfPolicyViolatingOrAbusiveProject:function(){if(appOptions.scriptId)return!0;var e=Oe().action;return(this.isOwner()||appOptions.canResetAbuse)&&("edit"===e||"view"===e)},channelNotFound:function(){return se>=400&&se<500},sourceNotFound:function(){return le>=400&&le<500},__TestInterface:{getCurrent:function(){return S},isInitialSaveComplete:function(){return re},isInitialCaptureComplete:function(){return oe},setCurrentData:function(e){S=e},setCurrentSources:function(e){ue=e},setInitialSaveComplete:function(e){re=e},setSourceVersionInterval:function(e){Y=1e3*e},setCurrentSourceVersionId:function(e){T=e}},isEditing:function(){return ne},isProjectLevel:function(){return appOptions.level&&appOptions.level.isProjectLevel},shouldUpdateHeaders:function(){return!appOptions.isExternalProjectLevel},showProjectHeader:function(){this.shouldUpdateHeaders()&&p.default.showProjectHeader()},showMinimalProjectHeader:function(){this.shouldUpdateHeaders()&&p.default.showMinimalProjectHeader()},shouldHideShareAndRemix:function(){return appOptions.level&&appOptions.level.hideShareAndRemix||appOptions.embed&&("applab"===appOptions.app||"gamelab"===appOptions.app||"spritelab"===appOptions.app)},showHeaderForProjectBacked:function(){this.shouldUpdateHeaders()&&p.default.showHeaderForProjectBacked({showShareAndRemix:!this.shouldHideShareAndRemix()})},setName:function(e){S=S||{},e&&(S.name=e,this.setTitle(e))},setLibrarySharedClasses:function(e,t){S=S||{},Array.isArray(e)&&(S.sharedWith=e,this.updateChannels_(t))},setLibraryDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S=S||{};var t=e.libraryName,n=e.libraryDescription,r=e.latestLibraryVersion,o=e.publishing;t!==S.libraryName&&(S.libraryName=t),n!==S.libraryDescription&&(S.libraryDescription=n),r!==S.latestLibraryVersion&&(S.latestLibraryVersion=-1===r?null:r),o?S.publishLibrary=!0:!1===o&&(S.libraryPublishedAt=null,S.publishLibrary=!1),this.updateChannels_()},setTitle:function(e){e&&appOptions.gameDisplayName&&(document.title="".concat(e," - ").concat(appOptions.gameDisplayName," - ").concat(appOptions.appName))},init:function(e){this.sourceHandler=e,Ee()||we()||(this.isProjectLevel()||S?(ue.html&&e.setInitialLevelHtml(ue.html),appOptions.level.makerlabEnabled&&(ue.makerAPIsEnabled=appOptions.level.makerlabEnabled),function(){(0,h.hasQueryParam)("enableMaker")&&(ue.makerAPIsEnabled=f.CP_API,(0,h.updateQueryParam)("enableMaker",void 0,!0));(0,h.hasQueryParam)("disableMaker")&&(ue.makerAPIsEnabled=null,(0,h.updateQueryParam)("disableMaker",void 0,!0))}(),this.getMakerAPIs()&&e.setMakerAPIsEnabled(ue.makerAPIsEnabled),ue.selectedSong&&e.setSelectedSong(ue.selectedSong),ue.selectedPoem&&e.setSelectedPoem(ue.selectedPoem),ue.animations&&e.setInitialAnimationList(ue.animations),ue.libraries&&e.setInitialLibrariesList(ue.libraries),ne?(S?ue.source&&e.setInitialLevelSource(ue.source):this.setName("My Project"),appOptions.level.skipRunSave||(0,o.default)(window).on(B,this.saveIfSourcesChanged.bind(this)),(0,o.default)(window).on(F,function(){this.sourceHandler.getLevelSource(ue.source).then((function(e){ue.source=e}))}.bind(this)),(0,o.default)(window).on(U,(function(){A=!0})),appOptions.level.skipAutosave||window.setInterval(this.autosave.bind(this),3e4),S.hidden?this.isFrozen()||this.showHeaderForProjectBacked():S.isOwner||!Oe().channelId?this.showProjectHeader():this.showMinimalProjectHeader()):S&&(this.sourceHandler.setInitialLevelSource(ue.source),this.showMinimalProjectHeader())):appOptions.legacyShareStyle&&this.getStandaloneApp()&&(this.setName("Untitled Project"),this.showMinimalProjectHeader()),appOptions.noPadding&&(0,o.default)(".full_container").css({padding:"0px"}),L(this))},projectChanged:function(){A=!0,P&&(x=!0)},hasOwnerChangedProject:function(){return this.isOwner()&&A},getNewProjectName:function(){switch(appOptions.app){case"applab":return i.default.defaultProjectNameAppLab();case"gamelab":return i.default.defaultProjectNameGameLab();case"spritelab":case"thebadguys":return i.default.defaultProjectNameSpriteLab();case"weblab":return i.default.defaultProjectNameWebLab();case"turtle":switch(appOptions.skinId){case"artist":case"artist_zombie":return i.default.defaultProjectNameArtist();case"anna":case"elsa":return i.default.defaultProjectNameFrozen()}break;case"studio":if(appOptions.level.useContractEditor)return i.default.defaultProjectNameBigGame();switch(appOptions.skinId){case"studio":return i.default.defaultProjectNamePlayLab();case"infinity":return i.default.defaultProjectNameInfinity();case"gumball":return i.default.defaultProjectNameGumball();case"iceage":return i.default.defaultProjectNameIceAge();case"hoc2015":return i.default.defaultProjectNameStarWars()}break;case"craft":return i.default.defaultProjectNameMinecraft();case"flappy":return i.default.defaultProjectNameFlappy();case"bounce":return"sports"===appOptions.skinId?i.default.defaultProjectNameSports():"basketball"===appOptions.skinId?i.default.defaultProjectNameBasketball():i.default.defaultProjectNameBounce();case"dance":return i.default.defaultProjectNameDance()}return i.default.defaultProjectName()},getStandaloneApp:function(){if(appOptions.level&&appOptions.level.projectType)return appOptions.level.projectType;switch(appOptions.app){case"applab":case"calc":case"dance":case"eval":case"flappy":case"weblab":case"gamelab":case"spritelab":case"thebadguys":case"javalab":return appOptions.app;case"turtle":return"elsa"===appOptions.skinId||"anna"===appOptions.skinId?"frozen":appOptions.level.isK1?"artist_k1":"artist";case"craft":return appOptions.level.isAgentLevel?"minecraft_hero":appOptions.level.isEventLevel?"minecraft_designer":appOptions.level.isConnectionLevel?"minecraft_codebuilder":appOptions.level.isAquaticLevel?"minecraft_aquatic":"minecraft_adventurer";case"studio":return appOptions.level.useContractEditor?"algebra_game":"hoc2015"===appOptions.skinId?appOptions.droplet?"starwars":"starwarsblocks_hour":"iceage"===appOptions.skinId?"iceage":"infinity"===appOptions.skinId?"infinity":"gumball"===appOptions.skinId?"gumball":appOptions.level.isK1?"playlab_k1":"playlab";case"bounce":return"sports"===appOptions.skinId?"sports":"basketball"===appOptions.skinId?"basketball":"bounce";case"poetry":return appOptions.level.standaloneAppName;default:return null}},isWebLab:function(){return"weblab"===this.getStandaloneApp()},canServerSideRemix:function(){return!S.isOwner||!["artist","playlab"].includes(pe.getStandaloneApp())},isSupportedLevelType:function(){return!!this.getStandaloneApp()},useSourcesApi:function(){return"weblab"!==this.getStandaloneApp()},appToProjectUrl:function(){var e=pe.getStandaloneApp();if(!e)throw new Error("This type of project cannot be run as a standalone app.");return"/projects/"+e},clearHtml:function(){ue.html=""},saveIfSourcesChanged:function(){var e=this;return _e()?new Promise((function(t){e.getUpdatedSourceAndHtml_((function(n){JSON.stringify(ue)!==JSON.stringify(n)||ie?(ie=!1,e.saveSourceAndHtml_(n,t)):t()}))})):Promise.resolve()},isCurrentCodeDifferent:function(e){var t,n,r=e||"",o=ue.source||"",i=new DOMParser,a=i.parseFromString(o,"text/xml"),s=i.parseFromString(r,"text/xml");if(a.getElementsByTagName("parsererror").length>0||s.getElementsByTagName("parsererror").length>0)t=r.replace(/\s+/g,""),n=o.replace(/\s+/g,"");else{var l=new XMLSerializer;t=l.serializeToString(s),n=l.serializeToString(a)}return t!==n},save:function(e,t){var n=this;if(!_e())return Promise.resolve();var r=function(){return new Promise((function(r,o){return n.getUpdatedSourceAndHtml_((function(i){try{n.saveSourceAndHtml_(i,(function(e,t){return e?o(e):r()}),e,t)}catch(a){o(a)}}))}))};return t?this.sourceHandler.prepareForRemix().then(r):r()},saveSourceAndHtml_:function(e,t,n,r){if(_e()){p.default.showProjectSaving(),K+Y<Date.now()&&(n=!0),n&&(K=Date.now(),$=!1);var o=S.id;if(ue.html&&!e.html)throw new Error("Attempting to blow away existing levelHtml");if(this.getStandaloneApp()&&(S.level=this.appToProjectUrl(),S.projectType=this.getStandaloneApp()),ae){var s=ae;ae=null,this.saveThumbnail(s)}if(ce(e),this.useSourcesApi()){var l="";T&&!r&&(l="?currentVersion=".concat(T)+"&replace=".concat(!!$)+"&firstSaveTimestamp=".concat(encodeURIComponent(C))+"&tabId=".concat(a.getTabId()));var u=M+l;D.put(o,JSON.stringify(ue),u,function(e,r){e?e.message.includes("httpStatusCode: 401")?(this.showSaveError_(),this.logError_("unauthorized-save-sources-reload",W,e.message).finally((function(){return a.reload()}))):e.message.includes("httpStatusCode: 409")?(this.showSaveError_(),this.logError_("conflict-save-sources-reload",W,e.message).finally((function(){return a.reload()}))):(W++,this.showSaveError_(),this.logError_("save-sources-error",W,e.message),W>=3&&p.default.showTryAgainDialog(),e.message.includes("httpStatusCode: 422")&&(0,m.getStore)().dispatch((0,g.displayWorkspaceAlert)(g.workspaceAlertTypes.error,i.default.invalidCharactersErrorMessage(),!0))):(W>0&&this.logError_("sources-saved-after-errors",W,"sources saved after ".concat(W," consecutive failures")),W=0,C||(C=r.timestamp),T=r.versionId,$=!n,S.migratedToS3=!0,appOptions.reduceChannelUpdates&&re?(console.log("Skipping channel metadata update"),this.onUpdateChannel(t,null,S)):this.updateChannels_(t))}.bind(this))}else this.updateChannels_(t)}},saveSelectedSong:function(e){return this.sourceHandler.setSelectedSong(e),this.save()},saveSelectedPoem:function(e){return this.sourceHandler.setSelectedPoem(e),this.save()},updateChannels_:function(e){var t=this;N.update(S.id,S,(function(n,r){return t.onUpdateChannel(e,n,r)}))},onUpdateChannel:function(e,t,n){re=!0,this.updateCurrentData_(t,n),be(e,t,n)},getSourceForChannel:function(e,t){N.fetch(e,(function(n,r){if(n)be(t,null);else{var o=e+"/"+M;D.fetch(o,(function(e,n){be(t,e?null:n.source)}))}}))},createNewChannelFromSource:function(e,t){N.create({name:"New Project"},(function(n,r){D.put(r.id,JSON.stringify({source:e}),M,(function(e,n){r.migratedToS3=!0,N.update(r.id,r,(function(e,n){be(t,n)}))}))}))},getUpdatedSourceAndHtml_:function(e){var t=this;this.sourceHandler.getAnimationList((function(n){return t.sourceHandler.getLevelSource().then((function(r){var o=t.sourceHandler.getLevelHtml(),i=t.sourceHandler.getMakerAPIsEnabled(),a=t.sourceHandler.getSelectedSong(),s=t.sourceHandler.getSelectedPoem(),l=t.sourceHandler.getLibrariesList();e({source:r,html:o,animations:n,makerAPIsEnabled:i,selectedSong:a,selectedPoem:s,libraries:l})})).catch((function(t){return e({error:t})}))}))},getSelectedSong:function(){return ue.selectedSong},setMakerEnabled:function(e){var t=this;return new Promise((function(n){t.getUpdatedSourceAndHtml_((function(r){t.saveSourceAndHtml_(E(E({},r),{},{makerAPIsEnabled:e}),(function(){n(),a.reload()}))}))}))},setProjectLibraries:function(e){var t=this;return appOptions.level.editBlocks&&(ue.libraries=e,e.forEach((function(e){e.fromLevelbuilder=!0}))),new Promise((function(n){t.getUpdatedSourceAndHtml_((function(r){t.saveSourceAndHtml_(E(E({},r),{},{libraries:e}),(function(){n(),a.reload()}))}))}))},getProjectLibraries:function(){var e=appOptions.level.startLibraries;return ue.libraries||e&&JSON.parse(e)},getLevelName:function(){var e=S&&S.name;return e=e||appOptions.level.name},showSaveError_:function(){p.default.showProjectSaveError()},logError_:function(e,t,n){var r=this.getStandaloneApp()?this.getShareUrl():"";return u.default.putRecord({study:"project-data-integrity",study_group:"v4",event:e,data_int:t,project_id:S&&S.id+"",data_string:n,data_json:JSON.stringify({errorCount:t,errorText:n,isOwner:this.isOwner(),currentUrl:window.location.href,shareUrl:r,currentSourceVersionId:T})},{includeUserId:!0})},updateCurrentData_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldNavigate;if(e)return H++,this.showSaveError_(),this.logError_("save-channel-error",H,e+""),void(H>=3&&p.default.showTryAgainDialog());H&&this.logError_("channel-saved-after-errors",H,"channel save succeeded after ".concat(H," consecutive failures")),H=0,p.default.hideTryAgainDialog(),S=S||{},Object.assign(S,t),r&&(ne&&Oe().appName?window.history.pushState&&window.history.pushState(null,document.title,this.getPathName("edit")):location.href=this.getPathName("edit")),p.default.updateTimestamp()},autosave:function(e){var t=this,n=function(){e&&e()};null!==ue.source&&(appOptions.droplet||A)&&0===(0,o.default)("#designModeViz .ui-draggable-dragging").length?(P=!0,this.getUpdatedSourceAndHtml_((function(e){return e.error?(p.default.showProjectSaveError(),void n()):JSON.stringify(ue)===JSON.stringify(e)?(x||(A=!1),P=!1,x=!1,void n()):void t.saveSourceAndHtml_(e,(function(){x||(A=!1),P=!1,x=!1,n()}))}))):n()},rename:function(e){return this.setName(e),this.save().catch((function(e){if(e.responseText){var t=JSON.parse(e.responseText);throw new d.default(t.nameFailure)}throw new Error("Unknown error")}))},freeze:function(e){S&&S.isOwner&&(S.frozen=!0,S.hidden=!0,this.updateChannels_(e))},unfreeze:function(e){S&&S.isOwner&&(S.frozen=!1,S.hidden=!1,this.updateChannels_(e))},copy:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.shouldPublish,o=(S=S||{}).id?{parent:S.id}:null;return delete S.id,delete S.hidden,delete S.libraryName,delete S.libraryDescription,S.projectType=this.getStandaloneApp(),r&&(S.shouldPublish=!0),this.setName(e),new Promise((function(e,r){N.create(S,(function(o,i){t.updateCurrentData_(o,i,n),o?r(o):e()}),o)})).then((function(){return t.save(!1,!0)}))},copyAssets:function(e,t){if(e){var n=S.id;I.copyAll(e,n,(function(e){e?p.default.showProjectSaveError():be(t)}))}else be(t)},copyAnimations:function(e,t){be(t)},serverSideRemix:function(){var e,t=this;return(e=b().mark((function e(){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){a.navigateToHref("".concat(pe.getPathName("remix")))},S&&!S.name&&(n=pe.appToProjectUrl(),t.setName("/projects/algebra_game"===n?"Big Game Template":"My Project")),!S.isOwner){e.next=7;break}return e.next=5,pe.save(!1,!0).then(r);case 5:e.next=8;break;case 7:r();case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}a(void 0)}))})()},createNew:function(){var e="".concat(pe.appToProjectUrl(),"/new");pe.save().then((function(){location.href=e}))},delete:function(e){var t=S.id;N.delete(t,(function(t,n){be(e,n)}))},load:function(){return pe.isProjectLevel()?Ee()||we()?Promise.resolve():this.loadStandaloneProject_():appOptions.channel?this.loadProjectBackedLevel_():Promise.resolve()},loadStandaloneProject_:function(){var e=this,t=Oe();return t.channelId?("edit"===t.action?ne=!0:(0,o.default)("#betainfo").hide(),this.fetchChannel(t.channelId).catch((function(e){return Promise.reject(e)})).then(this.fetchSource.bind(this)).catch((function(e){return Promise.reject(e)})).then((function(){return S.isOwner&&"view"===t.action&&(ne=!0),ve(e)}))):(ne=!0,Promise.resolve())},loadProjectBackedLevel_:function(){var e=this;return ne=!0,this.fetchChannel(appOptions.channel).catch((function(e){return Promise.reject(e)})).then(this.fetchSource.bind(this)).catch((function(e){return Promise.reject(e)})).then((function(){return pe.showHeaderForProjectBacked(),ve(e)}))},getPathName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentId(),n=this.appToProjectUrl()+"/"+t;return e&&(n+="/"+e),n},getThumbnailUrl:function(){return S&&S.thumbnailUrl},setThumbnailUrl:function(){S.thumbnailUrl="/v3/files/".concat(S.id,"/").concat(fe),ie=!0},setThumbnailPngBlob:function(e){e&&(ae=e,pe.setThumbnailUrl())},saveThumbnail:function(e){return e?S?S.isOwner?new Promise((function(t,n){l.files.putFile(fe,e,(function(){pe.setThumbnailUrl(),oe||(oe=!0),t()}),(function(e){n("error saving thumbnail image: ".concat(e))}))})):Promise.reject("Project not owned by current user."):Promise.reject("Project not initialized."):Promise.reject("PNG blob required.")},setPublishedAt:function(e){(S=S||{}).publishedAt=e},fetchChannel:function(e){var t=this;return new Promise((function(t,n){N.fetch(e,(function(e,r,o,i){se=null==i?void 0:i.status,e?n(e):t(r)}))})).catch((function(e){return t.logError_("load-channel-error",null,"unable to fetch project channel: ".concat(e)),Promise.reject(e)}))},fetchSource:function(e){var t=this;delete e.levelSource,delete e.levelHtml,delete e.html,S=e,pe.setTitle(S.name);var n=this.getSourcesApi_();if(n&&e.migratedToS3){var r=S.id+"/"+M,o=(0,h.queryParams)("version");return o&&(r+="?version="+o),new Promise((function(e,t){n.fetch(r,(function(n,r,o,i){le=null==i?void 0:i.status,n?t(n):e({data:r,jqXHR:o})}))})).catch((function(e){return t.logError_("load-sources-error",null,"unable to fetch project source file: ".concat(e)),Promise.reject(e)})).then((function(e){var t=e.data,n=e.jqXHR;T=n&&n.getResponseHeader("S3-Version-Id"),ce(t)}))}return Promise.resolve()},getSourcesApi_:function(){var e,t=appOptions.share&&appOptions.level&&"dance"===appOptions.level.projectType;return this.useSourcesApi()&&(e=t?j:D),e}};function he(e){N.fetch(S.id+"/abuse",(function(t,n){if(X=n&&n.abuse_score||X,e(),t)throw t}))}function me(e){N.fetch(S.id+"/sharing_disabled",(function(t,n){if(J=n&&n.sharing_disabled||J,e(),t)throw t}))}function ge(e){N.fetch(S.id+"/share-failure",(function(t,n){if(Q=n&&n.share_failure&&n.share_failure.content?n.share_failure.content:Q,ee=n&&n.intl_share_failure&&n.intl_share_failure.content?n.intl_share_failure.content:ee,te=n&&n.language?n.language:te,e(),t)throw t}))}function ye(e){N.fetch(S.id+"/privacy-profanity",(function(t,n){if(Z=n&&!!n.has_violation||Z,e(),t)throw t}))}function ve(e){var t=[new Promise(he),new Promise(ge)];return"playlab"===e.getStandaloneApp()?t.push(new Promise(ye)):("applab"===e.getStandaloneApp()||"gamelab"===e.getStandaloneApp()||e.isWebLab())&&t.push(new Promise(me)),Promise.all(t)}function be(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)}}function _e(){return S&&S.isOwner&&!S.frozen&&!(0,h.queryParams)("version")}function we(){var e,t=Oe();if(t.action&&S)return"view"===t.action&&_e()?(e=location.href.replace(/(\/projects\/[^/]+\/[^/]+)\/view/,"$1/edit"),appOptions.readonlyWorkspace=!1,ne=!0):"edit"!==t.action||_e()||(e=location.href.replace(/(\/projects\/[^/]+\/[^/]+)\/edit/,"$1/view"),appOptions.readonlyWorkspace=!0,ne=!1),e&&e!==location.href&&window.history.pushState&&window.history.pushState({modified:!0},document.title,e),!1}function Ee(){var e=location.href.replace("#","/");return e!==location.href&&(location.href=e,!0)}function Oe(){var e=a.currentLocation().pathname;a.currentLocation().hash&&(e+=a.currentLocation().hash.replace("#","/"));var t=e.split("/");if("p"!==t[q]&&"projects"!==t[q])return{appName:null,channelId:null,action:null};var n=t[V];return a.currentLocation().search.indexOf("nosource")>=0&&(n=n.split("").map((function(e){return s.ALPHABET[s.CIPHER.indexOf(e)]||e})).join("")),{appName:t[z],channelId:n,action:t[G]}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DCDO=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(194));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var a=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.configs=e}var t=e.prototype;return t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e&&e in this.configs?this.configs[e]:t},t.set=function(e,t){e&&(this.configs[e]=t)},t.reset=function(){this.configs={}},e}();t.DCDO=a;var s={};(0,o.hasScriptData)("script[data-dcdo]")&&(s=(0,o.default)("dcdo"));var l=new a(s);t.default=l},e=>{e.exports={"workspace-headers-height":30,"resize-bar-width":13,"delete-opacity":"0.5","content-width":970}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI18nStringTrackerWorker=function(){return new r},n(135);var r=function(){function e(){var e=this.constructor.instance;if(e)return e;this.constructor.instance=this,this.buffer={}}var t=e.prototype;return t.log=function(e,t){var n=this;e&&t&&(this.buffer[t]=this.buffer[t]||new Set,this.buffer[t].add("".concat(t,".").concat(e)),this.pendingFlush||(this.pendingFlush=setTimeout((function(){return n.flush()}),3e3)))},t.flush=function(){if(0!==Object.keys(this.buffer).length){var e=this.buffer;this.buffer={},this.pendingFlush=null,0===Math.floor(100*Math.random())&&function(e){var t=window.location.origin;t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var n=t+window.location.pathname;Object.keys(e).forEach((function(t){for(var r=Array.from(e[t]),i=0;i<r.length;i+=o){var a=r.slice(i,o);fetch("/i18n/track_string_usage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n,source:t,string_keys:a})})}}))}(e)}},e}(),o=500},(e,t,n)=>{var r=n(572);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},(e,t,n)=>{var r=n(390),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},(e,t,n)=>{var r=n(100),o=n(168),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(457)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=!0},e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},(e,t,n)=>{var r=n(205),o=n(582),i=n(448),a=n(391)("IE_PROTO"),s=function(){},l=function(){var e,t=n(446)("iframe"),r=i.length;for(t.style.display="none",n(583).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},(e,t,n)=>{var r=n(164),o=n(196),i=n(384),a=n(579).f;e.exports=function(e){return function(t){for(var n,s=i(t),l=o(s),u=l.length,c=0,d=[];u>c;)n=l[c++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},e=>{"use strict";e.exports=function(e){var t,n=0,r=0,o=e.charAt(n),i={},a=0;for(;"\t"===o||" "===o;){for(r+=t="\t"===o?4:1,t>1&&(r=Math.floor(r/t)*t);a<r;)i[++a]=n;o=e.charAt(++n)}return{indent:r,stops:i}}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyMiddleware:()=>D,bindActionCreators:()=>x,combineReducers:()=>A,compose:()=>I,createStore:()=>C});const r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;var o="object"==typeof self&&self&&self.Object===Object&&self;const i=(r||o||Function("return this")()).Symbol;var a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=i?i.toStringTag:void 0;const c=function(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(i){}var o=l.call(e);return r&&(t?e[u]=n:delete e[u]),o};var d=Object.prototype.toString;const f=function(e){return d.call(e)};var p=i?i.toStringTag:void 0;const h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(e=Object(e),p&&p in e?c(e):f(e))};const m=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);const g=function(e){return null!=e&&"object"==typeof e};var y=Function.prototype,v=Object.prototype,b=y.toString,_=v.hasOwnProperty,w=b.call(Object);const E=function(e){if(!g(e)||"[object Object]"!=h(e))return!1;var t=m(e);if(null===t)return!0;var n=_.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==w};var O=n(710),S=n.n(O),T="@@redux/INIT";function C(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(C)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){return i}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),s.push(e),function(){if(t){t=!1,u();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!E(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)t[n]();return e}return f({type:T}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,f({type:T})}})[S()]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[S()]=function(){return this},e},r}function k(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function A(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:T}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+T+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')}))}(n)}catch(s){i=s}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var l=a[s],u=n[l],c=e[l],d=u(c,t);if(void 0===d){var f=k(l,t);throw new Error(f)}o[l]=d,r=r||d!==c}return r?o:e}}function P(e,t){return function(){return t(e.apply(void 0,arguments))}}function x(e,t){if("function"==typeof e)return P(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=P(a,t))}return r}function I(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight((function(e,t){return t(e)}),r.apply(void 0,arguments))}}var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function D(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i,a=e(n,r,o),s=a.dispatch,l={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map((function(e){return e(l)})),s=I.apply(void 0,i)(a.dispatch),R({},a,{dispatch:s})}}}},(e,t,n)=>{"use strict";var r=n(166),o=n(381),i=n(461);e.exports=function(e,t){var n,a,s,l=e.split("\n"),u=l.length+1,c=1/0,d=[];l.unshift(o(" ",t)+"!");for(;u--;)if(a=i(l[u]),d[u]=a.stops,0!==r(l[u]).length){if(!a.indent){c=1/0;break}a.indent>0&&a.indent<c&&(c=a.indent)}if(c!==1/0)for(u=l.length;u--;){for(s=d[u],n=c;n&&!(n in s);)n--;l[u]=l[u].slice(s[n]+1)}return l.shift(),l.join("\n")}},(e,t,n)=>{"use strict";var r=n(633);e.exports=function(e,t){e&&!e.process&&(t=e,e=null);return e?function(e,t){return n;function n(n,o,i){function a(e){i(e)}e.run(r(n,t),o,a)}}(e,t):function(e){return t;function t(t){return r(t,e)}}(t)}},e=>{"use strict";e.exports=function(e,t){var n,r=0;if(e=String(e),"string"!=typeof t||1!==t.length)throw new Error("Expected character");n=e.indexOf(t);for(;-1!==n;)r++,n=e.indexOf(t,n+1);return r}},(e,t,n)=>{"use strict";var r=n(526),o=n(528),i=n(533);e.exports=function(e){var t=e||{},n=t.createElement,a=t.components||{};function s(e,t,o){var i=r(a,e)?a[e]:e;return n(i,t,o)}this.Compiler=function(e){return"root"===e.type&&(e=1===e.children.length&&"element"===e.children[0].type?e.children[0]:{type:"element",tagName:"div",properties:e.properties||{},children:e.children}),o(s,i(e),t.prefix)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBubbleIcon=void 0,t.getIconForLevel=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&h(e))return"check-circle";if(e.isUnplugged)return"scissors";if(e.isLocked)return"lock";if(e.icon){var n=/fa-(.*)/.exec(e.icon);if(!n||!n[1])throw new Error("Unknown iconType: "+e.icon);return n[1]}if(e.bonus)return"flag-checkered";return p},t.getLevelResult=void 0,t.isLevelAssessment=h,t.lessonHasLevels=function(e){var t;return!(null===(t=e.levels)||void 0===t||!t.length)},t.lessonIsAllAssessment=function(e){return e.every((function(e){return e.kind===s.LevelKind.assessment}))},t.lessonIsLockedForAllStudents=function(e,t){var n=t.teacherSections.selectedSectionId,r=t.lessonLock.lessonsBySectionId[n];return!!(0,o.fullyLockedLessonMapping)(r)[e]},t.lessonIsLockedForUser=function(e,t,n,r){if(!e.lockable)return!1;if(!n.currentUser.userId)return!0;if(r===i.ViewType.Instructor)return!n.lessonLock.lockableAuthorized;if(r===i.ViewType.Participant)return f(t);return!0},t.lessonIsVisible=function(e,t,n){if(!n)throw new Error("missing param viewAs in lessonIsVisible");var r=t.hiddenLesson,o=t.teacherSections.selectedSectionId;return!(0,a.isLessonHiddenForSection)(r,o,e.id)||n===i.ViewType.Instructor},t.lessonLocked=f,t.lessonProgressForSection=function(e,t){var n={};return Object.entries(e).forEach((function(e){var r,o,i=(o=2,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1],u={};t.forEach((function(e){u[e.id]=function(e,t){var n=t.filter((function(e){return!e.bonus}));if(!n.length)return null;var r=[s.LevelStatus.perfect,s.LevelStatus.submitted,s.LevelStatus.free_play_complete,s.LevelStatus.completed_assessment],o=0,i=0,a=0,l=0,u=0;n.forEach((function(t){var n=e[t.id];n&&(o+=n.status===s.LevelStatus.attempted,i+=n.status===s.LevelStatus.passed,a+=r.includes(n.status),l+=n.timeSpent||0,u=Math.max(u,n.lastTimestamp||0))}));var c=n.length-a-i;if(!(o+i+a>0))return null;var d=function(e){return 100*e/n.length};return{incompletePercent:d(c),imperfectPercent:d(i),completedPercent:d(a),timeSpent:l,lastTimestamp:u}}(l,e.levels)})),n[a]=u})),n},t.processedLevel=t.processServerStudentProgress=t.processServerSectionProgress=t.levelProgressFromStatus=t.levelProgressFromServer=t.levelProgressFromResult=void 0,t.shouldShowReviewStates=function(e){return e.isCsd||e.isCsp};var r,o=n(759),i=n(420),a=n(761),s=n(385),l=n(197),u=n(820),c=(r=n(53))&&r.__esModule?r:{default:r};function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return!!e[e.length-1].isLocked}var p="desktop";function h(e){return"assessment"===e.kind}t.defaultBubbleIcon=p;t.processedLevel=function e(t){return{id:t.activeId||t.id,url:t.url,name:t.name,progression:t.progression,progressionDisplayName:t.progression_display_name,kind:t.kind,icon:t.icon,isUnplugged:t.display_as_unplugged,levelNumber:t.kind===s.LevelKind.unplugged?void 0:t.title,bubbleText:t.kind===s.LevelKind.unplugged?void 0:t.letter||t.title.toString(),isConceptLevel:t.is_concept_level,bonus:t.bonus,pageNumber:void 0!==t.page_number?t.page_number:l.PUZZLE_PAGE_NONE,sublevels:t.sublevels&&t.sublevels.map((function(t){return e(t)}))}};var m=function(e){return e.result||(0,u.resultFromStatus)(e.status)};t.getLevelResult=m;var g=function(e){var t;return(null===(t=e.pages_completed)||void 0===t?void 0:t.length)>1?e.pages_completed.map((function(t){var n=t&&_(t)||b(s.LevelStatus.not_tried);return n.locked=e.locked||!1,n})):null},y=function(e){return{status:e.status||s.LevelStatus.not_tried,result:m(e),locked:e.locked||!1,paired:e.paired||!1,timeSpent:e.time_spent,teacherFeedbackReviewState:e.teacher_feedback_review_state,lastTimestamp:e.last_progress_at,pages:g(e)}};t.levelProgressFromServer=y;var v=function(e){return c.default.mapValues(e,(function(e){return y(e)}))};t.processServerStudentProgress=v;t.processServerSectionProgress=function(e){return c.default.mapValues(e,(function(e){return v(e)}))};var b=function(e){return y({status:e})};t.levelProgressFromStatus=b;var _=function(e){return b((0,u.activityCssClass)(e))};t.levelProgressFromResult=_},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignToSection=t.__testInterface__=t.SELECT_SECTION=t.NO_SECTION=void 0,t.assignedCourseOffering=function(e){var t=ge(e),n=t.sectionBeingEdited;return t.courseOfferings[null==n?void 0:n.courseOfferingId]},t.assignedUnitLessonExtrasAvailable=function(e){var t=_e(e);return!!t&&t.lesson_extras_available},t.assignedUnitName=function(e){if(!ge(e).sectionBeingEdited)return"";var t=_e(e);return t?t.name:""},t.assignedUnitRequiresVerifiedInstructor=function(e){var t=_e(e);return!!t&&t.requires_verified_instructor},t.assignedUnitTextToSpeechEnabled=function(e){if(!ge(e).sectionBeingEdited)return!1;var t=_e(e);return!!t&&t.text_to_speech_enabled},t.cancelImportRosterFlow=t.cancelEditingSection=t.beginImportRosterFlow=t.beginGoogleImportRosterFlow=t.beginEditingSection=t.beginCreatingSection=t.asyncLoadSectionData=t.assignmentPaths=t.assignmentNames=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;if(t.type===I)return g(g({},e),{},{providers:t.providers.map((function(e){return me(e)}))});if(t.type===P)return g(g({},e),{},{pageType:t.pageType});if(t.type===C)return g(g({},e),{},{courseOfferings:t.courseOfferings});if(t.type===k)return g(g({},e),{},{availableParticipantTypes:t.availableParticipantTypes});if(t.type===A){var n=t.students||[],r=n.map((function(e){return Ee(e,t.sectionId)}));return g(g({},e),{},{selectedStudents:r})}if(t.type===R){var o=t.sections.map((function(e){return we(e)})),a=e.selectedSectionId;1===Object.keys(t.sections).length&&(a=t.sections[0].id),o.forEach((function(t){var n=e.sections[t.id];n&&Object.keys(t).forEach((function(e){if(void 0===t[e]&&void 0!==n[e])throw new Error("SET_SECTIONS called multiple times in a way that would remove data")}))}));var s=i.default.uniq(e.sectionIds.concat(o.map((function(e){return e.id})))),c=o.filter((function(e){return e.participantType===f.ParticipantAudience.student})).map((function(e){return e.id})),p=o.filter((function(e){return e.participantType!==f.ParticipantAudience.student})).map((function(e){return e.id}));return g(g({},e),{},{sectionsAreLoaded:!0,selectedSectionId:a,sectionIds:s,studentSectionIds:c,plSectionIds:p,sections:g(g({},e.sections),i.default.keyBy(o,"id"))})}if(t.type===D){var m;return(m=t.sectionId?parseInt(t.sectionId):O)===O||e.sectionIds.includes(parseInt(m,10))||(m=O),g(g({},e),{},{selectedSectionId:m})}if(t.type===j){var y=t.sectionId,v=e.sections[y];if(!v)throw new Error("section does not exist");return g(g({},e),{},{sectionIds:i.default.without(e.sectionIds,y),studentSectionIds:i.default.without(e.studentSectionIds,y),plSectionIds:i.default.without(e.plSectionIds,y),sections:i.default.omit(e.sections,y)})}if(t.type===N){var b=t.sectionId,_=e.sections[b];if(!_)throw new Error("section does not exist");return g(g({},e),{},{sections:g(g({},e.sections),{},w({},b,g(g({},e.sections[b]),{},{hidden:!e.sections[b].hidden})))})}if(t.type===q){var S=t.sectionId,T=t.codeReviewExpiresAt,Q=e.sections[S];if(!Q)throw new Error("section does not exist");return g(g({},e),{},{sections:g(g({},e.sections),{},w({},S,g(g({},e.sections[S]),{},{codeReviewExpiresAt:T?Date.parse(T):null})))})}if(t.type===L){var ee=he(t.participantType);return t.courseOfferingId&&(ee.courseOfferingId=t.courseOfferingId),t.courseVersionId&&(ee.courseVersionId=t.courseVersionId),t.unitId&&(ee.unitId=t.unitId),g(g({},e),{},{initialCourseId:ee.courseId,initialUnitId:ee.unitId,initialCourseOfferingId:ee.courseOfferingId,initialCourseVersionId:ee.courseVersionId,initialLoginType:ee.loginType,sectionBeingEdited:ee})}if(t.type===M){var te=1===e.availableParticipantTypes.length?e.availableParticipantTypes[0]:void 0,ne=t.sectionId?g({},e.sections[t.sectionId]):he(te);return g(g({},e),{},{initialCourseId:ne.courseId,initialUnitId:ne.unitId,initialCourseOfferingId:ne.courseOfferingId,initialCourseVersionId:ne.courseVersionId,initialLoginType:ne.loginType,sectionBeingEdited:ne,showSectionEditDialog:!t.silent})}if(t.type===B){if(!e.sectionBeingEdited)throw new Error("Cannot edit section properties; no section is currently being edited.");for(var re in t.props)if(!E.includes(re))throw new Error("Cannot edit property ".concat(re,"; it's not allowed."));var oe={},ie={};t.props.participantType&&t.props.participantType!==f.ParticipantAudience.student&&(oe.loginType=d.SectionLoginType.email,ie.grade=d.PlGradeValue);var ae={};t.props.unitId&&void 0===t.props.lessonExtras&&(ae.lessonExtras=!0);var se={};return t.props.unitId&&void 0===t.props.ttsAutoplayEnabled&&(se.ttsAutoplayEnabled=!1),g(g({},e),{},{sectionBeingEdited:g(g(g(g(g(g({},e.sectionBeingEdited),ae),se),oe),ie),t.props)})}if(t.type===F)return g(g({},e),{},{sectionBeingEdited:null});if(t.type===U)return g(g({},e),{},{saveInProgress:!0});if(t.type===H){var le=we(t.serverSection),ue=t.sectionId,ce=le.id!==ue,de=e.sectionIds;ce&&(de=e.sectionIds.includes(ue)?e.sectionIds.map((function(e){return e===ue?le.id:e})):[le.id].concat(h(e.sectionIds)));var fe=i.default.omit(e.sections,ue);fe[le.id]=g(g({},e.sections[le.id]),le);var ge=Object.values(fe).filter((function(e){return e.participantType===f.ParticipantAudience.student})).map((function(e){return e.id})),ye=Object.values(fe).filter((function(e){return e.participantType!==f.ParticipantAudience.student})).map((function(e){return e.id}));le.loginType!==e.initialLoginType&&u.default.putRecord({study:"teacher-dashboard",study_group:"edit-section-details",event:"change-login-type",data_json:JSON.stringify({sectionId:le.id,initialLoginType:e.initialLoginType,updatedLoginType:le.loginType})},{includeUserId:!0});var ve={section_id:le.id,section_creation_timestamp:le.createdAt,page_name:e.pageType};return le.unitId!==e.initialUnitId&&(ve.unit_id=le.unitId),le.courseId!==e.initialCourseId&&(ve.course_id=le.courseId),le.courseOfferingId!==e.initialCourseOfferingId&&(ve.course_offering_id=le.courseOfferingId),le.courseVersionId!==e.initialCourseVersionId&&(ve.course_version_id=le.courseVersionId),void 0===ve.unit_id&&void 0===ve.course_id||u.default.putRecord({study:"assignment",study_group:"v1",event:ce?"create_section":"edit_section_details",data_json:JSON.stringify(ve)},{includeUserId:!0}),g(g({},e),{},{sectionIds:de,sections:fe,studentSectionIds:ge,plSectionIds:ye,sectionBeingEdited:null,saveInProgress:!1})}if(t.type===W)return g(g({},e),{},{saveInProgress:!1});if(t.type===z)return g(g({},e),{},{asyncLoadComplete:!1});if(t.type===V)return g(g({},e),{},{asyncLoadComplete:!0});if(t.type===G&&l.OAuthSectionTypes[t.rosterProvider])return g(g({},e),{},{rosterProvider:t.rosterProvider});if(t.type===$)return g(g({},e),{},{isRosterDialogOpen:!0,classrooms:null});if(t.type===K)return g(g({},e),{},{classrooms:t.classrooms.slice()});if(t.type===Y)return g(g({},e),{},{loadError:{status:t.status,message:t.message}});if(t.type===X)return g(g({},e),{},{isRosterDialogOpen:!1,rosterProvider:null,classrooms:null});if(t.type===J)return g(g({},e),{},{classrooms:null});if(t.type===Z)return g(g({},e),{},{isRosterDialogOpen:!1,sectionBeingEdited:g(g({},e.sections[t.sectionId]),{},{hidden:!1})});if(t.type===x)return g(g({},e),{},{showLockSectionField:t.showLockSectionField});return e},t.finishEditingSection=t.editSectionProperties=void 0,t.getAssignmentName=function(e,t){var n=ge(e),r=n.sections,o=n.courseOfferings;return Te(o,r[t])[0]},t.getSectionRows=function(e,t){var n=ge(e),r=n.sections,o=n.courseOfferings;return t.map((function(e){return g(g({},i.default.pick(r[e],["id","name","courseVersionName","loginType","studentCount","code","participantType","grade","providerManaged","hidden"])),{},{assignmentNames:Te(o,r[e]),assignmentPaths:Ce(o,r[e])})}))},t.getVisibleSections=function(e){var t=Object.values(ge(e).sections);return Pe(t||[]).filter((function(e){return!e.hidden}))},t.hiddenPlSectionIds=function(e){return(e=ge(e)).sectionIds.filter((function(t){return e.sections[t].hidden&&e.sections[t].participantType!==f.ParticipantAudience.student}))},t.hiddenSectionIds=function(e){return(e=ge(e)).sectionIds.filter((function(t){return e.sections[t].hidden}))},t.hiddenStudentSectionIds=function(e){return(e=ge(e)).sectionIds.filter((function(t){return e.sections[t].hidden&&e.sections[t].participantType===f.ParticipantAudience.student}))},t.importOrUpdateRoster=void 0,t.isAddingSection=ke,t.isEditingSection=function(e){return!!(e.sectionBeingEdited&&e.sectionBeingEdited.id>=0)&&e.showSectionEditDialog},t.isRosterDialogOpen=ye,t.isSaveInProgress=function(e){return ge(e).saveInProgress},t.isSectionProviderManaged=be,t.removeSection=t.reloadAfterEditingSection=t.pageTypes=t.mapProviderToSectionType=void 0,t.rosterProvider=ve,t.sectionCode=function(e,t){return(ge(e).sections[t]||{}).code},t.sectionFromServerSection=void 0,t.sectionName=function(e,t){return(ge(e).sections[t]||{}).name},t.sectionProvider=function(e,t){if(be(e,t))return ve(e);return null},t.sectionsForDropdown=function(e,t,n,r){return Ae(e.sections).map((function(e){return g(g({},e),{},{isAssigned:null!==r&&e.unitId===r||null!==t&&e.courseOfferingId===t&&null!==n&&e.courseVersionId===n})}))},t.sectionsNameAndId=function(e){return Pe(e.sectionIds.map((function(t){return{id:parseInt(t,10),name:e.sections[t].name}})))},t.selectSection=void 0,t.selectedSection=function(e){var t=ge(e).selectedSectionId;return t?ge(e).sections[t]:null},t.serverSectionFromSection=Oe,t.unassignSection=t.toggleSectionHidden=t.submitEditingSection=t.studentShape=t.studentFromServerStudent=t.sortedSectionsList=t.sortSectionsList=t.setStudentsForCurrentSection=t.setShowLockSectionField=t.setSections=t.setSectionCodeReviewExpiresAt=t.setRosterProvider=t.setPageType=t.setCourseOfferings=t.setAvailableParticipantTypes=t.setAuthProviders=void 0;var r,o,i=p(n(53)),a=p(n(32)),s=n(33),l=n(1294),u=p(n(131)),c=p(n(2)),d=n(385),f=n(997);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=["name","loginType","lessonExtras","pairingAllowed","participantType","ttsAutoplayEnabled","participantType","courseId","courseOfferingId","courseVersionId","unitId","grade","hidden","restrictSection","codeReviewExpiresAt"],O=null;t.NO_SECTION=O;var S=(w(r={},l.OAuthSectionTypes.google_classroom,"/dashboardapi/google_classrooms"),w(r,l.OAuthSectionTypes.clever,"/dashboardapi/clever_classrooms"),r),T=(w(o={},l.OAuthSectionTypes.google_classroom,"/dashboardapi/import_google_classroom"),w(o,l.OAuthSectionTypes.clever,"/dashboardapi/import_clever_classroom"),o),C="teacherDashboard/SET_COURSE_OFFERINGS",k="teacherDashboard/SET_AVAILABLE_PARTICIPANT_TYPES",A="teacherDashboard/SET_STUDENT_SECTION",P="teacherDashboard/SET_PAGE_TYPE",x="teacherDashboard/SET_SHOW_LOCK_SECTION_FIELD",I="teacherDashboard/SET_AUTH_PROVIDERS",R="teacherDashboard/SET_SECTIONS",D="teacherDashboard/SELECT_SECTION";t.SELECT_SECTION=D;var j="teacherDashboard/REMOVE_SECTION",N="teacherSections/TOGGLE_SECTION_HIDDEN",L="teacherDashboard/CREATE_SECION_BEGIN",M="teacherDashboard/EDIT_SECTION_BEGIN",B="teacherDashboard/EDIT_SECTION_PROPERTIES",F="teacherDashboard/EDIT_SECTION_CANCEL",U="teacherDashboard/EDIT_SECTION_REQUEST",H="teacherDashboard/EDIT_SECTION_SUCCESS",W="teacherDashboard/EDIT_SECTION_FAILURE",q="teacherSections/SET_SECTION_CODE_REVIEW_EXPIRES_AT",z="teacherSections/ASYNC_LOAD_BEGIN",V="teacherSections/ASYNC_LOAD_END",G="teacherSections/SET_ROSTER_PROVIDER",$="teacherSections/IMPORT_ROSTER_FLOW_BEGIN",K="teacherSections/IMPORT_ROSTER_FLOW_LIST_LOADED",Y="teacherSections/IMPORT_ROSTER_FLOW_LIST_LOAD_FAILED",X="teacherSections/IMPORT_ROSTER_FLOW_CANCEL",J="teacherSections/IMPORT_ROSTER_REQUEST",Z="teacherSections/IMPORT_ROSTER_SUCCESS",Q={EDIT_SECTION_REQUEST:U,EDIT_SECTION_SUCCESS:H,IMPORT_ROSTER_FLOW_BEGIN:$,IMPORT_ROSTER_FLOW_LIST_LOADED:K,PENDING_NEW_SECTION_ID:-1,USER_EDITABLE_SECTION_PROPS:E};t.__testInterface__=Q;t.setAuthProviders=function(e){return{type:I,providers:e}};var ee=function(e){return{type:G,rosterProvider:e}};t.setRosterProvider=ee;var te=function(e){return{type:C,courseOfferings:e}};t.setCourseOfferings=te;var ne=function(e){return{type:k,availableParticipantTypes:e}};t.setAvailableParticipantTypes=ne;var re=function(e,t){return{type:A,sectionId:e,students:t}};t.setStudentsForCurrentSection=re;t.setPageType=function(e){return{type:P,pageType:e}};t.setShowLockSectionField=function(e){return{type:x,showLockSectionField:e}};t.setSectionCodeReviewExpiresAt=function(e,t){return{type:q,sectionId:e,codeReviewExpiresAt:t}};t.pageTypes={level:"level",scriptOverview:"script_overview",courseOverview:"course_overview",lessonExtras:"lesson_extras",homepage:"homepage"};var oe=function(e){return{type:R,sections:e}};t.setSections=oe;t.selectSection=function(e){return{type:D,sectionId:e}};t.removeSection=function(e){return{type:j,sectionId:e}};function ie(e,t){if(null!==t&&void 0!==_(t))return t}t.toggleSectionHidden=function(e){return function(t,n){t(ae(e,!0));var r=ge(n()).sections[e].hidden;return t(se({hidden:!r})),u.default.putRecord({study:"teacher_dashboard_actions",study_group:"toggleSectionHidden",event:r?"restoreSection":"archiveSection",data_json:JSON.stringify({section_id:e})}),t(ue())}};t.assignToSection=function(e,t,n,r,o,i){return u.default.putRecord({study:"assignment",event:"course-assigned-to-section",data_json:JSON.stringify({sectionId:e,unitId:o,courseId:t,date:new Date},ie)},{includeUserId:!0}),function(a,s){return a(ae(e,!0)),a(se({courseId:t,courseOfferingId:n,courseVersionId:r,unitId:o})),a(ue(i))}};t.unassignSection=function(e,t){return function(n,r){n(ae(e,!0));var o=r().teacherSections,i=o.initialCourseId,a=o.initialUnitId;return n(se({courseId:null,courseOfferingId:null,courseVersionId:null,unitId:null})),u.default.putRecord({study:"assignment",event:"course-unassigned-from-section",data_json:JSON.stringify({sectionId:e,scriptId:a,courseId:i,location:t,date:new Date},ie)},{includeUserId:!0}),n(ue())}};t.beginCreatingSection=function(e,t,n,r){return{type:L,courseOfferingId:e,courseVersionId:t,unitId:n,participantType:r}};var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:M,sectionId:e,silent:t}};t.beginEditingSection=ae;var se=function(e){return{type:B,props:e}};t.editSectionProperties=se;t.cancelEditingSection=function(){return{type:F}};var le=function(e,t){e({type:U});var n=t().teacherSections,r=n.sectionBeingEdited,o=ke(n)?"/dashboardapi/sections":"/dashboardapi/sections/".concat(r.id),i=ke(n)?"POST":"PATCH";return a.default.ajax({url:o,method:i,contentType:"application/json;charset=UTF-8",data:JSON.stringify(Oe(r))})};t.submitEditingSection=le;var ue=function(){return function(e,t){var n=t().teacherSections.sectionBeingEdited;return new Promise((function(r,o){le(e,t).done((function(t){e({type:H,sectionId:n.id,serverSection:t}),r(t)})).fail((function(t,n){e({type:W}),o(n)}))}))}};t.finishEditingSection=ue;t.reloadAfterEditingSection=function(){return function(e,t){var n=t().teacherSections.sectionBeingEdited;return new Promise((function(r,o){le(e,t).done((function(t){e({type:H,sectionId:n.id,serverSection:t}),(0,s.reload)()})).fail((function(t,n){e({type:W}),o(n)}))}))}};var ce=function(e){return function(t){t({type:z});var n=["/dashboardapi/sections","/dashboardapi/sections/valid_course_offerings","/dashboardapi/sections/available_participant_types"];return e&&n.push("/dashboardapi/sections/"+e+"/students"),Promise.all(n.map(de)).then((function(n){var r=y(n,4),o=r[0],i=r[1],a=r[2],s=r[3];t(te(i)),t(ne(a.availableParticipantTypes)),t(oe(o)),e&&t(re(e,s))})).catch((function(e){console.error(e.message)})).then((function(){t({type:V})}))}};function de(e,t){return new Promise((function(n,r){a.default.getJSON(e,t).done(n).fail((function(t){return r(new Error("\n        url: ".concat(e,"\n        status: ").concat(t.status,"\n        statusText: ").concat(t.statusText,"\n        responseText: ").concat(t.responseText,"\n      ")))}))}))}t.asyncLoadSectionData=ce;var fe=function(){return function(e,t){var n=t(),r=ge(n).rosterProvider;return r?ye(n)?Promise.resolve():(e({type:$}),new Promise((function(t,n){a.default.ajax(S[r]).success((function(n){e({type:K,classrooms:n.courses||[]}),t()})).fail((function(t){var r=t.responseJSON?t.responseJSON.error:"Unknown error.";e({type:Y,status:t.status,message:r}),n(new Error(r))}))}))):Promise.reject(new Error("Unable to begin import roster flow without a provider"))}};t.beginImportRosterFlow=fe;t.cancelImportRosterFlow=function(){return{type:X}};t.beginGoogleImportRosterFlow=function(){return function(e){e(ee(l.OAuthSectionTypes.google_classroom)),e(fe())}};t.importOrUpdateRoster=function(e,t){return function(n,r){var o,i=ge(r()).rosterProvider,a=T[i];return n({type:J}),de(a,{courseId:e,courseName:t}).then((function(e){return o=e.id})).then((function(){return n(ce())})).then((function(){return n({type:Z,sectionId:o})}))}};var pe={nextTempId:-1,studioUrl:"",providers:[],sectionIds:[],studentSectionIds:[],plSectionIds:[],selectedSectionId:O,courseOfferings:{},availableParticipantTypes:[],sections:{},selectedStudents:[],sectionsAreLoaded:!1,sectionBeingEdited:null,showSectionEditDialog:!1,saveInProgress:!1,asyncLoadComplete:!1,isRosterDialogOpen:!1,rosterProvider:null,classrooms:null,loadError:null,pageType:"",showLockSectionField:null};function he(e){return{id:-1,name:"",loginType:void 0,grade:"",providerManaged:!1,lessonExtras:!0,pairingAllowed:!0,ttsAutoplayEnabled:!1,sharingDisabled:!1,studentCount:0,participantType:e,code:"",courseId:null,courseOfferingId:null,courseVersionId:null,unitId:null,hidden:!1,isAssigned:void 0,restrictSection:!1}}var me=function(e){return"google_oauth2"===e?l.OAuthSectionTypes.google_classroom:e};function ge(e){return e.teacherSections}function ye(e){return ge(e).isRosterDialogOpen}function ve(e){return ge(e).rosterProvider}function be(e,t){return!!(ge(e).sections[t]||{}).providerManaged}function _e(e){var t,n=ge(e),r=n.sectionBeingEdited,o=null,i=null===(t=n.courseOfferings[r.courseOfferingId])||void 0===t?void 0:t.course_versions[r.courseVersionId];return i&&(r.unitId?o=i.units[r.unitId]:"Unit"===i.type&&(o=Object.values(i.units)[0])),o}t.mapProviderToSectionType=me;var we=function(e){return{id:e.id,name:e.name,courseVersionName:e.courseVersionName,createdAt:e.createdAt,loginType:e.login_type,grade:e.grade,providerManaged:e.providerManaged||!1,lessonExtras:e.lesson_extras,pairingAllowed:e.pairing_allowed,ttsAutoplayEnabled:e.tts_autoplay_enabled,sharingDisabled:e.sharing_disabled,studentCount:e.studentCount,code:e.code,courseOfferingId:e.course_offering_id,courseVersionId:e.course_version_id,unitId:e.unit_id,courseId:e.course_id,hidden:e.hidden,isAssigned:e.isAssigned,restrictSection:e.restrict_section,postMilestoneDisabled:e.post_milestone_disabled,codeReviewExpiresAt:e.code_review_expires_at?Date.parse(e.code_review_expires_at):null,isAssignedCSA:e.is_assigned_csa,participantType:e.participant_type}};t.sectionFromServerSection=we;var Ee=function(e,t){return{sectionId:t,id:e.id,name:e.name,sharingDisabled:e.sharing_disabled,secretPicturePath:e.secret_picture_path,secretWords:e.secret_words}};function Oe(e){return g(g({},e),{},{login_type:e.loginType,lesson_extras:e.lessonExtras,pairing_allowed:e.pairingAllowed,tts_autoplay_enabled:e.ttsAutoplayEnabled,sharing_disabled:e.sharingDisabled,course_offering_id:e.courseOfferingId,course_version_id:e.courseVersionId,unit_id:e.unitId,course_id:e.courseId,restrict_section:e.restrictSection,participant_type:e.participantType})}t.studentFromServerStudent=Ee;var Se=function(e,t){var n=[];if(t.courseOfferingId&&t.courseVersionId){var r,o=null===(r=e[t.courseOfferingId])||void 0===r?void 0:r.course_versions[t.courseVersionId];o&&(n.push(o),t.unitId&&"UnitGroup"===o.type&&o.units[t.unitId]&&n.push(o.units[t.unitId]))}return n},Te=function(e,t){return Se(e,t).map((function(e){return e?e.name:""}))};t.assignmentNames=Te;var Ce=function(e,t){return Se(e,t).map((function(e){return e?e.path:""}))};function ke(e){return!!(e.sectionBeingEdited&&e.sectionBeingEdited.id<0)}t.assignmentPaths=Ce;var Ae=function(e){return Pe(Object.values(e))};t.sortedSectionsList=Ae;var Pe=function(e){return e.sort((function(e,t){return t.id-e.id}))};t.sortSectionsList=Pe;var xe=c.default.shape({sectionId:c.default.number,id:c.default.number.isRequired,name:c.default.string.isRequired,sharingDisabled:c.default.bool,secretPicturePath:c.default.string,secretWords:c.default.string});t.studentShape=xe},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=void 0;var o=function(){};r(n(167)).default&&(o=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,(function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)}))}:void 0);var i=o;t.default=i,e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=void 0;var o=function(){};r(n(167)).default&&(o=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var i=o;t.default=i,e.exports=t.default},(e,t,n)=>{"use strict";e.exports=a;var r=n(503),o="skip",i=!1;function a(e,t,n,a){function s(e,l,u){var c;return(t&&!r(t,e,l,u[u.length-1]||null)||(c=n(e,u))!==i)&&e.children&&c!==o&&function(e,t){var n,r,o=-1,l=a?-1:1,u=(a?e.length:o)+l;for(;u>o&&u<e.length;){if((r=(n=e[u])&&s(n,u,t))===i)return r;u="number"==typeof r?r:u+l}}(e.children,u.concat(e))===i?i:c}"function"==typeof t&&"function"!=typeof n&&(a=n,n=t,t=null),s(e,null,[])}a.CONTINUE=!0,a.SKIP=o,a.EXIT=i},e=>{"use strict";function t(e){return e&&"object"==typeof e?e:{}}e.exports=function(e){var n=t(t(e).position),r=t(n.start),o=t(n.end);return!(r.line&&r.column&&o.line&&o.column)}},(e,t,n)=>{"use strict";var r=n(369);e.exports=function(e,t){return function(e){return t;function t(t){var n=t&&i(t);return n&&o.call(e,n)?e[n]:null}}(function(e,t){var n={};if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return r(e,"definition",t&&t.commonmark?a:s),n;function a(e){var t=i(e.identifier);o.call(n,t)||(n[t]=e)}function s(e){n[i(e.identifier)]=e}}(e,t))};var o={}.hasOwnProperty;function i(e){return e.toUpperCase()}},(e,t,n)=>{"use strict";e.exports=function(e){var t,n,a,s,l=e.footnotes,u=l.length,c=-1,d=[];if(!u)return null;for(;++c<u;)t=l[c],a=t.children.concat(),s=a[a.length-1],n={type:"link",url:"#fnref-"+t.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:"↩"}]},s&&"paragraph"===s.type||(s={type:"paragraph",children:[]},a.push(s)),s.children.push(n),d[c]={type:"listItem",data:{hProperties:{id:"fn-"+t.identifier}},children:a,position:t.position};return e(null,"div",{className:["footnotes"]},i([r(e),o(e,{type:"list",ordered:!0,children:d})],!0))};var r=n(399),o=n(400),i=n(139)},(e,t,n)=>{"use strict";function r(){return null}e.exports={blockquote:n(504),break:n(505),code:n(506),delete:n(508),emphasis:n(509),footnoteReference:n(401),footnote:n(510),heading:n(511),html:n(512),imageReference:n(513),image:n(514),inlineCode:n(515),linkReference:n(517),link:n(518),listItem:n(519),list:n(400),paragraph:n(520),root:n(521),strong:n(522),table:n(523),text:n(524),thematicBreak:n(399),toml:r,yaml:r,definition:r,footnoteDefinition:r}},e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function n(e){return e?e.replace(/^\s+|\s+$/g,""):""}function r(e,t){var n=e&&"string"==typeof e.type,o=n?e:t;for(var i in e){var a=e[i];Array.isArray(a)?a.forEach((function(e){r(e,o)})):a&&"object"==typeof a&&r(a,o)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}e.exports=function(e,o){o=o||{};var i=1,a=1;function s(e){var t=e.match(/\n/g);t&&(i+=t.length);var n=e.lastIndexOf("\n");a=~n?e.length-n:a+e.length}function l(){var e={line:i,column:a};return function(t){return t.position=new u(e),g(),t}}function u(e){this.start=e,this.end={line:i,column:a},this.source=o.source}u.prototype.content=e;var c=[];function d(t){var n=new Error(o.source+":"+i+":"+a+": "+t);if(n.reason=t,n.filename=o.source,n.line=i,n.column=a,n.source=e,!o.silent)throw n;c.push(n)}function f(){return m(/^{\s*/)}function p(){return m(/^}/)}function h(){var t,n=[];for(g(),y(n);e.length&&"}"!=e.charAt(0)&&(t=A()||P());)!1!==t&&(n.push(t),y(n));return n}function m(t){var n=t.exec(e);if(n){var r=n[0];return s(r),e=e.slice(r.length),n}}function g(){m(/^\s*/)}function y(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=l();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return d("End of comment missing");var r=e.slice(2,n-2);return a+=2,s(r),e=e.slice(n),a+=2,t({type:"comment",comment:r})}}function b(){var e=m(/^([^{]+)/);if(e)return n(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function _(){var e=l(),r=m(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(r){if(r=n(r[0]),!m(/^:\s*/))return d("property missing ':'");var o=m(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),i=e({type:"declaration",property:r.replace(t,""),value:o?n(o[0]).replace(t,""):""});return m(/^[;\s]*/),i}}function w(){var e,t=[];if(!f())return d("missing '{'");for(y(t);e=_();)!1!==e&&(t.push(e),y(t));return p()?t:d("missing '}'")}function E(){for(var e,t=[],n=l();e=m(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),m(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:w()})}var O,S=k("import"),T=k("charset"),C=k("namespace");function k(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=l(),r=m(t);if(r){var o={type:e};return o[e]=r[1].trim(),n(o)}}}function A(){if("@"==e[0])return function(){var e=l();if(t=m(/^@([-\w]+)?keyframes\s*/)){var t,n=t[1];if(!(t=m(/^([-\w]+)\s*/)))return d("@keyframes missing name");var r,o=t[1];if(!f())return d("@keyframes missing '{'");for(var i=y();r=E();)i.push(r),i=i.concat(y());return p()?e({type:"keyframes",name:o,vendor:n,keyframes:i}):d("@keyframes missing '}'")}}()||function(){var e=l(),t=m(/^@media *([^{]+)/);if(t){var r=n(t[1]);if(!f())return d("@media missing '{'");var o=y().concat(h());return p()?e({type:"media",media:r,rules:o}):d("@media missing '}'")}}()||function(){var e=l(),t=m(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:n(t[1]),media:n(t[2])})}()||function(){var e=l(),t=m(/^@supports *([^{]+)/);if(t){var r=n(t[1]);if(!f())return d("@supports missing '{'");var o=y().concat(h());return p()?e({type:"supports",supports:r,rules:o}):d("@supports missing '}'")}}()||S()||T()||C()||function(){var e=l(),t=m(/^@([-\w]+)?document *([^{]+)/);if(t){var r=n(t[1]),o=n(t[2]);if(!f())return d("@document missing '{'");var i=y().concat(h());return p()?e({type:"document",document:o,vendor:r,rules:i}):d("@document missing '}'")}}()||function(){var e=l();if(m(/^@page */)){var t=b()||[];if(!f())return d("@page missing '{'");for(var n,r=y();n=_();)r.push(n),r=r.concat(y());return p()?e({type:"page",selectors:t,declarations:r}):d("@page missing '}'")}}()||function(){var e=l();if(m(/^@host\s*/)){if(!f())return d("@host missing '{'");var t=y().concat(h());return p()?e({type:"host",rules:t}):d("@host missing '}'")}}()||function(){var e=l();if(m(/^@font-face\s*/)){if(!f())return d("@font-face missing '{'");for(var t,n=y();t=_();)n.push(t),n=n.concat(y());return p()?e({type:"font-face",declarations:n}):d("@font-face missing '}'")}}()}function P(){var e=l(),t=b();return t?(y(),e({type:"rule",selectors:t,declarations:w()})):d("selector missing")}return r((O=h(),{type:"stylesheet",stylesheet:{source:o.source,rules:O,parsingErrors:c}}))}},e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,s=n.call(arguments,1),l=function(){if(this instanceof a){var t=i.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,i.length-s.length),c=[],d=0;d<u;d++)c.push("$"+d);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},(e,t,n)=>{"use strict";var r=n(370),o=n(140),i=n(411),a=r.boolean,s=r.overloadedBoolean,l=r.booleanish,u=r.number,c=r.spaceSeparated,d=r.commaSeparated;e.exports=o({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:c,accessKey:c,action:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:c,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:c,cols:u,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:c,coords:u|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:c,height:u,hidden:a,high:u,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:c,itemRef:c,itemScope:a,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loop:a,low:u,manifest:null,max:null,maxLength:u,media:null,method:null,min:null,minLength:u,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,open:a,optimum:u,pattern:null,ping:c,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:c,required:a,reversed:a,rows:u,rowSpan:u,sandbox:c,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:u,sizes:c,slot:null,span:u,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:u,step:null,style:null,tabIndex:u,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:u,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:u,borderColor:null,bottomMargin:u,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:u,leftMargin:u,link:null,longDesc:null,lowSrc:null,marginHeight:u,marginWidth:u,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:u,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:u,valueType:null,version:null,vAlign:null,vLink:null,vSpace:u,allowTransparency:null,autoCorrect:null,autoSave:null,prefix:null,property:null,results:u,security:null,unselectable:null}})},(e,t,n)=>{"use strict";var r=n(370),o=n(140),i=n(412),a=r.boolean,s=r.number,l=r.spaceSeparated,u=r.commaSeparated,c=r.commaOrSpaceSeparated;e.exports=o({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i,properties:{about:c,accentHeight:s,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:s,amplitude:s,arabicForm:null,ascent:s,attributeName:null,attributeType:null,azimuth:s,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:s,by:null,calcMode:null,capHeight:s,className:l,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:s,diffuseConstant:s,direction:null,display:null,dur:null,divisor:s,dominantBaseline:null,download:a,dx:null,dy:null,edgeMode:null,editable:null,elevation:s,enableBackground:null,end:null,event:null,exponent:s,externalResourcesRequired:null,fill:null,fillOpacity:s,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:u,g2:u,glyphName:u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:s,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:s,horizOriginX:s,horizOriginY:s,id:null,ideographic:s,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:s,k:s,k1:s,k2:s,k3:s,k4:s,kernelMatrix:c,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:s,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:s,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:s,overlineThickness:s,paintOrder:null,panose1:null,path:null,pathLength:s,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:s,pointsAtY:s,pointsAtZ:s,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:c,r:null,radius:null,refX:null,refY:null,rel:c,rev:c,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:c,requiredFeatures:c,requiredFonts:c,requiredFormats:c,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:s,specularExponent:s,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:s,strikethroughThickness:s,string:null,stroke:null,strokeDashArray:c,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:s,strokeOpacity:s,strokeWidth:null,style:null,surfaceScale:s,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:c,tabIndex:s,tableValues:null,target:null,targetX:s,targetY:s,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:c,to:null,transform:null,u1:null,u2:null,underlinePosition:s,underlineThickness:s,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:s,values:null,vAlphabetic:s,vMathematical:s,vectorEffect:null,vHanging:s,vIdeographic:s,version:null,vertAdvY:s,vertOriginX:s,vertOriginY:s,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:s,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})},(e,t,n)=>{"use strict";var r=n(178),o=r.TAG_NAMES,i=r.NAMESPACES;function a(e){switch(e.length){case 1:return e===o.P;case 2:return e===o.RB||e===o.RP||e===o.RT||e===o.DD||e===o.DT||e===o.LI;case 3:return e===o.RTC;case 6:return e===o.OPTION;case 8:return e===o.OPTGROUP}return!1}function s(e){switch(e.length){case 1:return e===o.P;case 2:return e===o.RB||e===o.RP||e===o.RT||e===o.DD||e===o.DT||e===o.LI||e===o.TD||e===o.TH||e===o.TR;case 3:return e===o.RTC;case 5:return e===o.TBODY||e===o.TFOOT||e===o.THEAD;case 6:return e===o.OPTION;case 7:return e===o.CAPTION;case 8:return e===o.OPTGROUP||e===o.COLGROUP}return!1}function l(e,t){switch(e.length){case 2:if(e===o.TD||e===o.TH)return t===i.HTML;if(e===o.MI||e===o.MO||e===o.MN||e===o.MS)return t===i.MATHML;break;case 4:if(e===o.HTML)return t===i.HTML;if(e===o.DESC)return t===i.SVG;break;case 5:if(e===o.TABLE)return t===i.HTML;if(e===o.MTEXT)return t===i.MATHML;if(e===o.TITLE)return t===i.SVG;break;case 6:return(e===o.APPLET||e===o.OBJECT)&&t===i.HTML;case 7:return(e===o.CAPTION||e===o.MARQUEE)&&t===i.HTML;case 8:return e===o.TEMPLATE&&t===i.HTML;case 13:return e===o.FOREIGN_OBJECT&&t===i.SVG;case 14:return e===o.ANNOTATION_XML&&t===i.MATHML}return!1}var u=function(){function e(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}var t=e.prototype;return t._indexOf=function(e){for(var t=-1,n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t},t._isInTemplate=function(){return this.currentTagName===o.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===i.HTML},t._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},t.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},t.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},t.replace=function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()},t.insertAfter=function(e,t){var n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()},t.popUntilTagNamePopped=function(e){for(;this.stackTop>-1;){var t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===i.HTML)break}},t.popUntilElementPopped=function(e){for(;this.stackTop>-1;){var t=this.current;if(this.pop(),t===e)break}},t.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===o.H1||e===o.H2||e===o.H3||e===o.H4||e===o.H5||e===o.H6&&t===i.HTML)break}},t.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===o.TD||e===o.TH&&t===i.HTML)break}},t.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},t.clearBackToTableContext=function(){for(;this.currentTagName!==o.TABLE&&this.currentTagName!==o.TEMPLATE&&this.currentTagName!==o.HTML||this.treeAdapter.getNamespaceURI(this.current)!==i.HTML;)this.pop()},t.clearBackToTableBodyContext=function(){for(;this.currentTagName!==o.TBODY&&this.currentTagName!==o.TFOOT&&this.currentTagName!==o.THEAD&&this.currentTagName!==o.TEMPLATE&&this.currentTagName!==o.HTML||this.treeAdapter.getNamespaceURI(this.current)!==i.HTML;)this.pop()},t.clearBackToTableRowContext=function(){for(;this.currentTagName!==o.TR&&this.currentTagName!==o.TEMPLATE&&this.currentTagName!==o.HTML||this.treeAdapter.getNamespaceURI(this.current)!==i.HTML;)this.pop()},t.remove=function(e){for(var t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},t.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===o.BODY?e:null},t.contains=function(e){return this._indexOf(e)>-1},t.getCommonAncestor=function(e){var t=this._indexOf(e);return--t>=0?this.items[t]:null},t.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===o.HTML},t.hasInScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===i.HTML)return!0;if(l(n,r))return!1}return!0},t.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===o.H1||t===o.H2||t===o.H3||t===o.H4||t===o.H5||t===o.H6)&&n===i.HTML)return!0;if(l(t,n))return!1}return!0},t.hasInListItemScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===i.HTML)return!0;if((n===o.UL||n===o.OL)&&r===i.HTML||l(n,r))return!1}return!0},t.hasInButtonScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===i.HTML)return!0;if(n===o.BUTTON&&r===i.HTML||l(n,r))return!1}return!0},t.hasInTableScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===i.HTML){if(n===e)return!0;if(n===o.TABLE||n===o.TEMPLATE||n===o.HTML)return!1}}return!0},t.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===i.HTML){if(t===o.TBODY||t===o.THEAD||t===o.TFOOT)return!0;if(t===o.TABLE||t===o.HTML)return!1}}return!0},t.hasInSelectScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===i.HTML){if(n===e)return!0;if(n!==o.OPTION&&n!==o.OPTGROUP)return!1}}return!0},t.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},t.generateImpliedEndTagsThoroughly=function(){for(;s(this.currentTagName);)this.pop()},t.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()},e}();e.exports=u},e=>{"use strict";var t=function(){function e(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}var t=e.prototype;return t._getNoahArkConditionCandidates=function(t){var n=[];if(this.length>=3)for(var r=this.treeAdapter.getAttrList(t).length,o=this.treeAdapter.getTagName(t),i=this.treeAdapter.getNamespaceURI(t),a=this.length-1;a>=0;a--){var s=this.entries[a];if(s.type===e.MARKER_ENTRY)break;var l=s.element,u=this.treeAdapter.getAttrList(l);this.treeAdapter.getTagName(l)===o&&this.treeAdapter.getNamespaceURI(l)===i&&u.length===r&&n.push({idx:a,attrs:u})}return n.length<3?[]:n},t._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),n=t.length;if(n){for(var r=this.treeAdapter.getAttrList(e),o=r.length,i=Object.create(null),a=0;a<o;a++){var s=r[a];i[s.name]=s.value}for(var l=0;l<o;l++)for(var u=0;u<n;u++){var c=t[u].attrs[l];if(i[c.name]!==c.value&&(t.splice(u,1),n--),t.length<3)return}for(var d=n-1;d>=2;d--)this.entries.splice(t[d].idx,1),this.length--}},t.insertMarker=function(){this.entries.push({type:e.MARKER_ENTRY}),this.length++},t.pushElement=function(t,n){this._ensureNoahArkCondition(t),this.entries.push({type:e.ELEMENT_ENTRY,element:t,token:n}),this.length++},t.insertElementAfterBookmark=function(t,n){for(var r=this.length-1;r>=0&&this.entries[r]!==this.bookmark;r--);this.entries.splice(r+1,0,{type:e.ELEMENT_ENTRY,element:t,token:n}),this.length++},t.removeEntry=function(e){for(var t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},t.clearToLastMarker=function(){for(;this.length;){var t=this.entries.pop();if(this.length--,t.type===e.MARKER_ENTRY)break}},t.getElementEntryInScopeWithTagName=function(t){for(var n=this.length-1;n>=0;n--){var r=this.entries[n];if(r.type===e.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(r.element)===t)return r}return null},t.getElementEntry=function(t){for(var n=this.length-1;n>=0;n--){var r=this.entries[n];if(r.type===e.ELEMENT_ENTRY&&r.element===t)return r}return null},e}();t.MARKER_ENTRY="MARKER_ENTRY",t.ELEMENT_ENTRY="ELEMENT_ENTRY",e.exports=t},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=n(102),i=n(190),a=n(431),s=n(559),l=n(178).TAG_NAMES,u=function(e){var t,n;function u(t){var n;return(n=e.call(this,t)||this).parser=t,n.treeAdapter=n.parser.treeAdapter,n.posTracker=null,n.lastStartTagToken=null,n.lastFosterParentingLocation=null,n.currentToken=null,n}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var c=u.prototype;return c._setStartLocation=function(e){var t=null;this.lastStartTagToken&&((t=Object.assign({},this.lastStartTagToken.location)).startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)},c._setEndLocation=function(e,t){var n=this.treeAdapter.getNodeSourceCodeLocation(e);if(n&&t.location){var r=t.location,o=this.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&o===t.tagName?(n.endTag=Object.assign({},r),n.endLine=r.endLine,n.endCol=r.endCol,n.endOffset=r.endOffset):(n.endLine=r.startLine,n.endCol=r.startCol,n.endOffset=r.startOffset)}},c._getOverriddenMethods=function(e,t){return{_bootstrap:function(n,r){t._bootstrap.call(this,n,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null;var i=o.install(this.tokenizer,a);e.posTracker=i.posTracker,o.install(this.openElements,s,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop:function(n){t._runParsingLoop.call(this,n);for(var r=this.openElements.stackTop;r>=0;r--)e._setEndLocation(this.openElements.items[r],e.currentToken)},_processTokenInForeignContent:function(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken:function(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===l.HTML||n.tagName===l.BODY&&this.openElements.hasInScope(l.BODY)))for(var r=this.openElements.stackTop;r>=0;r--){var o=this.openElements.items[r];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType:function(e){t._setDocumentType.call(this,e);for(var n=this.treeAdapter.getChildNodes(this.document),r=n.length,o=0;o<r;o++){var i=n[o];if(this.treeAdapter.isDocumentTypeNode(i)){this.treeAdapter.setNodeSourceCodeLocation(i,e.location);break}}},_attachElementToTree:function(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement:function(n,r){e.lastStartTagToken=n,t._appendElement.call(this,n,r)},_insertElement:function(n,r){e.lastStartTagToken=n,t._insertElement.call(this,n,r)},_insertTemplate:function(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n);var r=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(r,null)},_insertFakeRootElement:function(){t._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode:function(e,n){t._appendCommentNode.call(this,e,n);var r=this.treeAdapter.getChildNodes(n),o=r[r.length-1];this.treeAdapter.setNodeSourceCodeLocation(o,e.location)},_findFosterParentingLocation:function(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters:function(n){t._insertCharacters.call(this,n);var r=this._shouldFosterParentOnInsertion(),o=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,i=this.treeAdapter.getChildNodes(o),a=r&&e.lastFosterParentingLocation.beforeElement?i.indexOf(e.lastFosterParentingLocation.beforeElement)-1:i.length-1,s=i[a],l=this.treeAdapter.getNodeSourceCodeLocation(s);l?(l.endLine=n.location.endLine,l.endCol=n.location.endCol,l.endOffset=n.location.endOffset):this.treeAdapter.setNodeSourceCodeLocation(s,n.location)}}},u}(o);e.exports=u},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=n(378),i=n(560),a=n(431),s=n(102),l=function(e){var t,n;function o(t,n){var r;return(r=e.call(this,t,n)||this).opts=n,r.ctLoc=null,r.locBeforeToken=!1,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var l=o.prototype;return l._setErrorLocation=function(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)},l._getOverriddenMethods=function(e,t){return{_bootstrap:function(n,r){t._bootstrap.call(this,n,r),s.install(this.tokenizer,i,e.opts),s.install(this.tokenizer,a)},_processInputToken:function(n){e.ctLoc=n.location,t._processInputToken.call(this,n)},_err:function(t,n){e.locBeforeToken=n&&n.beforeToken,e._reportError(t)}}},o}(o);e.exports=l},e=>{"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),Object.create(null))}},(e,t,n)=>{"use strict";var r=n(192),o=n(443)(r,"g");o.displayName="svg",e.exports=o},(e,t,n)=>{"use strict";var r=n(191),o=n(192),i=n(193),a=n(418),s=n(419),l=n(417),u=n(184),c=n(568),d=/-([a-z])/g;function f(e,t,n){var r,i,a,s,h,g,y,v,b,_=n.schema,w=_,E=t.tagName;for(s in"html"===_.space&&"svg"===E.toLowerCase()&&(w=o,n.schema=w),!0===n.vdom&&"html"===w.space&&(E=E.toUpperCase()),i={},r=t.properties)p(i,s,r[s],n);for("string"!=typeof i.style||!0!==n.vdom&&!0!==n.react||(i.style=function(e,t){var n={};try{l(e,r)}catch(o){throw o.message=t+"[style]"+o.message.slice("undefined".length),o}return n;function r(e,t){n[function(e){"-ms-"===e.slice(0,4)&&(e="ms-"+e.slice(4));return e.replace(d,m)}(e)]=t}}(i.style,E)),n.prefix&&(n.key++,i.key=n.prefix+n.key),n.vdom&&"html"!==w.space&&(i.namespace=u[w.space]),h=[],g=(a=t.children)?a.length:0,y=-1;++y<g;)v=a[y],c("element",v)?h.push(f(e,v,n)):c("text",v)&&h.push(v.value);return b=0===h.length?e(E,i):e(E,i,h),n.schema=_,b}function p(e,t,n,r){var o,l=r.schema,u=i(l,t);null==n||!1===n||n!=n||u.boolean&&!n||(null!==n&&"object"==typeof n&&"length"in n&&(n=(u.commaSeparated?s:a).stringify(n)),u.boolean&&!0===r.hyperscript&&(n=""),u.mustUseProperty||(!0===r.vdom?o="attributes":!0===r.hyperscript&&(o="attrs")),o?(void 0===e[o]&&(e[o]={}),e[o][u.attribute]=n):e[r.react&&u.space?u.property:u.attribute]=n)}function h(e){return Boolean(e&&e.context&&e.cleanup)}function m(e,t){return t.toUpperCase()}e.exports=function(e,t,n){var i,a,s,l=n||{};if("function"!=typeof e)throw new Error("h is not a function");"string"==typeof l||"boolean"==typeof l?(i=l,l={}):i=l.prefix;a=function(e){var t=e&&e("div");return Boolean(t&&("_owner"in t||"_store"in t)&&null===t.key)}(e),s=function(e){return e&&"VirtualNode"===e("div").type}(e),null==i&&(i=(!0===a||!0===s)&&"h-");if(c("root",t))t=1===t.children.length&&c("element",t.children[0])?t.children[0]:{type:"element",tagName:"div",properties:{},children:t.children};else if(!c("element",t))throw new Error("Expected root or element, not `"+(t&&t.type||t)+"`");return f(e,t,{schema:"svg"===l.space?o:r,prefix:i,key:0,react:a,vdom:s,hyperscript:h(e)})}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){for(var i=0,a=e.length;i<a;++i){var s=e[i](t,n,r,o);if(s)return s}},e.exports=t.default},(e,t)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,o=t.length;r<o;++r)n(e,t[r]);else n(e,t)},e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){if((!o&&0!==o||e)&&i.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return o};var o,i=r(n(167));e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignInState=t.CourseRoles=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;if(t.type===s)return i(i({},e),{},{userName:t.userName});if(t.type===d)return i(i({},e),{},{hasSeenStandardsReportInfo:t.hasSeenStandardsReport});if(t.type===l)return i(i({},e),{},{signInState:t.isSignedIn?h.SignedIn:h.SignedOut});if(t.type===u)return i(i({},e),{},{userType:t.userType,under13:t.under13});if(t.type===c)return i(i({},e),{},{userRoleInCourse:t.userRoleInCourse});if(t.type===p)return i(i({},e),{},{isBackgroundMusicMuted:t.isBackgroundMusicMuted});if(t.type===f){var n=t.serverUser,r=n.id,o=n.username,a=n.user_type,m=n.mute_music,y=n.under_13;return i(i({},e),{},{userId:r,userName:o,userType:a,isBackgroundMusicMuted:m,under13:y})}return e},t.setUserType=t.setUserSignedIn=t.setUserRoleInCourse=t.setMuteMusic=t.setInitialData=t.setCurrentUserName=t.setCurrentUserHasSeenStandardsReportInfo=t.isSignedIn=void 0;var r=n(33);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="currentUser/SET_CURRENT_USER_NAME",l="currentUser/SET_USER_SIGNED_IN",u="currentUser/SET_USER_TYPE",c="currentUser/SET_USER_ROLE_IN_COURSE",d="currentUser/SET_HAS_SEEN_STANDARDS_REPORT",f="currentUser/SET_INITIAL_DATA",p="currentUser/SET_MUTE_MUSIC",h=(0,r.makeEnum)("Unknown","SignedIn","SignedOut");t.SignInState=h;var m=(0,r.makeEnum)("Unknown","Instructor","Participant");t.CourseRoles=m;t.setCurrentUserName=function(e){return{type:s,userName:e}};t.setCurrentUserHasSeenStandardsReportInfo=function(e){return{type:d,hasSeenStandardsReport:e}};t.setUserSignedIn=function(e){return{type:l,isSignedIn:e}};t.setUserType=function(e,t){return{type:u,userType:e,under13:t}};t.setUserRoleInCourse=function(e){return{type:c,userRoleInCourse:e}};t.setInitialData=function(e){return{type:f,serverUser:e}};t.setMuteMusic=function(e){return{type:p,isBackgroundMusicMuted:e}};var g={userId:null,userName:null,userType:"unknown",userRoleInCourse:m.Unknown,signInState:h.Unknown,hasSeenStandardsReportInfo:!1,isBackgroundMusicMuted:!1,under13:!0};t.isSignedIn=function(e){return e.signInState===h.SignedIn}},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.workspaceAlertTypes=t.unsetNameFailure=t.showProjectUpdatedAt=t.setShowTryAgainDialog=t.setProjectUpdatedSaving=t.setProjectUpdatedSaved=t.setProjectUpdatedError=t.setProjectUpdatedAt=t.setNameFailure=t.retryProjectSave=t.refreshProjectName=t.projectUpdatedStatuses=t.displayWorkspaceAlert=t.default=t.closeWorkspaceAlert=void 0;var i="project/SHOW_PROJECT_UPDATED_AT",a="project/SET_PROJECT_UPDATED_STATUS",s="project/SET_PROJECT_UPDATED_AT",l="project/SHOW_WORKSPACE_ALERT",u="project/REFRESH_PROJECT_NAME",c="project/SHOW_TRY_AGAIN_DIALOG",d="project/SET_NAME_FAILURE",f="project/UNSET_NAME_FAILURE",p={default:"default",saving:"saving",saved:"saved",error:"error"};t.projectUpdatedStatuses=p;t.workspaceAlertTypes={error:"error",warning:"warning",notification:"notification"};var h={showProjectUpdatedAt:!1,projectUpdatedStatus:p.default,projectUpdatedAt:void 0,projectName:"",projectNameFailure:void 0,showTryAgainDialog:!1,showWorkspaceAlert:{type:"",message:"",displayBottom:void 0}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return t.type===i?r(r({},e),{},{showProjectUpdatedAt:!0}):t.type===s?r(r({},e),{},{projectUpdatedAt:t.updatedAt,projectUpdatedStatus:p.saved}):t.type===a?r(r({},e),{},{projectUpdatedStatus:t.status}):t.type===l?r(r({},e),{},{workspaceAlert:t.workspaceAlert}):t.type===u?r(r({},e),{},{projectName:dashboard.project.getCurrentName()}):t.type===c?r(r({},e),{},{showTryAgainDialog:t.visible}):t.type===f?r(r({},e),{},{projectNameFailure:void 0}):t.type===d?r(r({},e),{},{projectNameFailure:t.projectNameFailure}):e};t.showProjectUpdatedAt=function(){return{type:i}};t.setProjectUpdatedError=function(){return{type:a,status:p.error}};t.displayWorkspaceAlert=function(e,t,n){return{type:l,workspaceAlert:{type:e,message:t,displayBottom:n}}};t.closeWorkspaceAlert=function(){return{type:l,workspaceAlert:null}};t.setProjectUpdatedSaving=function(){return{type:a,status:p.saving}};t.setProjectUpdatedSaved=function(){return{type:a,status:p.saved}};t.setProjectUpdatedAt=function(e){return{type:s,updatedAt:e}};t.retryProjectSave=function(){return function(e){return dashboard.project.save()}};t.refreshProjectName=function(){return{type:u}};t.setShowTryAgainDialog=function(e){return{type:c,visible:e}};t.setNameFailure=function(e){return{type:d,projectNameFailure:e}};t.unsetNameFailure=function(){return{type:f}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearResults=t.__testonly__=t.INIT_PROGRESS=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;if(t.type===y){var n=t.lessons,r=e.currentLessonId||(1===n.length?n[0].id:void 0);return m(m({},e),{},{currentLevelId:t.currentLevelId,deeperLearningCourse:t.deeperLearningCourse,saveAnswersBeforeNavigation:t.saveAnswersBeforeNavigation,lessons:j(n,t.deeperLearningCourse),lessonGroups:t.lessonGroups,peerReviewLessonInfo:t.peerReviewLessonInfo,scriptId:t.scriptId,scriptName:t.scriptName,unitTitle:t.unitTitle,unitDescription:t.unitDescription,unitStudentDescription:t.unitStudentDescription,courseId:t.courseId,courseVersionId:t.courseVersionId,currentLessonId:r,hasFullProgress:t.isFullProgress,isLessonExtras:t.isLessonExtras,currentPageNumber:t.currentPageNumber})}if(t.type===v)return m(m({},e),{},{unitProgress:(0,u.processServerStudentProgress)(t.unitProgress),unitProgressHasLoaded:!0});if(t.type===I)return m(m({},e),{},{usingDbProgress:!0});if(t.type===b)return m(m({},e),{},{levelResults:D.levelResults});if(t.type===R)return m(m({},e),{},{levelResults:t.levelResults});if(t.type===_){var o={},a=Object.keys(m(m({},e.levelResults),t.levelResults));return a.forEach((function(n){o[n]=(0,i.mergeActivityResult)(e.levelResults[n],t.levelResults[n])})),m(m({},e),{},{levelResults:o})}if(t.type===w)return m(m({},e),{},{peerReviewLessonInfo:m(m({},e.peerReviewLessonInfo),{},{levels:e.peerReviewLessonInfo.levels.map((function(e,n){return m(m({},e),t.peerReviewsPerformed[n])}))})});if(t.type===E)return m(m({},e),{},{changeFocusAreaPath:t.changeFocusAreaPath,focusAreaLessonIds:t.focusAreaLessonIds});if(t.type===O)return m(m({},e),{},{postMilestoneDisabled:!0});if(t.type===S)return m(m({},e),{},{isAge13Required:t.isAge13Required});if(t.type===T)return m(m({},e),{},{isSummaryView:t.isSummaryView});if(t.type===C)return m(m({},e),{},{isMiniView:t.isMiniView});if(t.type===k)return m(m({},e),{},{studentDefaultsSummaryView:t.studentDefaultsSummaryView});if(t.type===l.SET_VIEW_TYPE){var s=t.viewType;return m(m({},e),{},{isSummaryView:s===l.ViewType.Participant&&e.studentDefaultsSummaryView})}if(t.type===A)return e.currentLessonId?e:m(m({},e),{},{currentLessonId:t.lessonId});if(t.type===P)return m(m({},e),{},{unitCompleted:!0});if(t.type===x)return m(m({},e),{},{lessonExtrasEnabled:t.lessonExtrasEnabled});return e},t.overwriteResults=t.mergeResults=t.mergePeerReviewProgress=t.levelsForLessonId=t.levelsByLesson=t.lessons=t.lessonExtrasUrl=t.isPerfect=t.initProgress=t.hasLockableLessons=t.hasGroups=t.groupedLessons=t.disablePostMilestone=void 0,t.processedLessons=j,t.useDbProgress=t.updateFocusArea=t.setStudentDefaultsSummaryView=t.setScriptProgress=t.setScriptCompleted=t.setLessonExtrasEnabled=t.setIsSummaryView=t.setIsMiniView=t.setIsAge13Required=t.setCurrentLessonId=t.queryUserProgress=t.progressionsFromLevels=void 0;var r=p(n(32)),o=p(n(53)),i=n(820),a=n(385),s=n(137),l=n(420),u=n(467),c=n(197),d=n(778),f=n(759);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="progress/INIT_PROGRESS";t.INIT_PROGRESS=y;var v="progress/SET_UNIT_PROGRESS",b="progress/CLEAR_RESULTS",_="progress/MERGE_RESULTS",w="progress/MERGE_PEER_REVIEW_PROGRESS",E="progress/UPDATE_FOCUS_AREAS",O="progress/DISABLE_POST_MILESTONE",S="progress/SET_IS_AGE_13_REQUIRED",T="progress/SET_IS_SUMMARY_VIEW",C="progress/SET_IS_MINI_VIEW",k="progress/SET_STUDENT_DEFAULTS_SUMMARY_VIEW",A="progress/SET_CURRENT_LESSON_ID",P="progress/SET_UNIT_COMPLETED",x="progress/SET_LESSON_EXTRAS_ENABLED",I="progress/USE_DB_PROGRESS",R="progress/OVERWRITE_RESULTS",D={currentLevelId:null,currentLessonId:null,deeperLearningCourse:null,saveAnswersBeforeNavigation:null,lessons:null,lessonGroups:null,scriptId:null,scriptName:null,unitTitle:null,courseId:null,isLessonExtras:!1,unitProgress:{},unitProgressHasLoaded:!1,levelResults:{},focusAreaLessonIds:[],peerReviewLessonInfo:null,peerReviewsPerformed:[],postMilestoneDisabled:!1,isAge13Required:!1,studentDefaultsSummaryView:!0,isSummaryView:!0,isMiniView:!1,hasFullProgress:!1,lessonExtrasEnabled:!1,usingDbProgress:!1,currentPageNumber:c.PUZZLE_PAGE_NONE};function j(e,t){var n=0;return e.map((function(e){var r;return!t&&e.numberedLesson&&(r=++n),m(m({},o.default.omit(e,"hidden")),{},{lessonNumber:r})}))}t.initProgress=function(e){var t=e.currentLevelId,n=e.deeperLearningCourse,r=e.saveAnswersBeforeNavigation,o=e.lessons,i=e.lessonGroups,a=e.peerReviewLessonInfo,s=e.scriptId,l=e.scriptName,u=e.unitTitle,c=e.unitDescription,d=e.unitStudentDescription,f=e.courseId,p=e.courseVersionId,h=e.isFullProgress,m=e.isLessonExtras,g=e.currentPageNumber;return{type:y,currentLevelId:t,deeperLearningCourse:n,saveAnswersBeforeNavigation:r,lessons:o,lessonGroups:i,peerReviewLessonInfo:a,scriptId:s,scriptName:l,unitTitle:u,unitDescription:c,unitStudentDescription:d,courseId:f,courseVersionId:p,isFullProgress:h,isLessonExtras:m,currentPageNumber:g}};var N=function(e){return{type:v,unitProgress:e}};t.setScriptProgress=N;var L=function(){return{type:b}};t.clearResults=L;t.useDbProgress=function(){return{type:I}};var M=function(e){return{type:_,levelResults:e}};t.mergeResults=M;t.overwriteResults=function(e){return{type:R,levelResults:e}};var B=function(e){return{type:w,peerReviewsPerformed:e}};t.mergePeerReviewProgress=B;var F=function(e,t){return{type:E,changeFocusAreaPath:e,focusAreaLessonIds:t}};t.updateFocusArea=F;t.disablePostMilestone=function(){return{type:O}};t.setIsAge13Required=function(e){return{type:S,isAge13Required:e}};var U=function(e){return{type:T,isSummaryView:e}};t.setIsSummaryView=U;t.setIsMiniView=function(e){return{type:C,isMiniView:e}};t.setStudentDefaultsSummaryView=function(e){return{type:k,studentDefaultsSummaryView:e}};var H=function(e){return{type:A,lessonId:e}};t.setCurrentLessonId=H;var W=function(){return{type:P}};t.setScriptCompleted=W;t.setLessonExtrasEnabled=function(e){return{type:x,lessonExtrasEnabled:e}};t.queryUserProgress=function(e){return function(t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.scriptName){var i="Could not request progress for user ID ".concat(n," from server: scriptName must be present in progress redux.");throw new Error(i)}return n&&t(L()),r.default.ajax({url:"/api/user_progress/".concat(e.scriptName),method:"GET",data:{user_id:n}}).done((function(n){if(n&&!o.default.isEmpty(n)){n.isVerifiedInstructor&&t((0,d.setVerified)());var r=!e.currentLevelId;if((n.isInstructor||n.teacherViewingStudent)&&!n.deeperLearningCourse&&r&&t(U(n.teacherViewingStudent)),n.focusAreaLessonIds&&t(F(n.changeFocusAreaPath,n.focusAreaLessonIds)),t((0,f.authorizeLockable)(n.lockableAuthorized)),n.completed&&t(W()),n.progress){t(N(n.progress));var i=o.default.mapValues(n.progress,u.getLevelResult);t(M(i)),n.peerReviewsPerformed&&t(B(n.peerReviewsPerformed)),n.current_lesson&&t(H(n.current_lesson))}}}))}(n().progress,t,e)}};t.hasLockableLessons=function(e){return e.lessons.some((function(e){return e.lockable}))};t.hasGroups=function(e){return Object.keys(Y(e)).length>1};var q=function(e,t){return m(m({},z(e.lessons[t])),{},{isFocusArea:e.focusAreaLessonIds.includes(e.lessons[t].id)})},z=function(e){return o.default.pick(e,["name","id","lockable","lessonNumber","lessonStartUrl","lesson_plan_html_url","lesson_feedback_url","student_lesson_plan_html_url","description_student","description_teacher"])};t.lessons=function(e){return e.lessons.map((function(t,n){return q(e,n)}))};var V=function(e){return m(m({},z(e.peerReviewLessonInfo)),{},{id:-1,lockable:!1,isFocusArea:!1})},G=function(e){return e.peerReviewLessonInfo.levels.map((function(e,t){return m(m({},e),{},{id:(-1).toString(),isLocked:e.locked,status:e.status||a.LevelStatus.not_tried,levelNumber:t+1})}))},$=function(e,t,n){var r,o,s=e.levelResults,l=e.unitProgress,c=e.levelPairing,d=void 0===c?{}:c,f=e.currentLevelId,p=(0,u.processedLevel)(t);t.ids&&(p.id=function(e,t){if(1===e.length)return e[0];var n=e.filter((function(e){return t[e]}));if(0===n.length)return e[0];var r=n[0],o=t[r];return n.forEach((function(e){var n=t[e];n>o&&(r=e,o=n)})),r}(t.ids,s));var h=a.LevelStatus.not_tried,g=n,y=null,v=l[p.id];null!==(r=v)&&void 0!==r&&r.pages&&(v=v.pages[p.pageNumber-1]),v?(h=v.status,g=v.locked,y=v.teacherFeedbackReviewState):t.kind!==a.LevelKind.assessment&&(h=(0,i.activityCssClass)(s[p.id]));var b=p.id===f||!(null===(o=t.ids)||void 0===o||!o.includes[f]);return m(m({},p),{},{status:h,isCurrentLevel:b,paired:d[t.activeId],isLocked:g,teacherFeedbackReviewState:y})},K=function(e){var t=e.lessons,n=e.levelResults,r=e.unitProgress,o=e.levelPairing,i=e.currentLevelId;return t.map((function(e){return e.levels.map((function(t){var a=$({levelResults:n,unitProgress:r,levelPairing:o,currentLevelId:i},t,e.lockable);return a.sublevels&&(a.sublevels=t.sublevels.map((function(t){return $({levelResults:n,unitProgress:r,levelPairing:o,currentLevelId:i},t,e.lockable)}))),a}))}))};t.levelsByLesson=K;t.levelsForLessonId=function(e,t){var n=e.lessons.find((function(e){return e.id===t}));return n.levels.map((function(t){return $(e,t,n.lockable)}))};t.lessonExtrasUrl=function(e,t){return e.lessonExtrasEnabled?e.lessons.find((function(e){return e.id===t})).lesson_extras_level_url:""};t.isPerfect=function(e,t){return!!e.levelResults&&e.levelResults[t]>=s.TestResults.MINIMUM_OPTIMAL_RESULT};var Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=K(e);return e.lessonGroups.forEach((function(e){n[e.display_name]={lessonGroup:{id:e.id,userFacing:e.user_facing,displayName:e.display_name,description:e.description,bigQuestions:e.big_questions},lessons:[],levelsByLesson:[]}})),e.lessons.forEach((function(o,i){var a=o.lesson_group_display_name,s=q(e,i),l=r[i];t||(l=l.filter((function(e){return!e.bonus}))),n[a]&&(n[a].lessons.push(s),n[a].levelsByLesson.push(l))})),e.peerReviewLessonInfo&&(n[e.peerReviewLessonInfo.lesson_group_display_name]={group:e.peerReviewLessonInfo.lesson_group_display_name,lessonGroup:{id:null,displayName:e.peerReviewLessonInfo.lesson_group_display_name,description:null,bigQuestions:null},lessons:[V(e)],levelsByLesson:[G(e)]}),o.default.values(n)};t.groupedLessons=Y;t.progressionsFromLevels=function(e){var t=[];if(0===e.length)return t;var n={start:0,name:e[0].progression||e[0].name,displayName:e[0].progressionDisplayName||e[0].name,levels:[e[0]]};return e.slice(1).forEach((function(e,r){(e.progression||e.name)===n.name?n.levels.push(e):(t.push(n),n={start:r+1,name:e.progression||e.name,displayName:e.progressionDisplayName||e.name,levels:[e]})})),t.push(n),t};var X={};t.__testonly__=X},(e,t,n)=>{"use strict";e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(752),a=(r=i)&&r.__esModule?r:{default:r};o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e;var s=(0,a.default)(o);t.default=s},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){return(0,o.default)(e.replace(i,"ms-"))};var o=r(n(690)),i=/^-ms-/;e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,o.default)());try{return e.activeElement}catch(t){}};var o=r(n(201));e.exports=t.default},e=>{e.exports={}},(e,t,n)=>{"use strict";t.__esModule=!0;var r=u(n(202)),o=u(n(2)),i=u(n(1)),a=u(n(36)),s=u(n(588)),l=u(n(375));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.addEventListeners=function(){i.currentEvent=window.event;var e=i.props.event,t=(0,l.default)(i);i.documentMouseCaptureListener=(0,s.default)(t,e,i.handleMouseCapture,!0),i.documentMouseListener=(0,s.default)(t,e,i.handleMouse),i.documentKeyupListener=(0,s.default)(t,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(e){i.preventMouseRootClose=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||!function(e){return 0===e.button}(e)||(0,r.default)(a.default.findDOMNode(i),e.target)},i.handleMouse=function(e){e!==i.currentEvent?!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(e):i.currentEvent=void 0},i.handleKeyUp=function(e){e!==i.currentEvent?27===e.keyCode&&i.props.onRootClose&&i.props.onRootClose(e):i.currentEvent=void 0},i.preventMouseRootClose=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(i.default.Component);c.displayName="RootCloseWrapper",c.propTypes={onRootClose:o.default.func,children:o.default.element,disabled:o.default.bool,event:o.default.oneOf(["click","mousedown"])},c.defaultProps={event:"click"},t.default=c,e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(e)||(t=e,t&&"body"===t.tagName.toLowerCase())?function(e){var t=(0,o.default)(e),n=(0,r.default)(t).innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight;var t};var r=i(n(424)),o=i(n(201));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},(e,t,n)=>{e.exports=n(612)()},(e,t,n)=>{"use strict";var r=n(758),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(i[y]||r&&r[y]||m&&m[y]||s&&s[y])){var v=f(n,y);try{u(t,y,v)}catch(b){}}}return t}return t}},(e,t,n)=>{"use strict";e.exports=function(e,t){var n=function(e,t){var n=t||{},o=n.allowDangerousHTML;return c.dangerous=o,c.definition=l(e,n),c.footnotes=[],c.augment=u,c.handlers=r(d,n.handlers||{}),i(e,"footnoteDefinition",f),c;function u(e,t){var n,o;return e&&"data"in e&&(n=e.data,"element"===t.type&&n.hName&&(t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties=r(t.properties,n.hProperties)),t.children&&n.hChildren&&(t.children=n.hChildren)),o=e&&e.position?e:{position:e},s(o)||(t.position={start:a.start(o),end:a.end(o)}),t}function c(e,t,n,r){return null==r&&"object"==typeof n&&"length"in n&&(r=n,n={}),u(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}function f(e){c.footnotes.push(e)}}(e,t),f=u(n,e),p=c(n);f&&f.children&&p&&(f.children=f.children.concat(o("text","\n"),p));return f};var r=n(101),o=n(73),i=n(369),a=n(371),s=n(472),l=n(473),u=n(398),c=n(474),d=n(475)},e=>{"use strict";function t(e){if("string"==typeof e)return function(e){return t;function t(t){return Boolean(t&&t.type===e)}}(e);if(null==e)return o;if("object"==typeof e)return("length"in e?r:n)(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function n(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function r(e){var n=function(e){for(var n=[],r=e.length,o=-1;++o<r;)n[o]=t(e[o]);return n}(e),r=n.length;return function(){var e=-1;for(;++e<r;)if(n[e].apply(this,arguments))return!0;return!1}}function o(){return!0}e.exports=function e(n,r,o,i,a){var s=null!=i,l=null!=o,u=t(n);if(l&&("number"!=typeof o||o<0||o===1/0))throw new Error("Expected positive finite index or child node");if(s&&(!e(null,i)||!i.children))throw new Error("Expected parent node");if(!r||!r.type||"string"!=typeof r.type)return!1;if(s!==l)throw new Error("Expected both parent and index");return Boolean(u.call(a,r,o,i))}},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"blockquote",r(o(e,t),!0))};var r=n(139),o=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){return[e(t,"br"),r("text","\n")]};var r=n(73)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n=t.value?r(t.value+"\n"):"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),a={};i&&(a.className=["language-"+i]);return e(t.position,"pre",[e(t,"code",a,[o("text",n)])])};var r=n(507),o=n(73)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n,o,i="string"==typeof e,a=i&&e.length,s=0,l=-1,u=-1,c=t||4,d=[];if(!i)throw new Error("detab expected string");for(;++l<a;)9===(n=e.charCodeAt(l))?(u+=o=c-(u+1)%c,d.push(e.slice(s,l)+r(" ",o)),s=l+1):10===n||13===n?u=-1:u++;return d.push(e.slice(s)),d.join("")};var r=n(381)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"del",r(e,t))};var r=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"em",r(e,t))};var r=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n=[],o=1,i=e.footnotes,a=i.length,s=-1;for(;++s<a;)n[s]=i[s].identifier;for(;-1!==n.indexOf(String(o));)o++;return o=String(o),i.push({type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position}),r(e,{type:"footnoteReference",identifier:o,position:t.position})};var r=n(401)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"h"+t.depth,r(e,t))};var r=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e.dangerous?e.augment(t,r("raw",t.value)):null};var r=n(73)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n,i=e.definition(t.identifier);if(!i)return o(e,t);n={src:r(i.url||""),alt:t.alt},null!==i.title&&void 0!==i.title&&(n.title=i.title);return e(t,"img",n)};var r=n(183),o=n(402)},(e,t,n)=>{"use strict";var r=n(183);e.exports=function(e,t){var n={src:r(t.url),alt:t.alt};null!==t.title&&void 0!==t.title&&(n.title=t.title);return e(t,"img",n)}},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"code",[o("text",r(t.value))])};var r=n(516),o=n(73)},e=>{"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},(e,t,n)=>{"use strict";e.exports=function(e,t){var n,a=e.definition(t.identifier);if(!a)return o(e,t);n={href:r(a.url||"")},null!==a.title&&void 0!==a.title&&(n.title=a.title);return e(t,"a",n,i(e,t))};var r=n(183),o=n(402),i=n(58)},(e,t,n)=>{"use strict";var r=n(183),o=n(58);e.exports=function(e,t){var n={href:r(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);return e(t,"a",n,o(e,t))}},(e,t,n)=>{"use strict";e.exports=function(e,t,n){var s,l,u,c,d,f=t.children[0],p=i(e,t),h=n?function(e){var t=e.spread,n=e.children,r=n.length,o=-1;for(;!t&&++o<r;)t=a(n[o]);return t}(n):a(t),m={};if(h)s=p;else for(s=[],c=p.length,u=-1;++u<c;)"p"===(d=p[u]).tagName?s=s.concat(d.children):s.push(d);"boolean"==typeof t.checked&&(!h||f&&"paragraph"===f.type||s.unshift(e(null,"p",[])),0!==(l=h?s[0].children:s).length&&l.unshift(r("text"," ")),l.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),m.className=["task-list-item"]);h&&0!==s.length&&(s=o(s,!0));return e(t,"li",m,s)};var r=n(73),o=n(139),i=n(58);function a(e){var t=e.spread;return null==t?e.children.length>1:t}},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"p",r(e,t))};var r=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e.augment(t,r("root",o(i(e,t))))};var r=n(73),o=n(139),i=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e(t,"strong",r(e,t))};var r=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){var n,a,s,l,u,c=t.children,d=c.length,f=t.align,p=f.length,h=[];for(;d--;){for(a=c[d].children,l=0===d?"th":"td",n=p,s=[];n--;)u=a[n],s[n]=e(u,l,{align:f[n]},u?i(e,u):[]);h[d]=e(c[d],"tr",o(s,!0))}return e(t,"table",o([e(h[0].position,"thead",o([h[0]],!0)),e({start:r.start(h[1]),end:r.end(h[h.length-1])},"tbody",o(h.slice(1),!0))],!0))};var r=n(371),o=n(139),i=n(58)},(e,t,n)=>{"use strict";e.exports=function(e,t){return e.augment(t,r("text",o(t.value)))};var r=n(73),o=n(525)},e=>{"use strict";e.exports=function(e){return String(e).replace(t,"\n")};var t=/[ \t]*\n+[ \t]*/g},(e,t,n)=>{var r=n(527);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},(e,t,n)=>{"use strict";var r=n(477);e.exports=Function.prototype.bind||r},(e,t,n)=>{"use strict";var r=n(529),o=n(530),i=n(531),a=n(418),s=n(419),l=n(417),u=n(184),c=n(532),d=/-([a-z])/g;function f(e,t,n){var r,i,a,s,h,g,y,v,b,_=n.schema,w=_,E=t.tagName;for(s in"html"===_.space&&"svg"===E.toLowerCase()&&(w=o,n.schema=w),!0===n.vdom&&"html"===w.space&&(E=E.toUpperCase()),i={},r=t.properties)p(i,s,r[s],n);for("string"!=typeof i.style||!0!==n.vdom&&!0!==n.react||(i.style=function(e,t){var n={};try{l(e,r)}catch(o){throw o.message=t+"[style]"+o.message.slice("undefined".length),o}return n;function r(e,t){n[function(e){"-ms-"===e.slice(0,4)&&(e="ms-"+e.slice(4));return e.replace(d,m)}(e)]=t}}(i.style,E)),n.prefix&&(n.key++,i.key=n.prefix+n.key),n.vdom&&"html"!==w.space&&(i.namespace=u[w.space]),h=[],g=(a=t.children)?a.length:0,y=-1;++y<g;)v=a[y],c("element",v)?h.push(f(e,v,n)):c("text",v)&&h.push(v.value);return b=0===h.length?e(E,i):e(E,i,h),n.schema=_,b}function p(e,t,n,r){var o,l=r.schema,u=i(l,t);null==n||!1===n||n!=n||u.boolean&&!n||(null!==n&&"object"==typeof n&&"length"in n&&(n=(u.commaSeparated?s:a).stringify(n)),u.boolean&&!0===r.hyperscript&&(n=""),u.mustUseProperty||(!0===r.vdom?o="attributes":!0===r.hyperscript&&(o="attrs")),o?(void 0===e[o]&&(e[o]={}),e[o][u.attribute]=n):e[r.react&&u.space?u.property:u.attribute]=n)}function h(e){return Boolean(e&&e.context&&e.cleanup)}function m(e,t){return t.toUpperCase()}e.exports=function(e,t,n){var i,a,s,l=n||{};if("function"!=typeof e)throw new Error("h is not a function");"string"==typeof l||"boolean"==typeof l?(i=l,l={}):i=l.prefix;a=function(e){var t=e&&e("div");return Boolean(t&&("_owner"in t||"_store"in t)&&null===t.key)}(e),s=function(e){return e&&"VirtualNode"===e("div").type}(e),null==i&&(i=(!0===a||!0===s)&&"h-");if(c("root",t))t=1===t.children.length&&c("element",t.children[0])?t.children[0]:{type:"element",tagName:"div",properties:{},children:t.children};else if(!c("element",t))throw new Error("Expected root or element, not `"+(t&&t.type||t)+"`");return f(e,t,{schema:"svg"===l.space?o:r,prefix:i,key:0,react:a,vdom:s,hyperscript:h(e)})}},(e,t,n)=>{"use strict";var r=n(403),o=n(405),i=n(409),a=n(410),s=n(413),l=n(478);e.exports=r([i,o,a,s,l])},(e,t,n)=>{"use strict";var r=n(403),o=n(405),i=n(409),a=n(410),s=n(413),l=n(479);e.exports=r([i,o,a,s,l])},(e,t,n)=>{"use strict";var r=n(406),o=n(407),i=n(408),a="data";e.exports=function(e,t){var n=r(t),f=t,p=i;if(n in e.normal)return e.property[e.normal[n]];n.length>4&&n.slice(0,4)===a&&s.test(t)&&("-"===t.charAt(4)?f=function(e){var t=e.slice(5).replace(l,d);return a+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(l.test(t))return e;"-"!==(t=t.replace(u,c)).charAt(0)&&(t="-"+t);return a+t}(t),p=o);return new p(f,t)};var s=/^data[-a-z0-9.:_]+$/i,l=/-[a-z]/g,u=/[A-Z]/g;function c(e){return"-"+e.toLowerCase()}function d(e){return e.charAt(1).toUpperCase()}},e=>{"use strict";function t(e){if("string"==typeof e)return function(e){return t;function t(t){return Boolean(t&&t.type===e)}}(e);if(null==e)return o;if("object"==typeof e)return("length"in e?r:n)(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function n(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function r(e){var n=function(e){for(var n=[],r=e.length,o=-1;++o<r;)n[o]=t(e[o]);return n}(e),r=n.length;return function(){var e=-1;for(;++e<r;)if(n[e].apply(this,arguments))return!0;return!1}}function o(){return!0}e.exports=function e(n,r,o,i,a){var s=null!=i,l=null!=o,u=t(n);if(l&&("number"!=typeof o||o<0||o===1/0))throw new Error("Expected positive finite index or child node");if(s&&(!e(null,i)||!i.children))throw new Error("Expected parent node");if(!r||!r.type||"string"!=typeof r.type)return!1;if(s!==l)throw new Error("Expected both parent and index");return Boolean(u.call(a,r,o,i))}},(e,t,n)=>{"use strict";var r=n(369),o=Object.prototype.hasOwnProperty,i={align:"text-align",valign:"vertical-align",height:"height",width:"width"};function a(e){var t;if("tr"===e.tagName||"td"===e.tagName||"th"===e.tagName)for(t in i)o.call(i,t)&&void 0!==e.properties[t]&&(s(e,i[t],e.properties[t]),delete e.properties[t])}function s(e,t,n){var r=(e.properties.style||"").trim();r&&!/;\s*/.test(r)&&(r+=";"),r&&(r+=" ");var o=r+t+": "+n+";";e.properties.style=o}e.exports=function(e){return r(e,"element",a),e}},(e,t)=>{function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.serialize=function(e){return(new XMLSerializer).serializeToString(e)},t.parseElement=function(e){var n=new DOMParser,r=0===(e=e.trim()).indexOf("<xml")?n.parseFromString(e,"text/xml"):n.parseFromString("<xml>"+e+"</xml>","text/xml"),o=r.getElementsByTagName("parsererror"),i=r.firstChild;if(!i)throw new Error("Nothing parsed");if(o.length>0)throw new Error(t.serialize(o[0]));if(i!==r.lastChild)throw new Error("Parsed multiple elements");return i},t.visitAll=function(e,r){r(e);var o,i=n(e.childNodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.visitAll(a,r)}}catch(s){i.e(s)}finally{i.f()}}},e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=230)}([function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";e.exports=function(e,t){for(var n,i,a=t.children||[],s=a.length,l=[],u=-1;++u<s;)(n=o(e,a[u],t))&&(u&&"break"===a[u-1].type&&(n.value&&(n.value=r.left(n.value)),(i=n.children&&n.children[0])&&i.value&&(i.value=r.left(i.value))),l=l.concat(n));return l};var r=n(5),o=n(67)},function(e,t,n){"use strict";e.exports=function(e){return o.test("number"==typeof e?r(e):e.charAt(0))};var r=String.fromCharCode,o=/\s/},function(e,t,n){"use strict";var r,o="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,o="";else if(o.length>=n)return o.substr(0,n);for(;n>o.length&&t>1;)1&t&&(o+=e),t>>=1,e+=e;return o=(o+=e).substr(0,n)}},function(e,t,n){"use strict";var r=n(226);e.exports=function(e,t,n){var o;return null!=n||"object"==typeof t&&!Array.isArray(t)||(n=t,t={}),o=r({type:String(e)},t),Array.isArray(n)?o.children=n:null!=n&&(o.value=String(n)),o}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){"use strict";var r=n(58),o=n(60),i=n(57);e.exports=function(e){var t,n,a=e.space,s=e.mustUseProperty||[],l=e.attributes||{},u=e.properties,c=e.transform,d={},f={};for(t in u)n=new i(t,c(l,t),u[t],a),-1!==s.indexOf(t)&&(n.mustUseProperty=!0),d[t]=n,f[r(t)]=t,f[r(n.attribute)]=t;return new o(d,f,a)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=[],o=-1,i=e.length;for(t&&n.push(r("text","\n"));++o<i;)o&&n.push(r("text","\n")),n.push(e[o]);return t&&0!==e.length&&n.push(r("text","\n")),n};var r=n(4)},function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},function(e,t,n){"use strict";var r=n(41),o=n(170),i=n(8),a=n(40),s=n(39),l=n(169);e.exports=function(e,t){var n,i,a={};for(i in t||(t={}),f)n=t[i],a[i]=null==n?f[i]:n;return(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start),function(e,t){var n,i,a,f,A,P,x,I,R,D,j,N,L,M,B,F,U,H,W,q=t.additional,z=t.nonTerminated,V=t.text,G=t.reference,$=t.warning,K=t.textContext,Y=t.referenceContext,X=t.warningContext,J=t.position,Z=t.indent||[],Q=e.length,ee=0,te=-1,ne=J.column||1,re=J.line||1,oe="",ie=[];for(F=ae(),I=$?function(e,t){var n=ae();n.column+=t,n.offset+=t,$.call(X,T[e],n,e)}:d,ee--,Q++;++ee<Q;)if("\n"===A&&(ne=Z[te]||1),"&"!==(A=se(ee)))"\n"===A&&(re++,te++,ne=0),A?(oe+=A,ne++):le();else{if("\t"===(x=se(ee+1))||"\n"===x||"\f"===x||" "===x||"<"===x||"&"===x||""===x||q&&x===q){oe+=A,ne++;continue}for(N=L=ee+1,W=L,"#"!==x?M=p:"x"===(x=se(W=++N))||"X"===x?(M=h,W=++N):M=m,n="",j="",f="",B=y[M],W--;++W<Q&&B(x=se(W));)f+=x,M===p&&u.call(r,f)&&(n=f,j=r[f]);(a=";"===se(W))&&(W++,(i=M===p&&l(f))&&(n=f,j=i)),H=1+W-L,(a||z)&&(f?M===p?(a&&!j?I(E,1):(n!==f&&(H=1+(W=N+n.length)-N,a=!1),a||(R=n?v:_,t.attribute?"="===(x=se(W))?(I(R,H),j=null):s(x)?j=null:I(R,H):I(R,H))),P=j):(a||I(b,H),C(P=parseInt(f,g[M]))?(I(S,H),P="�"):P in o?(I(O,H),P=o[P]):(D="",k(P)&&I(O,H),P>65535&&(D+=c((P-=65536)>>>10|55296),P=56320|1023&P),P=D+c(P))):M!==p&&I(w,H)),P?(le(),F=ae(),ee=W-1,ne+=W-L+1,ie.push(P),(U=ae()).offset++,G&&G.call(Y,P,{start:F,end:U},e.slice(L-1,W)),F=U):(f=e.slice(L-1,W),oe+=f,ne+=f.length,ee=W-1)}return ie.join("");function ae(){return{line:re,column:ne,offset:ee+(J.offset||0)}}function se(t){return e.charAt(t)}function le(){oe&&(ie.push(oe),V&&V.call(K,oe,{start:F,end:ae()}),oe="")}}(e,a)};var u={}.hasOwnProperty,c=String.fromCharCode,d=Function.prototype,f={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},p="named",h="hexadecimal",m="decimal",g={};g[h]=16,g[m]=10;var y={};y[p]=s,y[m]=i,y[h]=a;var v=1,b=2,_=3,w=4,E=5,O=6,S=7,T={};function C(e){return e>=55296&&e<=57343||e>1114111}function k(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)}T[v]="Named character references must be terminated by a semicolon",T[b]="Numeric character references must be terminated by a semicolon",T[_]="Named character references cannot be empty",T[w]="Numeric character references cannot be empty",T[E]="Named character references must be known",T[O]="Numeric character references cannot be disallowed",T[S]="Numeric character references cannot be outside the permissible Unicode range"},function(e,t,n){"use strict";var r=0;function o(){return Math.pow(2,++r)}t.boolean=o(),t.booleanish=o(),t.overloadedBoolean=o(),t.number=o(),t.spaceSeparated=o(),t.commaSeparated=o(),t.commaOrSpaceSeparated=o()},function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,s,l,u,c="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),u=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(s=e.charCodeAt(i),n&&37===s&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(s<128)c+=u[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a&&(l=e.charCodeAt(i+1))>=56320&&l<=57343){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,n){"use strict";function r(e){if("string"==typeof e)return function(e){return function(t){return Boolean(t&&t.type===e)}}(e);if(null==e)return o;if("object"==typeof e)return("length"in e?function(e){var t=function(e){for(var t=[],n=e.length,o=-1;++o<n;)t[o]=r(e[o]);return t}(e),n=t.length;return function(){for(var e=-1;++e<n;)if(t[e].apply(this,arguments))return!0;return!1}}:function(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}})(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function o(){return!0}e.exports=function e(t,n,o,i,a){var s=null!=i,l=null!=o,u=r(t);if(l&&("number"!=typeof o||o<0||o===1/0))throw new Error("Expected positive finite index or child node");if(s&&(!e(null,i)||!i.children))throw new Error("Expected parent node");if(!n||!n.type||"string"!=typeof n.type)return!1;if(s!==l)throw new Error("Expected both parent and index");return Boolean(u.call(a,n,o,i))}},function(e,t,n){"use strict";e.exports=s;var r=n(225),o=r.CONTINUE,i=r.SKIP,a=r.EXIT;function s(e,t,n,o){"function"==typeof t&&"function"!=typeof n&&(o=n,n=t,t=null),r(e,t,(function(e,t){var r=t[t.length-1],o=r?r.children.indexOf(e):null;return n(e,o,r)}),o)}s.CONTINUE=o,s.SKIP=i,s.EXIT=a},function(e,t,n){"use strict";e.exports=function(e){var t=-1===e.indexOf(r)?r:o;return t+e+t};var r='"',o="'"},function(e,t,n){"use strict";var r=n(37);e.exports=function(e,t){return t||0===e.length||l.test(e)||r(e,o)!==r(e,i)?a+e+s:e};var o="(",i=")",a="<",s=">",l=/\s/},function(e,t,n){"use strict";var r=n(62);e.exports=function(e){return r(e).toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var o,i,a=e.length,s=-1;++s<a;)if((void 0===(i=(o=e[s])[1]||{}).pedantic||i.pedantic===n.options.pedantic)&&(void 0===i.commonmark||i.commonmark===n.options.commonmark)&&t[o[0]].apply(n,r))return!0;return!1}},function(e,t,n){"use strict";e.exports=function(e){for(var t=String(e),n=t.length;t.charAt(--n)===r;);return t.slice(0,n+1)};var r="\n"},function(e,t,n){"use strict";var r=n(189),o=n(41),i=n(40),a=n(39),s=n(188);e.exports=p,p.escape=function(e){return p(e,{escapeOnly:!0,useNamedReferences:!0})};var l={}.hasOwnProperty,u=function(){var e,t={};for(e in r)t[r[e]]=e;return t}(),c=g(['"',"'","<",">","&","`"]),d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;function p(e,t){var n=t||{},r=n.subset,o=r?g(r):c,i=n.escapeOnly,a=n.omitOptionalSemicolons;return e=e.replace(o,(function(e,t,r){return h(e,r.charAt(t+1),n)})),r||i?e:e.replace(d,(function(e,t,n){return m(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,n.charAt(t+2),a)})).replace(f,(function(e,t,r){return h(e,r.charAt(t+1),n)}))}function h(e,t,n){var r,i,c=n.useShortestReferences,d=n.omitOptionalSemicolons;return(c||n.useNamedReferences)&&l.call(u,e)&&(r=function(e,t,n,r){var i="&"+e;return n&&l.call(o,e)&&-1===s.indexOf(e)&&(!r||t&&"="!==t&&!a(t))?i:i+";"}(u[e],t,d,n.attribute)),!c&&r||(i=m(e.charCodeAt(0),t,d)),r&&(!c||r.length<i.length)?r:i}function m(e,t,n){var r="&#x"+e.toString(16).toUpperCase();return n&&t&&!i(t)?r:r+";"}function g(e){return new RegExp("["+e.join("")+"]","g")}},function(e,t,n){"use strict";var r=n(48);function o(e){return function(t,n,o){var i,a=t&&t.children;if(n+=e,i=a&&a[n],!o)for(;i&&r(i);)i=a[n+=e];return i}}t.before=o(-1),t.after=o(1)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a=function(e,t,n){return e.substr(t,n)}}).call(this,n(22))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e){var t=e.referenceType;return t===i?"":r+(t===a?"":e.label||e.identifier)+o};var r="[",o="]",i="shortcut",a="collapsed"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o=0,i=0;if("string"!=typeof t||1!==t.length)throw new Error("Expected character");for(n=r=(e=String(e)).indexOf(t);-1!==r;)o++,r===n?o>i&&(i=o):o=1,n=r+1,r=e.indexOf(t,n);return i}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){for(var n=e.split(o),s=n.length,l=r(i,t*a);s--;)0!==n[s].length&&(n[s]=l+n[s]);return n.join(o)};var o="\n",i=" ",a=4},function(e,t,n){"use strict";var r=n(9);e.exports=function(e){var t;return e.charAt(0)!==o?0:(t=e.split(o,2).join(o)).length-r(t).length};var o="&"},function(e,t,n){"use strict";e.exports={gfm:!0,commonmark:!1,pedantic:!1,entities:"false",setext:!1,closeAtx:!1,looseTable:!1,spacedTable:!0,paddedTable:!0,stringLength:function(e){return e.length},incrementListMarker:!0,fences:!1,fence:"`",bullet:"-",listItemIndent:"tab",rule:"*",ruleSpaces:!0,ruleRepetition:3,strong:"*",emphasis:"_"}},function(e,t,n){"use strict";e.exports=function(e){return e}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("[",t),r=e.indexOf("![",t);return-1===r||n<r?n:r}},function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("<",t)}},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";t.openCloseTag=new RegExp("^(?:"+r+"|"+o+")"),t.tag=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,s=0,l=e.charAt(n),u={};l===r||l===o;)s+=t=l===r?a:i,t>1&&(s=Math.floor(s/t)*t),u[s]=n,l=e.charAt(++n);return{indent:s,stops:u}};var r="\t",o=" ",i=1,a=4},function(e,t,n){"use strict";e.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:n(166)}},function(e,t,n){"use strict";e.exports=a;var r=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],o=r.concat(["~","|"]),i=o.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function a(e){var t=e||{};return t.commonmark?i:t.gfm?o:r}a.default=r,a.gfm=o,a.commonmark=i},function(e,t,n){"use strict";e.exports=function(e,t,n){return function(){var r=n||this,o=r[e];return r[e]=!t,function(){r[e]=o}}}},function(e,t,n){"use strict";var r=n(0),o=n(175);e.exports=function(e){var t,n,i;for(n in o(s,e),o(a,s),t=s.prototype)(i=t[n])&&"object"==typeof i&&(t[n]="concat"in i?i.concat():r(i));return s;function a(t){return e.apply(this,t)}function s(){return this instanceof s?e.apply(this,arguments):new a(arguments)}}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=0;if(e=String(e),"string"!=typeof t||1!==t.length)throw new Error("Expected character");for(n=e.indexOf(t);-1!==n;)r++,n=e.indexOf(t,n+1);return r}},function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},function(e,t,n){"use strict";var r=n(38),o=n(8);e.exports=function(e){return r(e)||o(e)}},function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},function(e){e.exports={AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(e,t,n){"use strict";var r=n(0),o=n(19);e.exports=function(e,t,n,i){var a=t.value;return function(e){return e&&("script"===e.tagName||"style"===e.tagName)}(i)?a:o(a,r(e.entities,{subset:["<","&"]}))}},function(e,t,n){"use strict";var r=n(44);e.exports=function(e,t){for(var n=t&&t.children,o=n&&n.length,i=-1,a=[];++i<o;)a[i]=r(e,n[i],i,t);return a.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n,i){var a=t&&t.type;if(!a)throw new Error("Expected node, not `"+t+"`");if(!r.call(o,a))throw new Error("Cannot compile unknown node `"+a+"`");return o[a](e,t,n,i)};var r={}.hasOwnProperty,o={};o.root=n(43),o.text=n(42),o.element=n(187),o.doctype=n(182),o.comment=n(181),o.raw=n(180)},function(e,t,n){"use strict";e.exports=function(e){return function(t,n,o){var i=t.tagName,a=!!r.call(e,i)&&e[i];return!!a&&a(t,n,o)}};var r={}.hasOwnProperty},function(e,t,n){"use strict";var r=n(12),o=n(49),i=n(47),a=n(20).after,s=n(45),l="optgroup",u=["option"].concat(l),c=["dt","dd"],d="li",f=["menuitem","hr","menu"],p=["rp","rt"],h=["tbody","tfoot"],m="tr",g=["td","th"],y=["a","audio","del","ins","map","noscript","video"],v=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","menu","nav","ol","p","pre","section","table","ul"];function b(e,t,n){var o=a(n,t,!0);return!o||!r("comment",o)&&!i(o)}function _(e,t,n){var r=a(n,t);return!r||o(r,p)}function w(e,t,n){var r=a(n,t);return!r||o(r,g)}e.exports=s({html:function(e,t,n){var o=a(n,t);return!o||!r("comment",o)},head:b,body:function(e,t,n){var o=a(n,t);return!o||!r("comment",o)},p:function(e,t,n){var r=a(n,t);return r?o(r,v):!n||!o(n,y)},li:function(e,t,n){var r=a(n,t);return!r||o(r,d)},dt:function(e,t,n){var r=a(n,t);return r&&o(r,c)},dd:function(e,t,n){var r=a(n,t);return!r||o(r,c)},rt:_,rp:_,optgroup:function(e,t,n){var r=a(n,t);return!r||o(r,l)},option:function(e,t,n){var r=a(n,t);return!r||o(r,u)},menuitem:function(e,t,n){var r=a(n,t);return!r||o(r,f)},colgroup:b,caption:b,thead:function(e,t,n){var r=a(n,t);return r&&o(r,h)},tbody:function(e,t,n){var r=a(n,t);return!r||o(r,h)},tfoot:function(e,t,n){return!a(n,t)},tr:function(e,t,n){var r=a(n,t);return!r||o(r,m)},td:w,th:w})},function(e,t,n){"use strict";var r=n(12),o=n(48);e.exports=function(e){return r("text",e)&&o(e.value.charAt(0))}},function(e,t,n){"use strict";e.exports=function(e){var t;if(e&&"object"==typeof e&&"text"===e.type)t=e.value||"";else{if("string"!=typeof e)return!1;t=e}return""===t.replace(r,"")};var r=/[ \t\n\f\r]/g},function(e,t,n){"use strict";e.exports=function(e,t){var n;if(null!=t&&"string"!=typeof t&&("object"!=typeof t||0===t.length))throw new Error("Expected `string` or `Array.<string>` for `tagNames`, not `"+t+"`");return!(!e||"object"!=typeof e||"element"!==e.type||"string"!=typeof e.tagName||null!=t&&(n=e.tagName,"string"==typeof t?n!==t:-1===t.indexOf(n)))}},function(e,t,n){"use strict";var r=n(61),o=n(59),i=n(55),a=n(54),s=n(51),l=n(195);e.exports=r([i,o,a,s,l])},function(e,t,n){"use strict";var r=n(10),o=n(6),i=r.booleanish,a=r.number,s=r.spaceSeparated;e.exports=o({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:i,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:s,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},function(e,t,n){"use strict";e.exports=function(e,t){return t in e?e[t]:t}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e,t){return r(e,t.toLowerCase())}},function(e,t,n){"use strict";var r=n(6),o=n(53);e.exports=r({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:o,properties:{xmlns:null,xmlnsXLink:null}})},function(e,t,n){"use strict";var r=n(6);e.exports=r({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},function(e,t,n){"use strict";e.exports=o;var r=o.prototype;function o(e,t){this.property=e,this.attribute=t}r.space=null,r.attribute=null,r.property=null,r.boolean=!1,r.booleanish=!1,r.overloadedBoolean=!1,r.number=!1,r.commaSeparated=!1,r.spaceSeparated=!1,r.commaOrSpaceSeparated=!1,r.mustUseProperty=!1,r.defined=!1},function(e,t,n){"use strict";var r=n(56),o=n(10);function i(e,t,n,i){a(this,"space",i),r.call(this,e,t),a(this,"boolean",s(n,o.boolean)),a(this,"booleanish",s(n,o.booleanish)),a(this,"overloadedBoolean",s(n,o.overloadedBoolean)),a(this,"number",s(n,o.number)),a(this,"commaSeparated",s(n,o.commaSeparated)),a(this,"spaceSeparated",s(n,o.spaceSeparated)),a(this,"commaOrSpaceSeparated",s(n,o.commaOrSpaceSeparated))}function a(e,t,n){n&&(e[t]=n)}function s(e,t){return(e&t)===t}e.exports=i,i.prototype=new r,i.prototype.defined=!0},function(e,t,n){"use strict";e.exports=function(e){return e.toLowerCase()}},function(e,t,n){"use strict";var r=n(6);e.exports=r({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},function(e,t,n){"use strict";e.exports=o;var r=o.prototype;function o(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}r.space=null,r.normal={},r.property={}},function(e,t,n){"use strict";var r=n(0),o=n(60);e.exports=function(e){for(var t,n,i=e.length,a=[],s=[],l=-1;++l<i;)t=e[l],a.push(t.property),s.push(t.normal),n=t.space;return new o(r.apply(null,a),r.apply(null,s),n)}},function(e,t,n){"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,a,s=t.referenceType,l="]";return"collapsed"===s?l+="[]":"full"===s&&(l+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type?r("text","!["+t.alt+l):((i=(n=o(e,t))[0])&&"text"===i.type?i.value="["+i.value:n.unshift(r("text","[")),(a=n[n.length-1])&&"text"===a.type?a.value+=l:n.push(r("text",l)),n)};var r=n(4),o=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.identifier;return e(t.position,"sup",{id:"fnref-"+n},[e(t,"a",{href:"#fn-"+n,className:["footnote-ref"]},[r("text",n)])])};var r=n(4)},function(e,t,n){"use strict";e.exports=function(e,t){var n={},i=t.ordered?"ol":"ul";return"number"==typeof t.start&&1!==t.start&&(n.start=t.start),e(t,i,n,r(o(e,t),!0))};var r=n(7),o=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"hr")}},function(e,t,n){"use strict";e.exports=function(e,t,n){var a=t&&t.type,s=i.call(e.handlers,a)?e.handlers[a]:null;if(!a)throw new Error("Expected node, got `"+t+"`");return("function"==typeof s?s:function(e,t){return function(e){var t=e.data||{};return!(i.call(t,"hName")||i.call(t,"hProperties")||i.call(t,"hChildren"))&&"value"in e}(t)?e.augment(t,r("text",t.value)):e(t,"div",o(e,t))})(e,t,n)};var r=n(4),o=n(1),i={}.hasOwnProperty},function(e,t,n){"use strict";var r=t;function o(e){return t.displayName=e,t;function t(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:isNaN(n.offset)?null:n.offset}}}r.start=o("start"),r.end=o("end")},function(e,t,n){"use strict";var r=void 0,o=void 0,i=void 0;function a(e,t,n){var r=o.call(this,e,t,n);return r&&("image"===r.type&&(r.children=[{type:"text",value:r.alt||""}]),r.redactionType="redacted"+r.type,r.type="redaction"),r}function s(e,t,n){var r=i.call(this,e,t,n);return r&&(r.redactionType="redactedlink",r.type="redaction"),r}e.exports=function(){var e=this.Parser,t=e.prototype.inlineTokenizers,n=e.prototype.inlineMethods,l=e.prototype.restorationMethods;l.redactedlink=function(e,t,n){return e(Object.assign({},t,{type:"link",children:[{type:"text",value:n}]}))},l.redactedimage=function(e,t,n){return e(Object.assign({},t,{type:"image",alt:n}))},r=e.prototype.options.redact,o=t.link,i=t.autoLink,a.locator=t.link.locator,t.redactedLink=a,s.locator=t.autoLink.locator,t.redactedAutoLink=s,r&&(n.splice(n.indexOf("link"),1,"redactedLink"),n.splice(n.indexOf("autoLink"),1,"redactedAutoLink"))}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=/^\[([\w-]+)\] *\n *\n/,i=void 0;function a(e,t,n){var a=o.exec(t);if(a){var s=a[0],l=a[0].length,u=a[1],c=new RegExp("\\["+u+"\\] *\\n *\\n","g"),d=new RegExp("\\n *\\n *\\[\\/"+u+"\\]","g");d.lastIndex=l;var f=void 0,p=void 0,h=void 0;do{if(f=d.exec(t),0===d.lastIndex)return;h=d.lastIndex-f[0].length,p=t.slice(l,h)}while(p.split(c).length!==p.split(d).length);if(n)return!0;var m=f[0],g=this.tokenizeBlock(p,e.now());if(i){var y=e(s)({type:"redaction",redactionType:"divclass",className:u,block:!0}),v=e(p),b=g.map((function(e){return v(e)})),_=e(m)({type:"redaction",block:!0,closing:!0});return[y].concat(r(b),[_])}return e(s+p+m)({type:"div",children:g,data:{hProperties:{className:u}}})}}e.exports=function(){var e=this.Parser,t=e.prototype.blockTokenizers,n=e.prototype.blockMethods;e.prototype.restorationMethods.divclass=function(e,t,n,o){var i=e({type:"paragraph",children:[{type:"rawtext",value:"["+t.open.className+"]"}]});o.length||(o=[{type:"text",value:""}]);var a=o.map((function(t){return e(t)})),s=e({type:"paragraph",children:[{type:"rawtext",value:"[/"+t.open.className+"]"}]});return[i].concat(r(a),[s])},i=e.prototype.options.redact,t.divclass=a,n.splice(n.indexOf("paragraph"),0,"divclass")},a.notInLink=!0},function(e,t,n){"use strict";e.exports=function(){this.Compiler&&(this.Compiler.prototype.visitors.rawtext=function(e){return this.encode(e.value,e)})}},function(e,t,n){"use strict";e.exports=function(){this.Compiler&&(this.Compiler.prototype.visitors.indent=function(e){return this.all(e).map((function(e){return"    "+e.split("\n").join("\n    ")})).join("\n\n")})}},function(e,t,n){"use strict";e.exports=function(){this.Compiler&&(this.Compiler.prototype.visitors.div=function(e){var t=e.data.hProperties.className;return["["+t+"]",this.block(e),"[/"+t+"]"].join("\n\n")})}},function(e,t,n){"use strict";e.exports=function(){var e=this.Parser;e.prototype.restorationMethods||(e.prototype.restorationMethods={})}},function(e,t,n){"use strict";e.exports=function(e){var t=[],n=[];return function e(r){"redaction"===r.type&&(r.block?r.closing?t[n.shift()].close=r:(n.unshift(t.length),t.push({block:!0,open:r})):t.push(r)),r.children&&r.children.length&&r.children.forEach(e)}(e),function(){if(this.Parser){var e=this.Parser,n=/^\[([^\]]*)\]\[(\d+)\]/,r=function(r,o,i){var a=n.exec(o);if(a){var s=a[1],l=parseInt(a[2],10),u=t[l];if(u){var c=e.prototype.restorationMethods[u.redactionType];if(c)return!!i||c(r(a[0]),u,s)}}};r.locator=function(e){return e.search(n)},e.prototype.inlineTokenizers.redaction=r;var o=e.prototype.inlineMethods;o.splice(o.indexOf("reference"),0,"redaction"),e.prototype.blockTokenizers.redaction=function(n,r,o){var i=/^\[([^\]]*)\]\[(\d+)\]\n\n/.exec(r);if(i){var a=i[0],s=i[0].length,l=i[1],u=parseInt(i[2],10),c=t[u];if(c&&c.block){var d="\n\n[/]["+u+"]",f=r.indexOf(d,s);if(-1!==f){var p=e.prototype.restorationMethods[c.open.redactionType];if(p){if(o)return!0;var h=r.slice(s,f),m=this.tokenizeBlock(h,n.now());return p(n(a+h+d),c,l,m)}}}}};var i=e.prototype.blockMethods;i.splice(i.indexOf("paragraph"),0,"redaction")}}}},function(e,t,n){"use strict";e.exports=function(){if(this.Compiler){var e=0,t=[];this.Compiler.prototype.visitors.redaction=function(n){var r="",o=this.enterLink();return n.children&&(r=this.all(n).join("")),o(),n.block?n.closing?"[/"+r+"]["+t.shift()+"]":(t.unshift(e++),"["+r+"]["+t[0]+"]"):"["+r+"]["+e+++"]"}}}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return"[object String]"===n.call(e)}},function(e,t,n){"use strict";var r=[].slice;e.exports=function(e,t){var n;return function(){var t,a=r.call(arguments,0),s=e.length>a.length;s&&a.push(o);try{t=e.apply(null,a)}catch(e){if(s&&n)throw e;return o(e)}s||(t&&"function"==typeof t.then?t.then(i,o):t instanceof Error?o(t):i(t))};function o(){n||(n=!0,t.apply(null,arguments))}function i(e){o(null,e)}}},function(e,t,n){"use strict";var r=n(79);e.exports=i,i.wrap=r;var o=[].slice;function i(){var e=[],t={run:function(){var t=-1,n=o.call(arguments,0,-1),i=arguments[arguments.length-1];if("function"!=typeof i)throw new Error("Expected function as last argument, not "+i);(function a(s){var l=e[++t],u=o.call(arguments,0).slice(1),c=n.length,d=-1;if(s)i(s);else{for(;++d<c;)null!==u[d]&&void 0!==u[d]||(u[d]=n[d]);n=u,l?r(l,a).apply(null,n):i.apply(null,[null].concat(n))}}).apply(null,[null].concat(n))},use:function(n){if("function"!=typeof n)throw new Error("Expected `fn` to be a function, not "+n);return e.push(n),t}};return t}},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t){if("string"!=typeof e)return e;if(0===e.length)return e;var n=r.basename(e,r.extname(e))+t;return r.join(r.dirname(e),n)}},function(e,t,n){"use strict";(function(t){var r=n(21),o=n(82),i=n(81);e.exports=u;var a={}.hasOwnProperty,s=u.prototype;s.toString=function(e){var t=this.contents||"";return i(t)?t.toString(e):String(t)};var l=["history","path","basename","stem","extname","dirname"];function u(e){var n,r,o;if(e){if("string"==typeof e||i(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof u))return new u(e);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),r=-1,o=l.length;++r<o;)n=l[r],a.call(e,n)&&(this[n]=e[n]);for(n in e)-1===l.indexOf(n)&&(this[n]=e[n])}function c(e,t){if(-1!==e.indexOf(r.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+r.sep+"`")}function d(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function f(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}Object.defineProperty(s,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){d(e,"path"),e!==this.path&&this.history.push(e)}}),Object.defineProperty(s,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(e){f(this.path,"dirname"),this.path=r.join(e||"",this.basename)}}),Object.defineProperty(s,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(e){d(e,"basename"),c(e,"basename"),this.path=r.join(this.dirname||"",e)}}),Object.defineProperty(s,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(e){var t=e||"";if(c(t,"extname"),f(this.path,"extname"),t){if("."!==t.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==t.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=o(this.path,t)}}),Object.defineProperty(s,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(e){d(e,"stem"),c(e,"stem"),this.path=r.join(this.dirname||"",e+(this.extname||""))}})}).call(this,n(22))},function(e,t,n){"use strict";var r={}.hasOwnProperty;function o(e){return e&&"object"==typeof e||(e={}),a(e.line)+":"+a(e.column)}function i(e){return e&&"object"==typeof e||(e={}),o(e.start)+"-"+o(e.end)}function a(e){return e&&"number"==typeof e?e:1}e.exports=function(e){return e&&"object"==typeof e?r.call(e,"position")||r.call(e,"type")?i(e.position):r.call(e,"start")||r.call(e,"end")?i(e):r.call(e,"line")||r.call(e,"column")?o(e):null:null}},function(e,t,n){"use strict";var r=n(84);function o(){}e.exports=a,o.prototype=Error.prototype,a.prototype=new o;var i=a.prototype;function a(e,t,n){var o,i,a;"string"==typeof t&&(n=t,t=null),o=function(e){var t,n=[null,null];return"string"==typeof e&&(-1===(t=e.indexOf(":"))?n[1]=e:(n[0]=e.slice(0,t),n[1]=e.slice(t+1))),n}(n),i=r(t)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(a=t,t=t.start):a.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=i,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=a,this.source=o[0],this.ruleId=o[1]}i.file="",i.name="",i.reason="",i.message="",i.stack="",i.fatal=null,i.column=null,i.line=null},function(e,t,n){"use strict";var r=n(85),o=n(83);e.exports=o;var i=o.prototype;function a(e,t,n){var o=this.path,i=new r(e,t,n);return o&&(i.name=o+":"+i.name,i.file=o),i.fatal=!1,this.messages.push(i),i}i.message=a,i.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},i.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e},i.warn=a},function(e,t,n){"use strict";e.exports=function(e){if(e)throw e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},l=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,n=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},u=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,r,o,i,a,d=arguments[0],f=1,p=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},f=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});f<p;++f)if(null!=(t=arguments[f]))for(n in t)r=c(d,n),d!==(o=c(t,n))&&(h&&o&&(l(o)||(i=s(o)))?(i?(i=!1,a=r&&s(r)?r:[]):a=r&&l(r)?r:{},u(d,{name:n,newValue:e(h,a,o)})):void 0!==o&&u(d,{name:n,newValue:o}));return d}},function(e,t,n){"use strict";var r=n(88),o=n(87),i=n(86),a=n(80),s=n(78),l=n(77);e.exports=function e(){var t=[],n=a(),v={},b=!1,_=-1;return w.data=function(e,t){return s(e)?2===arguments.length?(m("data",b),v[e]=t,w):c.call(v,e)&&v[e]||null:e?(m("data",b),v=e,w):v},w.freeze=E,w.attachers=t,w.use=function(e){var n;if(m("use",b),null==e);else if("function"==typeof e)s.apply(null,arguments);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?a(e):o(e)}return n&&(v.settings=r(v.settings||{},n)),w;function o(e){a(e.plugins),e.settings&&(n=r(n||{},e.settings))}function i(e){if("function"==typeof e)s(e);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?s.apply(null,e):o(e)}}function a(e){var t,n;if(null==e);else{if("object"!=typeof e||!("length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,n=-1;++n<t;)i(e[n])}}function s(e,n){var o=function(e){for(var n,r=t.length,o=-1;++o<r;)if((n=t[o])[0]===e)return n}(e);o?(l(o[1])&&l(n)&&(n=r(o[1],n)),o[1]=n):t.push(u.call(arguments))}},w.parse=function(e){var t,n=i(e);return E(),p("parse",t=w.Parser),f(t)?new t(String(n),n).parse():t(String(n),n)},w.stringify=function(e,t){var n,r=i(t);return E(),h("stringify",n=w.Compiler),g(e),f(n)?new n(e,r).compile():n(e,r)},w.run=O,w.runSync=function(e,t){var n,r=!1;return O(e,t,(function(e,t){r=!0,o(e),n=t})),y("runSync","run",r),n},w.process=S,w.processSync=function(e){var t,n=!1;return E(),p("processSync",w.Parser),h("processSync",w.Compiler),S(t=i(e),(function(e){n=!0,o(e)})),y("processSync","process",n),t},w;function w(){for(var n=e(),o=t.length,i=-1;++i<o;)n.use.apply(null,t[i]);return n.data(r(!0,{},v)),n}function E(){var e,r,o,i;if(b)return w;for(;++_<t.length;)r=(e=t[_])[0],i=null,!1!==(o=e[1])&&(!0===o&&(e[1]=void 0),"function"==typeof(i=r.apply(w,e.slice(1)))&&n.use(i));return b=!0,_=1/0,w}function O(e,t,r){if(g(e),E(),r||"function"!=typeof t||(r=t,t=null),!r)return new Promise(o);function o(o,a){n.run(e,i(t),(function(t,n,i){n=n||e,t?a(t):o?o(n):r(null,n,i)}))}o(null,r)}function S(e,t){if(E(),p("process",w.Parser),h("process",w.Compiler),!t)return new Promise(n);function n(n,r){var o=i(e);d.run(w,{file:o},(function(e){e?r(e):n?n(o):t(null,o)}))}n(null,t)}}().freeze();var u=[].slice,c={}.hasOwnProperty,d=a().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,n){e.run(t.tree,t.file,(function(e,r,o){e?n(e):(t.tree=r,t.file=o,n())}))})).use((function(e,t){t.file.contents=e.stringify(t.tree,t.file)}));function f(e){return"function"==typeof e&&function(e){var t;for(t in e)return!0;return!1}(e.prototype)}function p(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function h(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw new Error("Cannot invoke `"+e+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function g(e){if(!e||!s(e.type))throw new Error("Expected node, got `"+e+"`")}function y(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},function(e,t,n){"use strict";e.exports=function(e){return this.all(e).join("")}},function(e,t,n){"use strict";e.exports=function(e,t){var n,o,w,E,O,S,T,C,k,A,P,x,I=t||{},R=I.delimiter,D=I.start,j=I.end,N=I.align,L=I.stringLength||v,M=0,B=-1,F=e.length,U=[];for(N=N?N.concat():[],null==R&&(R=m+h+m),null!=D||(D=h+m),null!=j||(j=m+h);++B<F;)for(S=-1,(E=e[B]).length>M&&(M=E.length);++S<M;)T=E[S]?_(E[S]):null,U[S]||(U[S]=d),T>U[S]&&(U[S]=T);for("string"==typeof N&&(N=b(M,N).split("")),S=-1;++S<M;)"string"==typeof(n=N[S])&&(n=n.charAt(0).toLowerCase()),-1===c.indexOf(n)&&(n=u),N[S]=n;for(B=-1,w=[];++B<F;){for(E=e[B],S=-1,O=[];++S<M;)k=y(k=E[S]),N[S]===l?(T=_(k),C=U[S]+(r.test(k)?0:1)-(L(k)-T),O[S]=k+b(C-1)):O[S]=k;w[B]=O}for(U=[],B=-1;++B<F;)for(O=w[B],S=-1;++S<M;)k=O[S],U[S]||(U[S]=d),(C=L(k))>U[S]&&(U[S]=C);for(B=-1;++B<F;){if(O=w[B],S=-1,!1!==I.pad)for(;++S<M;)k=O[S],A=b(T=U[S]-(L(k)||0)),N[S]===a||N[S]===l?k=A+k:N[S]===s?((T/=2)%1==0?(P=T,x=T):(P=T+.5,x=T-.5),k=b(P)+k+b(x)):k+=A,O[S]=k;w[B]=O.join(R)}if(!1!==I.rule){for(S=-1,o=[];++S<M;)A=!1===I.pad?(A=L(y(k=e[0][S])))>d?A:d:U[S],k=(n=N[S])===a||n===u?p:f,k+=b(A-2,p),k+=n!==i&&n!==u?f:p,o[S]=k;w.splice(1,0,o.join(R))}return D+w.join(j+g+D)+j};var r=/\./,o=/\.[^.]*$/,i="l",a="r",s="c",l=".",u="",c=[i,a,s,l,u],d=3,f=":",p="-",h="|",m=" ",g="\n";function y(e){return null==e?"":String(e)}function v(e){return String(e).length}function b(e,t){return new Array(e+1).join(t||m)}function _(e){var t=o.exec(e);return t?t.index+1:e.length}},function(e,t,n){"use strict";var r=n(91);e.exports=function(e){for(var t,n,a=this.options,s=a.looseTable,l=a.spacedTable,u=a.paddedTable,c=a.stringLength,d=e.children,f=d.length,p=this.enterTable(),h=[];f--;)h[f]=this.all(d[f]);return p(),s?(t="",n=""):l?(t=i+o,n=o+i):(t=i,n=i),r(h,{align:e.align,pad:u,start:t,end:n,stringLength:c,delimiter:l?o+i+o:i})};var o=" ",i="|"},function(e,t,n){"use strict";var r=" ",o=":",i="[",a="]",s="^",l="\n\n",u=n(3)(r,4);e.exports=function(e){var t=this.all(e).join(l+u);return i+s+(e.label||e.identifier)+a+o+r+t}},function(e,t,n){"use strict";e.exports=function(e){return r+i+(e.label||e.identifier)+o};var r="[",o="]",i="^"},function(e,t,n){"use strict";e.exports=function(e){return r+i+this.all(e).join("")+o};var r="[",o="]",i="^"},function(e,t,n){"use strict";var r=n(15),o=n(14);e.exports=function(e){var t=r(this.encode(e.url||"",e)),n=this.enterLink(),d=this.encode(this.escape(e.alt||"",e));return n(),e.title&&(t+=i+o(this.encode(e.title,e))),c+l+d+u+a+t+s};var i=" ",a="(",s=")",l="[",u="]",c="!"},function(e,t,n){"use strict";var r=n(15),o=n(14);e.exports=function(e){var t=r(e.url);return e.title&&(t+=i+o(e.title)),s+(e.label||e.identifier)+l+a+i+t};var i=" ",a=":",s="[",l="]"},function(e,t,n){"use strict";var r=n(23);e.exports=function(e){return a+o+(this.encode(e.alt,e)||"")+i+r(e)};var o="[",i="]",a="!"},function(e,t,n){"use strict";var r=n(26);e.exports=function(e,t){for(var n,a=e.length,s=t.length,l=[],u=0,c=0;c<a;){for(n=c;c<a&&!i.test(e.charAt(c));)c+=1;for(l.push(e.slice(n,c));u<s&&!i.test(t.charAt(u));)u+=1;for(n=u;u<s&&i.test(t.charAt(u));)t.charAt(u)===o&&(u+=r(t.slice(u))),u+=1;for(l.push(t.slice(n,u));c<a&&i.test(e.charAt(c));)c+=1}return l.join("")};var o="&",i=/[-!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~_]/},function(e,t,n){"use strict";var r=n(99),o=n(23);e.exports=function(e){var t=e.referenceType,n=this.enterLinkReference(this,e),u=this.all(e).join("");return n(),(t===s||t===l)&&(u=r(u,e.label||e.identifier)),i+u+a+o(e)};var i="[",a="]",s="shortcut",l="collapsed"},function(e,t,n){"use strict";var r=n(15),o=n(14);e.exports=function(e){var t=this.encode(e.url||"",e),n=this.enterLink(),d=this.encode(this.escape(e.url||"",e)),f=this.all(e).join("");return n(),null==e.title&&c.test(t)&&d===f?r(this.encode(e.url),!0):(t=r(t),e.title&&(t+=i+o(this.encode(this.escape(e.title,e),e))),a+f+s+l+t+u)};var i=" ",a="[",s="]",l="(",u=")",c=/^[a-z][a-z+.-]+:\/?/i},function(e,t,n){"use strict";e.exports=function(e){return r+this.all(e).join("")+r};var r="~~"},function(e,t,n){"use strict";e.exports=function(){return this.options.commonmark?r:o};var r="\\\n",o="  \n"},function(e,t,n){"use strict";e.exports=function(e){var t=this.options.emphasis,n=this.all(e).join("");return this.options.pedantic&&t===r&&-1!==n.indexOf(t)&&(t=o),t+n+t};var r="_",o="*"},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){var t=r(this.options.strong,2);return t+this.all(e).join("")+t}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=this.options,t=r(e.rule,e.ruleRepetition);return e.ruleSpaces?t.split("").join(o):t};var o=" "},function(e,t,n){"use strict";e.exports=function(e){return e.value}},function(e,t,n){"use strict";var r=n(24),o=n(3),i=n(25);e.exports=function(e,t){var n,l=e.value,u=this.options,c=u.fence,d=e.lang||"";return d&&e.meta&&(d+=s+e.meta),(d=this.encode(this.escape(d,e)))||u.fences||!l?(n=o(c,Math.max(r(l,c)+1,3)))+d+a+l+a+n:(t&&"listItem"===t.type&&"tab"!==u.listItemIndent&&u.pedantic&&this.file.fail("Cannot indent code properly. See https://git.io/fxKR8",e.position),i(l,1))};var a="\n",s=" "},function(e,t,n){"use strict";var r=n(24),o=n(3);e.exports=function(e){var t=e.value,n=o(a,r(t,a)+1),s=n,l=n;return t.charAt(0)===a&&(s+=i),t.charAt(t.length-1)===a&&(l=i+l),s+t+l};var i=" ",a="`"},function(e,t,n){"use strict";var r=n(3),o=n(25);e.exports=function(e,t,n,p){for(var h,m,g,y=this.options.listItemIndent,v=p||this.options.bullet,b=null==e.spread||e.spread,_=e.checked,w=e.children,E=w.length,O=[],S=-1;++S<E;)O[S]=this.visit(w[S],e);return h=O.join(b?d:i),"boolean"==typeof _&&(h=s+(_?u:a)+l+a+h),"1"===y||"mixed"===y&&-1===h.indexOf(i)?(m=v.length+1,g=a):(m=c((v.length+1)/f)*f,g=r(a,m-v.length)),h?v+g+o(h,m/f).slice(m):v};var i="\n",a=" ",s="[",l="]",u="x",c=Math.ceil,d=i+i,f=4},function(e,t,n){"use strict";e.exports=function(e){return(e.ordered?this.visitOrderedItems:this.visitUnorderedItems).call(this,e)}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=this.block(e).split(r),a=[],s=n.length,l=-1;++l<s;)t=n[l],a[l]=(t?o:"")+t;return i+a.join(r+i)};var r="\n",o=" ",i=">"},function(e,t,n){"use strict";e.exports=function(e){return this.all(e).join("")}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){var t,n=e.depth,u=this.options.setext,c=this.options.closeAtx,d=this.all(e).join("");return u&&n<3?d+o+r(1===n?l:s,d.length):(t=r(a,e.depth))+i+d+(c?i+t:"")};var o="\n",i=" ",a="#",s="-",l="="},function(e,t,n){"use strict";e.exports=function(e,t){return this.encode(this.escape(e.value,e,t),e)}},function(e,t,n){"use strict";e.exports=function(e){return this.block(e)+r};var r="\n"},function(e,t,n){"use strict";e.exports=function(e){for(var t=this.options.bullet,n=this.visitors.listItem,i=e.children,a=i.length,s=-1,l=[];++s<a;)l[s]=n.call(this,i[s],e,s,t);return l.join(e.spread?o:r)};var r="\n",o=r+r},function(e,t,n){"use strict";e.exports=function(e){var t,n=this.visitors.listItem,a=this.options.incrementListMarker,s=[],l=e.start,u=e.children,c=u.length,d=-1;for(l=null==l?1:l;++d<c;)t=(a?l+d:l)+o,s[d]=n.call(this,u[d],e,d,t);return s.join(e.spread?i:r)};var r="\n",o=".",i=r+r},function(e,t,n){"use strict";e.exports=function(e){for(var t,n,a=this.options,s=a.fences,l=a.commonmark?i:o,u=[],c=e.children,d=c.length,f=-1;++f<d;)t=n,n=c[f],t&&("list"===t.type&&("list"===n.type&&t.ordered===n.ordered||"code"===n.type&&!n.lang&&!s)?u.push(l):u.push(r)),u.push(this.visit(n,e));return u.join("")};var r="\n\n",o=r+"\n",i=r+"\x3c!----\x3e"+r},function(e,t,n){"use strict";e.exports=function(e){for(var t=e.children,n=t.length,r=[],o=-1;++o<n;)r[o]=this.visit(t[o],e);return r}},function(e,t,n){"use strict";e.exports=function(e,t){var n=this.visitors;return"function"!=typeof n[e.type]&&this.file.fail(new Error("Missing compiler for node of type `"+e.type+"`: `"+e+"`"),e),n[e.type].call(this,e,t)}},function(e,t,n){"use strict";var r=n(13);function o(e,t){var n,r;return"text"===e.type?!e.position||(n=e.position.start,r=e.position.end,n.line!==r.line||r.column-n.column===e.value.length):t&&"blockquote"===e.type}e.exports=function(e,t){return r(e,(function(e,n,r){var i=r?r.children:[],a=n&&i[n-1];if(a&&e.type===a.type&&o(a,t)&&o(e,t))return e.value&&(a.value+=e.value),e.children&&(a.children=a.children.concat(e.children)),i.splice(n,1),a.position&&e.position&&(a.position.end=e.position.end),n})),e}},function(e,t,n){"use strict";var r=n(122);e.exports=function(){return this.visit(r(this.tree,this.options.commonmark))}},function(e,t,n){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return!/[^0-9a-z\xDF-\xFF]/.test(e.toLowerCase())}},function(e,t,n){"use strict";var r=n(8),o=n(124),i=n(2),a=n(34),s=n(26);e.exports=function(e){return function(t,n,R){var D,j,F,U,H,W,q=e.gfm,z=e.commonmark,V=e.pedantic,G=z?[v,h]:[v],$=R&&R.children,K=$&&$.indexOf(n),Y=$&&$[K-1],X=$&&$[K+1],J=t.length,Z=a(e),Q=-1,ee=[],te=ee;for(D=Y?M(Y)&&N.test(Y.value):!R||"root"===R.type||"paragraph"===R.type;++Q<J;){if(W=!1,"\n"===(j=t.charAt(Q)))D=!0;else if(j===O||j===C||j===m||j===P&&t.charAt(Q+1)===E||j===E||j===_||j===f&&s(t.slice(Q))>0||j===S&&this.inLink||q&&j===A&&t.charAt(Q+1)===A||q&&j===k&&(this.inTable||L(t,Q))||j===T&&Q>0&&Q<J-1&&(V||!o(t.charAt(Q-1))||!o(t.charAt(Q+1)))||q&&!this.inLink&&j===b&&B(ee.join("")))W=!0;else if(D)if(j===w||j===d||j===m||j===y||j===g)W=!0;else if(r(j)){for(H=Q+1;H<J&&r(t.charAt(H));)H++;-1!==G.indexOf(t.charAt(H))&&((X=t.charAt(H+1))&&X!==c&&X!==l&&X!==u||(ee.push(t.slice(Q,H)),Q=H,j=t.charAt(Q),W=!0))}D&&!i(j)&&(D=!1),ee.push(W?ne(j):j)}if($&&M(n)){if(Y&&Y.referenceType===I){for(Q=-1,J=te.length;++Q<J;)if((j=te[Q])!==c&&j!==l){j!==p&&j!==b||(te[Q]=ne(j));break}M(X)&&Q===J&&X.value.charAt(0)===p&&te.push(O)}q&&!this.inLink&&M(Y)&&t.charAt(0)===b&&B(Y.value.slice(-6))&&(te[0]=ne(b)),M(X)&&t.charAt(J-1)===f&&0!==s(f+X.value)&&(te[te.length-1]=ne(f)),X&&"link"===X.type&&t.charAt(J-1)===P&&(te[te.length-1]=ne(P)),q&&M(X)&&t.charAt(J-1)===A&&X.value.charAt(0)===A&&te.splice(te.length-1,0,O),F=M(Y)&&o(Y.value.slice(-1)),U=M(X)&&o(X.value.charAt(0)),1===J?t!==T||!V&&F&&U||te.unshift(O):(t.charAt(0)!==T||!V&&F&&o(t.charAt(1))||te.unshift(O),t.charAt(J-1)!==T||!V&&U&&o(t.charAt(J-2))||te.splice(te.length-1,0,O))}return te.join("");function ne(e){return-1===Z.indexOf(e)?x[e]:O+e}}};var l="\t",u="\n",c=" ",d="#",f="&",p="(",h=")",m="*",g="+",y="-",v=".",b=":",_="<",w=">",E="[",O="\\",S="]",T="_",C="`",k="|",A="~",P="!",x={"<":"&lt;",":":"&#x3A;","&":"&amp;","|":"&#x7C;","~":"&#x7E;"},I="shortcut",R="mailto",D="https",j="http",N=/\n\s*$/;function L(e,t){var n,r=e.lastIndexOf(u,t),o=e.indexOf(u,t);for(o=-1===o?e.length:o;++r<o;)if((n=e.charAt(r))!==b&&n!==y&&n!==c&&n!==k)return!1;return!0}function M(e){return e&&"text"===e.type}function B(e){var t=e.slice(-6).toLowerCase();return t===R||t.slice(-5)===D||t.slice(-4)===j}},function(e,t,n){"use strict";var r=n(0),o=n(19),i=n(27),a=n(125),s=n(28);e.exports=function(e){var t,n,d=this.options;if(null==e)e={};else{if("object"!=typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=r(e)}for(n in i)u[typeof i[n]](e,n,d[n],l[n]);return(t=e.ruleRepetition)&&t<3&&c(t,"options.ruleRepetition"),this.encode=function(e){var t={};return"false"===e?s:("true"===e&&(t.useNamedReferences=!0),"escape"===e&&(t.escapeOnly=!0,t.useNamedReferences=!0),function(e){return o(e,t)})}(String(e.entities)),this.escape=a(e),this.options=e,this};var l={entities:{true:!0,false:!0,numbers:!0,escape:!0},bullet:{"*":!0,"-":!0,"+":!0},rule:{"-":!0,_:!0,"*":!0},listItemIndent:{tab:!0,mixed:!0,1:!0},emphasis:{_:!0,"*":!0},strong:{_:!0,"*":!0},fence:{"`":!0,"~":!0}},u={boolean:function(e,t,n){var r=e[t];null==r&&(r=n),"boolean"!=typeof r&&c(r,"options."+t),e[t]=r},string:function(e,t,n,r){var o=e[t];null==o&&(o=n),(o=String(o))in r||c(o,"options."+t),e[t]=o},number:function(e,t,n){var r=e[t];null==r&&(r=n),isNaN(r)&&c(r,"options."+t),e[t]=r},function:function(e,t,n){var r=e[t];null==r&&(r=n),"function"!=typeof r&&c(r,"options."+t),e[t]=r}};function c(e,t){throw new Error("Invalid value `"+e+"` for setting `"+t+"`")}},function(e,t,n){"use strict";var r=n(28);e.exports=function(e,t){var n=e.encode,o=e.escape,i=e.enterLink();return"shortcut"!==t.referenceType&&"collapsed"!==t.referenceType?i:(e.escape=r,e.encode=r,function(){e.encode=n,e.escape=o,i()})}},function(e,t,n){"use strict";var r=n(0),o=n(35);function i(e,t){this.inLink=!1,this.inTable=!1,this.tree=e,this.file=t,this.options=r(this.options),this.setOptions({})}e.exports=i;var a=i.prototype;a.enterLink=o("inLink",!1),a.enterTable=o("inTable",!1),a.enterLinkReference=n(127),a.options=n(27),a.setOptions=n(126),a.compile=n(123),a.visit=n(121),a.all=n(120),a.block=n(119),a.visitOrderedItems=n(118),a.visitUnorderedItems=n(117),a.visitors={root:n(116),text:n(115),heading:n(114),paragraph:n(113),blockquote:n(112),list:n(111),listItem:n(110),inlineCode:n(109),code:n(108),html:n(107),thematicBreak:n(106),strong:n(105),emphasis:n(104),break:n(103),delete:n(102),link:n(101),linkReference:n(100),imageReference:n(98),definition:n(97),image:n(96),footnote:n(95),footnoteReference:n(94),footnoteDefinition:n(93),table:n(92),tableCell:n(90)}},function(e,t,n){"use strict";var r=n(36),o=n(0),i=n(128);function a(e){var t=r(i);t.prototype.options=o(t.prototype.options,this.data("settings"),e),this.Compiler=t}e.exports=a,a.Compiler=i},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,s,l,u,c,d,f;if(n)return!0;for(a=(r=this.inlineMethods).length,o=this.inlineTokenizers,i=-1,d=t.length;++i<a;)"text"!==(c=r[i])&&o[c]&&((u=o[c].locator)||e.file.fail("Missing locator: `"+c+"`"),-1!==(l=u.call(this,t,1))&&l<d&&(d=l));s=t.slice(0,d),f=e.now(),this.decode(s,f,(function(t,n,r){e(r||t)({type:"text",value:t})}))}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=e.indexOf("\n",t);n>t&&" "===e.charAt(n-1);)n--;return n}},function(e,t,n){"use strict";var r=n(131);e.exports=s,s.locator=r;var o=" ",i="\n",a=2;function s(e,t,n){for(var r,s=t.length,l=-1,u="";++l<s;){if((r=t.charAt(l))===i){if(l<a)return;return!!n||e(u+=r)({type:"break"})}if(r!==o)return;u+=r}}},function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("`",t)}},function(e,t,n){"use strict";var r=n(2),o=n(133);e.exports=a,a.locator=o;var i="`";function a(e,t,n){for(var o,a,s,l,u,c,d,f,p=t.length,h=0,m="",g="";h<p&&t.charAt(h)===i;)m+=i,h++;if(m){for(u=m,l=h,m="",f=t.charAt(h),s=0;h<p;){if(c=f,f=t.charAt(h+1),c===i?(s++,g+=c):(s=0,m+=c),s&&f!==i){if(s===l){u+=m+g,d=!0;break}m+=g,g=""}h++}if(!d){if(l%2!=0)return;m=""}if(n)return!0;for(o="",a="",p=m.length,h=-1;++h<p;)c=m.charAt(h),r(c)?a+=c:(a&&(o&&(o+=a),a=""),o+=c);return e(u)({type:"inlineCode",value:o})}}},function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("~~",t)}},function(e,t,n){"use strict";var r=n(2),o=n(135);e.exports=s,s.locator=o;var i="~",a="~~";function s(e,t,n){var o,s,l,u="",c="",d="",f="";if(this.options.gfm&&t.charAt(0)===i&&t.charAt(1)===i&&!r(t.charAt(2)))for(o=1,s=t.length,(l=e.now()).column+=2,l.offset+=2;++o<s;){if(!((u=t.charAt(o))!==i||c!==i||d&&r(d)))return!!n||e(a+f+a)({type:"delete",children:this.tokenizeInline(f,l)});f+=c,d=c,c=u}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("*",t),r=e.indexOf("_",t);return-1===r?n:-1===n||r<n?r:n}},function(e,t,n){"use strict";e.exports=function(e){return o.test("number"==typeof e?r(e):e.charAt(0))};var r=String.fromCharCode,o=/\w/},function(e,t,n){"use strict";var r=n(5),o=n(138),i=n(2),a=n(137);e.exports=c,c.locator=a;var s="*",l="_",u="\\";function c(e,t,n){var a,c,d,f,p,h,m,g=0,y=t.charAt(g);if(!(y!==s&&y!==l||(c=this.options.pedantic,p=y,d=y,h=t.length,g++,f="",y="",c&&i(t.charAt(g)))))for(;g<h;){if(m=y,!((y=t.charAt(g))!==d||c&&i(m))){if((y=t.charAt(++g))!==d){if(!r(f)||m===d)return;if(!c&&d===l&&o(y)){f+=d;continue}return!!n||((a=e.now()).column++,a.offset++,e(p+f+d)({type:"emphasis",children:this.tokenizeInline(f,a)}))}f+=d}c||y!==u||(f+=y,y=t.charAt(++g)),f+=y,g++}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("**",t),r=e.indexOf("__",t);return-1===r?n:-1===n||r<n?r:n}},function(e,t,n){"use strict";var r=n(5),o=n(2),i=n(140);e.exports=u,u.locator=i;var a="\\",s="*",l="_";function u(e,t,n){var i,u,c,d,f,p,h,m=0,g=t.charAt(m);if(!(g!==s&&g!==l||t.charAt(++m)!==g||(u=this.options.pedantic,f=(c=g)+c,p=t.length,m++,d="",g="",u&&o(t.charAt(m)))))for(;m<p;){if(h=g,!((g=t.charAt(m))!==c||t.charAt(m+1)!==c||u&&o(h))&&(g=t.charAt(m+2))!==c){if(!r(d))return;return!!n||((i=e.now()).column+=2,i.offset+=2,e(f+d+f)({type:"strong",children:this.tokenizeInline(d,i)}))}u||g!==a||(d+=g,g=t.charAt(++m)),d+=g,m++}}},function(e,t,n){"use strict";var r=n(2),o=n(29),i=n(16);e.exports=v,v.locator=o;var a="link",s="image",l="footnote",u="shortcut",c="collapsed",d="full",f=" ",p="!",h="[",m="\\",g="]",y="^";function v(e,t,n){var o,v,b,_,w,E,O,S,T=this.options.commonmark,C=t.charAt(0),k=0,A=t.length,P="",x="",I=a,R=u;if(C===p&&(I=s,x=C,C=t.charAt(++k)),C===h){if(k++,x+=C,E="",this.options.footnotes&&t.charAt(k)===y){if(I===s)return;x+=y,k++,I=l}for(S=0;k<A;){if((C=t.charAt(k))===h)O=!0,S++;else if(C===g){if(!S)break;S--}C===m&&(E+=m,C=t.charAt(++k)),E+=C,k++}if(P=E,o=E,(C=t.charAt(k))===g){if(k++,P+=C,E="",!T)for(;k<A&&(C=t.charAt(k),r(C));)E+=C,k++;if(C=t.charAt(k),I!==l&&C===h){for(v="",E+=C,k++;k<A&&(C=t.charAt(k))!==h&&C!==g;)C===m&&(v+=m,C=t.charAt(++k)),v+=C,k++;(C=t.charAt(k))===g?(R=v?d:c,E+=v+C,k++):v="",P+=E,E=""}else{if(!o)return;v=o}if(R===d||!O)return P=x+P,I===a&&this.inLink?null:!!n||(I===l&&-1!==o.indexOf(f)?e(P)({type:l,children:this.tokenizeInline(o,e.now())}):((b=e.now()).column+=x.length,b.offset+=x.length,_={type:I+"Reference",identifier:i(v=R===d?v:o),label:v},I!==a&&I!==s||(_.referenceType=R),I===a?(w=this.enterLink(),_.children=this.tokenizeInline(o,b),w()):I===s&&(_.alt=this.decode.raw(this.unescape(o),b)||null),e(P)(_)))}}}},function(e,t,n){"use strict";var r=n(2),o=n(29);e.exports=y,y.locator=o;var i="\n",a="!",s='"',l="'",u="(",c=")",d="<",f=">",p="[",h="\\",m="]",g="`";function y(e,t,n){var o,y,v,b,_,w,E,O,S,T,C,k,A,P,x,I,R,D,j="",N=0,L=t.charAt(0),M=this.options.pedantic,B=this.options.commonmark,F=this.options.gfm;if(L===a&&(O=!0,j=L,L=t.charAt(++N)),L===p&&(O||!this.inLink)){for(j+=L,P="",N++,C=t.length,A=0,(I=e.now()).column+=N,I.offset+=N;N<C;){if(w=L=t.charAt(N),L===g){for(y=1;t.charAt(N+1)===g;)w+=L,N++,y++;v?y>=v&&(v=0):v=y}else if(L===h)N++,w+=t.charAt(N);else if(v&&!F||L!==p){if((!v||F)&&L===m){if(!A){if(!M)for(;N<C&&(L=t.charAt(N+1),r(L));)w+=L,N++;if(t.charAt(N+1)!==u)return;w+=u,o=!0,N++;break}A--}}else A++;P+=w,w="",N++}if(o){for(S=P,j+=P+w,N++;N<C&&(L=t.charAt(N),r(L));)j+=L,N++;if(P="",b=j,(L=t.charAt(N))===d){for(N++,b+=d;N<C&&(L=t.charAt(N))!==f;){if(B&&L===i)return;P+=L,N++}if(t.charAt(N)!==f)return;j+=d+P+f,x=P,N++}else{for(L=null,w="";N<C&&(L=t.charAt(N),!w||!(L===s||L===l||B&&L===u));){if(r(L)){if(!M)break;w+=L}else{if(L===u)A++;else if(L===c){if(0===A)break;A--}P+=w,w="",L===h&&(P+=h,L=t.charAt(++N)),P+=L}N++}x=P,N=(j+=P).length}for(P="";N<C&&(L=t.charAt(N),r(L));)P+=L,N++;if(L=t.charAt(N),j+=P,P&&(L===s||L===l||B&&L===u))if(N++,P="",T=L===u?c:L,_=j+=L,B){for(;N<C&&(L=t.charAt(N))!==T;)L===h&&(P+=h,L=t.charAt(++N)),N++,P+=L;if((L=t.charAt(N))!==T)return;for(k=P,j+=P+L,N++;N<C&&(L=t.charAt(N),r(L));)j+=L,N++}else for(w="";N<C;){if((L=t.charAt(N))===T)E&&(P+=T+w,w=""),E=!0;else if(E){if(L===c){j+=P+T+w,k=P;break}r(L)?w+=L:(P+=T+w+L,w="",E=!1)}else P+=L;N++}if(t.charAt(N)===c)return!!n||(j+=c,x=this.decode.raw(this.unescape(x),e(b).test().end,{nonTerminated:!1}),k&&(_=e(_).test().end,k=this.decode.raw(this.unescape(k),_)),D={type:O?"image":"link",title:k||null,url:x},O?D.alt=this.decode.raw(this.unescape(S),I)||null:(R=this.enterLink(),D.children=this.tokenizeInline(S,I),R()),e(j)(D))}}}},function(e,t,n){"use strict";var r=n(38),o=n(30),i=n(31).tag;e.exports=f,f.locator=o;var a="<",s="?",l="!",u="/",c=/^<a /i,d=/^<\/a>/i;function f(e,t,n){var o,f,p=t.length;if(!(t.charAt(0)!==a||p<3)&&(o=t.charAt(1),(r(o)||o===s||o===l||o===u)&&(f=t.match(i))))return!!n||(f=f[0],!this.inLink&&c.test(f)?this.inLink=!0:this.inLink&&d.test(f)&&(this.inLink=!1),e(f)({type:"html",value:f}))}},function(e,t,n){"use strict";e.exports=function(e,t){var n,o=r.length,i=-1,a=-1;if(!this.options.gfm)return-1;for(;++i<o;)-1!==(n=e.indexOf(r[i],t))&&(n<a||-1===a)&&(a=n);return a};var r=["https://","http://","mailto:"]},function(e,t,n){"use strict";var r=n(9),o=n(2),i=n(145);e.exports=w,w.locator=i,w.notInLink=!0;var a='"',s="'",l="(",u=")",c=",",d=".",f=":",p=";",h="<",m="@",g="[",y="]",v="mailto:",b=["http://","https://",v],_=b.length;function w(e,t,n){var i,w,E,O,S,T,C,k,A,P,x,I,R;if(this.options.gfm){for(i="",O=-1;++O<_;)if(T=b[O],(C=t.slice(0,T.length)).toLowerCase()===T){i=C;break}if(i){for(O=i.length,k=t.length,A="",P=0;O<k&&(E=t.charAt(O),!o(E)&&E!==h)&&(E!==d&&E!==c&&E!==f&&E!==p&&E!==a&&E!==s&&E!==u&&E!==y||(x=t.charAt(O+1))&&!o(x))&&(E!==l&&E!==g||P++,E!==u&&E!==y||!(--P<0));)A+=E,O++;if(A){if(w=i+=A,T===v){if(-1===(S=A.indexOf(m))||S===k-1)return;w=w.substr(v.length)}return!!n||(R=this.enterLink(),I=this.inlineTokenizers,this.inlineTokenizers={text:I.text},w=this.tokenizeInline(w,e.now()),this.inlineTokenizers=I,R(),e(i)({type:"link",title:null,url:r(i,{nonTerminated:!1}),children:w}))}}}}},function(e,t,n){"use strict";var r=n(2),o=n(9),i=n(30);e.exports=f,f.locator=i,f.notInLink=!0;var a="<",s=">",l="@",u="/",c="mailto:",d=c.length;function f(e,t,n){var i,f,p,h,m,g="",y=t.length,v=0,b="",_=!1,w="";if(t.charAt(0)===a){for(v++,g=a;v<y&&(i=t.charAt(v),!(r(i)||i===s||i===l||":"===i&&t.charAt(v+1)===u));)b+=i,v++;if(b){if(w+=b,b="",w+=i=t.charAt(v),v++,i===l)_=!0;else{if(":"!==i||t.charAt(v+1)!==u)return;w+=u,v++}for(;v<y&&(i=t.charAt(v),!r(i)&&i!==s);)b+=i,v++;if(i=t.charAt(v),b&&i===s)return!!n||(p=w+=b,g+=w+i,(f=e.now()).column++,f.offset++,_&&(w.slice(0,d).toLowerCase()===c?(p=p.substr(d),f.column+=d,f.offset+=d):w=c+w),h=this.inlineTokenizers,this.inlineTokenizers={text:h.text},m=this.enterLink(),p=this.tokenizeInline(p,f),this.inlineTokenizers=h,m(),e(g)({type:"link",title:null,url:o(w,{nonTerminated:!1}),children:p}))}}}},function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("\\",t)}},function(e,t,n){"use strict";var r=n(148);e.exports=a,a.locator=r;var o="\n",i="\\";function a(e,t,n){var r,a;if(t.charAt(0)===i&&(r=t.charAt(1),-1!==this.escape.indexOf(r)))return!!n||(a=r===o?{type:"break"}:{type:"text",value:r},e(i+r)(a))}},function(e,t,n){"use strict";var r=n(5),o=n(8),i=n(18),a=n(17);e.exports=function(e,t,n){for(var d,f,p,h,m,g=this.options,y=g.commonmark,v=g.gfm,b=this.blockTokenizers,_=this.interruptParagraph,w=t.indexOf(l),E=t.length;w<E;){if(-1===w){w=E;break}if(t.charAt(w+1)===l)break;if(y){for(h=0,d=w+1;d<E;){if((p=t.charAt(d))===s){h=c;break}if(p!==u)break;h++,d++}if(h>=c&&p!==l){w=t.indexOf(l,w+1);continue}}if(f=t.slice(w+1),a(_,b,this,[e,f,!0]))break;if(b.list.call(this,e,f,!0)&&(this.inList||y||v&&!o(r.left(f).charAt(0))))break;if(d=w,-1!==(w=t.indexOf(l,w+1))&&""===r(t.slice(d,w))){w=d;break}}return f=t.slice(0,w),""===r(f)?(e(f),null):!!n||(m=e.now(),e(f=i(f))({type:"paragraph",children:this.tokenizeInline(f,m)}))};var s="\t",l="\n",u=" ",c=4},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){var y,v,b,_,w,E,O,S,T,C,k,A,P,x,I,R,D,j,N,L,M,B,F,U;if(this.options.gfm){for(y=0,j=0,E=t.length+1,O=[];y<E;){if(B=t.indexOf(i,y),F=t.indexOf(d,y+1),-1===B&&(B=t.length),-1===F||F>B){if(j<p)return;break}O.push(t.slice(y,B)),j++,y=B+1}for(_=O.join(i),y=0,E=(v=O.splice(1,1)[0]||[]).length,j--,b=!1,k=[];y<E;){if((T=v.charAt(y))===d){if(C=null,!1===b){if(!1===U)return}else k.push(b),b=!1;U=!1}else if(T===s)C=!0,b=b||null;else if(T===l)b=b===h?m:C&&null===b?g:h;else if(!r(T))return;y++}if(!1!==b&&k.push(b),!(k.length<f)){if(n)return!0;for(D=-1,L=[],M=e(_).reset({type:"table",align:k,children:L});++D<j;){for(N=O[D],w={type:"tableRow",children:[]},D&&e(i),e(N).reset(w,M),E=N.length+1,y=0,S="",A="",P=!0,x=null,I=null;y<E;)if((T=N.charAt(y))!==o&&T!==a){if(""===T||T===d)if(P)e(T);else{if(T&&I){S+=T,y++;continue}!A&&!T||P||(_=A,S.length>1&&(T?(_+=S.slice(0,S.length-1),S=S.charAt(S.length-1)):(_+=S,S="")),R=e.now(),e(_)({type:"tableCell",children:this.tokenizeInline(A,R)},w)),e(S+T),S="",A=""}else if(S&&(A+=S,S=""),A+=T,T===u&&y!==E-2&&(A+=N.charAt(y+1),y++),T===c){for(x=1;N.charAt(y+1)===T;)A+=T,y++,x++;I?x>=I&&(I=0):I=x}P=!1,y++}else A?S+=T:e(T),y++;D||e(i+v)}return M}}};var o="\t",i="\n",a=" ",s="-",l=":",u="\\",c="`",d="|",f=1,p=2,h="left",m="center",g="right"},function(e,t,n){"use strict";var r=n(2),o=n(16);e.exports=v,v.notInList=!0,v.notInBlock=!0;var i='"',a="'",s="\\",l="\n",u="\t",c=" ",d="[",f="]",p="(",h=")",m=":",g="<",y=">";function v(e,t,n){for(var r,y,v,w,E,O,S,T,C=this.options.commonmark,k=0,A=t.length,P="";k<A&&((w=t.charAt(k))===c||w===u);)P+=w,k++;if((w=t.charAt(k))===d){for(k++,P+=w,v="";k<A&&(w=t.charAt(k))!==f;)w===s&&(v+=w,k++,w=t.charAt(k)),v+=w,k++;if(v&&t.charAt(k)===f&&t.charAt(k+1)===m){for(O=v,k=(P+=v+f+m).length,v="";k<A&&((w=t.charAt(k))===u||w===c||w===l);)P+=w,k++;if(v="",r=P,(w=t.charAt(k))===g){for(k++;k<A&&b(w=t.charAt(k));)v+=w,k++;if((w=t.charAt(k))===b.delimiter)P+=g+v+w,k++;else{if(C)return;k-=v.length+1,v=""}}if(!v){for(;k<A&&_(w=t.charAt(k));)v+=w,k++;P+=v}if(v){for(S=v,v="";k<A&&((w=t.charAt(k))===u||w===c||w===l);)v+=w,k++;if(E=null,(w=t.charAt(k))===i?E=i:w===a?E=a:w===p&&(E=h),E){if(!v)return;for(k=(P+=v+w).length,v="";k<A&&(w=t.charAt(k))!==E;){if(w===l){if(k++,(w=t.charAt(k))===l||w===E)return;v+=l}v+=w,k++}if((w=t.charAt(k))!==E)return;y=P,P+=v+w,k++,T=v,v=""}else v="",k=P.length;for(;k<A&&((w=t.charAt(k))===u||w===c);)P+=w,k++;return(w=t.charAt(k))&&w!==l?void 0:!!n||(r=e(r).test().end,S=this.decode.raw(this.unescape(S),r,{nonTerminated:!1}),T&&(y=e(y).test().end,T=this.decode.raw(this.unescape(T),y)),e(P)({type:"definition",identifier:o(O),label:O,title:T||null,url:S}))}}}}function b(e){return e!==y&&e!==d&&e!==f}function _(e){return e!==d&&e!==f&&!r(e)}b.delimiter=y},function(e,t,n){"use strict";var r=n(2),o=n(16);e.exports=h,h.notInList=!0,h.notInBlock=!0;var i="\\",a="\n",s="\t",l=" ",u="[",c="]",d="^",f=":",p=/^( {4}|\t)?/gm;function h(e,t,n){var h,m,g,y,v,b,_,w,E,O,S,T,C=this.offset;if(this.options.footnotes){for(h=0,m=t.length,g="",y=e.now(),v=y.line;h<m&&(E=t.charAt(h),r(E));)g+=E,h++;if(t.charAt(h)===u&&t.charAt(h+1)===d){for(h=(g+=u+d).length,_="";h<m&&(E=t.charAt(h))!==c;)E===i&&(_+=E,h++,E=t.charAt(h)),_+=E,h++;if(_&&t.charAt(h)===c&&t.charAt(h+1)===f){if(n)return!0;for(O=_,h=(g+=_+c+f).length;h<m&&((E=t.charAt(h))===s||E===l);)g+=E,h++;for(y.column+=g.length,y.offset+=g.length,_="",b="",w="";h<m;){if((E=t.charAt(h))===a){for(w=E,h++;h<m&&(E=t.charAt(h))===a;)w+=E,h++;for(_+=w,w="";h<m&&(E=t.charAt(h))===l;)w+=E,h++;if(0===w.length)break;_+=w}_&&(b+=_,_=""),b+=E,h++}return g+=b,b=b.replace(p,(function(e){return C[v]=(C[v]||0)+e.length,v++,""})),S=e(g),T=this.enterBlock(),b=this.tokenizeBlock(b,y),T(),S({type:"footnoteDefinition",identifier:o(O),label:O,children:b})}}}}},function(e,t,n){"use strict";var r=n(31).openCloseTag;e.exports=function(e,t,n){for(var r,_,w,E,O,S,T,C=this.options.blocks.join("|"),k=new RegExp("^</?("+C+")(?=(\\s|/?>|$))","i"),A=t.length,P=0,x=[[l,u,!0],[c,d,!0],[f,p,!0],[h,m,!0],[g,y,!0],[k,v,!0],[b,v,!1]];P<A&&((E=t.charAt(P))===o||E===i);)P++;if(t.charAt(P)===s){for(r=-1===(r=t.indexOf(a,P+1))?A:r,_=t.slice(P,r),w=-1,O=x.length;++w<O;)if(x[w][0].test(_)){S=x[w];break}if(S){if(n)return S[2];if(P=r,!S[1].test(_))for(;P<A;){if(r=-1===(r=t.indexOf(a,P+1))?A:r,_=t.slice(P+1,r),S[1].test(_)){_&&(P=r);break}P=r}return e(T=t.slice(0,P))({type:"html",value:T})}}};var o="\t",i=" ",a="\n",s="<",l=/^<(script|pre|style)(?=(\s|>|$))/i,u=/<\/(script|pre|style)>/i,c=/^<!--/,d=/-->/,f=/^<\?/,p=/\?>/,h=/^<![A-Za-z]/,m=/>/,g=/^<!\[CDATA\[/,y=/\]\]>/,v=/^$/,b=new RegExp(r.source+"\\s*$")},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var d,f,p,h,m,g=e.now(),y=t.length,v=-1,b="";++v<y;){if((p=t.charAt(v))!==i||v>=l){v--;break}b+=p}for(d="",f="";++v<y;){if((p=t.charAt(v))===r){v--;break}p===i||p===o?f+=p:(d+=f+p,f="")}if(g.column+=b.length,g.offset+=b.length,b+=d+f,p=t.charAt(++v),h=t.charAt(++v),p===r&&(h===a||h===s)){for(b+=p,f=h,m=h===a?u:c;++v<y;){if((p=t.charAt(v))!==h){if(p!==r)return;v--;break}f+=p}return!!n||e(b+f)({type:"heading",depth:m,children:this.tokenizeInline(d,g)})}};var r="\n",o="\t",i=" ",a="=",s="-",l=3,u=1,c=2},function(e,t,n){"use strict";var r=n(5),o=n(3),i=n(32);e.exports=function(e,t){var n,c,d,f,p=e.split(s),h=p.length+1,m=1/0,g=[];for(p.unshift(o(l,t)+u);h--;)if(c=i(p[h]),g[h]=c.stops,0!==r(p[h]).length){if(!c.indent){m=1/0;break}c.indent>0&&c.indent<m&&(m=c.indent)}if(m!==1/0)for(h=p.length;h--;){for(d=g[h],n=m;n&&!(n in d);)n--;f=0!==r(p[h]).length&&m&&n!==m?a:"",p[h]=f+p[h].slice(n in d?d[n]+1:0)}return p.shift(),p.join(s)};var a="\t",s="\n",l=" ",u="!"},function(e,t,n){"use strict";var r=n(5),o=n(3),i=n(8),a=n(32),s=n(156),l=n(17);e.exports=function(e,t,n){for(var o,a,s,v,_,w,E,O,S,C,k,A,P,x,I,R,D,j,N,L,M,B,F=this.options.commonmark,U=this.options.pedantic,H=this.blockTokenizers,W=this.interruptList,q=0,z=t.length,V=null,G=0,$=!1;q<z;){if((s=t.charAt(q))===g)G+=b-G%b;else{if(s!==h)break;G++}q++}if(!(G>=b)){if((s=t.charAt(q))===u||s===d||s===f)v=s,a=!1;else{for(a=!0,o="";q<z&&(s=t.charAt(q),i(s));)o+=s,q++;if(s=t.charAt(q),!o||!(s===p||F&&s===y))return;V=parseInt(o,10),v=s}if((s=t.charAt(++q))===h||s===g||!(U||s!==m&&""!==s)){if(n)return!0;for(q=0,P=[],x=[],I=[];q<z;){for(w=q,E=!1,B=!1,-1===(_=t.indexOf(m,q))&&(_=z),M=q+b,G=0;q<z;){if((s=t.charAt(q))===g)G+=b-G%b;else{if(s!==h)break;G++}q++}if(G>=b&&(B=!0),R&&G>=R.indent&&(B=!0),s=t.charAt(q),O=null,!B){if(s===u||s===d||s===f)O=s,q++,G++;else{for(o="";q<z&&(s=t.charAt(q),i(s));)o+=s,q++;s=t.charAt(q),q++,o&&(s===p||F&&s===y)&&(O=s,G+=o.length+1)}if(O)if((s=t.charAt(q))===g)G+=b-G%b,q++;else if(s===h){for(M=q+b;q<M&&t.charAt(q)===h;)q++,G++;q===M&&t.charAt(q)===h&&(q-=b-1,G-=b-1)}else s!==m&&""!==s&&(O=null)}if(O){if(!U&&v!==O)break;E=!0}else F||B||t.charAt(w)!==h?F&&R&&(B=G>=R.indent||G>b):B=!0,E=!1,q=w;if(C=t.slice(w,_),S=w===q?C:t.slice(q,_),(O===u||O===c||O===f)&&H.thematicBreak.call(this,e,C,!0))break;if(k=A,A=!E&&!r(S).length,B&&R)R.value=R.value.concat(I,C),x=x.concat(I,C),I=[];else if(E)0!==I.length&&($=!0,R.value.push(""),R.trail=I.concat()),R={value:[C],indent:G,trail:[]},P.push(R),x=x.concat(I,C),I=[];else if(A){if(k&&!F)break;I.push(C)}else{if(k)break;if(l(W,H,this,[e,C,!0]))break;R.value=R.value.concat(I,C),x=x.concat(I,C),I=[]}q=_+1}for(N=e(x.join(m)).reset({type:"list",ordered:a,start:V,spread:$,children:[]}),D=this.enterList(),j=this.enterBlock(),q=-1,z=P.length;++q<z;)R=P[q].value.join(m),L=e.now(),e(R)(T(this,R,L),N),R=P[q].trail.join(m),q!==z-1&&(R+=m),e(R);return D(),j(),N}}};var u="*",c="_",d="+",f="-",p=".",h=" ",m="\n",g="\t",y=")",v="x",b=4,_=/\n\n(?!\s*$)/,w=/^\[([ \t]|x|X)][ \t]/,E=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,O=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,S=/^( {1,4}|\t)?/gm;function T(e,t,n){var r,o,i=e.offset,a=null;return t=(e.options.pedantic?C:k).apply(null,arguments),e.options.gfm&&(r=t.match(w))&&(o=r[0].length,a=r[1].toLowerCase()===v,i[n.line]+=o,t=t.slice(o)),{type:"listItem",spread:_.test(t),checked:a,children:e.tokenizeBlock(t,n)}}function C(e,t,n){var r=e.offset,o=n.line;return t=t.replace(O,i),o=n.line,t.replace(S,i);function i(e){return r[o]=(r[o]||0)+e.length,o++,""}}function k(e,t,n){var r,i,l,u,c,d,f,p=e.offset,g=n.line;for(u=(t=t.replace(E,(function(e,t,n,a,s){return i=t+n+a,l=s,Number(n)<10&&i.length%2==1&&(n=h+n),(r=t+o(h,n.length)+a)+l}))).split(m),(c=s(t,a(r).indent).split(m))[0]=l,p[g]=(p[g]||0)+i.length,g++,d=0,f=u.length;++d<f;)p[g]=(p[g]||0)+u[d].length-c[d].length,g++;return c.join(m)}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var c,d,f,p,h=-1,m=t.length+1,g="";++h<m&&((c=t.charAt(h))===r||c===i);)g+=c;if(c===a||c===s||c===l)for(d=c,g+=c,f=1,p="";++h<m;)if((c=t.charAt(h))===d)f++,g+=p+d,p="";else{if(c!==i)return f>=u&&(!c||c===o)?(g+=p,!!n||e(g)({type:"thematicBreak"})):void 0;p+=c}};var r="\t",o="\n",i=" ",a="*",s="-",l="_",u=3},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var l,u,c,d=this.options.pedantic,f=t.length+1,p=-1,h=e.now(),m="",g="";++p<f;){if((l=t.charAt(p))!==i&&l!==o){p--;break}m+=l}for(c=0;++p<=f;){if((l=t.charAt(p))!==a){p--;break}m+=l,c++}if(!(c>s)&&c&&(d||t.charAt(p+1)!==a)){for(f=t.length+1,u="";++p<f;){if((l=t.charAt(p))!==i&&l!==o){p--;break}u+=l}if(d||0!==u.length||!l||l===r){if(n)return!0;for(m+=u,u="",g="";++p<f&&(l=t.charAt(p))&&l!==r;)if(l===i||l===o||l===a){for(;l===i||l===o;)u+=l,l=t.charAt(++p);if(d||!g||u||l!==a){for(;l===a;)u+=l,l=t.charAt(++p);for(;l===i||l===o;)u+=l,l=t.charAt(++p);p--}else g+=l}else g+=u+l,u="";return h.column+=m.length,h.offset+=m.length,e(m+=g+u)({type:"heading",depth:c,children:this.tokenizeInline(g,h)})}}};var r="\n",o="\t",i=" ",a="#",s=6},function(e,t,n){"use strict";var r=n(5),o=n(17);e.exports=function(e,t,n){for(var u,c,d,f,p,h,m,g,y,v=this.offset,b=this.blockTokenizers,_=this.interruptBlockquote,w=e.now(),E=w.line,O=t.length,S=[],T=[],C=[],k=0;k<O&&((c=t.charAt(k))===s||c===a);)k++;if(t.charAt(k)===l){if(n)return!0;for(k=0;k<O;){for(m=k,g=!1,-1===(f=t.indexOf(i,k))&&(f=O);k<O&&((c=t.charAt(k))===s||c===a);)k++;if(t.charAt(k)===l?(k++,g=!0,t.charAt(k)===s&&k++):k=m,p=t.slice(k,f),!g&&!r(p)){k=m;break}if(!g&&(d=t.slice(k),o(_,b,this,[e,d,!0])))break;h=m===k?p:t.slice(m,f),C.push(k-m),S.push(h),T.push(p),k=f+1}for(k=-1,O=C.length,u=e(S.join(i));++k<O;)v[E]=(v[E]||0)+C[k],E++;return y=this.enterBlock(),T=this.tokenizeBlock(T.join(i),w),y(),u({type:"blockquote",children:T})}};var i="\n",a="\t",s=" ",l=">"},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n){var d,f,p,h,m,g,y,v,b,_,w,E,O,S=this.options.gfm,T=t.length+1,C=0,k="";if(S){for(;C<T&&((p=t.charAt(C))===a||p===i);)k+=p,C++;if(E=C,(p=t.charAt(C))===s||p===l){for(C++,f=p,d=1,k+=p;C<T&&(p=t.charAt(C))===f;)k+=p,d++,C++;if(!(d<u)){for(;C<T&&((p=t.charAt(C))===a||p===i);)k+=p,C++;for(h="",y="";C<T&&(p=t.charAt(C))!==o&&p!==s&&p!==l;)p===a||p===i?y+=p:(h+=y+p,y=""),C++;if(!(p=t.charAt(C))||p===o){if(n)return!0;for((O=e.now()).column+=k.length,O.offset+=k.length,k+=h,h=this.decode.raw(this.unescape(h),O),y&&(k+=y),y="",_="",w="",v="",b="";C<T;)if(v+=_,b+=w,_="",w="",(p=t.charAt(C))===o){for(v?(_+=p,w+=p):k+=p,y="",C++;C<T&&(p=t.charAt(C))===a;)y+=p,C++;if(_+=y,w+=y.slice(E),!(y.length>=c)){for(y="";C<T&&(p=t.charAt(C))===f;)y+=p,C++;if(_+=y,w+=y,!(y.length<d)){for(y="";C<T&&((p=t.charAt(C))===a||p===i);)_+=p,w+=p,C++;if(!p||p===o)break}}}else v+=p,w+=p,C++;for(k+=v+_,C=-1,T=h.length;++C<T;)if((p=h.charAt(C))===a||p===i)m||(m=h.slice(0,C));else if(m){g=h.slice(C);break}return e(k)({type:"code",lang:m||h||null,meta:g||null,value:r(b)})}}}}};var o="\n",i="\t",a=" ",s="~",l="`",u=3,c=4},function(e,t,n){"use strict";var r=n(3),o=n(18);e.exports=function(e,t,n){for(var r,u,c,d=-1,f=t.length,p="",h="",m="",g="";++d<f;)if(r=t.charAt(d),c)if(c=!1,p+=m,h+=g,m="",g="",r===i)m=r,g=r;else for(p+=r,h+=r;++d<f;){if(!(r=t.charAt(d))||r===i){g=r,m=r;break}p+=r,h+=r}else if(r===s&&t.charAt(d+1)===r&&t.charAt(d+2)===r&&t.charAt(d+3)===r)m+=l,d+=3,c=!0;else if(r===a)m+=r,c=!0;else{for(u="";r===a||r===s;)u+=r,r=t.charAt(++d);if(r!==i)break;m+=u+r,g+=r}if(h)return!!n||e(p)({type:"code",lang:null,meta:null,value:o(h)})};var i="\n",a="\t",s=" ",l=r(s,4)},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){var i,a,s,l,u=t.charAt(0);if(u===o){if(n)return!0;for(l=1,i=t.length,a=u,s="";l<i&&(u=t.charAt(l),r(u));)s+=u,u===o&&(a+=s,s=""),l++;e(a)}};var o="\n"},function(e,t,n){"use strict";var r=n(13);function o(e){delete e.position}function i(e){e.position=void 0}e.exports=function(e,t){return r(e,t?o:i),e}},function(e,t,n){"use strict";var r=n(0),o=n(164);e.exports=function(){var e,t=String(this.file),n={line:1,column:1,offset:0},s=r(n);return 65279===(t=t.replace(a,i)).charCodeAt(0)&&(t=t.slice(1),s.column++,s.offset++),e={type:"root",children:this.tokenizeBlock(t,s),position:{start:n,end:this.eof||r(n)}},this.options.position||o(e,!0),e};var i="\n",a=/\r\n|\r/g},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";var r=n(0),o=n(34),i=n(33);e.exports=function(e){var t,n,a=this.options;if(null==e)e={};else{if("object"!=typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=r(e)}for(t in i){if(null==(n=e[t])&&(n=a[t]),"blocks"!==t&&"boolean"!=typeof n||"blocks"===t&&"object"!=typeof n)throw new Error("Invalid value `"+n+"` for setting `options."+t+"`");e[t]=n}return this.options=e,this.escape=o(e),this}},function(e,t,n){"use strict";function r(e){var t,n;return"text"!==e.type||!e.position||(t=e.position.start,n=e.position.end,t.line!==n.line||n.column-t.column===e.value.length)}function o(e,t){return e.value+=t.value,e}function i(e,t){return this.options.commonmark?t:(e.children=e.children.concat(t.children),e)}e.exports=function(e){return function(t,n){var a,s,l,u,c,d=this,f=d.offset,p=[],h=d[e+"Methods"],m=d[e+"Tokenizers"],g=n.line,y=n.column;if(!t)return p;for(w.now=b,w.file=d.file,v("");t;){for(a=-1,s=h.length,u=!1;++a<s&&(!(l=m[h[a]])||l.onlyAtStart&&!d.atStart||l.notInList&&d.inList||l.notInBlock&&d.inBlock||l.notInLink&&d.inLink||(c=t.length,l.apply(d,[w,t]),!(u=c!==t.length))););u||d.file.fail(new Error("Infinite loop"),w.now())}return d.eof=b(),p;function v(e){for(var t=-1,n=e.indexOf("\n");-1!==n;)g++,t=n,n=e.indexOf("\n",n+1);-1===t?y+=e.length:y=e.length-t,g in f&&(-1!==t?y+=f[g]:y<=f[g]&&(y=f[g]+1))}function b(){var e={line:g,column:y};return e.offset=d.toOffset(e),e}function _(){var e=b();return function(t,n){var r=t.position,o=r?r.start:e,i=[],a=r&&r.end.line,s=e.line;if(t.position=new function(e){this.start=e,this.end=b()}(o),r&&n&&r.indent){if(i=r.indent,a<s){for(;++a<s;)i.push((f[a]||0)+1);i.push(e.column)}n=i.concat(n)}return t.position.indent=n||[],t}}function w(e){var n=function(){var e=[],t=g+1;return function(){for(var n=g+1;t<n;)e.push((f[t]||0)+1),t++;return e}}(),a=_(),s=b();return function(e){t.substring(0,e.length)!==e&&d.file.fail(new Error("Incorrectly eaten value: please report this warning on https://git.io/vg5Ft"),b())}(e),l.reset=u,u.test=c,l.test=c,t=t.substring(e.length),v(e),n=n(),l;function l(e,t){return a(function(e,t){var n=t?t.children:p,a=n[n.length-1];return a&&e.type===a.type&&("text"===e.type||"blockquote"===e.type)&&r(a)&&r(e)&&(e=("text"===e.type?o:i).call(d,a,e)),e!==a&&n.push(e),d.atStart&&0!==p.length&&d.exitStart(),e}(a(e),t),n)}function u(){var n=l.apply(null,arguments);return g=s.line,y=s.column,t=e+t,n}function c(){var n=a({});return g=s.line,y=s.column,t=e+t,n.position}}}}},function(e,t,n){"use strict";var r;e.exports=function(e){var t,n="&"+e+";";return(r=r||document.createElement("i")).innerHTML=n,(";"!==(t=r.textContent).slice(-1)||"semi"===e)&&t!==n&&t}},function(e){e.exports={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"}},function(e,t,n){"use strict";var r=n(0),o=n(9);e.exports=function(e){return n.raw=function(e,n,a){return o(e,r(a,{position:t(n),warning:i}))},n;function t(t){for(var n=e.offset,r=t.line,o=[];++r&&r in n;)o.push((n[r]||0)+1);return{start:t,indent:o}}function n(n,r,a){o(n,{position:t(r),warning:i,text:a,reference:a,textContext:e,referenceContext:e})}function i(t,n,r){3!==r&&e.file.message(t,n)}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(n){for(var o,i=0,a=n.indexOf(r),s=e[t],l=[];-1!==a;)l.push(n.slice(i,a)),i=a+1,(o=n.charAt(i))&&-1!==s.indexOf(o)||l.push(r),a=n.indexOf(r,i+1);return l.push(n.slice(i)),l.join("")}};var r="\\"},function(e,t,n){"use strict";e.exports=function(e){var t=function(e){for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(n+1),n=e.indexOf("\n",n+1);return t.push(e.length+1),t}(String(e));return{toPosition:function(e){return function(t){var n=-1,r=e.length;if(t<0)return{};for(;++n<r;)if(e[n]>t)return{line:n+1,column:t-(e[n-1]||0)+1,offset:t};return{}}}(t),toOffset:function(e){return function(t){var n=t&&t.line,r=t&&t.column;return isNaN(n)||isNaN(r)||!(n-1 in e)?-1:(e[n-2]||0)+r-1||0}}(t)}}},function(e,t,n){"use strict";var r=n(0),o=n(35),i=n(173),a=n(172),s=n(171),l=n(168);function u(e,t){this.file=t,this.offset={},this.options=r(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=i(t).toOffset,this.unescape=a(this,"escape"),this.decode=s(this)}e.exports=u;var c=u.prototype;function d(e){var t,n=[];for(t in e)n.push(t);return n}c.setOptions=n(167),c.parse=n(165),c.options=n(33),c.exitStart=o("atStart",!0),c.enterList=o("inList",!1),c.enterLink=o("inLink",!1),c.enterBlock=o("inBlock",!1),c.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],c.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],c.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],c.blockTokenizers={newline:n(163),indentedCode:n(162),fencedCode:n(161),blockquote:n(160),atxHeading:n(159),thematicBreak:n(158),list:n(157),setextHeading:n(155),html:n(154),footnote:n(153),definition:n(152),table:n(151),paragraph:n(150)},c.inlineTokenizers={escape:n(149),autoLink:n(147),url:n(146),html:n(144),link:n(143),reference:n(142),strong:n(141),emphasis:n(139),deletion:n(136),code:n(134),break:n(132),text:n(130)},c.blockMethods=d(c.blockTokenizers),c.inlineMethods=d(c.inlineTokenizers),c.tokenizeBlock=l("block"),c.tokenizeInline=l("inline"),c.tokenizeFactory=l},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(36),o=n(0),i=n(174);function a(e){var t=this.data("settings"),n=r(i);n.prototype.options=o(n.prototype.options,t,e),this.Parser=n}e.exports=a,a.Parser=i},function(e){e.exports={strip:["script"],clobberPrefix:"user-content-",clobber:["name","id"],ancestors:{li:["ol","ul"],tbody:["table"],tfoot:["table"],thead:["table"],td:["table"],th:["table"],tr:["table"]},protocols:{href:["http","https","mailto"],cite:["http","https"],src:["http","https"],longDesc:["http","https"]},tagNames:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details"],attributes:{a:["href"],img:["src","longDesc"],div:["itemScope","itemType"],blockquote:["cite"],del:["cite"],ins:["cite"],q:["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charoff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hspace","isMap","id","label","lang","maxLength","media","method","multiple","name","nohref","noshade","nowrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","valign","value","vspace","width","itemProp"]}}},function(e,t,n){"use strict";var r=n(0),o=n(177);e.exports=function(e,t){var n,i={type:"root",children:[]};return e&&"object"==typeof e&&e.type&&(n=s(r(o,t||{}),e,[]))?"length"in n?1===n.length?n[0]:(i.children=n,i):n:i};var i={}.hasOwnProperty,a={root:{children:l},doctype:function(e){return e.allowDoctypes?{name:d}:null},comment:function(e){return e.allowComments?{value:p}:null},element:{tagName:f,properties:function(e,t,n,r){var o,a,s,l=f(e,n.tagName,n,r),d=e.attributes,p=t||{},h={};for(a in o=i.call(d,l)?d[l]:[],o=[].concat(o,d["*"]),p)s=p[a],(-1!==o.indexOf(a)||m(a)&&-1!==o.indexOf("data*"))&&null!==(s=s&&"object"==typeof s&&"length"in s?u(e,s,a):c(e,s,a))&&void 0!==s&&(h[a]=s);return h},children:l},text:{value:p},"*":{data:h,position:h}};function s(e,t,n){var o,s,l,u,c=t&&t.type,d={type:t.type},f=!0;if(i.call(a,c))if("function"==typeof(o=a[c])&&(o=o(e,t)),o)for(u in s=r(o,a["*"]))!1===(l=s[u](e,t[u],t,n))?(f=!1,d[u]=t[u]):null!=l&&(d[u]=l);else f=!1;else f=!1;return f?d:d.children&&0!==d.children.length&&-1===e.strip.indexOf(d.tagName)?d.children:null}function l(e,t,n,r){var o,i=t||[],a=i.length||0,l=[],u=-1;for(r=r.concat(n.tagName);++u<a;)(o=s(e,i[u],r))&&("length"in o?l=l.concat(o):l.push(o));return l}function u(e,t,n){for(var r,o=t.length,i=[],a=-1;++a<o;)null!==(r=c(e,t[a],n))&&void 0!==r&&i.push(r);return i}function c(e,t,n){return"boolean"!=typeof t&&"number"!=typeof t&&"string"!=typeof t?null:function(e,t,n){var r,o,a,s,l,u=e.protocols;if(0===(u=i.call(u,n)?u[n].concat():[]).length)return!0;if("#"===(o=(t=String(t)).charAt(0))||"/"===o)return!0;if(-1===(a=t.indexOf(":")))return!0;for(s=u.length,l=-1;++l<s;)if(a===(r=u[l]).length&&t.slice(0,r.length)===r)return!0;return-1!==(l=t.indexOf("?"))&&a>l||-1!==(l=t.indexOf("#"))&&a>l}(e,t,n)?(-1!==e.clobber.indexOf(n)&&(t=e.clobberPrefix+t),t):null}function d(){return"html"}function f(e,t,n,r){var o,a,s="string"==typeof t?t:null,l=e.ancestors;if(!s||"*"===s||-1===e.tagNames.indexOf(s))return!1;if(0!==(l=i.call(l,s)?l[s]:[]).length)for(o=l.length+1,a=-1;++a<o;){if(!l[a])return!1;if(-1!==r.indexOf(l[a]))break}return s}function p(e,t){return"string"==typeof t?t:""}function h(e,t){return t}function m(e){return e.length>4&&"data"===e.slice(0,4).toLowerCase()}},function(e,t,n){"use strict";e.exports=n(178)},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t){return e.dangerous?t.value:r(e,t)}},function(e,t,n){"use strict";e.exports=function(e,t){return"\x3c!--"+t.value+"--\x3e"}},function(e,t,n){"use strict";function r(e){var t=-1===e.indexOf('"')?'"':"'";return t+e+t}e.exports=function(e,t){var n=e.tightDoctype?"":" ",o=t.name,i=t.public,a=t.system,s=["<!doctype"];return o&&(s.push(n,o),null!=i?s.push(" public",n,r(i)):null!=a&&s.push(" system"),null!=a&&s.push(n,r(a))),s.join("")+">"}},function(e,t,n){"use strict";var r=[" ","\t","\n","\r","\f"],o=r.concat("&","/",">","="),i=r.concat("&",">"),a=i.concat("\0",'"',"'","<","=","`"),s=["&","'"],l=["&",'"'];e.exports={name:[[o,o.concat('"',"'","`")],[o.concat("\0",'"',"'","<"),o.concat("\0",'"',"'","<","`")]],unquoted:[[i,a],[a,a]],single:[[s,s.concat('"',"`")],[s.concat("\0"),s.concat("\0",'"',"`")]],double:[[l,l.concat("'","`")],[l.concat("\0"),l.concat("\0","'","`")]]}},function(e,t,n){"use strict";t.parse=function(e){for(var t,n=[],i=String(e||a),s=i.indexOf(o),l=0,u=!1;!u;)-1===s&&(s=i.length,u=!0),!(t=r(i.slice(l,s)))&&u||n.push(t),l=s+1,s=i.indexOf(o,l);return n},t.stringify=function(e,t){var n=t||{},s=!1===n.padLeft?a:i,l=n.padRight?i:a;return e[e.length-1]===a&&(e=e.concat(a)),r(e.join(l+o+s))};var r=n(5),o=",",i=" ",a=""},function(e,t,n){"use strict";var r=n(5);t.parse=function(e){var t=r(String(e||o));return t===o?[]:t.split(a)},t.stringify=function(e){return r(e.join(i))};var o="",i=" ",a=/[ \t\n\r\f]+/g},function(e,t,n){"use strict";var r=n(58),o=n(57),i=n(56),a="data";e.exports=function(e,t){var n=r(t),f=t,p=i;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===a&&s.test(t)&&("-"===t.charAt(4)?f=function(e){var t=e.slice(5).replace(l,d);return a+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);return l.test(t)?e:("-"!==(t=t.replace(u,c)).charAt(0)&&(t="-"+t),a+t)}(t),p=o),new p(f,t))};var s=/^data[-a-z0-9.:_]+$/i,l=/-[a-z]/g,u=/[A-Z]/g;function c(e){return"-"+e.toLowerCase()}function d(e){return e.charAt(1).toUpperCase()}},function(e,t,n){"use strict";var r=n(0),o=n(50),i=n(186),a=n(185).stringify,s=n(184).stringify,l=n(19),u=n(37),c=n(43),d=n(183);e.exports=function(e,t,n,r){var i,a,s,l,u,d=e.schema,g=t.tagName,w="",E=t;return"html"===d.space&&"svg"===g&&(e.schema=o),u=function(e,t){var n,r,o,i,a,s,l=[];for(n in t)null!=(r=t[n])&&(o=_(e,n,r))&&l.push(o);for(i=l.length,a=-1;++a<i;)o=l[a],s=null,"html"===e.schema.space&&e.tight&&(s=o.charAt(o.length-1)),a!==i-1&&s!==h&&s!==m&&(l[a]=o+p);return l.join(f)}(e,t.properties),"svg"===e.schema.space?(s=!1,a=!0,i=e.closeEmpty):(s=e.omit,a=e.close,i=-1!==e.voids.indexOf(g.toLowerCase()),"template"===g&&(E=t.content)),i=!(l=c(e,E))&&i,!u&&s&&s.opening(t,n,r)||(w=y+g+(u?p+u:f),i&&a&&(e.tightClose&&u.charAt(u.length-1)!==b||(w+=p),w+=b),w+=v),w+=l,i||s&&s.closing(t,n,r)||(w+=y+b+g+v),e.schema=d,w};var f="",p=" ",h='"',m="'",g="=",y="<",v=">",b="/";function _(e,t,n){var o=e.schema,c=o.space,p=i(o,t),h=p.attribute;if(!p.overloadedBoolean||n!==h&&""!==n?(p.boolean||p.overloadedBoolean&&"string"!=typeof n)&&(n=Boolean(n)):n=!0,null==n||!1===n||"number"==typeof n&&isNaN(n))return f;if(h=function(e,t){var n="html"===e.schema.space?e.valid:1,o=d.name[n][e.safe];return l(t,r(e.entities,{subset:o}))}(e,h),!0===n){if("html"===c)return h;n=h}return h+function(e,t,n,o){var i,c,f=e.entities,p=e.quote,h=e.alternative,y=e.schema.space;return"object"==typeof n&&"length"in n&&(n=(o.commaSeparated?s:a)(n,{padLeft:!e.tightLists})),n=String(n),("html"!==y||n||!e.collapseEmpty)&&(i=n,"html"===y&&e.unquoted&&(c=d.unquoted[e.valid][e.safe],i=l(n,r(f,{subset:c,attribute:!0}))),"html"===y&&e.unquoted&&i===n||(h&&u(n,p)>u(n,h)&&(p=h),c=(c=p===m?d.single:d.double)["html"===y?e.valid:1][e.safe],n=p+(n=l(n,r(f,{subset:c,attribute:!0})))+p),n=n?g+n:n),n}(e,0,n,p)}},function(e){e.exports=["cent","copy","divide","gt","lt","not","para","times"]},function(e){e.exports={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"}},function(e,t,n){"use strict";e.exports=function(e,t){return e&&e.children&&e.children.indexOf(t)}},function(e,t,n){"use strict";var r=n(20).after;e.exports=function(e,t){return r(e,-1,t)}},function(e,t,n){"use strict";var r=n(12),o=n(49),i=n(20).before,a=n(191),s=n(190),l=n(47),u=n(46),c=n(45),d={}.hasOwnProperty,f=["title","base"],p=["meta","link","script","style","template"],h=["thead","tbody"],m="tr";e.exports=c({html:function(e){var t=a(e);return!t||!r("comment",t)},head:function(e){for(var t,n,r=e.children,i=r.length,a={},s=-1;++s<i;)if(n=(t=r[s]).tagName,o(t,f)){if(d.call(a,n))return!1;a[n]=!0}return Boolean(i)},body:function(e){var t=a(e,!0);return!t||!r("comment",t)&&!l(t)&&!o(t,p)},colgroup:function(e,t,n){var r=i(n,t),l=a(e,!0);return(!o(r,"colgroup")||!u(r,s(n,r),n))&&l&&o(l,"col")},tbody:function(e,t,n){var r=i(n,t),l=a(e);return(!o(r,h)||!u(r,s(n,r),n))&&l&&o(l,m)}})},function(e,t,n){"use strict";t.opening=n(192),t.closing=n(46)},function(e){e.exports=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]},function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(52),a=r.boolean,s=r.number,l=r.spaceSeparated,u=r.commaSeparated,c=r.commaOrSpaceSeparated;e.exports=o({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i,properties:{about:c,accentHeight:s,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:s,amplitude:s,arabicForm:null,ascent:s,attributeName:null,attributeType:null,azimuth:s,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:s,by:null,calcMode:null,capHeight:s,className:l,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:s,diffuseConstant:s,direction:null,display:null,dur:null,divisor:s,dominantBaseline:null,download:a,dx:null,dy:null,edgeMode:null,editable:null,elevation:s,enableBackground:null,end:null,event:null,exponent:s,externalResourcesRequired:null,fill:null,fillOpacity:s,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:u,g2:u,glyphName:u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:s,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:s,horizOriginX:s,horizOriginY:s,id:null,ideographic:s,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:s,k:s,k1:s,k2:s,k3:s,k4:s,kernelMatrix:c,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:s,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:s,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:s,overlineThickness:s,paintOrder:null,panose1:null,path:null,pathLength:s,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:s,pointsAtY:s,pointsAtZ:s,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:c,r:null,radius:null,refX:null,refY:null,rel:c,rev:c,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:c,requiredFeatures:c,requiredFonts:c,requiredFormats:c,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:s,specularExponent:s,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:s,strikethroughThickness:s,string:null,stroke:null,strokeDashArray:c,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:s,strokeOpacity:s,strokeWidth:null,style:null,surfaceScale:s,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:c,tabIndex:s,tableValues:null,target:null,targetX:s,targetY:s,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:c,to:null,transform:null,u1:null,u2:null,underlinePosition:s,underlineThickness:s,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:s,values:null,vAlphabetic:s,vMathematical:s,vectorEffect:null,vHanging:s,vIdeographic:s,version:null,vertAdvY:s,vertOriginX:s,vertOriginY:s,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:s,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})},function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(53),a=r.boolean,s=r.overloadedBoolean,l=r.booleanish,u=r.number,c=r.spaceSeparated,d=r.commaSeparated;e.exports=o({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:c,accessKey:c,action:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:c,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:c,cols:u,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:c,coords:u|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:c,height:u,hidden:a,high:u,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:c,itemRef:c,itemScope:a,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loop:a,low:u,manifest:null,max:null,maxLength:u,media:null,method:null,min:null,minLength:u,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,open:a,optimum:u,pattern:null,ping:c,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:c,required:a,reversed:a,rows:u,rowSpan:u,sandbox:c,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:u,sizes:null,slot:null,span:u,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:u,step:null,style:null,tabIndex:u,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:u,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:u,borderColor:null,bottomMargin:u,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:u,leftMargin:u,link:null,longDesc:null,lowSrc:null,marginHeight:u,marginWidth:u,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:u,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:u,valueType:null,version:null,vAlign:null,vLink:null,vSpace:u,allowTransparency:null,autoCorrect:null,autoSave:null,prefix:null,property:null,results:u,security:null,unselectable:null}})},function(e,t,n){"use strict";var r=n(61),o=n(59),i=n(55),a=n(54),s=n(51),l=n(196);e.exports=r([i,o,a,s,l])},function(e,t,n){"use strict";var r=n(197),o=n(50),i=n(194),a=n(193),s=n(44);e.exports=function(e,t){var n=t||{},c=n.quote||l,d=c===l?u:l,f=n.quoteSmart;if(c!==l&&c!==u)throw new Error("Invalid quote `"+c+"`, expected `"+u+"` or `"+l+"`");return s({valid:n.allowParseErrors?0:1,safe:n.allowDangerousCharacters?0:1,schema:"svg"===n.space?o:r,omit:n.omitOptionalTags&&a,quote:c,alternative:f?d:null,unquoted:Boolean(n.preferUnquoted),tight:n.tightAttributes,tightDoctype:Boolean(n.tightDoctype),tightLists:n.tightCommaSeparatedLists,tightClose:n.tightSelfClosing,collapseEmpty:n.collapseEmptyAttributes,dangerous:n.allowDangerousHTML,voids:n.voids||i.concat(),entities:n.entities||{},close:n.closeSelfClosing,closeEmpty:n.closeEmptyElements},e)};var l='"',u="'"},function(e,t,n){"use strict";e.exports=n(198)},function(e,t,n){"use strict";e.exports=function(e){return String(e).replace(r,o)};var r=/[ \t]*\n+[ \t]*/g,o="\n"},function(e,t,n){"use strict";e.exports=function(e,t){return e.augment(t,r("text",o(t.value)))};var r=n(4),o=n(200)},function(e,t,n){"use strict";e.exports=function(e,t){for(var n,a,s,l,u,c=t.children,d=c.length,f=t.align,p=f.length,h=[];d--;){for(a=c[d].children,l=0===d?"th":"td",n=p,s=[];n--;)u=a[n],s[n]=e(u,l,{align:f[n]},u?i(e,u):[]);h[d]=e(c[d],"tr",o(s,!0))}return e(t,"table",o([e(h[0].position,"thead",o([h[0]],!0)),e({start:r.start(h[1]),end:r.end(h[h.length-1])},"tbody",o(h.slice(1),!0))],!0))};var r=n(68),o=n(7),i=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"strong",r(e,t))};var r=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){return e.augment(t,r("root",o(i(e,t))))};var r=n(4),o=n(7),i=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"p",r(e,t))};var r=n(1)},function(e,t,n){"use strict";e.exports=function(e,t,n){var s,l,u,c,d,f=t.children[0],p=i(e,t),h=n?function(e){for(var t=e.spread,n=e.children,r=n.length,o=-1;!t&&++o<r;)t=a(n[o]);return t}(n):a(t),m={};if(h)s=p;else for(s=[],c=p.length,u=-1;++u<c;)"p"===(d=p[u]).tagName?s=s.concat(d.children):s.push(d);return"boolean"==typeof t.checked&&(!h||f&&"paragraph"===f.type||s.unshift(e(null,"p",[])),0!==(l=h?s[0].children:s).length&&l.unshift(r("text"," ")),l.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),m.className=["task-list-item"]),h&&0!==s.length&&(s=o(s,!0)),e(t,"li",m,s)};var r=n(4),o=n(7),i=n(1);function a(e){var t=e.spread;return null==t?e.children.length>1:t}},function(e,t,n){"use strict";var r=n(11),o=n(1);e.exports=function(e,t){var n={href:r(t.url)};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"a",n,o(e,t))}},function(e,t,n){"use strict";e.exports=function(e,t){var n,a=e.definition(t.identifier);return a?(n={href:r(a.url||"")},null!==a.title&&void 0!==a.title&&(n.title=a.title),e(t,"a",n,i(e,t))):o(e,t)};var r=n(11),o=n(63),i=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"code",[o("text",r(t.value))])};var r=n(62),o=n(4)},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){var n={src:r(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"img",n)}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i=e.definition(t.identifier);return i?(n={src:r(i.url||""),alt:t.alt},null!==i.title&&void 0!==i.title&&(n.title=i.title),e(t,"img",n)):o(e,t)};var r=n(11),o=n(63)},function(e,t,n){"use strict";e.exports=function(e,t){return e.dangerous?e.augment(t,r("raw",t.value)):null};var r=n(4)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"h"+t.depth,r(e,t))};var r=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=[],o=1,i=e.footnotes,a=i.length,s=-1;++s<a;)n[s]=i[s].identifier;for(;-1!==n.indexOf(String(o));)o++;return o=String(o),i.push({type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position}),r(e,{type:"footnoteReference",identifier:o,position:t.position})};var r=n(64)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"em",r(e,t))};var r=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"del",r(e,t))};var r=n(1)},function(e,t,n){"use strict";e.exports=function(e,t){var n,s,l="string"==typeof e,u=l&&e.length,c=0,d=-1,f=-1,p=t||4,h=[];if(!l)throw new Error("detab expected string");for(;++d<u;)(n=e.charCodeAt(d))===o?(f+=s=p-(f+1)%p,h.push(e.slice(c,d)+r(" ",s)),c=d+1):n===i||n===a?f=-1:f++;return h.push(e.slice(c)),h.join("")};var r=n(3),o=9,i=10,a=13},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.value?r(t.value+"\n"):"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),a={};return i&&(a.className=["language-"+i]),e(t.position,"pre",[e(t,"code",a,[o("text",n)])])};var r=n(217),o=n(4)},function(e,t,n){"use strict";e.exports=function(e,t){return[e(t,"br"),r("text","\n")]};var r=n(4)},function(e,t,n){"use strict";e.exports=function(e,t){return e(t,"blockquote",r(o(e,t),!0))};var r=n(7),o=n(1)},function(e,t,n){"use strict";function r(){return null}e.exports={blockquote:n(220),break:n(219),code:n(218),delete:n(216),emphasis:n(215),footnoteReference:n(64),footnote:n(214),heading:n(213),html:n(212),imageReference:n(211),image:n(210),inlineCode:n(209),linkReference:n(208),link:n(207),listItem:n(206),list:n(65),paragraph:n(205),root:n(204),strong:n(203),table:n(202),text:n(201),thematicBreak:n(66),toml:r,yaml:r,definition:r,footnoteDefinition:r}},function(e,t,n){"use strict";e.exports=function(e){var t,n,a,s,l=e.footnotes,u=l.length,c=-1,d=[];if(!u)return null;for(;++c<u;)s=(a=(t=l[c]).children.concat())[a.length-1],n={type:"link",url:"#fnref-"+t.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:"↩"}]},s&&"paragraph"===s.type||(s={type:"paragraph",children:[]},a.push(s)),s.children.push(n),d[c]={type:"listItem",data:{hProperties:{id:"fn-"+t.identifier}},children:a,position:t.position};return e(null,"div",{className:["footnotes"]},i([r(e),o(e,{type:"list",ordered:!0,children:d})],!0))};var r=n(66),o=n(65),i=n(7)},function(e,t,n){"use strict";var r=n(13);e.exports=function(e,t){return function(e){return function(t){var n=t&&i(t);return n&&o.call(e,n)?e[n]:null}}(function(e,t){var n={};if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return r(e,"definition",t&&t.commonmark?function(e){var t=i(e.identifier);o.call(n,t)||(n[t]=e)}:function(e){n[i(e.identifier)]=e}),n}(e,t))};var o={}.hasOwnProperty;function i(e){return e.toUpperCase()}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e?e:{}}e.exports=function(e){var t=r(r(e).position),n=r(t.start),o=r(t.end);return!(n.line&&n.column&&o.line&&o.column)}},function(e,t,n){"use strict";e.exports=a;var r=n(12),o="skip",i=!1;function a(e,t,n,a){function s(e,l,u){var c;return(t&&!r(t,e,l,u[u.length-1]||null)||(c=n(e,u))!==i)&&e.children&&c!==o&&function(e,t){for(var n,r,o=a?-1:1,l=(a?e.length:-1)+o;l>-1&&l<e.length;){if((r=(n=e[l])&&s(n,l,t))===i)return r;l="number"==typeof r?r:l+o}}(e.children,u.concat(e))===i?i:c}"function"==typeof t&&"function"!=typeof n&&(a=n,n=t,t=null),s(e,null,[])}a.CONTINUE=!0,a.SKIP=o,a.EXIT=i},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))o.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";e.exports=function(e,t){var n=function(e,t){var n=t||{},o=n.allowDangerousHTML;return c.dangerous=o,c.definition=l(e,n),c.footnotes=[],c.augment=u,c.handlers=r(d,n.handlers||{}),i(e,"footnoteDefinition",(function(e){c.footnotes.push(e)})),c;function u(e,t){var n,o;return e&&"data"in e&&(n=e.data,"element"===t.type&&n.hName&&(t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties=r(t.properties,n.hProperties)),t.children&&n.hChildren&&(t.children=n.hChildren)),o=e&&e.position?e:{position:e},s(o)||(t.position={start:a.start(o),end:a.end(o)}),t}function c(e,t,n,r){return null==r&&"object"==typeof n&&"length"in n&&(r=n,n={}),u(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}(e,t),f=u(n,e),p=c(n);return f&&f.children&&p&&(f.children=f.children.concat(o("text","\n"),p)),f};var r=n(0),o=n(4),i=n(13),a=n(68),s=n(224),l=n(223),u=n(67),c=n(222),d=n(221)},function(e,t,n){"use strict";e.exports=n(227)},function(e,t,n){"use strict";var r=n(0),o=n(228),i=n(199),a=n(179);e.exports=function(e){var t=e||{},n=t.sanitize,s=n&&"object"==typeof n?n:null,l=t.handlers||{};this.Compiler=function(e,u){var c,d=e&&e.type&&"root"===e.type,f=o(e,{allowDangerousHTML:!n,handlers:l});return u.extname&&(u.extname=".html"),n&&(f=a(f,s)),c=i(f,r(t,{allowDangerousHTML:!n})),d&&"\n"!==c.charAt(c.length-1)&&(c+="\n"),c}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(229),i=n(176),a=n(129),s=n(89),l=n(76),u=n(75),c=n(74),d=n(73),f=n(72),p=n(71),h=n(70),m=n(69),g={commonmark:!0,pedantic:!0};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.compilerPlugins=this.constructor.getCompilerPlugins(),this.parser=s().use(i,g).use(this.constructor.getParserPlugins())}return r(e,[{key:"getParser",value:function(){return this.parser()}},{key:"sourceToHtml",value:function(e){return this.getParser().use(o,g).processSync(e).contents}},{key:"sourceToMarkdown",value:function(e){return this.getParser().use(a,g).use(this.compilerPlugins).processSync(e).contents}},{key:"sourceToMdast",value:function(e){return this.getParser().parse(e)}},{key:"sourceToRedactedMdast",value:function(e){return this.getParser().use({settings:{redact:!0}}).parse(e)}},{key:"sourceToRedacted",value:function(e){var t=this.sourceToRedactedMdast(e);return this.getParser().use(a,g).use(l).use(this.compilerPlugins).stringify(t)}},{key:"sourceAndRedactedToMergedMdast",value:function(e,t){var n=this.sourceToRedactedMdast(e);return this.getParser().use(u(n)).parse(t)}},{key:"sourceAndRedactedToMarkdown",value:function(e,t){var n=this.sourceAndRedactedToMergedMdast(e,t);return this.getParser().use(a,g).use(this.compilerPlugins).stringify(n)}},{key:"sourceAndRedactedToHtml",value:function(e,t){var n=this.sourceAndRedactedToMarkdown(e,t);return this.sourceToHtml(n)}}],[{key:"getParserPlugins",value:function(){return[c,h,m]}},{key:"getCompilerPlugins",value:function(){return[d,f,p]}},{key:"create",value:function(){return new e}}]),e}()}])},(e,t,n)=>{var r=n(537),o=n(538),i=n(539),a=n(540),s=n(541),l=n(542),u=n(543),c=n(544),d=n(545),f=n(546),p=n(547),h=n(548),m=n(549),g=n(550),y=n(551),v=n(552),b=n(553);e.exports={blockfield:r,blockly:o,codestudio:i,details:a,div:s,divclass:l,expandableImages:u,fontAwesomeIcon:c,indent:d,link:f,rawtext:p,resourceLink:h,tip:m,tiplink:g,visualCodeBlock:y,vocabularyDefinition:v,xmlAsTopLevelBlock:b}},e=>{var t,n,r,o,i=/^{([^}]+)}/,a="blockfield";function s(e,n,r){var o=i.exec(n);if(o&&t){if(r)return!0;var s=o[1];return e(o[0])({type:"inlineRedaction",redactionType:a,redactionData:s,redactionContent:[{type:"text",value:s}]})}}e.exports=function(){if(this.Parser){var e=this.Parser;t=e.prototype.options.redact,e.prototype.inlineTokenizers.blockfield=s;var n=e.prototype.inlineMethods;n.splice(n.indexOf("html"),0,a)}},e.exports.restorationMethods=(o=function(e){return{type:"rawtext",value:"{".concat(e.redactionData,"}")}},(r=a)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),s.notInLink=!0,s.locator=function(e,t){return e.indexOf("{",t)}},e=>{var t,n,r,o,i="blockly";function a(e,n,r){if(!t)return!1;if(!n.startsWith("<xml>"))return!1;var o="</xml>",a=n.indexOf(o);if(-1===a)return!1;if(r)return!0;var s=n.substring(0,a+o.length);return e(s)({type:"inlineRedaction",redactionType:i,redactionData:s,redactionContent:[{type:"text",value:"blockly block"}]})}e.exports=function(){if(this.Parser){var e=this.Parser;t=e.prototype.options.redact,["inline","block"].forEach((function(t){e.prototype["".concat(t,"Tokenizers")].blockly=a;var n=e.prototype["".concat(t,"Methods")];n.splice(n.indexOf("html"),0,i)}))}},e.exports.restorationMethods=(o=function(e){return{type:"rawtext",value:e.redactionData}},(r=i)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),a.notInLink=!0,a.locator=function(e,t){return e.indexOf("<",t)}},e=>{var t,n,r,o,i=/^(\[code-studio\s*)(\d+)?-?(\d+)?\]/,a="codestudio";function s(e,n,r){var o=i.exec(n);if(o){if(r)return!0;var s=e(o[0]),l=o[2],u=o[3];return s(t?{type:"inlineRedaction",redactionType:a,redactionData:{start:l,end:u}}:{type:"div",data:{hProperties:{className:"stage_guide",dataStart:l,dataEnd:u}}})}}e.exports=function(){if(this.Parser){var e=this.Parser;t=e.prototype.options.redact,e.prototype.inlineTokenizers.codestudio=s,e.prototype.inlineMethods.unshift(a)}},e.exports.restorationMethods=(o=function(e){var t="[code-studio";return e.redactionData.start&&(t+=" "+e.redactionData.start,e.redactionData.end&&(t+="-"+e.redactionData.end)),{type:"rawtext",value:t+="]"}},(r=a)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),s.notInLink=!0,s.locator=function(e,t){var n=e.indexOf("[code-studio");if(n>=t)return n}},e=>{function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r,o,i,a,s=":";function l(e,t,n){var o=0,i=t.charAt(o),a="";if(i!==s)return!1;var l=function(){a+=i,o++,i=t.charAt(o)},u=function(e){for(var n="";o<t.length&&!e();)n+=i,l();return n},c=function(){return u((function(){return!(" "===i||"\t"===i)}))};if(u((function(){return i!==s})),!(o<3)){var d=o;if(c(),"details"===u((function(){return" "===i||"\t"===i}))){if(c(),"["!==i)return!1;l();var f=u((function(){return"]"===i}));if(l(),c(),u((function(){return i!==s})),c(),"\n"!==i)return!1;l();for(var p,h="",m=!1;o<t.length;){if(i===s){var g=u((function(){return i!==s}));if(g.length>=d&&(""===i||"\n"===i)){m=!0;break}h+=g}h+=(p=void 0,p=u((function(){return"\n"===i}))+i,l(),p)}if(!m)return!1;var y=e.now(),v=e(a),b=this.tokenizeInline(f,y),_=this.enterBlock(),w=this.tokenizeBlock(h,y);return _(),v(r?{type:"blockRedaction",children:w,redactionType:"details",redactionContent:b,redactionData:d}:{type:"details",data:{hName:"details"},children:[{type:"summary",data:{hName:"summary"},children:b}].concat(w)})}}}e.exports=function(){var e=this.Parser;if(e){var t=e.prototype.blockTokenizers,n=e.prototype.blockMethods;r=e.prototype.options.redact,t.details=l,n.splice(n.indexOf("paragraph"),0,"details")}},e.exports.restorationMethods=(a=function(e,n,r){var o=e.redactionData,i={type:"paragraph",children:[{type:"rawtext",value:"".concat(s.repeat(o)," details [").concat(n,"]")}]},a=r,l={type:"paragraph",children:[{type:"rawtext",value:s.repeat(o)}]};return[i].concat(t(a),[l])},(i="details")in(o={})?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o),l.notInLink=!0},e=>{e.exports=function(){if(this.Compiler){var e=this.Compiler.prototype.visitors;e&&(e.div=function(e){var t=e.data.hProperties.className;return["[".concat(t,"]"),this.block(e),"[/".concat(t,"]")].join("\n\n")})}}},e=>{function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r,o,i,a,s=/^\[([\w-]+)\] *\n *\n/,l="divclass";function u(e,t,n){var o=s.exec(t);if(o){var i,a,l,u=o[0],c=o[0].length,d=o[1],f=new RegExp("\\[".concat(d,"\\] *\\n *\\n"),"g"),p=new RegExp("\\n *\\n *\\[\\/".concat(d,"\\]"),"g");p.lastIndex=c;do{if(i=p.exec(t),0===p.lastIndex)return;l=p.lastIndex-i[0].length,a=t.slice(c,l)}while(a.split(f).length!==a.split(p).length);if(n)return!0;var h=i[0],m=this.tokenizeBlock(a,e.now()),g=e(u+a+h);return g(r?{type:"blockRedaction",children:m,redactionData:d,redactionType:"divclass"}:{type:"div",children:m,data:{hProperties:{className:d}}})}}e.exports=function(){var e=this.Parser;if(e){var t=e.prototype.blockTokenizers,n=e.prototype.blockMethods;r=e.prototype.options.redact,t.divclass=u,n.splice(n.indexOf("paragraph"),0,l)}},e.exports.restorationMethods=(a=function(e,n,r){var o={type:"paragraph",children:[{type:"rawtext",value:"[".concat(e.redactionData,"]")}]};r&&r.length||(r=[{type:"text",value:""}]);var i={type:"paragraph",children:[{type:"rawtext",value:"[/".concat(e.redactionData,"]")}]};return[o].concat(t(r),[i])},(i=l)in(o={})?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o),u.notInLink=!0},e=>{e.exports=function(){var e=this.Parser.prototype.inlineTokenizers,t=e.link;e.link=function(e,n,r){var o=t.call(this,e,n,r);return o&&"image"===o.type&&o.alt&&o.alt.endsWith("expandable")&&(o.type="span",o.data={hName:"span",hProperties:{dataUrl:o.url,className:"expandable-image"}},o.children=[{type:"text",value:o.alt.substr(0,-1*"expandable".length).trim()}]),o},e.link.locator=t.locator}},e=>{var t,n,r,o,i=/^<i class="fa fa-([a-z\-]+)" aria-hidden="true"><\/i>/,a="fontAwesomeIcon";function s(e,n,r){if(t){var o=i.exec(n);if(o){if(r)return!0;var s=e(o[0]),l=o[1];return s({type:"inlineRedaction",redactionType:a,redactionData:l,redactionContent:[{type:"text",value:l}]})}}}e.exports=function(){if(this.Parser){var e=this.Parser;t=e.prototype.options.redact,e.prototype.inlineTokenizers.fontAwesomeIcon=s;var n=e.prototype.inlineMethods;n.splice(n.indexOf("html"),0,a)}},e.exports.restorationMethods=(o=function(e){return{type:"html",value:'<i class="fa fa-'.concat(e.redactionData,'" aria-hidden="true"></i>')}},(r=a)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),s.notInLink=!0,s.locator=function(e,t){return e.indexOf('<i class="fa fa-',t)}},e=>{e.exports=function(){if(this.Compiler){var e=this.Compiler.prototype.visitors;e&&(e.indent=function(e){var t="    ",n="\n";return this.all(e).map((function(e){return t+e.split(n).join("\n    ")})).join("\n\n")})}}},e=>{function t(e){e.redactionType=e.type,e.type="inlineRedaction",e.redactionData={url:e.url,title:e.title},delete e.url,delete e.title,e.redactionContent=e.children}e.exports=function(){var e=this.Parser;if(e){if(!e.prototype.options.redact)return;var n=e.prototype.inlineTokenizers,r=n.link;n.link=function(e,n,o){var i,a=r.call(this,e,n,o);a&&("link"===a.type?t(a):"image"===a.type&&((i=a).redactionType=i.type,i.type="inlineRedaction",i.redactionData={url:i.url},delete i.url,i.redactionContent=[{type:"text",value:i.alt||""}],delete i.alt))},n.link.locator=r.locator;var o=n.autoLink;n.autoLink=function(e,n,r){var i=o.call(this,e,n,r);i&&t(i)},n.autoLink.locator=o.locator}},e.exports.restorationMethods={link:function(e,t,n){return t&&(n=[{type:"text",value:t}]),{type:"link",url:e.redactionData.url,title:e.redactionData.title,children:n||[]}},image:function(e,t){return{type:"image",url:e.redactionData.url,alt:t}}}},e=>{e.exports=function(){if(this.Compiler){var e=this.Compiler.prototype.visitors;e&&(e.rawtext=function(e){return this.encode(e.value,e)})}}},e=>{var t,n,r,o,i=/^\[r ([a-z0-9\-\_]+)\/([a-z\-]+)\/(\d+)\]/,a="resourceLink";function s(e,n,r){var o=i.exec(n);if(o){if(r)return!0;var s=e(o[0]);if(t){var l={resource:o[1],offering:o[2],version:o[3]};return s({type:"inlineRedaction",redactionType:a,redactionData:l,redactionContent:[{type:"text",value:l.resource}]})}return s({type:"rawtext",value:o[0]})}}e.exports=function(){if(this.Parser){var e=this.Parser;t=e.prototype.options.redact,e.prototype.inlineTokenizers.resourceLink=s;var n=e.prototype.inlineMethods;n.splice(n.indexOf("html"),0,a)}},e.exports.restorationMethods=(o=function(e){return{type:"rawtext",value:"[r ".concat(e.redactionData.resource,"/").concat(e.redactionData.offering,"/").concat(e.redactionData.version,"]")}},(r=a)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),s.notInLink=!0,s.locator=function(e,t){return e.indexOf("[r ",t)}},(e,t,n)=>{var r,o,i,a,s=n(463),l=/^!!! ?([\w-]+)(?: "(.*?)")?(?: <(.*?)>)?\n/,u={tip:"fa fa-lightbulb-o",discussion:"fa fa-comments",slide:"fa fa-list-alt",assessment:"fa fa-check-circle",content:"fa fa-mortar-board",say:"fa fa-microphone",guide:"fa fa-pencil-square-o"},c={tip:"Teaching Tip",discussion:"Discussion Goal",slide:"Slide",assessment:"Assessment Opportunity",content:"Content Corner",say:"Remarks"};function d(e){return e.reduce((function(e,t,n){return"div"==t.type?e=e.concat(t.children):e.push(t),e}),[])}function f(e,t,n){var o=this,i=l.exec(t);if(i){if(n)return!0;for(var a=i[0].length;a<t.length;)if(a++,"\n"===t.charAt(a)&&"\n"!==t.charAt(a+1)){var f=t.slice(a+1,a+5);if(!(f=f.replace("\t","    ")).startsWith("    "))break}var p=i[1],h=i[2]||"",m=h||c[p],g=i[3],y=t.slice(i[0].length,a),v=s("\n"+y,4).split(/[\n]{2,}/).map((function(t){return{type:"div",children:o.tokenizeBlock(t,e.now())}})),b=e(i[0]+y);return r?b({type:"blockRedaction",children:d(v),redactionType:"tip",redactionContent:[{type:"text",value:h}],redactionData:{id:g,tipType:p}}):(m&&v.unshift({type:"paragraph",children:[{type:"emphasis",children:[],data:{hName:"i",hProperties:{className:u[p]}}},{type:"text",value:m}],data:{hProperties:{className:"admonition-title",id:"".concat(p,"_").concat(g||"None")}}}),b({type:"div",children:v,data:{hProperties:{className:"admonition ".concat(p)}}}))}}e.exports=function(){var e=this.Parser;if(e){var t=e.prototype.blockTokenizers,n=e.prototype.blockMethods;r=e.prototype.options.redact,t.tip=f,n.splice(n.indexOf("paragraph"),0,"tip")}},e.exports.restorationMethods=(a=function(e,t,n){var r="!!!".concat(e.redactionData.tipType);return t&&(r+=' "'.concat(t,'"')),e.redactionData.id&&(r+=" <".concat(e.redactionData.id,">")),{type:"paragraph",children:[{type:"rawtext",value:r+"\n"},{type:"indent",children:d(n)}]}},(i="tip")in(o={})?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o)},e=>{var t,n,r,o,i=/^([\w-]+)!!! ?([\w-]+)?/,a=/[\w-]+!!!/,s="tiplink";function l(e,n,r){var o=i.exec(n);if(o){if(r)return!0;var a=e(o[0]),s=o[1],l=o[2];return t?a({type:"inlineRedaction",redactionType:"tiplink",redactionData:{tipType:s,tipLink:l}}):function(e,t,n){var r,o={type:"paragraph",children:[],data:{hName:"span",hProperties:{className:"tiplink tiplink-".concat(t)}}};r="tip"==t?"lightbulb-o":"discussion"==t?"comments":"assessment"==t?"check-circle":"content"==t?"mortar-board":"warning";var i=e({type:"link",url:"#".concat(t,"_").concat(n),children:[]},o);return e({type:"emphasis",children:[],data:{hName:"i",hProperties:{className:"fa fa-".concat(r)}}},i),e(o)}(a,s,l)}}e.exports=function(){if(this.Parser){var e=this.Parser,n=e.prototype.inlineTokenizers,r=e.prototype.inlineMethods;t=e.prototype.options.redact,n.tiplink=l,r.splice(r.indexOf("text"),0,s)}},e.exports.restorationMethods=(o=function(e){return{type:"text",value:"".concat(e.redactionData.tipType,"!!! ").concat(e.redactionData.tipLink)}},(r=s)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),l.notInLink=!0,l.locator=function(e,t){var n=a.exec(e);if(n&&n.index>=t)return n.index}},e=>{var t,n,r,o,i="visualCodeBlock",a=/^`([^`]*)`\((#[A-Fa-f0-9]{6})\)/;function s(e,n,r){var o=a.exec(n);if(o){var s=o[1],l=o[2];if(r)return!0;var u=e(o[0]);return u(t?{type:"inlineRedaction",redactionType:i,redactionData:l,redactionContent:[{type:"text",value:s}]}:{type:"inlineCode",value:s,data:{hProperties:{className:"visual-block",style:"background-color: ".concat(l,";")}}})}}e.exports=function(){if(this.Parser){this.Parser.prototype.inlineTokenizers[i]=s,t=this.Parser.prototype.options.redact;var e=this.Parser.prototype.inlineMethods;e.splice(e.indexOf("code"),0,i)}},e.exports.restorationMethods=(o=function(e,t){return{type:"rawtext",value:"`".concat(t,"`(").concat(e.redactionData,")")}},(r=i)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),s.notInLink=!1,s.locator=function(e,t){return e.indexOf("`",t)}},e=>{var t,n,r,o,i=/^\[v ([a-z_]+)\/([a-z\-]+)\/(\d+)\]/,a="vocabularyDefinition";function s(e,n,r){var o=i.exec(n);if(o){if(r)return!0;var s=e(o[0]);if(t){var l={vocabulary:o[1],offering:o[2],version:o[3]};return s({type:"inlineRedaction",redactionType:a,redactionData:l,redactionContent:[{type:"text",value:l.vocabulary}]})}return s({type:"rawtext",value:o[0]})}}e.exports=function(){if(this.Parser){var e=this.Parser;t=e.prototype.options.redact,e.prototype.inlineTokenizers[a]=s;var n=e.prototype.inlineMethods;n.splice(n.indexOf("html"),0,a)}},e.exports.restorationMethods=(o=function(e){return{type:"rawtext",value:"[v ".concat(e.redactionData.vocabulary,"/").concat(e.redactionData.offering,"/").concat(e.redactionData.version,"]")}},(r=a)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),s.notInLink=!0,s.locator=function(e,t){return e.indexOf("[v ",t)}},e=>{e.exports=function(){this.Parser.prototype.options.blocks.push("xml")}},(e,t,n)=>{"use strict";var r=n(555);e.exports=function(){return r}},(e,t,n)=>{"use strict";var r=n(556),o=n(371),i=n(562),a=n(567),s=n(639),l=n(184),u=n(444),c=n(101);e.exports=function(e,t){var n,w,E,O,S,T=new r(y),C=u("type");if(C.handlers.root=function(e){k(e.children)},C.handlers.element=function(e){var t=-1!==s.indexOf(e.tagName);T._processToken(function(e){var t=_(e);return t.startTag=c(t),{type:"START_TAG_TOKEN",tagName:e.tagName,selfClosing:!1,attrs:v(e),location:t}}(e),l.html),k(e.children),t||(T._processToken(function(e){var t=_(e);return t.endTag=c(t),{type:h,tagName:e.tagName,attrs:[],location:t}}(e)),n.state=f)},C.handlers.text=function(e){T._processToken({type:p,chars:e.value,location:_(e)})},C.handlers.comment=function(e){T._processToken({type:m,data:e.value,location:_(e)})},C.handlers.doctype=function(e){var t=a(e);T._processToken({type:g,name:t.name,forceQuirks:!1,publicId:t.publicId,systemId:t.systemId,location:_(e)})},C.handlers.raw=function(e){var t,r=o.start(e);w.html=null,w.endOfChunkHit=!1,w.lastChunkWritten=!1,w.lastCharPos=-1,w.pos=-1,E.droppedBufferSize=0,E.line=r.line,E.col=1,E.offset=0,E.lineStartPos=1-r.column,E.droppedBufferSize=r.offset,O.currentAttrLocation=null,O.ctLoc=_(e),n.write(e.value),T._runParsingLoop(null),(t=n.currentCharacterToken)&&(t.location.endLine=E.line,t.location.endCol=E.col+1,t.location.endOffset=E.offset+1,T._processToken(t));n.currentToken=null,n.currentCharacterToken=null,n.currentAttr=null},C.unknown=b,S=i(function(e){var t="root"===e.type?e.children[0]:e;return t&&("doctype"===t.type||"html"===t.tagName)}(e)?function(){var t=T.treeAdapter.createDocument();return T._bootstrap(t,null),n=T.tokenizer,w=n.preprocessor,O=n.__mixins[0],E=O.posTracker,C(e),t}():function(){var t,r,o;return t={nodeName:"template",tagName:"template",attrs:[],namespaceURI:l.html,childNodes:[]},r={nodeName:"documentmock",tagName:"documentmock",attrs:[],namespaceURI:l.html,childNodes:[]},o={nodeName:"#document-fragment",childNodes:[]},T._bootstrap(r,t),T._pushTmplInsertionMode(d),T._initTokenizerForFragmentParsing(),T._insertFakeRootElement(),T._resetInsertionMode(),T._findFormInFragmentContext(),n=T.tokenizer,w=n.preprocessor,O=n.__mixins[0],E=O.posTracker,C(e),T._adoptNodes(r.childNodes[0],o),o}(),t),"root"!==e.type&&1===S.children.length)return S.children[0];return S;function k(e){var t=0,n=-1;for(e&&(t=e.length);++n<t;)C(e[n])}};var d="IN_TEMPLATE_MODE",f="DATA_STATE",p="CHARACTER_TOKEN",h="END_TAG_TOKEN",m="COMMENT_TOKEN",g="DOCTYPE_TOKEN",y={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function v(e){return a({tagName:e.tagName,type:"element",properties:e.properties}).attrs}function b(e){throw new Error("Cannot compile `"+e.type+"` node")}function _(e){var t=o.start(e),n=o.end(e);return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}},(e,t,n)=>{"use strict";var r,o,i,a,s,l,u,c,d,f,p,h,m,g,y,v,b,_,w,E,O,S,T,C,k,A;function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=n(190),I=n(480),R=n(481),D=n(482),j=n(483),N=n(102),L=n(672),M=n(484),B=n(673),F=n(674),U=n(377),H=n(421),W=n(178),q=W.TAG_NAMES,z=W.NAMESPACES,V=W.ATTRS,G={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:L},$="hidden",K="INITIAL_MODE",Y="BEFORE_HTML_MODE",X="BEFORE_HEAD_MODE",J="IN_HEAD_MODE",Z="IN_HEAD_NO_SCRIPT_MODE",Q="AFTER_HEAD_MODE",ee="IN_BODY_MODE",te="TEXT_MODE",ne="IN_TABLE_MODE",re="IN_TABLE_TEXT_MODE",oe="IN_CAPTION_MODE",ie="IN_COLUMN_GROUP_MODE",ae="IN_TABLE_BODY_MODE",se="IN_ROW_MODE",le="IN_CELL_MODE",ue="IN_SELECT_MODE",ce="IN_SELECT_IN_TABLE_MODE",de="IN_TEMPLATE_MODE",fe="AFTER_BODY_MODE",pe="IN_FRAMESET_MODE",he="AFTER_FRAMESET_MODE",me="AFTER_AFTER_BODY_MODE",ge="AFTER_AFTER_FRAMESET_MODE",ye=(P(r={},q.TR,se),P(r,q.TBODY,ae),P(r,q.THEAD,ae),P(r,q.TFOOT,ae),P(r,q.CAPTION,oe),P(r,q.COLGROUP,ie),P(r,q.TABLE,ne),P(r,q.BODY,ee),P(r,q.FRAMESET,pe),r),ve=(P(o={},q.CAPTION,ne),P(o,q.COLGROUP,ne),P(o,q.TBODY,ne),P(o,q.TFOOT,ne),P(o,q.THEAD,ne),P(o,q.COL,ie),P(o,q.TR,ae),P(o,q.TD,se),P(o,q.TH,se),o),be=(P(A={},K,(P(i={},x.CHARACTER_TOKEN,je),P(i,x.NULL_CHARACTER_TOKEN,je),P(i,x.WHITESPACE_CHARACTER_TOKEN,Ae),P(i,x.COMMENT_TOKEN,xe),P(i,x.DOCTYPE_TOKEN,(function(e,t){e._setDocumentType(t);var n=t.forceQuirks?W.DOCUMENT_MODE.QUIRKS:B.getDocumentMode(t);B.isConforming(t)||e._err(U.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Y})),P(i,x.START_TAG_TOKEN,je),P(i,x.END_TAG_TOKEN,je),P(i,x.EOF_TOKEN,je),i)),P(A,Y,(P(a={},x.CHARACTER_TOKEN,Ne),P(a,x.NULL_CHARACTER_TOKEN,Ne),P(a,x.WHITESPACE_CHARACTER_TOKEN,Ae),P(a,x.COMMENT_TOKEN,xe),P(a,x.DOCTYPE_TOKEN,Ae),P(a,x.START_TAG_TOKEN,(function(e,t){t.tagName===q.HTML?(e._insertElement(t,z.HTML),e.insertionMode=X):Ne(e,t)})),P(a,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n!==q.HTML&&n!==q.HEAD&&n!==q.BODY&&n!==q.BR||Ne(e,t)})),P(a,x.EOF_TOKEN,Ne),a)),P(A,X,(P(s={},x.CHARACTER_TOKEN,Le),P(s,x.NULL_CHARACTER_TOKEN,Le),P(s,x.WHITESPACE_CHARACTER_TOKEN,Ae),P(s,x.COMMENT_TOKEN,xe),P(s,x.DOCTYPE_TOKEN,Pe),P(s,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.HEAD?(e._insertElement(t,z.HTML),e.headElement=e.openElements.current,e.insertionMode=J):Le(e,t)})),P(s,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HEAD||n===q.BODY||n===q.HTML||n===q.BR?Le(e,t):e._err(U.endTagWithoutMatchingOpenElement)})),P(s,x.EOF_TOKEN,Le),s)),P(A,J,(P(l={},x.CHARACTER_TOKEN,Fe),P(l,x.NULL_CHARACTER_TOKEN,Fe),P(l,x.WHITESPACE_CHARACTER_TOKEN,Re),P(l,x.COMMENT_TOKEN,xe),P(l,x.DOCTYPE_TOKEN,Pe),P(l,x.START_TAG_TOKEN,Me),P(l,x.END_TAG_TOKEN,Be),P(l,x.EOF_TOKEN,Fe),l)),P(A,Z,(P(u={},x.CHARACTER_TOKEN,Ue),P(u,x.NULL_CHARACTER_TOKEN,Ue),P(u,x.WHITESPACE_CHARACTER_TOKEN,Re),P(u,x.COMMENT_TOKEN,xe),P(u,x.DOCTYPE_TOKEN,Pe),P(u,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.BASEFONT||n===q.BGSOUND||n===q.HEAD||n===q.LINK||n===q.META||n===q.NOFRAMES||n===q.STYLE?Me(e,t):n===q.NOSCRIPT?e._err(U.nestedNoscriptInHead):Ue(e,t)})),P(u,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.NOSCRIPT?(e.openElements.pop(),e.insertionMode=J):n===q.BR?Ue(e,t):e._err(U.endTagWithoutMatchingOpenElement)})),P(u,x.EOF_TOKEN,Ue),u)),P(A,Q,(P(c={},x.CHARACTER_TOKEN,He),P(c,x.NULL_CHARACTER_TOKEN,He),P(c,x.WHITESPACE_CHARACTER_TOKEN,Re),P(c,x.COMMENT_TOKEN,xe),P(c,x.DOCTYPE_TOKEN,Pe),P(c,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.BODY?(e._insertElement(t,z.HTML),e.framesetOk=!1,e.insertionMode=ee):n===q.FRAMESET?(e._insertElement(t,z.HTML),e.insertionMode=pe):n===q.BASE||n===q.BASEFONT||n===q.BGSOUND||n===q.LINK||n===q.META||n===q.NOFRAMES||n===q.SCRIPT||n===q.STYLE||n===q.TEMPLATE||n===q.TITLE?(e._err(U.abandonedHeadElementChild),e.openElements.push(e.headElement),Me(e,t),e.openElements.remove(e.headElement)):n===q.HEAD?e._err(U.misplacedStartTagForHeadElement):He(e,t)})),P(c,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.BODY||n===q.HTML||n===q.BR?He(e,t):n===q.TEMPLATE?Be(e,t):e._err(U.endTagWithoutMatchingOpenElement)})),P(c,x.EOF_TOKEN,He),c)),P(A,ee,(P(d={},x.CHARACTER_TOKEN,qe),P(d,x.NULL_CHARACTER_TOKEN,Ae),P(d,x.WHITESPACE_CHARACTER_TOKEN,We),P(d,x.COMMENT_TOKEN,xe),P(d,x.DOCTYPE_TOKEN,Ae),P(d,x.START_TAG_TOKEN,et),P(d,x.END_TAG_TOKEN,ot),P(d,x.EOF_TOKEN,it),d)),P(A,te,(P(f={},x.CHARACTER_TOKEN,Re),P(f,x.NULL_CHARACTER_TOKEN,Re),P(f,x.WHITESPACE_CHARACTER_TOKEN,Re),P(f,x.COMMENT_TOKEN,Ae),P(f,x.DOCTYPE_TOKEN,Ae),P(f,x.START_TAG_TOKEN,Ae),P(f,x.END_TAG_TOKEN,(function(e,t){t.tagName===q.SCRIPT&&(e.pendingScript=e.openElements.current);e.openElements.pop(),e.insertionMode=e.originalInsertionMode})),P(f,x.EOF_TOKEN,(function(e,t){e._err(U.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)})),f)),P(A,ne,(P(p={},x.CHARACTER_TOKEN,at),P(p,x.NULL_CHARACTER_TOKEN,at),P(p,x.WHITESPACE_CHARACTER_TOKEN,at),P(p,x.COMMENT_TOKEN,xe),P(p,x.DOCTYPE_TOKEN,Ae),P(p,x.START_TAG_TOKEN,st),P(p,x.END_TAG_TOKEN,lt),P(p,x.EOF_TOKEN,it),p)),P(A,re,(P(h={},x.CHARACTER_TOKEN,(function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0})),P(h,x.NULL_CHARACTER_TOKEN,Ae),P(h,x.WHITESPACE_CHARACTER_TOKEN,(function(e,t){e.pendingCharacterTokens.push(t)})),P(h,x.COMMENT_TOKEN,ct),P(h,x.DOCTYPE_TOKEN,ct),P(h,x.START_TAG_TOKEN,ct),P(h,x.END_TAG_TOKEN,ct),P(h,x.EOF_TOKEN,ct),h)),P(A,oe,(P(m={},x.CHARACTER_TOKEN,qe),P(m,x.NULL_CHARACTER_TOKEN,Ae),P(m,x.WHITESPACE_CHARACTER_TOKEN,We),P(m,x.COMMENT_TOKEN,xe),P(m,x.DOCTYPE_TOKEN,Ae),P(m,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.CAPTION||n===q.COL||n===q.COLGROUP||n===q.TBODY||n===q.TD||n===q.TFOOT||n===q.TH||n===q.THEAD||n===q.TR?e.openElements.hasInTableScope(q.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(q.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne,e._processToken(t)):et(e,t)})),P(m,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.CAPTION||n===q.TABLE?e.openElements.hasInTableScope(q.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(q.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne,n===q.TABLE&&e._processToken(t)):n!==q.BODY&&n!==q.COL&&n!==q.COLGROUP&&n!==q.HTML&&n!==q.TBODY&&n!==q.TD&&n!==q.TFOOT&&n!==q.TH&&n!==q.THEAD&&n!==q.TR&&ot(e,t)})),P(m,x.EOF_TOKEN,it),m)),P(A,ie,(P(g={},x.CHARACTER_TOKEN,dt),P(g,x.NULL_CHARACTER_TOKEN,dt),P(g,x.WHITESPACE_CHARACTER_TOKEN,Re),P(g,x.COMMENT_TOKEN,xe),P(g,x.DOCTYPE_TOKEN,Ae),P(g,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.COL?(e._appendElement(t,z.HTML),t.ackSelfClosing=!0):n===q.TEMPLATE?Me(e,t):dt(e,t)})),P(g,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.COLGROUP?e.openElements.currentTagName===q.COLGROUP&&(e.openElements.pop(),e.insertionMode=ne):n===q.TEMPLATE?Be(e,t):n!==q.COL&&dt(e,t)})),P(g,x.EOF_TOKEN,it),g)),P(A,ae,(P(y={},x.CHARACTER_TOKEN,at),P(y,x.NULL_CHARACTER_TOKEN,at),P(y,x.WHITESPACE_CHARACTER_TOKEN,at),P(y,x.COMMENT_TOKEN,xe),P(y,x.DOCTYPE_TOKEN,Ae),P(y,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,z.HTML),e.insertionMode=se):n===q.TH||n===q.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(q.TR),e.insertionMode=se,e._processToken(t)):n===q.CAPTION||n===q.COL||n===q.COLGROUP||n===q.TBODY||n===q.TFOOT||n===q.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne,e._processToken(t)):st(e,t)})),P(y,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.TBODY||n===q.TFOOT||n===q.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne):n===q.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne,e._processToken(t)):(n!==q.BODY&&n!==q.CAPTION&&n!==q.COL&&n!==q.COLGROUP||n!==q.HTML&&n!==q.TD&&n!==q.TH&&n!==q.TR)&&lt(e,t)})),P(y,x.EOF_TOKEN,it),y)),P(A,se,(P(v={},x.CHARACTER_TOKEN,at),P(v,x.NULL_CHARACTER_TOKEN,at),P(v,x.WHITESPACE_CHARACTER_TOKEN,at),P(v,x.COMMENT_TOKEN,xe),P(v,x.DOCTYPE_TOKEN,Ae),P(v,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.TH||n===q.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,z.HTML),e.insertionMode=le,e.activeFormattingElements.insertMarker()):n===q.CAPTION||n===q.COL||n===q.COLGROUP||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR?e.openElements.hasInTableScope(q.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ae,e._processToken(t)):st(e,t)})),P(v,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.TR?e.openElements.hasInTableScope(q.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ae):n===q.TABLE?e.openElements.hasInTableScope(q.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ae,e._processToken(t)):n===q.TBODY||n===q.TFOOT||n===q.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(q.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ae,e._processToken(t)):(n!==q.BODY&&n!==q.CAPTION&&n!==q.COL&&n!==q.COLGROUP||n!==q.HTML&&n!==q.TD&&n!==q.TH)&&lt(e,t)})),P(v,x.EOF_TOKEN,it),v)),P(A,le,(P(b={},x.CHARACTER_TOKEN,qe),P(b,x.NULL_CHARACTER_TOKEN,Ae),P(b,x.WHITESPACE_CHARACTER_TOKEN,We),P(b,x.COMMENT_TOKEN,xe),P(b,x.DOCTYPE_TOKEN,Ae),P(b,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.CAPTION||n===q.COL||n===q.COLGROUP||n===q.TBODY||n===q.TD||n===q.TFOOT||n===q.TH||n===q.THEAD||n===q.TR?(e.openElements.hasInTableScope(q.TD)||e.openElements.hasInTableScope(q.TH))&&(e._closeTableCell(),e._processToken(t)):et(e,t)})),P(b,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.TD||n===q.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=se):n===q.TABLE||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==q.BODY&&n!==q.CAPTION&&n!==q.COL&&n!==q.COLGROUP&&n!==q.HTML&&ot(e,t)})),P(b,x.EOF_TOKEN,it),b)),P(A,ue,(P(_={},x.CHARACTER_TOKEN,Re),P(_,x.NULL_CHARACTER_TOKEN,Ae),P(_,x.WHITESPACE_CHARACTER_TOKEN,Re),P(_,x.COMMENT_TOKEN,xe),P(_,x.DOCTYPE_TOKEN,Ae),P(_,x.START_TAG_TOKEN,ft),P(_,x.END_TAG_TOKEN,pt),P(_,x.EOF_TOKEN,it),_)),P(A,ce,(P(w={},x.CHARACTER_TOKEN,Re),P(w,x.NULL_CHARACTER_TOKEN,Ae),P(w,x.WHITESPACE_CHARACTER_TOKEN,Re),P(w,x.COMMENT_TOKEN,xe),P(w,x.DOCTYPE_TOKEN,Ae),P(w,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.CAPTION||n===q.TABLE||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR||n===q.TD||n===q.TH?(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode(),e._processToken(t)):ft(e,t)})),P(w,x.END_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.CAPTION||n===q.TABLE||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR||n===q.TD||n===q.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode(),e._processToken(t)):pt(e,t)})),P(w,x.EOF_TOKEN,it),w)),P(A,de,(P(E={},x.CHARACTER_TOKEN,qe),P(E,x.NULL_CHARACTER_TOKEN,Ae),P(E,x.WHITESPACE_CHARACTER_TOKEN,We),P(E,x.COMMENT_TOKEN,xe),P(E,x.DOCTYPE_TOKEN,Ae),P(E,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;if(n===q.BASE||n===q.BASEFONT||n===q.BGSOUND||n===q.LINK||n===q.META||n===q.NOFRAMES||n===q.SCRIPT||n===q.STYLE||n===q.TEMPLATE||n===q.TITLE)Me(e,t);else{var r=ve[n]||ee;e._popTmplInsertionMode(),e._pushTmplInsertionMode(r),e.insertionMode=r,e._processToken(t)}})),P(E,x.END_TAG_TOKEN,(function(e,t){t.tagName===q.TEMPLATE&&Be(e,t)})),P(E,x.EOF_TOKEN,ht),E)),P(A,fe,(P(O={},x.CHARACTER_TOKEN,mt),P(O,x.NULL_CHARACTER_TOKEN,mt),P(O,x.WHITESPACE_CHARACTER_TOKEN,We),P(O,x.COMMENT_TOKEN,(function(e,t){e._appendCommentNode(t,e.openElements.items[0])})),P(O,x.DOCTYPE_TOKEN,Ae),P(O,x.START_TAG_TOKEN,(function(e,t){t.tagName===q.HTML?et(e,t):mt(e,t)})),P(O,x.END_TAG_TOKEN,(function(e,t){t.tagName===q.HTML?e.fragmentContext||(e.insertionMode=me):mt(e,t)})),P(O,x.EOF_TOKEN,De),O)),P(A,pe,(P(S={},x.CHARACTER_TOKEN,Ae),P(S,x.NULL_CHARACTER_TOKEN,Ae),P(S,x.WHITESPACE_CHARACTER_TOKEN,Re),P(S,x.COMMENT_TOKEN,xe),P(S,x.DOCTYPE_TOKEN,Ae),P(S,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.FRAMESET?e._insertElement(t,z.HTML):n===q.FRAME?(e._appendElement(t,z.HTML),t.ackSelfClosing=!0):n===q.NOFRAMES&&Me(e,t)})),P(S,x.END_TAG_TOKEN,(function(e,t){t.tagName!==q.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===q.FRAMESET||(e.insertionMode=he))})),P(S,x.EOF_TOKEN,De),S)),P(A,he,(P(T={},x.CHARACTER_TOKEN,Ae),P(T,x.NULL_CHARACTER_TOKEN,Ae),P(T,x.WHITESPACE_CHARACTER_TOKEN,Re),P(T,x.COMMENT_TOKEN,xe),P(T,x.DOCTYPE_TOKEN,Ae),P(T,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.NOFRAMES&&Me(e,t)})),P(T,x.END_TAG_TOKEN,(function(e,t){t.tagName===q.HTML&&(e.insertionMode=ge)})),P(T,x.EOF_TOKEN,De),T)),P(A,me,(P(C={},x.CHARACTER_TOKEN,gt),P(C,x.NULL_CHARACTER_TOKEN,gt),P(C,x.WHITESPACE_CHARACTER_TOKEN,We),P(C,x.COMMENT_TOKEN,Ie),P(C,x.DOCTYPE_TOKEN,Ae),P(C,x.START_TAG_TOKEN,(function(e,t){t.tagName===q.HTML?et(e,t):gt(e,t)})),P(C,x.END_TAG_TOKEN,gt),P(C,x.EOF_TOKEN,De),C)),P(A,ge,(P(k={},x.CHARACTER_TOKEN,Ae),P(k,x.NULL_CHARACTER_TOKEN,Ae),P(k,x.WHITESPACE_CHARACTER_TOKEN,We),P(k,x.COMMENT_TOKEN,Ie),P(k,x.DOCTYPE_TOKEN,Ae),P(k,x.START_TAG_TOKEN,(function(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.NOFRAMES&&Me(e,t)})),P(k,x.END_TAG_TOKEN,Ae),P(k,x.EOF_TOKEN,De),k)),A),_e=function(){function e(e){this.options=M(G,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&N.install(this,D),this.options.onParseError&&N.install(this,j,{onParseError:this.options.onParseError})}var t=e.prototype;return t.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},t.parseFragment=function(e,t){t||(t=this.treeAdapter.createElement(q.TEMPLATE,z.HTML,[]));var n=this.treeAdapter.createElement("documentmock",z.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===q.TEMPLATE&&this._pushTmplInsertionMode(de),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),o=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,o),o},t._bootstrap=function(e,t){this.tokenizer=new x(this.options),this.stopped=!1,this.insertionMode=K,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new I(this.document,this.treeAdapter),this.activeFormattingElements=new R(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},t._err=function(){},t._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===x.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===x.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},t.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void t(n)}e&&e()},t._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==z.HTML&&!this._isIntegrationPoint(e)},t._switchToTextParsing=function(e,t){this._insertElement(e,z.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=te},t.switchToPlaintextParsing=function(){this.insertionMode=te,this.originalInsertionMode=ee,this.tokenizer.state=x.MODE.PLAINTEXT},t._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},t._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===q.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)},t._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===z.HTML){var e=this.treeAdapter.getTagName(this.fragmentContext);e===q.TITLE||e===q.TEXTAREA?this.tokenizer.state=x.MODE.RCDATA:e===q.STYLE||e===q.XMP||e===q.IFRAME||e===q.NOEMBED||e===q.NOFRAMES||e===q.NOSCRIPT?this.tokenizer.state=x.MODE.RAWTEXT:e===q.SCRIPT?this.tokenizer.state=x.MODE.SCRIPT_DATA:e===q.PLAINTEXT&&(this.tokenizer.state=x.MODE.PLAINTEXT)}},t._setDocumentType=function(e){var t=e.name||"",n=e.publicId||"",r=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,n,r)},t._attachElementToTree=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}},t._appendElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)},t._insertElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)},t._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,z.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},t._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,z.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)},t._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(q.HTML,z.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},t._appendCommentNode=function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)},t._insertCharacters=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}},t._adoptNodes=function(e,t){for(var n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)},t._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(t);if(n===z.HTML)return!1;if(this.treeAdapter.getTagName(t)===q.ANNOTATION_XML&&n===z.MATHML&&e.type===x.START_TAG_TOKEN&&e.tagName===q.SVG)return!1;var r=e.type===x.CHARACTER_TOKEN||e.type===x.NULL_CHARACTER_TOKEN||e.type===x.WHITESPACE_CHARACTER_TOKEN;return(!(e.type===x.START_TAG_TOKEN&&e.tagName!==q.MGLYPH&&e.tagName!==q.MALIGNMARK)&&!r||!this._isIntegrationPoint(t,z.MATHML))&&((e.type!==x.START_TAG_TOKEN&&!r||!this._isIntegrationPoint(t,z.HTML))&&e.type!==x.EOF_TOKEN)},t._processToken=function(e){be[this.insertionMode][e.type](this,e)},t._processTokenInBodyMode=function(e){be.IN_BODY_MODE[e.type](this,e)},t._processTokenInForeignContent=function(e){e.type===x.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===x.NULL_CHARACTER_TOKEN?function(e,t){t.chars=H.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===x.WHITESPACE_CHARACTER_TOKEN?Re(this,e):e.type===x.COMMENT_TOKEN?xe(this,e):e.type===x.START_TAG_TOKEN?function(e,t){if(F.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==z.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===z.MATHML?F.adjustTokenMathMLAttrs(t):r===z.SVG&&(F.adjustTokenSVGTagName(t),F.adjustTokenSVGAttrs(t)),F.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):e.type===x.END_TAG_TOKEN&&function(e,t){for(var n=e.openElements.stackTop;n>0;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===z.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}(this,e)},t._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===x.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(U.nonVoidHtmlElementStartTagWithTrailingSolidus)},t._isIntegrationPoint=function(e,t){var n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),o=this.treeAdapter.getAttrList(e);return F.isIntegrationPoint(n,r,o,t)},t._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===R.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(var r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},t._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=se},t._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(q.P),this.openElements.popUntilTagNamePopped(q.P)},t._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;e>=0;e--){var n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),o=ye[r];if(o){this.insertionMode=o;break}if(!(t||r!==q.TD&&r!==q.TH)){this.insertionMode=le;break}if(!t&&r===q.HEAD){this.insertionMode=J;break}if(r===q.SELECT){this._resetInsertionModeForSelect(e);break}if(r===q.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===q.HTML){this.insertionMode=this.headElement?Q:X;break}if(t){this.insertionMode=ee;break}}},t._resetInsertionModeForSelect=function(e){if(e>0)for(var t=e-1;t>0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n);if(r===q.TEMPLATE)break;if(r===q.TABLE)return void(this.insertionMode=ce)}this.insertionMode=ue},t._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},t._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},t._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===q.TABLE||t===q.TBODY||t===q.TFOOT||t===q.THEAD||t===q.TR},t._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},t._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;t>=0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),o=this.treeAdapter.getNamespaceURI(n);if(r===q.TEMPLATE&&o===z.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===q.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},t._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},t._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},t._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return W.SPECIAL_ELEMENTS[n][t]},e}();function we(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):rt(e,t),n}function Ee(e,t){for(var n=null,r=e.openElements.stackTop;r>=0;r--){var o=e.openElements.items[r];if(o===t.element)break;e._isSpecialElement(o)&&(n=o)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function Oe(e,t,n){for(var r=t,o=e.openElements.getCommonAncestor(t),i=0,a=o;a!==n;i++,a=o){o=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),l=s&&i>=3;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=Se(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function Se(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Te(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{var r=e.treeAdapter.getTagName(t),o=e.treeAdapter.getNamespaceURI(t);r===q.TEMPLATE&&o===z.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Ce(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),o=n.token,i=e.treeAdapter.createElement(o.tagName,r,o.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i)}function ke(e,t){for(var n,r=0;r<8&&(n=we(e,t));r++){var o=Ee(e,n);if(!o)break;e.activeFormattingElements.bookmark=n;var i=Oe(e,o,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),Te(e,a,i),Ce(e,o,n)}}function Ae(){}function Pe(e){e._err(U.misplacedDoctype)}function xe(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function Ie(e,t){e._appendCommentNode(t,e.document)}function Re(e,t){e._insertCharacters(t)}function De(e){e.stopped=!0}function je(e,t){e._err(U.missingDoctype,{beforeToken:!0}),e.treeAdapter.setDocumentMode(e.document,W.DOCUMENT_MODE.QUIRKS),e.insertionMode=Y,e._processToken(t)}function Ne(e,t){e._insertFakeRootElement(),e.insertionMode=X,e._processToken(t)}function Le(e,t){e._insertFakeElement(q.HEAD),e.headElement=e.openElements.current,e.insertionMode=J,e._processToken(t)}function Me(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.BASE||n===q.BASEFONT||n===q.BGSOUND||n===q.LINK||n===q.META?(e._appendElement(t,z.HTML),t.ackSelfClosing=!0):n===q.TITLE?e._switchToTextParsing(t,x.MODE.RCDATA):n===q.NOSCRIPT?e.options.scriptingEnabled?e._switchToTextParsing(t,x.MODE.RAWTEXT):(e._insertElement(t,z.HTML),e.insertionMode=Z):n===q.NOFRAMES||n===q.STYLE?e._switchToTextParsing(t,x.MODE.RAWTEXT):n===q.SCRIPT?e._switchToTextParsing(t,x.MODE.SCRIPT_DATA):n===q.TEMPLATE?(e._insertTemplate(t,z.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=de,e._pushTmplInsertionMode(de)):n===q.HEAD?e._err(U.misplacedStartTagForHeadElement):Fe(e,t)}function Be(e,t){var n=t.tagName;n===q.HEAD?(e.openElements.pop(),e.insertionMode=Q):n===q.BODY||n===q.BR||n===q.HTML?Fe(e,t):n===q.TEMPLATE&&e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagName!==q.TEMPLATE&&e._err(U.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(q.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode()):e._err(U.endTagWithoutMatchingOpenElement)}function Fe(e,t){e.openElements.pop(),e.insertionMode=Q,e._processToken(t)}function Ue(e,t){var n=t.type===x.EOF_TOKEN?U.openElementsLeftAfterEof:U.disallowedContentInNoscriptInHead;e._err(n),e.openElements.pop(),e.insertionMode=J,e._processToken(t)}function He(e,t){e._insertFakeElement(q.BODY),e.insertionMode=ee,e._processToken(t)}function We(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function qe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ze(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML)}function Ve(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Ge(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function $e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Ke(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,z.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ye(e,t){e._appendElement(t,z.HTML),t.ackSelfClosing=!0}function Xe(e,t){e._switchToTextParsing(t,x.MODE.RAWTEXT)}function Je(e,t){e.openElements.currentTagName===q.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML)}function Ze(e,t){e.openElements.hasInScope(q.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,z.HTML)}function Qe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML)}function et(e,t){var n=t.tagName;switch(n.length){case 1:n===q.I||n===q.S||n===q.B||n===q.U?Ge(e,t):n===q.P?ze(e,t):n===q.A?function(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(q.A);n&&(ke(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):Qe(e,t);break;case 2:n===q.DL||n===q.OL||n===q.UL?ze(e,t):n===q.H1||n===q.H2||n===q.H3||n===q.H4||n===q.H5||n===q.H6?function(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement();var n=e.openElements.currentTagName;n!==q.H1&&n!==q.H2&&n!==q.H3&&n!==q.H4&&n!==q.H5&&n!==q.H6||e.openElements.pop(),e._insertElement(t,z.HTML)}(e,t):n===q.LI||n===q.DD||n===q.DT?function(e,t){e.framesetOk=!1;for(var n=t.tagName,r=e.openElements.stackTop;r>=0;r--){var o=e.openElements.items[r],i=e.treeAdapter.getTagName(o),a=null;if(n===q.LI&&i===q.LI?a=q.LI:n!==q.DD&&n!==q.DT||i!==q.DD&&i!==q.DT||(a=i),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(i!==q.ADDRESS&&i!==q.DIV&&i!==q.P&&e._isSpecialElement(o))break}e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML)}(e,t):n===q.EM||n===q.TT?Ge(e,t):n===q.BR?Ke(e,t):n===q.HR?function(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._appendElement(t,z.HTML),e.framesetOk=!1,e.ackSelfClosing=!0}(e,t):n===q.RB?Ze(e,t):n===q.RT||n===q.RP?function(e,t){e.openElements.hasInScope(q.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(q.RTC),e._insertElement(t,z.HTML)}(e,t):n!==q.TH&&n!==q.TD&&n!==q.TR&&Qe(e,t);break;case 3:n===q.DIV||n===q.DIR||n===q.NAV?ze(e,t):n===q.PRE?Ve(e,t):n===q.BIG?Ge(e,t):n===q.IMG||n===q.WBR?Ke(e,t):n===q.XMP?function(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,x.MODE.RAWTEXT)}(e,t):n===q.SVG?function(e,t){e._reconstructActiveFormattingElements(),F.adjustTokenSVGAttrs(t),F.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,z.SVG):e._insertElement(t,z.SVG),t.ackSelfClosing=!0}(e,t):n===q.RTC?Ze(e,t):n!==q.COL&&Qe(e,t);break;case 4:n===q.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):n===q.BASE||n===q.LINK||n===q.META?Me(e,t):n===q.BODY?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):n===q.MAIN||n===q.MENU?ze(e,t):n===q.FORM?function(e,t){var n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML),n||(e.formElement=e.openElements.current))}(e,t):n===q.CODE||n===q.FONT?Ge(e,t):n===q.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(q.NOBR)&&(ke(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,z.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):n===q.AREA?Ke(e,t):n===q.MATH?function(e,t){e._reconstructActiveFormattingElements(),F.adjustTokenMathMLAttrs(t),F.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,z.MATHML):e._insertElement(t,z.MATHML),t.ackSelfClosing=!0}(e,t):n===q.MENU?function(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML)}(e,t):n!==q.HEAD&&Qe(e,t);break;case 5:n===q.STYLE||n===q.TITLE?Me(e,t):n===q.ASIDE?ze(e,t):n===q.SMALL?Ge(e,t):n===q.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==W.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML),e.framesetOk=!1,e.insertionMode=ne}(e,t):n===q.EMBED?Ke(e,t):n===q.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,z.HTML);var n=x.getTokenAttr(t,V.TYPE);n&&n.toLowerCase()===$||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t):n===q.PARAM||n===q.TRACK?Ye(e,t):n===q.IMAGE?function(e,t){t.tagName=q.IMG,Ke(e,t)}(e,t):n!==q.FRAME&&n!==q.TBODY&&n!==q.TFOOT&&n!==q.THEAD&&Qe(e,t);break;case 6:n===q.SCRIPT?Me(e,t):n===q.CENTER||n===q.FIGURE||n===q.FOOTER||n===q.HEADER||n===q.HGROUP||n===q.DIALOG?ze(e,t):n===q.BUTTON?function(e,t){e.openElements.hasInScope(q.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(q.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.framesetOk=!1}(e,t):n===q.STRIKE||n===q.STRONG?Ge(e,t):n===q.APPLET||n===q.OBJECT?$e(e,t):n===q.KEYGEN?Ke(e,t):n===q.SOURCE?Ye(e,t):n===q.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,x.MODE.RAWTEXT)}(e,t):n===q.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.framesetOk=!1,e.insertionMode===ne||e.insertionMode===oe||e.insertionMode===ae||e.insertionMode===se||e.insertionMode===le?e.insertionMode=ce:e.insertionMode=ue}(e,t):n===q.OPTION?Je(e,t):Qe(e,t);break;case 7:n===q.BGSOUND?Me(e,t):n===q.DETAILS||n===q.ADDRESS||n===q.ARTICLE||n===q.SECTION||n===q.SUMMARY?ze(e,t):n===q.LISTING?Ve(e,t):n===q.MARQUEE?$e(e,t):n===q.NOEMBED?Xe(e,t):n!==q.CAPTION&&Qe(e,t);break;case 8:n===q.BASEFONT?Me(e,t):n===q.FRAMESET?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,z.HTML),e.insertionMode=pe)}(e,t):n===q.FIELDSET?ze(e,t):n===q.TEXTAREA?function(e,t){e._insertElement(t,z.HTML),e.skipNextNewLine=!0,e.tokenizer.state=x.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=te}(e,t):n===q.TEMPLATE?Me(e,t):n===q.NOSCRIPT?e.options.scriptingEnabled?Xe(e,t):Qe(e,t):n===q.OPTGROUP?Je(e,t):n!==q.COLGROUP&&Qe(e,t);break;case 9:n===q.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,z.HTML),e.tokenizer.state=x.MODE.PLAINTEXT}(e,t):Qe(e,t);break;case 10:n===q.BLOCKQUOTE||n===q.FIGCAPTION?ze(e,t):Qe(e,t);break;default:Qe(e,t)}}function tt(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function nt(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function rt(e,t){for(var n=t.tagName,r=e.openElements.stackTop;r>0;r--){var o=e.openElements.items[r];if(e.treeAdapter.getTagName(o)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(o);break}if(e._isSpecialElement(o))break}}function ot(e,t){var n=t.tagName;switch(n.length){case 1:n===q.A||n===q.B||n===q.I||n===q.S||n===q.U?ke(e,t):n===q.P?function(e){e.openElements.hasInButtonScope(q.P)||e._insertFakeElement(q.P),e._closePElement()}(e):rt(e,t);break;case 2:n===q.DL||n===q.UL||n===q.OL?tt(e,t):n===q.LI?function(e){e.openElements.hasInListItemScope(q.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(q.LI),e.openElements.popUntilTagNamePopped(q.LI))}(e):n===q.DD||n===q.DT?function(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):n===q.H1||n===q.H2||n===q.H3||n===q.H4||n===q.H5||n===q.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):n===q.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(q.BR),e.openElements.pop(),e.framesetOk=!1}(e):n===q.EM||n===q.TT?ke(e,t):rt(e,t);break;case 3:n===q.BIG?ke(e,t):n===q.DIR||n===q.DIV||n===q.NAV||n===q.PRE?tt(e,t):rt(e,t);break;case 4:n===q.BODY?function(e){e.openElements.hasInScope(q.BODY)&&(e.insertionMode=fe)}(e):n===q.HTML?function(e,t){e.openElements.hasInScope(q.BODY)&&(e.insertionMode=fe,e._processToken(t))}(e,t):n===q.FORM?function(e){var t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(q.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(q.FORM):e.openElements.remove(n))}(e):n===q.CODE||n===q.FONT||n===q.NOBR?ke(e,t):n===q.MAIN||n===q.MENU?tt(e,t):rt(e,t);break;case 5:n===q.ASIDE?tt(e,t):n===q.SMALL?ke(e,t):rt(e,t);break;case 6:n===q.CENTER||n===q.FIGURE||n===q.FOOTER||n===q.HEADER||n===q.HGROUP||n===q.DIALOG?tt(e,t):n===q.APPLET||n===q.OBJECT?nt(e,t):n===q.STRIKE||n===q.STRONG?ke(e,t):rt(e,t);break;case 7:n===q.ADDRESS||n===q.ARTICLE||n===q.DETAILS||n===q.SECTION||n===q.SUMMARY||n===q.LISTING?tt(e,t):n===q.MARQUEE?nt(e,t):rt(e,t);break;case 8:n===q.FIELDSET?tt(e,t):n===q.TEMPLATE?Be(e,t):rt(e,t);break;case 10:n===q.BLOCKQUOTE||n===q.FIGCAPTION?tt(e,t):rt(e,t);break;default:rt(e,t)}}function it(e,t){e.tmplInsertionModeStackTop>-1?ht(e,t):e.stopped=!0}function at(e,t){var n=e.openElements.currentTagName;n===q.TABLE||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=re,e._processToken(t)):ut(e,t)}function st(e,t){var n=t.tagName;switch(n.length){case 2:n===q.TD||n===q.TH||n===q.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(q.TBODY),e.insertionMode=ae,e._processToken(t)}(e,t):ut(e,t);break;case 3:n===q.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(q.COLGROUP),e.insertionMode=ie,e._processToken(t)}(e,t):ut(e,t);break;case 4:n===q.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,z.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):ut(e,t);break;case 5:n===q.TABLE?function(e,t){e.openElements.hasInTableScope(q.TABLE)&&(e.openElements.popUntilTagNamePopped(q.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):n===q.STYLE?Me(e,t):n===q.TBODY||n===q.TFOOT||n===q.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,z.HTML),e.insertionMode=ae}(e,t):n===q.INPUT?function(e,t){var n=x.getTokenAttr(t,V.TYPE);n&&n.toLowerCase()===$?e._appendElement(t,z.HTML):ut(e,t),t.ackSelfClosing=!0}(e,t):ut(e,t);break;case 6:n===q.SCRIPT?Me(e,t):ut(e,t);break;case 7:n===q.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,z.HTML),e.insertionMode=oe}(e,t):ut(e,t);break;case 8:n===q.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,z.HTML),e.insertionMode=ie}(e,t):n===q.TEMPLATE?Me(e,t):ut(e,t);break;default:ut(e,t)}}function lt(e,t){var n=t.tagName;n===q.TABLE?e.openElements.hasInTableScope(q.TABLE)&&(e.openElements.popUntilTagNamePopped(q.TABLE),e._resetInsertionMode()):n===q.TEMPLATE?Be(e,t):n!==q.BODY&&n!==q.CAPTION&&n!==q.COL&&n!==q.COLGROUP&&n!==q.HTML&&n!==q.TBODY&&n!==q.TD&&n!==q.TFOOT&&n!==q.TH&&n!==q.THEAD&&n!==q.TR&&ut(e,t)}function ut(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function ct(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ut(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function dt(e,t){e.openElements.currentTagName===q.COLGROUP&&(e.openElements.pop(),e.insertionMode=ne,e._processToken(t))}function ft(e,t){var n=t.tagName;n===q.HTML?et(e,t):n===q.OPTION?(e.openElements.currentTagName===q.OPTION&&e.openElements.pop(),e._insertElement(t,z.HTML)):n===q.OPTGROUP?(e.openElements.currentTagName===q.OPTION&&e.openElements.pop(),e.openElements.currentTagName===q.OPTGROUP&&e.openElements.pop(),e._insertElement(t,z.HTML)):n===q.INPUT||n===q.KEYGEN||n===q.TEXTAREA||n===q.SELECT?e.openElements.hasInSelectScope(q.SELECT)&&(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode(),n!==q.SELECT&&e._processToken(t)):n!==q.SCRIPT&&n!==q.TEMPLATE||Me(e,t)}function pt(e,t){var n=t.tagName;if(n===q.OPTGROUP){var r=e.openElements.items[e.openElements.stackTop-1],o=r&&e.treeAdapter.getTagName(r);e.openElements.currentTagName===q.OPTION&&o===q.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===q.OPTGROUP&&e.openElements.pop()}else n===q.OPTION?e.openElements.currentTagName===q.OPTION&&e.openElements.pop():n===q.SELECT&&e.openElements.hasInSelectScope(q.SELECT)?(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode()):n===q.TEMPLATE&&Be(e,t)}function ht(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(q.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function mt(e,t){e.insertionMode=ee,e._processToken(t)}function gt(e,t){e.insertionMode=ee,e._processToken(t)}e.exports=_e},(e,t,n)=>{"use strict";var r=n(421),o=n(377),i=r.CODE_POINTS,a=function(){function e(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}var t=e.prototype;return t._err=function(){},t._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},t._processSurrogate=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);if(r.isSurrogatePair(t))return this.pos++,this._addGap(),r.getSurrogatePairCodePoint(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,i.EOF;return this._err(o.surrogateInInputStream),e},t.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},t.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},t.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},t.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,i.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===i.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===i.CARRIAGE_RETURN?(this.skipNextNewLine=!0,i.LINE_FEED):(this.skipNextNewLine=!1,r.isSurrogate(e)&&(e=this._processSurrogate(e)),e>31&&e<127||e===i.LINE_FEED||e===i.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)},t._checkForProblematicCharacters=function(e){r.isControlCodePoint(e)?this._err(o.controlCharacterInInputStream):r.isUndefinedCodePoint(e)&&this._err(o.noncharacterInInputStream)},t.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--},e}();e.exports=a},e=>{"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=function(e){var t,n;function o(t,n){var r;return(r=e.call(this,t)||this).onItemPop=n.onItemPop,r}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),o.prototype._getOverriddenMethods=function(e,t){return{pop:function(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement:function(){for(var n=this.stackTop;n>0;n--)e.onItemPop(this.items[n]);t.popAllUpToHtmlElement.call(this)},remove:function(n){e.onItemPop(this.current),t.remove.call(this,n)}}},o}(n(102));e.exports=o},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=n(378),i=n(561),a=n(102),s=function(e){var t,n;function o(t,n){var r;r=e.call(this,t,n)||this;var o=a.install(t.preprocessor,i,n);return r.posTracker=o.posTracker,r}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),o}(o);e.exports=s},(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var o=n(378),i=n(432),a=n(102),s=function(e){var t,n;function o(t,n){var r;return(r=e.call(this,t,n)||this).posTracker=a.install(t,i),r.lastErrOffset=-1,r}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),o.prototype._reportError=function(t){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,e.prototype._reportError.call(this,t))},o}(o);e.exports=s},(e,t,n)=>{"use strict";var r=n(191),o=n(192),i=n(193),a=n(184),s=n(485),l=n(675),u=n(101),c=n(465);e.exports=function(e,t){var n,i=t||{};i.messages?(n=i,i={}):n=i.file;return p(e,{schema:"svg"===i.space?o:r,file:n,verbose:i.verbose,location:!1})};var d={}.hasOwnProperty,f={"#document":h,"#document-fragment":h,"#text":function(e){return{type:"text",value:e.value}},"#comment":function(e){return{type:"comment",value:e.data}},"#documentType":function(e){return{type:"doctype",name:e.name||"",public:e.publicId||null,system:e.systemId||null}}};function p(e,t){var n,s,l,c=t.schema,h=d.call(f,e.nodeName)?f[e.nodeName]:m;return h===m&&(t.schema=e.namespaceURI===a.svg?o:r),e.childNodes&&(n=function(e,t){var n=e.length,r=-1,o=[];for(;++r<n;)o[r]=p(e[r],t);return o}(e.childNodes,t)),s=h(e,n,t),e.sourceCodeLocation&&t.file&&(l=function(e,t,n){var r,o,a,s,l=n.schema,c=n.verbose,d=g(t);if("element"===e.type&&(r=e.children[e.children.length-1],!t.endTag&&r&&r.position&&r.position.end&&(d.end=u(r.position.end)),c)){for(a in s={},o=t.attrs)s[i(l,a).property]=g(o[a]);e.data={position:{opening:g(t.startTag),closing:t.endTag?g(t.endTag):null,properties:s}}}return d}(s,e.sourceCodeLocation,t),l&&(t.location=!0,s.position=l)),t.schema=c,s}function h(e,t,n){var r,o={type:"root",children:t,data:{}};return o.data.quirksMode="quirks"===e.mode||"limited-quirks"===e.mode,n.file&&n.location&&(r=String(n.file),o.position={start:{line:1,column:1,offset:0},end:{line:c(r,"\n")+1,column:r.length-r.lastIndexOf("\n"),offset:r.length}}),o}function m(e,t,n){for(var r,o,i,a,u,c="svg"===n.schema.space?s:l,d=e.tagName,f=e.attrs,h=f.length,m={},y=-1;++y<h;)m[((r=f[y]).prefix?r.prefix+":":"")+r.name]=r.value;return o=c(d,m,t),"template"===d&&"content"in e&&(a=(i=e.sourceCodeLocation)&&i.startTag&&g(i.startTag).end,u=i&&i.endTag&&g(i.endTag).start,o.content=p(e.content,n),(a||u)&&n.file&&(o.content.position={start:a,end:u})),o}function g(e){var t=y({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=y({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:null}function y(e){return e.line&&e.column?e:null}},(e,t,n)=>{"use strict";var r=n(380),o=n(163),i=n(440),a=r.boolean,s=r.overloadedBoolean,l=r.booleanish,u=r.number,c=r.spaceSeparated,d=r.commaSeparated;e.exports=o({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:c,accessKey:c,action:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:c,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:c,cols:u,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:c,coords:u|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:c,height:u,hidden:a,high:u,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:c,itemRef:c,itemScope:a,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loop:a,low:u,manifest:null,max:null,maxLength:u,media:null,method:null,min:null,minLength:u,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,open:a,optimum:u,pattern:null,ping:c,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:c,required:a,reversed:a,rows:u,rowSpan:u,sandbox:c,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:u,sizes:null,slot:null,span:u,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:u,step:null,style:null,tabIndex:u,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:u,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:u,borderColor:null,bottomMargin:u,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:u,leftMargin:u,link:null,longDesc:null,lowSrc:null,marginHeight:u,marginWidth:u,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:u,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:u,valueType:null,version:null,vAlign:null,vLink:null,vSpace:u,allowTransparency:null,autoCorrect:null,autoSave:null,prefix:null,property:null,results:u,security:null,unselectable:null}})},(e,t,n)=>{"use strict";var r=n(380),o=n(163),i=n(441),a=r.boolean,s=r.number,l=r.spaceSeparated,u=r.commaSeparated,c=r.commaOrSpaceSeparated;e.exports=o({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i,properties:{about:c,accentHeight:s,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:s,amplitude:s,arabicForm:null,ascent:s,attributeName:null,attributeType:null,azimuth:s,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:s,by:null,calcMode:null,capHeight:s,className:l,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:s,diffuseConstant:s,direction:null,display:null,dur:null,divisor:s,dominantBaseline:null,download:a,dx:null,dy:null,edgeMode:null,editable:null,elevation:s,enableBackground:null,end:null,event:null,exponent:s,externalResourcesRequired:null,fill:null,fillOpacity:s,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:u,g2:u,glyphName:u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:s,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:s,horizOriginX:s,horizOriginY:s,id:null,ideographic:s,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:s,k:s,k1:s,k2:s,k3:s,k4:s,kernelMatrix:c,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:s,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:s,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:s,overlineThickness:s,paintOrder:null,panose1:null,path:null,pathLength:s,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:s,pointsAtY:s,pointsAtZ:s,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:c,r:null,radius:null,refX:null,refY:null,rel:c,rev:c,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:c,requiredFeatures:c,requiredFonts:c,requiredFormats:c,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:s,specularExponent:s,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:s,strikethroughThickness:s,string:null,stroke:null,strokeDashArray:c,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:s,strokeOpacity:s,strokeWidth:null,style:null,surfaceScale:s,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:c,tabIndex:s,tableValues:null,target:null,targetX:s,targetY:s,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:c,to:null,transform:null,u1:null,u2:null,underlinePosition:s,underlineThickness:s,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:s,values:null,vAlphabetic:s,vMathematical:s,vectorEffect:null,vHanging:s,vIdeographic:s,version:null,vertAdvY:s,vertOriginX:s,vertOriginY:s,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:s,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})},e=>{"use strict";e.exports=function(e,r){var o,i,a,s,l,u=e||"",c=r||"div",d={},f=-1,p=u.length;for(;++f<=p;)(a=u.charCodeAt(f))&&a!==t&&a!==n||((s=u.slice(l,f))&&(i===t?o?o.push(s):(o=[s],d.className=o):i===n?d.id=s:c=s),l=f+1,i=a);return{type:"element",tagName:c,properties:d,children:[]}};var t=".".charCodeAt(0),n="#".charCodeAt(0)},(e,t,n)=>{"use strict";var r=n(191),o=n(443)(r,"div");o.displayName="html",e.exports=o},(e,t,n)=>{"use strict";var r=n(101),o=n(191),i=n(192),a=n(193),s=n(486),l=n(184),u=n(444);e.exports=function(e,t){return d(e,"svg"===t?i:o)};var c=["svg","html"],d=u("type");function f(e,t,n){var r,o=n,a=e.position,s=e.children,u=[],c=s?s.length:0,f=-1;for("element"===e.type&&("html"===o.space&&"svg"===e.tagName&&(o=i),t.namespaceURI=l[o.space]);++f<c;)(r=d(s[f],o)).parentNode=t,u[f]=r;return"element"!==e.type&&"root"!==e.type||(t.childNodes=u),a&&a.start&&a.end&&(t.sourceCodeLocation={startLine:a.start.line,startCol:a.start.column,startOffset:a.start.offset,endLine:a.end.line,endCol:a.end.column,endOffset:a.end.offset}),t}d.handlers.root=function(e,t){var n=(e.data||{}).quirksMode?"quirks":"no-quirks";return f(e,{nodeName:"#document",mode:n},t)},d.handlers.element=function(e,t){var n=t.space,o=r(e,{children:[]});return s((function(n,r){var i,s,u,d,p,h=[];for(u in r)d=a(t,u),s={name:u,value:r[u]},d.space&&-1===c.indexOf(d.space)&&(-1===(p=u.indexOf(":"))?s.prefix="":(s.name=u.slice(p+1),s.prefix=u.slice(0,p)),s.namespace=l[d.space]),h.push(s);i=f(e,{nodeName:n,tagName:n,attrs:h},t),"template"===n&&(i.content=function(e,t){return f(e,{nodeName:"#document-fragment"},t)}(o.content,t));return i}),o,{space:n})},d.handlers.text=function(e,t){return f(e,{nodeName:"#text",value:e.value},t)},d.handlers.comment=function(e,t){return f(e,{nodeName:"#comment",data:e.value},t)},d.handlers.doctype=function(e,t){return f(e,{nodeName:"#documentType",name:e.name,publicId:e.public||"",systemId:e.system||""},t)}},e=>{"use strict";function t(e){if("string"==typeof e)return function(e){return t;function t(t){return Boolean(t&&t.type===e)}}(e);if(null==e)return o;if("object"==typeof e)return("length"in e?r:n)(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function n(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function r(e){var n=function(e){for(var n=[],r=e.length,o=-1;++o<r;)n[o]=t(e[o]);return n}(e),r=n.length;return function(){var e=-1;for(;++e<r;)if(n[e].apply(this,arguments))return!0;return!1}}function o(){return!0}e.exports=function e(n,r,o,i,a){var s=null!=i,l=null!=o,u=t(n);if(l&&("number"!=typeof o||o<0||o===1/0))throw new Error("Expected positive finite index or child node");if(s&&(!e(null,i)||!i.children))throw new Error("Expected parent node");if(!r||!r.type||"string"!=typeof r.type)return!1;if(s!==l)throw new Error("Expected both parent and index");return Boolean(u.call(a,r,o,i))}},(e,t,n)=>{"use strict";var r=n(640);e.exports=function(e){return function(t){return r(t,e)}}},(e,t,n)=>{"use strict";var r=n(101),o=n(571);e.exports=function(e,t){var n,i={type:"root",children:[]};if(!e||"object"!=typeof e||!e.type)return i;if(!(n=l(r(o,t||{}),e,[])))return i;if("length"in n)return 1===n.length?n[0]:(i.children=n,i);return n};var i={}.hasOwnProperty,a="data*",s={root:{children:u},doctype:function(e){return e.allowDoctypes?{name:f}:null},comment:function(e){return e.allowComments?{value:h}:null},element:{tagName:p,properties:function(e,t,n,o){var s,l,u,f,h,g=p(e,n.tagName,n,o),v=e.attributes,b=e.required||{},_=t||{},w={};for(f in s=r(m(v["*"]),m(i.call(v,g)?v[g]:[])),_){if(h=_[f],i.call(s,f))u=s[f];else{if(!y(f)||!i.call(s,a))continue;u=s[a]}null!=(h=h&&"object"==typeof h&&"length"in h?c(e,h,f,u):d(e,h,f,u))&&(w[f]=h)}for(f in l=i.call(b,g)?b[g]:{})i.call(w,f)||(w[f]=l[f]);return w},children:u},text:{value:h},"*":{data:g,position:g}};function l(e,t,n){var o,a,l,u,c=t&&t.type,d={type:t.type},f=!0;if(i.call(s,c))if("function"==typeof(o=s[c])&&(o=o(e,t)),o)for(u in a=r(o,s["*"]))!1===(l=a[u](e,t[u],t,n))?(f=!1,d[u]=t[u]):null!=l&&(d[u]=l);else f=!1;else f=!1;return f?d:d.children&&0!==d.children.length&&-1===e.strip.indexOf(d.tagName)?d.children:null}function u(e,t,n,r){var o,i=t||[],a=i.length||0,s=[],u=-1;for(r=r.concat(n.tagName);++u<a;)(o=l(e,i[u],r))&&("length"in o?s=s.concat(o):s.push(o));return s}function c(e,t,n,r){for(var o,i=t.length,a=[],s=-1;++s<i;)null!=(o=d(e,t[s],n,r))&&a.push(o);return a}function d(e,t,n,r){return"boolean"!=typeof t&&"number"!=typeof t&&"string"!=typeof t?null:function(e,t,n){var r,o,a,s,l,u=e.protocols;if(0===(u=i.call(u,n)?u[n].concat():[]).length)return!0;if(t=String(t),"#"===(o=t.charAt(0))||"/"===o)return!0;if(-1===(a=t.indexOf(":")))return!0;s=u.length,l=-1;for(;++l<s;)if(a===(r=u[l]).length&&t.slice(0,r.length)===r)return!0;if(-1!==(l=t.indexOf("?"))&&a>l)return!0;if(-1!==(l=t.indexOf("#"))&&a>l)return!0;return!1}(e,t,n)?0!==r.length&&-1===r.indexOf(t)?null:(-1!==e.clobber.indexOf(n)&&(t=e.clobberPrefix+t),t):null}function f(){return"html"}function p(e,t,n,r){var o,a,s="string"==typeof t?t:null,l=e.ancestors;if(!s||"*"===s||-1===e.tagNames.indexOf(s))return!1;if(0!==(l=i.call(l,s)?l[s]:[]).length)for(o=l.length+1,a=-1;++a<o;){if(!l[a])return!1;if(-1!==r.indexOf(l[a]))break}return s}function h(e,t){return"string"==typeof t?t:""}function m(e){for(var t,n={},r=e.length,o=-1;++o<r;)(t=e[o])&&"object"==typeof t&&"length"in t?n[t[0]]=t.slice(1):n[t]=[];return n}function g(e,t){return t}function y(e){return e.length>4&&"data"===e.slice(0,4).toLowerCase()}},e=>{"use strict";e.exports=JSON.parse('{"strip":["script"],"clobberPrefix":"user-content-","clobber":["name","id"],"ancestors":{"li":["ol","ul"],"tbody":["table"],"tfoot":["table"],"thead":["table"],"td":["table"],"th":["table"],"tr":["table"]},"protocols":{"href":["http","https","mailto"],"cite":["http","https"],"src":["http","https"],"longDesc":["http","https"]},"tagNames":["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","input"],"attributes":{"a":["href"],"img":["src","longDesc"],"input":[["type","checkbox"],["disabled",true]],"li":[["className","task-list-item"]],"div":["itemScope","itemType"],"blockquote":["cite"],"del":["cite"],"ins":["cite"],"q":["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charoff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hspace","isMap","id","label","lang","maxLength","media","method","multiple","name","nohref","noshade","nowrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","valign","value","vspace","width","itemProp"]},"required":{"input":{"type":"checkbox","disabled":true}}}')},e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},(e,t,n)=>{e.exports=!n(164)&&!n(182)((function(){return 7!=Object.defineProperty(n(446)("div"),"a",{get:function(){return 7}}).a}))},(e,t,n)=>{var r=n(383);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},(e,t,n)=>{"use strict";var r=n(164),o=n(196),i=n(680),a=n(579),s=n(374),l=n(447),u=Object.assign;e.exports=!u||n(182)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,c=1,d=i.f,f=a.f;u>c;)for(var p,h=l(arguments[c++]),m=d?o(h).concat(d(h)):o(h),g=m.length,y=0;g>y;)p=m[y++],r&&!f.call(h,p)||(n[p]=h[p]);return n}:u},(e,t,n)=>{var r=n(372),o=n(384),i=n(577)(!1),a=n(391)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},(e,t,n)=>{var r=n(384),o=n(455),i=n(578);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},(e,t,n)=>{var r=n(390),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},(e,t)=>{t.f={}.propertyIsEnumerable},(e,t,n)=>{var r=n(132),o=n(100),i=n(182);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},(e,t,n)=>{n(683);var r=n(100).Object;e.exports=function(e,t){return r.create(e,t)}},(e,t,n)=>{var r=n(414),o=n(205),i=n(196);e.exports=n(164)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},(e,t,n)=>{var r=n(168).document;e.exports=r&&r.documentElement},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,o=n(792),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},e=>{"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},(e,t,n)=>{"use strict";var r,o=n(33),i=(r=n(138))&&r.__esModule?r:{default:r};function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var u=(0,o.makeEnum)("DropletTransitionError","FirebaseRateLimitExceeded","SanitizedLevelHtml","UserJavaScriptError","RunButtonClick","StartWebRequest","StaticResourceFetchError","PegasusSectionsRedirect","DancePartyOnInit","BrambleError","BrambleFilesystemResetSuccess","BrambleFilesystemResetFailed","JotFormFrameLoaded","JotFormLoadFailed","BlockLoadFailed","MapboxMarkerLoadError","LoadScriptProgressStarted","LoadScriptProgressFinished","SectionProgressRenderedWithData","JavabuilderWebSocketConnectionError"),c=i.default.isEnabled("logPageSize")||Math.random()<.01;e.exports={PageAction:u,addPageAction:function(e,t,n){if(void 0===n&&(n=1),window.newrelic)if(u[e])if("object"===l(t)){if(!(Math.random()>n)){for(var r in t)"boolean"==typeof t[r]&&(t[r]=t[r].toString()),"string"==typeof t[r]&&(t[r]=t[r].substring(0,4095));window.newrelic.addPageAction(e,t)}}else console.log("Expected value to be an object");else console.log("Unknown actionName: "+e)},setCustomAttribute:function(e,t){window.newrelic&&window.newrelic.setCustomAttribute(e,t)},loadFinished:function(){window.newrelic&&window.newrelic.finished()},logError:function(e){window.newrelic&&window.newrelic.noticeError(e)},reportPageSize:function(){if(c)try{var e,t=performance&&performance.getEntriesByType("resource"),n=0,r=0,o=/\.js$/,i=a(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;if(void 0===s.transferSize||void 0===s.encodedBodySize)return;n+=s.transferSize,o.test(s.name)&&(r+=s.transferSize)}}catch(l){i.e(l)}finally{i.f()}if(!window.newrelic)return;window.newrelic.setCustomAttribute("totalDownloadSize",n),window.newrelic.setCustomAttribute("jsDownloadSize",r)}catch(u){this.logError(u)}}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=u(n(1)),o=u(n(2)),i=u(n(382)),a=n(811),s=u(n(59)),l=u(n(53));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.children,n=l.default.uniqueId();return r.default.createElement("span",{"data-for":n,"data-tip":!0},r.default.createElement(s.default,{icon:"question-circle-o",style:{cursor:"pointer",marginLeft:"0.5em",marginRight:"0.5em"}}),r.default.createElement(a.Portal,null,r.default.createElement(i.default,{id:n,role:"tooltip",effect:"solid"},r.default.createElement("div",{style:{maxWidth:400}},t))))}c.propTypes={children:o.default.node.isRequired},e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n,i){return(0,r.default)(e,t,n,i),{remove:function(){(0,o.default)(e,t,n,i)}}};var r=i(n(469)),o=i(n(470));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0;var r=d(n(167)),o=d(n(2)),i=d(n(423)),a=d(n(1)),s=d(n(36)),l=d(n(425)),u=d(n(375)),c=d(n(701));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;f(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=p(this,e.call.apply(e,[this].concat(i))),r.getMountNode=function(){return r._portalContainerNode},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){if(r.default){var e=this.props.container;"function"==typeof e&&(e=e()),e&&!s.default.findDOMNode(e)||this.setContainer(e)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(e){this._portalContainerNode=(0,l.default)(e,(0,u.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?s.default.createPortal(this.props.children,this._portalContainerNode):null},t}(a.default.Component);h.displayName="Portal",h.propTypes={container:o.default.oneOfType([i.default,o.default.func]),onRendered:o.default.func},t.default=s.default.createPortal?h:c.default,e.exports=t.default},(e,t,n)=>{e.exports=n(678)},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o,i,a,s,l,u,c,d,f,p,h,m=r(n(167)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=i,t.transitionDelay=c,t.transitionTiming=u,t.transitionDuration=l,t.transitionProperty=s,t.animationDelay=h,t.animationTiming=p,t.animationDuration=f,t.animationName=d,m.default){var y=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},o=Object.keys(r),i="",a=0;a<o.length;a++){var s=o[a];if(s+"TransitionProperty"in n){i="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:i}}();o=y.prefix,t.transitionEnd=i=y.transitionEnd,t.animationEnd=a=y.animationEnd,t.transform=g=o+"-"+g,t.transitionProperty=s=o+"-transition-property",t.transitionDuration=l=o+"-transition-duration",t.transitionDelay=c=o+"-transition-delay",t.transitionTiming=u=o+"-transition-timing-function",t.animationName=d=o+"-animation-name",t.animationDuration=f=o+"-animation-duration",t.animationTiming=p=o+"-animation-delay",t.animationDelay=h=o+"-animation-timing-function"}var v={transform:g,end:i,property:s,timing:u,delay:c,duration:l};t.default=v},,(e,t,n)=>{e.exports=n(686)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertXmlToBlockly=function(e,t){var n=e.getElementsByTagName("xml");Array.prototype.forEach.call(n,(function(e){if(!e.getElementsByTagName("svg").length){!function(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return NodeFilter.FILTER_ACCEPT}},!1),n=t.nextNode();if(n){for(;t.nextNode();)n.remove(),n=t.currentNode;n.remove()}}(e);var n="P"===e.parentNode.tagName,r=document.createElement(n?"span":"div");n&&(r.style.display="inline-block"),e.parentNode.insertBefore(r,e),e.style.display="none";var o=Blockly.BlockSpace.createReadOnlyBlockSpace(r,e,{noScrolling:!0,inline:n,rtl:t}),i=!n,a=o.getMetrics();Blockly.addChangeListener(o,(function(){var e=a.contentHeight,t=a.contentWidth,n=o.getMetrics().contentHeight,r=o.getMetrics().contentWidth;n===e&&r===t||(s(o,i),a=o.getMetrics())})),s(o,i)}}))},t.getOuterHeight=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(r.default.findDOMNode(e)).outerHeight(t)},t.hasInstructions=function(e,t,n){return!!(e||t||n)},t.scrollBy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,r=e.scrollTop+t;a(e,r,n)},t.scrollTo=a,t.shouldDisplayChatTips=function(e){switch(e){case"calc":case"eval":case"jigsaw":case"infinity":case"anna":case"elsa":case"craft":case"hoc2015":case"hoc2015x":return!1;default:return!0}},t.shrinkBlockSpaceContainer=s;var r=i(n(36)),o=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;if(n){var r=(0,o.default)(e);r.is(":animated")||r.animate({scrollTop:t},n)}else e.scrollTop=t}function s(e,t){var n=e.getContainer(),r=e.getMetrics(),o=r.contentHeight,i=r.contentWidth;t&&(o+=2*r.contentTop,i+=r.contentLeft),n.style.height=o+"px",n.style.width=i+"px",Blockly.cdoUtils.workspaceSvgResize(e)}},,(e,t,n)=>{"use strict";var r=i(n(180)),o=i(n(181));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("javalab_locale");a=(0,o.default)(a,"javalab"),e.exports=a},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,i.default)(t),r=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,o.default)(r,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:s.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var o=r(n(202)),i=r(n(424)),a=r(n(201));e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e,t){var n=(0,o.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var o=r(n(424));e.exports=t.default},e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},(e,t,n)=>{var r=n(414).f,o=n(372),i=n(198)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},e=>{"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},,,,function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var o,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),d=/silk/i.test(t),f=/sailfish/i.test(t),p=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),y=!a&&!d&&/macintosh/i.test(t),v=!s&&!f&&!p&&!h&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),E=!w&&/[^-]mobi/i.test(t),O=/xbox/i.test(t);/opera/i.test(t)?o={name:"Opera",opera:e,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?o={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?o={name:"Samsung Internet for Android",samsungBrowser:e,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?o={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?o={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?o={name:"Opera Coast",coast:e,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?o={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?o={name:"Yandex Browser",yandexbrowser:e,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?o={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?o={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?o={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?o={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?o={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?o={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(o.msedge=e,o.version=b):(o.msie=e,o.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?o={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?o={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?o={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?o={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?o={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?o={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(o={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(o.firefoxos=e,o.osname="Firefox OS")):d?o={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?o={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?o={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(o={name:"WebOS",osname:"WebOS",webos:e,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(o.touchpad=e)):/bada/i.test(t)?o={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:p?o={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?o={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?o={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?o={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?o={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(o={name:"Safari",safari:e},_&&(o.version=_)):a?(o={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},_&&(o.version=_)):o=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(o.name=o.name||"Blink",o.blink=e):(o.name=o.name||"Webkit",o.webkit=e),!o.version&&_&&(o.version=_)):!o.opera&&/gecko\//i.test(t)&&(o.name=o.name||"Gecko",o.gecko=e,o.version=o.version||n(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!s&&!o.silk?!o.windowsphone&&a?(o[a]=e,o.ios=e,o.osname="iOS"):y?(o.mac=e,o.osname="macOS"):O?(o.xbox=e,o.osname="Xbox"):g?(o.windows=e,o.osname="Windows"):v&&(o.linux=e,o.osname="Linux"):(o.android=e,o.osname="Android");var S="";o.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?S=n(/android[ \/-](\d+(\.\d+)*)/i):o.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?S=n(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(o.osversion=S);var T=!o.windows&&S.split(".")[0];return w||u||"ipad"==a||s&&(3==T||T>=4&&!E)||o.silk?o.tablet=e:(E||"iphone"==a||"ipod"==a||s||l||o.blackberry||o.webos||o.bada)&&(o.mobile=e),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===i([o.version,"1.0"])||o.mzbrowser&&1===i([o.version,"6.0"])||o.focus&&1===i([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=e:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=e:o.x=e,o}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function o(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function i(e){for(var t=Math.max(r(e[0]),r(e[1])),n=o(e,(function(e){var n=t-r(e);return o((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,o){var a=n;"string"==typeof r&&(o=r,r=void 0),void 0===r&&(r=!1),o&&(a=t(o));var s=""+a.version;for(var l in e)if(e.hasOwnProperty(l)&&a[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return i([s,e[l]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=i,n.check=function(e,t,n){return!a(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=r():n.amdD("bowser",r)},(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=E(n(496)),i=E(n(202)),a=E(n(167)),s=E(n(2)),l=E(n(423)),u=E(n(699)),c=E(n(54)),d=n(1),f=E(d),p=E(n(36)),h=E(n(134)),m=E(n(700)),g=E(n(589)),y=E(n(702)),v=E(n(588)),b=E(n(703)),_=E(n(425)),w=E(n(375));function E(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=new m.default,C=function(e){function t(){var n,r;O(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=S(this,e.call.apply(e,[this].concat(i))),k.call(r),S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n=Object.keys(e),r={};return n.map((function(n){Object.prototype.hasOwnProperty.call(t,n)||(r[n]=e[n])})),r},t.prototype.render=function(){var e=this.props,n=e.show,o=e.container,i=e.children,a=e.transition,s=e.backdrop,l=e.className,u=e.style,c=e.onExit,p=e.onExiting,h=e.onEnter,m=e.onEntering,v=e.onEntered,b=f.default.Children.only(i),_=this.omitProps(this.props,t.propTypes);if(!(n||a&&!this.state.exited))return null;var w=b.props,E=w.role,O=w.tabIndex;return void 0!==E&&void 0!==O||(b=(0,d.cloneElement)(b,{role:void 0===E?"document":E,tabIndex:null==O?"-1":O})),a&&(b=f.default.createElement(a,{appear:!0,unmountOnExit:!0,in:n,onExit:c,onExiting:p,onExited:this.handleHidden,onEnter:h,onEntering:m,onEntered:v},b)),f.default.createElement(g.default,{ref:this.setMountNode,container:o,onRendered:this.onPortalRendered},f.default.createElement("div",r({ref:this.setModalNodeRef,role:E||"dialog"},_,{style:u,className:l}),s&&this.renderBackdrop(),f.default.createElement(y.default,{ref:this.setDialogRef},b)))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.UNSAFE_componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,o.default)((0,w.default)(this));e&&!(0,i.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,h.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return p.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(f.default.Component);C.propTypes=r({},g.default.propTypes,{show:s.default.bool,container:s.default.oneOfType([l.default,s.default.func]),onShow:s.default.func,onHide:s.default.func,backdrop:s.default.oneOfType([s.default.bool,s.default.oneOf(["static"])]),renderBackdrop:s.default.func,onEscapeKeyDown:s.default.func,onEscapeKeyUp:(0,u.default)(s.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:s.default.func,backdropStyle:s.default.object,backdropClassName:s.default.string,containerClassName:s.default.string,keyboard:s.default.bool,transition:c.default,backdropTransition:c.default,autoFocus:s.default.bool,enforceFocus:s.default.bool,restoreFocus:s.default.bool,onEnter:s.default.func,onEntering:s.default.func,onEntered:s.default.func,onExit:s.default.func,onExiting:s.default.func,onExited:s.default.func,manager:s.default.object.isRequired}),C.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:T,renderBackdrop:function(e){return f.default.createElement("div",e)}};var k=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,r=t.backdropClassName,o=t.renderBackdrop,i=t.backdropTransition,a=o({ref:function(t){return e.backdrop=t},style:n,className:r,onClick:e.handleBackdropClick});return i&&(a=f.default.createElement(i,{appear:!0,in:e.props.show},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,w.default)(e),n=(0,_.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,v.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,v.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,b.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;(e.setState({exited:!0}),e.onHide(),e.props.onExited)&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){a.default&&(e.lastFocus=(0,o.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,o.default)((0,w.default)(e));t&&!(0,i.default)(t,n)&&t.focus()}}};C.Manager=m.default,t.default=C,e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(2)),i=c(n(54)),a=c(n(1)),s=c(n(589)),l=c(n(704)),u=c(n(498));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.handleHidden=function(){var e;(o.setState({exited:!0}),o.props.onExited)&&(e=o.props).onExited.apply(e,arguments)},o.state={exited:!n.show},o.onHiddenListener=o.handleHidden.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,r=e.target,o=e.placement,i=e.shouldUpdatePosition,c=e.rootClose,d=e.children,f=e.transition,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(p.show||f&&!this.state.exited))return null;var h=d;if(h=a.default.createElement(l.default,{container:t,containerPadding:n,target:r,placement:o,shouldUpdatePosition:i},h),f){var m=p.onExit,g=p.onExiting,y=p.onEnter,v=p.onEntering,b=p.onEntered;h=a.default.createElement(f,{in:p.show,appear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:y,onEntering:v,onEntered:b},h)}return c&&(h=a.default.createElement(u.default,{onRootClose:p.onHide,event:p.rootCloseEvent},h)),a.default.createElement(s.default,{container:t},h)},t}(a.default.Component);d.propTypes=r({},s.default.propTypes,l.default.propTypes,{show:o.default.bool,rootClose:o.default.bool,rootCloseEvent:u.default.propTypes.event,onHide:function(e){var t=o.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[e].concat(r))},transition:i.default,onEnter:o.default.func,onEntering:o.default.func,onEntered:o.default.func,onExit:o.default.func,onExiting:o.default.func,onExited:o.default.func}),t.default=d,e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropletStringBlocks=t.dropletGlobalConfigBlocks=t.dropletBuiltinConfigBlocks=t.dropletArrayBlocks=t.__TestInterface=void 0,t.generateAceApiCompleter=function(e,t){var n=[],r=[],o={};if(o.autocompleteFunctionsWithSemicolon=t.autocompleteFunctionsWithSemicolon,e){var i=k(e,t,null,{paletteOnly:!0});I(o,n,r,i)}else I(o,n,r,w),I(o,n,r,E),I(o,n,r,t.blocks),function(e,t){t&&t.forEach((function(t){e.push({name:"api",value:t,score:100,meta:"constants"})}))}(n,t.additionalPredefValues);return{getCompletions:function(e,t,o,i,a){!function(e){e.completer.updateCompletions!==D&&(T=e.completer.updateCompletions,e.completer.updateCompletions=D)}(e);var s=e.session.getTokenAt(o.row,o.column);if(0===i.length||"comment"===s.type||i.length<3&&!isNaN(Number(i)))a(null,[]);else{var l=function(e,t){var n=window.ace.require("ace/autocomplete/util"),r=e.getLine(t.row),o=n.retrievePrecedingIdentifier(r,t.column);if(o.length>0&&o.length<t.column){return"."===r[t.column-o.length-1]}return!1}(t,o)?r:n;a(null,R(i,l))}}}},t.generateCodeAliases=function(e,t){for(var n="",r=e.blocks,o=0;o<r.length;o++){var i=r[o];n+="var "+i.func+" = function() { ",i.idArgNone?n+="return "+t+"."+i.func+".apply("+t+", arguments); };\n":n+="var newArgs = "+(i.idArgLast?"arguments.concat(['']);":"[''].concat(arguments);")+" return "+t+"."+i.func+".apply("+t+", newArgs); };\n"}return n},t.generateDropletModeOptions=function(e){return{functions:f(f(f({},j({blocks:w},e.level.codeFunctions)),j({blocks:E},e.level.codeFunctions)),j(e.dropletConfig,e.level.codeFunctions)),categories:{arithmetic:{color:y},logic:{color:y},conditionals:{color:g},loops:{color:g,beginner:e.level.beginnerMode||!1},functions:{color:m},returns:{color:m},comments:{color:"#FFFFFF"},containers:{color:h},value:{color:h},command:{color:m},assignments:{color:h}},lockZeroParamFunctions:e.level.lockZeroParamFunctions,lockFunctionDropIntoKnownParams:e.lockFunctionDropIntoKnownParams,paramButtonsForUnknownFunctions:!0,createSocketForKnownBlock:!0}},t.generateDropletPalette=function(e,t){for(var n=A(t),r=k(e,t,C,{paletteOnly:!0,ignoreDocFunc:!0}),o=0;o<r.length;o++){var i=r[o],a=i.block,s=i.expansion;if("Goals"===i.category&&i.goal)a="// "+i.goal;else if(!a){var l=i.func;if(i.blockPrefix&&(l=i.blockPrefix+l),"property"===i.type||"readonlyproperty"===i.type)a=l;else{var u=i.paletteParams||i.params;a=P(l,u),i.paletteParams&&(s=P(l,i.params))}}s||"property"!==i.type||(s=x(a));var c={block:a,expansion:s,title:i.modeOptionName||i.func};n[i.category].blocks.push(c)}var d=[];for(var f in n)n[f].blocks.length>0&&(n[f].name=f,d.push(n[f]));return d},t.getAllAvailableDropletBlocks=function(e,t,n){var r=e&&e.blocks,o=r?e.blocks:[];t&&r&&(o=k(t,e,null,{paletteOnly:n}));return w.concat(E).concat(C.blocks).concat(o)},t.getFirstParam=function(e,t,n){return N(0,e,t,n)},t.getSecondParam=function(e,t,n){return N(1,e,t,n)},t.makeDisabledConfig=function(e){return f(f({},e),{},{categories:{},additionalPredefValues:[],blocks:e.blocks.map((function(e){return f(f({},e),{},{category:void 0,color:o.default.light_gray,noAutocomplete:!0})}))})},t.setParamAtIndex=function(e,t,n){var r=(0,i.singleton)().editor;if(!n||!r)return;var o=n.start,a=-1,s=0;do{if("socketStart"===o.type){if(0===s&&a++,s++,a!==e){o=o.next;continue}var l=o.container;r.undoCapture(),r.populateSocket(l,t),r.redrawPalette(),r.redrawMain();break}if("socketEnd"===o.type&&--s<0)break;o=o.next}while(o)};var r=l(n(53)),o=l(n(20)),i=n(619),a=n(1349),s=l(n(1336));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h="#BB77C7",m="#68D995",g="#64B5F6",y="#FFB74D",v="[string].",b="str.",_="list.",w=[{func:"getTime",parent:a.globalFunctions,category:"Control",type:"value"},{func:"randomNumber",parent:a.globalFunctions,category:"Math",type:"value",params:["1","10"]},{func:"prompt",parent:window,category:"Variables",type:"value",params:["__"]},{func:"promptNum",parent:a.globalFunctions,category:"Variables",type:"value",params:["__"]}];t.dropletGlobalConfigBlocks=w;var E=[{func:"Math.round",category:"Math",type:"value",params:["__"],docFunc:"mathRound"},{func:"Math.abs",category:"Math",type:"value",params:["__"],docFunc:"mathAbs"},{func:"Math.max",category:"Math",type:"value",params:["__"],docFunc:"mathMax"},{func:"Math.min",category:"Math",type:"value",params:["__"],docFunc:"mathMin"},{func:"Math.random",category:"Math",type:"value",docFunc:"mathRandom"},{func:"Math.pow",category:"Math",type:"value",params:["__"],docFunc:"mathPow"},{func:"Math.sqrt",category:"Math",type:"value",params:["__"],docFunc:"mathSqrt"}];t.dropletBuiltinConfigBlocks=E;var O=[{func:"declareAssign_str_hello_world",block:'var str = "Hello World";',category:"Variables",noAutocomplete:!0},{func:"substring",blockPrefix:b,category:"Variables",paletteParams:["start","end"],params:["6","11"],modeOptionName:"*.substring",tipPrefix:v,type:"value"},{func:"indexOf",blockPrefix:b,category:"Variables",paletteParams:["searchValue"],params:['"World"'],modeOptionName:"*.indexOf",tipPrefix:v,type:"value"},{func:"includes",blockPrefix:b,category:"Variables",paletteParams:["searchValue"],params:['"World"'],modeOptionName:"*.includes",tipPrefix:v,type:"value"},{func:"length",blockPrefix:b,category:"Variables",modeOptionName:"*.length",tipPrefix:v,type:"property"},{func:"toUpperCase",blockPrefix:b,category:"Variables",modeOptionName:"*.toUpperCase",tipPrefix:v,type:"value"},{func:"toLowerCase",blockPrefix:b,category:"Variables",modeOptionName:"*.toLowerCase",tipPrefix:v,type:"value"}];t.dropletStringBlocks=O;var S=[{func:"declareAssign_list_123",block:"var list = [1, 2, 3];",category:"Variables",noAutocomplete:!0},{func:"declareAssign_list_abd",block:'var list = ["a", "b", "d"];',category:"Variables",noAutocomplete:!0},{func:"accessListItem",block:"list[0]",category:"Variables",noAutocomplete:!0},{func:"listLength",block:"list.length",category:"Variables",noAutocomplete:!0,tipPrefix:"[list].",type:"property"},{func:"join",blockPrefix:_,category:"Variables",modeOptionName:"*.join",tipPrefix:_,paletteParams:["separator"],params:['"-"'],type:"value"},{func:"insertItem",parent:s.default,category:"Variables",paletteParams:["list","index","item"],params:["list","2",'"c"'],dontMarshal:!0},{func:"appendItem",parent:s.default,category:"Variables",paletteParams:["list","item"],params:["list",'"f"'],dontMarshal:!0},{func:"removeItem",parent:s.default,category:"Variables",paletteParams:["list","index"],params:["list","0"],dontMarshal:!0}];t.dropletArrayBlocks=S;var T,C={};function k(e,t,n,r){if(!e||!t||!t.blocks)return[];r=r||{};var o=[];n&&(o=o.concat(n.blocks)),o=o.concat(t.blocks);var i={};return o.forEach((function(t){if(t.func in e&&!r.ignoreDocFunc){var n=t.docFunc;n&&!(n in e)&&(i[n]=null)}})),o.filter((function(t){return!r.paletteOnly||t.func in e||t.func in i})).map((function(t){return f(f({},t),e[t.func])}))}function A(e){var t=e&&e.categories;return r.default.cloneDeep(f(f(f({},t),C.categories),t))}function P(e,t){var n=e+"(";if(t)for(var r=0;r<t.length;r++)0!==r&&(n+=", "),n+=t[r];return n+")"}function x(e){return function(t){return t&&"socket"!==t.type?e+" = __;":e}}function I(e,t,n,r){for(var o=window.ace.require("ace/autocomplete/util"),i=function(i){var a=r[i];if(!a.noAutocomplete){var s={name:"api",value:a.modeOptionName||a.func,score:100,meta:a.category},l=0===s.value.indexOf("*.")||0===s.value.indexOf("?.");l&&(s.docFunc=s.value,s.value=s.value.substring(2)),s.completer={insertMatch:function(t,n){var r=!1;if(n.completer.completions.filterText)for(var i,s=n.selection.getAllRanges(),l=0;i=s[l];l++){i.start.column-=n.completer.completions.filterText.length;var u=n.session.getLine(i.end.row),c=o.retrieveFollowingIdentifier(u,i.end.column).length;i.end.column+=c,r="("===u[i.end.column],n.session.remove(i)}if("property"===a.type||"readonlyproperty"===a.type)n.execCommand("insertstring",t);else{var d=r?"":e.autocompleteFunctionsWithSemicolon?"();":"()";if(n.execCommand("insertstring",t+d),this.params){var f,p=n.selection.getRange();f=r?1:-(d.length-1),p.start.column+=f,p.end.column+=f,n.selection.setSelectionRange(p)}}}.bind(a,s.value)},l?n.push(s):t.push(s)}},a=0;a<r.length;a++)i(a)}function R(e,t){var n=e.replace(/_|\./g,"").toLowerCase();return t.filter((function(e){var t,r=e.value.replace(".","_").replace(/([A-Z](?=[A-Z][a-z])|[^A-Z](?=[A-Z])|[a-zA-Z](?=[^a-zA-Z]))/g,"$1_").split("_"),o=u(r.map((function(e,t){return r.slice(t).join("")})));try{for(o.s();!(t=o.n()).done;){if(0===t.value.toLowerCase().indexOf(n))return e}}catch(i){o.e(i)}finally{o.f()}}))}function D(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),n=this.editor.session.getTextRange({start:this.base,end:t});this.completions.all=R(n,this.completions.all),this.completions.filtered=this.completions.all,this.completions.filterText=""}return T.call(this,e)}function j(e,t){for(var n=A(e),r=k(t,e,null,null),o={},i=0;i<r.length;i++){var a=r[i],s={};switch(a.type){case"value":s.value=!0;break;case"either":s.value=!0,s.command=!0;break;case"property":case"readonlyproperty":s.property=!0,s.value=!0}var l=n[a.category];"string"==typeof a.color&&a.color.length>0?s.color=a.color:l&&(s.color=l.rgb||l.color),s.dropdown=a.dropdown,s.objectDropdown=a.objectDropdown,s.allowFunctionDrop=a.allowFunctionDrop,a.paramButtons&&(s.minArgs=a.paramButtons.minArgs,s.maxArgs=a.paramButtons.maxArgs);var u=a.modeOptionName||a.func;s.title=u,o[u]=s}return o}function N(e,t,n,r){if(!n){var o=r.session.selection.getCursor();return L(e,t,r.session.getLine(o.row).substring(0,o.column))}var i=n.start,a=-1;do{if("socketStart"===i.type){if(++a!==e){i=i.next;continue}var s=i.next;if("text"===s.type)return s.value;if("blockStart"===s.type)return s.next.value;throw new Error("unexpected")}i=i.next}while(i);return null}function L(e,t,n){var r="".concat(t,"(");n=n.slice(n.lastIndexOf(r));var o="^".concat(t,"\\(((?:(?:\\([^\\)]*\\))|(?:\"[^\"]*\")|(?:'[^']*')|[^)]*)*)\\)?\\s*$"),i=new RegExp(o).exec(n);return i?function(e,t){var n=t.split(/("[^"]*"|'[^']*')/);return t=n.reduce((function(e,t){var n=encodeURIComponent(t);return t.startsWith('"')||t.startsWith("'")?e+n:e+n.replace(/%2C/g,",")}),"").split(","),decodeURIComponent(t[e]).split('"').join("").split("'").join("").trim()}(e,i[1]):null}C.blocks=[{func:"forLoop_i_0_4",block:"for (var i = 0; i < 4; i++) {\n  __;\n}",category:"Control"},{func:"whileBlock",block:"while (__) {\n  __;\n}",category:"Control"},{func:"ifBlock",block:"if (__) {\n  __;\n}",category:"Control"},{func:"ifElseBlock",block:"if (__) {\n  __;\n} else {\n  __;\n}",category:"Control"},{func:"getTime",block:"getTime()",category:"Control",type:"value"},{func:"addOperator",block:"__ + __",category:"Math"},{func:"subtractOperator",block:"__ - __",category:"Math"},{func:"multiplyOperator",block:"__ * __",category:"Math"},{func:"divideOperator",block:"__ / __",category:"Math"},{func:"moduloOperator",block:"__ % __",category:"Math"},{func:"equalityOperator",block:"__ == __",category:"Math"},{func:"inequalityOperator",block:"__ != __",category:"Math"},{func:"greaterThanOperator",block:"__ > __",category:"Math"},{func:"greaterThanOrEqualOperator",block:"__ >= __",category:"Math"},{func:"lessThanOperator",block:"__ < __",category:"Math"},{func:"lessThanOrEqualOperator",block:"__ <= __",category:"Math"},{func:"andOperator",block:"__ && __",category:"Math"},{func:"orOperator",block:"__ || __",category:"Math"},{func:"notOperator",block:"!__",category:"Math"},{func:"randomNumber_min_max",block:"randomNumber(1, 10)",category:"Math"},{func:"mathRound",block:"Math.round(__)",category:"Math"},{func:"mathAbs",block:"Math.abs(__)",category:"Math"},{func:"mathMax",block:"Math.max(__)",category:"Math"},{func:"mathMin",block:"Math.min(__)",category:"Math"},{func:"mathRandom",block:"Math.random()",category:"Math"},{func:"mathPow",block:"Math.pow(__, __)",category:"Math"},{func:"mathSqrt",block:"Math.sqrt(__)",category:"Math"},{func:"mathIncrement",block:"__++",category:"Math"},{func:"mathDecrement",block:"__--",category:"Math"},{func:"declareAssign_x",block:"var x = __;",category:"Variables"},{func:"declareNoAssign_x",block:"var x;",category:"Variables"},{func:"assign_x",block:"x = __;",category:"Variables"},{func:"declareAssign_x_array_1_4",block:"var x = [1, 2, 3, 4];",category:"Variables"},{func:"declareAssign_x_prompt",block:'var x = prompt("Enter a value");',category:"Variables"},{func:"declareAssign_x_promptNum",block:'var x = promptNum("Enter a value");',category:"Variables"},{func:"functionParams_none",block:"function myFunction() {\n  __;\n}",category:"Functions"},{func:"functionParams_n",block:"function myFunction(n) {\n  __;\n}",category:"Functions"},{func:"callMyFunction",block:"myFunction()",category:"Functions"},{func:"callMyFunction_n",block:"myFunction(n)",category:"Functions"},{func:"return",block:"return __;",category:"Functions"},{func:"comment",block:"// Comment",expansion:"// ",category:"Functions"}],C.categories={Control:{id:"control",color:"blue",rgb:g,blocks:[]},Math:{id:"math",color:"orange",rgb:y,blocks:[]},Variables:{id:"variables",color:"purple",rgb:h,blocks:[]},Functions:{id:"functions",color:"green",rgb:m,blocks:[]},"":{id:"default",blocks:[]}};var M={mergeCategoriesWithConfig:A,filteredBlocksFromConfig:k,getParamFromCodeAtIndex:L};t.__TestInterface=M},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableDefaults=t.tableHeaderRowDefaults=t.tableHeaderRowTypes=t.tableHeaderContextTypes=t.tableHeaderTypes=t.tableBodyRowDefaults=t.tableBodyRowTypes=t.tableBodyContextTypes=t.tableBodyDefaults=t.tableBodyTypes=t.tableContextTypes=t.tableTypes=void 0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};var a=i.default.arrayOf(i.default.shape({header:i.default.shape({label:i.default.string,transforms:i.default.arrayOf(i.default.func),formatters:i.default.arrayOf(i.default.func),props:i.default.object}),cell:i.default.shape({property:i.default.oneOfType([i.default.number,i.default.string]),transforms:i.default.arrayOf(i.default.func),formatters:i.default.arrayOf(i.default.func),props:i.default.object})})),s=i.default.arrayOf(i.default.array),l=i.default.oneOfType([a,s]),u=i.default.oneOfType([i.default.func,i.default.string]),c=i.default.oneOfType([i.default.array,i.default.object]),d={columns:i.default.array.isRequired,renderers:i.default.object,components:i.default.object},f={columns:i.default.array.isRequired,renderers:i.default.object},p={onRow:i.default.func,rows:l.isRequired,rowKey:u},h={columns:i.default.array.isRequired,renderers:i.default.object},m={columns:i.default.array.isRequired,renderers:i.default.object,onRow:i.default.func,rowIndex:i.default.number.isRequired,rowData:c.isRequired,rowKey:i.default.string.isRequired},g={headerRows:i.default.arrayOf(a),children:i.default.any},y={columns:i.default.array.isRequired,renderers:i.default.object},v={renderers:i.default.object,onRow:i.default.func,rowIndex:i.default.number.isRequired,rowData:c.isRequired};t.tableTypes=d,t.tableContextTypes=f,t.tableBodyTypes=p,t.tableBodyDefaults={onRow:function(){}},t.tableBodyContextTypes=h,t.tableBodyRowTypes=m,t.tableBodyRowDefaults={onRow:function(){return{}}},t.tableHeaderTypes=g,t.tableHeaderContextTypes=y,t.tableHeaderRowTypes=v,t.tableHeaderRowDefaults={onRow:function(){return{}}},t.tableDefaults={renderers:{table:"table",header:{wrapper:"thead",row:"tr",cell:"th"},body:{wrapper:"tbody",row:"tr",cell:"td"}}}},(e,t,n)=>{"use strict";var r=n(613);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(500),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default.shape({subscribe:i.default.func.isRequired,dispatch:i.default.func.isRequired,getState:i.default.func.isRequired})},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}},e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},(e,t,n)=>{"use strict";const r=n(1254),o=n(1255),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||X(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function _(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(X(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return K(G(t,e.length-n),e,n,r)}function E(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return K($(t),e,n,r)}function S(e,t,n,r){return K(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n);for(let l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function A(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=J[e[i]];return o}function I(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,o){W(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function N(e,t,n,r,o){W(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function L(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Z((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Z((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const F={};function U(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=H(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},(e,t,n)=>{"use strict";var r,o=a(n(53)),i=a(n(534));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=["uservisible","deletable","movable"],h=[184,1,.74];t.createToolbox=function(e){return'<xml id="toolbox" style="display: none;">'+e+"</xml>"};var m=function(e,t){var n=e.firstChild;return t.forEach((function(t){var r=e.createElement("block");r.setAttribute("type",t),n.appendChild(r)})),i.default.serialize(e)};t.appendBlocks=m,t.appendBlocksByCategory=function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml");if(!n.querySelector("category")){var r=o.default.flatten(Object.values(t));return m(n,r)}return Object.keys(t).forEach((function(e){var r=n.querySelector('category[name="'.concat(e,'"]')),o=!0;r||(r=n.createElement("category"),o=!1),r.setAttribute("name",e),t[e].forEach((function(e){if(!r.querySelector('block[type="'.concat(e,'"]'))){var t=n.createElement("block");t.setAttribute("type",e),r.appendChild(t)}})),o||n.firstChild.appendChild(r)})),i.default.serialize(n)},t.blockOfType=function(e,t,n){var r="";if(t)for(var o in t)r+='<title name="'.concat(o,'">').concat(t[o],"</title>");if(n)for(var i in n)r+='<value name="'.concat(i,'">\n        <block type="').concat(n[i].type,'">\n          <title name="').concat(n[i].titleName,'">').concat(n[i].titleValue,"</title>\n        </block>\n      </value>");return'<block type="'.concat(e,'">').concat(r,"</block>")},t.blockAsXmlNode=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.parseElement(t.blockOfType(e,n.titles,n.values)).firstChild},t.blockWithNext=function(e,t,n){var r="";if(t)for(var o in t)r+='<title name="'+o+'">'+t[o]+"</title>";return'<block type="'+e+'">'+r+"<next>"+n+"</next></block>"},t.blocksFromList=function(e){return 1===e.length?this.blockOfType(e[0]):this.blockWithNext(e[0],{},this.blocksFromList(e.slice(1)))},t.createCategory=function(e,t,n){return'<category name="'+e+'"'+(n?' custom="'+n+'"':"")+">"+t+"</category>"},t.generateSimpleBlock=function(e,t,n){["name","title","tooltip","functionName"].forEach((function(e){if(!n[e])throw new Error('generateSimpleBlock requires param "'+e+'"')}));var r=n.name,o=n.helpUrl||"",i=n.title,a=n.titleImage,s=n.tooltip,l=n.functionName;e.Blocks[r]={helpUrl:o,init:function(){Blockly.cdoUtils.setHSV(this,184,1,.74);var t=this.appendDummyInput();i&&t.appendField(i),a&&t.appendField(new e.FieldImage(a)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(s)}},t[r]=function(){return l+"('block_id_"+this.id+"');\n"}},t.domToBlock=function(e){return Blockly.Xml.domToBlock(Blockly.mainBlockSpace,e)},t.domStringToBlock=function(e){return t.domToBlock(i.default.parseElement(e).firstChild)},t.forceInsertTopBlock=function(e,t){if(e=e||"",null===t||-1!==e.indexOf(t))return e;var n=i.default.parseElement(e),r=n.parentNode,o=r.createElement("block");o.setAttribute("type",t),o.setAttribute("movable","false"),o.setAttribute("deletable","false");for(var a,s=n.childNodes?n.childNodes.length:0,l=null,u=0;u<s&&null===l;){var c=n.childNodes[u];if(1===c.nodeType){var d=c.getAttribute("type");"procedures_defnoreturn"!==d&&"procedures_defreturn"!==d&&(l=n.removeChild(c),s--)}u++}null!==l&&(/^functional/.test(t)?(a=r.createElement("functional_input")).setAttribute("name","ARG1"):a=r.createElement("next"),a.appendChild(l),o.appendChild(a));return s>0?n.insertBefore(o,n.childNodes[0]):n.appendChild(o),i.default.serialize(n)},t.calcBlockXml=function(e,n){for(var r='<block type="'+e+'" inline="false">',o=1;o<=n.length;o++){r+='<functional_input name="ARG'+o+'">';var i=n[o-1];"number"==typeof i?i='<block type="functional_math_number"><title name="NUM">'+i+"</title></block>":/^<block/.test(i)||(i=t.calcBlockGetVar(i)),r+=i,r+="</functional_input>"}return r+="</block>"},t.calcBlockGetVar=function(e){return'<block type="functional_parameters_get" uservisible="false">  <mutation>    <outputtype>Number</outputtype>  </mutation>  <title name="VAR">'+e+"</title></block>"},t.mathBlockXml=function(e,t,n){var r='<block type="'+e+'" inline="false">';for(var o in n)r+='<title name="'+o+'">'+n[o]+"</title>";for(var i in t)r+='<functional_input name="'+i+'">'+t[i]+"</functional_input>";return r+="</block>"},t.functionalDefinitionXml=function(e,t,n,r){var o="<mutation>";return n.forEach((function(e){o+='<arg name="'+e.name+'" type="'+e.type+'"></arg>'})),'<block type="functional_definition" inline="false">'+(o+="<outputtype>"+t+"</outputtype></mutation>")+'<field name="NAME">'+e+'</field><functional_input name="STACK">'+r+"</functional_input></block>"},t.functionalCallXml=function(e,t,n){if(t.length!==n.length)throw new Error("must define contents for each arg");var r='<mutation name="'+e+'">';t.forEach((function(e){r+='<arg name="'+e.name+'" type="'+e.type+'"></arg>'})),r+="</mutation>";var o="";return n.forEach((function(e,t){o+='<functional_input name="ARG'+t+'">'+e+"</functional_input>"})),'<block type="functional_call">'+r+o+"</block>"},t.cleanBlocks=function(e){i.default.visitAll(e,(function(e){e.getAttribute&&p.forEach((function(t){return e.removeAttribute(t)}))}))},t.appendNewFunctions=function(e,t){var n,r=i.default.parseElement(e),o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(c(i.default.parseElement(t).ownerDocument.firstChild.childNodes));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.ownerDocument.evaluate?a.ownerDocument:document,l=r.ownerDocument.evaluate?r.ownerDocument:document,u=s.evaluate('field[@name="NAME"]',a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,f=u&&u.id,p=s.evaluate("@type",a,null,XPathResult.STRING_TYPE,null).stringValue;l.evaluate('//block[@type="'.concat(p,'"]/field[@id="').concat(f,'"]'),r,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength>0||r.ownerDocument.firstChild.appendChild(a)}}catch(h){o.e(h)}finally{o.f()}return i.default.serialize(r)};var g="dropdown",y="value",v="inlineDummy",b="dummy",_="statement",w="field",E="variable",O=/.*?({[^}]*}|\n|$)/gm,S=/(.*?)({([^}]*)}|\n|$)/m,T=function(e,t){var n=e.findIndex((function(e){return e.name===t}));if(-1!==n)return e.splice(n,1)[0];throw new Error("".concat(t," not found in args"))},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.match(O);r.length&&""===r[r.length-1]&&r.pop();var o=r.map((function(e){var r=e.match(S),o=r[1],i=r[3];if(i){var a,s=T(t,i),l=s.strict||n.includes(s.type);a=s.options?g:s.field?w:s.customInput?s.customInput:s.statement?_:s.dummy?s.inline?v:b:s.variableInput?E:y;var u={name:s.name,mode:a,label:o,strict:l,type:s.type,options:s.options,assignment:s.assignment,defer:s.defer,customOptions:s.customOptions};return Object.keys(u).forEach((function(e){void 0===u[e]&&delete u[e]})),u}return{mode:b,label:o}})),i=t.filter((function(e){return e.statement})).map((function(e){return{mode:_,name:e.name}}));return o.push.apply(o,c(i)),(t=t.filter((function(e){return!e.statement}))).length>0&&(console.warn("Unexpected args in block definition:"),console.warn(t)),o};t.determineInputs=C;var k=(u(r={},y,{addInputRow:function(e,t,n){var r=t.appendValueInput(n.name).setAlign(e.ALIGN_RIGHT);return n.strict?r.setStrictCheck(n.type):r.setCheck(n.type),r},generateCode:function(e,t){return Blockly.JavaScript.valueToCode(e,t.name,Blockly.JavaScript.ORDER_COMMA)}}),u(r,_,{addInputRow:function(e,t,n){return t.appendStatementInput(n.name)},generateCode:function(e,t){var n=Blockly.JavaScript.statementToCode(e,t.name);return"function () {\n".concat(n,"}")}}),u(r,v,{addInput:function(e,t,n,r){n.customOptions&&n.customOptions.assetUrl&&r.appendField(n.label).appendField(new Blockly.FieldImage(Blockly.assetUrl(n.customOptions.assetUrl),n.customOptions.width,n.customOptions.height))},generateCode:function(e,t){return null}}),u(r,b,{addInputRow:function(e,t,n){return t.appendDummyInput()},generateCode:function(e,t){return null}}),u(r,g,{addInput:function(e,t,n,r){var o=x(n.options),i=new e.FieldDropdown(o);r.appendField(n.label).appendField(i,n.name)},generateCode:function(e,t){var n=e.getFieldValue(t.name);return t.type!==Blockly.BlockValueType.STRING||n.startsWith('"')||n.startsWith("'")||(n=JSON.stringify(n)),n}}),u(r,E,{addInput:function(e,t,n,r){t.getVars=function(){return u({},Blockly.Variables.DEFAULT_CATEGORY,[t.getFieldValue(n.name)])},t.renameVar=function(e,r){Blockly.Names.equals(e,t.getFieldValue(n.name))&&t.setTitleValue(r,n.name)},t.removeVar=function(e){Blockly.Names.equals(e,t.getFieldValue(n.name))&&t.dispose(!0,!0)},t.superSetTitleValue=t.setTitleValue,t.setTitleValue=function(e,r){r===n.name&&t.blockSpace.isFlyout&&(e=Blockly.Variables.generateUniqueName(e)),t.superSetTitleValue(e,r)},r.appendField(n.label).appendField(new Blockly.FieldVariable(null),n.name)},generateCode:function(e,t){return Blockly.JavaScript.translateVarName(e.getFieldValue(t.name))}}),u(r,w,{addInput:function(e,t,n,r){var o=n.type,i=Blockly.cdoUtils.getField(o);r.appendField(n.label).appendField(i,n.name)},generateCode:function(e,t){var n=e.getFieldValue(t.name);return t.type===Blockly.BlockValueType.STRING&&(n=JSON.stringify(n)),n}}),r),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=[],r=[];n.push(r),e.forEach((function(e){r.push(e),t[e.mode].addInputRow&&(r=[],n.push(r))}));var o=n[n.length-1];return n[n.length-1].length?o.push({mode:b}):n.pop(),n};t.groupInputsByRow=A;var P=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;n.forEach((function(n){var o=n[n.length-1],i=r[o.mode].addInputRow(e,t,o);n.slice(0,-1).forEach((function(n){r[n.mode].addInput(e,t,n,i)})),i.appendField(o.label)}))};t.interpolateInputs=P,t.createJsWrapperBlockCreator=function(e,t,n,r){var o=Blockly.JavaScript,i=o.ORDER_FUNCTION_CALL,a=o.ORDER_MEMBER,s=o.ORDER_NONE,u=e.getGenerator(),d=l(l({},k),r);return function(o,l,f){var p=o.color,m=o.func,g=o.expression,y=o.orderPrecedence,v=o.name,b=o.blockText,_=o.args,w=o.returnType,E=o.strictOutput,O=o.methodCall,S=o.objectType,T=o.thisObject,k=o.eventBlock,x=o.eventLoopBlock,I=o.inline,R=o.simpleValue,D=o.extraArgs,j=o.callbackParams,N=o.miniToolboxBlocks;if(f&&"GamelabJr"!==f||(f="gamelab"),!!m+!!g+!!R!==1)throw new Error("Provide exactly one of func, expression, or simpleValue");if(m&&l&&!new RegExp("function ".concat(m,"\\W")).test(l))throw new Error("func '".concat(m,"' not found in helper code"));if((g||R)&&!v)throw new Error("This block requires a name");if(void 0===b)throw new Error("blockText must be specified");if(R&&(!_||1!==_.filter((function(e){return!e.assignment})).length))throw new Error("simpleValue blocks must have exactly one non-assignment argument");if(R&&!w&&!_.some((function(e){return e.assignment})))throw new Error("simpleValue blocks must specify a return type or have an assignment input");void 0===I&&(I=!0),(_=_||[]).filter((function(e){return e.statement})).length>1&&I&&(console.warn("blocks with multiple statement inputs cannot be inlined"),I=!1),_.forEach((function(e){if(e.customInput&&void 0===d[e.customInput])throw new Error("".concat(e.customInput," is not a valid input type, ")+"choose one of [".concat(Object.keys(r).join(", "),"]"))}));var L="".concat(f,"_").concat(v||m);x&&0===_.filter((function(e){return e.statement})).length&&_.push({name:"DO",statement:!0});var M=c(_);if(O&&!T){var B=S||n||Blockly.BlockValueType.NONE;M.push({name:"THIS",type:B,strict:t.includes(B)})}var F=C(b,M,t),U=A(F,d);return 1===U.length&&(I=!1),e.Blocks[L]={helpUrl:"",init:function(){var n,r=this;if(p)(n=Blockly.cdoUtils).setHSV.apply(n,[this].concat(c(p)));else if(!w){var o;(o=Blockly.cdoUtils).setHSV.apply(o,[this].concat(h))}if(w?this.setOutput(!0,w,E||t.includes(w)):x||(k?(this.setNextStatement(!0),this.skipNextBlockGeneration=!0):(this.setNextStatement(!0),this.setPreviousStatement(!0))),N&&(!window.appOptions||window.appOptions.level.miniToolbox)){var i=new Blockly.FieldIcon("+");Blockly.cdoUtils.isWorkspaceReadOnly(this.blockSpace)&&i.setReadOnly();var a="<xml>";N.forEach((function(e){a+='\n <block type="'.concat(e,'"></block>')})),a+="\n</xml>",this.isMiniFlyoutOpen=!1,Blockly.cdoUtils.bindBrowserEvent(i.fieldGroup_,"mousedown",this,(function(){if(!Blockly.cdoUtils.isWorkspaceReadOnly(r.blockSpace)&&(r.isMiniFlyoutOpen?i.setValue("+"):i.setValue("-"),r.isMiniFlyoutOpen=!r.isMiniFlyoutOpen,r.render(),r.isMiniFlyoutOpen)){var e=r.miniFlyout.blockSpace_.topBlocks_,t=r.getConnections_(!0).filter((function(e){return e.type===Blockly.INPUT_VALUE})).map((function(e){return e.targetBlock()}));e.forEach((function(e,n){e.shadowBlockValue_(t[n])}))}})),this.appendDummyInput().appendField(i,"toggle").appendField(" "),this.initMiniFlyout(a)}switch(this.type){case"gamelab_clickedSpritePointer":this.setBlockToShadow((function(e){return"gamelab_spriteClicked"===e.type&&e.getConnections_()[1]&&e.getConnections_()[1].targetBlock()}));break;case"gamelab_newSpritePointer":this.setBlockToShadow((function(e){return"gamelab_whenSpriteCreated"===e.type&&e.getConnections_()[1]&&e.getConnections_()[1].targetBlock()}));break;case"gamelab_subjectSpritePointer":this.setBlockToShadow((function(e){return"gamelab_checkTouching"===e.type&&e.getConnections_()[1]&&e.getConnections_()[1].targetBlock()}));break;case"gamelab_objectSpritePointer":this.setBlockToShadow((function(e){return"gamelab_checkTouching"===e.type&&e.getConnections_()[2]&&e.getConnections_()[2].targetBlock()}))}P(e,this,U,d,I),this.setInputsInline(I)}},u[L]=function(){var e=this,t="",n=_.map((function(n){var r=F.find((function(e){return e.name===n.name}));if(r){var o=d[r.mode].generateCode(e,r);return r.assignment&&(t+="".concat(o," = ")),""===o&&(o="undefined"),r.defer&&(o="function () {\n  return ".concat(o,";\n}")),o}})).filter((function(e){return null!==e}));if(D&&n.push.apply(n,c(D)),R){var r=t+n[_.findIndex((function(e){return!e.assignment}))];return void 0!==w?[r,void 0===y?s:y]:r+";\n"}if(O){var o=T||Blockly.JavaScript.valueToCode(this,"THIS",a);t+="".concat(o,".")}if(k){var l=this.nextConnection&&this.nextConnection.targetBlock(),u=Blockly.JavaScript.blockToCode(l,!1);if(u=Blockly.Generator.prefixLines(u,"  "),j){var f=j.join(",");n.push("function (".concat(f,") {\n").concat(u,"}"))}else n.push("function () {\n".concat(u,"}"))}if("gamelab_setPrompt"===this.type||"gamelab_setPromptWithChoices"===this.type){var p=this.getInput("VAR");if(p){var h=p.connection.targetBlock();if(h&&"variables_get"===h.type){var v=Blockly.JavaScript.blockToCode(h)[0];n.push("function(val) {".concat(v," = val;}"))}}}if(g){var b=g.replace("VALUE",n[0]);return void 0!==w?["".concat(t).concat(b),void 0===y?s:y]:"".concat(t).concat(b)}return void 0!==w?["".concat(t).concat(m,"(").concat(n.join(", "),")"),i]:"".concat(t).concat(m,"(").concat(n.join(", "),");\n")},L}},t.installCustomBlocks=function(e){var n=e.blockly,r=e.blockDefinitions,o=e.customInputTypes,i=t.createJsWrapperBlockCreator(n,[n.BlockValueType.SPRITE,n.BlockValueType.BEHAVIOR,n.BlockValueType.LOCATION],n.BlockValueType.SPRITE,o),a={};return r.forEach((function(e){var t=e.name,n=e.pool,r=e.category,o=e.config,s=e.helperCode,l=i(o,s,n);a[r]||(a[r]=[]),a[r].push(l),t&&l!==t&&console.error("Block config ".concat(t," generated a block named ").concat(l))})),n.Blocks.gamelab_location_variable_set&&n.Blocks.gamelab_location_variable_get&&(Blockly.Variables.registerGetter(Blockly.BlockValueType.LOCATION,"gamelab_location_variable_get"),Blockly.Variables.registerSetter(Blockly.BlockValueType.LOCATION,"gamelab_location_variable_set")),a};var x=function(e){return e.map((function(e){return 1===e.length?[e[0],e[0]]:e}))}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_VISUALIZATION_WIDTH=t.MAX_VISUALIZATION_WIDTH=void 0,t.makeFooterMenuItems=we,t.singleton=function(){Oe||(Oe=new be);return Oe};var o=fe(n(32)),i=fe(n(1)),a=fe(n(36)),s=n(393),l=fe(n(53)),u=n(27),c=fe(n(142));n(426);var d=de(n(1376)),f=de(n(777)),p=de(n(1283)),h=de(n(618)),m=de(n(422)),g=de(n(610)),y=de(n(1357)),v=de(n(33)),b=fe(n(817)),_=fe(n(787)),w=fe(n(1024)),E=fe(n(844)),O=fe(n(1206)),S=fe(n(1211)),T=fe(n(1411)),C=fe(n(995)),k=fe(n(631)),A=fe(n(1059)),P=fe(n(1061)),x=fe(n(774)),I=fe(n(20)),R=fe(n(131)),D=fe(n(1412)),j=fe(n(586)),N=fe(n(13)),L=fe(n(450)),M=fe(n(872)),B=fe(n(1340)),F=n(137),U=n(449),H=n(1341),W=n(136),q=n(890),z=n(760),V=n(534),G=n(764),$=n(1308),K=n(877),Y=n(1353),X=n(1330),J=n(809),Z=n(1354),Q=fe(n(138)),ee=n(643),te=n(491),ne=n(891),re=n(388),oe=n(1284),ie=n(899),ae=n(813),se=n(20),le=fe(n(985)),ue=n(492);function ce(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ce=function(e){return e?n:t})(e)}function de(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=ce(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function fe(e){return e&&e.__esModule?e:{default:e}}function pe(){pe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(i,a,s,l){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=h,l(v,"constructor",h),l(h,"constructor",p),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function he(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}var ye,ve=n(843);t.MAX_VISUALIZATION_WIDTH=400;t.MIN_VISUALIZATION_WIDTH=200;var be=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).feedback_=new S.default(me(t)),t.authoredHintsController_=new w.default(me(t)),t.BASE_URL=void 0,t.enableShowCode=!0,t.editCode=!1,t.usingBlockly_=!0,t.editor=null,t.dropletTooltipManager=null,t.icon=void 0,t.winIcon=void 0,t.failureIcon=void 0,t.checkForEmptyBlocks_=!1,t.IDEAL_BLOCK_NUM=void 0,t.requiredBlocks_=[],t.maxRequiredBlocksToFlag_=1,t.recommendedBlocks_=[],t.maxRecommendedBlocksToFlag_=1,t.attempts=0,t.initTime=void 0,t.milestoneStartTime=void 0,t.hasReported=!1,t.hideSource=!1,t.share=!1,t.onAttempt=void 0,t.onContinue=void 0,t.onResetPressed=void 0,t.backToPreviousLevel=void 0,t.isUS=void 0,t.enableShowBlockCount=!0,t.disableSocialShare=!1,t.noPadding=!1,t.MIN_WORKSPACE_HEIGHT=void 0,t.libraries={},t.editDuringRunAlert=void 0,t.showEditDuringRunAlert=!0,t.executingCode=void 0,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ge(t,n),r}(s.EventEmitter);function _e(e){y.checkSharedAppWarnings({channelId:e.channel,isSignedIn:e.isSignedIn,isTooYoung:e.isTooYoung,isOwner:L.default.isOwner(),hasDataAPIs:e.shareWarningInfo.hasDataAPIs,onWarningsComplete:e.shareWarningInfo.onWarningsComplete,onTooYoung:e.shareWarningInfo.onTooYoung})}function we(){var e=[{key:"try-hoc",text:N.default.tryHourOfCode(),link:"https://code.org/learn",newWindow:!0},{key:"how-it-works",text:N.default.howItWorks(),link:L.default.getProjectUrl("/edit"),newWindow:!1},{key:"report-abuse",text:N.default.reportAbuse(),link:"/report_abuse",newWindow:!0},{text:N.default.copyright(),link:"javascript:void(0)",copyright:!0},{text:N.default.tos(),link:"https://code.org/tos",newWindow:!0},{text:N.default.privacyPolicy(),link:"https://code.org/privacy",newWindow:!0},{text:N.default.cookieNotice(),link:"https://code.org/cookies",newWindow:!0}];"gamelab"===L.default.getStandaloneApp()&&e.shift();var t=L.default.getCurrentId();return(0,ie.userAlreadyReportedAbuse)(t)&&l.default.remove(e,(function(e){return"report-abuse"===e.key})),e}function Ee(){var e=document.querySelector("#visualizationColumn.pin_bottom #belowVisualization");if(e){var t=0;["playSpaceHeader","spelling-table-wrapper","gameButtons","gameButtonExtras","song-selector-wrapper","poemSelector"].forEach((function(e){var n=document.getElementById(e);n&&(t+=(0,o.default)(n).outerHeight(!0))}));var n=document.getElementById("visualization");if(n){var r=(0,o.default)(n).parent();"phoneFrameWrapper"===r.attr("id")?r.children().each((function(){t+=(0,o.default)(this).outerHeight(!0)})):t+=(0,o.default)(n).outerHeight(!0)}var i=0,a=document.querySelector("#page-small-footer .small-footer-base");if(a){var s=(0,o.default)("#codeApp");i+=(0,o.default)(a).outerHeight(!0),i-=parseInt(s.css("bottom"),10)}e.style.top=t+"px",e.style.bottom=i+"px"}}be.prototype.configure=function(e){this.BASE_URL=e.baseUrl,this.editCode=e.level&&e.level.editCode,this.usingBlockly_=!this.editCode,e.isEditorless&&(this.editCode=!1,this.usingBlockly_=!1),this.assetUrl=l.default.bind(this.assetUrl_,this),this.maxVisualizationWidth=e.maxVisualizationWidth||400,this.minVisualizationWidth=e.minVisualizationWidth||200,e.level&&(0,W.getStore)().dispatch((0,G.setStepSpeed)(e.level.sliderSpeed))},be.prototype.hasInstructionsToShow=function(e){return!!(e.level.shortInstructions||e.level.longInstructions||e.level.aniGifURL)},be.prototype.init=function(e){var t=this;if(e||(e={}),this.config=e,e.getCode=this.getCode.bind(this),ye=e.copyrightStrings,e.legacyShareStyle&&e.hideSource&&((0,o.default)("body").addClass("legacy-share-view"),m.isMobile()&&((0,o.default)("body").addClass("legacy-share-view-mobile"),(0,o.default)("#main-logo").hide())),this.setConfigValues_(e),this.configureDom(e),e.level.iframeEmbedAppAndCode||a.default.render(i.default.createElement(u.Provider,{store:(0,W.getStore)()},i.default.createElement(T.default,{title:N.default.puzzleTitle({stage_total:e.level.lesson_total,puzzle_number:e.level.puzzle_number})})),document.body.appendChild(document.createElement("div"))),e.usesAssets&&e.channel&&(f.init(e),U.assets.getFiles((function(e){p.listStore.reset(e.files)}),(function(e){}))),e.hideSource&&this.handleHideSource_({containerId:e.containerId,embed:e.embed,level:e.level,noHowItWorks:e.noHowItWorks,isLegacyShare:e.isLegacyShare,legacyShareStyle:e.legacyShareStyle,wireframeShare:e.wireframeShare}),e.level.iframeEmbedAppAndCode&&be.prototype.handleIframeEmbedAppAndCode_({containerId:e.containerId,embed:e.embed,level:e.level,noHowItWorks:e.noHowItWorks,isLegacyShare:e.isLegacyShare,legacyShareStyle:e.legacyShareStyle,wireframeShare:e.wireframeShare}),e.share&&this.handleSharing_({makeUrl:e.makeUrl,makeString:e.makeString,makeImage:e.makeImage,makeYourOwn:e.makeYourOwn}),!e.level.iframeEmbedAppAndCode){var n=v.valueOr(e.authoredHintsUsedIds,[]);this.authoredHintsController_.init(e.level.authoredHints,n,e.scriptId,e.serverLevelId)}e.authoredHintViewRequestsUrl&&e.isSignedIn&&this.authoredHintsController_.submitHints(e.authoredHintViewRequestsUrl),e.puzzleRatingsUrl&&M.default.submitCachedPuzzleRatings(e.puzzleRatingsUrl),this.initTime=(new Date).getTime(),this.initTimeSpent();var r=document.querySelector('meta[name="viewport"]');r&&this.fixViewportForSmallScreens_(r,e);var s=document.getElementById("blockCounter");s&&!this.enableShowBlockCount&&(s.style.display="none"),this.setIconsFromSkin(e.skin),e.level.instructionsIcon&&(this.icon=e.skin[e.level.instructionsIcon],this.winIcon=e.skin[e.level.instructionsIcon]),e.showInstructionsWrapper&&e.showInstructionsWrapper((function(){}));var c=function(){window.scrollTo(0,0)};window.addEventListener("orientationchange",c),c(),e.loadAudio&&e.loadAudio(),e.muteBackgroundMusic&&(this.muteBackgroundMusic=e.muteBackgroundMusic),e.unmuteBackgroundMusic&&(this.unmuteBackgroundMusic=e.unmuteBackgroundMusic),this.editCode&&this.handleEditCode_(e),this.isUsingBlockly()?this.handleUsingBlockly_(e):v.fireResizeEvent(),this.alertIfAbusiveProject(),this.alertIfProfaneOrPrivacyViolatingProject(),this.startIFrameEmbeddedApp=this.startIFrameEmbeddedApp.bind(this,e),e.shareWarningInfo&&!e.level.iframeEmbed&&_e(e),this.initProjectTemplateWorkspaceIconCallout(),this.alertIfCompletedWhilePairing(e),"en_us"!==e.locale&&"letters"===e.skinId&&this.displayWorkspaceAlert("error",i.default.createElement("div",null,N.default.englishOnlyWarning({nextStage:e.lessonPosition+1}))),window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener(oe.RESIZE_VISUALIZATION_EVENT,(function(e){t.resizeVisualization(e.detail)})),this.reset(!0),this.setIdealBlockNumber_(),this.isUsingBlockly()&&(Blockly.mainBlockSpaceEditor.addUnusedBlocksHelpListener((function(e){v.showUnusedBlockQtip(e.target)})),this.changeListener=Blockly.mainBlockSpaceEditor.addChangeListener(l.default.bind((function(){this.updateBlockCount()}),this)),e.level.openFunctionDefinition&&this.openFunctionDefinition_(e));var d=v.valueOr(e.skin.hideIconInClearPuzzle,!1),h=document.getElementById("clear-puzzle-header");if(h&&m.addClickTouchEvent(h,function(){this.feedback_.showClearPuzzleConfirmation(d,function(){this.handleClearPuzzle(e)}.bind(this))}.bind(this)),this.initVersionHistoryUI(e),this.isUsingBlockly()&&Blockly.contractEditor&&Blockly.contractEditor.registerTestsFailedOnCloseHandler(function(){return this.feedback_.showSimpleDialog({headerText:void 0,bodyText:N.default.examplesFailedOnClose(),cancelText:N.default.ignore(),confirmText:N.default.tryAgain(),onConfirm:null,onCancel:function(){Blockly.contractEditor.hideIfOpen()}}),!0}.bind(this)),e.legacyShareStyle&&e.hideSource&&this.setupLegacyShareView(),e.isChallengeLevel){var g=document.createElement("div");document.body.appendChild(g);var y=(0,W.getStore)().getState().progress,b=y.levelResults[y.currentLevelId]>=F.TestResults.MINIMUM_OPTIMAL_RESULT;a.default.render(i.default.createElement(E.default,{isOpen:!0,avatar:this.icon||this.skin.staticAvatar,handleCancel:function(){t.skipLevel()},cancelButtonLabel:N.default.challengeLevelSkip(),complete:b,isIntro:!0,primaryButtonLabel:N.default.challengeLevelStart(),text:N.default.challengeLevelIntro(),title:N.default.challengeLevelTitle()}),g)}e.readonlyWorkspace||this.addChangeHandler(this.editDuringRunAlertHandler.bind(this)),this.emit("afterInit")},be.prototype.editDuringRunAlertHandler=function(){var e=this;if(this.isRunning()&&this.getCode().trim()!==this.executingCode.trim()&&void 0===this.editDuringRunAlert&&((0,W.getStore)().dispatch((0,G.setIsEditWhileRun)(!0)),this.clearHighlighting(),this.showEditDuringRunAlert&&(this.showEditDuringRunAlert=null===v.tryGetLocalStorage("hideEditDuringRunAlert",null)),this.showEditDuringRunAlert)){this.editDuringRunAlert=this.displayWorkspaceAlert("warning",i.default.createElement("div",{},N.default.editDuringRunMessage()),!0,(function(){v.trySetLocalStorage("hideEditDuringRunAlert",!0),e.editDuringRunAlert=void 0,e.showEditDuringRunAlert=!1}))}},be.prototype.initProjectTemplateWorkspaceIconCallout=function(){(0,W.getStore)().getState().pageConstants.showProjectTemplateWorkspaceIcon&&setTimeout((function(){requestAnimationFrame((function(){(0,ne.addCallouts)([{id:"projectTemplateWorkspaceIconCallout",element_id:".projectTemplateWorkspaceIcon:visible",localized_text:N.default.workspaceProjectTemplateLevel(),qtip_config:{position:{my:"top center",at:"bottom center"}}}])}))}),0)},be.prototype.alertIfCompletedWhilePairing=function(e){e.level.isNavigator&&(e.level.pairingDriver?this.displayWorkspaceAlert("warning",i.default.createElement("div",null,N.default.pairingNavigatorWarning({driver:e.level.pairingDriver})," ",e.level.pairingAttempt&&i.default.createElement("a",{href:e.level.pairingAttempt},N.default.pairingNavigatorLink()),e.level.pairingChannelId&&i.default.createElement("a",{href:L.default.getPathName("view",e.level.pairingChannelId)},N.default.pairingNavigatorLink()))):this.displayWorkspaceAlert("warning",i.default.createElement("div",null,N.default.pairingNavigatorUnknownDriver())))},be.prototype.getVersionHistoryHandler=function(e){var t=this;return function(){var n=document.createElement("div"),r=t.createModalDialog({contentDiv:n,defaultBtnSelector:"again-button",id:"showVersionsModal"});a.default.render(i.default.createElement(A.default,{handleClearPuzzle:t.handleClearPuzzle.bind(t,e),isProjectTemplateLevel:!!e.level.projectTemplateLevelName,useFilesApi:!!e.useFilesApi,selectedVersion:(0,re.queryParams)("version"),isReadOnly:!!e.readonlyWorkspace}),n),r.show()}},be.prototype.initTimeSpent=function(){this.milestoneStartTime=(new Date).getTime(),this.debouncedSilentlyReport=l.default.debounce(this.silentlyReport.bind(this),1e3)},be.prototype.initVersionHistoryUI=function(e){var t=document.getElementById("versions-header");t&&m.addClickTouchEvent(t,this.getVersionHistoryHandler(e))},be.prototype.startIFrameEmbeddedApp=function(e,t){this.share&&e.shareWarningInfo?(e.shareWarningInfo.onTooYoung=t,_e(e)):this.runButtonClick()},be.prototype.setupLegacyShareView=function(){var e=document.createElement("div");e.id="visualizationContainer";var t=document.getElementById("visualizationColumn");m.isMobile()&&(0,o.default)(e).width((0,o.default)(t).width()),(0,o.default)(e).append(t.children);var n=document.createElement("div");n.id="phoneFrameScreen",(0,o.default)(n).append(e),(0,o.default)(t).append(n),this.renderShareFooter_(n),m.isMobile&&(0,o.default)(window).resize(this.scaleLegacyShare),this.scaleLegacyShare()},be.prototype.scaleLegacyShare=function(){var e=document.getElementById("visualizationContainer"),t=document.getElementById("visualizationColumn"),n=document.getElementById("phoneFrameScreen"),r=(0,o.default)(e).width();if(m.isMobile()){var i=document.documentElement,a=i.clientHeight,s=i.clientWidth,l=Math.min(a,s),u=Math.max(s,a),c=Math.max(l,(0,o.default)(n).width()),d=Math.max(u,(0,o.default)(n).height());(0,o.default)(n).width(c),(0,o.default)(n).height(d),(0,o.default)(t).width(c)}var f,p,h=(0,o.default)(n).width()/r;1!==h&&(p="left top",(f=e).style.transformOrigin=p,f.style.msTransformOrigin=p,f.style.webkitTransformOrigin=p,Ce(e,"scale("+h+")"))},be.prototype.getCode=function(e){return this.editCode?this.hideSource?this.startBlocks_:this.editor.getValue():Blockly.getWorkspaceCode(e)},be.prototype.setIconsFromSkin=function(e){this.icon=e.staticAvatar,this.winIcon=e.winAvatar,this.failureIcon=e.failureAvatar},be.prototype.handleClearPuzzle=function(e){var t;if(this.isUsingBlockly())Blockly.functionEditor&&Blockly.functionEditor.hideIfOpen(),Blockly.mainBlockSpace.clear(),this.setStartBlocks_(e,!1),e.level.openFunctionDefinition&&this.openFunctionDefinition_(e);else if(this.editCode){var n="";e.level.startBlocks&&(n=e.level.startBlocks.replace(/\r\n/g,"\n")),this.editor.getValue(),this.editor.setValue(n),x.default.clearRuntimeAnnotations()}return e.afterClearPuzzle&&(t=e.afterClearPuzzle(e)),t||(t=new Promise((function(e,t){e()}))),t},be.prototype.isUsingBlockly=function(){return this.usingBlockly_},be.prototype.handleSharing_=function(e){var t=document.getElementById("belowVisualization");if(m.isMobile()){var r=document.getElementById("slider-cell");if(r&&(r.style.display="none"),t){var o=document.getElementById("visualization");t.style.display="none",o.style.marginBottom="0px"}}var i=document.createElement("div");e.makeYourOwn?(i.innerHTML=n(1232)({data:{makeUrl:e.makeUrl,makeString:e.makeString,makeImage:e.makeImage}}),this.noPadding&&(i.style.marginLeft="10px"),t.appendChild(i)):void 0===e.makeYourOwn&&(i.innerHTML=n(1233)({assetUrl:this.assetUrl}),t.appendChild(i))},be.prototype.renderShareFooter_=function(e){var t=document.createElement("div");t.setAttribute("id","footerDiv"),e.appendChild(t);var n={i18nDropdown:"",privacyPolicyInBase:!1,copyrightInBase:!1,copyrightStrings:ye,baseMoreMenuString:N.default.builtOnCodeStudio(),baseStyle:{paddingLeft:0,width:(0,o.default)("#visualization").width()},className:"dark",menuItems:we(),phoneFooter:!0,channel:L.default.getCurrentId()};a.default.render(i.default.createElement(C.default,n),t)},be.prototype.assetUrl_=function(e){if(void 0===this.BASE_URL)throw new Error("StudioApp BASE_URL has not been set. Call configure() first");return this.BASE_URL+e},be.prototype.reset=function(e){},be.prototype.runButtonClick=function(){},be.prototype.addChangeHandler=function(e){this.changeHandlers||(this.changeHandlers=[]),this.changeHandlers.push(e)},be.prototype.runChangeHandlers=function(){this.changeHandlers&&this.changeHandlers.forEach((function(e){return e()}))},be.prototype.setupChangeHandlers=function(){var e=this.runChangeHandlers.bind(this);this.isUsingBlockly()?Blockly.addChangeListener(Blockly.mainBlockSpace,e):(this.editor.on("change",e),this.editor.aceEditor.on("change",e))},be.prototype.toggleRunReset=function(e){var t="run"===e;if("run"!==e&&"reset"!==e)throw"Unexpected input";(0,W.getStore)().dispatch((0,G.setIsRunning)(!t)),t?(void 0!==this.editDuringRunAlert&&(this.closeAlert(this.editDuringRunAlert),this.editDuringRunAlert=void 0),(0,W.getStore)().dispatch((0,G.setIsEditWhileRun)(!1))):this.executingCode=this.getCode().trim(),this.hasContainedLevels&&(0,z.lockContainedLevelAnswers)();var n=document.getElementById("runButton");n&&(n.style.display=t&&!this.config.alwaysHideRunButton?"inline-block":"none",n.disabled=!t);var r=document.getElementById("resetButton");r&&(r.style.display=t?"none":"inline-block",r.disabled=t),this.isUsingBlockly()&&!this.config.readonlyWorkspace&&(t&&"craft"===this.config.app?(0,o.default)("#codeWorkspace > .blocklySvg").css("background-color","#A1A1A1"):t?(0,o.default)("#codeWorkspace > .blocklySvg").css("background-color",se.white):"craft"===this.config.app?(0,o.default)("#codeWorkspace > .blocklySvg").css("background-color","#7D7D7D"):(0,o.default)("#codeWorkspace > .blocklySvg").css("background-color",se.workspace_running_background)),(0,W.getStore)().dispatch((0,ae.setArrowButtonDisabled)(t))},be.prototype.isRunning=function(){return(0,W.getStore)().getState().runState.isRunning},be.prototype.registerAudio=function(e){k.default.getSingleton().register(e)},be.prototype.loadAudio=function(e,t){k.default.getSingleton().registerByFilenamesAndID(e,t)},be.prototype.playAudio=function(e,t){if(!(t&&t.noOverlap&&k.default.getSingleton().isPlaying(e))){t=t||{};var n=v.extend({volume:.5},t);k.default.getSingleton().play(e,n)}},be.prototype.playAudioOnWin=function(){this.hasContainedLevels?this.playAudio((0,q.getValidatedResult)()?"win":"failure"):this.playAudio("win")},be.prototype.playAudioOnFailure=function(){this.hasContainedLevels?this.playAudio((0,q.getValidatedResult)()?"win":"failure"):this.playAudio("failure")},be.prototype.stopLoopingAudio=function(e){k.default.getSingleton().stopLoopingAudio(e)},be.prototype.inject=function(e,t){var n={assetUrl:this.assetUrl,rtl:t.isBlocklyRtl,toolbox:document.getElementById("toolbox"),trashcan:!0,customSimpleDialog:this.feedback_.showSimpleDialog.bind(this.feedback_)};Q.default.isEnabled("zelos")&&(t.renderer="cdo_renderer_zelos"),Blockly.inject(e,v.extend(n,t),k.default.getSingleton())},be.prototype.showNextHint=function(){return this.authoredHintsController_.showNextHint()},be.prototype.initReadonly=function(e){Blockly.inject(document.getElementById("codeWorkspace"),{assetUrl:this.assetUrl,readOnly:!0,rtl:(0,W.getStore)().getState().isRtl,scrollbars:!1}),this.loadBlocks(e.blocks)},be.prototype.loadBlocks=function(e){var t=(0,V.parseElement)(e);Blockly.Xml.domToBlockSpace(Blockly.mainBlockSpace,t)},be.prototype.arrangeBlockPosition=function(e,t){var n,r,o=(0,V.parseElement)(e),i=o.childNodes||[];t=t||{};for(var a=0;a<i.length;a++)1===(r=i[a]).nodeType&&t[n=r.getAttribute("type")]&&(t[n].x&&!r.hasAttribute("x")&&r.setAttribute("x",t[n].x),t[n].y&&!r.hasAttribute("y")&&r.setAttribute("y",t[n].y));return Blockly.Xml.domToText(o)},be.prototype.createModalDialog=function(e){return this.feedback_.createModalDialog(e)},be.prototype.showToggleBlocksError=function(){this.feedback_.showToggleBlocksError(this.Dialog)},be.prototype.showGeneratedCode=function(){this.feedback_.showGeneratedCode(this.Dialog,this.config.appStrings)},be.prototype.displayMissingBlockHints=function(e){this.authoredHintsController_.displayMissingBlockHints(e)},be.prototype.onReportComplete=function(e){this.authoredHintsController_.finishHints(e),e&&(this.lastShareUrl=e.level_source,e.new_level_completed&&(0,c.default)("Puzzle","Completed",e.level_path,e.level_attempts),e.share_failure&&(0,c.default)("Share","Failure",e.share_failure.type))},be.prototype.onResize=function(){var e=document.getElementById("codeWorkspace");if(e&&(0,o.default)(e).is(":visible")){var t=e.clientWidth;if(this.isUsingBlockly()&&Blockly.RTL&&this.lastWorkspaceWidth&&this.lastWorkspaceWidth!==t){var n=t-this.lastWorkspaceWidth;Blockly.mainBlockSpace.getTopBlocks().forEach((function(e){e.moveBy(n,0)}))}this.lastWorkspaceWidth=t,this.resizeToolboxHeader(),Se()}};var Oe,Se=l.default.throttle((function(){Ee()}),1e3/60);function Te(e,t){for(var n=0;n<e.children.length;n++)(0,o.default)(e.children[n]).hasClass("ignore-transform")||Ce(e.children[n],t)}function Ce(e,t){e.style.transform=t,e.style.msTransform=t,e.style.webkitTransform=t}function ke(e){if(window.$&&((0,o.default)(window).trigger("run_button_pressed"),(0,o.default)(window).trigger("appModeChanged")),window.Blockly&&Blockly.mainBlockSpace){var t=v.createEvent(Blockly.BlockSpace.EVENTS.RUN_BUTTON_CLICKED);Blockly.mainBlockSpace.getCanvas().dispatchEvent(t)}e()}function Ae(e){var t=e.getBBox(),n=document.createElementNS("http://www.w3.org/2000/svg","rect");return n.setAttribute("x",t.x),n.setAttribute("y",t.y),n.setAttribute("width",t.width),n.setAttribute("height",t.height),n}be.prototype.resizePinnedBelowVisualizationArea=function(){Ee()},be.prototype.resizeVisualization=function(e){if(!(0,o.default)("#visualizationColumn").hasClass("wireframeShare")){var t=(0,o.default)(".editor-column"),n=document.getElementById("visualization"),r=document.getElementById("visualizationResizeBar"),i=document.getElementById("visualizationColumn");if(n&&r&&i){var a=(0,o.default)(i).width(),s=Math.max(this.minVisualizationWidth,Math.min(this.maxVisualizationWidth,e||a)),l=s+"px",u=s/this.vizAspectRatio+"px",c=n.offsetWidth-n.clientWidth;(0,W.getStore)().getState().isRtl?(r.style.right=l,t.css("right",l)):(r.style.left=l,t.css("left",l)),r.style.lineHeight=u,i.style.maxWidth=s+c+"px",n.style.maxWidth=l,n.style.maxHeight=u;var d=s/this.nativeVizWidth;(0,W.getStore)().dispatch((0,X.setVisualizationScale)(d));var f="scale(".concat(d,")");Te(n,f);var p=document.getElementById("studio-dpad-container");p&&Te(p,f),a<230&&s>=230?(0,o.default)("#soft-buttons").removeClass("soft-buttons-compact"):a>230&&s<=230&&(0,o.default)("#soft-buttons").addClass("soft-buttons-compact");var h=document.querySelector("#page-small-footer .small-footer-base");h&&(h.style.maxWidth=l),v.fireResizeEvent()}}},be.prototype.resizeToolboxHeader=function(){var e=0;this.editCode&&this.editor&&this.editor.session&&this.editor.session.paletteEnabled?e=document.querySelector(".droplet-palette-wrapper").getBoundingClientRect().width:this.isUsingBlockly()&&(e=Blockly.cdoUtils.getToolboxWidth());document.getElementById("toolbox-header").style.width=e+"px"},be.prototype.highlight=function(e,t){if(this.isUsingBlockly()&&!(0,K.isEditWhileRun)((0,W.getStore)().getState())){if(e){var n=e.match(/^block_id_(\d+)$/);n&&(e=n[1])}Blockly.mainBlockSpace.highlightBlock(e,t)}},be.prototype.clearHighlighting=function(){this.isUsingBlockly()?this.highlight(null):this.editCode&&this.editor&&ve.clearDropletAceHighlighting(this.editor,!0)},be.prototype.displayFeedback=function(e){if(e.level.edit_blocks&&(e.feedbackType=F.TestResults.EDIT_BLOCKS),Q.default.isEnabled(Q.default.BUBBLE_DIALOG)){(0,c.default)("experiment","Feedback bubbleDialog","AppType ".concat(this.config.app,". Level ").concat(this.config.serverLevelId));var t=e.response,n=e.preventDialog,r=e.feedbackType,o=e.feedbackImage;if({turtle:!0,karel:!0,maze:!0,studio:!0,flappy:!0,bounce:!0}[this.config.app]&&!this.hasContainedLevels){var i=(0,W.getStore)(),a=this.feedback_.getGeneratedCodeProperties(this.config.appStrings),s={message:a.shortMessage,code:a.code},l=!this.disableSocialShare&&!e.disableSocialShare;if(i.dispatch((0,Z.setFeedbackData)({isChallenge:this.config.isChallengeLevel,isPerfect:r>=F.TestResults.MINIMUM_OPTIMAL_RESULT,blocksUsed:this.feedback_.getNumCountableBlocks(),displayFunometer:t&&t.puzzle_ratings_enabled,studentCode:s,feedbackImage:l&&o})),i.dispatch((0,Z.setAchievements)((0,D.default)(i.getState()))),this.shouldDisplayFeedbackDialog_(n,r))return i.dispatch((0,Z.showFeedback)()),void this.onFeedback(e)}}e.onContinue=this.onContinue,e.backToPreviousLevel=this.backToPreviousLevel,e.isUS=this.isUS,e.channelId=L.default.getCurrentId();try{e.shareLink=e.response&&e.response.level_source||L.default.getShareUrl()}catch(p){}if(e.useDialog=this.shouldDisplayFeedbackDialog_(e.preventDialog,e.feedbackType),e.useDialog)this.feedback_.displayFeedback(e,this.requiredBlocks_,this.maxRequiredBlocksToFlag_,this.recommendedBlocks_,this.maxRecommendedBlocksToFlag_);else{var u=this.feedback_.getMissingBlockHints(this.requiredBlocks_.concat(this.recommendedBlocks_),e.level.isK1);this.displayMissingBlockHints(u);var d=this.feedback_.getFeedbackMessage(e),f=e.feedbackType<F.TestResults.MINIMUM_PASS_RESULT;(0,W.getStore)().dispatch((0,ee.setFeedback)({message:d,isFailure:f}))}this.config&&this.config.level.hintPromptAttemptsThreshold&&this.authoredHintsController_.considerShowingOnetimeHintPrompt(),this.onFeedback(e)},be.prototype.shouldDisplayFeedbackDialog_=function(e,t){return!e&&(!!(0,W.getStore)().getState().pageConstants.noInstructionsWhenCollapsed||this.feedback_.canContinueToNextLevel(t))},be.prototype.getTestResults=function(e,t){return this.feedback_.getTestResults(e,this.requiredBlocks_,this.recommendedBlocks_,this.checkForEmptyBlocks_,t)},be.prototype.report=function(e){this.hasReported=!0;var t=(new Date).getTime(),n=(0,$.getIdleTimeSinceLastReport)((0,W.getStore)().getState().studioAppActivity),r=Object.assign({},e,{pass:this.feedback_.canContinueToNextLevel(e.testResult),time:t-this.initTime,timeSinceLastMilestone:t-this.milestoneStartTime-n,attempt:this.attempts,lines:this.feedback_.getNumBlocksUsed()});this.milestoneStartTime=t,(0,W.getStore)().dispatch((0,$.resetIdleTime)()),this.lastTestResult=e.testResult;var o=(0,W.getStore)().getState().pageConstants.isReadOnlyWorkspace;this.hideSource&&this.share||o||this.onAttempt(r)},be.prototype.clearAndAttachRuntimeAnnotations=function(){if(this.editCode&&!this.hideSource){var e=this.editor.aceEditor.getSession();x.default.attachToSession(e,this.editor),x.default.clearRuntimeAnnotations(),this.editor.aceEditor.session.on("change",(function(){x.default.clearRuntimeAnnotations()}))}},be.prototype.silentlyReport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.level.id,t={app:(0,W.getStore)().getState().pageConstants.appType,level:e,skipSuccessCallback:!0};(0,W.getStore)().getState().pageConstants.channelId&&(t.testResult=F.TestResults.LEVEL_STARTED),this.report(t),this.hasReported=!1},be.prototype.resetButtonClick=function(){this.onResetPressed(),this.hasReported||this.debouncedSilentlyReport(),this.hasReported=!1,this.toggleRunReset("run"),this.clearHighlighting(),(0,W.getStore)().dispatch((0,ee.setFeedback)(null)),this.isUsingBlockly()&&(Blockly.mainBlockSpaceEditor.setEnableToolbox(!0),Blockly.mainBlockSpace.traceOn(!1)),this.reset(!1)},be.prototype.updateBlockCount=function(){var e=document.getElementById("blockUsed");e&&(this.IDEAL_BLOCK_NUM<this.feedback_.getNumCountableBlocks()?e.className="block-counter-overflow":e.className="block-counter-default",e.innerHTML="",e.appendChild(document.createTextNode(this.feedback_.getNumCountableBlocks())))},be.prototype.setIdealBlockNumber_=function(){var e=document.getElementById("idealBlockNumber");if(e){var t=this.IDEAL_BLOCK_NUM===1/0?N.default.infinity():this.IDEAL_BLOCK_NUM;e.innerHTML="",e.appendChild(document.createTextNode(t))}},be.prototype.fixViewportForSmallScreens_=function(e,t){var n,r,o,i;if(this.share&&m.isMobile()){var a=t.mobileNoPaddingShareWidth||400;n=r=Math.min(screen.width,screen.height),this.noPadding&&n<500&&(r=Math.min(r,a));var s=a;i=n/(o=Math.max(s,r))}else{i=Math.max(screen.width,screen.height)/(o=1200)}var l=["width="+o,"minimal-ui","initial-scale="+i,"minimum-scale="+i,"target-densityDpi=device-dpi","viewport-fit=cover"];e.setAttribute("content",l.join(", "))},be.prototype.fixViewportForSpecificWidthForSmallScreens_=function(e,t){var n=Math.min(screen.width,screen.height)/t,r=["width="+t,"minimal-ui","initial-scale="+n,"maximum-scale="+n,"minimum-scale="+n,"target-densityDpi=device-dpi","user-scalable=no"];e.setAttribute("content",r.join(", "))},be.prototype.setConfigValues_=function(e){if(this.share=e.share,e.wireframeShare=v.valueOr(e.wireframeShare,!1),this.disableSocialShare=e.disableSocialShare,this.isUS=e.isUS,this.noPadding=e.noPadding,e.level.useContractEditor&&(e.level.minWorkspaceHeight=e.level.minWorkspaceHeight||1250),this.appMsg=e.appMsg,this.IDEAL_BLOCK_NUM=e.level.ideal||1/0,Q.default.isEnabled(Q.default.BUBBLE_DIALOG)&&(0,W.getStore)().dispatch((0,Z.setBlockLimit)(this.IDEAL_BLOCK_NUM)),this.MIN_WORKSPACE_HEIGHT=e.level.minWorkspaceHeight||800,this.requiredBlocks_=e.level.requiredBlocks||[],this.recommendedBlocks_=e.level.recommendedBlocks||[],(e.ignoreLastAttempt||e.hasContainedLevels)&&(e.level.lastAttempt=""),this.startBlocks_=e.level.lastAttempt||e.level.startBlocks||"",this.vizAspectRatio=e.vizAspectRatio||1,this.nativeVizWidth=e.nativeVizWidth||this.maxVisualizationWidth,e.level.initializationBlocks){var t=(0,V.parseElement)(e.level.initializationBlocks);this.initializationBlocks=Blockly.Generator.xmlToBlocks("JavaScript",t)}this.enableShowCode=!1!==e.enableShowCode,this.enableShowLinesCount=!1!==e.enableShowLinesCount&&!e.hasContainedLevels,!e.level||void 0!==e.level.ideal&&e.level.ideal!==1/0?this.enableShowBlockCount=!1!==e.enableShowBlockCount:this.enableShowBlockCount=!1,this.onAttempt=e.onAttempt||function(){},this.onContinue=e.onContinue||function(){},this.onFeedback=e.onFeedback||function(){},this.onInitialize=e.onInitialize?e.onInitialize.bind(e):function(){},this.onResetPressed=e.onResetPressed||function(){},this.backToPreviousLevel=e.backToPreviousLevel||function(){},this.skin=e.skin,this.polishCodeHook=e.polishCodeHook,this.hasContainedLevels=e.hasContainedLevels,(0,q.initializeContainedLevel)()},be.prototype.skipLevel=function(){this.report({app:this.config.app,level:this.config.level.id,result:!1,testResult:F.TestResults.SKIPPED,onComplete:function(){var e=(0,W.getStore)().getState().pageConstants.nextLevelUrl;if(!e)throw new Error("No next level url available to skip to");window.location.href=e}})},be.prototype.configureDom=function(e){var t=document.getElementById(e.containerId),n=t.querySelector("#codeWorkspace"),r=t.querySelector("#runButton"),i=t.querySelector("#resetButton"),a=this.runButtonClick.bind(this),s=e.runButtonClickWrapper||ke,u=l.default.debounce(s.bind(null,a),250,{leading:!0,trailing:!1});r&&i&&(m.addClickTouchEvent(r,l.default.bind(u,this)),m.addClickTouchEvent(i,l.default.bind(this.resetButtonClick,this)));var c=t.querySelector("#skipButton");c&&m.addClickTouchEvent(c,this.skipLevel.bind(this));var d=document.getElementById("belowVisualization"),f=document.getElementById("reference_area");!e.noInstructionsWhenCollapsed&&f&&d.appendChild(f);var p=document.getElementById("visualizationColumn");if(!e.hideSource||e.embed||e.level.iframeEmbed){var h=this.MIN_WORKSPACE_HEIGHT;if(this.isUsingBlockly()&&e.level.edit_blocks&&((0,o.default)(n).addClass("edit"),h=3e3,e.level.edit_blocks===F.TOOLBOX_EDIT_MODE&&(this.blockYCoordinateInterval=80,e.blockArrangement={category:{x:20}}),e.level.disableIfElseEditing=!1,e.level.disableParamEditing=!1,e.level.disableVariableEditing=!1),e.level.iframeEmbed&&(document.body.className+=" embedded_iframe"),e.pinWorkspaceToBottom&&!e.level.iframeEmbedAppAndCode){var g=document.body;g.style.overflow="hidden",g.className=g.className+" pin_bottom",t.className=t.className+" pin_bottom"}else p.style.minHeight=h+"px",t.style.minHeight=h+"px"}e.readonlyWorkspace&&(0,o.default)(n).addClass("readonly");var y=document.querySelector("#page-small-footer .small-footer-base");y&&(e.noPadding&&(y.style.boxSizing="border-box"),(0,W.getStore)().getState().pageConstants.isResponsive&&(y.className+=" responsive"))},be.prototype.handleHideSource_=function(e){var t=document.getElementById(e.containerId);this.hideSource=!0;var n=document.getElementById("codeWorkspace");if(e.embed&&!e.level.skipInstructionsPopup||(t.className="hide-source"),n.style.display="none",this.share&&(e.legacyShareStyle||e.wireframeShare)){document.body.style.backgroundColor="#202B34",e.level.iframeEmbed&&(document.body.style.backgroundColor="transparent"),(0,o.default)(".header-wrapper").hide();var r=document.getElementById("visualizationColumn");if(!m.isMobile()||!e.legacyShareStyle&&m.isIPad()){(0,o.default)(r).addClass("wireframeShare"),document.body.className+=" WireframeButtons_container";var s=document.createElement("div");s.className="WireframeButtons_containerLeft",document.body.insertBefore(s,document.body.firstChild),(s=document.getElementsByClassName("wrapper")[0])&&(s.className="wrapper withWireframeButtons"),(s=document.createElement("div")).className="WireframeButtons_containerRight",document.body.appendChild(s),e.level.iframeEmbed||a.default.render(i.default.createElement(P.default,{channelId:L.default.getCurrentId(),appType:L.default.getStandaloneApp(),isLegacyShare:!!e.isLegacyShare}),s)}else(0,o.default)(r).addClass("chromelessShare");if(!e.embed&&!e.noHowItWorks){var l=document.getElementById("gameButtons"),u=document.createElement("button");u.setAttribute("id","open-workspace"),u.appendChild(document.createTextNode(N.default.openWorkspace())),m.addClickTouchEvent(u,(function(){/^\/c\//.test(location.pathname)?location.pathname+="/edit":location.pathname+="/view"})),l.appendChild(u)}}},be.prototype.handleIframeEmbedAppAndCode_=function(){document.body.style.backgroundColor="transparent",document.body.className+="iframe_embed_app_and_code";var e=document.getElementById("visualizationColumn");(0,o.default)(e).addClass("chromelessShare")},be.prototype.loadLibraryBlocks=function(e){!e.level.libraries&&e.level.startLibraries&&(e.level.libraries=JSON.parse(e.level.startLibraries)),e.level.libraries&&(e.level.projectLibraries=[],e.level.libraries.forEach((function(t){e.dropletConfig.additionalPredefValues.push(t.name),e.level.projectLibraries.push({name:t.name,code:(0,J.createLibraryClosure)(t)}),t.dropletConfig.forEach((function(t){e.dropletConfig.blocks.push(t),e.level.codeFunctions[t.func]=null}))})))},be.prototype.setDropletCursorToLine_=function(e){for(var t=this.editor.getCursor().getDocument().start,n=0;t&&n<e;)"newline"===(t=t.next).type&&n++;t&&this.editor.setCursor(t)},be.prototype.currentlyUsingBlocks=function(){return this.editor&&this.editor.session&&this.editor.session.currentlyUsingBlocks},be.prototype.handleEditCode_=function(e){var t=this;if(this.hideSource)e.afterInject&&e.afterInject();else{L.default.getMakerAPIs()||e.isStartMode&&e.level.makerlabEnabled||e.level.codeFunctions&&(H.configCircuitPlayground.blocks.forEach((function(t){delete e.level.codeFunctions[t.func]})),H.configMicrobit.blocks.forEach((function(t){delete e.level.codeFunctions[t.func]})));var n=g.generateDropletPalette(e.level.codeFunctions,e.dropletConfig),r=document.getElementById("codeTextbox"),i=document.createElement("div");i.setAttribute("id","dropletCodeTextbox"),r.appendChild(i),this.editor=new droplet.Editor(i,{mode:"javascript",modeOptions:g.generateDropletModeOptions(e),palette:n,showPaletteInTextMode:!0,showDropdownInPalette:e.showDropdownInPalette,allowFloatingBlocks:!1,dropIntoAceAtLineStart:e.dropIntoAceAtLineStart,enablePaletteAtStart:!e.readonlyWorkspace,textModeAtStart:"blocks"!==e.level.textModeAtStart&&(!1===e.level.textModeAtStart?e.usingTextModePref:!!e.level.textModeAtStart)}),this.setupChangeHandlers(),e.level.paletteCategoryAtStart&&this.editor.changePaletteGroup(e.level.paletteCategoryAtStart),this.editor.aceEditor.setShowPrintMargin(!1),d.defineForAce(e.dropletConfig,e.unusedConfig,this.editor,e.levelGameName);var a=this.editor.aceEditor;a.session.setMode("ace/mode/javascript_codeorg"),window.ace.require("ace/autocomplete").Autocomplete.prototype.commands["."]=function(e){e.insert("."),e.completer.updateCompletions(!0);for(var t=e.completer.completions&&e.completer.completions.filtered,n=0;n<(t&&t.length);n++)if(t[n].exactMatch)return;e.completer.detach()};var s=window.ace.require("ace/ext/language_tools");if(a.completers=[s.snippetCompleter,s.keyWordCompleter],s.setCompleters=function(){throw new Error("setCompleters disabled. set aceEditor.completers directly")},e.dropletConfig){var l=null;e.level.autocompletePaletteApisOnly&&(l=e.level.codeFunctions),a.completers.push(g.generateAceApiCompleter(l,e.dropletConfig))}this.editor.aceEditor.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),this.dropletTooltipManager=new O.default(this.appMsg,e.dropletConfig,e.level.codeFunctions,e.level.autocompletePaletteApisOnly,e.app),e.level.dropletTooltipsDisabled&&this.dropletTooltipManager.setTooltipsEnabled(!1),this.dropletTooltipManager.registerBlocks();var u=document.getElementById("hide-toolbox-icon"),c=document.getElementById("show-toolbox-header"),f=document.getElementById("show-toolbox-click-target");if(u&&c){u.style.display="inline-block";var p=function(){t.editor&&t.editor.session&&(t.editor.enablePalette(!t.editor.session.paletteEnabled),c.style.display=t.editor.session.paletteEnabled?"none":"inline-block",u.style.display=t.editor.session.paletteEnabled?"inline-block":"none",t.resizeToolboxHeader())};m.addClickTouchEvent(u,p),m.addClickTouchEvent(f,p)}this.resizeToolboxHeader();var h=e.level.lastAttempt||e.level.startBlocks;if(h){try{this.editor.setValue(h.replace(/\r\n/g,"\n")),this.editor.aceEditor.navigateFileStart()}catch(v){console.error(v.message)}this.editor.clearUndoStack();var y=window.ace.require("ace/undomanager").UndoManager;this.editor.aceEditor.getSession().setUndoManager(new y)}e.readonlyWorkspace&&(this.editor.setReadOnly(!0),c.style.display="none"),this.onDropletToggle(!this.instructionsDialog),this.dropletTooltipManager.registerDropletBlockModeHandlers(this.editor),this.editor.on("palettetoggledone",(function(e){(0,o.default)(window).trigger("droplet_change",["togglepalette"])})),this.editor.on("selectpalette",(function(e){(0,o.default)(window).trigger("droplet_change",["selectpalette"])})),(0,o.default)(".droplet-palette-scroller").on("scroll",(function(e){(0,o.default)(window).trigger("droplet_change",["scrollpalette"])})),(0,o.default)(".droplet-main-scroller").on("scroll",(function(e){(0,o.default)(window).trigger("droplet_change",["scrolleditor"])})),this.editor.aceEditor.getSession().on("changeScrollTop",(function(){(0,o.default)(window).trigger("droplet_change",["scrollace"])})),o.default.expr[":"].textEquals=function(e,t,n){var r=n[3],i=(0,o.default)(e).text().trim().match("^"+r+"$");return i&&i.length>0},(0,o.default)(window).on("prepareforcallout",function(e,t){if(t.dropletPaletteCategory){this.editor.changePaletteGroup(t.dropletPaletteCategory);var n=(0,o.default)(".droplet-palette-scroller"),r=(0,o.default)(t.selector);r.length>0&&n.scrollTop(r.offset().top-n.offset().top+n.scrollTop())}else if(t.codeString){var i=this.editor.aceEditor.find(t.codeString,{caseSensitive:!0,range:null,preventScroll:!0});if(i){var a=i.start.row,s=a+1;this.currentlyUsingBlocks()?(t.selector='.droplet-gutter-line:textEquals("'+s+'")',this.setDropletCursorToLine_(a),this.editor.scrollCursorIntoPosition(),this.editor.redrawGutter()):(t.selector='.ace_gutter-cell:textEquals("'+s+'")',this.editor.aceEditor.scrollToLine(a),this.editor.aceEditor.renderer.updateFull(!0))}}}.bind(this)),(0,o.default)(document).on("keydown",(function(e){if(e.keyCode===F.KeyCodes.BACKSPACE){var t=e.srcElement||e.target;("INPUT"===t.tagName.toUpperCase()&&("TEXT"===t.type.toUpperCase()||"PASSWORD"===t.type.toUpperCase()||"FILE"===t.type.toUpperCase()||"EMAIL"===t.type.toUpperCase()||"SEARCH"===t.type.toUpperCase()||"NUMBER"===t.type.toUpperCase()||"DATE"===t.type.toUpperCase())||"TEXTAREA"===t.tagName.toUpperCase()?t.readOnly||t.disabled:!t.isContentEditable)&&e.preventDefault()}})),this.instructionsDialog&&this.instructionsDialog.focus(),e.afterEditorReady&&e.afterEditorReady(),e.afterInject&&e.afterInject()}},be.prototype.enableBreakpoints=function(){if(!this.editor)throw new Error("Droplet editor must be in use to enable breakpoints.");this.editor.on("guttermousedown",function(e){var t=this.editor.getBreakpoints()[e.line];t?this.editor.clearBreakpoint(e.line):this.editor.setBreakpoint(e.line);var n=(0,W.getStore)().getState().currentUser,r=n&&n.userType;R.default.putRecord({study:"droplet-breakpoints",study_group:r,event:"guttermousedown",data_json:JSON.stringify({levelId:this.config.serverLevelId,lineNumber:e.line,activeBreakpoint:t,projectLevelId:this.config.serverProjectLevelId,scriptId:this.config.scriptId,scriptName:this.config.scriptName,studentUserId:(0,re.queryParams)("user_id"),url:window.location.toString()})},{includeUserId:!0})}.bind(this))},be.prototype.validateCodeChanged=function(){var e=this.config.level;return!e.validationEnabled||L.default.isCurrentCodeDifferent(e.startBlocks)},be.prototype.setCheckForEmptyBlocks=function(e){this.checkForEmptyBlocks_=e},be.prototype.setStartBlocks_=function(e,t){e.level.edit_blocks&&(t=!1);var n=e.level.startBlocks||"";t&&"Jigsaw"!==e.levelGameName&&(n=e.level.lastAttempt||n),e.forceInsertTopBlock&&(n=h.forceInsertTopBlock(n,e.forceInsertTopBlock)),e.level.sharedFunctions&&(n=h.appendNewFunctions(n,e.level.sharedFunctions)),n=this.arrangeBlockPosition(n,e.blockArrangement);try{this.loadBlocks(n)}catch(r){if(!t)throw r;try{Blockly.mainBlockSpace.clear(),this.setStartBlocks_(e,!1)}catch(o){throw r}}},be.prototype.openFunctionDefinition_=function(e){Blockly.contractEditor?Blockly.contractEditor.autoOpenWithLevelConfiguration({autoOpenFunction:e.level.openFunctionDefinition,contractCollapse:e.level.contractCollapse,contractHighlight:e.level.contractHighlight,examplesCollapse:e.level.examplesCollapse,examplesHighlight:e.level.examplesHighlight,definitionCollapse:e.level.definitionCollapse,definitionHighlight:e.level.definitionHighlight}):Blockly.functionEditor.autoOpenFunction(e.level.openFunctionDefinition)},be.prototype.handleUsingBlockly_=function(e){if(e.level.edit_blocks&&(this.checkForEmptyBlocks_=!1,"required_blocks"!==e.level.edit_blocks&&e.level.edit_blocks!==F.TOOLBOX_EDIT_MODE&&"recommended_blocks"!==e.level.edit_blocks||(e.forceInsertTopBlock=null)),e.level.toolbox){var t=e.level.toolbox.replace(/\s/g,"");"<xml></xml>"!==t&&"<xml/>"!==t||(e.level.toolbox=void 0)}var n=document.getElementById("codeWorkspace"),r={toolbox:e.level.toolbox,disableIfElseEditing:v.valueOr(e.level.disableIfElseEditing,!1),disableParamEditing:v.valueOr(e.level.disableParamEditing,!0),disableVariableEditing:v.valueOr(e.level.disableVariableEditing,!1),disableProcedureAutopopulate:v.valueOr(e.level.disableProcedureAutopopulate,!1),topLevelProcedureAutopopulate:v.valueOr(e.level.topLevelProcedureAutopopulate,!1),useModalFunctionEditor:e.level.edit_blocks!==F.TOOLBOX_EDIT_MODE&&!!e.level.useModalFunctionEditor,useContractEditor:v.valueOr(e.level.useContractEditor,!1),disableExamples:v.valueOr(e.level.disableExamples,!1),defaultNumExampleBlocks:v.valueOr(e.level.defaultNumExampleBlocks,2),scrollbars:e.level.scrollbars,hasVerticalScrollbars:e.hasVerticalScrollbars,hasHorizontalScrollbars:e.hasHorizontalScrollbars||Q.default.isEnabled("horizontalScroll"),editBlocks:v.valueOr(e.level.edit_blocks,!1),showUnusedBlocks:v.valueOr(e.showUnusedBlocks,!0),readOnly:v.valueOr(e.readonlyWorkspace,!1),showExampleTestButtons:v.valueOr(e.showExampleTestButtons,!1),valueTypeTabShapeMap:v.valueOr(e.valueTypeTabShapeMap,{}),typeHints:v.valueOr(e.level.showTypeHints,!1),isBlocklyRtl:(0,W.getStore)().getState().isRtl&&"Jigsaw"!==e.levelGameName};r.editBlocks&&(r.showUnusedBlocks=!1,r.disableProcedureAutopopulate=r.editBlocks===F.TOOLBOX_EDIT_MODE),["trashcan","varsInGlobals","grayOutUndeletableBlocks","disableParamEditing"].forEach((function(t){void 0!==e[t]&&(r[t]=e[t])})),this.inject(n,r),this.onResize(),this.setupChangeHandlers(),e.afterInject&&e.afterInject(),this.setStartBlocks_(e,!0),B.default.isMobile()&&B.default.isSafari()&&window.setTimeout((function(){return Blockly.fireUiEvent(window,"resize")}),500)},be.prototype.onDropletToggle=function(e){e=v.valueOr(e,!0),this.currentlyUsingBlocks()||(e&&this.editor.aceEditor.focus(),this.dropletTooltipManager.registerDropletTextModeHandlers(this.editor))},be.prototype.hasExtraTopBlocks=function(){return this.feedback_.hasExtraTopBlocks()},be.prototype.hasUnwantedExtraTopBlocks=function(){return this.hasExtraTopBlocks()&&!Blockly.showUnusedBlocks},be.prototype.hasQuestionMarksInNumberField=function(){return this.feedback_.hasQuestionMarksInNumberField()},be.prototype.hasUnfilledFunctionalBlock=function(){return!!this.getUnfilledFunctionalBlock()},be.prototype.getUnfilledFunctionalBlock=function(){return this.getFilteredUnfilledFunctionalBlock_((function(e){return"functional_example"!==e.type}))},be.prototype.getUnfilledFunctionalExample=function(){return this.getFilteredUnfilledFunctionalBlock_((function(e){if("functional_example"!==e.type)return!1;var t=e.getInputTargetBlock("ACTUAL");return t&&t.getFieldValue("NAME")}))},be.prototype.getFilteredUnfilledFunctionalBlock_=function(e){var t;return Blockly.mainBlockSpace.getAllUsedBlocks().some((function(n){var r=n.getRootBlock();return!!e(r)&&(n.hasUnfilledFunctionalInput()?(t=n,!0):void 0)})),t},be.prototype.getFunctionWithoutTwoExamples=function(){var e,t=Blockly.mainBlockSpace.getTopBlocks().filter((function(e){return"functional_definition"===e.type&&!e.isVariable()})).map((function(e){return e.getProcedureInfo().name})),n=Blockly.mainBlockSpace.getTopBlocks().filter((function(e){if("functional_example"!==e.type)return!1;var t=e.getInputTargetBlock("ACTUAL");return t&&t.getFieldValue("NAME")})).map((function(e){return e.getInputTargetBlock("ACTUAL").getFieldValue("NAME")}));return t.forEach((function(t){n.filter((function(e){return t===e})).length<2&&(e=t)})),e},be.prototype.getUnfilledFunctionalBlockError=function(e){var t=this.getUnfilledFunctionalBlock();if(!t)return null;for(var n=t;n.getParent();)n=n.getParent();if(t.type===e)return N.default.emptyTopLevelBlock({topLevelBlockName:t.getFieldValue()});if("functional_definition"!==n.type)return N.default.emptyFunctionalBlock();var r=n.getProcedureInfo();return n.isVariable()?N.default.emptyBlockInVariable({name:r.name}):N.default.emptyBlockInFunction({name:r.name})},be.prototype.checkForFailingExamples=function(e){var t="";return Blockly.mainBlockSpace.findFunctionExamples().forEach((function(n){var r=e(n,!1);Blockly.contractEditor.updateExampleResult(n,r),r&&(t=n.getInputTargetBlock("ACTUAL").getFieldValue("NAME"))})),t},be.prototype.hasEmptyFunctionOrVariableName=function(){return Blockly.mainBlockSpace.getTopBlocks().some((function(e){return"functional_definition"===e.type&&!e.getProcedureInfo().name}))},be.prototype.createCoordinateGridBackground=function(e){for(var t,n,r,o=e.svg,i=e.origin,a=e.firstLabel,s=e.lastLabel,l=e.increment,u=document.getElementById(o),c=a;c<=s;c+=l)(n=document.createElementNS("http://www.w3.org/2000/svg","text")).appendChild(document.createTextNode(c)),u.appendChild(n),t=n.getBBox(),n.setAttribute("x",c-i-t.width/2),n.setAttribute("y",400),n.setAttribute("font-weight","bold"),(r=Ae(n)).setAttribute("fill",I.default.white),u.insertBefore(r,n),(n=document.createElementNS("http://www.w3.org/2000/svg","text")).appendChild(document.createTextNode(c)),u.appendChild(n),t=n.getBBox(),n.setAttribute("x",0),n.setAttribute("y",400-(c-i)),n.setAttribute("dominant-baseline","central"),n.setAttribute("font-weight","bold"),(r=Ae(n)).setAttribute("fill",I.default.white),u.insertBefore(r,n)},be.prototype.displayWorkspaceAlert=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};(0,W.getStore)().dispatch((0,ue.closeWorkspaceAlert)());var l=(0,o.default)(r&&this.editCode?"#codeTextbox":"#codeWorkspace"),u=(0,o.default)("<div/>");l.append(u);var c=i.default.createElement(le.default,{type:e,onClose:function(){s(),n.closeAlert(u[0])},isBlockly:this.usingBlockly_,displayBottom:r},t);return a.default.render(c,u[0]),u[0]},be.prototype.displayPlayspaceAlert=function(e,t){var n=this,r=(0,o.default)("#visualization"),s=r.children(".react-alert");0===s.length&&(s=(0,o.default)("<div class='react-alert ignore-transform'/>").css({position:"absolute",left:0,right:0,top:0,zIndex:1e3,transform:"scale(1.0)"}),r.append(s));var l=s[0],u={onClose:function(){return n.closeAlert(l)},type:e};e===F.NOTIFICATION_ALERT_TYPE?(u.closeDelayMillis=5e3,u.childPadding="8px 14px"):u.sideMargin=20;var c=i.default.createElement(_.default,u,t);a.default.render(c,l)},be.prototype.closeAlert=function(e){a.default.unmountComponentAtNode(e)},be.prototype.alertIfAbusiveProject=function(){L.default.exceedsAbuseThreshold()&&this.displayWorkspaceAlert("error",i.default.createElement(b.default,{i18n:{tos:N.default.tosLong({url:"http://code.org/tos"}),contact_us:N.default.contactUs({url:"https://support.code.org/hc/en-us/requests/new?&description=".concat(encodeURIComponent("Abuse error for project at url: ".concat(window.location.toString())))})}}))},be.prototype.alertIfProfaneOrPrivacyViolatingProject=function(){L.default.hasPrivacyProfanityViolation()&&this.displayWorkspaceAlert("error",i.default.createElement(b.default,{i18n:{tos:N.default.policyViolation(),contact_us:N.default.contactUs({url:"https://support.code.org/hc/en-us/requests/new?&description=".concat(encodeURIComponent("Abuse error for project at url: ".concat(window.location.toString())))})}}))},be.prototype.hasDuplicateVariablesInForLoops=function(){return!this.editCode&&Blockly.mainBlockSpace.getAllUsedBlocks().some(this.forLoopHasDuplicatedNestedVariables_)},be.prototype.forLoopHasDuplicatedNestedVariables_=function(e){if(e&&("controls_for"===e.type||"controls_for_counter"===e.type)){var t=e.getInput("DO").connection.targetBlock();return t&&Blockly.Variables.allVariablesFromBlock(e).some((function(e){return t.getDescendants().some((function(t){return("controls_for"===t.type||"controls_for_counter"===t.type)&&-1!==Blockly.Variables.allVariablesFromBlock(t).indexOf(e)}))}))}},be.prototype.polishGeneratedCodeString=function(e){return this.polishCodeHook?this.polishCodeHook(e):e},be.prototype.isResponsiveFromConfig=function(e){var t=!e.hideSource;return e.embed||t},be.prototype.displayNotStartedBanner=function(e){return!e.hasContainedLevels&&!e.level.isProjectLevel&&(e.readonlyWorkspace&&!e.level.isStarted)},be.prototype.setPageConstants=function(e,t){var n=e.level,r=l.default.assign({exampleSolutions:e.exampleSolutions,isViewingAsInstructorInTraining:e.isViewingAsInstructorInTraining,hasBackgroundMusic:n.levelTracks&&0!==n.levelTracks.length,canHaveFeedbackReviewState:e.canHaveFeedbackReviewState,ttsShortInstructionsUrl:n.ttsShortInstructionsUrl,ttsLongInstructionsUrl:n.ttsLongInstructionsUrl,skinId:e.skinId,showNextHint:this.showNextHint.bind(this),locale:e.locale,assetUrl:this.assetUrl,isReadOnlyWorkspace:!!e.readonlyWorkspace,isDroplet:!!n.editCode,isBlockly:this.isUsingBlockly(),isBramble:e.app&&"weblab"===e.app,hideSource:!!e.hideSource,isChallengeLevel:!!e.isChallengeLevel,isEmbedView:!!e.embed,isResponsive:this.isResponsiveFromConfig(e),displayNotStartedBanner:this.displayNotStartedBanner(e),displayOldVersionBanner:!!(0,re.queryParams)("version"),isShareView:!!e.share,pinWorkspaceToBottom:!!e.pinWorkspaceToBottom,noInstructionsWhenCollapsed:!!e.noInstructionsWhenCollapsed,hasContainedLevels:e.hasContainedLevels,puzzleNumber:n.puzzle_number,lessonTotal:n.lesson_total,noVisualization:!1,visualizationInWorkspace:!1,smallStaticAvatar:e.skin.smallStaticAvatar,failureAvatar:e.skin.failureAvatar,aniGifURL:e.level.aniGifURL,inputOutputTable:e.level.inputOutputTable,is13Plus:e.is13Plus,isSignedIn:e.isSignedIn,userId:e.userId,textToSpeechEnabled:e.textToSpeechEnabled,isK1:e.level.isK1,appType:e.app,nextLevelUrl:e.nextLevelUrl,isProjectTemplateLevel:!!e.level.projectTemplateLevelName&&!e.level.isK1,showProjectTemplateWorkspaceIcon:!!e.level.projectTemplateLevelName&&!e.level.isK1&&!e.readonlyWorkspace,serverScriptId:e.serverScriptId,serverLevelId:e.serverLevelId,serverProjectLevelId:e.serverProjectLevelId,codeOwnersName:e.codeOwnersName},t);(0,W.getStore)().dispatch((0,Y.setPageConstants)(r)),e.isInstructor&&(0,W.getStore)().dispatch((0,te.setUserRoleInCourse)(te.CourseRoles.Instructor));var o=(0,ee.determineInstructionsConstants)(e);(0,W.getStore)().dispatch((0,ee.setInstructionsConstants)(o))},be.prototype.showRateLimitAlert=function(){if(this.hasSeenRateLimitAlert_)return!1;this.hasSeenRateLimitAlert_=!0;var e=i.default.createElement("div",null,N.default.dataLimitAlert());this.share?this.displayPlayspaceAlert("error",e):this.displayWorkspaceAlert("error",e),j.default.addPageAction(j.default.PageAction.FirebaseRateLimitExceeded,{isEditing:L.default.isEditing(),isOwner:L.default.isOwner(),share:!!this.share})},be.prototype.loadLibraries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.libraryPreload_||(this.libraryPreload_=Promise.all(e.map(this.loadLibrary_.bind(this)))),this.libraryPreload_},be.prototype.loadLibrary_=function(){var e,t=(e=pe().mark((function e(t){var n;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.libraries[t]){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/libraries/"+t);case 4:return n=e.sent,e.next=7,n.text();case 7:this.libraries[t]=e.sent;case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,s,"next",e)}function s(e){he(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelFeedbackType=t.levelFeedbackShape=t.feedbackShape=t.ReviewStates=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(33);var a=o.default.shape({id:o.default.number.isRequired,seen_on_feedback_page_at:o.default.string,student_first_visited_at:o.default.string,created_at:o.default.oneOfType([o.default.string,o.default.instanceOf(Date)]).isRequired,comment:o.default.string,performance:o.default.string,is_awaiting_teacher_review:o.default.bool,review_state:o.default.string});t.feedbackShape=a;var s=o.default.shape(l);t.levelFeedbackShape=s;var l={lessonName:o.default.string.isRequired,lessonNum:o.default.number.isRequired,levelNum:o.default.number.isRequired,linkToLevel:o.default.string.isRequired,unitName:o.default.string,feedbacks:o.default.arrayOf(a)};t.levelFeedbackType=l;var u=(0,i.makeEnum)("completed","keepWorking","awaitingReview");t.ReviewStates=u},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeDialog=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(t.type===n){if(!0===e.open)throw new Error("dialog is already open");return{open:!0,imgOnly:t.imgOnly,imgUrl:t.imgUrl}}if(t.type===r){if(!1===e.open)throw new Error("dialog is already closed");return{open:!1}}return e},t.openDialog=void 0;var n="instructionsDialog/OPEN_DIALOG",r="instructionsDialog/CLOSE_DIALOG",o={open:!1,imgOnly:!1};t.openDialog=function(e){var t=e.imgOnly,r=e.imgUrl;return{type:n,imgOnly:t,imgUrl:r}};t.closeDialog=function(){return{type:r}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var l in s){var u=s[l];if((0,a.default)(u))s[l]=e(u);else if(Array.isArray(u)){for(var c=[],d=0,f=u.length;d<f;++d){var p=(0,o.default)(n,l,u[d],s,t);(0,i.default)(c,p||u[d])}c.length>0&&(s[l]=c)}else{var h=(0,o.default)(n,l,u,s,t);h&&(s[l]=h),s=(0,r.default)(t,l,s)}}return s}};var r=s(n(627)),o=s(n(487)),i=s(n(488)),a=s(n(489));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=e.prefixMap,n=e.plugins,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e);var r="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,o.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,i.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var a=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(a){for(var s in this._requiresPrefix={},a)a[s]>=this._browserInfo.browserVersion&&(this._requiresPrefix[s]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return r(e,[{key:"prefix",value:function(e){return this._useFallback?c(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,l.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var o=[],i=0,c=r.length;i<c;++i){var d=(0,u.default)(n,t,r[i],e,this._metaData);(0,s.default)(o,d||r[i])}o.length>0&&(e[t]=o)}else{var f=(0,u.default)(n,t,r,e,this._metaData);f&&(e[t]=f),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,a.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return c(e)}}]),e}()};var o=c(n(628)),i=c(n(629)),a=c(n(428)),s=c(n(488)),l=c(n(489)),u=c(n(487));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t.default},(e,t,n)=>{"use strict";e.exports=n(185)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return i(i(i({},e),m),{},{isOpen:!0});case l:return i(i({},e),{},{isUnpublishPending:!1,didUnpublish:!1,isOpen:!1});case u:return i(i({},e),{},{isUnpublishPending:!0});case c:return i(i({},e),{},{isOpen:!1,isUnpublishPending:!1,didUnpublish:!0});case d:return i(i({},e),{},{isUnpublishPending:!1});case f:return i(i({},e),{},{replayLog:t.replayLog});case p:return i(i({},e),{},{libraryDialogIsOpen:!0});case h:return i(i({},e),{},{libraryDialogIsOpen:!1});default:return e}},t.hideLibraryCreationDialog=function(){return{type:h}},t.hideShareDialog=function(){return{type:l}},t.saveReplayLog=function(e){return{type:f,replayLog:e}},t.showLibraryCreationDialog=function(){return{type:p}},t.showShareDialog=function(){return{type:s}},t.unpublishProject=function(e){return function(t){return t({type:u}),new Promise((function(n,o){r.channels.withProjectId(e).ajax("POST","unpublish",(function(){t({type:c}),n()}),(function(e){t({type:d}),o(e)}),null)}))}};var r=n(449);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="shareDialog/SHOW_SHARE_DIALOG",l="shareDialog/HIDE_SHARE_DIALOG",u="shareDialog/UNPUBLISH_REQUEST",c="shareDialog/UNPUBLISH_SUCCESS",d="shareDialog/UNPUBLISH_FAILURE",f="shareDialog/SAVE_REPLAY_LOG",p="shareDialog/SHOW_LIBRARY_CREATION_DIALOG",h="shareDialog/HIDE_LIBRARY_CREATION_DIALOG",m={isOpen:!1,isUnpublishPending:!1,didUnpublish:!1,libraryDialogIsOpen:!1}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},o=e[t],a=(0,i.default)(t),s=Object.keys(n),l=0;l<s.length;l++){var u=s[l];if(u===t)for(var c=0;c<o.length;c++)r[o[c]+a]=n[t];r[u]=n[u]}return r}return n};var r,o=n(428),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.default._detect(e);t.yandexbrowser&&(t=i.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in a)if(t.hasOwnProperty(n)){var r=a[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}t.browserName=function(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in s)if(e.hasOwnProperty(t))return s[t]}(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10);t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr");"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44);return t};var r,o=n(606),i=(r=o)&&r.__esModule?r:{default:r};var a={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},s={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r="keyframes";if("chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e)return n+r;return r},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1277);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return f(r).default}});var o=n(1278);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return f(o).default}});var i=n(1280);Object.defineProperty(t,"Body",{enumerable:!0,get:function(){return f(i).default}});var a=n(862);Object.defineProperty(t,"BodyRow",{enumerable:!0,get:function(){return f(a).default}});var s=n(775);Object.defineProperty(t,"evaluateFormatters",{enumerable:!0,get:function(){return f(s).default}});var l=n(776);Object.defineProperty(t,"evaluateTransforms",{enumerable:!0,get:function(){return f(l).default}});var u=n(637);Object.defineProperty(t,"mergeProps",{enumerable:!0,get:function(){return f(u).default}});var c=n(863);Object.defineProperty(t,"columnsAreEqual",{enumerable:!0,get:function(){return f(c).default}});var d=n(864);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"resolveRowKey",{enumerable:!0,get:function(){return f(d).default}})},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r,o=a(n(900)),i=a(n(53));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=null,this.isMuted=!1,this.audioUnlocked_=!1,window.AudioContext)try{this.audioContext=new AudioContext,this.initializeAudioUnlockState_()}catch(e){}this.soundsById={},this.whenAudioUnlockedCallbacks_=[],this.onStopAllAudioCallbacks_=[]}s.getSingleton=function(){return r||(r=new s),r},s.prototype.initializeAudioUnlockState_=function(){this.unlockAudio(function(){if(!this.isAudioUnlocked()){var e=function(){this.unlockAudio(function(){this.isAudioUnlocked()&&(document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("keydown",e,!0))}.bind(this))}.bind(this);document.addEventListener("mousedown",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("keydown",e,!0)}}.bind(this))},s.prototype.isAudioUnlocked=function(){return this.audioUnlocked_||!this.audioContext},s.prototype.whenAudioUnlocked=function(e){this.isAudioUnlocked()?e():this.whenAudioUnlockedCallbacks_.push(e)},s.prototype.unlockAudio=function(e){if(!this.isAudioUnlocked()){var t=this.audioContext.createBuffer(1,1,22050),n=this.audioContext.createBufferSource();n.buffer=t,n.connect(this.audioContext.destination),n.start?n.start(0):n.noteOn(0),this.checkDidSourcePlay_(n,this.audioContext,function(t){t&&(this.audioUnlocked_=!0,this.whenAudioUnlockedCallbacks_.forEach((function(e){e()})),this.whenAudioUnlockedCallbacks_.length=0),e&&e()}.bind(this))}},s.prototype.checkDidSourcePlay_=function(e,t,n){void 0===e.PLAYING_STATE||void 0===e.FINISHED_STATE?setTimeout(function(){n("number"==typeof t.currentTime&&t.currentTime>0)}.bind(this),50):setTimeout(function(){n(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)}.bind(this),0)},s.prototype.registerByFilenamesAndID=function(e,t){for(var n={id:t},r=0;r<e.length;r++){var o=e[r],i=o.match(/\.(\w+)(\?.*)?$/);if(i)n[i[1]]=o}return this.register(n)},s.prototype.register=function(e){var t=new o.default(e,this.audioContext);return this.soundsById[e.id]=t,t.preloadFile(),t},s.prototype.play=function(e,t){var n=this.soundsById[e];n&&n.play(t)},s.prototype.unload=function(e){delete this.soundsById[e]},s.prototype.playURL=function(e,t){if(!this.isMuted){var n=this.soundsById[e];if(n&&!n.didLoadFail())n.isLoaded()?n.play(t):n.playAfterLoad(t);else{var r={id:e};r[s.getExtensionFromUrl(e)]=e,r.forceHTML5=t&&t.forceHTML5,r.allowHTML5Mobile=t&&t.allowHTML5Mobile,r.playAfterLoad=!0,r.playAfterLoadOptions=t,this.register(r)}}},s.prototype.playBytes=function(e,t,n){if(!this.isMuted){var r={};r.forceHTML5=n&&n.forceHTML5,r.allowHTML5Mobile=n&&n.allowHTML5Mobile,r.playAfterLoad=!0,r.playAfterLoadOptions=n,r.bytes=t;var i=new o.default(r,this.audioContext);this.soundsById[e]=i,i.preloadBytes(),i.play()}},s.prototype.isPlaying=function(e){var t=this.soundsById[e];return!!t&&t.isPlaying()},s.prototype.stopPlayingURL=function(e){var t=this.soundsById[e];t&&t.stop()},s.prototype.muteURLs=function(){this.isMuted=!0},s.prototype.unmuteURLs=function(){this.isMuted=!1},s.prototype.pauseSounds=function(){var e=this;this.pausedSounds=Object.keys(this.soundsById).filter((function(t){return e.soundsById[t].isPlaying_})),this.pausedSounds.forEach((function(t){return e.stopPlayingURL(t)}))},s.prototype.restartPausedSounds=function(){var e=this;this.pausedSounds.forEach((function(t){return e.playURL(t)})),this.pausedSounds=[]},s.prototype.stopAllAudio=function(){for(var e in this.soundsById)this.soundsById[e].isPlaying()&&this.soundsById[e].stop();i.default.over(this.onStopAllAudioCallbacks_)()},s.prototype.onStopAllAudio=function(e){this.onStopAllAudioCallbacks_.push(e)},s.prototype.stopLoopingAudio=function(e){this.soundsById[e].stop()},s.prototype.get=function(e){return this.soundsById[e]},s.getExtensionFromUrl=function(e){return e.substr(e.lastIndexOf(".")+1)},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayBehavior=t.P5LabType=t.P5LabInterfaceMode=t.EMPTY_IMAGE=t.APP_WIDTH=t.APP_HEIGHT=void 0;var r=n(33),o=r.makeEnum("CODE","ANIMATION");t.P5LabInterfaceMode=o;var i=r.makeEnum("GAMELAB","SPRITELAB","POETRY");t.P5LabType=i;t.APP_WIDTH=400;t.APP_HEIGHT=400;t.EMPTY_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var a=r.makeEnum("ALWAYS_PLAY","NEVER_PLAY");t.PlayBehavior=a},(e,t,n)=>{"use strict";e.exports=n(502)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedExpandableImagesWrapper=t.ExpandableImagesWrapper=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(36)),a=n(27),s=c(n(165)),l=n(622),u=n(1006);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.componentDidMount=function(){this.postRenderHook()},n.componentDidUpdate=function(e){this.postRenderHook()},n.postRenderHook=function(){var e=i.default.findDOMNode(this);(0,u.renderExpandableImages)(e,this.props.showImageDialog)},n.render=function(){return this.props.children},t}(o.default.Component);t.UnconnectedExpandableImagesWrapper=h,p(h,"propTypes",{showImageDialog:r.default.func.isRequired,children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node]).isRequired});var m=(0,a.connect)(null,(function(e){return{showImageDialog:function(t){e((0,l.openDialog)({imgOnly:!0,imgUrl:t}))}}}))(h);t.ExpandableImagesWrapper=m;var g=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=o.default.createElement(s.default,{markdown:this.props.markdown,openExternalLinksInNewTab:this.props.openExternalLinksInNewTab,className:this.props.className});return this.props.expandableImages&&(e=o.default.createElement(m,null,e)),e},t}(o.default.Component);t.default=g,p(g,"propTypes",{markdown:r.default.string.isRequired,openExternalLinksInNewTab:r.default.bool,expandableImages:r.default.bool,className:r.default.string})},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Body=E,t.Buttons=T,t.Cancel=S,t.Confirm=O,t.Footer=C,t.Icon=void 0,t.Title=w,t.styles=t.default=void 0;var r=f(n(1)),o=f(n(2)),i=f(n(103)),a=f(n(784)),s=f(n(143)),l=f(n(20)),u=n(1275),c=f(n(13)),d=["type"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _={icon:{backgroundSize:100,backgroundPosition:"bottom",backgroundRepeat:"no-repeat",marginTop:-165,width:120,height:200,float:"left"},title:{fontSize:27,lineHeight:"30px",marginBottom:15,color:l.default.purple},body:{fontSize:24,lineHeight:"27px",color:l.default.purple,whiteSpace:"normal"},buttons:{marginTop:10},rightButton:{float:"right"},buttonClear:{clear:"both"},footer:{borderColor:l.default.light_gray,borderStyle:"solid",borderWidth:0,borderTopWidth:2,marginTop:15,paddingTop:15}};function w(e){var t=e.children;return r.default.createElement("h1",{style:_.title},t)}function E(e){var t=e.children;return r.default.createElement("div",{style:_.body},t)}function O(e){var t=e.type,n=b(e,d);return t=t||"primary",r.default.createElement(a.default,v({type:t},n),e.children||c.default.dialogOK())}function S(e){return r.default.createElement(a.default,v({type:"cancel"},e),e.children||c.default.dialogCancel())}function T(e){var t=e.children,n=(t=r.default.Children.toArray(t)).slice(0,t.length-1),o=t[t.length-1];return r.default.createElement("div",{style:_.buttons},n,r.default.createElement("div",{style:_.rightButton},o),r.default.createElement("div",{style:_.buttonClear}))}function C(e){var t=e.children;return r.default.createElement("div",{style:_.footer},t)}t.styles=_,w.propTypes={children:o.default.node},E.propTypes={children:o.default.node},O.propTypes={children:o.default.node,type:o.default.string},S.propTypes={children:o.default.node},T.propTypes={children:(0,u.childrenOfType)(S,O)},C.propTypes={children:o.default.node};var k=(0,i.default)((function(e){var t=e.src;return r.default.createElement("span",{style:[_.icon,{backgroundImage:"url(".concat(t,")")}]})}));t.Icon=k,k.propTypes={src:o.default.string.isRequired};var A=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(t=e.call.apply(e,[this].concat(r))||this),"handleKeyDown",(function(e){if("Tab"===e.key){var n=t.baseDialog.getTabbableElements();if(n.length){var r=n.findIndex((function(e){return e===document.activeElement}));n[(r+1)%n.length].focus()}e.preventDefault()}})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),o.prototype.render=function(){var e=this,t=[];if(this.props.icon&&t.push(r.default.createElement(k,{key:"icon",src:this.props.icon})),this.props.title&&t.push(r.default.createElement(w,{key:"title"},this.props.title)),this.props.body&&t.push(r.default.createElement(E,{key:"body"},this.props.body)),t=t.concat(this.props.children),this.props.cancelText||this.props.onCancel||this.props.confirmText||this.props.onConfirm||this.props.confirmType){var n=r.default.createElement(T,{key:"buttons"},this.props.onCancel&&r.default.createElement(S,{onClick:this.props.onCancel},this.props.cancelText),this.props.onConfirm&&r.default.createElement(O,{onClick:this.props.onConfirm,type:this.props.confirmType},this.props.confirmText)),o=t[t.length-1];o&&o.type===C?t.splice(t.length-1,0,n):t.push(n)}return this.props.footer&&t.push(r.default.createElement(C,{key:"footer"},this.props.footer)),r.default.createElement(s.default,v({},this.props,{ref:function(t){return e.baseDialog=t},handleKeyDown:this.handleKeyDown}),t)},o}(r.default.Component);t.default=A,y(A,"propTypes",h(h({},s.default.propTypes),{},{children:(0,u.childrenOfType)(k,w,E,T,C),icon:(0,u.whenNoChildOfTypes)(k),title:(0,u.whenNoChildOfTypes)(w),body:(0,u.whenNoChildOfTypes)(E),footer:(0,u.whenNoChildOfTypes)(C),cancelText:(0,u.whenNoChildOfTypes)(T),onCancel:(0,u.whenNoChildOfTypes)(T),confirmText:(0,u.whenNoChildOfTypes)(T),onConfirm:(0,u.whenNoChildOfTypes)(T),confirmType:(0,u.whenNoChildOfTypes)(T)}))},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1448)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],l=t.slice(1);return l.length?r.default.apply(void 0,[(0,r.default)({},a)].concat(s(l),[function(e,t,n){return"children"===n?o({},t,e):"className"===n?(0,i.default)(e,t):void 0}])):(0,r.default)({},a)}},,e=>{"use strict";e.exports=JSON.parse('["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]')},(e,t,n)=>{"use strict";e.exports=n(570)},(e,t)=>{"use strict";function n(e){return!/https?:\/\/([^.]+\.)*code.org(:[0-9]+)?\//.test((t=e,(r=r||document.createElement("a")).href=t,r.href));var t}var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.Parser,r=t.prototype.inlineTokenizers,o=r.link,i="all"===e.links;r.link=function(e,t,r){var a=o.call(this,e,t,r);if(a&&"link"===a.type&&(i||n(a.url))){a.data=a.data||{},a.data.hProperties=a.data.hProperties||{};var s=a.data.hProperties;s.target=s.target||"_blank",s.rel="noreferrer noopener"}return a},r.link.locator=o.locator},t.isExternalLink=n},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inlineBlock=t.hoverStyle=t.font=t.flexBetween=t.flexAround=t.flex=t.SMALL_DOT_SIZE=t.SMALL_DIAMOND_SIZE=t.DOT_SIZE=t.DIAMOND_DOT_SIZE=void 0,t.levelProgressStyle=function(e,t){var n={borderWidth:2,borderColor:a.default.lighter_gray,borderStyle:"solid",color:a.default.charcoal,backgroundColor:a.default.level_not_tried},r=t===s.LevelKind.assessment?m[e]:g[e];return u(u({},n),r)},t.marginTopBottom=t.marginLeftRight=void 0;var r,o,i,a=(r=n(20))&&r.__esModule?r:{default:r},s=n(385);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.DOT_SIZE=30;t.DIAMOND_DOT_SIZE=22;t.SMALL_DOT_SIZE=9;t.SMALL_DIAMOND_SIZE=6;var d={display:"flex",alignItems:"center",justifyContent:"center"};t.flex=d;var f=u(u({},d),{},{justifyContent:"space-around"});t.flexAround=f;var p=u(u({},d),{},{justifyContent:"space-between"});t.flexBetween=p;t.inlineBlock={display:"inline-block"};t.marginLeftRight=function(e){return{marginLeft:e,marginRight:e}};t.marginTopBottom=function(e){return{marginTop:e,marginBottom:e}};t.font={fontFamily:'"Gotham 5r", sans-serif'};var h={":hover":{textDecoration:"none",color:a.default.white,borderColor:a.default.level_current,backgroundColor:a.default.level_current},transition:"background-color .2s ease-out, border-color .2s ease-out, color .2s ease-out"};t.hoverStyle=h;var m=(c(o={},s.LevelStatus.attempted,{borderColor:a.default.level_submitted}),c(o,s.LevelStatus.submitted,{borderColor:a.default.level_submitted,backgroundColor:a.default.level_submitted,color:a.default.white}),c(o,s.LevelStatus.completed_assessment,{borderColor:a.default.level_submitted,backgroundColor:a.default.level_submitted,color:a.default.white}),c(o,s.LevelStatus.perfect,{borderColor:a.default.level_submitted,backgroundColor:a.default.level_submitted,color:a.default.white}),o),g=(c(i={},s.LevelStatus.attempted,{borderColor:a.default.level_perfect}),c(i,s.LevelStatus.perfect,{borderColor:a.default.level_perfect,backgroundColor:a.default.level_perfect,color:a.default.white}),c(i,s.LevelStatus.free_play_complete,{borderColor:a.default.level_perfect,backgroundColor:a.default.level_perfect,color:a.default.white}),c(i,s.LevelStatus.passed,{borderColor:a.default.level_perfect,backgroundColor:a.default.level_passed}),c(i,s.LevelStatus.submitted,{borderColor:a.default.level_submitted,backgroundColor:a.default.level_submitted,color:a.default.white}),c(i,s.LevelStatus.completed_assessment,{borderColor:a.default.level_submitted,backgroundColor:a.default.level_submitted,color:a.default.white}),c(i,s.LevelStatus.review_rejected,{color:a.default.white,borderColor:a.default.level_review_rejected,backgroundColor:a.default.level_review_rejected}),c(i,s.LevelStatus.review_accepted,{color:a.default.white,borderColor:a.default.level_perfect,backgroundColor:a.default.level_perfect}),i)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i({},E),t=arguments.length>1?arguments[1]:void 0;if(t.type===s){if(e.shortInstructions||e.longInstructions)throw new Error("instructions constants already set");var n=t.noInstructionsWhenCollapsed,r=t.shortInstructions,o=t.shortInstructions2,a=t.longInstructions,v=t.dynamicInstructions,O=t.hasContainedLevels,S=t.overlayVisible,T=t.teacherMarkdown,C=t.levelVideos,k=t.mapReference,A=t.referenceLinks,P=t.muteBackgroundMusic,x=t.unmuteBackgroundMusic,I=t.programmingEnvironment,R=e.isCollapsed;return a||O||(R=!0),Object.assign({},e,{noInstructionsWhenCollapsed:n,shortInstructions:r,shortInstructions2:o,longInstructions:a,dynamicInstructions:v,teacherMarkdown:T,hasContainedLevels:O,overlayVisible:S,isCollapsed:R,levelVideos:C,mapReference:k,referenceLinks:A,muteBackgroundMusic:P,unmuteBackgroundMusic:x,programmingEnvironment:I})}if(t.type===l)return Object.assign({},e,{isCollapsed:!e.isCollapsed});if(t.type===u&&e.allowResize)return Object.assign({},e,{renderedHeight:t.height,expandedHeight:e.isCollapsed?e.expandedHeight:t.height});if(t.type===c&&e.allowResize)return Object.assign({},e,{maxNeededHeight:t.maxNeededHeight});if(t.type===d&&t.maxAvailableHeight!==e.maxAvailableHeight&&e.allowResize)return Object.assign({},e,{maxAvailableHeight:t.maxAvailableHeight,renderedHeight:Math.min(t.maxAvailableHeight,e.renderedHeight),expandedHeight:Math.min(t.maxAvailableHeight,e.expandedHeight)});if(t.type===f)return i(i({},e),{},{allowResize:t.allowResize});if(t.type===p)return Object.assign({},e,{hasAuthoredHints:t.hasAuthoredHints});if(t.type===_)return Object.assign({},e,{ttsAutoplayEnabledForLevel:t.ttsAutoplayEnabledForLevel});if(t.type===w)return Object.assign({},e,{codeReviewEnabledForLevel:t.codeReviewEnabledForLevel});if(t.type===h)return Object.assign({},e,{feedback:t.feedback});if(t.type===m)return e.dynamicInstructionsDismissCallback&&e.dynamicInstructionsDismissCallback(),Object.assign({},e,{overlayVisible:!1});if(t.type===g)return Object.assign({},e,{dynamicInstructionsDefaults:t.dynamicInstructionsDefaults});if(t.type===y)return Object.assign({},e,{dynamicInstructionsKey:t.dynamicInstructionsKey,overlayVisible:t.options&&t.options.showOverlay});if(t.type===b)return Object.assign({},e,{dynamicInstructionsDismissCallback:t.dynamicInstructionsDismissCallback});return e},t.determineInstructionsConstants=void 0,t.getDynamicInstructions=function(e){if(!e.dynamicInstructionsDefaults&&!e.dynamicInstructions)return;return i(i({},e.dynamicInstructionsDefaults),e.dynamicInstructions&&JSON.parse(e.dynamicInstructions))},t.toggleInstructionsCollapsed=t.substituteInstructionImages=t.setTtsAutoplayEnabledForLevel=t.setInstructionsRenderedHeight=t.setInstructionsMaxHeightNeeded=t.setInstructionsMaxHeightAvailable=t.setInstructionsConstants=t.setHasAuthoredHints=t.setFeedback=t.setDynamicInstructionsOverlayDismissCallback=t.setDynamicInstructionsKey=t.setDynamicInstructionsDefaults=t.setCodeReviewEnabledForLevel=t.setAllowInstructionsResize=t.hideOverlay=void 0;var r=n(33);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="instructions/SET_CONSTANTS",l="instructions/TOGGLE_INSTRUCTIONS_COLLAPSED",u="instructions/SET_INSTRUCTIONS_RENDERED_HEIGHT",c="instructions/SET_INSTRUCTIONS_MAX_HEIGHT_NEEDED",d="instructions/SET_INSTRUCTIONS_MAX_HEIGHT_AVAILABLE",f="instructions/SET_ALLOW_INSTRUCTIONS_RESIZE",p="instructions/SET_HAS_AUTHORED_HINTS",h="instructions/SET_FEEDBACK",m="instructions/HIDE_OVERLAY",g="instructions/SET_DYNAMIC_INSTRUCTIONS_DEFAULTS",y="instructions/SET_DYNAMIC_INSTRUCTIONS_KEY",v="instructionsOverlaySeenOnce",b="instructions/SET_DYNAMIC_INSTRUCTIONS_DISMISS_CALLBACK",_="instructions/SET_TTS_AUTOPLAY_ENABLED_FOR_LEVEL",w="instructions/SET_CODE_REVIEW_ENABLED_FOR_LEVEL",E={noInstructionsWhenCollapsed:!1,shortInstructions:void 0,shortInstructions2:void 0,longInstructions:void 0,dynamicInstructions:void 0,dynamicInstructionsDefaults:void 0,dynamicInstructionsKey:void 0,teacherMarkdown:void 0,hasContainedLevels:!1,isCollapsed:!1,renderedHeight:0,expandedHeight:0,maxNeededHeight:1/0,maxAvailableHeight:1/0,allowResize:!0,hasAuthoredHints:!1,ttsAutoplayEnabledForLevel:!1,codeReviewEnabledForLevel:!1,overlayVisible:!1,levelVideos:[],mapReference:void 0,referenceLinks:[],muteBackgroundMusic:function(){},unmuteBackgroundMusic:function(){},programmingEnvironment:null};t.setInstructionsConstants=function(e){var t=e.noInstructionsWhenCollapsed,n=e.shortInstructions,r=e.shortInstructions2,o=e.longInstructions,i=e.dynamicInstructions,a=e.hasContainedLevels,l=e.overlayVisible,u=e.teacherMarkdown,c=e.levelVideos,d=e.mapReference,f=e.referenceLinks,p=e.muteBackgroundMusic,h=e.unmuteBackgroundMusic,m=e.programmingEnvironment;return{type:s,noInstructionsWhenCollapsed:t,shortInstructions:n,shortInstructions2:r,longInstructions:o,dynamicInstructions:i,hasContainedLevels:a,overlayVisible:l,teacherMarkdown:u,levelVideos:c,mapReference:d,referenceLinks:f,muteBackgroundMusic:p,unmuteBackgroundMusic:h,programmingEnvironment:m}};t.setInstructionsRenderedHeight=function(e){return{type:u,height:e}};t.toggleInstructionsCollapsed=function(){return{type:l}};t.setInstructionsMaxHeightNeeded=function(e){return{type:c,maxNeededHeight:e}};t.setInstructionsMaxHeightAvailable=function(e){return{type:d,maxAvailableHeight:e}};t.setAllowInstructionsResize=function(e){return{type:f,allowResize:e}};t.setHasAuthoredHints=function(e){return{type:p,hasAuthoredHints:e}};t.setTtsAutoplayEnabledForLevel=function(e){return{type:_,ttsAutoplayEnabledForLevel:e}};t.setCodeReviewEnabledForLevel=function(e){return{type:w,codeReviewEnabledForLevel:e}};t.setFeedback=function(e){return{type:h,feedback:e}};t.hideOverlay=function(){return{type:m}};t.setDynamicInstructionsDefaults=function(e){return{type:g,dynamicInstructionsDefaults:e}};t.setDynamicInstructionsKey=function(e,t){return{type:y,dynamicInstructionsKey:e,options:t}};t.setDynamicInstructionsOverlayDismissCallback=function(e){return{type:b,dynamicInstructionsDismissCallback:e}};var O=function(e,t){if(!e)return e;for(var n in t){var r=t[n],o='<span class="instructionsImageContainer">'+'<img src="'.concat(r,'" class="instructionsImage"/>')+"</span>",i=new RegExp("\\["+n+"\\]","g");e=e.replace(i,o)}return e};t.substituteInstructionImages=O;t.determineInstructionsConstants=function(e){var t,n=e.level,o=e.noInstructionsWhenCollapsed,i=e.hasContainedLevels,a=e.teacherMarkdown,s=e.muteBackgroundMusic,l=e.unmuteBackgroundMusic,u=n.instructions2,c=n.inputOutputTable,d=n.levelVideos,f=n.mapReference,p=n.referenceLinks,h=n.programmingEnvironment,m=n.longInstructions,g=n.shortInstructions,y=n.dynamicInstructions;o?(g&&!m&&(m=g),g=void 0):(t=u,g===m&&(m=void 0),c&&(m=m||g),e.skin.instructions2ImageSubstitutions&&(m=O(m,e.skin.instructions2ImageSubstitutions),g=O(g,e.skin.instructions2ImageSubstitutions),t=O(t,e.skin.instructions2ImageSubstitutions)),e.skin.replaceInstructions&&(m=e.skin.replaceInstructions(m),g=e.skin.replaceInstructions(g)));var b=g||m,_=(0,r.tryGetLocalStorage)(v,!1),w=b&&!i&&(e.level.instructionsImportant||1===e.levelPosition||!_);return w&&(0,r.trySetLocalStorage)(v,!0),{noInstructionsWhenCollapsed:!!o,overlayVisible:!!w,shortInstructions:g,shortInstructions2:t,longInstructions:m,dynamicInstructions:y,teacherMarkdown:a,hasContainedLevels:i,levelVideos:d,mapReference:f,referenceLinks:p,muteBackgroundMusic:s,unmuteBackgroundMusic:l,programmingEnvironment:h}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=h(n(1)),i=h(n(2)),a=n(467),s=n(197),l=n(808),u=n(642),c=n(621),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(882)),f=h(n(13));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(t=e.call.apply(e,[this].concat(r))||this),"onClickLevel",(function(){t.props.onClick&&t.props.onClick(t.props.level)})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n);var i=r.prototype;return i.isClickable=function(){var e=this.props,t=e.disabled,n=e.level,r=e.onClick;return!(t||!n.url&&!r)},i.getUrl=function(){var e=this.props,t=e.onClick,n=e.level,r=e.selectedSectionId,o=e.selectedStudentId;return t?null:(0,l.getBubbleUrl)(n.url,o,r,!0)},i.renderBubbleBadge=function(e,t){var n=this.props,r=n.level,i=n.smallBubble,s=n.hideAssessmentBadge,l=r.teacherFeedbackReviewState===c.ReviewStates.keepWorking;if(((0,a.isLevelAssessment)(r)&&!s||l)&&!i)return o.default.createElement(d.default,{badgeType:l?d.BadgeType.keepWorking:d.BadgeType.assessment,bubbleSize:t,bubbleShape:e})},i.createBubbleElement=function(){var e=this.props,t=e.level,n=e.smallBubble,r=e.hideToolTips,i=n?l.BubbleSize.dot:l.BubbleSize.full,a=(0,l.getBubbleContent)(t.isLocked,t.isUnplugged,t.bonus,t.paired,t.bubbleText||t.letter||t.levelNumber,i),s=(0,l.getBubbleShape)(t.isUnplugged&&!n,t.isConceptLevel),c=o.default.createElement(l.BasicBubble,{shape:s,size:i,progressStyle:(0,u.levelProgressStyle)(t.status,t.kind),classNames:(0,l.getBubbleClassNames)(this.isClickable())},a,this.renderBubbleBadge(s,i));return r?c:o.default.createElement(l.BubbleTooltip,{level:t},c)},i.render=function(){var e=this.props.level,t=e.bubbleText||e.letter||e.levelNumber,n=this.props.lessonName,r=f.default.progressBubbleDescription({levelID:t});return n&&(r=f.default.progressBubbleDescriptionWithLesson({levelID:t,lessonName:n})),this.isClickable()?o.default.createElement(l.BubbleLink,{url:this.getUrl(),onClick:this.onClickLevel,a11y_description:r},this.createBubbleElement()):this.createBubbleElement()},r}(o.default.Component);t.default=v,y(v,"propTypes",{level:s.levelWithProgressType.isRequired,disabled:i.default.bool.isRequired,smallBubble:i.default.bool,selectedSectionId:i.default.number,selectedStudentId:i.default.oneOfType([i.default.string,i.default.number]),hideToolTips:i.default.bool,onClick:i.default.func,hideAssessmentBadge:i.default.bool,lessonName:i.default.string}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("calc(")>-1)return a.map((function(e){return t.replace(/calc\(/g,e+"calc(")}))};var r,o=n(199),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-","-moz-",""];e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,o=n(199),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-",""];e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("filter(")>-1)return a.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,o=n(199),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-",""];e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){r.hasOwnProperty(e)&&(o[r[e]]=n[t]||t)};var n={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},r={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?o.WebkitBoxOrient="vertical":o.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?o.WebkitBoxDirection="reverse":o.WebkitBoxDirection="normal");r.hasOwnProperty(e)&&(o[r[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&s.test(t))return a.map((function(e){return t.replace(s,(function(t){return e+t}))}))};var r,o=n(199),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return a.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,o=n(199),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-",""];e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&o.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"==typeof t&&s.hasOwnProperty(e)){var u=function(e,t){if((0,o.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),i=0,a=n.length;i<a;++i){var s=n[i],u=[s];for(var c in t){var d=(0,r.default)(c);if(s.indexOf(d)>-1&&"order"!==d)for(var f=t[c],p=0,h=f.length;p<h;++p)u.unshift(s.replace(d,l[f[p]]+d))}n[i]=u.join(",")}return n.join(",")}(t,a),c=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,i.default)(e)]=c,n["Moz"+(0,i.default)(e)]=d,u)}};var r=a(n(584)),o=a(n(199)),i=a(n(428));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("calc(")>-1&&("firefox"===o&&a<15||"chrome"===o&&a<25||"safari"===o&&a<6.1||"ios_saf"===o&&a<7))return(0,i.default)(t.replace(/calc\(/g,s+"calc("),t,l)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===o||"opera"===o||"and_chr"===o||("ios_saf"===o||"safari"===o)&&a<10))return(0,i.default)(t.replace(/cross-fade\(/g,s+"cross-fade("),t,l)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,l=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed;if("cursor"===e&&a[t]&&("firefox"===o||"chrome"===o||"safari"===o||"opera"===o))return(0,i.default)(u+t,t,c);if("cursor"===e&&s[t]&&("firefox"===o&&l<24||"chrome"===o&&l<37||"safari"===o&&l<9||"opera"===o&&l<24))return(0,i.default)(u+t,t,c)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};var a={grab:!0,grabbing:!0},s={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===o||"safari"===o&&a<9.1))return(0,i.default)(t.replace(/filter\(/g,s+"filter("),t,l)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,s=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("display"===e&&a[t]&&("chrome"===o&&s<29&&s>20||("safari"===o||"ios_saf"===o)&&s<9&&s>6||"opera"===o&&(15===s||16===s)))return(0,i.default)(l+t,t,u)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};var a={flex:!0,"inline-flex":!0};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,l=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed,d=r.requiresPrefix;if((s.hasOwnProperty(e)||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("ie_mob"===o||"ie"===o)&&10===l){if(delete d[e],c||Array.isArray(n[e])||delete n[e],"display"===e&&a.hasOwnProperty(t))return(0,i.default)(u+a[t],t,c);s.hasOwnProperty(e)&&(n[s[e]]=a[t]||t)}};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};var a={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},s={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,u=r.browserVersion,c=r.cssPrefix,d=r.keepUnprefixed,f=r.requiresPrefix;if((l.indexOf(e)>-1||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("firefox"===o&&u<22||"chrome"===o&&u<21||("safari"===o||"ios_saf"===o)&&u<=6.1||"android"===o&&u<4.4||"and_uc"===o)){if(delete f[e],d||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&a.hasOwnProperty(t))return(0,i.default)(c+a[t],t,d);s.hasOwnProperty(e)&&(n[s[e]]=a[t]||t)}};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};var a={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},s={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"},l=Object.keys(s).concat(["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"]);e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,s=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("string"==typeof t&&a.test(t)&&("firefox"===o&&s<16||"chrome"===o&&s<26||("safari"===o||"ios_saf"===o)&&s<7||("opera"===o||"op_mini"===o)&&s<12.1||"android"===o&&s<4.4||"and_uc"===o))return(0,i.default)(t.replace(a,(function(e){return l+e})),t,u)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};var a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("image-set(")>-1&&("chrome"===o||"opera"===o||"and_chr"===o||"and_uc"===o||"ios_saf"===o||"safari"===o))return(0,i.default)(t.replace(/image-set\(/g,a+"image-set("),t,s)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===o||"ios_saf"===o))return(0,i.default)(a+t,t,s)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.cssPrefix,l=r.keepUnprefixed;if(a.hasOwnProperty(e)&&s.hasOwnProperty(t))return(0,i.default)(o+t,t,l)};var r,o=n(133),i=(r=o)&&r.__esModule?r:{default:r};var a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=r.cssPrefix,l=r.keepUnprefixed,u=r.requiresPrefix;if("string"==typeof t&&a.hasOwnProperty(e)){s||(s=Object.keys(u).map((function(e){return(0,i.default)(e)})));var c=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return s.forEach((function(e){c.forEach((function(t,n){t.indexOf(e)>-1&&"order"!==e&&(c[n]=t.replace(e,o+e)+(l?","+t:""))}))})),c.join(",")}};var r,o=n(584),i=(r=o)&&r.__esModule?r:{default:r};var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s=void 0;e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(909),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default.byIndex},(e,t,n)=>{"use strict";var r=n(1325),o=n(1326),i=n(585),a=n(918),s=n(919),l=n(920);e.exports=function(e,t){var n,i,a={};t||(t={});for(i in f)n=t[i],a[i]=null==n?f[i]:n;(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start);return function(e,t){var n,i,a,f,w,E,O,S,T,C,k,A,P,x,I,R,D,j,N,L=t.additional,M=t.nonTerminated,B=t.text,F=t.reference,U=t.warning,H=t.textContext,W=t.referenceContext,q=t.warningContext,z=t.position,V=t.indent||[],G=e.length,$=0,K=-1,Y=z.column||1,X=z.line||1,J="",Z=[];"string"==typeof L&&(L=L.charCodeAt(0));R=Q(),S=U?ee:d,$--,G++;for(;++$<G;)if(10===w&&(Y=V[K]||1),38===(w=e.charCodeAt($))){if(9===(O=e.charCodeAt($+1))||10===O||12===O||32===O||38===O||60===O||O!=O||L&&O===L){J+=c(w),Y++;continue}for(A=P=$+1,N=P,35===O?(N=++A,88===(O=e.charCodeAt(N))||120===O?(x=h,N=++A):x=m):x=p,n="",k="",f="",I=y[x],N--;++N<G&&I(O=e.charCodeAt(N));)f+=c(O),x===p&&u.call(r,f)&&(n=f,k=r[f]);(a=59===e.charCodeAt(N))&&(N++,(i=x===p&&l(f))&&(n=f,k=i)),j=1+N-P,(a||M)&&(f?x===p?(a&&!k?S(5,1):(n!==f&&(j=1+(N=A+n.length)-A,a=!1),a||(T=n?1:3,t.attribute?61===(O=e.charCodeAt(N))?(S(T,j),k=null):s(O)?k=null:S(T,j):S(T,j))),E=k):(a||S(2,j),b(E=parseInt(f,g[x]))?(S(7,j),E=c(65533)):E in o?(S(6,j),E=o[E]):(C="",_(E)&&S(6,j),E>65535&&(C+=c((E-=65536)>>>10|55296),E=56320|1023&E),E=C+c(E))):x!==p&&S(4,j)),E?(te(),R=Q(),$=N-1,Y+=N-P+1,Z.push(E),(D=Q()).offset++,F&&F.call(W,E,{start:R,end:D},e.slice(P-1,N)),R=D):(f=e.slice(P-1,N),J+=f,Y+=f.length,$=N-1)}else 10===w&&(X++,K++,Y=0),w==w?(J+=c(w),Y++):te();return Z.join("");function Q(){return{line:X,column:Y,offset:$+(z.offset||0)}}function ee(e,t){var n=Q();n.column+=t,n.offset+=t,U.call(q,v[e],n,e)}function te(){J&&(Z.push(J),B&&B.call(H,J,{start:R,end:Q()}),J="")}}(e,a)};var u={}.hasOwnProperty,c=String.fromCharCode,d=Function.prototype,f={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},p="named",h="hexadecimal",m="decimal",g={hexadecimal:16,decimal:10},y={};y.named=s,y[m]=i,y[h]=a;var v={};function b(e){return e>=55296&&e<=57343||e>1114111}function _(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)}v[1]="Named character references must be terminated by a semicolon",v[2]="Numeric character references must be terminated by a semicolon",v[3]="Named character references cannot be empty",v[4]="Numeric character references cannot be empty",v[5]="Named character references must be known",v[6]="Numeric character references cannot be disallowed",v[7]="Numeric character references cannot be outside the permissible Unicode range"},,(e,t,n)=>{"use strict";var r=n(178).DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var o=function(e){return{nodeName:"#text",value:e,parentNode:null}},i=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},a=t.insertBefore=function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){for(var o=null,a=0;a<e.childNodes.length;a++)if("#documentType"===e.childNodes[a].nodeName){o=e.childNodes[a];break}o?(o.name=t,o.publicId=n,o.systemId=r):i(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){var n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}i(e,o(t))},t.insertTextBefore=function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:a(e,o(t),n)},t.adoptAttributes=function(e,t){for(var n=[],r=0;r<e.attrs.length;r++)n.push(e.attrs[r].name);for(var o=0;o<t.length;o++)-1===n.indexOf(t[o].name)&&e.attrs.push(t[o])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName},t.setNodeSourceCodeLocation=function(e,t){e.sourceCodeLocation=t},t.getNodeSourceCodeLocation=function(e){return e.sourceCodeLocation}},(e,t,n)=>{"use strict";var r=n(178).DOCUMENT_MODE,o="html",i=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],a=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),s=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],l=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],u=l.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function c(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function d(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.isConforming=function(e){return e.name===o&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},t.getDocumentMode=function(e){if(e.name!==o)return r.QUIRKS;var t=e.systemId;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return r.QUIRKS;var n=e.publicId;if(null!==n){if(n=n.toLowerCase(),s.indexOf(n)>-1)return r.QUIRKS;var c=null===t?a:i;if(d(n,c))return r.QUIRKS;if(d(n,c=null===t?l:u))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,n){var r="!DOCTYPE ";return e&&(r+=e),t?r+=" PUBLIC "+c(t):n&&(r+=" SYSTEM"),null!==n&&(r+=" "+c(n)),r}},(e,t,n)=>{"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(190),a=n(178),s=a.TAG_NAMES,l=a.NAMESPACES,u=a.ATTRS,c="text/html",d="application/xhtml+xml",f={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},p={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:l.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:l.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:l.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:l.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:l.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:l.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:l.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:l.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:l.XML},"xml:space":{prefix:"xml",name:"space",namespace:l.XML},xmlns:{prefix:"",name:"xmlns",namespace:l.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:l.XMLNS}},h=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},m=(o(r={},s.B,!0),o(r,s.BIG,!0),o(r,s.BLOCKQUOTE,!0),o(r,s.BODY,!0),o(r,s.BR,!0),o(r,s.CENTER,!0),o(r,s.CODE,!0),o(r,s.DD,!0),o(r,s.DIV,!0),o(r,s.DL,!0),o(r,s.DT,!0),o(r,s.EM,!0),o(r,s.EMBED,!0),o(r,s.H1,!0),o(r,s.H2,!0),o(r,s.H3,!0),o(r,s.H4,!0),o(r,s.H5,!0),o(r,s.H6,!0),o(r,s.HEAD,!0),o(r,s.HR,!0),o(r,s.I,!0),o(r,s.IMG,!0),o(r,s.LI,!0),o(r,s.LISTING,!0),o(r,s.MENU,!0),o(r,s.META,!0),o(r,s.NOBR,!0),o(r,s.OL,!0),o(r,s.P,!0),o(r,s.PRE,!0),o(r,s.RUBY,!0),o(r,s.S,!0),o(r,s.SMALL,!0),o(r,s.SPAN,!0),o(r,s.STRONG,!0),o(r,s.STRIKE,!0),o(r,s.SUB,!0),o(r,s.SUP,!0),o(r,s.TABLE,!0),o(r,s.TT,!0),o(r,s.U,!0),o(r,s.UL,!0),o(r,s.VAR,!0),r);t.causesExit=function(e){var t=e.tagName;return!!(t===s.FONT&&(null!==i.getTokenAttr(e,u.COLOR)||null!==i.getTokenAttr(e,u.SIZE)||null!==i.getTokenAttr(e,u.FACE)))||m[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=f[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=p[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){var t=h[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!(r&&r!==l.HTML||!function(e,t,n){if(t===l.MATHML&&e===s.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===u.ENCODING){var o=n[r].value.toLowerCase();return o===c||o===d}return t===l.SVG&&(e===s.FOREIGN_OBJECT||e===s.DESC||e===s.TITLE)}(e,t,n))||!(r&&r!==l.MATHML||!function(e,t){return t===l.MATHML&&(e===s.MI||e===s.MO||e===s.MN||e===s.MS||e===s.MTEXT)}(e,t))}},(e,t,n)=>{"use strict";e.exports=n(566)},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=r(n(597));e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),d=6;d<u;d++)c[d-6]=arguments[d];return e.apply(void 0,[n,r,s,i,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}},(e,t,n)=>{n(679),e.exports=n(100).Object.assign},(e,t,n)=>{var r=n(132);r(r.S+r.F,"Object",{assign:n(575)})},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{n(682),e.exports=n(100).Object.keys},(e,t,n)=>{var r=n(374),o=n(196);n(580)("keys",(function(){return function(e){return o(r(e))}}))},(e,t,n)=>{var r=n(132);r(r.S,"Object",{create:n(459)})},(e,t,n)=>{"use strict";e.exports=n(685)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case l:return e;default:return t}}case g:case m:case o:return t}}}function _(e){return b(e)===d}t.typeOf=b,t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===v)},t.isAsyncMode=function(e){return _(e)||b(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===p}},(e,t,n)=>{n(687),e.exports=n(100).Object.entries},(e,t,n)=>{var r=n(132),o=n(460)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"==typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=void 0;var o=r(n(591)),i=r(n(376));function a(e,t,n){var r,i={target:e,currentTarget:e};function a(e){e.target===e.currentTarget&&(clearTimeout(r),e.target.removeEventListener(o.default.end,a),t.call(this))}o.default.end?null==n&&(n=l(e)||0):n=0,o.default.end?(e.addEventListener(o.default.end,a,!1),r=setTimeout((function(){return a(i)}),1.5*(n||100))):setTimeout(a.bind(null,i),0)}a._parseDuration=l;var s=a;function l(e){var t=(0,i.default)(e,o.default.duration),n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}t.default=s,e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,(function(e,t){return t.toUpperCase()}))};var n=/-(.)/g;e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){return(0,o.default)(e).replace(i,"-ms-")};var o=r(n(692)),i=/^ms-/;e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,"-$1").toLowerCase()};var n=/([A-Z])/g;e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,o.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),a.test(r)&&!i.test(t)){var s=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=s,u&&(l.left=u)}return r}}};var o=r(n(495)),i=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!n.test(e))};var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e,t){return function(n){var r=n.currentTarget,a=n.target;(0,i.default)(r,e).some((function(e){return(0,o.default)(e,a)}))&&t.call(this,n)}};var o=r(n(202)),i=r(n(697));e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){var o,i="#"===t[0],a="."===t[0],s=i||a?t.slice(1):t;if(n.test(s))return i?(e=e.getElementById?e:document,(o=e.getElementById(s))?[o]:[]):e.getElementsByClassName&&a?r(e.getElementsByClassName(s)):r(e.getElementsByTagName(t));return r(e.querySelectorAll(t))};var n=/^[\w-]*$/,r=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=void 0;var o=r(n(167)),i=r(n(469)),a=r(n(470)),s=function(){};o.default&&(s=function(e,t,n,r){return(0,i.default)(e,t,n,r),function(){(0,a.default)(e,t,n,r)}});var l=s;t.default=l,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r,o=n(134),i=(r=o)&&r.__esModule?r:{default:r};var a={};function s(e,t){return function(n,r,o,s,l){var u=o||"<<anonymous>>",c=l||r;if(null!=n[r]){var d=o+"."+r;(0,i.default)(a[d],"The "+s+" `"+c+"` of `"+u+"` is deprecated. "+t+"."),a[d]=!0}for(var f=arguments.length,p=Array(f>5?f-5:0),h=5;h<f;h++)p[h-5]=arguments[h];return e.apply(void 0,[n,r,o,s,l].concat(p))}}s._resetWarned=function(){a={}},e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0;var r=l(n(836)),o=l(n(376)),i=l(n(490)),a=l(n(499)),s=n(837);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return n=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(e,t){if(n(e,t))return r=t,!0})),r;var n,r}function d(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,o.default)(t,"paddingRight")||0,10)+(0,i.default)()+"px"),(0,o.default)(t,n)}function f(e,t){var n=e.style;Object.keys(n).forEach((function(e){return t.style[e]=n[e]}))}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.hideSiblingNodes,i=void 0===o||o,l=n.handleContainerOverflow,p=void 0===l||l;u(this,e),this.add=function(e,n,o){var i=t.modals.indexOf(e),l=t.containers.indexOf(n);if(-1!==i)return i;if(i=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,s.hideSiblings)(n,e.modalNode),-1!==l)return t.data[l].modals.push(e),i;var u={modals:[e],classes:o?o.split(/\s+/):[],overflowing:(0,a.default)(n)};return t.handleContainerOverflow&&d(u,n),u.classes.forEach(r.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(u),i},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var o=c(t.data,e),i=t.data[o],a=t.containers[o];i.modals.splice(i.modals.indexOf(e),1),t.modals.splice(n,1),0===i.modals.length?(i.classes.forEach(r.default.removeClass.bind(null,a)),t.handleContainerOverflow&&f(i,a),t.hideSiblingNodes&&(0,s.showSiblings)(a,e.modalNode),t.containers.splice(o,1),t.data.splice(o,1)):t.hideSiblingNodes&&(0,s.ariaHidden)(!1,i.modals[i.modals.length-1].modalNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=i,this.handleContainerOverflow=p,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0;var r=u(n(2)),o=u(n(423)),i=u(n(1)),a=u(n(36)),s=u(n(425)),l=u(n(375));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;c(this,t);for(var o=arguments.length,u=Array(o),f=0;f<o;f++)u[f]=arguments[f];return n=r=d(this,e.call.apply(e,[this].concat(u))),r._mountOverlayTarget=function(){r._overlayTarget||(r._overlayTarget=document.createElement("div"),r._portalContainerNode=(0,s.default)(r.props.container,(0,l.default)(r).body),r._portalContainerNode.appendChild(r._overlayTarget))},r._unmountOverlayTarget=function(){r._overlayTarget&&(r._portalContainerNode.removeChild(r._overlayTarget),r._overlayTarget=null),r._portalContainerNode=null},r._renderOverlay=function(){var e=r.props.children?i.default.Children.only(r.props.children):null;if(null!==e){r._mountOverlayTarget();var t=!r._overlayInstance;r._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(r,e,r._overlayTarget,(function(){t&&r.props.onRendered&&r.props.onRendered()}))}else r._unrenderOverlay(),r._unmountOverlayTarget()},r._unrenderOverlay=function(){r._overlayTarget&&(a.default.unmountComponentAtNode(r._overlayTarget),r._overlayInstance=null)},r.getMountNode=function(){return r._overlayTarget},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(i.default.Component);f.displayName="Portal",f.propTypes={container:r.default.oneOfType([o.default,r.default.func]),onRendered:r.default.func},t.default=f,e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0;var r=i(n(2)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l={children:r.default.node},u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(o.default.Component);u.propTypes=l,t.default=u,e.exports=t.default},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(9)),i=p(n(2)),a=p(n(423)),s=n(1),l=p(s),u=p(n(36)),c=p(n(705)),d=p(n(425)),f=p(n(375));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var m=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.getTarget=function(){var e=o.props.target,t="function"==typeof e?e():e;return t&&u.default.findDOMNode(t)||null},o.maybeUpdatePosition=function(e){var t=o.getTarget();(o.props.shouldUpdatePosition||t!==o._lastTarget||e)&&o.updatePosition(t)},o.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},o._needsFlush=!1,o._lastTarget=null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=h(e,["children","className"]),a=this.state,u=a.positionLeft,c=a.positionTop,d=h(a,["positionLeft","positionTop"]);delete i.target,delete i.container,delete i.containerPadding,delete i.shouldUpdatePosition;var f=l.default.Children.only(t);return(0,s.cloneElement)(f,r({},i,d,{positionLeft:u,positionTop:c,className:(0,o.default)(n,f.props.className),style:r({},f.props.style,{left:u,top:c})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=u.default.findDOMNode(this),n=(0,d.default)(this.props.container,(0,f.default)(this).body);this.setState((0,c.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(l.default.Component);m.propTypes={target:i.default.oneOfType([a.default,i.default.func]),container:i.default.oneOfType([a.default,i.default.func]),containerPadding:i.default.number,placement:i.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:i.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n,i,a){var s="BODY"===i.tagName?(0,r.default)(n):(0,o.default)(n,i),u=(0,r.default)(t),c=u.height,d=u.width,f=void 0,p=void 0,h=void 0,m=void 0;if("left"===e||"right"===e){p=s.top+(s.height-c)/2,f="left"===e?s.left-d:s.left+s.width;var g=function(e,t,n,r){var o=l(n),i=o.scroll,a=o.height,s=e-r-i,u=e+r-i+t;return s<0?-s:u>a?a-u:0}(p,c,i,a);p+=g,m=50*(1-2*g/c)+"%",h=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');f=s.left+(s.width-d)/2,p="top"===e?s.top-c:s.top+s.height;var y=function(e,t,n,r){var o=l(n).width,i=e-r,a=e+r+t;if(i<0)return-i;if(a>o)return o-a;return 0}(f,d,i,a);f+=y,h=50*(1-2*y/d)+"%",m=void 0}return{positionLeft:f,positionTop:p,arrowOffsetLeft:h,arrowOffsetTop:m}};var r=s(n(598)),o=s(n(706)),i=s(n(599)),a=s(n(375));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=void 0,o=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,o=(0,i.default)((0,a.default)(e).documentElement)||(0,i.default)(e);else{var s=(0,r.default)(e);t=s.width,n=s.height,o=(0,i.default)(e)}return{width:t,height:n,scroll:o}}e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e,t){var n,r={top:0,left:0};"fixed"===(0,u.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,i.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(r=(0,i.default)(t)),r.top+=parseInt((0,u.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,r.left+=parseInt((0,u.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0);return(0,o.default)({},n,{top:n.top-r.top-(parseInt((0,u.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,u.default)(e,"marginLeft"),10)||0)})};var o=r(n(707)),i=r(n(598)),a=r(n(708)),s=r(n(599)),l=r(n(709)),u=r(n(376));e.exports=t.default},e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==a(e)&&"static"===(0,i.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var o=r(n(201)),i=r(n(376));function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=function(e,t){var n=(0,o.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var o=r(n(424));e.exports=t.default},(e,t,n)=>{e.exports=n(494)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case l:return e;default:return t}}case m:case h:case o:return t}}}function y(e){return g(e)===d}t.typeOf=g,t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=m,t.Memo=h,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f)},t.isAsyncMode=function(e){return y(e)||g(e)===c},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===a},t.isSuspense=function(e){return g(e)===p}},e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.hide=function(e){a(i.default.GLOBAL.HIDE,{target:e})},e.rebuild=function(){a(i.default.GLOBAL.REBUILD)},e.show=function(e){a(i.default.GLOBAL.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}};var r,o=n(609),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e,t){var n=void 0;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):((n=document.createEvent("Event")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(i.default.GLOBAL.HIDE,this.globalHide),window.addEventListener(i.default.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(i.default.GLOBAL.SHOW,this.globalShow),window.addEventListener(i.default.GLOBAL.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(i.default.GLOBAL.HIDE,this.globalHide),window.removeEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(i.default.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}};var r,o=n(609),i=(r=o)&&r.__esModule?r:{default:r}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,r=this.state,i=r.event,a=r.eventOff,s=e.getAttribute("data-event")||i,l=e.getAttribute("data-event-off")||a;s.split(" ").forEach((function(r){e.removeEventListener(r,o.get(e,r));var i=n.bind(t,l);o.set(e,r,i),e.addEventListener(r,i,!1)})),l&&l.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),a=r||e.getAttribute("data-event-off");e.removeEventListener(i,o.get(e,n)),a&&e.removeEventListener(a,this.hideTooltip)}};var n=function(e,t){var n=this.state.show,o=this.props.id,i=t.currentTarget.getAttribute("data-iscapture"),a=i&&"true"===i||this.props.isCapture,s=t.currentTarget.getAttribute("currentItem");a||t.stopPropagation(),n&&"true"===s?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),r(t.currentTarget,this.getTargetArray(o)),this.showTooltip(t))},r=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},o={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){var r,o,i;this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:(r={},o=t,i=n,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindRemovalTracker=function(){var e=this,t=n();if(null!=t){var r=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.removedNodes.length;o++){if(r.removedNodes[o]===e.state.currentTarget)return void e.hideTooltip()}}));r.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=r}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}};var n=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s,l,u,c,d){for(var f=n(s),p=f.width,h=f.height,m=n(t),g=m.width,y=m.height,v=r(e,t,c),b=v.mouseX,_=v.mouseY,w=o(c,g,y,p,h),E=i(d),O=E.extraOffset_X,S=E.extraOffset_Y,T=window.innerWidth,C=window.innerHeight,k=a(s),A=k.parentTop,P=k.parentLeft,x=function(e){var t=w[e].l;return b+t+O},I=function(e){var t=w[e].t;return _+t+S},R=function(e){return function(e){var t=w[e].r;return b+t+O}(e)>T},D=function(e){return function(e){var t=w[e].b;return _+t+S}(e)>C},j=function(e){return function(e){return x(e)<0}(e)||R(e)||function(e){return I(e)<0}(e)||D(e)},N=function(e){return!j(e)},L=["top","bottom","left","right"],M=[],B=0;B<4;B++){var F=L[B];N(F)&&M.push(F)}var U=!1,H=void 0;return N(u)&&u!==l?(U=!0,H=u):M.length>0&&j(u)&&j(l)&&(U=!0,H=M[0]),U?{isNewState:!0,newState:{place:H}}:{isNewState:!1,position:{left:parseInt(x(l)-P,10),top:parseInt(I(l)-A,10)}}};var n=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},r=function(e,t,r){var o=t.getBoundingClientRect(),i=o.top,a=o.left,s=n(t),l=s.width,u=s.height;return"float"===r?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+l/2,mouseY:i+u/2}},o=function(e,t,n,r,o){var i=void 0,a=void 0,s=void 0,l=void 0;return"float"===e?(i={l:-r/2,r:r/2,t:-(o+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:o+3+2+12},l={l:-(r+3+2),r:-3,t:-o/2,b:o/2},a={l:3,r:r+3+2,t:-o/2,b:o/2}):"solid"===e&&(i={l:-r/2,r:r/2,t:-(n/2+o+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+o+2},l={l:-(r+t/2+2),r:-t/2,t:-o/2,b:o/2},a={l:t/2,r:r+t/2+2,t:-o/2,b:o/2}),{top:i,bottom:s,left:l,right:a}},i=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffset_X:t,extraOffset_Y:n}},a=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){if(t)return t;if(null!=n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return r&&"false"!==r&&o.test(e)?e.split(o).map((function(e,t){return i.default.createElement("span",{key:t,className:"multi-line"},e)})):e};var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAria=function(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip.allow_hover{pointer-events:auto}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}'},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(1)),i=n(27),a=c(n(13)),s=c(n(1317)),l=n(492),u=c(n(1389));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var i=r.prototype;return i.componentDidMount=function(){this.props.onContentUpdated&&this.props.onContentUpdated()},i.componentDidUpdate=function(){this.props.onContentUpdated&&this.props.onContentUpdated()},i.renderText=function(){return this.props.status===l.projectUpdatedStatuses.error?o.default.createElement("span",{className:"project-save-error",title:a.default.projectSaveErrorTooltip()},o.default.createElement("i",{className:"fa fa-exclamation-triangle"}),a.default.projectSaveError()):this.props.status===l.projectUpdatedStatuses.saving?a.default.saving():this.props.status===l.projectUpdatedStatuses.saved?o.default.createElement("div",null,a.default.savedToGallery()," ",this.props.updatedAt&&o.default.createElement(s.default,{dateString:this.props.updatedAt})):a.default.notSaved()},i.render=function(){return o.default.createElement("div",{className:"project_updated_at header_text",style:g.container},this.renderText(),o.default.createElement(u.default,null))},r}(o.default.Component);f=m,p="propTypes",h={status:r.default.oneOf(Object.values(l.projectUpdatedStatuses)),updatedAt:r.default.string,onContentUpdated:r.default.func},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g={container:{display:"block",textAlign:"left"}},y=(0,i.connect)((function(e){return{status:e.project.projectUpdatedStatus,updatedAt:e.project.projectUpdatedAt}}))(m);t.default=y,e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={left:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",background:"linear-gradient(to right, rgba(0, 173, 188, 1) 0%, rgba(0, 173, 188, 0) 20px)"},right:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",background:"linear-gradient(to right, rgba(0, 173, 188, 0) calc(100% - 20px), rgba(0, 173, 188, 1) 100%)"}},e.exports=t.default},(e,t,n)=>{var r=n(188),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<o;s=r[++n])g(s)||!w(s)?a+=" "+s:a+=" "+l(s);return a},t.deprecate=function(e,n){if(void 0!==r&&!0===r.noDeprecation)return e;if(void 0===r)return function(){return t.deprecate(e,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?console.trace(n):console.error(n),o=!0}return e.apply(this,arguments)}};var a,s={};function l(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),d(r,e,r.depth)}function u(e,t){var n=l.styles[t];return n?"["+l.colors[n][0]+"m"+e+"["+l.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=d(e,o,r)),o}var i=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var u,c="",w=!1,T=["{","}"];(h(n)&&(w=!0,T=["[","]"]),S(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(c=" "+RegExp.prototype.toString.call(n)),E(n)&&(c=" "+Date.prototype.toUTCString.call(n)),O(n)&&(c=" "+f(n)),0!==a.length||w&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=w?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)P(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return p(e,n,r,s,t,w)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,T)):T[0]+c+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),P(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function _(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"==typeof e&&null!==e}function E(e){return w(e)&&"[object Date]"===T(e)}function O(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(a)&&(a=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=_,t.isObject=w,t.isDate=E,t.isError=O,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(830);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(827),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=x,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,t).then((function(e){r.nextTick(a,null,e)}),(function(e){r.nextTick(I,e,a)}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FIRST:"asc","":"asc",asc:"desc",desc:""}},(e,t,n)=>{"use strict";e.exports={position:!0,gfm:!0,commonmark:!1,pedantic:!1,blocks:n(924)}},,(e,t,n)=>{e.exports=n(681)},(e,t,n)=>{e.exports=n(581)},(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metaTagDescription=t.RELEASE_OR_DELETE_RECORDS_EXPLANATION=t.ADD_A_PERSONAL_LOGIN_HELP_URL=void 0,t.pegasus=function(e){if(window.dashboard&&window.dashboard.CODE_ORG_URL)return window.dashboard.CODE_ORG_URL+e;return e},t.setPegasusOrigin=function(e){window.dashboard=window.dashboard||{},window.dashboard.CODE_ORG_URL=e},t.setStudioOrigin=function(e){window.pegasus=window.pegasus||{},window.pegasus.STUDIO_URL=e},t.studio=function(e){if(window.pegasus&&window.pegasus.STUDIO_URL)return window.pegasus.STUDIO_URL+e;return e};var r=o(n(32));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=o(n(53)).default.memoize((function(e){return fetch(e).then((function(e){return Promise.all([e.status,e.text()])})).then((function(t){var n=i(t,2),o=n[0],a=n[1];return o<200||o>=300?e:(0,r.default)(a).filter("meta[name='description']").attr("content")||e})).catch((function(t){return e}))}));t.metaTagDescription=s;t.ADD_A_PERSONAL_LOGIN_HELP_URL="https://support.code.org/hc/en-us/articles/115001475131-Adding-a-personal-login-to-a-teacher-created-account";t.RELEASE_OR_DELETE_RECORDS_EXPLANATION="https://support.code.org/hc/en-us/articles/360015983631"},(e,t,n)=>{var r=n(168).parseInt,o=n(737).trim,i=n(600),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},(e,t,n)=>{var r=n(132),o=n(373),i=n(182),a=n(600),s="["+a+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(e,t,n){var o={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),l=o[e]=s?t(d):a[e];n&&(o[n]=l),r(r.P+r.F*s,"String",o)},d=c.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=c},(e,t,n)=>{var r=n(390),o=n(373);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},(e,t,n)=>{"use strict";var r=n(457),o=n(132),i=n(834),a=n(386),s=n(497),l=n(740),u=n(601),c=n(741),d=n(198)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,n,g,y,v,b){l(n,t,g);var _,w,E,O=function(e){if(!f&&e in k)return k[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",T=y==h,C=!1,k=e.prototype,A=k[d]||k["@@iterator"]||y&&k[y],P=A||O(y),x=y?T?O("entries"):P:void 0,I="Array"==t&&k.entries||A;if(I&&(E=c(I.call(new e)))!==Object.prototype&&E.next&&(u(E,S,!0),r||"function"==typeof E[d]||a(E,d,m)),T&&A&&A.name!==h&&(C=!0,P=function(){return A.call(this)}),r&&!b||!f&&!C&&k[d]||a(k,d,P),s[t]=P,s[S]=m,y)if(_={values:T?P:O(h),keys:v?P:O(p),entries:x},b)for(w in _)w in k||i(k,w,_[w]);else o(o.P+o.F*(f||C),t,_);return _}},(e,t,n)=>{"use strict";var r=n(459),o=n(415),i=n(601),a={};n(386)(a,n(198)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},(e,t,n)=>{var r=n(372),o=n(374),i=n(391)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},(e,t,n)=>{var r=n(205);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},(e,t,n)=>{var r=n(497),o=n(198)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},(e,t,n)=>{"use strict";var r=n(414),o=n(415);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},(e,t,n)=>{var r=n(746),o=n(198)("iterator"),i=n(497);e.exports=n(100).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},(e,t,n)=>{var r=n(416),o=n(198)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},(e,t,n)=>{var r=n(198)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(a){}return n}},(e,t,n)=>{var r=n(416);e.exports=Array.isArray||function(e){return"Array"==r(e)}},(e,t,n)=>{var r,o,i,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}e=n.nmd(e),n.g,a=function(){return function(){var e={779:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=s(n);if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},789:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(601),o=n.n(r),i=n(609),a=n.n(i)()(o());a.push([e.id,'.dsco-dsco-text-WQNjc7BTJCwSQQRLoG3W,a.dsco-link-yX2xLHVj5m6h310M1_Jq,a.dsco-link-yX2xLHVj5m6h310M1_Jq:active,a.dsco-link-yX2xLHVj5m6h310M1_Jq:focus,a.dsco-link-yX2xLHVj5m6h310M1_Jq:hover,a.dsco-link-yX2xLHVj5m6h310M1_Jq:link,a.dsco-link-yX2xLHVj5m6h310M1_Jq:visited{font-family:"Gotham","Gotham 4r",sans-serif;font-weight:400;font-style:normal;color:#4d575f;font-size:14px;line-height:1.43}a.dsco-link-yX2xLHVj5m6h310M1_Jq{color:#00adbc;text-decoration:none}a.dsco-link-yX2xLHVj5m6h310M1_Jq:active,a.dsco-link-yX2xLHVj5m6h310M1_Jq:focus,a.dsco-link-yX2xLHVj5m6h310M1_Jq:hover,a.dsco-link-yX2xLHVj5m6h310M1_Jq:link,a.dsco-link-yX2xLHVj5m6h310M1_Jq:visited{color:#00adbc}a.dsco-link-yX2xLHVj5m6h310M1_Jq:active,a.dsco-link-yX2xLHVj5m6h310M1_Jq:hover{text-decoration:underline}a.dsco-link-yX2xLHVj5m6h310M1_Jq.dsco-medium-jUt3VbAn3CsIU1aoAvBS{font-family:"Gotham","Gotham 5r",sans-serif;font-weight:600;font-style:normal}a.dsco-link-yX2xLHVj5m6h310M1_Jq.dsco-bold-Rynhfu1jpMOo8kvyGchA{font-family:"Gotham","Gotham 7r",sans-serif;font-weight:800;font-style:normal}',""]),a.locals={"dsco-text":"dsco-dsco-text-WQNjc7BTJCwSQQRLoG3W",link:"dsco-link-yX2xLHVj5m6h310M1_Jq",medium:"dsco-medium-jUt3VbAn3CsIU1aoAvBS",bold:"dsco-bold-Rynhfu1jpMOo8kvyGchA"};var s=a},489:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(601),o=n.n(r),i=n(609),a=n.n(i)()(o());a.push([e.id,"a.dsco-textlink-NaztsuRKliAddXH8tjoh{display:inline-flex;align-items:center;margin:0 -8px 0 0}[dir=rtl] a.dsco-textlink-NaztsuRKliAddXH8tjoh{margin:0 0 0 -8px}a.dsco-textlink-NaztsuRKliAddXH8tjoh>*{margin:0 8px 0 0}[dir=rtl] a.dsco-textlink-NaztsuRKliAddXH8tjoh>*{margin:0 0 0 8px}a.dsco-textlink-NaztsuRKliAddXH8tjoh>i:before{display:inline-block}a.dsco-textlink-NaztsuRKliAddXH8tjoh:active>i:before,a.dsco-textlink-NaztsuRKliAddXH8tjoh:hover>i:before{text-decoration:none}",""]),a.locals={textlink:"dsco-textlink-NaztsuRKliAddXH8tjoh"};var s=a},609:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},601:function(e){"use strict";e.exports=function(e){return e[1]}},320:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},262:function(e,t,n){"use strict";var r=n(586);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},980:function(e,t,n){e.exports=n(262)()},586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},426:function(e,t,n){"use strict";var r=n(320),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,l=60110,u=60112;t.Suspense=60113;var c=60115,d=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),l=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),d=f("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=s(e)&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,r(_,y.prototype),_.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:w.current}}function T(e){return"object"==s(e)&&null!==e&&e.$$typeof===o}var C=/\/+/g;function k(e,t){return"object"==s(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var l=s(e);"undefined"!==l&&"boolean"!==l||(e=null);var u=!1;if(null===e)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var d=r+k(l=e[c],c);u+=A(l,t,n,d,a)}else if(d=function(e){return null===e||"object"!=s(e)?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)u+=A(l=l.value,t,n,d=r+k(l,c++),a);else if("object"===l)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function R(){var e=I.current;if(null===e)throw Error(h(321));return e}var D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(h(143));return e}},t.Component=y,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(h(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!O.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},784:function(e,t,n){"use strict";e.exports=n(426)},62:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=i[u]||0,d="".concat(u," ").concat(c);i[u]=c+1;var f=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),u=0;u<i.length;u++){var c=n(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},793:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},173:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},892:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},36:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},464:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{Link:function(){return E},TextLink:function(){return A}});var e=n(784),t=n(980),o=n.n(t),i=n(779),a=n.n(i),s=n(62),l=n.n(s),u=n(36),c=n.n(u),d=n(793),f=n.n(d),p=n(892),h=n.n(p),m=n(173),g=n.n(m),y=n(464),v=n.n(y),b=n(789),_={};_.styleTagTransform=v(),_.setAttributes=h(),_.insert=f().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=g(),l()(b.Z,_);var w=b.Z&&b.Z.locals?b.Z.locals:void 0;function E(t){var n=t.children,r=t.className,o=t.external,i=t.href,s=t.id,l=t.onClick,u=t.openInNewTab,c=t.weight;return e.createElement("a",{className:a()(w.link,w[c],r),href:i,id:s,onClick:l,target:u?"_blank":void 0,rel:o?"noopener noreferrer":void 0},n)}E.displayName="Link",E.propTypes={children:o().node,className:o().string,external:o().bool,href:o().string.isRequired,id:o().string,onClick:o().func,openInNewTab:o().bool,weight:o().oneOf(["regular","medium","bold"])},E.defaultProps={children:void 0,className:void 0,external:!1,id:void 0,onClick:function(){},openInNewTab:!1,weight:"regular"};var O=n(489),S={};S.styleTagTransform=v(),S.setAttributes=h(),S.insert=f().bind(null,"head"),S.domAPI=c(),S.insertStyleElement=g(),l()(O.Z,S);var T=O.Z&&O.Z.locals?O.Z.locals:void 0,C=["icon","iconBefore","text"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function A(t){var n=t.icon,r=t.iconBefore,o=t.text,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,C);return n&&(n=e.cloneElement(n,{"aria-hidden":!!o,key:"icon"})),e.createElement(E,k({},i,{className:a()(T.textlink,i.className)}),r&&n,o&&e.createElement("span",{key:"text"},o),!r&&n)}A.displayName="TextLink",A.propTypes={href:o().string.isRequired,icon:o().node,iconBefore:o().bool,text:o().string},A.defaultProps={icon:void 0,iconBefore:!1,text:void 0}}(),r}()},"object"==s(t)&&"object"==s(e)?e.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then(t,n);else{window.getSelection().removeAllRanges();var r=document.createElement("pre");r.innerText=e,document.body.appendChild(r);var o=!1;try{window.getSelection().selectAllChildren(r),document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(i){n&&n(),o=!0}finally{document.body.removeChild(r),!o&&t&&t()}}},e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ABSOLUTE_REGEXP",{enumerable:!0,get:function(){return i.ABSOLUTE_REGEXP}}),t.CLASSIC_THEME_INDEX=t.CAPTURE_TICK_COUNT=t.ApplabInterfaceMode=t.APP_WIDTH=t.APP_HEIGHT=t.ANIMATION_LENGTH_MS=void 0,Object.defineProperty(t,"DATA_URL_PREFIX_REGEX",{enumerable:!0,get:function(){return i.DATA_URL_PREFIX_REGEX}}),t.FOOTER_HEIGHT=t.DESIGN_ELEMENT_ID_PREFIX=t.DEFAULT_THEME_INDEX=void 0,Object.defineProperty(t,"ICON_PREFIX",{enumerable:!0,get:function(){return i.ICON_PREFIX}}),Object.defineProperty(t,"ICON_PREFIX_REGEX",{enumerable:!0,get:function(){return i.ICON_PREFIX_REGEX}}),t.themeOptionsForSelect=t.themeOptions=t.getAppWidth=t.fontFamilyStyles=t.fontFamilyOptions=t.defaultFontSizeStyle=t.WIDGET_WIDTH=t.NEW_SCREEN=t.IMPORT_SCREEN=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(33)),i=n(777);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.FOOTER_HEIGHT=30;t.APP_WIDTH=320;t.WIDGET_WIDTH=600;t.getAppWidth=function(e){return null!=e&&e.widgetMode?600:320};t.APP_HEIGHT=480;t.DESIGN_ELEMENT_ID_PREFIX="design_";t.NEW_SCREEN="New screen...";var s=o.makeEnum("CODE","DESIGN","DATA");t.ApplabInterfaceMode=s;t.ANIMATION_LENGTH_MS=200;t.IMPORT_SCREEN="Import screen...";t.CAPTURE_TICK_COUNT=300;t.defaultFontSizeStyle="14px";t.DEFAULT_THEME_INDEX=0;t.CLASSIC_THEME_INDEX=1;t.themeOptions=["default","classic","orange","citrus","ketchupAndMustard","lemonade","forest","watermelon","area51","polar","glowInTheDark","bubblegum","millennial","robot","coralReef","mintChip","lavender","cherryVanilla","berryPatch","cucumber","crushedVelvet","playtime","underTheSea","blueAndGold","blueSteel","darkscheme","twoTone","pastel","peachy"];var l="/blockly/media/applab/theme_dropdown/",u=[{option:"default",displayName:"Default",icon:l+"default.png"},{option:"classic",displayName:"Classic",icon:l+"classic.png"},{option:"orange",displayName:"Orange",icon:l+"orange.png"},{option:"citrus",displayName:"Citrus",icon:l+"citrus.png"},{option:"ketchupAndMustard",displayName:"Ketchup and Mustard",icon:l+"ketchup_and_mustard.png"},{option:"lemonade",displayName:"Lemonade",icon:l+"lemonade.png"},{option:"forest",displayName:"Forest",icon:l+"forest.png"},{option:"watermelon",displayName:"Watermelon",icon:l+"watermelon.png"},{option:"area51",displayName:"Area 51",icon:l+"area_51.png"},{option:"polar",displayName:"Polar",icon:l+"polar.png"},{option:"glowInTheDark",displayName:"Glow in the Dark",icon:l+"glow_in_the_dark.png"},{option:"bubblegum",displayName:"Bubblegum",icon:l+"bubblegum.png"},{option:"millennial",displayName:"Millennial",icon:l+"millennial.png"},{option:"robot",displayName:"Robot",icon:l+"robot.png"},{option:"coralReef",displayName:"Coral Reef",icon:l+"coral_reef.png"},{option:"mintChip",displayName:"Mint Chip",icon:l+"mint_chip.png"},{option:"lavender",displayName:"Lavender",icon:l+"lavender.png"},{option:"cherryVanilla",displayName:"Cherry Vanilla",icon:l+"cherry_vanilla.png"},{option:"berryPatch",displayName:"Berry Patch",icon:l+"berry_patch.png"},{option:"cucumber",displayName:"Cucumber",icon:l+"cucumber.png"},{option:"crushedVelvet",displayName:"Crushed Velvet",icon:l+"crushed_velvet.png"},{option:"playtime",displayName:"Playtime",icon:l+"playtime.png"},{option:"underTheSea",displayName:"Under the Sea",icon:l+"under_the_sea.png"},{option:"blueAndGold",displayName:"Blue and Gold",icon:l+"blue_and_gold.png"},{option:"blueSteel",displayName:"Blue Steel",icon:l+"blue_steel.png"},{option:"darkscheme",displayName:"Darkscheme",icon:l+"darkscheme.png"},{option:"twoTone",displayName:"Two Tone",icon:l+"two_tone.png"},{option:"pastel",displayName:"Pastel",icon:l+"pastel.png"},{option:"peachy",displayName:"Peachy",icon:l+"peachy.png"}];t.themeOptionsForSelect=u;var c=["Arial","Georgia","Palatino","Times","Courier","Lucida Console","Arial Black","Comic","Impact","Lucida Sans","Tahoma","Trebuchet","Verdana"];t.fontFamilyOptions=c;var d=["Arial, Helvetica, sans-serif","Georgia, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Times New Roman", Times, serif','"Courier New", Courier, monospace','"Lucida Console", Monaco, monospace','"Arial Black", Gadget, sans-serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif",'"Lucida Sans Unicode", "Lucida Grande", sans-serif',"Tahoma, Geneva, sans-serif",'"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif"];if(t.fontFamilyStyles=d,c.length!==d.length)throw new Error("fontFamilyOptions length must equal fontFamilyStyles length")},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},(e,t,n)=>{"use strict";var r=i(n(32)),o=i(n(788));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t&&e.append((0,r.default)('<div><a target="_blank" href="'.concat(t,'" rel="noopener noreferrer"></a></div>')).addClass("open-link"))}var s=e.exports=function(e){this.isVisible=!0;var t=e.body,n=e.header,i=void 0===e.close||e.close,s=(0,r.default)('<div id="x-close"/>').addClass("x-close").attr("data-dismiss","modal");this.div=(0,r.default)('<div tabindex="-1"/>').addClass("modal"),e.width&&this.div.css({width:"".concat(e.width,"px"),marginLeft:"-".concat(e.width/2,"px")}),this.div.addClass("dash_modal"),e.id&&this.div.attr("id",e.id);var l,u=(0,r.default)("<div/>").addClass("modal-body");if(u.addClass("dash_modal_body"),n){var c=(0,r.default)("<div/>").addClass("modal-header").append(n);i&&(c.append(s),a(c,e.link)),this.div.append(c)}else i&&(u.append(s),a(u,e.link));(u.append(t),this.div.append(u).appendTo((0,r.default)(document.body)),e.autoResizeScrollableElement)&&(this.div.addClass("auto-resize-scrollable"),this.div.find(e.autoResizeScrollableElement).css("overflow-y","auto"),l=(0,o.default)(function(){this.isVisible&&function(e){var t=(0,r.default)(window).height(),n=(0,r.default)(".auto-resize-scrollable").filter(":visible"),o=n.find(e);o.is("iframe")?o.css("height",""):o.css("max-height","");var i=n.offset().top+n.height()-(t-parseInt(n.css("padding-bottom"),10)-parseInt(n.css("margin-bottom"),10)),a=o.height()-i;o.css("max-height",a),o.is("iframe")?o.css("height",a):o.css("max-height",a)}(e.autoResizeScrollableElement)}.bind(this),250),this.div.find("img").load(l),(0,r.default)(window).on("resize",l),l());var d=this;(0,r.default)(this.div).on("hidden.bs.modal",(function(){l&&(d.isVisible=!1,(0,r.default)(window).off("resize",l)),e.onKeydown&&(0,r.default)(this.div).off("keydown",e.onKeydown),e.onHidden&&e.onHidden(),e.redirect&&(window.location.href=e.redirect),(0,r.default)(this).remove()})),(0,r.default)(this.div).on("hide.bs.modal",function(e){this.hideOptions&&(this.processHideOptions(this.hideOptions),e.preventDefault(),this.hideOptions=null)}.bind(this)),e.onKeydown&&(0,r.default)(this.div).on("keydown",e.onKeydown)};s.prototype.show=function(e){e=e||{},(0,r.default)(this.div).modal({show:!0,backdrop:e.backdrop||!0}),this.isVisible=!0,e.hideOptions&&(this.hideOptions=e.hideOptions),this.div.offset(e)},s.prototype.hide=function(){(0,r.default)(this.div).modal("hide"),this.isVisible=!1},s.prototype.focus=function(){this.isVisible&&(0,r.default)(this.div).focus()},s.prototype.processHideOptions=function(e){var t={opacity:"1"};t.left=this.div.css("left"),t.top=this.div.css("top"),t.width=this.div.css("width"),t.height=this.div.css("height");var n=parseInt(this.div.css("marginLeft")),o={opacity:"0",overflow:"visible"};o.left=(0,r.default)(e.endTarget).offset().left-n,o.top=(0,r.default)(e.endTarget).offset().top-(0,r.default)(window).scrollTop(),o.width=(0,r.default)(e.endTarget).css("width"),o.height=(0,r.default)(e.endTarget).css("height");var i=150;(0,r.default)(".modal-backdrop").animate({opacity:0},500),this.div.find(".farSide").animate({opacity:0},i),this.div.find("#x-close").animate({opacity:0},i),this.div.find(".dialog-title").animate({opacity:0},i),this.div.find(".aniGif").animate({opacity:0},i),this.div.find(".modal-content p").animate({"font-size":"13px"},500),this.div.find(".markdown-instructions-container").animate({opacity:0},50),(0,r.default)(this.div).css(t).animate(o,500,"swing",(function(){(0,r.default)(this).modal("hide")}))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUBLISH_SUCCESS=t.PUBLISH_REQUEST=t.PUBLISH_FAILURE=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return a(a({},e),{},{isOpen:!0,projectId:t.projectId,projectType:t.projectType});case u:return a(a({},e),{},{isOpen:!1});case c:return a(a({},e),{},{isPublishPending:!0});case d:return a(a({},e),{},{isOpen:!1,isPublishPending:!1,lastPublishedAt:t.lastPublishedAt,lastPublishedProjectData:t.lastPublishedProjectData});case f:return a(a({},e),{},{isPublishPending:!1});default:return e}},t.hidePublishDialog=function(){return{type:u}},t.publishProject=function(e,t){return function(n){return o.AllPublishableProjectTypes.includes(t)?(n({type:c}),new Promise((function(o,i){r.channels.withProjectId(e).ajax("POST","publish/".concat(t),(function(e){var t=JSON.parse(e.response);n({type:d,lastPublishedAt:t.publishedAt,lastPublishedProjectData:t}),o()}),(function(e){n({type:f}),i(e)}),null)}))):Promise.reject("Cannot publish project of type ".concat(t,"."))}},t.showPublishDialog=function(e,t){return{type:l,projectId:e,projectType:t}};var r=n(449),o=n(385);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="publishDialog/SHOW_PUBLISH_DIALOG",u="publishDialog/HIDE_PUBLISH_DIALOG",c="publishDialog/PUBLISH_REQUEST";t.PUBLISH_REQUEST=c;var d="publishDialog/PUBLISH_SUCCESS";t.PUBLISH_SUCCESS=d;var f="publishDialog/PUBLISH_FAILURE";t.PUBLISH_FAILURE=f;var p={isOpen:!1,projectId:null,projectType:null,isPublishPending:!1,lastPublishedAt:null,lastPublishedProjectData:null}},(e,t,n)=>{var r=e.exports,o=n(20),i=n(452);r.hidden={display:"none"},r.purpleHeader={height:i["workspace-headers-height"],backgroundColor:o.purple,color:o.white,overflowY:"hidden",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},r.purpleHeaderUnfocused={backgroundColor:o.lighter_purple,color:o.dark_charcoal},r.teacherBlueHeader={backgroundColor:o.cyan,color:o.lightest_cyan},r.teacherHeaderUnfocused={color:o.dark_charcoal},r.minecraftHeader={backgroundColor:"#3b3b3b",color:o.white},r.button={paddingTop:5,paddingBottom:5,fontSize:14},r.bubble={color:o.black,marginBottom:10,position:"relative",cursor:"pointer"}},,,(e,t,n)=>{"use strict";e.exports=n(711)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeLockDialog=t.beginSave=t.authorizeLockable=t.LockStatus=t.FINISH_SAVE=t.CLOSE_LOCK_DIALOG=t.BEGIN_SAVE=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;if(t.type===g)return Object.assign({},e,{lockableAuthorized:t.isAuthorized,lockableAuthorizedLoaded:!0});if(t.type===y)return u(u({},e),{},{lessonsBySectionId:o.default.mapValues(t.sections,(function(e){return e.lessons})),lessonsBySectionIdLoaded:!0});if(t.type===v){var n=o.default.mapValues(t.sections,(function(e){return e.lessons})),r=e.lockDialogLessonId;if(r){var i=S(n[t.sectionId],r);return u(u({},e),{},{lessonsBySectionId:n,lockStatus:i})}return u(u({},e),{},{lessonsBySectionId:n})}if(t.type===a.SELECT_SECTION){if(0===Object.keys(e.lessonsBySectionId).length)return e;var s=t.sectionId;if(s===a.NO_SECTION)return u(u({},e),{},{lockStatus:b.lockStatus});if(!e.lessonsBySectionId[s])throw new Error("Unknown sectionId ".concat(s));var l=e.lockDialogLessonId;if(l)return u(u({},e),{},{lockStatus:S(e.lessonsBySectionId[s],l)})}if(t.type===f){var c=t.sectionId,_=t.lessonId;return Object.assign({},e,{lockDialogLessonId:_,lockStatus:S(e.lessonsBySectionId[c],_)})}if(t.type===p)return Object.assign({},e,{lockDialogLessonId:null,lockStatus:b.lockStatus});if(t.type===h)return Object.assign({},e,{saving:!0});if(t.type===m){var w=e.lessonsBySectionId,E=t.lockStatus,O=t.sectionId,T=t.lessonId,C=o.default.cloneDeep(w[O][T]);C.forEach((function(e,t){var n=E[t];if(e.user_level_id!==n.userLevelId)throw new Error("Expect user ids be the same");e.locked=n.lockStatus===d.Locked,e.readonly_answers=n.lockStatus===d.ReadonlyAnswers}));var k=o.default.cloneDeep(e);return k.lessonsBySectionId[O][T]=C,Object.assign(k,{lockStatus:E,saving:!1})}return e},t.setSectionLockStatus=t.saveLockDialog=t.refetchSectionLockStatus=t.openLockDialog=t.lockLesson=t.fullyLockedLessonMapping=t.finishSave=void 0;var r=s(n(32)),o=s(n(53)),i=n(33),a=n(468);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,i.makeEnum)("Locked","Editable","ReadonlyAnswers");t.LockStatus=d;var f="lessonLock/OPEN_LOCK_DIALOG",p="lessonLock/CLOSE_LOCK_DIALOG";t.CLOSE_LOCK_DIALOG=p;var h="lessonLock/BEGIN_SAVE";t.BEGIN_SAVE=h;var m="lessonLock/FINISH_SAVE";t.FINISH_SAVE=m;var g="lessonLock/AUTHORIZE_LOCKABLE",y="lessonLock/SET_SECTION_LOCK_STATUS",v="lessonLock/REFRESH_SECTION_LOCK_STATUS",b={lessonsBySectionId:{},lessonsBySectionIdLoaded:!1,lockDialogLessonId:null,lockStatus:[],saving:!1,lockableAuthorized:null,lockableAuthorizedLoaded:!1};t.authorizeLockable=function(e){return{type:g,isAuthorized:e}};t.openLockDialog=function(e,t){return{type:f,sectionId:e,lessonId:t}};var _=function(){return{type:h}};t.beginSave=_;var w=function(e,t,n){return{type:m,sectionId:e,lessonId:t,lockStatus:n}};t.finishSave=w;var E=function(e,t,n,i){return function(a,s){var l=s().lessonLock.lockStatus,u=n.filter((function(e,t){return!o.default.isEqual(e,l[t])})).map((function(e){return{user_level_data:e.userLevelData,locked:e.lockStatus===d.Locked,readonly_answers:e.lockStatus===d.ReadonlyAnswers}}));0!==u.length?(a(_()),r.default.ajax({type:"POST",url:"/api/lock_status",dataType:"json",contentType:"application/json",data:JSON.stringify({updates:u})}).done((function(){a(w(e,t,n)),i()})).fail((function(e){console.error(e),i()}))):i()}};t.saveLockDialog=function(e,t){return function(n,r){var o=r().lessonLock.lockDialogLessonId;n(E(e,o,t,(function(){n(O())})))}};t.lockLesson=function(e,t){return function(n,r){var o=r().lessonLock.lessonsBySectionId[e],i=S(o,t).map((function(e){return u(u({},e),{},{lockStatus:d.Locked})}));n(E(e,t,i,(function(){})))}};var O=function(){return{type:p}};t.closeLockDialog=O;var S=function(e,t){return void 0===e?[]:e[t].map((function(e){return{userLevelData:e.user_level_data,name:e.name,lockStatus:e.locked?d.Locked:e.readonly_answers?d.ReadonlyAnswers:d.Editable}}))};t.fullyLockedLessonMapping=function(e){return e?Object.keys(e).reduce((function(t,n){var r=!e[n].some((function(e){return!e.locked}));return u(u({},t),{},c({},n,r))}),{}):{}};t.setSectionLockStatus=function(e){return{type:y,sections:e}};t.refetchSectionLockStatus=function(e,t){return function(n){r.default.ajax("/api/lock_status",{data:{script_id:t}}).done((function(t){n(function(e,t){return{type:v,sections:e,sectionId:t}}(t,e))})).fail((function(e){console.log(e)}))}}},(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getContainedLevelId=d,t.getContainedLevelResult=f,t.getLevel=u,t.getLevelIds=c,t.getResult=function(){if(!r)return void console.error("No getResult function");return r()},t.hasValidContainedLevelResult=function(){return f().result.valid},t.lockContainedLevelAnswers=function(){var e=c();if(1!==e.length)throw new Error("Expected exactly one contained level. Got ".concat(e.length));u(e[0]).lockAnswers()},t.onAnswerChanged=function(e,t){if(o)return o(e,t)},t.registerAnswerChangedFn=function(e){o=e},t.registerGetResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(r)return void console.error("already have a getResult function");r=e},t.registerLevel=function(e,t){l(t,"getResult","function"),l(t,"getAppName","function"),l(t,"lockAnswers","function"),l(t,"getCurrentAnswerFeedback","function"),l(t,"levelId","number"),a[e]=t},t.resetContainedLevel=function(){var e=c();if(1!==e.length)throw new Error("Expected exactly one contained level. Got ".concat(e.length));return(i?Promise.resolve():fetch("/user_levels/get_token",{headers:{credentials:"same-origin"}}).then((function(e){e.ok&&(i=e.headers.get("csrf-token"))}))).then((function(){return fetch("/delete_predict_level_progress",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-Token":i},body:JSON.stringify({script_id:appOptions.serverScriptId,level_id:e[0]})}).then((function(t){if(!t.ok)throw"Error resetting answer with status code ".concat(t.status);u(e[0]).resetAnswers(),$("#runButton").prop("disabled",!0)}))}))};var r=null,o=null,i=null,a={};function s(){return{response:"ok",result:!0}}function l(e,t,r){if(!e[t])throw new Error("Expected object to have field of ".concat(t));if(n(e[t])!==r)throw new Error("Expected object['".concat(t,"'] to have type of ").concat(r))}function u(e){return a[e]}function c(){return Object.keys(a)}function d(){var e=c();if(1!==e.length)throw new Error("Expected exactly one contained level. Got ".concat(e.length));return e[0]}function f(){var e=u(d());return{id:e.levelId,app:e.getAppName(),callback:appOptions.report.sublevelCallback+e.levelId,result:e.getResult(),feedback:e.getCurrentAnswerFeedback()}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STUDENT_SECTION_ID=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new d,t=arguments.length>1?arguments[1]:void 0;if(t.type===s){var n=t.hiddenLessonsPerSection,r=t.hideableLessonsAllowed,o=Object.keys(n),i=e;return o.forEach((function(e){n[e].forEach((function(t){i=i.setIn(["lessonsBySection",e,t.toString()],!0)}))})),f(i),i.merge({hiddenLessonsInitialized:!0,hideableLessonsAllowed:r})}if(t.type===l){var a=t.sectionId,c=t.lessonId,p=t.hidden,h=e.setIn(["lessonsBySection",a,c.toString()],p);return f(h),h}if(t.type===u){var m=t.sectionId,g=t.scriptId,y=t.hidden,v=e.setIn(["scriptsBySection",m.toString(),g.toString()],y);return f(v),v}return e},t.getHiddenLessons=function(e,t){return function(n){r.default.ajax({type:"GET",url:"/s/".concat(e,"/hidden_lessons"),dataType:"json",contentType:"application/json"}).done((function(e){return n(function(e,t){return function(n){Array.isArray(e)&&(e=a({},c,e)),n(p(e,!!t))}}(e,t))})).fail((function(e){return console.error(e)}))}},t.initializeHiddenScripts=function(e){return function(t){e&&(Array.isArray(e)&&(e=a({},c,e)),Object.keys(e).forEach((function(n){e[n].forEach((function(e){t(m(n,e,!0))}))})))}},t.isLessonHiddenForSection=function(e,t,n){return y(e,t,n,"lessonsBySection")},t.isScriptHiddenForSection=function(e,t,n){return y(e,t,n,"scriptsBySection")},t.setHiddenLessons=p,t.toggleHiddenLesson=function(e,t,n,r){return function(o){o(h(t,n,r)),g(e,t,n,r)}},t.toggleHiddenScript=function(e,t,n,r){return function(o){o(m(t,n,r)),g(e,t,null,r)}},t.updateHiddenLesson=h,t.updateHiddenScript=m;var r=i(n(32)),o=i(n(389));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="hiddenLesson/SET_HIDDEN_LESSONS",l="hiddenLesson/UPDATE_HIDDEN_LESSON",u="hiddenLesson/UPDATE_HIDDEN_SCRIPT",c="STUDENT";t.STUDENT_SECTION_ID=c;var d=o.default.Record({hiddenLessonsInitialized:!1,hideableLessonsAllowed:!1,lessonsBySection:o.default.Map({}),scriptsBySection:o.default.Map({})});function f(e){if(e.getIn(["lessonsBySection",c])&&e.get("lessonsBySection").size>1)throw new Error("Should never have STUDENT_SECTION_ID alongside other sectionIds")}function p(e,t){return{type:s,hiddenLessonsPerSection:e,hideableLessonsAllowed:t}}function h(e,t,n){return{type:l,sectionId:e,lessonId:t,hidden:n}}function m(e,t,n){return{type:u,sectionId:e,scriptId:t,hidden:n}}function g(e,t,n,o){var i={section_id:t,hidden:o};n&&(i.stage_id=n),r.default.ajax({type:"POST",url:"/s/".concat(e,"/toggle_hidden"),dataType:"json",contentType:"application/json",data:JSON.stringify(i)}).success((function(){window.__TestInterface=window.__TestInterface||{},window.__TestInterface.toggleHiddenUnitComplete=!0}))}function y(e,t,n,r){return!!n&&(t||(t=c),!!e.get(r).getIn([t.toString(),n.toString()]))}},e=>{"use strict";e.exports=function(e,t,n,r){var o,i,a=e.length,s=-1;for(;++s<a;)if(o=e[s],(void 0===(i=o[1]||{}).pedantic||i.pedantic===n.options.pedantic)&&(void 0===i.commonmark||i.commonmark===n.options.commonmark)&&t[o[0]].apply(n,r))return!0;return!1}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.h3Style=t.h2Style=t.h1Style=t.Heading3=t.Heading2=t.Heading1=void 0;var o=s(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(1));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={display:"block",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal",margin:"10px 0",color:s(n(20)).default.dark_charcoal},m=f(f({},h),{},{fontFamily:'"Gotham 7r", sans-serif',fontSize:32,lineHeight:"48px"});t.h1Style=m;var g=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){return i.default.createElement("h1",l({},this.props,{style:f(f({},m),this.props.style)}))},t}(i.Component);t.Heading1=g,p(g,"propTypes",{style:o.default.object});var y=f(f({},h),{},{fontFamily:'"Gotham 4r", sans-serif',fontSize:24,lineHeight:"48px"});t.h2Style=y;var v=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){return i.default.createElement("h2",l({},this.props,{style:f(f({},y),this.props.style)}))},t}(i.Component);t.Heading2=v,p(v,"propTypes",{style:o.default.object});var b=f(f({},h),{},{fontFamily:'"Gotham 5r", sans-serif',fontSize:16,lineHeight:"24px"});t.h3Style=b;var _=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){return i.default.createElement("h3",l({},this.props,{style:f(f({},b),this.props.style)}))},t}(i.Component);t.Heading3=_,p(_,"propTypes",{style:o.default.object})},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e=e||h,t.type===l)return o.default.assign({},e,{isRunning:t.isRunning,isDebuggerPaused:!1!==t.isRunning&&e.isDebuggerPaused,isDebuggingSprites:!1!==t.isRunning&&e.isDebuggingSprites});if(t.type===u)return o.default.assign({},e,{isEditWhileRun:t.isEditWhileRun});if(t.type===c)return o.default.assign({},e,{isRunning:!!t.isDebuggerPaused||e.isRunning,isDebuggerPaused:t.isDebuggerPaused,nextStep:t.nextStep});if(t.type===d&&"number"==typeof t.stepSpeed)return o.default.assign({},e,{stepSpeed:t.stepSpeed});if(t.type===f&&e.awaitingContainedResponse!==t.awaitingContainedResponse)return a(a({},e),{},{awaitingContainedResponse:t.awaitingContainedResponse});if(t.type===p&&e.isRunning)return a(a({},e),{},{isDebuggingSprites:t.isDebuggingSprites});return e},t.setStepSpeed=t.setIsRunning=t.setIsEditWhileRun=t.setIsDebuggingSprites=t.setIsDebuggerPaused=t.setAwaitingContainedResponse=void 0;var r,o=(r=n(53))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="runState/SET_IS_RUNNING",u="runState/SET_IS_EDIT_WHILE_RUN",c="runState/SET_IS_DEBUGGER_PAUSED",d="runState/SET_STEP_SPEED",f="runState/SET_AWAITING_CONTAINED_RESPONSE",p="runState/SET_IS_DEBUGGING_SPRITES",h={isRunning:!1,isEditWhileRun:!1,isDebuggerPaused:!1,nextStep:null,stepSpeed:1,isDebuggingSprites:!1,awaitingContainedResponse:!1};t.setIsRunning=function(e){return{type:l,isRunning:e}};t.setIsEditWhileRun=function(e){return{type:u,isEditWhileRun:e}};t.setIsDebuggerPaused=function(e,t){return{type:c,isDebuggerPaused:e,nextStep:t}};t.setStepSpeed=function(e){return{type:d,stepSpeed:e}};t.setAwaitingContainedResponse=function(e){return{type:f,awaitingContainedResponse:e}};t.setIsDebuggingSprites=function(e){return{type:p,isDebuggingSprites:e}}},(e,t,n)=>{"use strict";var r=n(33),o=n(820),i=window.sessionStorage,a=e.exports={};function s(){var e=i.getItem("progress");try{return e?JSON.parse(e):{}}catch(t){return{}}}function l(e,t){var n,o=i.getItem(e)||"{}";try{(n=JSON.parse(o))[t]=!0,(0,r.trySetSessionStorage)(e,JSON.stringify(n))}catch(a){(n={})[t]=!0,(0,r.trySetSessionStorage)(e,JSON.stringify(n))}}function u(e,t){var n=i.getItem(e)||"{}";try{return!0===JSON.parse(n)[t]}catch(r){return!1}}function c(e,t,n){return(n?n+"_":"")+e+"_"+t}a.queryParams=n(388).queryParams,a.EXPIRY_DAYS=365,a.MAXIMUM_CACHABLE_RESULT=999,a.reset=function(){try{i.clear()}catch(e){}},a.clearProgress=function(){i.removeItem("progress"),i.removeItem("lines"),function(e,t){Object.keys(e).filter((function(e){return e.startsWith(t)})).forEach((function(t){return e.removeItem(t)}))}(i,"source_")},a.sourceForLevel=function(e,t,n){var r=i.getItem(c(e,t,"source"));if(r){var o;try{o=JSON.parse(r)}catch(a){return}if(!n||o.timestamp>n)return o.source}},a.writeSourceForLevel=function(e,t,n,o){void 0!==o&&(0,r.trySetSessionStorage)(c(e,t,"source"),JSON.stringify({source:o,timestamp:n}))},a.trackProgress=function(e,t,n){if(n&&!(n>a.MAXIMUM_CACHABLE_RESULT)){var i=s();i[e]||(i[e]={});var l=i[e][t]||0,u=(0,o.mergeActivityResult)(l,n);u!==l&&(i[e][t]=u,(0,r.trySetSessionStorage)("progress",JSON.stringify(i)))}},a.levelProgress=function(e){return s()[e]||{}},a.hasSeenVideo=function(e){return u("video",e)},a.recordVideoSeen=function(e){l("video",e)},a.hasSeenCallout=function(e){return u("callout",e)},a.recordCalloutSeen=function(e){l("callout",e)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vocabularyShape=t.tipShape=t.standardShape=t.scriptLevelShape=t.resourceShape=t.relatedLessonShape=t.programmingExpressionShape=t.programmingEnvironmentShape=t.levelShape=t.frameworkShape=t.activityShape=t.activitySectionShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({id:o.default.string.isRequired,name:o.default.string.isRequired,url:o.default.string.isRequired,icon:o.default.string,isUnplugged:o.default.bool,isConceptLevel:o.default.bool,conceptDifficulty:o.default.string,concepts:o.default.string,skin:o.default.string,videoKey:o.default.string});t.levelShape=i;var a=o.default.shape({id:o.default.string.isRequired,position:o.default.number.isRequired,activeId:o.default.string.isRequired,levels:o.default.arrayOf(i).isRequired,expand:o.default.bool,kind:o.default.string,bonus:o.default.bool,assessment:o.default.bool,challenge:o.default.bool,isViewingAsInstructorInTraining:o.default.bool});t.scriptLevelShape=a;var s=o.default.shape({key:o.default.string.isRequired,type:o.default.string.isRequired,markdown:o.default.string.isRequired});t.tipShape=s;var l=o.default.shape({key:o.default.string.isRequired,position:o.default.number.isRequired,displayName:o.default.string.isRequired,duration:o.default.oneOfType([o.default.number,o.default.oneOf([""])]).isRequired,remarks:o.default.bool,progressionName:o.default.string,scriptLevels:o.default.arrayOf(a).isRequired,text:o.default.string.isRequired,tips:o.default.arrayOf(s).isRequired});t.activitySectionShape=l;var u=o.default.shape({key:o.default.string.isRequired,displayName:o.default.string,position:o.default.number.isRequired,duration:o.default.oneOfType([o.default.number,o.default.oneOf([""])]).isRequired,activitySections:o.default.arrayOf(l)});t.activityShape=u;var c=o.default.shape({id:o.default.number,key:o.default.string.isRequired,markdownKey:o.default.string,name:o.default.string.isRequired,url:o.default.string.isRequired,type:o.default.string,audience:o.default.string,assessment:o.default.bool,includeInPdf:o.default.bool,downloadUrl:o.default.string,isRollup:o.default.bool});t.resourceShape=c;var d=o.default.shape({id:o.default.number.isRequired,key:o.default.string.isRequired,markdownKey:o.default.string,word:o.default.string.isRequired,definition:o.default.string.isRequired,commonSenseMedia:o.default.bool.isRequired});t.vocabularyShape=d;var f=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired});t.programmingEnvironmentShape=f;var p=o.default.shape({id:o.default.number.isRequired,key:o.default.string.isRequired,name:o.default.string.isRequired,category:o.default.string.isRequired,programmingEnvironmentName:o.default.string.isRequired});t.programmingExpressionShape=p;var h=o.default.shape({name:o.default.string.isRequired,shortcode:o.default.string.isRequired});t.frameworkShape=h;var m=o.default.shape({frameworkShortcode:o.default.string.isRequired,frameworkName:o.default.string.isRequired,parentCategoryShortcode:o.default.string,parentCategoryDescription:o.default.string,categoryShortcode:o.default.string.isRequired,categoryDescription:o.default.string.isRequired,shortcode:o.default.string.isRequired,description:o.default.string.isRequired});t.standardShape=m;var g=o.default.shape({unitTitle:o.default.string.isRequired,versionYear:o.default.string,lockable:o.default.bool,relativePosition:o.default.number.isRequired,id:o.default.number.isRequired,editUrl:o.default.string.isRequired});t.relatedLessonShape=g},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(e,u({ErrorComponent:f,LoadingComponent:d},t))};var r=s(n(1)),o=s(n(59)),i=s(n(907)),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return r.default.createElement(o.default,{icon:"spinner",className:"fa-pulse fa-3x"})}function f(){return r.default.createElement(o.default,{icon:"exclamation-triangle",className:"fa-2x",title:a.default.loadingError()})}e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(1)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(769)),a=u(n(59)),s=["className"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.sort({getSortingColumns:e,onSort:t});return function(e,t){var i=r(e,t),l=i.className,u=p(i,s),c=o.default.createElement(a.default,{icon:"sort",className:"fa-fw",style:n.default});/sort-asc/.test(l)?c=o.default.createElement(a.default,{icon:"sort-asc",className:"fa-fw",style:n.sortAsc}):/sort-desc/.test(l)&&(c=o.default.createElement(a.default,{icon:"sort-desc",className:"fa-fw",style:n.sortDesc}));return d(d({},u),{},{style:Object.assign({},{cursor:"pointer"}),children:o.default.createElement("span",{style:n.container},o.default.createElement("span",{key:"icon",style:{whiteSpace:"nowrap"}},c),o.default.createElement("span",{key:"label"},e))})}};t.default=h,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1318);Object.defineProperty(t,"byColumn",{enumerable:!0,get:function(){return f(r).default}});var o=n(1319);Object.defineProperty(t,"byColumns",{enumerable:!0,get:function(){return f(o).default}});var i=n(1320);Object.defineProperty(t,"byColumnsPrioritizeLastSorted",{enumerable:!0,get:function(){return f(i).default}});var a=n(1321);Object.defineProperty(t,"header",{enumerable:!0,get:function(){return f(a).default}});var s=n(1322);Object.defineProperty(t,"sorter",{enumerable:!0,get:function(){return f(s).default}});var l=n(1323);Object.defineProperty(t,"reset",{enumerable:!0,get:function(){return f(l).default}});var u=n(1324);Object.defineProperty(t,"sort",{enumerable:!0,get:function(){return f(u).default}});var c=n(909);Object.defineProperty(t,"strategies",{enumerable:!0,get:function(){return f(c).default}});var d=n(910);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"order",{enumerable:!0,get:function(){return f(d).default}})},,,,(e,t)=>{"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},(e,t,n)=>{var r,o,i=n(1377),a=[],s=[];function l(){r&&(o?o.setAnnotations(a.concat(s)):r.setAnnotations(a.concat(s)))}e.exports={detachFromSession:function(){r=null,o=null},attachToSession:function(e,t){if(r&&e!==r)throw new Error("Already attached to ace session");r=e,o=t},setJSLintAnnotations:function(e,t){i.processResults(e,t),a=e.data.slice(),l()},getJSLintAnnotations:function(){return a},addRuntimeAnnotation:function(e,t,n){var r={row:t-1,col:0,raw:n,text:n,type:e.toLowerCase()};s.push(r),l()},clearRuntimeAnnotations:function(){0!==s.length&&(s=[],l())}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){return e.reduce((function(e,t){return{value:t(e.value,e.extra),extra:n}}),{value:t,extra:n}).value}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(636));var r=o(n(637));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return 0===e.length?{}:r.default.apply(void 0,i(e.map((function(e){return e(t,n)}))))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STARTER_ASSET_PREFIX_REGEX=t.STARTER_ASSET_PREFIX=t.SOUND_PREFIX_REGEX=t.SOUND_PREFIX=t.ICON_PREFIX_REGEX=t.ICON_PREFIX=t.DEFAULT_SOUND_PATH_PREFIX=t.DATA_URL_PREFIX_REGEX=t.ABSOLUTE_REGEXP=void 0,t.fixPath=function(e){if(a.test(e)&&"file:"!==window.location.protocol)return s.test(e)?e:i+encodeURIComponent(e.replace(/ /g,"%20"));if(0===(e=e||"").length)return"/blockly/media/1x1.gif";if(f.test(e))return e.replace(d,b);if(h.test(e)){var t=(0,o.getStore)().getState();return e.replace(p,(n=t.level.name,"/level_starter_assets/".concat(n,"/")))}var n;if(-1!==e.indexOf("/")||!_)return e;return v+_+"/"+encodeURIComponent(e)},t.init=function(e){v=e.assetPathPrefix||m,b=e.soundPathPrefix||g,_=e.channel||y},t.renderIconToString=function(e,t){var n=document.createElement("canvas");n.width=n.height=400;var o=n.getContext("2d");o.font="300px FontAwesome, serif",o.textBaseline="middle",o.textAlign="center",o.fillStyle=t.getAttribute("data-icon-color")||"#000";var i=new RegExp("^icon://fa-"),a="0x"+r.unicode[e.replace(i,"")];return o.fillText(String.fromCharCode(a),200,200),n.toDataURL()};var r=n(996),o=n(136),i="//"+location.host+"/media?u=",a=new RegExp("^https?://","i");t.ABSOLUTE_REGEXP=a;var s=new RegExp("^https://curriculum.code.org/","i"),l=new RegExp("^data:image");t.DATA_URL_PREFIX_REGEX=l;var u="icon://";t.ICON_PREFIX=u;var c=new RegExp("^icon://");t.ICON_PREFIX_REGEX=c;var d="sound://";t.SOUND_PREFIX=d;var f=new RegExp("^sound://");t.SOUND_PREFIX_REGEX=f;var p="image://";t.STARTER_ASSET_PREFIX=p;var h=new RegExp("^image://");t.STARTER_ASSET_PREFIX_REGEX=h;var m="/v3/assets/",g="/api/v1/sound-library/";t.DEFAULT_SOUND_PATH_PREFIX=g;var y=void 0,v=m,b=g,_=y},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;if(t.type===i)return r(r({},e),{},{isVerified:!0});if(t.type===a)return r(r({},e),{},{hasVerifiedResources:!0});return r({},e)},t.setVerifiedResources=t.setVerified=void 0;var i="verifiedInstructor/SET_VERIFIED",a="verifiedInstructor/SET_VERIFIED_RESOURCES";t.setVerified=function(){return{type:i}};t.setVerifiedResources=function(e){return{type:a}};var s={isVerified:!1,hasVerifiedResources:!1}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,'div.RgEAWGSURVHXgsym55ZC,button.RgEAWGSURVHXgsym55ZC,a.RgEAWGSURVHXgsym55ZC,a:link.RgEAWGSURVHXgsym55ZC,a:visited.RgEAWGSURVHXgsym55ZC,.header a:link.RgEAWGSURVHXgsym55ZC,.header a:visited.RgEAWGSURVHXgsym55ZC{display:inline-block;font-size:12px;font-family:"Gotham 4r",sans-serif;border:1px solid #bbb;border-radius:3px;text-decoration:none;box-sizing:border-box;overflow:hidden;white-space:nowrap}div.RgEAWGSURVHXgsym55ZC:hover,button.RgEAWGSURVHXgsym55ZC:hover,a.RgEAWGSURVHXgsym55ZC:hover,a:link.RgEAWGSURVHXgsym55ZC:hover,a:visited.RgEAWGSURVHXgsym55ZC:hover,.header a:link.RgEAWGSURVHXgsym55ZC:hover,.header a:visited.RgEAWGSURVHXgsym55ZC:hover{background-color:#fff;cursor:pointer}div.RgEAWGSURVHXgsym55ZC:disabled,div.RgEAWGSURVHXgsym55ZC[disabled],button.RgEAWGSURVHXgsym55ZC:disabled,button.RgEAWGSURVHXgsym55ZC[disabled],a.RgEAWGSURVHXgsym55ZC:disabled,a.RgEAWGSURVHXgsym55ZC[disabled],a:link.RgEAWGSURVHXgsym55ZC:disabled,a:link.RgEAWGSURVHXgsym55ZC[disabled],a:visited.RgEAWGSURVHXgsym55ZC:disabled,a:visited.RgEAWGSURVHXgsym55ZC[disabled],.header a:link.RgEAWGSURVHXgsym55ZC:disabled,.header a:link.RgEAWGSURVHXgsym55ZC[disabled],.header a:visited.RgEAWGSURVHXgsym55ZC:disabled,.header a:visited.RgEAWGSURVHXgsym55ZC[disabled]{cursor:auto}div .WXbyAByPFDIxOlQjhjRA,button .WXbyAByPFDIxOlQjhjRA,a .WXbyAByPFDIxOlQjhjRA,a:link .WXbyAByPFDIxOlQjhjRA,a:visited .WXbyAByPFDIxOlQjhjRA,.header a:link .WXbyAByPFDIxOlQjhjRA,.header a:visited .WXbyAByPFDIxOlQjhjRA{margin-right:2.5px;margin-left:2.5px}div .C9TrlUErKq7GDcQxySiL,button .C9TrlUErKq7GDcQxySiL,a .C9TrlUErKq7GDcQxySiL,a:link .C9TrlUErKq7GDcQxySiL,a:visited .C9TrlUErKq7GDcQxySiL,.header a:link .C9TrlUErKq7GDcQxySiL,.header a:visited .C9TrlUErKq7GDcQxySiL{margin-right:2.5px;margin-left:2.5px}div.UXXxyfgzjsl53vaXMLzA,button.UXXxyfgzjsl53vaXMLzA,a.UXXxyfgzjsl53vaXMLzA,a:link.UXXxyfgzjsl53vaXMLzA,a:visited.UXXxyfgzjsl53vaXMLzA,.header a:link.UXXxyfgzjsl53vaXMLzA,.header a:visited.UXXxyfgzjsl53vaXMLzA{color:#fff;background-color:#ffa400;font-weight:bold;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.63)}div.UXXxyfgzjsl53vaXMLzA:hover,button.UXXxyfgzjsl53vaXMLzA:hover,a.UXXxyfgzjsl53vaXMLzA:hover,a:link.UXXxyfgzjsl53vaXMLzA:hover,a:visited.UXXxyfgzjsl53vaXMLzA:hover,.header a:link.UXXxyfgzjsl53vaXMLzA:hover,.header a:visited.UXXxyfgzjsl53vaXMLzA:hover{color:#ffa400;border-color:#ffa400}div.UXXxyfgzjsl53vaXMLzA:disabled,div.UXXxyfgzjsl53vaXMLzA[disabled],button.UXXxyfgzjsl53vaXMLzA:disabled,button.UXXxyfgzjsl53vaXMLzA[disabled],a.UXXxyfgzjsl53vaXMLzA:disabled,a.UXXxyfgzjsl53vaXMLzA[disabled],a:link.UXXxyfgzjsl53vaXMLzA:disabled,a:link.UXXxyfgzjsl53vaXMLzA[disabled],a:visited.UXXxyfgzjsl53vaXMLzA:disabled,a:visited.UXXxyfgzjsl53vaXMLzA[disabled],.header a:link.UXXxyfgzjsl53vaXMLzA:disabled,.header a:link.UXXxyfgzjsl53vaXMLzA[disabled],.header a:visited.UXXxyfgzjsl53vaXMLzA:disabled,.header a:visited.UXXxyfgzjsl53vaXMLzA[disabled]{background-color:#ffd27f;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.Fw6lzpqy3BhOLIEOJd4Q,button.Fw6lzpqy3BhOLIEOJd4Q,a.Fw6lzpqy3BhOLIEOJd4Q,a:link.Fw6lzpqy3BhOLIEOJd4Q,a:visited.Fw6lzpqy3BhOLIEOJd4Q,.header a:link.Fw6lzpqy3BhOLIEOJd4Q,.header a:visited.Fw6lzpqy3BhOLIEOJd4Q{color:#5b6770;background-color:#e7e8ea;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.73)}div.Fw6lzpqy3BhOLIEOJd4Q:disabled,div.Fw6lzpqy3BhOLIEOJd4Q[disabled],button.Fw6lzpqy3BhOLIEOJd4Q:disabled,button.Fw6lzpqy3BhOLIEOJd4Q[disabled],a.Fw6lzpqy3BhOLIEOJd4Q:disabled,a.Fw6lzpqy3BhOLIEOJd4Q[disabled],a:link.Fw6lzpqy3BhOLIEOJd4Q:disabled,a:link.Fw6lzpqy3BhOLIEOJd4Q[disabled],a:visited.Fw6lzpqy3BhOLIEOJd4Q:disabled,a:visited.Fw6lzpqy3BhOLIEOJd4Q[disabled],.header a:link.Fw6lzpqy3BhOLIEOJd4Q:disabled,.header a:link.Fw6lzpqy3BhOLIEOJd4Q[disabled],.header a:visited.Fw6lzpqy3BhOLIEOJd4Q:disabled,.header a:visited.Fw6lzpqy3BhOLIEOJd4Q[disabled]{background-color:#c6cacd;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.SogDtJ8Sr4CHsI4oRqoJ,button.SogDtJ8Sr4CHsI4oRqoJ,a.SogDtJ8Sr4CHsI4oRqoJ,a:link.SogDtJ8Sr4CHsI4oRqoJ,a:visited.SogDtJ8Sr4CHsI4oRqoJ,.header a:link.SogDtJ8Sr4CHsI4oRqoJ,.header a:visited.SogDtJ8Sr4CHsI4oRqoJ{color:#fff;background-color:#0094ca;font-weight:bold;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.4)}div.SogDtJ8Sr4CHsI4oRqoJ:hover,button.SogDtJ8Sr4CHsI4oRqoJ:hover,a.SogDtJ8Sr4CHsI4oRqoJ:hover,a:link.SogDtJ8Sr4CHsI4oRqoJ:hover,a:visited.SogDtJ8Sr4CHsI4oRqoJ:hover,.header a:link.SogDtJ8Sr4CHsI4oRqoJ:hover,.header a:visited.SogDtJ8Sr4CHsI4oRqoJ:hover{box-shadow:none;color:#0094ca;border-color:#0094ca;background-color:#d9eff7}div.SogDtJ8Sr4CHsI4oRqoJ:disabled,div.SogDtJ8Sr4CHsI4oRqoJ[disabled],button.SogDtJ8Sr4CHsI4oRqoJ:disabled,button.SogDtJ8Sr4CHsI4oRqoJ[disabled],a.SogDtJ8Sr4CHsI4oRqoJ:disabled,a.SogDtJ8Sr4CHsI4oRqoJ[disabled],a:link.SogDtJ8Sr4CHsI4oRqoJ:disabled,a:link.SogDtJ8Sr4CHsI4oRqoJ[disabled],a:visited.SogDtJ8Sr4CHsI4oRqoJ:disabled,a:visited.SogDtJ8Sr4CHsI4oRqoJ[disabled],.header a:link.SogDtJ8Sr4CHsI4oRqoJ:disabled,.header a:link.SogDtJ8Sr4CHsI4oRqoJ[disabled],.header a:visited.SogDtJ8Sr4CHsI4oRqoJ:disabled,.header a:visited.SogDtJ8Sr4CHsI4oRqoJ[disabled]{color:#a6daed;background-color:#d9eff7;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.thn9Ds5ihZL991wq4hjF,button.thn9Ds5ihZL991wq4hjF,a.thn9Ds5ihZL991wq4hjF,a:link.thn9Ds5ihZL991wq4hjF,a:visited.thn9Ds5ihZL991wq4hjF,.header a:link.thn9Ds5ihZL991wq4hjF,.header a:visited.thn9Ds5ihZL991wq4hjF{color:#fff;background-color:#00adbc;font-weight:bold;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.4)}div.thn9Ds5ihZL991wq4hjF:hover,button.thn9Ds5ihZL991wq4hjF:hover,a.thn9Ds5ihZL991wq4hjF:hover,a:link.thn9Ds5ihZL991wq4hjF:hover,a:visited.thn9Ds5ihZL991wq4hjF:hover,.header a:link.thn9Ds5ihZL991wq4hjF:hover,.header a:visited.thn9Ds5ihZL991wq4hjF:hover{box-shadow:none;color:#00adbc;border-color:#00adbc;background-color:#d9f3f5}div.thn9Ds5ihZL991wq4hjF:disabled,div.thn9Ds5ihZL991wq4hjF[disabled],button.thn9Ds5ihZL991wq4hjF:disabled,button.thn9Ds5ihZL991wq4hjF[disabled],a.thn9Ds5ihZL991wq4hjF:disabled,a.thn9Ds5ihZL991wq4hjF[disabled],a:link.thn9Ds5ihZL991wq4hjF:disabled,a:link.thn9Ds5ihZL991wq4hjF[disabled],a:visited.thn9Ds5ihZL991wq4hjF:disabled,a:visited.thn9Ds5ihZL991wq4hjF[disabled],.header a:link.thn9Ds5ihZL991wq4hjF:disabled,.header a:link.thn9Ds5ihZL991wq4hjF[disabled],.header a:visited.thn9Ds5ihZL991wq4hjF:disabled,.header a:visited.thn9Ds5ihZL991wq4hjF[disabled]{color:#a6daed;background-color:#d9eff7;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.SfFcj2dNRCSSkdsG0JWm,button.SfFcj2dNRCSSkdsG0JWm,a.SfFcj2dNRCSSkdsG0JWm,a:link.SfFcj2dNRCSSkdsG0JWm,a:visited.SfFcj2dNRCSSkdsG0JWm,.header a:link.SfFcj2dNRCSSkdsG0JWm,.header a:visited.SfFcj2dNRCSSkdsG0JWm{color:#5b6770;background-color:#fff;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.06)}div.SfFcj2dNRCSSkdsG0JWm:hover,button.SfFcj2dNRCSSkdsG0JWm:hover,a.SfFcj2dNRCSSkdsG0JWm:hover,a:link.SfFcj2dNRCSSkdsG0JWm:hover,a:visited.SfFcj2dNRCSSkdsG0JWm:hover,.header a:link.SfFcj2dNRCSSkdsG0JWm:hover,.header a:visited.SfFcj2dNRCSSkdsG0JWm:hover{box-shadow:none;background-color:#e7e8ea}div.SfFcj2dNRCSSkdsG0JWm:disabled,div.SfFcj2dNRCSSkdsG0JWm[disabled],button.SfFcj2dNRCSSkdsG0JWm:disabled,button.SfFcj2dNRCSSkdsG0JWm[disabled],a.SfFcj2dNRCSSkdsG0JWm:disabled,a.SfFcj2dNRCSSkdsG0JWm[disabled],a:link.SfFcj2dNRCSSkdsG0JWm:disabled,a:link.SfFcj2dNRCSSkdsG0JWm[disabled],a:visited.SfFcj2dNRCSSkdsG0JWm:disabled,a:visited.SfFcj2dNRCSSkdsG0JWm[disabled],.header a:link.SfFcj2dNRCSSkdsG0JWm:disabled,.header a:link.SfFcj2dNRCSSkdsG0JWm[disabled],.header a:visited.SfFcj2dNRCSSkdsG0JWm:disabled,.header a:visited.SfFcj2dNRCSSkdsG0JWm[disabled]{background-color:#e7e8ea;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.oroutysfFuyrHT44d9O6,button.oroutysfFuyrHT44d9O6,a.oroutysfFuyrHT44d9O6,a:link.oroutysfFuyrHT44d9O6,a:visited.oroutysfFuyrHT44d9O6,.header a:link.oroutysfFuyrHT44d9O6,.header a:visited.oroutysfFuyrHT44d9O6{color:#fff;background-color:#c00;font-weight:bold;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.4)}div.oroutysfFuyrHT44d9O6:hover,button.oroutysfFuyrHT44d9O6:hover,a.oroutysfFuyrHT44d9O6:hover,a:link.oroutysfFuyrHT44d9O6:hover,a:visited.oroutysfFuyrHT44d9O6:hover,.header a:link.oroutysfFuyrHT44d9O6:hover,.header a:visited.oroutysfFuyrHT44d9O6:hover{box-shadow:none;color:#c00;border-color:#c00}div.oroutysfFuyrHT44d9O6:disabled,div.oroutysfFuyrHT44d9O6[disabled],button.oroutysfFuyrHT44d9O6:disabled,button.oroutysfFuyrHT44d9O6[disabled],a.oroutysfFuyrHT44d9O6:disabled,a.oroutysfFuyrHT44d9O6[disabled],a:link.oroutysfFuyrHT44d9O6:disabled,a:link.oroutysfFuyrHT44d9O6[disabled],a:visited.oroutysfFuyrHT44d9O6:disabled,a:visited.oroutysfFuyrHT44d9O6[disabled],.header a:link.oroutysfFuyrHT44d9O6:disabled,.header a:link.oroutysfFuyrHT44d9O6[disabled],.header a:visited.oroutysfFuyrHT44d9O6:disabled,.header a:visited.oroutysfFuyrHT44d9O6[disabled]{background-color:#fcc;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.CleFRArPgxlGFWnGt9jX,button.CleFRArPgxlGFWnGt9jX,a.CleFRArPgxlGFWnGt9jX,a:link.CleFRArPgxlGFWnGt9jX,a:visited.CleFRArPgxlGFWnGt9jX,.header a:link.CleFRArPgxlGFWnGt9jX,.header a:visited.CleFRArPgxlGFWnGt9jX{color:#fff;background-color:#7665a0;font-weight:bold;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.4)}div.CleFRArPgxlGFWnGt9jX:hover,button.CleFRArPgxlGFWnGt9jX:hover,a.CleFRArPgxlGFWnGt9jX:hover,a:link.CleFRArPgxlGFWnGt9jX:hover,a:visited.CleFRArPgxlGFWnGt9jX:hover,.header a:link.CleFRArPgxlGFWnGt9jX:hover,.header a:visited.CleFRArPgxlGFWnGt9jX:hover{box-shadow:none;color:#7665a0;border-color:#7665a0;background-color:#ebe8f1}div.CleFRArPgxlGFWnGt9jX:disabled,div.CleFRArPgxlGFWnGt9jX[disabled],button.CleFRArPgxlGFWnGt9jX:disabled,button.CleFRArPgxlGFWnGt9jX[disabled],a.CleFRArPgxlGFWnGt9jX:disabled,a.CleFRArPgxlGFWnGt9jX[disabled],a:link.CleFRArPgxlGFWnGt9jX:disabled,a:link.CleFRArPgxlGFWnGt9jX[disabled],a:visited.CleFRArPgxlGFWnGt9jX:disabled,a:visited.CleFRArPgxlGFWnGt9jX[disabled],.header a:link.CleFRArPgxlGFWnGt9jX:disabled,.header a:link.CleFRArPgxlGFWnGt9jX[disabled],.header a:visited.CleFRArPgxlGFWnGt9jX:disabled,.header a:visited.CleFRArPgxlGFWnGt9jX[disabled]{color:#cfc9de;background-color:#ebe8f1;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.y1VYRnECR1w8hEpep3vF,button.y1VYRnECR1w8hEpep3vF,a.y1VYRnECR1w8hEpep3vF,a:link.y1VYRnECR1w8hEpep3vF,a:visited.y1VYRnECR1w8hEpep3vF,.header a:link.y1VYRnECR1w8hEpep3vF,.header a:visited.y1VYRnECR1w8hEpep3vF{color:#fff;background-color:#0ebe0e;font-weight:bold;box-shadow:inset 0 2px 0 0 rgba(255,255,255,.4)}div.y1VYRnECR1w8hEpep3vF:hover,button.y1VYRnECR1w8hEpep3vF:hover,a.y1VYRnECR1w8hEpep3vF:hover,a:link.y1VYRnECR1w8hEpep3vF:hover,a:visited.y1VYRnECR1w8hEpep3vF:hover,.header a:link.y1VYRnECR1w8hEpep3vF:hover,.header a:visited.y1VYRnECR1w8hEpep3vF:hover{box-shadow:none;color:#5b6770;border-color:#e7e8ea;background-color:#e7e8ea}div.y1VYRnECR1w8hEpep3vF:disabled,div.y1VYRnECR1w8hEpep3vF[disabled],button.y1VYRnECR1w8hEpep3vF:disabled,button.y1VYRnECR1w8hEpep3vF[disabled],a.y1VYRnECR1w8hEpep3vF:disabled,a.y1VYRnECR1w8hEpep3vF[disabled],a:link.y1VYRnECR1w8hEpep3vF:disabled,a:link.y1VYRnECR1w8hEpep3vF[disabled],a:visited.y1VYRnECR1w8hEpep3vF:disabled,a:visited.y1VYRnECR1w8hEpep3vF[disabled],.header a:link.y1VYRnECR1w8hEpep3vF:disabled,.header a:link.y1VYRnECR1w8hEpep3vF[disabled],.header a:visited.y1VYRnECR1w8hEpep3vF:disabled,.header a:visited.y1VYRnECR1w8hEpep3vF[disabled]{background-color:#e7e8ea;box-shadow:inset 0 2px 0 0 rgba(0,0,0,.1)}div.SpnpMKQTi1rIE2H6S2st,button.SpnpMKQTi1rIE2H6S2st,a.SpnpMKQTi1rIE2H6S2st,a:link.SpnpMKQTi1rIE2H6S2st,a:visited.SpnpMKQTi1rIE2H6S2st,.header a:link.SpnpMKQTi1rIE2H6S2st,.header a:visited.SpnpMKQTi1rIE2H6S2st{height:34px;padding-left:24px;padding-right:24px;line-height:34px}div.RZjpqeKsBXOFJve7iNR5,button.RZjpqeKsBXOFJve7iNR5,a.RZjpqeKsBXOFJve7iNR5,a:link.RZjpqeKsBXOFJve7iNR5,a:visited.RZjpqeKsBXOFJve7iNR5,.header a:link.RZjpqeKsBXOFJve7iNR5,.header a:visited.RZjpqeKsBXOFJve7iNR5{height:40px;padding-left:30px;padding-right:30px;line-height:40px}div.XtN8qpA6DyEcHb1YIz2d,button.XtN8qpA6DyEcHb1YIz2d,a.XtN8qpA6DyEcHb1YIz2d,a:link.XtN8qpA6DyEcHb1YIz2d,a:visited.XtN8qpA6DyEcHb1YIz2d,.header a:link.XtN8qpA6DyEcHb1YIz2d,.header a:visited.XtN8qpA6DyEcHb1YIz2d{height:40px;padding-left:10px;padding-right:10px;line-height:40px}div.Yq5AYtW7_as0WLuoLhnb,button.Yq5AYtW7_as0WLuoLhnb,a.Yq5AYtW7_as0WLuoLhnb,a:link.Yq5AYtW7_as0WLuoLhnb,a:visited.Yq5AYtW7_as0WLuoLhnb,.header a:link.Yq5AYtW7_as0WLuoLhnb,.header a:visited.Yq5AYtW7_as0WLuoLhnb{height:20px;padding-left:5px;padding-right:5px;line-height:20px;position:relative;top:4px}div.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA,button.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA,a.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA,a:link.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA,a:visited.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA,.header a:link.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA,.header a:visited.Yq5AYtW7_as0WLuoLhnb .WXbyAByPFDIxOlQjhjRA{font-size:12px;top:0}div.pUlkLwlwitRrefPiTBSj,button.pUlkLwlwitRrefPiTBSj,a.pUlkLwlwitRrefPiTBSj,a:link.pUlkLwlwitRrefPiTBSj,a:visited.pUlkLwlwitRrefPiTBSj,.header a:link.pUlkLwlwitRrefPiTBSj,.header a:visited.pUlkLwlwitRrefPiTBSj{line-height:12px}div.C7_DF6o_uvgjGmTBmAdX,button.C7_DF6o_uvgjGmTBmAdX,a.C7_DF6o_uvgjGmTBmAdX,a:link.C7_DF6o_uvgjGmTBmAdX,a:visited.C7_DF6o_uvgjGmTBmAdX,.header a:link.C7_DF6o_uvgjGmTBmAdX,.header a:visited.C7_DF6o_uvgjGmTBmAdX{color:#00adbc;border-width:0;background-color:unset;font-family:"Gotham 5r",sans-serif;box-shadow:none;padding:0;margin:0}div.C7_DF6o_uvgjGmTBmAdX:hover,button.C7_DF6o_uvgjGmTBmAdX:hover,a.C7_DF6o_uvgjGmTBmAdX:hover,a:link.C7_DF6o_uvgjGmTBmAdX:hover,a:visited.C7_DF6o_uvgjGmTBmAdX:hover,.header a:link.C7_DF6o_uvgjGmTBmAdX:hover,.header a:visited.C7_DF6o_uvgjGmTBmAdX:hover{background-color:unset}',"",{version:3,sources:["webpack://./src/templates/button.module.scss","webpack://./../shared/css/color.scss"],names:[],mappings:"AAkBE,kNACE,oBAAA,CACA,cAAA,CACA,kCAAA,CACA,qBAAA,CACA,iBAAA,CACA,oBAAA,CACA,qBAAA,CACA,eAAA,CACA,kBAAA,CAEA,4PACE,qBCXE,CDYF,cAAA,CAGF,yiBAGE,WAAA,CAKJ,yNACE,kBAAA,CACA,iBAAA,CAGF,yNACE,kBAAA,CACA,iBAAA,CAIF,kNACE,UCnCI,CDoCJ,wBCbK,CDcL,gBAAA,CACA,gDAAA,CAEA,4PACE,aClBG,CDmBH,oBCnBG,CDsBL,yiBAIE,wBAAA,CACA,yCAAA,CAIJ,kNACE,aC7DO,CD8DP,wBC3DY,CD4DZ,gDAAA,CAEA,yiBAEE,wBCjES,CDkET,yCAAA,CAIJ,kNACE,UCnEI,CDoEJ,wBCnDG,CDoDH,gBAAA,CACA,+CAAA,CAEA,4PACE,eAAA,CACA,aCzDC,CD0DD,oBC1DC,CD2DD,wBCxDU,CD2DZ,yiBAEE,aC9DS,CD+DT,wBC9DU,CD+DV,yCAAA,CAIJ,kNACE,UCxFI,CDyFJ,wBCrFG,CDsFH,gBAAA,CACA,+CAAA,CAEA,4PACE,eAAA,CACA,aC3FC,CD4FD,oBC5FC,CD6FD,wBCxFU,CD2FZ,yiBAEE,aCnFS,CDoFT,wBCnFU,CDoFV,yCAAA,CAIJ,kNACE,aCnHO,CDoHP,qBC9GI,CD+GJ,0CAAA,CAEA,4PACE,eAAA,CACA,wBCtHU,CDyHZ,yiBAEE,wBC3HU,CD4HV,yCAAA,CAIJ,kNACE,UC9HI,CD+HJ,qBC9EE,CD+EF,gBAAA,CACA,+CAAA,CAEA,4PACE,eAAA,CACA,UCpFA,CDqFA,iBCrFA,CDwFF,yiBAEE,qBCzFS,CD0FT,yCAAA,CAIJ,kNACE,UCjJI,CDkJJ,wBCtIK,CDuIL,gBAAA,CACA,+CAAA,CAEA,4PACE,eAAA,CACA,aC5IG,CD6IH,oBC7IG,CD8IH,wBC3IY,CD8Id,yiBAEE,aCjJW,CDkJX,wBCjJY,CDkJZ,yCAAA,CAIJ,kNACE,UCtKI,CDuKJ,wBCjGY,CDkGZ,gBAAA,CACA,+CAAA,CAEA,4PACE,eAAA,CACA,aCnLK,CDoLL,oBCjLU,CDkLV,wBClLU,CDqLZ,yiBAEE,wBCvLU,CDwLV,yCAAA,CAKJ,kNACE,WA3MoB,CA4MpB,iBAAA,CACA,kBAAA,CACA,gBAAA,CAGF,kNACE,WAjNkB,CAkNlB,iBAAA,CACA,kBAAA,CACA,gBAAA,CAGF,kNACE,WAvNmB,CAwNnB,iBAAA,CACA,kBAAA,CACA,gBAAA,CAGF,kNACE,WA7NkB,CA8NlB,gBAAA,CACA,iBAAA,CACA,gBAAA,CACA,iBAAA,CACA,OAAA,CAEA,4WACE,cAAA,CACA,KAAA,CAKJ,kNACE,gBAAA,CAGF,kNACE,aC/NG,CDgOH,cAAA,CACA,sBAAA,CACA,kCAAA,CACA,eAAA,CACA,SAAA,CACA,QAAA,CAEA,4PACE,sBAAA",sourcesContent:['@import "color.scss";\n\n// Note: Keep these constants in sync with Button.jsx.\n$button-height-default: 34px;\n$button-height-large: 40px;\n$button-height-narrow: 40px;\n$button-height-small: 20px;\n\n/* stylelint-disable selector-pseudo-class-no-unknown */\ndiv,\nbutton,\na,\na:link,\na:visited,\n// Global .header a styles override application.scss.\n:global(.header) a:link,\n:global(.header) a:visited {\n  /* stylelint-enable selector-pseudo-class-no-unknown */\n  &.main {\n    display: inline-block;\n    font-size: 12px;\n    font-family: "Gotham 4r", sans-serif;\n    border: 1px solid $border_gray;\n    border-radius: 3px;\n    text-decoration: none;\n    box-sizing: border-box;\n    overflow: hidden;\n    white-space: nowrap;\n\n    &:hover {\n      background-color: $white;\n      cursor: pointer;\n    }\n\n    &:disabled,\n    &[disabled] {\n      // Override the cursor:pointer on disabled elements.\n      cursor: auto;\n    }\n  }\n\n  // Note no "&" on these two, since they\'ll be on child elements.\n  .icon {\n    margin-right: 2.5px;\n    margin-left: 2.5px;\n  }\n\n  .textSpan {\n    margin-right: 2.5px;\n    margin-left: 2.5px;\n  }\n\n  // Button colors.\n  &.orange {\n    color: $white;\n    background-color: $orange;\n    font-weight: bold;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.63);\n\n    &:hover {\n      color: $orange;\n      border-color: $orange;\n    }\n\n    &:disabled,\n    &[disabled] {\n      // This color is in Mikes styleguide, but we dont use it anywhere else;\n      // and it might be changed by Mark soon - so just hard-coding the string.\n      background-color: #ffd27f;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.gray {\n    color: $charcoal;\n    background-color: $lightest_gray;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.73);\n\n    &:disabled,\n    &[disabled] {\n      background-color: $lighter_gray;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.blue {\n    color: $white;\n    background-color: $cyan;\n    font-weight: bold;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.4);\n\n    &:hover {\n      box-shadow: none;\n      color: $cyan;\n      border-color: $cyan;\n      background-color: $lightest_cyan;\n    }\n\n    &:disabled,\n    &[disabled] {\n      color: $lighter_cyan;\n      background-color: $lightest_cyan;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.teal {\n    color: $white;\n    background-color: $teal;\n    font-weight: bold;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.4);\n\n    &:hover {\n      box-shadow: none;\n      color: $teal;\n      border-color: $teal;\n      background-color: $lightest_teal;\n    }\n\n    &:disabled,\n    &[disabled] {\n      color: $lighter_cyan;\n      background-color: $lightest_cyan;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.white {\n    color: $charcoal;\n    background-color: $white;\n    box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.06);\n\n    &:hover {\n      box-shadow: none;\n      background-color: $lightest_gray;\n    }\n\n    &:disabled,\n    &[disabled] {\n      background-color: $lightest_gray;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.red {\n    color: $white;\n    background-color: $red;\n    font-weight: bold;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.4);\n\n    &:hover {\n      box-shadow: none;\n      color: $red;\n      border-color: $red;\n    }\n\n    &:disabled,\n    &[disabled] {\n      background-color: $lightest_red;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.purple {\n    color: $white;\n    background-color: $purple;\n    font-weight: bold;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.4);\n\n    &:hover {\n      box-shadow: none;\n      color: $purple;\n      border-color: $purple;\n      background-color: $lightest_purple;\n    }\n\n    &:disabled,\n    &[disabled] {\n      color: $lighter_purple;\n      background-color: $lightest_purple;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  &.green {\n    color: $white;\n    background-color: $level_perfect;\n    font-weight: bold;\n    box-shadow: inset 0 2px 0 0 rgba(255 255 255 / 0.4);\n\n    &:hover {\n      box-shadow: none;\n      color: $charcoal;\n      border-color: $lightest_gray;\n      background-color: $lightest_gray;\n    }\n\n    &:disabled,\n    &[disabled] {\n      background-color: $lightest_gray;\n      box-shadow: inset 0 2px 0 0 rgba(0 0 0 / 0.1);\n    }\n  }\n\n  // Button sizes.\n  &.default {\n    height: $button-height-default;\n    padding-left: 24px;\n    padding-right: 24px;\n    line-height: 34px;\n  }\n\n  &.large {\n    height: $button-height-large;\n    padding-left: 30px;\n    padding-right: 30px;\n    line-height: 40px;\n  }\n\n  &.narrow {\n    height: $button-height-narrow;\n    padding-left: 10px;\n    padding-right: 10px;\n    line-height: 40px;\n  }\n\n  &.small {\n    height: $button-height-small;\n    padding-left: 5px;\n    padding-right: 5px;\n    line-height: 20px;\n    position: relative;\n    top: 4px;\n\n    .icon {\n      font-size: 12px;\n      top: 0;\n    }\n  }\n\n  // Must be below sizes, since we want it to have precedence for line-height.\n  &.updated {\n    line-height: 12px;\n  }\n\n  &.textButton {\n    color: $teal;\n    border-width: 0;\n    background-color: unset;\n    font-family: "Gotham 5r", sans-serif;\n    box-shadow: none;\n    padding: 0;\n    margin: 0;\n\n    &:hover {\n      background-color: unset;\n    }\n  }\n}\n',"// colors from https://www.dropbox.com/s/ycjiwt8vxlmv2ih/Code.org_stylesheet_v2_09.05.13.pdf\n\n// Please keep this file simple; it should only contain color definitions\n//   and aliases.  Variables defined in this file are exported to\n//   apps/src/color.js during the apps build process.\n\n$black: #000;\n$background_black: #121416;\n$dark_gray: #2D3139;\n$darkest_gray: #272822;\n$dark_slate_gray: #282c34;\n$darkest_slate_gray: #25292d;\n$dark_charcoal: #4d575f;\n$charcoal: #5b6770;\n$light_gray: #949ca2;\n$lighter_gray: #c6cacd;\n$lightest_gray: #e7e8ea;\n$background_gray: #f2f2f2;\n$dimgray: #696969;\n$white: #fff;\n$default_blue: #3670b3;\n\n$dark_teal: #0094a3;\n$teal: #00adbc;\n$applab_button_teal: #1abc9c;\n$light_teal: #59cad3;\n$lightish_teal: #80d6de;\n$lighter_teal: #a6e3e8;\n$lightest_teal: #d9f3f5;\n\n$dark_purple: #5c3f7f;\n$purple: #7665a0;\n$light_purple: #a69bc1;\n$lighter_purple: #cfc9de;\n$lightest_purple: #ebe8f1;\n\n$cyan: #0094ca;\n$light_cyan: #59b9dc;\n$lighter_cyan: #a6daed;\n$lightest_cyan: #d9eff7;\n$almost_white_cyan: #f5fcff;\n\n$orange: #ffa400;\n$light_orange: #ffc459;\n$lighter_orange: #ffe0a6;\n$lightest_orange: #fff2d9;\n$dark_orange: #ff8600;\n\n$green: #b9bf15;\n$light_green: #d1d567;\n$lighter_green: #e7e9ad;\n$lightest_green: #f5f5dc;\n$highlight_green: #8afc9b;\n\n$yellow: #ffb81d;\n$light_yellow: #ffdb74;\n$lighter_yellow: #ffebb5;\n$lightest_yellow: #fff7df;\n\n$goldenrod: #daa520;\n\n$header_text: $white;\n$bkgnd_color: $teal;\n$inset_color: $lighter_gray;\n$dark_color: $purple;\n$hdr_color: $purple;\n\n// Some extra colors.\n$red: #c00;\n$lightest_red: #fcc;\n$dark_red: #d62911;\n$realgreen: #008000;\n$realyellow: #ff0;\n$mustardyellow: #efcd1c;\n$twitter_blue: #00aced;\n$facebook_blue: #3b5998;\n$microsoft_blue: #2a5cb2;\n$dark_blue: #00647f;\n$google_red: #a5201a;\n$blockly_flyout_gray: #ddd;\n$default_text: #333;\n$border_gray: #bbb;\n$border_light_gray: #d8d8d8;\n$table_header: #ececec;\n$table_light_row: #fcfcfc;\n$table_dark_row: #f4f4f4;\n\n// Progress colors.\n$level_submitted: $purple;\n$level_perfect: rgb(14, 190, 14);\n$level_passed: rgb(159, 212, 159);\n$level_attempted: $realyellow;\n$level_not_tried: #fefefe;\n$level_current: $orange;\n$level_review_rejected: $red;\n$level_review_accepted: rgb(11, 142, 11); // TODO: $level_passed;\n$assessment: $cyan;\n$workspace_running_background: #e5e5e5;\n\n// Experimental Sprite Lab validation colors.\n$dark_purple: #682A77;\n$bright_green: #0ebe0e;\n$neon_pink: #e9118f;\n\n// Links (used in apps).\n$link_color: #0596ce;\n\n// Shadow.\n$shadow: rgba(0, 0, 0, 0.3);\n\n// Colors that are taken from bootstrap, and not necessarily part of our core theme.\n$bootstrap_button_blue: #337ab7;\n$bootstrap_button_red: #d9534f;\n$bootstrap_error_background: #f2dede;\n$bootstrap_error_text: #b94a48;\n$bootstrap_error_border: #ebccd1;\n$bootstrap_warning_background: #fcf8e3;\n$bootstrap_warning_text: #c09853;\n$bootstrap_warning_border: #faebcc;\n$bootstrap_border_color: #cccccc;\n$bootstrap_success_background: #dff0d8;\n$bootstrap_success_text: #468847;\n$bootstrap_success_border: #d6e9c6;\n\n// Colors taken from droplet, not part of our core theme.\n$droplet_light_green: #d3e965;\n$droplet_blue: #64b5f6;\n$droplet_bright_blue: #19c3e1;\n$droplet_yellow: #fff176;\n$droplet_orange: #ffb74d;\n$droplet_red: #f78183;\n$droplet_cyan: #4dd0e1;\n$droplet_pink: #f57ac6;\n$droplet_purple: #bb77c7;\n$droplet_green: #68d995;\n$droplet_white: $white;\n\n// Oceans: deep blue background.\n$oceans_deep_blue: rgb(2, 0, 28);\n$music_black: #000\n"],sourceRoot:""}]),a.locals={main:"RgEAWGSURVHXgsym55ZC",icon:"WXbyAByPFDIxOlQjhjRA",textSpan:"C9TrlUErKq7GDcQxySiL",orange:"UXXxyfgzjsl53vaXMLzA",gray:"Fw6lzpqy3BhOLIEOJd4Q",blue:"SogDtJ8Sr4CHsI4oRqoJ",teal:"thn9Ds5ihZL991wq4hjF",white:"SfFcj2dNRCSSkdsG0JWm",red:"oroutysfFuyrHT44d9O6",purple:"CleFRArPgxlGFWnGt9jX",green:"y1VYRnECR1w8hEpep3vF",default:"SpnpMKQTi1rIE2H6S2st",large:"RZjpqeKsBXOFJve7iNR5",narrow:"XtN8qpA6DyEcHb1YIz2d",small:"Yq5AYtW7_as0WLuoLhnb",updated:"pUlkLwlwitRrefPiTBSj",textButton:"C7_DF6o_uvgjGmTBmAdX"};const s=a},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=n(1),o=a(n(500)),i=a(n(614));a(n(615));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.store=n.store,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component);t.default=s,s.propTypes={store:i.default.isRequired,children:o.default.element.isRequired},s.childContextTypes={store:i.default.isRequired}},(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},w=Boolean(e),E=e||h,O=void 0;O="function"==typeof t?t:t?(0,s.default)(t):m;var S=n||g,T=c.pure,C=void 0===T||T,k=c.withRef,A=void 0!==k&&k,P=C&&S!==g,x=_++;return function(e){var t="Connect("+y(e)+")";var n=function(n){function i(e,r){d(this,i);var o=f(this,n.call(this,e,r));o.version=x,o.store=e.store||r.store,(0,u.default)(o.store,'Could not find "store" in either the context or props of "'+t+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+t+'".');var a=o.store.getState();return o.state={storeState:a},o.clearCache(),o}return p(i,n),i.prototype.shouldComponentUpdate=function(){return!C||this.haveOwnPropsChanged||this.hasStoreStateChanged},i.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState();return this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n)},i.prototype.configureFinalMapState=function(e,t){var n=E(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:E,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},i.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch;return this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n)},i.prototype.configureFinalMapDispatch=function(e,t){var n=O(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:O,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},i.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,a.default)(e,this.stateProps))&&(this.stateProps=e,!0)},i.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,a.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},i.prototype.updateMergedPropsIfNeeded=function(){var e,t,n,r=(e=this.stateProps,t=this.dispatchProps,n=this.props,S(e,t,n));return!(this.mergedProps&&P&&(0,a.default)(r,this.mergedProps))&&(this.mergedProps=r,!0)},i.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},i.prototype.trySubscribe=function(){w&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},i.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},i.prototype.componentDidMount=function(){this.trySubscribe()},i.prototype.componentWillReceiveProps=function(e){C&&(0,a.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},i.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},i.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},i.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!C||t!==e){if(C&&!this.doStatePropsDependOnOwnProps){var n=b(this.updateStatePropsIfNeeded,this);if(!n)return;n===v&&(this.statePropsPrecalculationError=v.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},i.prototype.getWrappedInstance=function(){return(0,u.default)(A,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},i.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,i=this.haveStatePropsBeenPrecalculated,a=this.statePropsPrecalculationError,s=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,a)throw a;var l=!0,u=!0;C&&s&&(l=n||t&&this.doStatePropsDependOnOwnProps,u=t&&this.doDispatchPropsDependOnOwnProps);var c=!1,d=!1;i?c=!0:l&&(c=this.updateStatePropsIfNeeded()),u&&(d=this.updateDispatchPropsIfNeeded());return!(!!(c||d||t)&&this.updateMergedPropsIfNeeded())&&s?s:(this.renderedElement=A?(0,o.createElement)(e,r({},this.mergedProps,{ref:"wrappedInstance"})):(0,o.createElement)(e,this.mergedProps),this.renderedElement)},i}(o.Component);return n.displayName=t,n.WrappedComponent=e,n.contextTypes={store:i.default},n.propTypes={store:i.default},(0,l.default)(n,e)}};var o=n(1),i=c(n(614)),a=c(n(782)),s=c(n(783)),l=(c(n(615)),c(n(888)),c(n(501))),u=c(n(616));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){return{}},m=function(e){return{dispatch:e}},g=function(e,t,n){return r({},n,e,t)};function y(e){return e.displayName||e.name||"Component"}var v={value:null};function b(e,t){try{return e.apply(t)}catch(n){return v.value=n,v}}var _=0},(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}},(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){return function(t){return(0,r.bindActionCreators)(e,t)}};var r=n(462)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.style=t.default=t.BUTTON_TYPES=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(103)),a=u(n(20)),s=["type","children","size"],l=["arrow"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=58,p={base:{borderWidth:1,borderStyle:"solid",minWidth:100,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,":hover":{boxShadow:"2px 2px 5px rgba(0, 0, 0, 0.3)"}},large:{fontSize:35,lineHeight:"normal",paddingLeft:14,paddingRight:14},arrow:{base:{position:"relative",height:116,textAlign:"left",display:"inline-block"},left:{paddingLeft:f},right:{paddingRight:f}},arrowHead:{base:{position:"absolute",width:0,height:0,borderColor:"transparent",borderWidth:f,borderStyle:"solid"},left:function(e){return{left:-48,borderRightColor:e}},right:function(e){return{right:-48,borderLeftColor:e}}}};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.white;return{backgroundColor:e,borderColor:e,color:t}}t.style=p,p.withArrow={base:{position:"relative",top:(116-p.base.borderWidth-20-44)/2,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,":hover":{boxShadow:"none"}},left:{paddingLeft:0},right:{paddingRight:0}};var m={default:{style:{backgroundColor:a.default.white,borderColor:a.default.charcoal,color:a.default.charcoal}},cancel:{style:h(a.default.green)},primary:{style:h(a.default.orange)},danger:{style:h(a.default.red)},action:{style:h(a.default.purple)}};t.BUTTON_TYPES=m;var g=(0,i.default)((function(e){var t=e.type,n=e.children,o=e.size,i=d(e,s),a=p[o||"normal"],l=m[t],u=[p.base,l.style,a];return r.default.createElement("button",c({type:"button"},i,{style:[u,i.style]}),n)}));g.propTypes={type:o.default.oneOf(Object.keys(m)),children:o.default.node,size:o.default.oneOf(["normal","large"])};var y=(0,i.default)((function(e){var t=e.arrow,n=d(e,l),o=m[n.type];return r.default.createElement("div",{style:[p.arrow.base,p.arrow[t],n.style]},r.default.createElement("div",{style:[p.arrowHead.base,p.arrowHead[t](o.style.backgroundColor)]}),r.default.createElement(g,c({},n,{style:[p.withArrow.base,p.withArrow[t]]})))}));y.propTypes=Object.assign({},g.propTypes,{arrow:o.default.oneOf(["left","right"]).isRequired});var v=(0,i.default)((function(e){return e.arrow?r.default.createElement(y,e):r.default.createElement(g,e)}));v.propTypes=Object.assign({},g.propTypes,{arrow:o.default.oneOf(["left","right"])});var b=v;t.default=b},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(779),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableLayoutStyles=t.sortableOptions=void 0;var r=i(n(20)),o=i(n(452));function i(e){return e&&e.__esModule?e:{default:e}}var a={table:{borderWidth:1,borderStyle:"solid",borderColor:r.default.border_gray,width:o.default["content-width"],backgroundColor:r.default.table_light_row},cell:{border:"1px solid",borderColor:r.default.border_light_gray,padding:10,fontSize:14},headerCell:{backgroundColor:r.default.table_header,fontWeight:"bold",borderColor:r.default.border_light_gray,borderStyle:"solid",borderBottomWidth:1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:1,paddingTop:20,paddingBottom:20,color:r.default.charcoal,textAlign:"inherit"},link:{color:r.default.teal,fontFamily:'"Gotham 5r", sans-serif',fontSize:14,textDecoration:"none"},unsortableHeader:{paddingLeft:25},unsortableHeaderRTL:{paddingRight:25}};t.tableLayoutStyles=a;t.sortableOptions={default:{color:"rgba(0, 0, 0, 0.2 )"}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(20)),a=n(33);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e={main:{position:"relative",zIndex:1e3,marginTop:20,marginLeft:(0,a.valueOr)(this.props.sideMargin,50),marginRight:(0,a.valueOr)(this.props.sideMargin,50)},typeSpecific:{error:{borderColor:i.default.bootstrap_error_border,backgroundColor:i.default.bootstrap_error_background,color:i.default.bootstrap_error_text},warning:{borderColor:i.default.bootstrap_warning_border,backgroundColor:i.default.bootstrap_warning_background,color:i.default.black},notification:{borderColor:i.default.light_green,backgroundColor:i.default.lighter_green,color:i.default.realgreen}},child:{padding:(0,a.valueOr)(this.props.childPadding,"8px 35px 8px 14px"),marginBottom:(0,a.valueOr)(this.props.bottomMargin,20),textShadoow:"0 1px 0 rgba(255, 255, 255, 0.5)",border:"1px solid",borderRadius:4},closeButton:{margin:0,padding:0,cursor:"pointer",background:"transparent",border:0,WebkitAppearance:"none",float:"right",fontSize:20,fontWeight:"bold",lineHeight:"20px",color:i.default.black,textShadow:"0 1px 0 white",opacity:.2,position:"relative",top:-2,right:-21}},t=u(u({},e.child),e.typeSpecific[this.props.type]),n="";return this.props.closeDelayMillis?setTimeout(this.props.onClose,this.props.closeDelayMillis):n=o.default.createElement("button",{type:"button",style:e.closeButton,onClick:this.props.onClose},o.default.createElement("span",null,"×")),o.default.createElement("div",{style:e.main},o.default.createElement("div",{style:t},n,this.props.children))},r}(o.default.Component);t.default=f,d(f,"propTypes",{children:r.default.element.isRequired,type:r.default.oneOf(["error","warning","notification"]).isRequired,onClose:r.default.func.isRequired,closeDelayMillis:r.default.number,sideMargin:r.default.number,bottomMargin:r.default.number,childPadding:r.default.string}),e.exports=t.default},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(53)),o=s(n(1)),i=s(n(2)),a=s(n(103));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var a=i.prototype;return a.shouldComponentUpdate=function(){return this.props.canUpdate},a.componentDidMount=function(){"function"==typeof this.props.contentFunction&&(this.refs.root.innerHTML=this.props.contentFunction())},a.getRoot=function(){return this.refs.root},a.componentWillUnmount=function(){throw new Error("Unmounting a ProtectedStatefulDiv is not allowed.")},a.render=function(){return o.default.createElement("div",l({},r.default.omit(this.props,["contentFunction","radiumConfigContext","styleKeeperContext","canUpdate"]),{ref:"root"}))},i}(o.default.Component);c(d,"propTypes",{contentFunction:i.default.func,children:i.default.node,canUpdate:i.default.bool}),c(d,"defaultProps",{canUpdate:!1});var f=(0,a.default)(d);t.default=f,e.exports=t.default},,(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=/[A-Z]/g,o=/^ms-/,i={};function a(e){return"-"+e.toLowerCase()}const s=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,a);return i[e]=o.test(t)?"-"+t:t}},e=>{"use strict";e.exports=function(e){var t=String(e),n=t.length;for(;"\n"===t.charAt(--n););return t.slice(0,n+1)}},(e,t,n)=>{"use strict";var r=n(942);e.exports=function(e){return r(e).toLowerCase()}},e=>{"use strict";e.exports=function(e,t){return e.indexOf("<",t)}},e=>{"use strict";e.exports=function(e,t){var n=e.indexOf("[",t),r=e.indexOf("![",t);if(-1===r)return n;return n<r?n:r}},e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},,(e,t)=>{t.load=function(e,t){var n=function(n){return void 0!==n?e("media/skins/"+t+"/"+n):null};return{id:t,assetUrl:n,avatar:n("avatar.png"),avatar_2x:n("avatar_2x.png"),goal:n("goal.png"),obstacle:n("obstacle.png"),smallStaticAvatar:n("small_static_avatar.png"),staticAvatar:n("static_avatar.png"),winAvatar:n("win_avatar.png"),failureAvatar:n("failure_avatar.png"),decorationAnimation:n("decoration_animation.png"),decorationAnimation_2x:n("decoration_animation_2x.png"),repeatImage:e("media/common_images/repeat-arrows.png"),leftArrow:e("media/common_images/moveleft.png"),downArrow:e("media/common_images/movedown.png"),upArrow:e("media/common_images/moveup.png"),rightArrow:e("media/common_images/moveright.png"),upLeftArrow:e("media/common_images/moveupleft.png"),upRightArrow:e("media/common_images/moveupright.png"),downLeftArrow:e("media/common_images/movedownleft.png"),downRightArrow:e("media/common_images/movedownright.png"),leftJumpArrow:e("media/common_images/jumpleft.png"),downJumpArrow:e("media/common_images/jumpdown.png"),upJumpArrow:e("media/common_images/jumpup.png"),rightJumpArrow:e("media/common_images/jumpright.png"),upLeftJumpArrow:e("media/common_images/jumpupleft.png"),upRightJumpArrow:e("media/common_images/jumpupright.png"),downLeftJumpArrow:e("media/common_images/jumpdownleft.png"),downRightJumpArrow:e("media/common_images/jumpdownright.png"),northLineDraw:e("media/common_images/draw-north.png"),southLineDraw:e("media/common_images/draw-south.png"),eastLineDraw:e("media/common_images/draw-east.png"),westLineDraw:e("media/common_images/draw-west.png"),northwestLineDraw:e("media/common_images/draw-north-west.png"),northeastLineDraw:e("media/common_images/draw-north-east.png"),southwestLineDraw:e("media/common_images/draw-south-west.png"),southeastLineDraw:e("media/common_images/draw-south-east.png"),shortLineDraw:e("media/common_images/draw-short.png"),longLineDraw:e("media/common_images/draw-long.png"),shortLineDrawRight:e("media/common_images/draw-short-right.png"),longLineDrawRight:e("media/common_images/draw-long-right.png"),longLine:e("media/common_images/move-long.png"),shortLine:e("media/common_images/move-short.png"),soundIcon:e("media/common_images/play-sound.png"),clickIcon:e("media/common_images/when-click-hand.png"),clockIcon:e("media/common_images/clock-icon.png"),startIcon:e("media/common_images/when-run.png"),runArrow:e("media/common_images/run-arrow.png"),endIcon:e("media/common_images/end-icon.png"),speedFast:e("media/common_images/speed-fast.png"),speedMedium:e("media/common_images/speed-medium.png"),speedSlow:e("media/common_images/speed-slow.png"),scoreCard:e("media/common_images/increment-score-75percent.png"),randomPurpleIcon:e("media/common_images/random-purple.png"),startSound:[n("start.mp3"),n("start.ogg")],winSound:[n("win.mp3"),n("win.ogg")],failureSound:[n("failure.mp3"),n("failure.ogg")]}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(843)),i=h(n(980)),a=g(n(33)),s=h(n(850)),l=n(136),u=h(n(905)),c=h(n(866)),d=n(865),f=h(n(13)),p=n(764);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={RUN:0,IN:1,OVER:2,OUT:3},b={Program:!0,BlockStatement:!0,SwitchStatement:!0};function _(e){try{e.interpreter.step()}catch(t){return t}}function w(e,t){return-1!==e&&!t}function E(e){return e.loc&&!!e.loc.source}function O(e,t){return e>=0&&e<t}var S=function(){function e(e){var t=this,n=e.studioApp,r=e.shouldRunAtMaxSpeed,o=e.maxInterpreterStepsPerTick,a=e.customMarshalGlobalProperties,s=e.customMarshalBlockedProperties,u=e.customMarshalObjectList,d=e.logExecution;y(this,"nativeGetCallback",(function(){t.startedHandlingEvents=!0;var e=t.eventQueue.shift();return void 0===e&&t.yield(),e})),y(this,"nativeSetCallbackRetVal",(function(e){0===t.eventQueue.length&&(t.seenReturnFromCallbackDuringExecution=!0,t.lastCallbackRetVal=e,t.paused&&(t.nextStep=v.RUN,t.onNextStepChanged.notifyObservers(),t.handlePauseContinue())),t.runUntilCallbackReturn||void 0===t.lastCallbackRetVal||(t.onExecutionWarning.notifyObservers("Function passed to onEvent() has taken too long - the return value was ignored."),t.shouldRunAtMaxSpeed()||t.onExecutionWarning.notifyObservers("  (try moving the speed slider to its maximum value)"))})),this.studioApp=n,this.shouldRunAtMaxSpeed=r||function(){return!0},this.maxInterpreterStepsPerTick=o||1e4,this.customMarshaler=new c.default({globalProperties:a,blockedProperties:s,objectList:u}),this.onNextStepChanged=new i.default,this._runStateUpdater=this.onNextStepChanged.register((function(){(0,l.getStore)().dispatch((0,p.setIsDebuggerPaused)(t.paused,t.nextStep))})),this.onPause=new i.default,this.onExecutionError=new i.default,this.onExecutionWarning=new i.default,this.paused=!1,this.yieldExecution=!1,this.startedHandlingEvents=!1,this.executionError=null,this.nextStep=v.RUN,this.maxValidCallExpressionDepth=0,this.isExecuting=!1,this.callExpressionSeenAtDepth=[],this.stoppedAtBreakpointRows=[],this.logExecution=d,this.executionLog=[]}var t=e.prototype;return t.addCustomMarshalObject=function(e){this.customMarshaler.objectList.push(e)},t.parse=function(e){var t=this;if(this.calculateCodeInfo(e),!this.studioApp.hideSource&&this.studioApp.editor){var n=this.studioApp.editor.aceEditor.getSession();this.isBreakpointRow=function(e){return o.isAceBreakpointRow(n,e)}}else this.isBreakpointRow=function(){return!1};e.enableEvents&&(this.eventQueue=[],e.code+="\n;while(true){var __jsCB=getCallback();if(__jsCB){setCallbackRetVal(__jsCB.fn.apply(null,__jsCB.arguments || null));}}",u.default.createNativeFunctionFromInterpreterFunction=function(e){var n=function(){if(t.initialized()){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t.eventQueue.push({fn:e,arguments:r}),!t.isExecuting)return t.executeInterpreter(!1,!0),t.lastCallbackRetVal}};return e&&e.node&&e.node.id&&(n.funcName=e.node.id.name),n});try{new u.default("",this.customMarshaler,(function(n,r){t.interpreter=n,t.globalScope=r,o.initJSInterpreter(n,e.blocks,e.blockFilter,r,e.globalFunctions),e.initGlobals&&e.initGlobals(),n.setProperty(r,"getCallback",n.createNativeFunction(n.makeNativeMemberFunction({nativeFunc:t.nativeGetCallback,maxDepth:5}))),n.setProperty(r,"setCallbackRetVal",n.createNativeFunction(n.makeNativeMemberFunction({nativeFunc:t.nativeSetCallbackRetVal})))}));var r=null;Array.isArray(e.projectLibraries)&&e.projectLibraries.forEach((function(e){try{r=s.default.parse(e.code,{ecmaVersion:5,locations:!0,sourceFile:e.name,program:r})}catch(t){throw t.message=f.default.errorParsingLibrary({libraryName:e.name,errorMessage:t.message}),t}})),this.interpreter.appendCode(e.code,{program:r}),this.interpreter.populateScope_(this.interpreter.ast,this.globalScope)}catch(i){this.executionError=i,this.handleError()}},e.getFunctionsAndMetadata=function(e){function t(e,t){return e.find((function(e){return e.endLocation===t-1}))}var n=[],r=[],o={onComment:function(e,t,n,o){r.push({isBlockComment:e,text:t,startLocation:n,endLocation:o})}};return e=function(e){return e.split("\n").map((function(e){return e.replace(/\s+$/gm,"")})).join("\n")}(e),(0,d.generateAST)(e,o).body.filter((function(e){return"FunctionDeclaration"===e.type})).forEach((function(e){var o="",i=t(r,e.start);if(i&&i.isBlockComment)"*"===(o=i.text)[0]&&(o=o.substr(1).split("\n * ").join("\n"));else for(;i;)o=i.text.trim()+"\n"+o,i=t(r,i.startLocation);o=o.trim();var a=e.params.map((function(e){return e.name}));n.push({functionName:e.id.name,parameters:a,comment:o})})),n},t.calculateCodeInfo=function(e){var t=e.code,n=e.userCodeStartOffset,r=void 0===n?0:n;this.codeInfo={},this.codeInfo.code=t,this.codeInfo.userCodeStartOffset=r,this.codeInfo.userCodeLength=t.length-r,this.codeInfo.cumulativeLength=o.calculateCumulativeLength(t.slice(r))},t.initialized=function(){return!!this.interpreter},t.deinitialize=function(){this.onNextStepChanged.unregister(this._runStateUpdater),this.interpreter=null},t.yield=function(){this.yieldExecution=!0},t.findStoppedAtBreakpointRow=function(e,t){for(var n=0;n<this.stoppedAtBreakpointRows.length;n++){var r=this.stoppedAtBreakpointRows[n];if(r.scope===e&&(void 0===t||t===r.row))return r}},t.replaceStoppedAtBreakpointRowForScope=function(e,t){if("number"!=typeof t||t<0)throw new TypeError("Row "+t+" is not a valid row in user code.");for(var n=0;n<this.stoppedAtBreakpointRows.length;n++){var r=this.stoppedAtBreakpointRows[n];if(r.scope===e)return void(r.row=t)}this.stoppedAtBreakpointRows.unshift({row:t,scope:e})},t.removeStoppedAtBreakpointRowForScope=function(e){for(var t=0;t<this.stoppedAtBreakpointRows.length;t++){if(this.stoppedAtBreakpointRows[t].scope===e)return void this.stoppedAtBreakpointRows.splice(t,1)}},t.isProgramDone=function(){if(!this.interpreter)return!0;var e=this.interpreter.peekStackFrame();return this.executionError||!e||"Program"===e.node.type&&e.done},t.executeInterpreter=function(e,t){if(this.isExecuting)console.error("Attempt to call executeInterpreter while already executing ignored");else{this.isExecuting=!0,this.runUntilCallbackReturn=t,t&&delete this.lastCallbackRetVal,this.yieldExecution=!1,this.seenReturnFromCallbackDuringExecution=!1;var n=this.paused&&this.nextStep===v.IN&&e,r=!1;if(this.paused)switch(this.nextStep){case v.RUN:return void(this.isExecuting=!1);case v.OUT:if(this.interpreter&&void 0===this.stepOutToStackDepth){this.stepOutToStackDepth=0;for(var i=this.maxValidCallExpressionDepth;i>0;i--)if(this.callExpressionSeenAtDepth[i]){this.stepOutToStackDepth=i;break}}}for(var a,s,l=!1,u=!1,c=!1,d=0;d<this.maxInterpreterStepsPerTick||c;d++){r=this.shouldRunAtMaxSpeed();var f=void 0,p=void 0;f=this.studioApp.hideSource&&r?function(){return-1}:this.studioApp.hideSource||r?this.getUserCodeLine:this.selectCurrentCode;var h=this.interpreter.getScope();if(u&&!c||l&&!c&&!r||this.yieldExecution||this.interpreter.paused_||t&&this.seenReturnFromCallbackDuringExecution)break;if(!(a=w(s=f.call(this),p=this.getLibraryName()))||c||this.atInterstitialNode||!(n||this.isBreakpointRow(s)&&!this.findStoppedAtBreakpointRow(h,s))){if(a&&!this.findStoppedAtBreakpointRow(h,s)&&this.removeStoppedAtBreakpointRowForScope(h),a&&c&&this.replaceStoppedAtBreakpointRowForScope(h,s),this.logExecution&&this.logStep_(),this.executionError=_(this),this.interpreter.getStackDepth()>1e4&&(this.executionError=new Error("Maximum call stack size exceeded.")),this.executionError||!this.interpreter.getStackDepth()){if(this.executionError){var m=a||!!p?s+1:void 0;this.handleError(m,p)}return void(this.isExecuting=!1)}var g=this.interpreter.peekStackFrame(),y=g.node.type;this.atInterstitialNode=b.hasOwnProperty(y),a&&!l&&(l=this.atInterstitialNode||g.done_||"UpdateExpression"===g.node.type&&g.doneLeft_);for(var E=this.interpreter.getStackDepth(),O=E+1;O<=this.maxValidCallExpressionDepth;O++)this.callExpressionSeenAtDepth[O]=!1;this.maxValidCallExpressionDepth=E;var S=a&&"CallExpression"===this.interpreter.peekStackFrame().node.type;if(S&&(this.callExpressionSeenAtDepth[E]=!0),this.paused){if(S&&void 0===this.firstCallStackDepthThisStep&&(this.firstCallStackDepthThisStep=E),!l&&a&&this.nextStep===v.IN&&E>this.firstCallStackDepthThisStep&&(u=!0),l||u){var T=c;c=o.isNextStepSafeWhileUnwinding(this.interpreter),T&&!c&&((a=w(s=f.call(this),p=this.getLibraryName()))||(c=!0))}if((u||l)&&!c)if(this.nextStep===v.OUT&&E>this.stepOutToStackDepth);else if(!(this.nextStep===v.OVER&&void 0!==this.firstCallStackDepthThisStep&&E>this.firstCallStackDepthThisStep)){u=!0,this.nextStep=v.RUN,this.onNextStepChanged.notifyObservers(),a&&this.replaceStoppedAtBreakpointRowForScope(this.interpreter.getScope(),s),delete this.stepOutToStackDepth,delete this.firstCallStackDepthThisStep;break}}}else this.paused?(this.nextStep=v.RUN,this.onNextStepChanged.notifyObservers()):this.onPause.notifyObservers(),this.replaceStoppedAtBreakpointRowForScope(h,s),u=!0,c=o.isNextStepSafeWhileUnwinding(this.interpreter)}r&&(u?this.selectCurrentCode():this.studioApp.editor&&o.clearDropletAceHighlighting(this.studioApp.editor)),this.isExecuting=!1}},t.isOffsetInUserCode_=function(e){return void 0!==e&&void 0!==this.codeInfo&&O(e-this.codeInfo.userCodeStartOffset,this.codeInfo.userCodeLength)},e.getMemberExpressionName_=function(e){var t,n;switch(e.object.type){case"MemberExpression":t=this.getMemberExpressionName_(e.object);break;case"Identifier":t=e.object.name;break;default:throw"Unexpected MemberExpression node object type: "+e.object.type}switch(e.property.type){case"Identifier":n="."+e.property.name;break;case"Literal":n="["+e.property.value+"]";break;default:throw"Unexpected MemberExpression node property type: "+e.object.type}return t+n},t.logStep_=function(){var t=this.interpreter.peekStackFrame(),n=t.node;if(this.isOffsetInUserCode_(n.start)||E(n))if("CallExpression"!==n.type&&"NewExpression"!==n.type||!t.doneCallee_||t.doneExec_||n.arguments[t.n_||0]){if("ForStatement"===n.type){switch(t.mode_||0){case o.ForStatementMode.INIT:this.executionLog.push("[forInit]");break;case o.ForStatementMode.TEST:this.executionLog.push("[forTest]");break;case o.ForStatementMode.UPDATE:this.executionLog.push("[forUpdate]")}}}else switch(n.callee.type){case"Identifier":this.executionLog.push(n.callee.name+":"+n.arguments.length);break;case"MemberExpression":this.executionLog.push(e.getMemberExpressionName_(n.callee)+":"+n.arguments.length);break;default:throw"Unexpected callee node property type: "+n.object.type}},t.getLibraryName=function(){var e;if(this.interpreter.peekStackFrame()){var t=this.interpreter.peekStackFrame().node;t.loc&&(e=t.loc.source)}return e},t.handleError=function(e,t){!e&&this.executionError instanceof SyntaxError&&(e=this.executionError.loc.line,o.selectEditorRowColError(this.studioApp.editor,e-1,this.executionError.loc.column)),this.selectCurrentCode("ace_error"),e||(e=1+this.getNearestUserCodeLine());var n=String(this.executionError);if(t&&(n=f.default.library()+": "+t+": "+n),this.executionError instanceof ReferenceError&&this.executionError.message){var r=/(.*) is not defined/.exec(this.executionError.message);if(r&&r[1]){var i=r[1];n="__"===i?"It looks like you left one of the parameters empty.":"Oops, we can’t figure out what ".concat(i," is - perhaps you ")+"meant the string “".concat(i,"” with quotes? If this is meant to be a ")+"variable, make sure you declared a variable: var ".concat(i)}}this.onExecutionError.notifyObservers(this.executionError,e,n,t)},t.createPrimitive=function(e){if(this.interpreter)return this.interpreter.createPrimitive(e)},t.selectCurrentCode=function(e){return this.studioApp.hideSource||!this.studioApp.editCode?-1:o.selectCurrentCode(this.interpreter,this.codeInfo.cumulativeLength,this.codeInfo.userCodeStartOffset,this.codeInfo.userCodeLength,this.studioApp.editor,e)},t.getUserCodeLine=function(){var e=-1;if(this.interpreter.peekStackFrame()){var t=this.interpreter.peekStackFrame().node;if(E(t))return t.loc.start.line-1;var n=t.start-this.codeInfo.userCodeStartOffset;O(n,this.codeInfo.userCodeLength)&&(e=o.aceFindRow(this.codeInfo.cumulativeLength,0,this.codeInfo.cumulativeLength.length,n))}return e},t.getNearestUserCodeLine=function(){if(this.studioApp.hideSource)return-1;for(var e=-1,t=0;t<this.interpreter.getStackDepth();t++){var n=this.interpreter.peekStackFrame(t).node;if(E(n))return n.loc.start.line-1;var r=n.start-this.codeInfo.userCodeStartOffset;if(O(r,this.codeInfo.userCodeLength)){e=o.aceFindRow(this.codeInfo.cumulativeLength,0,this.codeInfo.cumulativeLength.length,r);break}}return e},t.createGlobalProperty=function(e,t,n){var r;if("function"==typeof t){var o=this.interpreter.makeNativeMemberFunction({nativeFunc:t,nativeParentObj:n});r=this.interpreter.createNativeFunction(o)}else r=this.interpreter.marshalNativeToInterpreter(t,a.valueOr(n,window));this.interpreter.setPropertyWithoutCustomMarshaling(this.globalScope,e,r)},t.getValueFromScope=function(e){for(var t=this.interpreter.getScope();t;){if(this.interpreter.hasProperty(t,e))return this.interpreter.getProperty(t,e);t=t.parentScope}throw new ReferenceError("Unknown identifier: "+e)},t.getWatchValueFromNode_=function(e){if("MemberExpression"===e.type)return this.getValueFromMemberExpression_(e);if("Identifier"===e.type)return this.getValueFromScope(e.name);throw new Error("Invalid")},t.getValueFromMemberExpression_=function(e){var t=this.getWatchValueFromNode_(e.object);return"Identifier"===e.property.type?this.interpreter.getValue([t,e.property.name]):"Literal"===e.property.type?this.interpreter.getValue([t,this.interpreter.createPrimitive(e.property.value)]):void 0},t.evaluateWatchExpression=function(e){var t;try{var n=s.default.parse(e);if("Program"!==n.type||"ExpressionStatement"!==n.body[0].type)throw new Error("Invalid");t=this.getWatchValueFromNode_(n.body[0].expression)}catch(r){return r instanceof Error?r:new Error(r)}return this.interpreter.marshalInterpreterToNative(t)},t.findGlobalFunction=function(e){var t=this.interpreter.getProperty(this.globalScope,e);if("function"===t.type)return t},t.getGlobalFunctionNames=function(){var e=["eval","getCallback","setCallbackRetVal"],t=[];for(var n in this.globalScope.properties){var r=this.globalScope.properties[n];"function"!==r.type||r.nativeFunc||-1!==e.indexOf(n)||t.push(n)}return t},t.getLocalFunctionNames=function(e){e||(e=this.globalScope);var t=[];for(var n in e.properties){var r=e.properties[n];if("function"===r.type&&!r.nativeFunc&&r.node){e!==this.globalScope&&t.push(n);var o=this.interpreter.createScope(r.node.body,r.parentScope),i=this.getLocalFunctionNames(o);t=t.concat(i)}}return t},t.getCurrentState=function(){var e=this.currentEvalInterpreter||this.interpreter;return e&&e.peekStackFrame()},t.evalInCurrentScope=function(e){var t=this.interpreter.getScope(),n=new u.default(e,this.customMarshaler);n.global=this.interpreter.global,n.populateScope_(n.ast,t),n.setStack([{node:n.ast,scope:t,thisExpression:t}]),["ARRAY","BOOLEAN","DATE","FUNCTION","NUMBER","OBJECT","STRING","UNDEFINED"].forEach((function(e){n[e]=this.interpreter[e]}),this);try{this.currentEvalInterpreter=n,n.run()}finally{this.currentEvalInterpreter=null}return n.value},t.handlePauseContinue=function(){this.paused&&this.nextStep===v.RUN?this.paused=!1:(this.paused=!0,this.nextStep=v.RUN),(0,l.getStore)().dispatch((0,p.setIsDebuggerPaused)(this.paused,this.nextStep))},t.handleStepOver=function(){this.paused=!0,this.nextStep=v.OVER,(0,l.getStore)().dispatch((0,p.setIsDebuggerPaused)(this.paused,this.nextStep))},t.handleStepIn=function(){this.paused=!0,this.nextStep=v.IN,(0,l.getStore)().dispatch((0,p.setIsDebuggerPaused)(this.paused,this.nextStep))},t.handleStepOut=function(){this.paused=!0,this.nextStep=v.OUT,(0,l.getStore)().dispatch((0,p.setIsDebuggerPaused)(this.paused,this.nextStep))},e}();t.default=S,y(S,"StepType",v),e.exports=t.default},,(e,t,n)=>{var r=n(20);e.exports={dialog:{maxWidth:1e3,marginLeft:0,transform:"translate(-50%, 0)"},title:{color:r.purple,textAlign:"center",margin:0,fontSize:"140%",lineHeight:"140%"}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(59)),o=s(n(2)),i=s(n(103)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u,c,d,f=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),o.prototype.render=function(){var e=this.props.isPending?[this.props.style,this.props.pendingStyle]:this.props.style;return a.default.createElement("button",{type:"button",id:this.props.id,style:e,className:this.props.className,onClick:this.props.isPending?function(){}:this.props.onClick},this.props.isPending?a.default.createElement("span",null,this.props.pendingText," ",a.default.createElement(r.default,{icon:"spinner",className:"fa-spin"})):this.props.text)},o}(a.default.Component);u=f,c="propTypes",d={className:o.default.string,id:o.default.string,isPending:o.default.bool.isRequired,onClick:o.default.func.isRequired,pendingStyle:o.default.any,pendingText:o.default.string.isRequired,style:o.default.any,text:o.default.string.isRequired},c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d;var p=(0,i.default)(f);t.default=p,e.exports=t.default},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(466)),a=l(n(911)),s=l(n(464));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=(0,l(n(967)).default)().use(a.default).use((function(){this.Parser.prototype.blockMethods=["paragraph"]})).use(s.default).use(i.default,{createElement:o.default.createElement}),h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){var e=p.processSync(this.props.markdown).result;return o.default.createElement("span",null,e.props.children)},r}(o.default.Component);t.default=h,c=h,d="propTypes",f={markdown:r.default.string.isRequired},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(840)),i=a(n(131));function a(e){return e&&e.__esModule?e:{default:e}}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="library.json",p=function(){function e(e){this.channelId=e,this.libraryApi=o.default.create("/v3/libraries"),this.channelApi=o.default.create("/v3/channels"),this.cacheBustSuffix=(new Date).getTime()}var t=e.prototype;return t.publish=function(e,t,n){var r=this;this.libraryApi.put(this.channelId,JSON.stringify(e),f,(function(e,o){e?t(e):(r.cacheBustSuffix=(new Date).getTime(),n(o))}))},t.unpublish=function(e,t){var n=this;this.delete((function(){var r=c(c({},e),{},{libraryName:void 0,libraryDescription:void 0,libraryPublishedAt:null});n.channelApi.update(n.channelId,r,t)}),t)},t.fetchLatest=function(e,t){var n=this;this.libraryApi.fetch(this.channelId+"/"+"library.json?_="+this.cacheBustSuffix,(function(r,o,i,a){o?e(o):(n.cacheBustSuffix=(new Date).getTime(),t(r,a.status))}))},t.fetchLatestVersionId=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";this.libraryApi.fetch(this.channelId+"/"+"library.json/versions",(function(o,a){if(a){var s=a.find((function(e){return e.isLatest}));e(s.versionId)}else i.default.putRecord({study:"applab_library_versions",event:r,data_json:JSON.stringify({error:o.message,channelId:n.channelId,pathname:location.pathname})},{includeUserId:!0}),t(o)}))},t.fetchByVersion=function(e,t,n){this.libraryApi.fetch(this.channelId+"/"+"library.json?version="+e,(function(e,r){r?t(r):n(e)}))},t.delete=function(e,t){var n=this;this.libraryApi.deleteObject(this.channelId+"/"+f,(function(r,o){o?(n.cacheBustSuffix=(new Date).getTime(),e()):t(r)}))},t.getClassLibraries=function(){var e,t=(e=s().mark((function e(t,n){var r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/section_libraries/",{method:"GET"});case 3:if((o=e.sent).ok){e.next=7;break}return n(o.status+": "+o.statusText),e.abrupt("return");case 7:return e.next=9,o.json();case 9:r=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(e.t0);case 15:t(r);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),e}();t.default=p,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicBubble=x,t.BasicTooltip=j,t.BubbleLink=R,t.BubbleSize=t.BubbleShape=void 0,t.BubbleTooltip=N,t.bubbleContainerWidths=void 0,t.getBubbleClassNames=function(e){return(0,m.default)("progress-bubble",{enabled:e})},t.getBubbleContent=function(e,t,n,r,o,i){if(i===A.dot)return null;return t?f.default.createElement("span",null,v.default.unpluggedActivity()):e?f.default.createElement(h.default,{icon:"lock"}):r?f.default.createElement(h.default,{icon:"users"}):n?f.default.createElement(h.default,{icon:"flag-checkered"}):o?f.default.createElement("span",null,o):null},t.getBubbleShape=function(e,t){return e?P.pill:t?P.diamond:P.circle},t.getBubbleUrl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return null;var o=r?y.default.parse((0,b.currentLocation)().search):{};n&&(o.section_id=n);t&&(o.user_id=t);if(Object.keys(o).length)return"".concat(e,"?").concat(y.default.stringify(o));return e},t.unitTestExports=void 0;var r,o,i,a,s,l,u,c,d,f=S(n(1)),p=S(n(2)),h=S(n(59)),m=S(n(9)),g=n(53),y=S(n(169)),v=S(n(13)),b=n(33),_=S(n(847)),w=n(467),E=n(642),O=n(197);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1359);var A=(0,b.makeEnum)("dot","letter","full");t.BubbleSize=A;var P=(0,b.makeEnum)("circle","diamond","pill");function x(e){var t=e.shape,n=e.size,r=e.progressStyle,o=e.classNames,i=e.children,a=W(t,n,r);return t===P.diamond?f.default.createElement(I,{size:n,bubbleStyle:a,classNames:o},i):f.default.createElement("div",{className:o,style:a},i)}function I(e){var t=e.size,n=e.bubbleStyle,r=e.classNames,o=e.children;return f.default.createElement("div",{style:q(t)},f.default.createElement("div",{className:r,style:n},f.default.createElement("div",{style:H.diamondContentTransform},o)))}function R(e){var t=e.url,n=e.onClick,r=e.children,o=e.a11y_description;return f.default.createElement("a",{href:t,onClick:n,className:"progress-bubble-link",title:o},r)}function D(e){var t;return t=e.isSublevel?e.display_name:e.isUnplugged?v.default.unpluggedActivity():e.name||e.progressionDisplayName||"",e.levelNumber&&(t="".concat(e.levelNumber,". ").concat(t)),t}function j(e){var t=e.icon,n=e.text,r=e.includeAssessmentIcon,o=e.children,i=(0,g.uniqueId)();return f.default.createElement("div",{"data-tip":!0,"data-for":i,"aria-describedby":i},o,f.default.createElement(_.default,{tooltipId:i,icon:t,text:n,includeAssessmentIcon:r}))}function N(e){var t=e.level,n=e.children;return f.default.createElement(j,{icon:(0,w.getIconForLevel)(t),text:D(t),includeAssessmentIcon:(0,w.isLevelAssessment)(t)},n)}t.BubbleShape=P,x.propTypes={shape:p.default.oneOf(Object.values(P)).isRequired,size:p.default.oneOf(Object.values(A)).isRequired,progressStyle:p.default.object,classNames:p.default.string,children:p.default.node},I.propTypes={size:p.default.oneOf(Object.values(A)).isRequired,bubbleStyle:p.default.object,classNames:p.default.string,children:p.default.node},R.propTypes={url:p.default.string,onClick:p.default.func,children:p.default.element.isRequired,a11y_description:p.default.string},j.propTypes={icon:p.default.string,text:p.default.string,includeAssessmentIcon:p.default.bool,children:p.default.element},N.propTypes={level:O.levelWithProgressType.isRequired,children:p.default.element.isRequired};var L=(k(i={},P.circle,(k(r={},A.dot,13),k(r,A.letter,20),k(r,A.full,34),r)),k(i,P.diamond,(k(o={},A.dot,10),k(o,A.full,26),o)),k(i,P.pill,{}),i),M=(k(a={},A.dot,2),k(a,A.letter,3),k(a,A.full,2),a),B=(k(u={},P.circle,(k(s={},A.dot,L[P.circle][A.dot]),k(s,A.letter,L[P.circle][A.letter]),k(s,A.full,L[P.circle][A.full]),s)),k(u,P.diamond,(k(l={},A.dot,2),k(l,A.full,4),l)),k(u,P.pill,{}),u),F=(k(c={},A.dot,L[P.circle][A.dot]+2*M[A.dot]),k(c,A.letter,L[P.circle][A.letter]+2*M[A.letter]),k(c,A.full,L[P.circle][A.full]+2*M[A.full]),c);t.bubbleContainerWidths=F;var U=(k(d={},A.letter,12),k(d,A.full,16),d),H={main:C(C(C(C({},E.flex),E.font),(0,E.marginTopBottom)(3)),{},{boxSizing:"border-box",letterSpacing:-.11,position:"relative",whiteSpace:"nowrap"}),pill:{borderRadius:20,fontSize:12,padding:"6px 10px"},diamond:C(C({},(0,E.marginTopBottom)(6)),{},{transform:"rotate(45deg)",padding:2}),diamondContentTransform:{transform:"rotate(-45deg)"}};function W(e,t,n){return C(C(C({},H.main),function(e,t){if(e===P.pill)return H.pill;var n=L[e][t],r=U[t];return C(C({width:n,height:n,maxWidth:n,maxHeight:n,borderRadius:B[e][t],fontSize:r,lineHeight:"".concat(r,"px")},e===P.circle&&(0,E.marginLeftRight)(M[t])),e===P.diamond&&H.diamond)}(e,t)),n)}function q(e){var t=F[e];return C(C({},E.flex),{},{width:t,height:t})}var z={DiamondContainer:I,bubbleStyles:H,mainBubbleStyle:W};t.unitTestExports=z},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLibraryClosure=s,t.createLibraryJson=u,t.default=void 0,t.getFunctions=a,t.prepareLibraryForImport=l,t.sanitizeName=d,t.suggestName=c;var r=n(800);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(0,r.getFunctionsAndMetadata)(e)}function s(e){var t=e.functions.map((function(e){return"".concat(e,": ").concat(e)})).join(",");return"var ".concat(e.name," = (function() {").concat(e.source,";\nreturn {").concat(t,"}})();")}function l(e,t,n,r){var o=JSON.parse(e);return o.originalName=o.name,r&&(o.name=r),o.dropletConfig.forEach((function(e){e.func="".concat(o.name,".").concat(e.func)})),o.versionId=n,o.channelId=t,o}function u(e,t,n,r){if("string"==typeof e&&Array.isArray(t)&&"string"==typeof n&&n&&"string"==typeof r){var i=function(e,t){var n,r=[],i=o(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!a.functionName)return;var s={func:a.functionName,category:"Functions",comment:a.comment,type:"either"};a.parameters&&a.parameters.length>0&&(s.params=a.parameters,s.paletteParams=a.parameters),r.push(s)}}catch(l){i.e(l)}finally{i.f()}return r}(t),a=t&&t.map((function(e){return e.functionName}));if(i&&a)return JSON.stringify({name:n,description:r,functions:a,dropletConfig:i,source:e})}}function c(e){var t=d(e);return 0!==t.length&&isNaN(t.charAt(0))||(t="Lib"+t),t=t.charAt(0).toUpperCase()+t.slice(1)}function d(e){return e.replace(/\s+/g,"").replace(/\W/g,"")}var f={prepareLibraryForImport:l,getFunctions:a,createLibraryJson:u,suggestName:c,sanitizeName:d,createLibraryClosure:s};t.default=f},e=>{e.exports=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t=i?document.createElement("video"):new Image;var a=!1;function s(e){return function(){a||(a=!0,window.clearTimeout(l),e())}}var l=window.setTimeout(s(r),o);t.onerror=s(r),i?t.ondurationchange=s(n):t.onload=s(n),t.src=e,window.testImages=window.testImages||[],window.testImages.push(t)}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{Portal:()=>v,PortalWithState:()=>E});var r=n(36),o=n(1),i=n(2),a=n.n(i),s=!("undefined"==typeof window||!window.document||!window.document.createElement),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return s?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(o.Component);d.propTypes={children:a().node.isRequired,node:a().any};const f=d;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){r.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=o.cloneElement(this.props.children)),this.portal=r.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),t}(o.Component);const y=g;g.propTypes={children:a().node.isRequired,node:a().any};const v=r.createPortal?f:y;var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _=27,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.portalNode=null,n.state={active:!!e.defaultOpen},n.openPortal=n.openPortal.bind(n),n.closePortal=n.closePortal.bind(n),n.wrapWithPortal=n.wrapWithPortal.bind(n),n.handleOutsideMouseClick=n.handleOutsideMouseClick.bind(n),n.handleKeydown=n.handleKeydown.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"openPortal",value:function(e){this.state.active||(e&&e.nativeEvent&&e.nativeEvent.stopImmediatePropagation(),this.setState({active:!0},this.props.onOpen))}},{key:"closePortal",value:function(){this.state.active&&this.setState({active:!1},this.props.onClose)}},{key:"wrapWithPortal",value:function(e){var t=this;return this.state.active?o.createElement(v,{node:this.props.node,key:"react-portal",ref:function(e){return t.portalNode=e}},e):null}},{key:"handleOutsideMouseClick",value:function(e){if(this.state.active){var t=this.portalNode&&(this.portalNode.props.node||this.portalNode.defaultNode);!t||t.contains(e.target)||e.button&&0!==e.button||this.closePortal()}}},{key:"handleKeydown",value:function(e){e.keyCode===_&&this.state.active&&this.closePortal()}},{key:"render",value:function(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active})}}]),t}(o.Component);w.propTypes={children:a().func.isRequired,defaultOpen:a().bool,node:a().any,closeOnEsc:a().bool,closeOnOutsideClick:a().bool,onOpen:a().func,onClose:a().func},w.defaultProps={onOpen:function(){},onClose:function(){}};const E=w},,(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=r(r({},u),e);switch(t.type){case i:return r(r({},n),{},{buttonsAreVisible:!0});case a:return r(r({},n),{},{buttonsAreVisible:!1});case s:return r(r({},n),{},{buttonsAreDisabled:t.isDisabled});case l:return r(r({},n),{},{swipeOverlayHasBeenDismissed:!0,swipeOverlayDismissAction:t.dismissAction});default:return n}},t.dismissSwipeOverlay=function(e){return{type:l,dismissAction:e}},t.hideArrowButtons=function(){return{type:a}},t.setArrowButtonDisabled=function(e){return{type:s,isDisabled:e}},t.showArrowButtons=function(){return{type:i}};var i="arrowDisplay/SET_ARROW_BUTTONS_VISIBLE",a="arrowDisplay/SET_ARROW_BUTTONS_HIDDEN",s="arrowDisplay/SET_ARROW_BUTTONS_DISABLED",l="arrowDisplay/DISMISS_SWIPE_OVERLAY",u={buttonsAreVisible:!1,buttonsAreDisabled:!0,swipeOverlayHasBeenDismissed:!1,swipeOverlayDismissAction:""}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressBubbleSet=void 0;var r=d(n(1)),o=d(n(2)),i=d(n(103)),a=d(n(644)),s=d(n(20)),l=n(197),u=n(642),c=n(27);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return g(h(t=e.call.apply(e,[this].concat(o))||this),"renderBubble",(function(e,n,o){var i=t.props,s=i.levels,l=i.selectedSectionId,u=i.selectedStudentId,c=i.isRtl,d=c?v.backgroundLast:v.backgroundFirst,f=c?v.backgroundFirst:v.backgroundLast,h=p(p(p(p(p(p({},v.background),e.isConceptLevel&&v.backgroundDiamond),o&&v.backgroundSublevel),e.isUnplugged&&v.backgroundPill),!o&&0===n&&d),!o&&!e.sublevels&&n===s.length-1&&f),m=p(p(p(p({},v.container),e.isUnplugged&&v.pillContainer),e.isConceptLevel&&v.diamondContainer),o&&v.containerSublevel);return r.default.createElement("div",{style:v.withBackground,key:n},r.default.createElement("div",{style:h}),r.default.createElement("div",{style:m},r.default.createElement(a.default,{level:e,disabled:t.props.disabled,smallBubble:o,selectedSectionId:l,selectedStudentId:u,hideToolTips:t.props.hideToolTips,onClick:t.props.onBubbleClick,lessonName:t.props.lessonName})))})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n),o.prototype.render=function(){var e=this,t=this.props,n=t.levels,o=t.style,i=t.showSublevels;return r.default.createElement("div",{style:p(p({},v.main),o)},n.map((function(t,n){return r.default.createElement("span",{key:n},e.renderBubble(t,n,!1),i&&t.sublevels&&t.sublevels.map((function(t,n){return r.default.createElement("span",{key:n},e.renderBubble(t,n,!0))})))})))},o}(r.default.Component);g(y,"propTypes",{levels:o.default.arrayOf(l.levelWithProgressType).isRequired,disabled:o.default.bool.isRequired,style:o.default.object,selectedSectionId:o.default.number,selectedStudentId:o.default.oneOfType([o.default.string,o.default.number]),hideToolTips:o.default.bool,lessonExtrasEnabled:o.default.bool,showSublevels:o.default.bool,onBubbleClick:o.default.func,lessonName:o.default.string,isRtl:o.default.bool});var v={main:{position:"relative",display:"inline-block"},withBackground:{display:"inline-block",position:"relative"},background:{height:10,backgroundColor:s.default.lighter_gray,position:"absolute",left:0,right:0,top:(u.DOT_SIZE+4+6-10)/2},backgroundDiamond:{top:(u.DIAMOND_DOT_SIZE+4+12-10)/2},backgroundPill:{top:15},backgroundSublevel:{top:9},backgroundFirst:{left:15},backgroundLast:{right:15},container:{position:"relative"},containerSublevel:{top:5},diamondContainer:{height:36},pillContainer:{marginRight:2,height:37}},b=y;t.UnconnectedProgressBubbleSet=b;var _=(0,c.connect)((function(e){return{isRtl:e.isRtl}}))((0,i.default)(y));t.default=_},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FooterButton=b,t.default=_;var r,o=d(n(1)),i=d(n(2)),a=d(n(13)),s=d(n(20)),l=n(33),u=d(n(143)),c=d(n(74));function d(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,l.makeEnum)("cancel","confirm","default"),y=(m(r={},g.cancel,c.default.ButtonColor.gray),m(r,g.confirm,c.default.ButtonColor.orange),r),v=(0,l.makeEnum)("default","simple");function b(e){var t=h(h({},w.buttons.all),w.buttons[e.type]||{});return o.default.createElement(c.default,f({style:t,color:e.color?e.color:y[e.type]},e))}function _(e){var t,n,r=e.type===v.simple?null:o.default.createElement("hr",{style:w.hr}),i=[o.default.createElement(b,{key:"cancel",type:g.cancel,text:e.cancellationButtonText,onClick:e.handleCancellation||e.handleClose}),o.default.createElement(b,{className:"uitest-base-dialog-confirm",key:"confirm",type:g.confirm,text:e.confirmationButtonText,onClick:e.handleConfirmation||e.handleClose,disabled:e.disableConfirmationButton})];return o.default.createElement(u.default,f({},(delete(n=h({},e)).style,delete n.children,n),{useUpdatedStyles:!0,useFlexbox:e.stickyHeaderFooter}),e.title&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{style:w.container},"string"==typeof(t=e.title)?o.default.createElement("h1",{style:w.title},t):t),r),o.default.createElement("div",{style:h(h(h({},w.container),w.body[e.type]||{}),{},{overflowY:e.stickyHeaderFooter&&"auto"})},e.body?e.body:e.children),!e.hideFooter&&o.default.createElement("div",{className:"uitest-base-dialog-footer"},r,o.default.createElement("div",{style:h(h(h({},w.container),w.footer),{},{justifyContent:e.footerJustification})},e.renderFooter(i))))}b.propTypes={type:i.default.oneOf(Object.keys(g)).isRequired,color:i.default.string},b.defaultProps={type:g.default},_.propTypes={title:i.default.oneOfType([i.default.element,i.default.string]),body:i.default.oneOfType([i.default.element,i.default.string]),children:i.default.node,footerJustification:i.default.oneOf(["flex-start","flex-end","space-between"]),renderFooter:i.default.func.isRequired,hideFooter:i.default.bool,confirmationButtonText:i.default.string.isRequired,cancellationButtonText:i.default.string.isRequired,disableConfirmationButton:i.default.bool,handleConfirmation:i.default.func,handleClose:i.default.func.isRequired,handleCancellation:i.default.func,type:i.default.oneOf(Object.keys(v)),stickyHeaderFooter:i.default.bool},_.defaultProps={footerJustification:"flex-end",renderFooter:function(e){return e},hideFooter:!1,confirmationButtonText:a.default.dialogOK(),cancellationButtonText:a.default.dialogCancel(),type:v.default};var w={container:{padding:"0 ".concat(20,"px")},title:{color:s.default.dark_charcoal},hr:{margin:0,borderColor:s.default.lighter_gray},body:m({},v.default,{padding:20}),footer:{display:"flex",alignItems:"center",padding:"".concat(10,"px ").concat(17,"px")},buttons:m({all:{boxShadow:"none",flexShrink:0}},g.confirm,{borderColor:s.default.orange})}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(165));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l,u,c,d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r.prototype.render=function(){return o.default.createElement("div",{className:this.props.className,style:this.props.style},o.default.createElement("div",null,o.default.createElement(i.default,{markdown:this.props.i18n.tos})),o.default.createElement("div",null,o.default.createElement(i.default,{markdown:this.props.i18n.contact_us})))},r}(o.default.Component);t.default=d,l=d,u="propTypes",c={i18n:r.default.shape({tos:r.default.string.isRequired,contact_us:r.default.string.isRequired}).isRequired,className:r.default.string,style:r.default.object},u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,e.exports=t.default},(e,t,n)=>{"use strict";var r=a(n(32)),o=a(n(855)),i=n(33);function a(e){return e&&e.__esModule?e:{default:e}}var s=n(534).parseElement,l=n(13),u={};e.exports=u,u.getFromLocalStorage_=function(e,t){var n=localStorage.getItem(e);try{n=n?JSON.parse(n):t}catch(r){n=t}return n},u.getUnfinishedHints_=function(){return u.getFromLocalStorage_("unfinished_authored_hint_views",[])},u.getFinishedHints_=function(){return u.getFromLocalStorage_("finished_authored_hint_views",[])},u.getLastAttemptRecord_=function(){return u.getFromLocalStorage_("last_attempt_record",void 0)},u.recordFinishedHints_=function(e){var t=u.getFinishedHints_();t=t.concat(e),(0,i.trySetLocalStorage)("finished_authored_hint_views",JSON.stringify(t))},u.clearUnfinishedHints=function(){(0,i.trySetLocalStorage)("unfinished_authored_hint_views",JSON.stringify([]))},u.clearFinishedHints_=function(){(0,i.trySetLocalStorage)("finished_authored_hint_views",JSON.stringify([]))},u.finalizeHints_=function(){var e=u.getLastAttemptRecord_();localStorage.removeItem("last_attempt_record");var t=u.getFinishedHints_();return e&&(t=t.map((function(t){return t=Object.assign({finalTime:e.time,finalAttempt:e.attempt,finalTestResult:e.testResult,finalActivityId:e.activityId,finalLevelSourceId:e.levelSourceId},t)}))),t},u.recordUnfinishedHint=function(e){var t=u.getLastAttemptRecord_();t&&(e=Object.assign({prevTime:t.time,prevAttempt:t.attempt,prevTestResult:t.testResult,prevActivityId:t.activityId,prevLevelSourceId:t.levelSourceId},e));var n=u.getUnfinishedHints_();n.push(e),(0,i.trySetLocalStorage)("unfinished_authored_hint_views",JSON.stringify(n))},u.finishHints=function(e){if(e){(0,i.trySetLocalStorage)("last_attempt_record",JSON.stringify(e));var t=u.getUnfinishedHints_();u.clearUnfinishedHints();var n=t.map((function(t){return t=Object.assign({nextTime:e.time,nextAttempt:e.attempt,nextTestResult:e.testResult,nextActivityId:e.activityId,nextLevelSourceId:e.levelSourceId},t)}));u.recordFinishedHints_(n)}},u.submitHints=function(e){var t=u.getUnfinishedHints_();if(t&&t.length){var n=t[t.length-1];u.finishHints({time:n.prevTime,attempt:n.prevAttempt,testResult:n.prevTestResult,activityId:n.prevActivityId,levelSourceId:n.prevLevelSourceId})}var o=u.finalizeHints_();o&&o.length&&r.default.ajax({url:e,method:"POST",contentType:"application/json",data:JSON.stringify({hints:o}),complete:function(){u.clearFinishedHints_()}})},u.createContextualHintsFromBlocks=function(e){return e.map((function(e){var t=s(o.default.generateXMLForBlocks([e])),n=t.firstChild.getAttribute("type");return{markdown:l.recommendedBlockContextualHintTitle(),ttsMessage:l.recommendedBlockContextualHintTitle(),block:t,hintId:"recommended_block_"+n,hintClass:"recommended",hintType:"contextual",alreadySeen:e.alreadySeen}}))},u.generateAuthoredHints=function(e){var t;try{t=JSON.parse(e)}catch(n){t=[]}return t.map((function(e){return{markdown:e.hint_markdown,hintId:e.hint_id,hintClass:e.hint_class,hintType:e.hint_type,hintPath:JSON.parse(e.hint_path||"[]"),hintVideo:e.hint_video||void 0,ttsUrl:e.tts_url,alreadySeen:!1}}))},u.currentOpenedHintCount=function(e){var t=u.getUnfinishedHints_(),n=u.getFinishedHints_();return t.concat(n).filter((function(t){return t.levelId===e})).length}},(e,t,n)=>{"use strict";var r=_(n(32)),o=_(n(1)),i=_(n(36)),a=_(n(53)),s=_(n(169)),l=_(n(765)),u=_(n(1026)),c=_(n(1027)),d=n(876),f=n(420),p=n(761),h=n(137),m=n(493),g=n(778),y=n(468),v=n(1358),b=n(491);function _(e){return e&&e.__esModule?e:{default:e}}var w=e.exports;function E(e){return a.default.mapValues(e.progress,(function(e){return e.submitted?h.TestResults.SUBMITTED_RESULT:e.result}))}function O(e,t,n){var a=l.default.queryParams("user_id");e.dispatch((0,m.queryUserProgress)(a)).then((function(a){if(!n){a.signedIn||e.dispatch((0,m.overwriteResults)(l.default.levelProgress(t.name)));var s,c=e.getState().progress.postMilestoneDisabled;if(a.signedIn&&c&&(s=(0,r.default)("<div>"),(0,r.default)(document.body).append(s),i.default.render(o.default.createElement(u.default,null),s[0])),(a.isInstructor||a.teacherViewingStudent)&&!a.deeperLearningCourse){var d=n?y.pageTypes.level:y.pageTypes.scriptOverview;(0,v.renderTeacherPanel)(e,t.id,t.name,d)}}}))}function S(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0;e.dispatch((0,m.initProgress)({currentLevelId:n,deeperLearningCourse:t.plc,saveAnswersBeforeNavigation:o,lessons:t.lessons,lessonGroups:t.lessonGroups,peerReviewLessonInfo:t.peerReviewLessonInfo,scriptId:t.id,scriptName:t.name,unitTitle:t.title,unitDescription:t.description,unitStudentDescription:t.studentDescription,courseVersionId:t.courseVersionId,courseId:t.course_id,isFullProgress:r,isLessonExtras:i,currentPageNumber:a})),t.disablePostMilestone&&e.dispatch((0,m.disablePostMilestone)()),t.hideable_lessons&&e.dispatch((0,p.getHiddenLessons)(t.name,!0)),e.dispatch((0,m.setIsAge13Required)(t.age_13_required))}w.showDisabledBubblesAlert=function(){if((0,d.getStore)().getState().progress.postMilestoneDisabled){var e=(0,r.default)("<div>").css({position:"absolute",left:0,right:0,top:45,zIndex:1e3});(0,r.default)(document.body).append(e),i.default.render(o.default.createElement(c.default,null),e[0])}},w.generateLessonProgress=function(e,t,n,o,i,a,s,u,c,f){var p=(0,d.getStore)(),h=e.name;return S(p,{name:h,lessonGroups:t,lessons:[n],disablePostMilestone:e.disablePostMilestone,age_13_required:e.age_13_required,id:n.script_id},i,!1,a,c,f),u&&p.dispatch((0,m.setLessonExtrasEnabled)(!0)),function(e,t,n,o){return function(e,t,n){switch(e){case!0:return Promise.resolve({usingDbProgress:!0,levelResults:E(t),unitProgress:t.progress});case!1:return Promise.resolve({usingDbProgress:!1,levelResults:l.default.levelProgress(n)});case null:return r.default.ajax({url:"/api/user_progress/".concat(n),data:{user_id:l.default.queryParams("user_id")}}).then((function(e){return e.signedIn?{usingDbProgress:!0,levelResults:E(e),unitProgress:e.progress}:{usingDbProgress:!1,levelResults:l.default.levelProgress(n)}})).fail((function(){return console.error("Could not load user progress. User progress may not be saved.")}))}}(t,n,o).then((function(n){n.usingDbProgress&&(e.dispatch((0,m.useDbProgress)()),l.default.clearProgress(),e.dispatch((0,m.setScriptProgress)(n.unitProgress))),n.levelResults&&e.dispatch((0,m.overwriteResults)(n.levelResults)),n.isVerifiedInstructor&&e.dispatch((0,g.setVerified)()),t&&w.showDisabledBubblesAlert()}))}(p,s,o,h)},w.initCourseProgress=function(e){var t=(0,d.getStore)();S(t,e,null,!0),O(t,e,null)},w.initViewAs=function(e,t,n){var r=f.ViewType.Participant;(n&&(r=f.ViewType.Instructor,e.dispatch((0,b.setUserRoleInCourse)(b.CourseRoles.Instructor))),!t||n)&&(r=s.default.parse(location.search).viewAs||r);e.dispatch((0,f.setViewType)(r))},w.retrieveProgress=function(e,t,n){var o=(0,d.getStore)();return r.default.getJSON("/api/script_structure/".concat(e),(function(e){S(o,e,n,!0),O(o,e,n)}))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resultFromStatus=t.mergeActivityResult=t.activityCssClass=void 0;var r=n(137),o=n(385);t.activityCssClass=function(e){return e&&e!==r.TestResults.NO_TESTS_RUN?e===r.TestResults.REVIEW_ACCEPTED_RESULT?o.LevelStatus.review_accepted:e===r.TestResults.REVIEW_REJECTED_RESULT?o.LevelStatus.review_rejected:e===r.TestResults.SUBMITTED_RESULT?o.LevelStatus.submitted:e>=r.TestResults.MINIMUM_OPTIMAL_RESULT?o.LevelStatus.perfect:e>=r.TestResults.MINIMUM_PASS_RESULT?o.LevelStatus.passed:o.LevelStatus.attempted:o.LevelStatus.not_tried};t.resultFromStatus=function(e){return e===o.LevelStatus.review_accepted?r.TestResults.REVIEW_ACCEPTED_RESULT:e===o.LevelStatus.review_rejected?r.TestResults.REVIEW_REJECTED_RESULT:e===o.LevelStatus.submitted?r.TestResults.SUBMITTED_RESULT:e===o.LevelStatus.free_play_complete?r.TestResults.FREE_PLAY:e===o.LevelStatus.perfect?r.TestResults.ALL_PASS:e===o.LevelStatus.passed?r.TestResults.MINIMUM_PASS_RESULT:r.TestResults.NO_TESTS_RUN};t.mergeActivityResult=function(e,t){return t=t||0,0===(e=e||0)?t:0===t?e:Math.max(e,t)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ImagePreview=void 0;var r=l(n(1)),o=l(n(2)),i=l(n(103)),a=n(27),s=n(622);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),o.prototype.render=function(){return r.default.createElement("div",{id:"ani-gif-preview-wrapper",style:h.wrapper},r.default.createElement("div",{id:"ani-gif-preview",style:[h.aniGifPreview(this.props.url),this.props.noVisualization&&h.bigPreview],onClick:this.props.showInstructionsDialog}))},o}(r.default.Component);c=p,d="propTypes",f={url:o.default.string.isRequired,showInstructionsDialog:o.default.func.isRequired,noVisualization:o.default.bool.isRequired},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var h={wrapper:{display:"inline-block",position:"relative"},aniGifPreview:function(e){return{cursor:"pointer",backgroundImage:"url('".concat(e,"')")}},bigPreview:{width:240,height:180,backgroundSize:"240px 180px"}},m=(0,i.default)(p);t.ImagePreview=m;var g=(0,a.connect)((function(e){return{url:e.pageConstants.aniGifURL,noVisualization:e.pageConstants.noVisualization}}),(function(e){return{showInstructionsDialog:function(){e((0,s.openDialog)({imgOnly:!0}))}}}))(m);t.default=g},(e,t,n)=>{n(823),e.exports=n(100).Object.values},(e,t,n)=>{var r=n(132),o=n(460)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},(e,t,n)=>{n(825),e.exports=n(100).parseInt},(e,t,n)=>{var r=n(132),o=n(736);r(r.G+r.F*(parseInt!=o),{parseInt:o})},(e,t,n)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(13)),i=n(1391),a=n(860);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"shareProject",(function(){(0,i.shareProject)(dashboard.project.getShareUrl())})),t}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),s.prototype.render=function(){return r.default.createElement("button",{type:"button",className:"project_share header_button header_button_light no-mc",onClick:this.shareProject,style:a.styles.buttonSpacing},o.default.share())},s}(r.default.Component);t.default=d,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(103)),i=l(n(382)),a=l(n(59)),s=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}var u={main:{display:"inline-block",position:"absolute",right:0,top:0,whiteSpace:"nowrap"},arrowContainer:{display:"inline-block",position:"relative",top:10},leftArrow:{display:"inline-block",width:0,height:0,borderStyle:"solid",borderWidth:"17px 20px 17px",borderColor:"transparent ".concat(s.default.cyan," transparent transparent")},focusArea:{display:"inline-block",backgroundColor:s.default.cyan,color:s.default.white,height:34,lineHeight:"34px",position:"relative",top:-3},text:{display:"inline-block"},focusAreaIcon:{display:"inline-block",color:s.default.white,lineHeight:"13px",padding:5,marginLeft:5,marginRight:5,borderRadius:4,":hover":{backgroundColor:s.default.default_blue}}},c=(0,o.default)((function(){return r.default.createElement("div",{style:u.main},r.default.createElement("div",{style:u.arrowContainer},r.default.createElement("div",{style:u.leftArrow})),r.default.createElement("div",{style:u.focusArea},r.default.createElement("div",{style:u.text},"Focus Area"),r.default.createElement("a",{href:window.location.pathname+"/preview-assignments"},r.default.createElement("div",{style:u.focusAreaIcon,"data-tip":!0,"data-for":"focus-area"},r.default.createElement(a.default,{icon:"pencil"})))),r.default.createElement(i.default,{id:"focus-area",role:"tooltip",effect:"solid"},"Click to change your focus area."))}));t.default=c,e.exports=t.default},e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},(e,t,n)=>{e.exports=n(832)},(e,t,n)=>{n(833),n(835),e.exports=n(100).Array.from},(e,t,n)=>{"use strict";var r=n(738)(!0);n(739)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},(e,t,n)=>{e.exports=n(386)},(e,t,n)=>{"use strict";var r=n(454),o=n(132),i=n(374),a=n(742),s=n(743),l=n(455),u=n(744),c=n(745);o(o.S+o.F*!n(747)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,f=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,y=0,v=c(f);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==v||p==Array&&s(v))for(n=new p(t=l(f.length));t>y;y++)u(n,y,g?m(f[y],y):f[y]);else for(d=v.call(f),n=new p;!(o=d.next()).done;y++)u(n,y,g?a(d,m,[o.value,y],!0):o.value);return n.length=y,n}})},(e,t,n)=>{"use strict";var r=n(72);t.__esModule=!0,t.default=void 0;var o=r(n(676));t.addClass=o.default;var i=r(n(688));t.removeClass=i.default;var a=r(n(597));t.hasClass=a.default;var s={addClass:o.default,removeClass:i.default,hasClass:a.default};t.default=s},(e,t)=>{"use strict";t.__esModule=!0,t.ariaHidden=o,t.hideSiblings=function(e,t){r(e,t,(function(e){return o(!0,e)}))},t.showSiblings=function(e,t){r(e,t,(function(e){return o(!1,e)}))};var n=["template","script","style"],r=function(e,t,r){t=[].concat(t),[].forEach.call(e.children,(function(e){var o,i,a;-1===t.indexOf(e)&&(i=(o=e).nodeType,a=o.tagName,1===i&&-1===n.indexOf(a.toLowerCase()))&&r(e)}))};function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},(e,t,n)=>{n(839),e.exports=n(100).Array.isArray},(e,t,n)=>{var r=n(132);r(r.S,"Array",{isArray:n(748)})},(e,t,n)=>{"use strict";var r=a(n(32)),o=a(n(53)),i=n(33);function a(e){return e&&e.__esModule?e:{default:e}}var s={api_base_url:"/v3/channels",all:function(e){r.default.ajax({url:this.api_base_url,type:"get",dataType:"json"}).done((function(t,n){e(null,t)})).fail((function(t,n,r){var o=new Error("status: "+n+"; error: "+r);e(o,null)}))},create:function(e,t,n){r.default.ajax({url:this.api_base_url+(0,i.stringifyQueryParams)(n),type:"post",contentType:"application/json; charset=utf-8",data:JSON.stringify(e)}).done((function(e,n){t(null,e)})).fail((function(e,n,r){var o=new Error("status: "+n+"; error: "+r);t(o,void 0)}))},delete:function(e,t){r.default.ajax({url:this.api_base_url+"/"+e+"/delete",type:"post",dataType:"json"}).done((function(e,n){t(null,!0)})).fail((function(e,n,r){var o=new Error("status: "+n+"; error: "+r);t(o,!1)}))},deleteObject:function(e,t){r.default.ajax({url:this.api_base_url+"/"+e,type:"delete",dataType:"json"}).done((function(e,n){t(null,!0)})).fail((function(e,n,r){var o=new Error("status: "+n+"; error: "+r);t(o,!1)}))},fetch:function(e,t,n){n=n||"json",r.default.ajax({url:this.api_base_url+"/"+e,type:"get",dataType:n}).done((function(e,n,r){t(null,e,r)})).fail((function(e,n,r){var o=new Error("status: "+n+"; error: "+r);t(o,void 0,void 0,e)}))},update:function(e,t,n){r.default.ajax({url:this.api_base_url+"/"+e,type:"post",contentType:"application/json; charset=utf-8",data:JSON.stringify(t)}).done((function(e,t){n(null,e)})).fail((function(e,t,r){var o=new Error("status: "+t+"; error: "+r);o.responseText=e.responseText,n(o,!1)}))},copyAll:function(e,t,n){r.default.ajax({url:this.api_base_url+"/"+t+"?src="+e,type:"put"}).done((function(e,t){n(null,e)})).fail((function(e,t,r){var o=new Error("status: "+t+"; error: "+r);n(o,!1)}))},put:function(e,t,n,o){r.default.ajax({url:this.api_base_url+"/"+e+"/"+n,type:"put",contentType:"application/json; charset=utf-8",data:t}).done((function(e,t){o(null,e)})).fail((function(e,t,n){var r=function(e,t,n){return new Error("httpStatusCode: ".concat(e.status,"; status: ").concat(t,"; error: ").concat(n))}(e,t,n);o(r,!1)}))},patchAll:function(e,t,n,o){r.default.ajax({url:this.api_base_url+"/"+e+"/?"+t,type:"patch",contentType:"application/json; charset=utf-8",data:n}).done((function(e,t){o(null,e)})).fail((function(e,t,n){var r=new Error("status: "+t+"; error: "+n);o(r,!1)}))}};e.exports={create:function(e){return o.default.assign({},s,{api_base_url:e})}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOUCH_PINS=t.SONG_SINGLE_NOTE=t.SONG_LEVEL_COMPLETE=t.SONG_CONCLUSION=t.SONG_CHARGE=t.SONG_ASCENDING=t.N_COLOR_LEDS=t.J5_CONSTANTS=t.EXTERNAL_PINS=t.CP_SENSOR_VARS=t.CP_COMPONENT_EVENTS=t.CP_COMMAND=t.CP_BUTTON_VARS=t.CP_API=t.CP_ACCEL_STREAM_ON=t.BOARD_EVENT_ALIASES=void 0;var r,o=(r=n(138))&&r.__esModule?r:{default:r};t.N_COLOR_LEDS=10;t.EXTERNAL_PINS=[0,1,2,3,6,9,10,12];var i=[0,2,3,6,9,10,12];t.TOUCH_PINS=i;t.J5_CONSTANTS={INPUT:0,OUTPUT:1,ANALOG:2,PWM:3,SERVO:4};t.CP_API="circuitPlayground";var a=["soundSensor","lightSensor","tempSensor"];t.CP_SENSOR_VARS=a;t.CP_BUTTON_VARS=["buttonL","buttonR"];var s=i.map((function(e){return"touchPad".concat(e)})),l=["down","up"],u=["change","data"],c=["down","up"],d={buttonL:l,buttonR:l,toggleSwitch:["open","close","change"],accelerometer:["change","data","shake"]};t.CP_COMPONENT_EVENTS=d,a.forEach((function(e){return d[e]=u})),o.default.isEnabled("maker-captouch")&&s.forEach((function(e){return d[e]=c}));t.BOARD_EVENT_ALIASES={shake:"tap:single",singleTap:"tap:single",doubleTap:"tap:double"};t.SONG_SINGLE_NOTE=["G3"];t.SONG_CHARGE=[["G3",1/4],["C4",1/4],["E4",1/4],["G4",1/8],[null,3/8],["E4",3/16],["G4",1]];t.SONG_LEVEL_COMPLETE=[["G#4",1/8],[null,1/8],["G#4",1/8],["C#5",.5]];t.SONG_ASCENDING=[["C4",1/3],["D4",1/3],["E4",1/3],["G4",.25],[null,1/12],["C5",1/3],["D5",1/3],["E5",1/3],["G5",.25],[null,1/12],["C6",1/3],["D6",1/3],["E6",1/3],["G6",.25],[null,1/12],["C7",1/16],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32]];t.SONG_CONCLUSION=[["C5",1/4],["A4",1/4],["G4",.5],[null,1/4],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],[null,1/4],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],[null,1/4],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32]];t.CP_COMMAND=64;t.CP_ACCEL_STREAM_ON=58},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedToggleGroup=void 0;var o=u(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=u(n(880));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var o=r.prototype;return o.setSelected=function(e){this.props.onChange(e)},o.render=function(){var e=this.props.isRtl?m.buttonReverse:null;return i.default.createElement("span",{style:e},this.renderChildren())},o.renderChildren=function(){var e=this,t=i.default.Children.toArray(this.props.children).filter((function(e){return!!e}));return t.map((function(n,r){var o=n.props.value===e.props.selected;return i.default.createElement(s.default,{id:n.props.id,className:n.props.className,key:n.key,active:o,first:0===r,last:r===t.length-1,activeColor:e.props.activeColor,title:n.props.title,style:n.props.style,onClick:o?void 0:e.setSelected.bind(e,n.props.value)},n.props.children)}))},r}(i.Component);d=h,f="propTypes",p={selected:o.default.string,activeColor:o.default.string,onChange:o.default.func.isRequired,children:function(e,t,n){var r,o=e[t];return i.default.Children.count(o)<1&&(r=new Error("".concat(n," must have at least one child button."))),i.default.Children.forEach(o,(function(e){e&&"button"!==e.type&&(r=new Error("".concat(n," should only have buttons as ")+"child elements."))})),r},isRtl:o.default.bool},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var m={buttonReverse:{display:"flex",flexDirection:"row-reverse"}},g=h;t.UnconnectedToggleGroup=g;var y=(0,a.connect)((function(e){return{isRtl:e.isRtl}}))(h);t.default=y},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=n(610),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(33));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t,n,r,o){for(var a in n){var s=n[a];if(s instanceof Function){var l=r||n,u=e.makeNativeMemberFunction(i.extend(o,{nativeFunc:s,nativeParentObj:l}));e.setProperty(t,a,e.createNativeFunction(u))}}}function l(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];if(i.parent&&(!n||void 0!==n[i.func])){var a=r,s=i.func,l=s.split(".");if(2===l.length){var u=l[0];a=e.getProperty(r,u),e.UNDEFINED===a&&(a=e.createObject(e.OBJECT),e.setProperty(r,u,a)),s=l[1]}var c,d=i.parent[s],f=i.dontMarshal,p=i.nativeIsAsync,h=i.nativeCallsBackInterpreter,m=e.makeNativeMemberFunction({nativeFunc:d,nativeParentObj:i.parent,dontMarshal:f,nativeIsAsync:p,nativeCallsBackInterpreter:h});c=i.nativeIsAsync?e.createAsyncFunction(m):e.createNativeFunction(m),e.setProperty(a,s,c)}}}t.ForStatementMode={INIT:0,TEST:1,BODY:2,UPDATE:3},t.initJSInterpreter=function(e,t,n,r,i){for(var a in i){var u=e.createObject(e.OBJECT);e.setProperty(r,a.toString(),u),s(e,u,i[a],null,{maxDepth:2})}l(e,o.dropletGlobalConfigBlocks,n,r),t&&l(e,t,n,r),function(e){e.setProperty(e.STRING.properties.prototype,"includes",e.createNativeFunction((function(t){return e.createPrimitive(-1!==String.prototype.indexOf.apply(this,arguments))})),!1,!0)}(e)},t.isNextStepSafeWhileUnwinding=function(e){var t=e.peekStackFrame(),n=t.node.type;if(t.done_)return!0;if("SwitchStatement"===n)return void 0!==t.switchValue_;if("VariableDeclaration"===n)return t.n_>0;switch(n){case"VariableDeclarator":case"BlockStatement":case"BreakStatement":case"ThisExpression":case"ArrayExpression":case"ObjectExpression":case"ArrowExpression":case"SequenceExpression":case"UnaryExpression":case"BinaryExpression":case"UpdateExpression":case"LogicalExpression":case"ConditionalExpression":case"NewExpression":case"CallExpression":case"MemberExpression":case"FunctionExpression":case"AssignmentExpression":case"Identifier":case"Literal":case"Program":return!0}return!1},t.calculateCumulativeLength=function(e){var t=/\n/g,n=[];do{n.push(t.lastIndex),t.exec(e)}while(0!==t.lastIndex);return n.push(e.length+1),n},t.aceFindRow=function(e,n,r,o){if(n>r)return null;if(n+1===r)return n;var i=Math.floor((n+r)/2);return o<e[i]?t.aceFindRow(e,n,i,o):o>e[i]?t.aceFindRow(e,i,r,o):i},t.isAceBreakpointRow=function(e,t){if(!e)return!1;var n=e.getBreakpoints();return Boolean(n[t])};var u={};function c(e,t,n,r,o,i){var a=e.getSession();u[t=t||"ace_step"]&&(a.removeMarker(u[t]),u[t]=null),void 0!==n&&(u[t]=a.addMarker(new(window.ace.require("ace/range").Range)(n,r,o,i),t,"text"),e.isRowFullyVisible(n)||e.scrollToLine(n,!0))}t.selectEditorRowColError=function(e,t,n){if(e){if(e.session&&e.session.currentlyUsingBlocks){e.clearLineMarks(),e.markLine(t,{color:"#FFFF22"})}else{var r=e.aceEditor.getSelection(),o=r.getRange();o.start.row=t,o.start.column=n,o.end.row=t,o.end.column=n+1,r.setSelectionRange(o,!0)}u.ace_error=e.aceEditor.getSession().highlightLines(t,t,"ace_error").id}},t.clearDropletAceHighlighting=function(e,t){e.session&&e.session.currentlyUsingBlocks&&e.clearLineMarks(),t?function(e){var t=e.getSession();for(var n in u)t.removeMarker(u[n]);u={}}(e.aceEditor):c(e.aceEditor)},t.selectCurrentCode=function(e,n,r,o,i,a){var s=-1;if(e&&e.peekStackFrame()){var l=e.peekStackFrame().node;if("ForStatement"===l.type){var u,d=e.peekStackFrame().mode_||0;switch(d){case t.ForStatementMode.INIT:u=l.init;break;case t.ForStatementMode.TEST:u=l.test;break;case t.ForStatementMode.BODY:u=l.body;break;case t.ForStatementMode.UPDATE:u=l.update;break;default:throw new Error("unknown mode",d)}l=u||l}var f=l.start-r,p=l.end-r;if(f>=0&&f<o&&p<=o)if(s=t.aceFindRow(n,0,n.length,f),i.session&&i.session.currentlyUsingBlocks){i.clearLineMarks(),i.mark({row:s,col:f-n[s],type:"block"},{color:"#FFFF22"})}else!function(e,n,r,o,i){var a=e.getSelection().getRange();a.start.row=t.aceFindRow(n,0,n.length,r),a.start.column=r-n[a.start.row],a.end.row=t.aceFindRow(n,0,n.length,o),a.end.column=o-n[a.end.row],c(e,i||"ace_step",a.start.row,a.start.column,a.end.row,a.end.column)}(i.aceEditor,n,f,p,a);else t.clearDropletAceHighlighting(i)}else t.clearDropletAceHighlighting(i);return s}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(1008)),o=p(n(143)),i=p(n(784)),a=p(n(1025)),s=p(n(2)),l=p(n(103)),u=p(n(1)),c=p(n(845)),d=p(n(20)),f=n(136);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;function s(t){var n;return v(g(n=e.call(this,t)||this),"handlePrimary",(function(){n.props.handlePrimary&&n.props.handlePrimary(),n.setState({isOpen:!1})})),v(g(n),"handleCancel",(function(){n.props.handleCancel&&n.props.handleCancel(),n.setState({isOpen:!1})})),n.state={isOpen:void 0===n.props.isOpen||n.props.isOpen,confettiActive:!1},n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var l=s.prototype;return l.componentDidMount=function(){var e=this;this.props.complete&&!this.props.isIntro&&window.setTimeout((function(){return e.setState({confettiActive:!0})}),0)},l.render=function(){var e=(0,f.getStore)().getState().isRtl;return u.default.createElement(o.default,{isOpen:this.state.isOpen,style:_.dialog,handleClose:this.handlePrimary,hideCloseButton:!0,hideBackdrop:this.props.hideBackdrop},u.default.createElement("img",{className:"modal-image",src:this.props.avatar}),u.default.createElement("div",{style:m(m({},_.banner),this.props.complete?_.bannerComplete:{})},u.default.createElement("h1",{style:_.title,id:"uitest-challenge-title"},this.props.title),u.default.createElement(r.default,{active:this.state.confettiActive,style:_.confetti})),u.default.createElement("div",{style:_.content},this.props.text&&u.default.createElement("div",{style:_.text},this.props.text),this.props.children),u.default.createElement(i.default,{type:"cancel",onClick:this.handleCancel,id:"challengeCancelButton"},this.props.cancelButtonLabel),u.default.createElement(i.default,{type:"primary",style:e?_.primaryButtonRtl:_.primaryButton,onClick:this.handlePrimary,id:"challengePrimaryButton"},this.props.primaryButtonLabel),this.props.showPuzzleRatingButtons&&u.default.createElement("div",{style:_.footer},u.default.createElement(a.default,{useLegacyStyles:!0})))},s}(u.default.Component);v(b,"propTypes",{avatar:s.default.string,cancelButtonLabel:s.default.string,children:s.default.oneOfType([s.default.node,s.default.arrayOf(s.default.node)]),complete:s.default.bool,isIntro:s.default.bool,isOpen:s.default.bool,handleCancel:s.default.func,handlePrimary:s.default.func,hideBackdrop:s.default.bool,primaryButtonLabel:s.default.string,showPuzzleRatingButtons:s.default.bool,text:s.default.string,title:s.default.string});var _={dialog:{top:"20%",border:"5px solid ".concat(d.default.purple),borderRadius:10},banner:{backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat((0,c.default)("media/dialog/challenge_target.svg"),")"),position:"relative",marginTop:-85,height:135},bannerComplete:{backgroundImage:"url(".concat((0,c.default)("media/dialog/challenge_target_complete.svg"),")"),marginTop:-99,height:149},content:{color:d.default.purple,position:"relative",textAlign:"center",marginBottom:30},text:{margin:"0px 40px 20px",textAlign:"center",fontSize:18},title:{textAlign:"center",position:"absolute",bottom:0,color:"#fff",backgroundColor:d.default.purple,border:"3px solid white",minWidth:"50%",left:"25%",fontSize:"150%",height:30,lineHeight:"30px"},confetti:{top:150},primaryButton:{float:"right"},primaryButtonRtl:{float:"left"},footer:{marginTop:20,paddingTop:20,borderTop:"2px solid #ccc"}},w=(0,l.default)(b);t.default=w,e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){0;return"/blockly/".concat(e)},e.exports=t.default},(e,t)=>{"use strict";function n(e){var t="function"==typeof Map?new Map:void 0;return n=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return r(e,arguments,a(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i(o,e)},n(e)}function r(e,t,n){return r=o()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o},r.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){var t,n;function r(){for(var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).name="NameFailureError",t.message="Rename failed",t.nameFailure=n,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),r}(n(Error));t.default=s,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(382)),s=c(n(59)),l=n(642);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props,t=e.tooltipId,n=e.icon,r=e.text,o=e.includeAssessmentIcon;return i.default.createElement(a.default,{id:t,role:"tooltip",wrapper:"span",effect:"solid"},i.default.createElement("div",{style:g.tooltip},o&&i.default.createElement(s.default,{icon:"check-circle",style:g.tooltipAssessmentIcon}),i.default.createElement(s.default,{icon:n,style:g.tooltipIcon}),r))},r}(i.Component);t.default=m,f=m,p="propTypes",h={tooltipId:o.default.string.isRequired,icon:o.default.string.isRequired,text:o.default.string.isRequired,includeAssessmentIcon:o.default.bool},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g={tooltip:{lineHeight:l.DOT_SIZE+"px"},tooltipIcon:{paddingRight:5,paddingLeft:5},tooltipAssessmentIcon:{paddingLeft:5}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(32)),o=s(n(2)),i=s(n(1)),a=s(n(142));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="invalidVal",h="canSubmit",m="sending",g="sent",y="error";var v={label:{},div:{}},b=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return f(c(t=e.call.apply(e,[this].concat(o))||this),"state",{sendState:p}),f(c(t),"handleSubmit",(function(){var e=t.props,n=e.appType,o=e.channelId,i=e.isLegacyShare;if(t.state.sendState===h){var s=t.refs.phone;t.setState({sendState:m});var l={type:n,phone:(0,r.default)(s).val()};i?l.level_source=+location.pathname.split("/")[2]:l.channel_id=o,r.default.post("/sms/send",r.default.param(l)).done(function(){this.setState({sendState:g}),(0,a.default)("SendToPhone","success")}.bind(c(t))).fail(function(){this.setState({sendState:y}),(0,a.default)("SendToPhone","error")}.bind(c(t)))}})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var s=o.prototype;return s.componentDidMount=function(){this.maskPhoneInput()},s.maskPhoneInput=function(){if(this.refs.phone){var e=this.refs.phone;(0,r.default)(e).mask("(000) 000-0000",{onComplete:function(){this.setState({sendState:h})}.bind(this),onChange:function(){this.setState({sendState:p})}.bind(this)}),e.focus()}},s.render=function(){var e=u(u({},v),this.props.styles);return i.default.createElement("div",null,i.default.createElement("label",{style:e.label,htmlFor:"phone"},"Enter a US phone number:"),i.default.createElement("input",{type:"text",ref:"phone",name:"phone",style:{height:32,margin:0},disabled:this.state.sendState!==p&&this.state.sendState!==h}),i.default.createElement("button",{type:"button",disabled:this.state.sendState===p,onClick:this.handleSubmit},function(e){switch(e){case p:case h:return"Send";case m:return"Sending...";case g:return"Sent!";case y:return"Error!";default:throw new Error("unexpected")}}(this.state.sendState)),i.default.createElement("div",{style:e.div},"A text message will be sent via ",i.default.createElement("a",{href:"http://twilio.com"},"Twilio"),". Charges may apply to the recipient."))},o}(i.default.Component);t.default=b,f(b,"propTypes",{isLegacyShare:o.default.bool.isRequired,channelId:o.default.string,appType:o.default.string.isRequired,styles:o.default.shape({label:o.default.object,div:o.default.object})}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(2)),i=s(n(13)),a=s(n(74));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"copyChannelId",(function(){t.channelId.select(),document.execCommand("copy")})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),o.prototype.render=function(){var e=this,t=this.props.channelId;return r.default.createElement("div",null,r.default.createElement("input",{type:"text",ref:function(t){return e.channelId=t},onClick:function(e){return e.target.select()},readOnly:"true",value:t,style:f.copy}),r.default.createElement(a.default,{onClick:this.copyChannelId,text:i.default.copyId(),style:f.button}))},o}(r.default.Component);t.default=d,c(d,"propTypes",{channelId:o.default.string.isRequired});var f={copy:{cursor:"copy",width:250,height:25,marginBottom:0},button:{marginLeft:10}};e.exports=t.default},function(e,t){var n;n=function(e){"use strict";var t,n,r,o;e.version="0.4.1",e.parse=function(e,o){return n=String(e),r=n.length,a(o),Ge(),function(e){y=v=s,t.locations&&(b=new Ve),_=E=null,w=[],Ze();var n=e||ct(),r=!0;for(e||(n.body=[]);f!==x;){var o=Et();n.body.push(o),r&&pt(o)&&st(!0),r=!1}return ft(n,"Program")}(t.program)};var i=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function a(e){for(var n in t=e||{},i)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=i[n]);o=t.sourceFile||null}var s,l,u,c,d,f,p,h,m,g,y,v,b,_,w,E,O=e.getLineInfo=function(e,t){for(var n=1,r=0;;){We.lastIndex=r;var o=We.exec(e);if(!(o&&o.index<t))break;++n,r=o.index+o[0].length}return{line:n,column:t-r}};function S(e,t){var r=O(n,e);t+=" ("+r.line+":"+r.column+")";var o=new SyntaxError(t);throw o.pos=e,o.loc=r,o.raisedAt=s,o}e.tokenize=function(e,o){n=String(e),r=n.length,a(o),Ge();var i={};function y(e){return Ze(e),i.start=l,i.end=u,i.startLoc=c,i.endLoc=d,i.type=f,i.value=p,i}return y.jumpTo=function(e,r){var o;if(s=e,t.locations)for(m=1,g=We.lastIndex=0;(o=We.exec(n))&&o.index<e;)++m,g=o.index+o[0].length;h=r,Xe()},y};var T=[],C={type:"num"},k={type:"regexp"},A={type:"string"},P={type:"name"},x={type:"eof"},I={keyword:"break"},R={keyword:"case",beforeExpr:!0},D={keyword:"catch"},j={keyword:"continue"},N={keyword:"debugger"},L={keyword:"default"},M={keyword:"do",isLoop:!0},B={keyword:"else",beforeExpr:!0},F={keyword:"finally"},U={keyword:"for",isLoop:!0},H={keyword:"function"},W={keyword:"if"},q={keyword:"return",beforeExpr:!0},z={keyword:"switch"},V={keyword:"throw",beforeExpr:!0},G={keyword:"try"},$={keyword:"var"},K={keyword:"while",isLoop:!0},Y={keyword:"with"},X={keyword:"new",beforeExpr:!0},J={keyword:"this"},Z={keyword:"null",atomValue:null},Q={keyword:"true",atomValue:!0},ee={keyword:"false",atomValue:!1},te={keyword:"in",binop:7,beforeExpr:!0},ne={break:I,case:R,catch:D,continue:j,debugger:N,default:L,do:M,else:B,finally:F,for:U,function:H,if:W,return:q,switch:z,throw:V,try:G,var:$,while:K,with:Y,null:Z,true:Q,false:ee,new:X,in:te,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:J,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},re={type:"[",beforeExpr:!0},oe={type:"]"},ie={type:"{",beforeExpr:!0},ae={type:"}"},se={type:"(",beforeExpr:!0},le={type:")"},ue={type:",",beforeExpr:!0},ce={type:";",beforeExpr:!0},de={type:":",beforeExpr:!0},fe={type:"."},pe={type:"?",beforeExpr:!0},he={binop:10,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},ge={isAssign:!0,beforeExpr:!0},ye={postfix:!0,prefix:!0,isUpdate:!0},ve={prefix:!0,beforeExpr:!0},be={binop:1,beforeExpr:!0},_e={binop:2,beforeExpr:!0},we={binop:3,beforeExpr:!0},Ee={binop:4,beforeExpr:!0},Oe={binop:5,beforeExpr:!0},Se={binop:6,beforeExpr:!0},Te={binop:7,beforeExpr:!0},Ce={binop:8,beforeExpr:!0},ke={binop:9,prefix:!0,beforeExpr:!0},Ae={binop:10,beforeExpr:!0};for(var Pe in e.tokTypes={bracketL:re,bracketR:oe,braceL:ie,braceR:ae,parenL:se,parenR:le,comma:ue,semi:ce,colon:de,dot:fe,question:pe,slash:he,eq:me,name:P,eof:x,num:C,regexp:k,string:A},ne)e.tokTypes["_"+Pe]=ne[Pe];function xe(e){e=e.split(" ");var t="",n=[];e:for(var r=0;r<e.length;++r){for(var o=0;o<n.length;++o)if(n[o][0].length==e[r].length){n[o].push(e[r]);continue e}n.push([e[r]])}function i(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){for(n.sort((function(e,t){return t.length-e.length})),t+="switch(str.length){",r=0;r<n.length;++r){var a=n[r];t+="case "+a[0].length+":",i(a)}t+="}"}else i(e);return new Function("str",t)}var Ie,Re=xe("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),De=xe("class enum extends super const export import"),je=xe("implements interface let package private protected public static yield"),Ne=xe("eval arguments"),Le=xe("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Me=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Be="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Fe=new RegExp("["+Be+"]"),Ue=new RegExp("["+Be+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),He=/[\n\r\u2028\u2029]/,We=/\r\n|[\n\r\u2028\u2029]/g,qe=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&Fe.test(String.fromCharCode(e)))},ze=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&Ue.test(String.fromCharCode(e))))};function Ve(){this.line=m,this.column=s-g}function Ge(){m=1,s=g=0,h=!0,Xe()}function $e(e,n){u=s,t.locations&&(d=new Ve),f=e,Xe(),p=n,h=e.beforeExpr}function Ke(){var e,r=t.onComment&&t.locations&&new Ve,o=s,i=n.indexOf("*/",s+=2);if(-1===i&&S(s-2,"Unterminated comment"),s=i+2,t.locations)for(We.lastIndex=o;(e=We.exec(n))&&e.index<s;)++m,g=e.index+e[0].length;t.onComment&&t.onComment(!0,n.slice(o+2,i),o,s,r,t.locations&&new Ve)}function Ye(){for(var e=s,o=t.onComment&&t.locations&&new Ve,i=n.charCodeAt(s+=2);s<r&&10!==i&&13!==i&&8232!==i&&8233!==i;)++s,i=n.charCodeAt(s);t.onComment&&t.onComment(!1,n.slice(e+2,s),e,s,o,t.locations&&new Ve)}function Xe(){for(;s<r;){var e=n.charCodeAt(s);if(32===e)++s;else if(13===e)++s,10===(o=n.charCodeAt(s))&&++s,t.locations&&(++m,g=s);else if(10===e||8232===e||8233===e)++s,t.locations&&(++m,g=s);else if(e>8&&e<14)++s;else if(47===e){var o;if(42===(o=n.charCodeAt(s+1)))Ke();else{if(47!==o)break;Ye()}}else if(160===e)++s;else{if(!(e>=5760&&Me.test(String.fromCharCode(e))))break;++s}}}function Je(e){switch(e){case 46:return function(){var e=n.charCodeAt(s+1);return e>=48&&e<=57?nt(!0):(++s,$e(fe))}();case 40:return++s,$e(se);case 41:return++s,$e(le);case 59:return++s,$e(ce);case 44:return++s,$e(ue);case 91:return++s,$e(re);case 93:return++s,$e(oe);case 123:return++s,$e(ie);case 125:return++s,$e(ae);case 58:return++s,$e(de);case 63:return++s,$e(pe);case 48:var o=n.charCodeAt(s+1);if(120===o||88===o)return function(){s+=2;var e=tt(16);return null==e&&S(l+2,"Expected hexadecimal number"),qe(n.charCodeAt(s))&&S(s,"Identifier directly after number"),$e(C,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return nt(!1);case 34:case 39:return function(e){s++;for(var o="";;){s>=r&&S(l,"Unterminated string constant");var i=n.charCodeAt(s);if(i===e)return++s,$e(A,o);if(92===i){i=n.charCodeAt(++s);var a=/^[0-7]+/.exec(n.slice(s,s+3));for(a&&(a=a[0]);a&&parseInt(a,8)>255;)a=a.slice(0,-1);if("0"===a&&(a=null),++s,a)E&&S(s-2,"Octal literal in strict mode"),o+=String.fromCharCode(parseInt(a,8)),s+=a.length-1;else switch(i){case 110:o+="\n";break;case 114:o+="\r";break;case 120:o+=String.fromCharCode(rt(2));break;case 117:o+=String.fromCharCode(rt(4));break;case 85:o+=String.fromCharCode(rt(8));break;case 116:o+="\t";break;case 98:o+="\b";break;case 118:o+="\v";break;case 102:o+="\f";break;case 48:o+="\0";break;case 13:10===n.charCodeAt(s)&&++s;case 10:t.locations&&(g=s,++m);break;default:o+=String.fromCharCode(i)}}else 13!==i&&10!==i&&8232!==i&&8233!==i||S(l,"Unterminated string constant"),o+=String.fromCharCode(i),++s}}(e);case 47:return function(){var e=n.charCodeAt(s+1);return h?(++s,et()):61===e?Qe(ge,2):Qe(he,1)}();case 37:case 42:return 61===n.charCodeAt(s+1)?Qe(ge,2):Qe(Ae,1);case 124:case 38:return function(e){var t=n.charCodeAt(s+1);return t===e?Qe(124===e?be:_e,2):61===t?Qe(ge,2):Qe(124===e?we:Oe,1)}(e);case 94:return 61===n.charCodeAt(s+1)?Qe(ge,2):Qe(Ee,1);case 43:case 45:return function(e){var t=n.charCodeAt(s+1);return t===e?45==t&&62==n.charCodeAt(s+2)&&He.test(n.slice(v,s))?(s+=3,Ye(),Xe(),Ze()):Qe(ye,2):61===t?Qe(ge,2):Qe(ke,1)}(e);case 60:case 62:return function(e){var t=n.charCodeAt(s+1),r=1;return t===e?(r=62===e&&62===n.charCodeAt(s+2)?3:2,61===n.charCodeAt(s+r)?Qe(ge,r+1):Qe(Ce,r)):33==t&&60==e&&45==n.charCodeAt(s+2)&&45==n.charCodeAt(s+3)?(s+=4,Ye(),Xe(),Ze()):(61===t&&(r=61===n.charCodeAt(s+2)?3:2),Qe(Te,r))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(s+1)?Qe(Se,61===n.charCodeAt(s+2)?3:2):Qe(61===e?me:ve,1)}(e);case 126:return Qe(ve,1)}return!1}function Ze(e){if(e?s=l+1:l=s,t.locations&&(c=new Ve),e)return et();if(s>=r)return $e(x);var o=n.charCodeAt(s);if(qe(o)||92===o)return it();var i=Je(o);if(!1===i){var a=String.fromCharCode(o);if("\\"===a||Fe.test(a))return it();S(s,"Unexpected character '"+a+"'")}return i}function Qe(e,t){var r=n.slice(s,s+t);s+=t,$e(e,r)}function et(){for(var e,t,o=s;;){s>=r&&S(o,"Unterminated regular expression");var i=n.charAt(s);if(He.test(i)&&S(o,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++s}var a=n.slice(o,s);++s;var l=ot();return l&&!/^[gmsiy]*$/.test(l)&&S(o,"Invalid regexp flag"),$e(k,new RegExp(a,l))}function tt(e,t){for(var r=s,o=0,i=0,a=null==t?1/0:t;i<a;++i){var l,u=n.charCodeAt(s);if((l=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;++s,o=o*e+l}return s===r||null!=t&&s-r!==t?null:o}function nt(e){var t=s,r=!1,o=48===n.charCodeAt(s);e||null!==tt(10)||S(t,"Invalid number"),46===n.charCodeAt(s)&&(++s,tt(10),r=!0);var i=n.charCodeAt(s);69!==i&&101!==i||(43!==(i=n.charCodeAt(++s))&&45!==i||++s,null===tt(10)&&S(t,"Invalid number"),r=!0),qe(n.charCodeAt(s))&&S(s,"Identifier directly after number");var a,l=n.slice(t,s);return r?a=parseFloat(l):o&&1!==l.length?/[89]/.test(l)||E?S(t,"Invalid number"):a=parseInt(l,8):a=parseInt(l,10),$e(C,a)}function rt(e){var t=tt(16,e);return null===t&&S(l,"Bad character escape sequence"),t}function ot(){Ie=!1;for(var e,t=!0,r=s;;){var o=n.charCodeAt(s);if(ze(o))Ie&&(e+=n.charAt(s)),++s;else{if(92!==o)break;Ie||(e=n.slice(r,s)),Ie=!0,117!=n.charCodeAt(++s)&&S(s,"Expecting Unicode escape sequence \\uXXXX"),++s;var i=rt(4),a=String.fromCharCode(i);a||S(s-1,"Invalid Unicode escape"),(t?qe(i):ze(i))||S(s-4,"Invalid Unicode escape"),e+=a}t=!1}return Ie?e:n.slice(r,s)}function it(){var e=ot(),n=P;return Ie||(Le(e)?n=ne[e]:(t.forbidReserved&&(3===t.ecmaVersion?Re:De)(e)||E&&je(e))&&S(l,"The keyword '"+e+"' is reserved")),$e(n,e)}function at(){y=l,v=u,b=d,Ze()}function st(e){if(E=e,s=v,t.locations)for(;s<g;)g=n.lastIndexOf("\n",g-2)+1,--m;Xe(),Ze()}function lt(){this.type=null,this.start=l,this.end=null}function ut(){this.start=c,this.end=null,null!==o&&(this.source=o)}function ct(){var e=new lt;return t.locations&&(e.loc=new ut),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function dt(e){var n=new lt;return n.start=e.start,t.locations&&(n.loc=new ut,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function ft(e,n){return e.type=n,e.end=v,t.locations&&(e.loc.end=b),t.ranges&&(e.range[1]=v),e}function pt(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function ht(e){if(f===e)return at(),!0}function mt(){return!t.strictSemicolons&&(f===x||f===ae||He.test(n.slice(v,l)))}function gt(){ht(ce)||mt()||vt()}function yt(e){f===e?at():vt()}function vt(){S(l,"Unexpected token")}function bt(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&S(e.start,"Assigning to rvalue"),E&&"Identifier"===e.type&&Ne(e.name)&&S(e.start,"Assigning to "+e.name+" in strict mode")}var _t={kind:"loop"},wt={kind:"switch"};function Et(){(f===he||f===ge&&"/="==p)&&Ze(!0);var e=f,t=ct();switch(e){case I:case j:at();var r=e===I;ht(ce)||mt()?t.label=null:f!==P?vt():(t.label=Mt(),gt());for(var o=0;o<w.length;++o){var i=w[o];if(null==t.label||i.name===t.label.name){if(null!=i.kind&&(r||"loop"===i.kind))break;if(t.label&&r)break}}return o===w.length&&S(t.start,"Unsyntactic "+e.keyword),ft(t,r?"BreakStatement":"ContinueStatement");case N:return at(),gt(),ft(t,"DebuggerStatement");case M:return at(),w.push(_t),t.body=Et(),w.pop(),yt(K),t.test=Ot(),gt(),ft(t,"DoWhileStatement");case U:if(at(),w.push(_t),yt(se),f===ce)return Tt(t,null);if(f===$){var a=ct();return at(),kt(a,!0),ft(a,"VariableDeclaration"),1===a.declarations.length&&ht(te)?Ct(t,a):Tt(t,a)}return a=At(!1,!0),ht(te)?(bt(a),Ct(t,a)):Tt(t,a);case H:return at(),Nt(t,!0);case W:return at(),t.test=Ot(),t.consequent=Et(),t.alternate=ht(B)?Et():null,ft(t,"IfStatement");case q:return _||S(l,"'return' outside of function"),at(),ht(ce)||mt()?t.argument=null:(t.argument=At(),gt()),ft(t,"ReturnStatement");case z:at(),t.discriminant=Ot(),t.cases=[],yt(ie),w.push(wt);for(var s,u;f!=ae;)if(f===R||f===L){var c=f===R;s&&ft(s,"SwitchCase"),t.cases.push(s=ct()),s.consequent=[],at(),c?s.test=At():(u&&S(y,"Multiple default clauses"),u=!0,s.test=null),yt(de)}else s||vt(),s.consequent.push(Et());return s&&ft(s,"SwitchCase"),at(),w.pop(),ft(t,"SwitchStatement");case V:return at(),He.test(n.slice(v,l))&&S(v,"Illegal newline after throw"),t.argument=At(),gt(),ft(t,"ThrowStatement");case G:if(at(),t.block=St(),t.handler=null,f===D){var d=ct();at(),yt(se),d.param=Mt(),E&&Ne(d.param.name)&&S(d.param.start,"Binding "+d.param.name+" in strict mode"),yt(le),d.guard=null,d.body=St(),t.handler=ft(d,"CatchClause")}return t.guardedHandlers=T,t.finalizer=ht(F)?St():null,t.handler||t.finalizer||S(t.start,"Missing catch or finally clause"),ft(t,"TryStatement");case $:return at(),kt(t),gt(),ft(t,"VariableDeclaration");case K:return at(),t.test=Ot(),w.push(_t),t.body=Et(),w.pop(),ft(t,"WhileStatement");case Y:return E&&S(l,"'with' in strict mode"),at(),t.object=Ot(),t.body=Et(),ft(t,"WithStatement");case ie:return St();case ce:return at(),ft(t,"EmptyStatement");default:var h=p,m=At();if(e===P&&"Identifier"===m.type&&ht(de)){for(o=0;o<w.length;++o)w[o].name===h&&S(m.start,"Label '"+h+"' is already declared");var g=f.isLoop?"loop":f===z?"switch":null;return w.push({name:h,kind:g}),t.body=Et(),w.pop(),t.label=m,ft(t,"LabeledStatement")}return t.expression=m,gt(),ft(t,"ExpressionStatement")}}function Ot(){yt(se);var e=At();return yt(le),e}function St(e){var t,n=ct(),r=!0,o=!1;for(n.body=[],yt(ie);!ht(ae);){var i=Et();n.body.push(i),r&&e&&pt(i)&&(t=o,st(o=!0)),r=!1}return o&&!t&&st(!1),ft(n,"BlockStatement")}function Tt(e,t){return e.init=t,yt(ce),e.test=f===ce?null:At(),yt(ce),e.update=f===le?null:At(),yt(le),e.body=Et(),w.pop(),ft(e,"ForStatement")}function Ct(e,t){return e.left=t,e.right=At(),yt(le),e.body=Et(),w.pop(),ft(e,"ForInStatement")}function kt(e,t){for(e.declarations=[],e.kind="var";;){var n=ct();if(n.id=Mt(),E&&Ne(n.id.name)&&S(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=ht(me)?At(!0,t):null,e.declarations.push(ft(n,"VariableDeclarator")),!ht(ue))break}return e}function At(e,t){var n=Pt(t);if(!e&&f===ue){var r=dt(n);for(r.expressions=[n];ht(ue);)r.expressions.push(Pt(t));return ft(r,"SequenceExpression")}return n}function Pt(e){var t=function(e){var t=function(e){return xt(It(),-1,e)}(e);if(ht(pe)){var n=dt(t);return n.test=t,n.consequent=At(!0),yt(de),n.alternate=At(!0,e),ft(n,"ConditionalExpression")}return t}(e);if(f.isAssign){var n=dt(t);return n.operator=p,n.left=t,at(),n.right=Pt(e),bt(t),ft(n,"AssignmentExpression")}return t}function xt(e,t,n){var r=f.binop;if(null!=r&&(!n||f!==te)&&r>t){var o=dt(e);o.left=e,o.operator=p;var i=f;return at(),o.right=xt(It(),r,n),xt(ft(o,i===be||i===_e?"LogicalExpression":"BinaryExpression"),t,n)}return e}function It(){if(f.prefix){var e=ct(),t=f.isUpdate;return e.operator=p,e.prefix=!0,h=!0,at(),e.argument=It(),t?bt(e.argument):E&&"delete"===e.operator&&"Identifier"===e.argument.type&&S(e.start,"Deleting local variable in strict mode"),ft(e,t?"UpdateExpression":"UnaryExpression")}for(var n=Rt(Dt());f.postfix&&!mt();)(e=dt(n)).operator=p,e.prefix=!1,e.argument=n,bt(n),at(),n=ft(e,"UpdateExpression");return n}function Rt(e,t){var n;return ht(fe)?((n=dt(e)).object=e,n.property=Mt(!0),n.computed=!1,Rt(ft(n,"MemberExpression"),t)):ht(re)?((n=dt(e)).object=e,n.property=At(),n.computed=!0,yt(oe),Rt(ft(n,"MemberExpression"),t)):!t&&ht(se)?((n=dt(e)).callee=e,n.arguments=Lt(le,!1),Rt(ft(n,"CallExpression"),t)):e}function Dt(){switch(f){case J:var e=ct();return at(),ft(e,"ThisExpression");case P:return Mt();case C:case A:case k:return(e=ct()).value=p,e.raw=n.slice(l,u),at(),ft(e,"Literal");case Z:case Q:case ee:return(e=ct()).value=f.atomValue,e.raw=f.keyword,at(),ft(e,"Literal");case se:var r=c,o=l;at();var i=At();return i.start=o,i.end=u,t.locations&&(i.loc.start=r,i.loc.end=d),t.ranges&&(i.range=[o,u]),yt(le),i;case re:return e=ct(),at(),e.elements=Lt(oe,!0,!0),ft(e,"ArrayExpression");case ie:return function(){var e=ct(),n=!0,r=!1;for(e.properties=[],at();!ht(ae);){if(n)n=!1;else if(yt(ue),t.allowTrailingCommas&&ht(ae))break;var o,i={key:jt()},a=!1;if(ht(de)?(i.value=At(!0),o=i.kind="init"):t.ecmaVersion>=5&&"Identifier"===i.key.type&&("get"===i.key.name||"set"===i.key.name)?(a=r=!0,o=i.kind=i.key.name,i.key=jt(),f!==se&&vt(),i.value=Nt(ct(),!1)):vt(),"Identifier"===i.key.type&&(E||r))for(var s=0;s<e.properties.length;++s){var l=e.properties[s];if(l.key.name===i.key.name){var u=o==l.kind||a&&"init"===l.kind||"init"===o&&("get"===l.kind||"set"===l.kind);u&&!E&&"init"===o&&"init"===l.kind&&(u=!1),u&&S(i.key.start,"Redefinition of property")}}e.properties.push(i)}return ft(e,"ObjectExpression")}();case H:return e=ct(),at(),Nt(e,!1);case X:return function(){var e=ct();return at(),e.callee=Rt(Dt(),!0),ht(se)?e.arguments=Lt(le,!1):e.arguments=T,ft(e,"NewExpression")}();default:vt()}}function jt(){return f===C||f===A?Dt():Mt(!0)}function Nt(e,t){f===P?e.id=Mt():t?vt():e.id=null,e.params=[];var n=!0;for(yt(se);!ht(le);)n?n=!1:yt(ue),e.params.push(Mt());var r=_,o=w;if(_=!0,w=[],e.body=St(!0),_=r,w=o,E||e.body.body.length&&pt(e.body.body[0]))for(var i=e.id?-1:0;i<e.params.length;++i){var a=i<0?e.id:e.params[i];if((je(a.name)||Ne(a.name))&&S(a.start,"Defining '"+a.name+"' in strict mode"),i>=0)for(var s=0;s<i;++s)a.name===e.params[s].name&&S(a.start,"Argument name clash in strict mode")}return ft(e,t?"FunctionDeclaration":"FunctionExpression")}function Lt(e,n,r){for(var o=[],i=!0;!ht(e);){if(i)i=!1;else if(yt(ue),n&&t.allowTrailingCommas&&ht(e))break;r&&f===ue?o.push(null):o.push(At(!0))}return o}function Mt(e){var n=ct();return n.name=f===P?p:e&&!t.forbidReserved&&f.keyword||vt(),h=!1,at(),ft(n,"Identifier")}},n(t)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(1402)),i=n(197);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l,u,c,d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),i.prototype.render=function(){var e=this.props.groupedLesson,t=e.lessons,n=e.levelsByLesson;if(t.length!==n.length)throw new Error("Inconsistent number of lessons");return r.default.createElement("div",{className:"uitest-detail-progress-table"},t.map((function(e,t){return r.default.createElement(o.default,{key:t,lesson:e,levels:n[t]})})))},i}(r.default.Component);t.default=d,l=d,u="propTypes",c={groupedLesson:i.groupedLessonsType.isRequired},u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(13)),s=c(n(20)),l=c(n(165));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){return i.default.createElement("div",null,this.props.description&&i.default.createElement("div",null,i.default.createElement("h4",{style:g.subTitle},a.default.description()),i.default.createElement("div",{style:g.description},i.default.createElement(l.default,{openExternalLinksInNewTab:!0,markdown:this.props.description}))),this.props.bigQuestions&&i.default.createElement("div",null,i.default.createElement("h4",{style:g.subTitle},a.default.bigQuestions()),i.default.createElement("div",{style:g.description},i.default.createElement(l.default,{openExternalLinksInNewTab:!0,markdown:this.props.bigQuestions}))))},r}(i.Component);t.default=m,f=m,p="propTypes",h={description:o.default.string,bigQuestions:o.default.string},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g={description:{color:s.default.dark_charcoal,fontFamily:'"Gotham 4r", sans-serif'},bigQuestion:{fontWeight:"bolder",fontFamily:'"Gotham 7r", sans-serif'},subTitle:{color:s.default.teal}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(1)),o=a(n(2)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.src;return r.default.createElement("img",{style:l.img,src:t})}s.propTypes={src:o.default.string.isRequired};var l={img:{boxShadow:"0 10px 13px -11px ".concat(i.default.black),border:"2px solid ".concat(i.default.light_gray),borderRadius:25,boxSizing:"border-box"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(2)),o=d(n(1)),i=d(n(1057)),a=d(n(1072)),s=d(n(821)),l=d(n(903)),u=d(n(853)),c=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this.props,t=e.inTopPane,n=e.instructions,r=e.onResize,d=e.isBlockly,f=e.noInstructionsWhenCollapsed,p=e.inputOutputTable,h=e.imgURL,m=e.authoredHints;return o.default.createElement("div",{style:t?y.inTopPane:y.notInTopPane},n&&o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{title:c.default.instructions(),text:n}),o.default.createElement(i.default,{markdown:n,onResize:r,inTopPane:t,isBlockly:d,noInstructionsWhenCollapsed:f})),p&&o.default.createElement(a.default,{data:p}),h&&!t&&o.default.createElement(u.default,{src:h}),h&&t&&o.default.createElement(s.default,null),m)},r}(o.default.Component);t.default=g,p=g,h="propTypes",m={instructions:r.default.string,imgURL:r.default.string,authoredHints:r.default.element,inputOutputTable:r.default.arrayOf(r.default.arrayOf(r.default.number)),inTopPane:r.default.bool,onResize:r.default.func,isBlockly:r.default.bool,noInstructionsWhenCollapsed:r.default.bool},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={inTopPane:{overflow:"hidden"},notInTopPane:{overflow:"auto"}};e.exports=t.default},(e,t,n)=>{"use strict";var r=n(137),o=n(534).parseElement,i=function e(t,n,o){if(t.feedbackType===r.TestResults.MISSING_BLOCK_UNFINISHED||t.feedbackType===r.TestResults.MISSING_BLOCK_FINISHED||t.feedbackType===r.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED||t.feedbackType===r.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED){var i=[];n.blocksToDisplay.length?a(n):a(o),0!==i.length&&(this.xml=e.generateXMLForBlocks(i),this.div=document.createElement("div"),this.div.setAttribute("id","feedbackBlocks"),this.blockSpaceEditor=void 0)}function a(e){i=e.blocksToDisplay,e.message&&(t.message=e.message)}};e.exports=i,i.prototype.render=function(){if(document.body.contains(this.div)){var e=o(this.xml),t=Blockly.BlockSpace.createReadOnlyBlockSpace(this.div,e);this.blockSpaceEditor=t.blockSpaceEditor}},i.prototype.show=function(){this.div.style.visibility="",this.div.style.height="",this.blockSpaceEditor&&this.blockSpaceEditor.svgResize()},i.prototype.hide=function(){this.div.style.visibility="hidden",this.div.style.height="0px"},i.generateXMLForBlocks=function(e){for(var t,n,r=["<xml>"],o=10,i=0,a=0;a<e.length;a++){var s=e[a];if(s.blockDisplayXML)r.push(s.blockDisplayXML);else{if(r.push("<block",' type="',s.type,'" x="',o.toString(),'" y="',i,'">'),s.titles){var l=Object.keys(s.titles);for(t=0;t<l.length;t++)n=l[t],r.push('<title name="',n,'">',s.titles[n],"</title>")}if(s.values){var u=Object.keys(s.values);for(t=0;t<u.length;t++)n=u[t],r.push('<value name="',n,'">',s.values[n],"</value>")}s.extra&&r.push(s.extra),r.push("</block>"),(a+1)%2==0?(i+=120,o=0):o+=200}}return r.push("</xml>"),r.join("")}},(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<% var i18n = require(\'@cdo/locale\'); %>\n<% function getPrefixedName () {\n  return locals.tipPrefix ? locals.tipPrefix + locals.functionName : locals.functionName;\n} %>\n<div class="function-name">\n  <% if (locals.signatureOverride) { -%>\n    <%= locals.signatureOverride %>\n  <% } else if (locals.isProperty) { -%>\n    <%= getPrefixedName() %>\n  <% } else {\n    /**\n     * TODO(bjordan): would be nice to split the following line up, can\'t figure\n     * out how to do so without inserting extraneous spaces between locals.parameters.\n     */\n    -%>\n    <%= getPrefixedName() %>(<% for (var i = 0; i < locals.parameters.length; i++) { -%><%- locals.parameters[i].name -%><% if (i < locals.parameters.length - 1) { -%>, <% } -%><% } -%>)\n  <% } %>\n</div>\n<% if (locals.functionShortDescription) { %>\n  <% locals.functionShortDescription.split(\'\\n\').map(function(descriptionLine) { %>\n    <div>\n      <%= descriptionLine %>\n    </div>\n  <% }) %>\n<% } %>\n<% var linkText = "" %>\n<% if (locals.showCodeLink) { %>\n  <div class="tooltip-code-link">\n    <a href="#"><%= i18n.showGeneratedCode() %></a>\n  </div>\n<% } %>\n<% if (locals.showExamplesLink) { %>\n  <div class="tooltip-example-link">\n    <a href="#"><%= i18n.examples() %></a>\n  </div>\n<% } %>\n',__filename="src/blockTooltips/DropletFunctionTooltip.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var i18n=__webpack_require__(13);function getPrefixedName(){return locals.tipPrefix?locals.tipPrefix+locals.functionName:locals.functionName}if(__append("\n"),__line=2,__line=4,__append('\n<div class="function-name">\n  '),__line=6,locals.signatureOverride)__append("    "),__line=7,__append(escapeFn(locals.signatureOverride)),__append("\n  "),__line=8;else if(locals.isProperty)__append("    "),__line=9,__append(escapeFn(getPrefixedName())),__append("\n  "),__line=10;else{__line=15,__append("    "),__line=16,__append(escapeFn(getPrefixedName())),__append("(");for(var i=0;i<locals.parameters.length;i++)__append(locals.parameters[i].name),i<locals.parameters.length-1&&__append(", ");__append(")\n  "),__line=17}__append("\n</div>\n"),__line=19,locals.functionShortDescription&&(__append("\n  "),__line=20,locals.functionShortDescription.split("\n").map((function(e){__append("\n    <div>\n      "),__line=22,__append(escapeFn(e)),__append("\n    </div>\n  "),__line=24})),__append("\n"),__line=25),__append("\n"),__line=26;var linkText="";__append("\n"),__line=27,locals.showCodeLink&&(__append('\n  <div class="tooltip-code-link">\n    <a href="#">'),__line=29,__append(escapeFn(i18n.showGeneratedCode())),__append("</a>\n  </div>\n"),__line=31),__append("\n"),__line=32,locals.showExamplesLink&&(__append('\n  <div class="tooltip-example-link">\n    <a href="#">'),__line=34,__append(escapeFn(i18n.examples())),__append("</a>\n  </div>\n"),__line=36),__append("\n"),__line=37}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.showProjectHeader=t.showProjectBackedHeader=t.showMinimalProjectHeader=t.showLevelBuilderSaveButton=t.possibleHeaders=t.default=void 0;var i="header/SHOW_PROJECT_HEADER",a="header/SHOW_MINIMAL_PROJECT_HEADER",s="header/SHOW_PROJECT_BACKED_HEADER",l="header/ENABLE_LEVEL_BUILDER_SAVE_BUTTON",u={project:"project",minimalProject:"minimalProject",projectBacked:"projectBacked",levelBuilderSave:"levelBuilderSave"};t.possibleHeaders=u;var c={currentHeader:void 0,getLevelBuilderChanges:void 0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;if(t.type===i)return r(r({},e),{},{currentHeader:u.project});if(t.type===a)return r(r({},e),{},{currentHeader:u.minimalProject});if(t.type===s)return r(r({},e),{},{currentHeader:u.projectBacked});if(t.type===l&&t.getChanges){var n=r(r({},e),{},{currentHeader:u.levelBuilderSave,getLevelBuilderChanges:t.getChanges});return t.overrideHeaderText&&(n.overrideHeaderText=t.overrideHeaderText),t.overrideOnSaveURL&&(n.overrideOnSaveURL=t.overrideOnSaveURL),n}return e};t.showProjectHeader=function(){return{type:i}};t.showMinimalProjectHeader=function(){return{type:a}};t.showProjectBackedHeader=function(){return{type:s}};t.showLevelBuilderSaveButton=function(e,t,n){return{type:l,getChanges:e,overrideHeaderText:t,overrideOnSaveURL:n}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.studentShape=t.sectionData=t.levelWithProgress=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(621);var a=o.default.shape({is_verified_instructor:o.default.bool,lesson_extra:s,level_examples:o.default.array,page_type:o.default.string,script_id:o.default.number,script_name:o.default.string,section:o.default.object});t.sectionData=a;var s=o.default.shape({bonusLevels:o.default.array,lessonNumber:o.default.number,nextLessonNumber:o.default.number,nextLevelPath:o.default.string}),l=o.default.shape({id:o.default.string.isRequired,contained:o.default.bool,submitLevel:o.default.bool,paired:o.default.bool,partnerNames:o.default.arrayOf(o.default.string),partnerCount:o.default.number,isConceptLevel:o.default.bool,userId:o.default.number.isRequired,passed:o.default.bool.isRequired,status:o.default.string.isRequired,levelNumber:o.default.number,assessment:o.default.bool,bonus:o.default.bool,teacherFeedbackReviewState:o.default.oneOf(Object.keys(i.ReviewStates)),kind:o.default.string,userLevelId:o.default.number,updatedAt:o.default.date});t.levelWithProgress=l;var u=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired});t.studentShape=u},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teacherDashboardUrl=t.scriptUrlForStudent=void 0;var n="/teacher_dashboard/sections/";t.teacherDashboardUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&"/"!==t.charAt(0)&&(t="/${path}"),n+e+t};t.scriptUrlForStudent=function(e,t,n){return t?"/s/".concat(t,"?section_id=").concat(e,"&user_id=").concat(n,"&viewAs=Instructor"):null}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=void 0;var r=d(n(2)),o=d(n(1)),i=d(n(13)),a=n(27),s=d(n(726)),l=n(492),u=d(n(1010)),c=d(n(846));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={buttonWrapper:{float:"left",display:"flex"},buttonSpacing:{marginTop:0,marginBottom:0,marginLeft:10,marginRight:0,boxShadow:"none"}};t.styles=g;var y=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){return o.default.createElement("div",{style:g.buttonWrapper},o.default.createElement("div",{className:"project_name_wrapper header_text",tabIndex:0},o.default.createElement("div",{className:"project_name header_text"},this.props.projectName),o.default.createElement(s.default,null)),o.default.createElement("button",{type:"button",className:"project_edit header_button header_button_light no-mc",style:g.buttonSpacing,onClick:this.props.beginEdit},i.default.rename()))},t}(o.default.Component);m(y,"propTypes",{beginEdit:r.default.func.isRequired,projectName:r.default.string.isRequired});var v=(0,a.connect)((function(e){return{projectName:e.project.projectName}}))(y),b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(f(t=e.call.apply(e,[this].concat(r))||this),"state",{savingName:!1}),m(f(t),"saveNameChange",(function(){if(!t.state.savingName){var e=t.nameChangeInput.value.trim().substr(0,100);0!==e.length&&(t.setState({savingName:!0}),dashboard.project.rename(e).then((function(){t.setState({savingName:!1}),dashboard.header.updateTimestamp(),t.props.refreshProjectName(),t.props.finishEdit()})).catch((function(e){e instanceof c.default&&t.props.setNameFailure(e.nameFailure),t.setState({savingName:!1})})))}})),t}return p(t,e),t.prototype.render=function(){var e=this;return o.default.createElement("div",{style:g.buttonWrapper},o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("input",{type:"text",className:"project_name header_input",maxLength:"100",defaultValue:this.props.projectName,ref:function(t){e.nameChangeInput=t}})),o.default.createElement("button",{type:"button",className:"project_save header_button header_button_light no-mc",onClick:this.saveNameChange,disabled:this.state.savingName,style:g.buttonSpacing},i.default.save()),o.default.createElement(u.default,{flaggedText:this.props.projectNameFailure,isOpen:!!this.props.projectNameFailure,handleClose:this.props.unsetNameFailure}))},t}(o.default.Component);m(b,"propTypes",{finishEdit:r.default.func.isRequired,projectName:r.default.string.isRequired,refreshProjectName:r.default.func.isRequired,projectNameFailure:r.default.string,setNameFailure:r.default.func.isRequired,unsetNameFailure:r.default.func.isRequired});var _=(0,a.connect)((function(e){return{projectName:e.project.projectName,projectNameFailure:e.project.projectNameFailure}}),{refreshProjectName:l.refreshProjectName,setNameFailure:l.setNameFailure,unsetNameFailure:l.unsetNameFailure})(b),w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(f(t=e.call.apply(e,[this].concat(r))||this),"state",{editName:!1}),m(f(t),"beginEdit",(function(){t.setState({editName:!0})})),m(f(t),"finishEdit",(function(){t.setState({editName:!1})})),t}p(t,e);var n=t.prototype;return n.componentDidUpdate=function(){this.props.onChangedWidth&&this.props.onChangedWidth()},n.render=function(){return this.state.editName?o.default.createElement(_,{finishEdit:this.finishEdit}):o.default.createElement(v,{beginEdit:this.beginEdit})},t}(o.default.Component);t.default=w,m(w,"propTypes",{onChangedWidth:r.default.func})},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProjectRemix=void 0;var o=f(n(2)),i=f(n(1)),a=n(27),s=f(n(13)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(33)),u=n(492),c=n(860);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(p(t=e.call.apply(e,[this].concat(r))||this),"remixProject",(function(){if(dashboard.project.getCurrentId()&&dashboard.project.canServerSideRemix())dashboard.project.serverSideRemix();else if(t.props.isSignedIn){var e="Remix: "+(dashboard.project.getCurrentName()||appOptions.level.projectTemplateLevelName||"My Project");dashboard.project.copy(e,{shouldNavigate:!0}).then((function(){return t.props.refreshProjectName()})).catch((function(e){return console.log(e)}))}else l.navigateToHref("/users/sign_in?user_return_to=".concat(window.location.pathname))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e="project_remix header_button no-mc";return this.props.lightStyle&&(e+=" header_button_light"),i.default.createElement("button",{type:"button",className:e,onClick:this.remixProject,style:c.styles.buttonSpacing},s.default.remix())},r}(i.default.Component);m(g,"propTypes",{isSignedIn:o.default.bool,lightStyle:o.default.bool,refreshProjectName:o.default.func.isRequired});var y=g;t.UnconnectedProjectRemix=y;var v=(0,a.connect)((function(e){return{isSignedIn:e.pageConstants&&e.pageConstants.isSignedIn}}),{refreshProjectName:u.refreshProjectName})(g);t.default=v},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(636)),o=p(n(989)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=p(n(1)),l=p(n(863)),u=p(n(775)),c=p(n(776)),d=p(n(637)),f=n(611);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=e.renderers;return n&&n.row&&n.row.shouldComponentUpdate?!(0,r.default)(n.row.shouldComponentUpdate)||n.row.shouldComponentUpdate.call(this,e):!((0,l.default)(t.columns,e.columns)&&(0,o.default)(t.rowData,e.rowData))}},{key:"render",value:function(){var e=this.props,t=e.columns,n=e.renderers,r=e.onRow,o=e.rowKey,a=e.rowIndex,l=e.rowData;return s.default.createElement(n.row,r(l,{rowIndex:a,rowKey:o}),t.map((function(e,t){var r=e.property,f=e.cell,p=e.props,h=r||f&&f.property,m=f||{},g=m.transforms,y=void 0===g?[]:g,v=m.formatters,b=void 0===v?[]:v,_={columnIndex:t,property:h,column:e,rowData:l,rowIndex:a,rowKey:o},w=(0,c.default)(y,l[h],_);return w||console.warn("Table.Body - Failed to receive a transformed result"),s.default.createElement(n.cell,i({key:t+"-cell"},(0,d.default)(p,f&&f.props,w)),w.children||(0,u.default)(b)(l["_"+h]||l[h],_))})))}}]),t}(s.default.Component);g.defaultProps=f.tableBodyRowDefaults,t.default=g},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1449)),o=i(n(636));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,r.default)(e,t,(function(e,t){if((0,o.default)(e)&&(0,o.default)(t))return!0}))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(801);(r=o)&&r.__esModule;t.default=function(e){var t=e.rowData,n=e.rowIndex,r=e.rowKey;return"function"==typeof r?r({rowData:t,rowIndex:n})+"-row":0===t[r]?t[r]+"-row":(t[r]||n)+"-row"}},function(e,t,n){"use strict";var r=n(850),o=e.exports=function(e,t){"string"==typeof e&&(e=r.parse(e,o.PARSE_OPTIONS)),this.ast=e,this.initFunc_=t,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.functionMap_=Object.create(null);var n,i=/^step([A-Z]\w*)$/;for(var a in this)(n=a.match(i))&&(this.functionMap_[n[1]]=this[a].bind(this));var s={properties:{prototype:null}};this.NUMBER=s,this.BOOLEAN=s,this.STRING=s,this.UNDEFINED=new o.Primitive(void 0,this),this.NULL=new o.Primitive(null,this),this.NAN=new o.Primitive(NaN,this),this.TRUE=new o.Primitive(!0,this),this.FALSE=new o.Primitive(!1,this),this.NUMBER_ZERO=new o.Primitive(0,this),this.NUMBER_ONE=new o.Primitive(1,this),this.STRING_EMPTY=new o.Primitive("",this),this.global=this.createScope(this.ast,null),this.NAN.proto=this.NUMBER.properties.prototype,this.TRUE.proto=this.BOOLEAN.properties.prototype,this.FALSE.proto=this.BOOLEAN.properties.prototype,this.NUMBER_ZERO.proto=this.NUMBER.properties.prototype,this.NUMBER_ONE.proto=this.NUMBER.properties.prototype,this.STRING_EMPTY.proto=this.STRING.properties.prototype,this.ast=r.parse(this.polyfills_.join("\n"),o.PARSE_OPTIONS),this.polyfills_=void 0,this.stripLocations_(this.ast,void 0,void 0),this.stateStack=[{node:this.ast,scope:this.global,thisExpression:this.global,done:!1}],this.run(),this.value=this.UNDEFINED,this.ast=e,this.stateStack=[{node:this.ast,scope:this.global,thisExpression:this.global,done:!1}],this.UNDEFINED=this.UNDEFINED,this.NULL=this.NULL,this.NAN=this.NAN,this.TRUE=this.TRUE,this.FALSE=this.FALSE};o.PARSE_OPTIONS={ecmaVersion:5},o.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},o.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},o.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},o.toStringCycles_=[],o.generateAST=function(e,t){var n=o.PARSE_OPTIONS;return Object.keys(t).forEach((function(e){n[e]=t[e]})),r.parse(e,n)},o.prototype.appendCode=function(e,t){void 0===t&&(t={});var n=this.stateStack[0];if(!n||"Program"!=n.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof e){var i={};for(var a in o.PARSE_OPTIONS)i[a]=o.PARSE_OPTIONS[a];for(var a in t)i[a]=t[a];e=r.parse(e,i)}if(!e||"Program"!=e.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(e,n.scope);for(var s,l=0;s=e.body[l];l++)n.node.body.push(s);n.done=!1},o.prototype.step=function(){var e;do{var t=this.stateStack,n=t[t.length-1];if(!n)return!1;var r=(e=n.node).type;if("Program"===r&&n.done)return!1;if(this.paused_)return!0;this.functionMap_[r]()}while(!e.end);return!0},o.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},o.prototype.initGlobalScope=function(e){this.setProperty(e,"Infinity",this.createPrimitive(1/0),o.READONLY_DESCRIPTOR),this.setProperty(e,"NaN",this.NAN,o.READONLY_DESCRIPTOR),this.setProperty(e,"undefined",this.UNDEFINED,o.READONLY_DESCRIPTOR),this.setProperty(e,"window",e,o.READONLY_DESCRIPTOR),this.setProperty(e,"self",e),this.initFunction(e),this.initObject(e),e.proto=this.OBJECT.properties.prototype,this.setProperty(e,"constructor",this.OBJECT),this.initArray(e),this.initNumber(e),this.initString(e),this.initBoolean(e),this.initDate(e),this.initMath(e),this.initRegExp(e),this.initJSON(e),this.initError(e);var t,n=this;t=function(e){return e=e||n.UNDEFINED,n.createPrimitive(isNaN(e.toNumber()))},this.setProperty(e,"isNaN",this.createNativeFunction(t,!1)),t=function(e){return e=e||n.UNDEFINED,n.createPrimitive(isFinite(e.toNumber()))},this.setProperty(e,"isFinite",this.createNativeFunction(t,!1)),this.setProperty(e,"parseFloat",this.getProperty(this.NUMBER,"parseFloat")),this.setProperty(e,"parseInt",this.getProperty(this.NUMBER,"parseInt"));var r=this.createObject(this.FUNCTION);r.eval=!0,this.setProperty(r,"length",this.NUMBER_ONE,o.READONLY_DESCRIPTOR),this.setProperty(e,"eval",r);for(var i=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],a=0;a<i.length;a++)t=function(e){return function(t){t=(t||n.UNDEFINED).toString();try{t=e(t)}catch(r){n.throwException(n.URI_ERROR,r.message)}return n.createPrimitive(t)}}(i[a][0]),this.setProperty(e,i[a][1],this.createNativeFunction(t,!1));this.initFunc_&&this.initFunc_(this,e)},o.prototype.initFunction=function(e){var t,n=this,i=/^[A-Za-z_$][\w$]*$/;t=function(e){if(n.calledWithNew())var t=this;else t=n.createObject(n.FUNCTION);if(arguments.length)var a=arguments[arguments.length-1].toString();else a="";for(var s=[],l=0;l<arguments.length-1;l++){var u=arguments[l].toString();if(!u.match(i))return void n.throwException(n.SYNTAX_ERROR,"Invalid function argument: "+u);s.push(u)}s=s.join(", "),t.parentScope=n.stateStack[0].scope;var c=r.parse("$ = function("+s+") {"+a+"};",o.PARSE_OPTIONS);if(1==c.body.length)return t.node=c.body[0].expression.right,n.setProperty(t,"length",n.createPrimitive(t.node.length),o.READONLY_DESCRIPTOR),t;n.throwException(n.SYNTAX_ERROR,"Invalid code in function body.")},t.id=this.functionCounter_++,this.FUNCTION=this.createObject(null),this.setProperty(e,"Function",this.FUNCTION),this.FUNCTION.type="function",this.setProperty(this.FUNCTION,"prototype",this.createObject(null)),this.setProperty(this.FUNCTION.properties.prototype,"constructor",this.FUNCTION,o.NONENUMERABLE_DESCRIPTOR),this.FUNCTION.nativeFunc=t;var a=function(e){if(e.isPrimitive&&!n.getScope().strict)if(e==n.UNDEFINED||e==n.NULL)e=n.global;else{var t=n.createObject(e.properties.constructor);t.data=e.data,e=t}return e};t=function(e,t){var r=n.stateStack[n.stateStack.length-1];if(r.func_=this,r.funcThis_=a(e),r.arguments_=[],t)if(n.isa(t,n.ARRAY))for(var o=0;o<t.length;o++)r.arguments_[o]=n.getProperty(t,o);else n.throwException(n.TYPE_ERROR,"CreateListFromArrayLike called on non-object");r.doneArgs_=!0,r.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",t),t=function(e,t){var r=n.stateStack[n.stateStack.length-1];r.func_=this,r.funcThis_=a(e),r.arguments_=[];for(var o=1;o<arguments.length;o++)r.arguments_.push(arguments[o]);r.doneArgs_=!0,r.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",t),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind', {configurable: true, value:","function(oThis) {","if (typeof this !== 'function') {","throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),t=function(){return n.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.FUNCTION,"toString",t),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(){return n.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",t),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.initObject=function(e){var t,n=this;t=function(e){if(!e||e==n.UNDEFINED||e==n.NULL)return n.calledWithNew()?this:n.createObject(n.OBJECT);if(e.isPrimitive){var t=n.createObject(e.properties.constructor);return t.data=e.data,t}return e},this.OBJECT=this.createNativeFunction(t,!0),this.setProperty(e,"Object",this.OBJECT),t=function(e){if(e!=n.UNDEFINED&&e!=n.NULL){var t=e.isPrimitive?e.data:e.properties;return n.nativeToPseudo(Object.getOwnPropertyNames(t))}n.throwException(n.TYPE_ERROR,"Cannot convert undefined or null to object")},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){if(e.isPrimitive)return n.nativeToPseudo(Object.keys(e.data));var t=[];for(var r in e.properties)e.notEnumerable[r]||t.push(r);return n.nativeToPseudo(t)},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return e==n.NULL?n.createObject(null):e.isPrimitive?void n.throwException(n.TYPE_ERROR,"Object prototype may only be an Object or null"):n.createObjectProto(e)},this.setProperty(this.OBJECT,"create",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.defineProperty(Object, 'create', {configurable: true, value:","function(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","}","});","})();",""),t=function(e,t,r){if(t=(t||n.UNDEFINED).toString(),r instanceof o.Object){if(e.properties[t]||!e.preventExtensions){var i=n.getProperty(r,"value");i==n.UNDEFINED&&(i=null);var a=n.getProperty(r,"get"),s=n.getProperty(r,"set"),l={configurable:n.pseudoToNative(n.getProperty(r,"configurable")),enumerable:n.pseudoToNative(n.getProperty(r,"enumerable")),writable:n.pseudoToNative(n.getProperty(r,"writable")),get:a==n.UNDEFINED?void 0:a,set:s==n.UNDEFINED?void 0:s};return n.setProperty(e,t,i,l),e}n.throwException(n.TYPE_ERROR,"Can't define property "+t+", object is not extensible")}else n.throwException(n.TYPE_ERROR,"Property description must be an object.")},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(Object, 'defineProperties', {configurable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),t=function(e,t){if(!((t=(t||n.UNDEFINED).toString())in e.properties))return n.UNDEFINED;var r=!e.notConfigurable[t],o=!e.notEnumerable[t],i=!e.notWritable[t],a=e.getter[t],s=e.setter[t],l=n.createObject(n.OBJECT);return n.setProperty(l,"configurable",n.createPrimitive(r)),n.setProperty(l,"enumerable",n.createPrimitive(o)),a||s?(n.setProperty(l,"getter",a),n.setProperty(l,"setter",s)):(n.setProperty(l,"writable",n.createPrimitive(i)),n.setProperty(l,"value",n.getProperty(e,t))),l},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return e!=n.UNDEFINED&&e!=n.NULL||n.throwException(n.TYPE_ERROR,"Cannot convert undefined or null to object"),e.proto||n.NULL},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return n.createPrimitive(!e.preventExtensions)},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return e.isPrimitive||(e.preventExtensions=!0),e},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(){return n.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toString",t),t=function(){return n.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",t),t=function(){return n.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.OBJECT,"valueOf",t),t=function(e){if(this!=n.UNDEFINED&&this!=n.NULL)return(e=(e||n.UNDEFINED).toString())in this.properties?n.TRUE:n.FALSE;n.throwException(n.TYPE_ERROR,"Cannot convert undefined or null to object")},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",t),t=function(e){var t=(e=(e||n.UNDEFINED).toString())in this.properties&&!this.notEnumerable[e];return n.createPrimitive(t)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",t),t=function(e){for(;;){if(!e.proto||e.proto==e)return n.FALSE;if((e=e.proto)==this)return n.TRUE}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",t)},o.prototype.initArray=function(e){var t,n=this,r=function(e,t){var n=e?Math.floor(e.toNumber()):t;return isNaN(n)&&(n=t),n},i=function(e,t){return e.isPrimitive&&t.isPrimitive?e.data===t.data:e===t};t=function(e){if(n.calledWithNew())var t=this;else t=n.createObject(n.ARRAY);var r=arguments[0];if(1==arguments.length&&"number"==r.type)isNaN(n.arrayIndex(r))&&n.throwException(n.RANGE_ERROR,"Invalid array length"),t.length=r.data;else{for(var o=0;o<arguments.length;o++)t.properties[o]=arguments[o];t.length=o}return t},this.ARRAY=this.createNativeFunction(t,!0),this.setProperty(e,"Array",this.ARRAY),t=function(e){return n.createPrimitive(n.isa(e,n.ARRAY))},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(){if(this.length){var e=this.properties[this.length-1];delete this.properties[this.length-1],this.length--}else e=n.UNDEFINED;return e},this.setNativeFunctionPrototype(this.ARRAY,"pop",t),t=function(e){for(var t=0;t<arguments.length;t++)this.properties[this.length]=arguments[t],this.length++;return n.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"push",t),t=function(){if(this.length){for(var e=this.properties[0],t=1;t<this.length;t++)this.properties[t-1]=this.properties[t];this.length--,delete this.properties[this.length]}else e=n.UNDEFINED;return e},this.setNativeFunctionPrototype(this.ARRAY,"shift",t),t=function(e){for(var t=this.length-1;t>=0;t--)this.properties[t+arguments.length]=this.properties[t];this.length+=arguments.length;for(t=0;t<arguments.length;t++)this.properties[t]=arguments[t];return n.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"unshift",t),t=function(){for(var e=0;e<this.length/2;e++){var t=this.properties[this.length-e-1];this.properties[this.length-e-1]=this.properties[e],this.properties[e]=t}return this},this.setNativeFunctionPrototype(this.ARRAY,"reverse",t),t=function(e,t,o){e=(e=r(e,0))<0?Math.max(this.length+e,0):Math.min(e,this.length),t=r(t,1/0),t=Math.min(t,this.length-e);for(var i=n.createObject(n.ARRAY),a=e;a<e+t;a++)i.properties[i.length++]=this.properties[a],this.properties[a]=this.properties[a+t];for(a=e+t;a<this.length-t;a++)this.properties[a]=this.properties[a+t];for(a=this.length-t;a<this.length;a++)delete this.properties[a];this.length-=t;for(a=this.length-1;a>=e;a--)this.properties[a+arguments.length-2]=this.properties[a];this.length+=arguments.length-2;for(a=2;a<arguments.length;a++)this.properties[e+a-2]=arguments[a];return i},this.setNativeFunctionPrototype(this.ARRAY,"splice",t),t=function(e,t){var o=n.createObject(n.ARRAY),i=r(e,0);i<0&&(i=this.length+i),i=Math.max(0,Math.min(i,this.length));var a=r(t,this.length);a<0&&(a=this.length+a),a=Math.max(0,Math.min(a,this.length));for(var s=0,l=i;l<a;l++){var u=n.getProperty(this,l);n.setProperty(o,s++,u)}return o},this.setNativeFunctionPrototype(this.ARRAY,"slice",t),t=function(e){var t=o.toStringCycles_;t.push(this);try{if(e&&void 0!==e.data)r=e.toString();else var r=void 0;for(var i=[],a=0;a<this.length;a++)i[a]=this.properties[a].toString()}finally{t.pop()}return n.createPrimitive(i.join(r))},this.setNativeFunctionPrototype(this.ARRAY,"join",t),t=function(e){for(var t=n.createObject(n.ARRAY),r=0,o=0;o<this.length;o++){var i=n.getProperty(this,o);n.setProperty(t,r++,i)}for(o=0;o<arguments.length;o++){var a=arguments[o];if(n.isa(a,n.ARRAY))for(var s=0;s<a.length;s++){i=n.getProperty(a,s);n.setProperty(t,r++,i)}else n.setProperty(t,r++,a)}return t},this.setNativeFunctionPrototype(this.ARRAY,"concat",t),t=function(e,t){e=e||n.UNDEFINED;var o=r(t,0);o<0&&(o=this.length+o);for(var a=o=Math.max(0,o);a<this.length;a++){var s=n.getProperty(this,a);if(i(s,e))return n.createPrimitive(a)}return n.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"indexOf",t),t=function(e,t){e=e||n.UNDEFINED;var o=r(t,this.length);o<0&&(o=this.length+o);for(var a=o=Math.min(o,this.length-1);a>=0;a--){var s=n.getProperty(this,a);if(i(s,e))return n.createPrimitive(a)}return n.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",t),this.polyfills_.push("Object.defineProperty(Array.prototype, 'every', {configurable: true, value:","function(callbackfn, thisArg) {","if (this == null || typeof callbackfn !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce', {configurable: true, value:","function(callback /*, initialValue*/) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length == 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight', {configurable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this == null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort', {configurable: true, value:","function(opt_comp) {","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ?opt_comp(this[j], this[j + 1]) > 0 : this[j] > this[j + 1]) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (!changes) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString', {configurable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},o.prototype.initNumber=function(e){var t,n=this;t=function(e){return e=e?e.toNumber():0,n.calledWithNew()?(this.data=e,this):n.createPrimitive(e)},this.NUMBER=this.createNativeFunction(t,!0),this.setProperty(e,"Number",this.NUMBER);for(var r=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],o=0;o<r.length;o++)this.setProperty(this.NUMBER,r[o],this.createPrimitive(Number[r[o]]));t=function(e){return e=e||n.UNDEFINED,n.createPrimitive(parseFloat(e.toString()))},this.setProperty(this.NUMBER,"parseFloat",this.createNativeFunction(t,!1)),t=function(e,t){return e=e||n.UNDEFINED,t=t||n.UNDEFINED,n.createPrimitive(parseInt(e.toString(),t.toNumber()))},this.setProperty(this.NUMBER,"parseInt",this.createNativeFunction(t,!1)),t=function(e){e=e?e.toNumber():void 0;var t=this.toNumber();return n.createPrimitive(t.toExponential(e))},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",t),t=function(e){e=e?e.toNumber():void 0;var t=this.toNumber();return n.createPrimitive(t.toFixed(e))},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",t),t=function(e){e=e?e.toNumber():void 0;var t=this.toNumber();return n.createPrimitive(t.toPrecision(e))},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",t),t=function(e){e=e?e.toNumber():10;var t=this.toNumber();return n.createPrimitive(t.toString(e))},this.setNativeFunctionPrototype(this.NUMBER,"toString",t),t=function(e,t){return e=e?n.pseudoToNative(e):void 0,t=t?n.pseudoToNative(t):void 0,n.createPrimitive(this.toNumber().toLocaleString(e,t))},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",t)},o.prototype.initString=function(e){var t,n=this;t=function(e){return e=e?e.toString():"",n.calledWithNew()?(this.data=e,this):n.createPrimitive(e)},this.STRING=this.createNativeFunction(t,!0),this.setProperty(e,"String",this.STRING),t=function(e){for(var t=0;t<arguments.length;t++)arguments[t]=arguments[t].toNumber();return n.createPrimitive(String.fromCharCode.apply(String,arguments))},this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR);for(var r=["toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase"],i=0;i<r.length;i++)t=function(e){return function(){return n.createPrimitive(e.apply(this))}}(String.prototype[r[i]]),this.setNativeFunctionPrototype(this.STRING,r[i],t);t=function(){var e=this.toString();return n.createPrimitive(e.replace(/^\s+|\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trim",t),t=function(){var e=this.toString();return n.createPrimitive(e.replace(/^\s+/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimLeft",t),t=function(){var e=this.toString();return n.createPrimitive(e.replace(/\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimRight",t),r=["charAt","charCodeAt","substring","slice","substr"];for(i=0;i<r.length;i++)t=function(e){return function(){for(var t=0;t<arguments.length;t++)arguments[t]=arguments[t].toNumber();return n.createPrimitive(e.apply(this,arguments))}}(String.prototype[r[i]]),this.setNativeFunctionPrototype(this.STRING,r[i],t);t=function(e,t){var r=this.toString();return e=(e||n.UNDEFINED).toString(),t=t?t.toNumber():void 0,n.createPrimitive(r.indexOf(e,t))},this.setNativeFunctionPrototype(this.STRING,"indexOf",t),t=function(e,t){var r=this.toString();return e=(e||n.UNDEFINED).toString(),t=t?t.toNumber():void 0,n.createPrimitive(r.lastIndexOf(e,t))},this.setNativeFunctionPrototype(this.STRING,"lastIndexOf",t),t=function(e,t,r){return e=(e||n.UNDEFINED).toString(),t=t?n.pseudoToNative(t):void 0,r=r?n.pseudoToNative(r):void 0,n.createPrimitive(this.toString().localeCompare(e,t,r))},this.setNativeFunctionPrototype(this.STRING,"localeCompare",t),t=function(e,t){var r=this.toString();e=e?n.isa(e,n.REGEXP)?e.data:e.toString():void 0,t=t?t.toNumber():void 0;for(var o=r.split(e,t),i=n.createObject(n.ARRAY),a=0;a<o.length;a++)n.setProperty(i,a,n.createPrimitive(o[a]));return i},this.setNativeFunctionPrototype(this.STRING,"split",t),t=function(e){for(var t=this.toString(),r=0;r<arguments.length;r++)t+=arguments[r].toString();return n.createPrimitive(t)},this.setNativeFunctionPrototype(this.STRING,"concat",t),t=function(e){var t=this.toString();e=e?e.data:void 0;var r=t.match(e);if(null===r)return n.NULL;for(var o=n.createObject(n.ARRAY),i=0;i<r.length;i++)n.setProperty(o,i,n.createPrimitive(r[i]));return o},this.setNativeFunctionPrototype(this.STRING,"match",t),t=function(e){var t=this.toString();return e=e?e.data:void 0,n.createPrimitive(t.search(e))},this.setNativeFunctionPrototype(this.STRING,"search",t),t=function(e,t){var r=this.toString();return e=(e||n.UNDEFINED).valueOf(),t=(t||n.UNDEFINED).toString(),n.createPrimitive(r.replace(e,t))},this.setNativeFunctionPrototype(this.STRING,"replace",t)},o.prototype.initBoolean=function(e){var t,n=this;t=function(e){return e=!!e&&e.toBoolean(),n.calledWithNew()?(this.data=e,this):n.createPrimitive(e)},this.BOOLEAN=this.createNativeFunction(t,!0),this.setProperty(e,"Boolean",this.BOOLEAN)},o.prototype.initDate=function(e){var t,n=this;t=function(e,t){if(!n.calledWithNew())return n.createPrimitive(Date());var r=this;if(arguments.length)if(1!=arguments.length||"string"!=e.type&&!n.isa(e,n.STRING)){for(var o=[null],i=0;i<arguments.length;i++)o[i+1]=arguments[i]?arguments[i].toNumber():void 0;r.data=new(Function.prototype.bind.apply(Date,o))}else r.data=new Date(e.toString());else r.data=new Date;return r},this.DATE=this.createNativeFunction(t,!0),this.setProperty(e,"Date",this.DATE),t=function(){return n.createPrimitive((new Date).getTime())},this.setProperty(this.DATE,"now",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return e=e?e.toString():void 0,n.createPrimitive(Date.parse(e))},this.setProperty(this.DATE,"parse",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r]?arguments[r].toNumber():void 0;return n.createPrimitive(Date.UTC.apply(Date,t))},this.setProperty(this.DATE,"UTC",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR);for(var r=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],i=0;i<r.length;i++)t=function(e){return function(t){for(var r=[],o=0;o<arguments.length;o++)r[o]=n.pseudoToNative(arguments[o]);return n.createPrimitive(this.data[e].apply(this.data,r))}}(r[i]),this.setNativeFunctionPrototype(this.DATE,r[i],t)},o.prototype.initMath=function(e){var t=this,n=this.createObject(this.OBJECT);this.setProperty(e,"Math",n);for(var r=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],i=0;i<r.length;i++)this.setProperty(n,r[i],this.createPrimitive(Math[r[i]]),o.READONLY_NONENUMERABLE_DESCRIPTOR);var a=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"];for(i=0;i<a.length;i++){var s=function(e){return function(){for(var n=0;n<arguments.length;n++)arguments[n]=arguments[n].toNumber();return t.createPrimitive(e.apply(Math,arguments))}}(Math[a[i]]);this.setProperty(n,a[i],this.createNativeFunction(s,!1),o.NONENUMERABLE_DESCRIPTOR)}},o.prototype.initRegExp=function(e){var t,n=this;t=function(e,t){if(n.calledWithNew())var r=this;else r=n.createObject(n.REGEXP);return e=e?e.toString():"",t=t?t.toString():"",n.populateRegExp_(r,new RegExp(e,t))},this.REGEXP=this.createNativeFunction(t,!0),this.setProperty(e,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",this.UNDEFINED,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",this.UNDEFINED,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",this.UNDEFINED,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source",this.createPrimitive("(?:)"),o.READONLY_NONENUMERABLE_DESCRIPTOR),t=function(e){return e=e.toString(),n.createPrimitive(this.data.test(e))},this.setNativeFunctionPrototype(this.REGEXP,"test",t),t=function(e){e=e.toString(),this.data.lastIndex=n.getProperty(this,"lastIndex").toNumber();var t=this.data.exec(e);if(n.setProperty(this,"lastIndex",n.createPrimitive(this.data.lastIndex)),t){for(var r=n.createObject(n.ARRAY),o=0;o<t.length;o++)n.setProperty(r,o,n.createPrimitive(t[o]));return n.setProperty(r,"index",n.createPrimitive(t.index)),n.setProperty(r,"input",n.createPrimitive(t.input)),r}return n.NULL},this.setNativeFunctionPrototype(this.REGEXP,"exec",t)},o.prototype.initJSON=function(e){var t=this,n=t.createObject(this.OBJECT);this.setProperty(e,"JSON",n);var r=function(e){try{var n=JSON.parse(e.toString())}catch(r){return void t.throwException(t.SYNTAX_ERROR,r.message)}return t.nativeToPseudo(n)};this.setProperty(n,"parse",this.createNativeFunction(r,!1)),r=function(e){var n=t.pseudoToNative(e);try{var r=JSON.stringify(n)}catch(o){return void t.throwException(t.TYPE_ERROR,o.message)}return t.createPrimitive(r)},this.setProperty(n,"stringify",this.createNativeFunction(r,!1))},o.prototype.initError=function(e){var t=this;this.ERROR=this.createNativeFunction((function(e){if(t.calledWithNew())var n=this;else n=t.createObject(t.ERROR);return e&&t.setProperty(n,"message",t.createPrimitive(String(e)),o.NONENUMERABLE_DESCRIPTOR),n}),!0),this.setProperty(e,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message",this.STRING_EMPTY,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name",this.createPrimitive("Error"),o.NONENUMERABLE_DESCRIPTOR);var n=function(n){var r=t.createNativeFunction((function(e){if(t.calledWithNew())var n=this;else n=t.createObject(r);return e&&t.setProperty(n,"message",t.createPrimitive(String(e)),o.NONENUMERABLE_DESCRIPTOR),n}),!0);return t.setProperty(r,"prototype",t.createObject(t.ERROR)),t.setProperty(r.properties.prototype,"name",t.createPrimitive(n),o.NONENUMERABLE_DESCRIPTOR),t.setProperty(e,n,r),r};this.EVAL_ERROR=n("EvalError"),this.RANGE_ERROR=n("RangeError"),this.REFERENCE_ERROR=n("ReferenceError"),this.SYNTAX_ERROR=n("SyntaxError"),this.TYPE_ERROR=n("TypeError"),this.URI_ERROR=n("URIError")},o.prototype.isa=function(e,t){if(!e||!t)return!1;var n=t.properties.prototype;do{if(e==n)return!0}while(e=e.proto);return!1},o.prototype.comp=function(e,t){if(e.isPrimitive&&"number"==typeof e.data&&isNaN(e.data)||t.isPrimitive&&"number"==typeof t.data&&isNaN(t.data))return NaN;if(e===t)return 0;var n=e.isPrimitive?e.data:e.toString(),r=t.isPrimitive?t.data:t.toString();return n<r?-1:n>r?1:(e.isPrimitive||t.isPrimitive)&&n==r?0:NaN},o.prototype.arrayIndex=function(e){return e=Number(e),!isFinite(e)||e!=Math.floor(e)||e<0||e>=Math.pow(2,32)?NaN:e},o.Primitive=function(e,t){var n=typeof e;this.data=e,this.type=n,"number"==n?this.proto=t.NUMBER.properties.prototype:"string"==n?this.proto=t.STRING.properties.prototype:"boolean"==n&&(this.proto=t.BOOLEAN.properties.prototype)},o.Primitive.prototype.data=void 0,o.Primitive.prototype.type="undefined",o.Primitive.prototype.proto=null,o.Primitive.prototype.isPrimitive=!0,o.Primitive.prototype.toBoolean=function(){return Boolean(this.data)},o.Primitive.prototype.toNumber=function(){return Number(this.data)},o.Primitive.prototype.toString=function(){return String(this.data)},o.Primitive.prototype.valueOf=function(){return this.data},o.prototype.createPrimitive=function(e){return void 0===e?this.UNDEFINED:null===e?this.NULL:!0===e?this.TRUE:!1===e?this.FALSE:0===e?this.NUMBER_ZERO:1===e?this.NUMBER_ONE:""===e?this.STRING_EMPTY:e instanceof RegExp?this.populateRegExp_(this.createObject(this.REGEXP),e):new o.Primitive(e,this)},o.Object=function(e){this.notConfigurable=Object.create(null),this.notEnumerable=Object.create(null),this.notWritable=Object.create(null),this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=e},o.Object.prototype.type="object",o.Object.prototype.proto=null,o.Object.prototype.isPrimitive=!1,o.Object.prototype.data=void 0,o.Object.prototype.toBoolean=function(){return!0},o.Object.prototype.toNumber=function(){return Number(void 0===this.data?this.toString():this.data)},o.Object.prototype.toString=function(){if(this.length>=0){(r=o.toStringCycles_).push(this);try{for(var e=[],t=0;t<this.length;t++){var n=this.properties[t];e[t]=!n||n.isPrimitive&&(null===n.data||void 0===n.data)||-1!=r.indexOf(n)?"":n.toString()}}finally{r.pop()}return e.join(",")}if(this.error){var r,i,a;if(-1!=(r=o.toStringCycles_).indexOf(this))return"[Error]";var s=this;do{if("name"in s.properties){i=s.properties.name;break}}while(s.proto!=s&&(s=s.proto));s=this;do{if("message"in s.properties){a=s.properties.message;break}}while(s=s.proto);r.push(this);try{i=i&&i.toString(),a=a&&a.toString()}finally{r.pop()}return a?i+": "+a:i+""}return void 0!==this.data?String(this.data):"["+this.type+"]"},o.Object.prototype.valueOf=function(){return void 0===this.data?this:this.data},o.prototype.createObject=function(e){return this.createObjectProto(e&&e.properties.prototype)},o.prototype.createObjectProto=function(e){var t=new o.Object(e);return this.isa(t,this.FUNCTION)&&(t.type="function",this.setProperty(t,"prototype",this.createObject(this.OBJECT||null))),this.isa(t,this.ARRAY)&&(t.length=0),this.isa(t,this.ERROR)&&(t.error=!0),t},o.prototype.populateRegExp_=function(e,t){return e.data=t,this.setProperty(e,"lastIndex",this.createPrimitive(t.lastIndex),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"source",this.createPrimitive(t.source),o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"global",this.createPrimitive(t.global),o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"ignoreCase",this.createPrimitive(t.ignoreCase),o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"multiline",this.createPrimitive(t.multiline),o.READONLY_NONENUMERABLE_DESCRIPTOR),e.toString=function(){return String(this.data)},e.valueOf=function(){return this.data},e},o.prototype.createFunction=function(e,t){var n=this.createObject(this.FUNCTION);return n.parentScope=t,n.node=e,this.setProperty(n,"length",this.createPrimitive(n.node.params.length),o.READONLY_DESCRIPTOR),n},o.prototype.createNativeFunction=function(e,t){var n=this.createObject(this.FUNCTION);return n.nativeFunc=e,e.id=this.functionCounter_++,this.setProperty(n,"length",this.createPrimitive(e.length),o.READONLY_DESCRIPTOR),t?this.setProperty(n.properties.prototype,"constructor",n,o.NONENUMERABLE_DESCRIPTOR):!1===t&&(n.illegalConstructor=!0,this.setProperty(n,"prototype",this.UNDEFINED)),n},o.prototype.createAsyncFunction=function(e){var t=this.createObject(this.FUNCTION);return t.asyncFunc=e,e.id=this.functionCounter_++,this.setProperty(t,"length",this.createPrimitive(e.length),o.READONLY_DESCRIPTOR),t},o.prototype.nativeToPseudo=function(e){if("boolean"==typeof e||"number"==typeof e||"string"==typeof e||null==e||e instanceof RegExp)return this.createPrimitive(e);if(e instanceof Function){var t=this;return this.createNativeFunction((function(){return t.nativeToPseudo(e.apply(t,Array.prototype.slice.call(arguments).map((function(e){return t.pseudoToNative(e)}))))}),void 0)}var n;if(e instanceof Array){n=this.createObject(this.ARRAY);for(var r=0;r<e.length;r++)this.setProperty(n,r,this.nativeToPseudo(e[r]))}else for(var o in n=this.createObject(this.OBJECT),e)this.setProperty(n,o,this.nativeToPseudo(e[o]));return n},o.prototype.pseudoToNative=function(e,t){if(e.isPrimitive||this.isa(e,this.NUMBER)||this.isa(e,this.STRING)||this.isa(e,this.BOOLEAN))return e.data;var n,r=t||{pseudo:[],native:[]};if(-1!=(o=r.pseudo.indexOf(e)))return r.native[o];if(r.pseudo.push(e),this.isa(e,this.ARRAY)){n=[],r.native.push(n);for(var o=0;o<e.length;o++)n[o]=this.pseudoToNative(e.properties[o],r)}else{var i;for(var a in n={},r.native.push(n),e.properties)e.notEnumerable[a]||(i=e.properties[a],n[a]=this.pseudoToNative(i,r))}return r.pseudo.pop(),r.native.pop(),n},o.prototype.getFullyQualifiedName=function(e){for(var t="";e.object&&e.property;){var n=e.property;if(e.computed)t="["+(n.name?n.name:n.raw)+"]"+t;else t="."+n.name+t;e=e.object}return t="ArrayExpression"==e.type?"Array"+t:e.name+t},o.prototype.getProperty=function(e,t){if(t=t.toString(),e==this.UNDEFINED||e==this.NULL)return this.throwException(this.TYPE_ERROR,"Cannot read property '"+t+"' of "+e),null;if("length"==t){if(this.isa(e,this.STRING))return this.createPrimitive(e.data.length);if(this.isa(e,this.ARRAY))return this.createPrimitive(e.length)}else if(t.charCodeAt(0)<64&&this.isa(e,this.STRING)){var n=this.arrayIndex(t);if(!isNaN(n)&&n<e.data.length)return this.createPrimitive(e.data[n])}do{if(e.properties&&t in e.properties){var r=e.getter[t];return r?(r.isGetter=!0,r):e.properties[t]}}while(e=e.proto);return this.UNDEFINED},o.prototype.hasProperty=function(e,t){if(t=t.toString(),e.isPrimitive)throw TypeError("Primitive data type has no properties");if("length"==t&&(this.isa(e,this.STRING)||this.isa(e,this.ARRAY)))return!0;if(this.isa(e,this.STRING)){var n=this.arrayIndex(t);if(!isNaN(n)&&n<e.data.length)return!0}do{if(e.properties&&t in e.properties)return!0}while(e=e.proto);return!1},o.prototype.setProperty=function(e,t,n,r){if(t=t.toString(),r&&e.notConfigurable[t]&&this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+t),"object"!=typeof n)throw Error("Failure to wrap a value: "+n);e!=this.UNDEFINED&&e!=this.NULL||this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of "+e),r&&(r.get||r.set)&&(n||void 0!==r.writable)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var o=!this.stateStack||this.getScope().strict;if(e.isPrimitive)o&&this.throwException(this.TYPE_ERROR,"Can't create property '"+t+"' on '"+e.data+"'");else{if(this.isa(e,this.STRING)){var i=this.arrayIndex(t);if("length"==t||!isNaN(i)&&i<e.data.length)return void(o&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of String '"+e.data+"'"))}if(this.isa(e,this.ARRAY)){var a;if("length"==t){var s=this.arrayIndex(n.toNumber());if(isNaN(s)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),s<e.length)for(a in e.properties)a=this.arrayIndex(a),!isNaN(a)&&s<=a&&delete e.properties[a];return void(e.length=s)}isNaN(a=this.arrayIndex(t))||(e.length=Math.max(e.length,a+1))}if(e.properties[t]||!e.preventExtensions)if(r){e.properties[t]=n,r.configurable||(e.notConfigurable[t]=!0);var l=r.get;l?e.getter[t]=l:delete e.getter[t];var u=r.set;if(u?e.setter[t]=u:delete e.setter[t],r.enumerable||!1?delete e.notEnumerable[t]:e.notEnumerable[t]=!0,l||u)delete e.notWritable[t],e.properties[t]=this.UNDEFINED;else r.writable||!1?delete e.notWritable[t]:e.notWritable[t]=!0}else{var c=e;do{if(c.setter&&c.setter[t])return c.setter[t]}while(c=c.proto);e.getter&&e.getter[t]?o&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of object '"+e+"' which only has a getter"):e.notWritable[t]?o&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of object '"+e+"'"):e.properties[t]=n}else o&&this.throwException(this.TYPE_ERROR,"Can't add property "+t+", object is not extensible")}},o.prototype.setNativeFunctionPrototype=function(e,t,n){this.setProperty(e.properties.prototype,t,this.createNativeFunction(n,!1),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.deleteProperty=function(e,t){return t=t.toString(),!e.isPrimitive&&!e.notWritable[t]&&(("length"!=t||!this.isa(e,this.ARRAY))&&delete e.properties[t])},o.prototype.getScope=function(){for(var e=this.stateStack.length-1;e>=0;e--)if(this.stateStack[e].scope)return this.stateStack[e].scope;throw Error("No scope found.")},o.prototype.createScope=function(e,t){var n=this.createObject(null);if(n.parentScope=t,t||this.initGlobalScope(n),this.populateScope_(e,n),n.strict=!1,t&&t.strict)n.strict=!0;else{var r=e.body&&e.body[0];r&&r.expression&&"Literal"==r.expression.type&&"use strict"==r.expression.value&&(n.strict=!0)}return n},o.prototype.createSpecialScope=function(e,t){if(!e)throw Error("parentScope required");var n=t||this.createObject(null);return n.parentScope=e,n.strict=e.strict,n},o.prototype.getValueFromScope=function(e){for(var t=this.getScope(),n=e.toString();t&&t!=this.global;){if(n in t.properties)return t.properties[n];t=t.parentScope}if(t==this.global&&this.hasProperty(t,n))return this.getProperty(t,n);var r=this.stateStack[this.stateStack.length-1].node;return"UnaryExpression"==r.type&&"typeof"==r.operator?this.UNDEFINED:(this.throwException(this.REFERENCE_ERROR,n+" is not defined"),null)},o.prototype.setValueToScope=function(e,t){for(var n=this.getScope(),r=e.toString();n&&n!=this.global;){if(r in n.properties)return void(n.properties[r]=t);n=n.parentScope}if(n==this.global&&(!n.strict||this.hasProperty(n,r)))return this.setProperty(n,r,t);this.throwException(this.REFERENCE_ERROR,r+" is not defined")},o.prototype.populateScope_=function(e,t){if("VariableDeclaration"==e.type)for(var n=0;n<e.declarations.length;n++)this.setProperty(t,e.declarations[n].id.name,this.UNDEFINED);else{if("FunctionDeclaration"==e.type)return void this.setProperty(t,e.id.name,this.createFunction(e,t));if("FunctionExpression"==e.type)return;if("ExpressionStatement"==e.type)return}var r=e.constructor;for(var o in e){var i=e[o];if(i&&"object"==typeof i)if(i instanceof Array)for(n=0;n<i.length;n++)i[n]&&i[n].constructor==r&&this.populateScope_(i[n],t);else i.constructor==r&&this.populateScope_(i,t)}},o.prototype.stripLocations_=function(e,t,n){for(var r in t?e.start=t:delete e.start,n?e.end=n:delete e.end,e)if(e.hasOwnProperty(r)){var o=e[r];o&&"object"==typeof o&&this.stripLocations_(o,t,n)}},o.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},o.prototype.getValue=function(e){if(e instanceof Array){var t=e[0],n=e[1];return this.getProperty(t,n)}return this.getValueFromScope(e)},o.prototype.setValue=function(e,t){if(e instanceof Array){var n=e[0],r=e[1];return this.setProperty(n,r,t)}return this.setValueToScope(e,t)},o.prototype.throwException=function(e,t){if(void 0===t)var n=e;else{n=this.createObject(e);this.setProperty(n,"message",this.createPrimitive(t),o.NONENUMERABLE_DESCRIPTOR)}this.executeException(n)},o.prototype.executeException=function(e){do{this.stateStack.pop();var t=this.stateStack[this.stateStack.length-1];if("TryStatement"==t.node.type)return void(t.throwValue=e)}while(t&&"Program"!=t.node.type);var n;if(this.isa(e,this.ERROR)){var r={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},o=this.getProperty(e,"name").toString(),i=this.getProperty(e,"message").valueOf();n=(r[o]||Error)(i)}else n=e.toString();throw n},o.prototype.pushGetter_=function(e,t){var n=t instanceof Array?t[0]:t;this.stateStack.push({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:n,func_:e,doneArgs_:!0,arguments_:[]})},o.prototype.pushSetter_=function(e,t,n){var r=t instanceof Array?t[0]:this.global;this.stateStack.push({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:r,func_:e,doneArgs_:!0,arguments_:[n]})},o.prototype.stepArrayExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.n_||0;t.array_?t.value&&this.setProperty(t.array_,r-1,t.value):t.array_=this.createObject(this.ARRAY),r<n.elements.length?(t.n_=r+1,n.elements[r]?e.push({node:n.elements[r]}):t.value=void 0):(t.array_.length=t.n_||0,e.pop(),e[e.length-1].value=t.array_)},o.prototype.stepAssignmentExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(!t.doneLeft_)return t.doneLeft_=!0,void e.push({node:n.left,components:!0});if(!t.doneRight_){if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_&&"="!=n.operator&&(t.leftValue_=this.getValue(t.leftSide_),t.leftValue_.isGetter)){t.leftValue_.isGetter=!1,t.doneGetter_=!0;var r=t.leftValue_;return void this.pushGetter_(r,t.leftSide_)}return t.doneRight_=!0,void e.push({node:n.right})}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.doneSetter_);var o,i=t.value;if("="==n.operator)o=i;else{var a,s,l=i,u=t.leftValue_.toNumber(),c=l.toNumber();if("+="==n.operator)"string"==t.leftValue_.type||"string"==l.type?(a=t.leftValue_.toString(),s=l.toString()):(a=u,s=c),o=a+s;else if("-="==n.operator)o=u-c;else if("*="==n.operator)o=u*c;else if("/="==n.operator)o=u/c;else if("%="==n.operator)o=u%c;else if("<<="==n.operator)o=u<<c;else if(">>="==n.operator)o=u>>c;else if(">>>="==n.operator)o=u>>>c;else if("&="==n.operator)o=u&c;else if("^="==n.operator)o=u^c;else{if("|="!=n.operator)throw SyntaxError("Unknown assignment expression: "+n.operator);o=u|c}o=this.createPrimitive(o)}var d=this.setValue(t.leftSide_,o);if(d)return t.doneSetter_=o,void this.pushSetter_(d,t.leftSide_,o);e.pop(),e[e.length-1].value=o},o.prototype.stepBinaryExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(!t.doneLeft_)return t.doneLeft_=!0,void e.push({node:n.left});if(!t.doneRight_)return t.doneRight_=!0,t.leftValue_=t.value,void e.push({node:n.right});e.pop();var r,o=t.leftValue_,i=t.value,a=this.comp(o,i);if("=="==n.operator||"!="==n.operator)r=o.isPrimitive&&i.isPrimitive?o.data==i.data:0===a,"!="==n.operator&&(r=!r);else if("==="==n.operator||"!=="==n.operator)r=o.isPrimitive&&i.isPrimitive?o.data===i.data:o===i,"!=="==n.operator&&(r=!r);else if(">"==n.operator)r=1==a;else if(">="==n.operator)r=1==a||0===a;else if("<"==n.operator)r=-1==a;else if("<="==n.operator)r=-1==a||0===a;else if("+"==n.operator){r=(s=o.isPrimitive?o.data:o.toString())+(l=i.isPrimitive?i.data:i.toString())}else if("in"==n.operator)i.isPrimitive?this.throwException(this.TYPE_ERROR,"Expecting an object evaluating 'in'"):r=this.hasProperty(i,o);else if("instanceof"==n.operator)this.isa(i,this.FUNCTION)?r=o.isPrimitive?this.FALSE:this.isa(o,i):this.throwException(this.TYPE_ERROR,"Expecting a function in instanceof check");else{var s=o.toNumber(),l=i.toNumber();if("-"==n.operator)r=s-l;else if("*"==n.operator)r=s*l;else if("/"==n.operator)r=s/l;else if("%"==n.operator)r=s%l;else if("&"==n.operator)r=s&l;else if("|"==n.operator)r=s|l;else if("^"==n.operator)r=s^l;else if("<<"==n.operator)r=s<<l;else if(">>"==n.operator)r=s>>l;else{if(">>>"!=n.operator)throw SyntaxError("Unknown binary operator: "+n.operator);r=s>>>l}}e[e.length-1].value=this.createPrimitive(r)},o.prototype.stepBlockStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.n_||0;n.body[r]?(t.n_=r+1,e.push({node:n.body[r]})):e.pop()},o.prototype.stepBreakStatement=function(){var e=this.stateStack,t=e.pop(),n=null;for(t.node.label&&(n=t.node.label.name);t&&"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if(n){if(t.labels&&-1!=t.labels.indexOf(n))return}else if(t.isLoop||t.isSwitch)return;t=e.pop()}throw SyntaxError("Illegal break statement")},o.prototype.stepCallExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(!t.doneCallee_)return t.doneCallee_=!0,void e.push({node:n.callee,components:!0});if(!t.func_){if("function"==t.value.type)t.func_=t.value;else{if(t.func_=this.getValue(t.value),t.func_.isGetter)return t.func_.isGetter=!1,this.pushGetter_(t.func_,t.value),void(t.func_=null);if(!t.func_)return;if("function"!=t.func_.type){var i=this.getFullyQualifiedName(n.callee);return void this.throwException(this.TYPE_ERROR,i+" is not a function")}}if("NewExpression"==t.node.type){if(t.func_.illegalConstructor)return void this.throwException(this.TYPE_ERROR,"function is not a constructor");t.funcThis_=this.createObject(t.func_),t.isConstructor=!0}else t.value.length?t.funcThis_=t.value[0]:t.funcThis_=this.getScope().strict?this.UNDEFINED:this.global;t.arguments_=[],t.n_=0}if(!t.doneArgs_){if(0!=t.n_&&t.arguments_.push(t.value),n.arguments[t.n_])return e.push({node:n.arguments[t.n_]}),void t.n_++;t.doneArgs_=!0}if(t.doneExec_)e.pop(),t.isConstructor&&"object"!==t.value.type?e[e.length-1].value=t.funcThis_:e[e.length-1].value=t.value;else{t.doneExec_=!0;var a=t.func_.node;if(a){for(var s=this.createScope(a.body,t.func_.parentScope),l=0;l<a.params.length;l++){var u=this.createPrimitive(a.params[l].name),c=t.arguments_.length>l?t.arguments_[l]:this.UNDEFINED;this.setProperty(s,u,c)}var d=this.createObject(this.ARRAY);for(l=0;l<t.arguments_.length;l++)this.setProperty(d,this.createPrimitive(l),t.arguments_[l]);this.setProperty(s,"arguments",d);var f=a.id&&a.id.name;f&&this.setProperty(s,f,t.func_);var p={node:a.body,scope:s,thisExpression:t.funcThis_};e.push(p),t.value=this.UNDEFINED}else if(t.func_.nativeFunc)t.value=t.func_.nativeFunc.apply(t.funcThis_,t.arguments_);else{if(t.func_.asyncFunc){var h=this,m=t.arguments_.concat((function(e){t.value=e||h.UNDEFINED,h.paused_=!1}));return this.paused_=!0,void t.func_.asyncFunc.apply(t.funcThis_,m)}if(t.func_.eval){var g=t.arguments_[0];if(g)if(g.isPrimitive){var y=r.parse(g.toString(),o.PARSE_OPTIONS);t={node:{type:"EvalProgram_",body:y.body}},this.stripLocations_(t.node,n.start,n.end);s=this.getScope();this.populateScope_(y,s),e.push(t)}else t.value=g;else t.value=this.UNDEFINED}else this.throwException(this.TYPE_ERROR,"function is not a function")}}},o.prototype.stepCatchClause=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(t.done_)e.pop();else{var r;if(t.done_=!0,n.param){r=this.createSpecialScope(this.getScope());var o=this.createPrimitive(n.param.name);this.setProperty(r,o,t.throwValue)}e.push({node:n.body,scope:r})}},o.prototype.stepConditionalExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.mode_||0;if(0==n)return t.mode_=1,void e.push({node:t.node.test});if(1==n){t.mode_=2;var r=t.value.toBoolean();if(r&&t.node.consequent)return void e.push({node:t.node.consequent});if(!r&&t.node.alternate)return void e.push({node:t.node.alternate});this.value=this.UNDEFINED}e.pop(),"ConditionalExpression"==t.node.type&&(e[e.length-1].value=t.value)},o.prototype.stepContinueStatement=function(){var e=this.stateStack,t=e.pop(),n=null;for(t.node.label&&(n=t.node.label.name),t=e[e.length-1];t&&"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if(t.isLoop&&(!n||t.labels&&-1!=t.labels.indexOf(n)))return;e.pop(),t=e[e.length-1]}throw SyntaxError("Illegal continue statement")},o.prototype.stepDebugger=function(){},o.prototype.stepDoWhileStatement=function(){var e=this.stateStack,t=e[e.length-1];"DoWhileStatement"==t.node.type&&void 0===t.test_&&(t.value=this.TRUE,t.test_=!0),t.test_?t.value.toBoolean()?t.node.body&&(t.test_=!1,t.isLoop=!0,e.push({node:t.node.body})):e.pop():(t.test_=!0,e.push({node:t.node.test}))},o.prototype.stepEmptyStatement=function(){this.stateStack.pop()},o.prototype.stepEvalProgram_=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.n_||0;n.body[r]?(t.n_=r+1,e.push({node:n.body[r]})):(e.pop(),e[e.length-1].value=this.value)},o.prototype.stepExpressionStatement=function(){var e=this.stateStack,t=e[e.length-1];t.done_?(e.pop(),this.value=t.value):(t.done_=!0,e.push({node:t.node.expression}))},o.prototype.stepForInStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(!t.doneInit_&&(t.doneInit_=!0,n.left.declarations&&n.left.declarations[0].init)){if(this.getScope().strict)throw SyntaxError("for-in loop variable declaration may not have an initializer.");e.push({node:n.left})}else{if(!t.doneObject_)return t.doneObject_=!0,t.variable_||(t.variable_=t.value),void e.push({node:n.right});if(t.object_||(t.isLoop=!0,t.object_=t.value,t.visited_=[]),void 0===t.name_){e:do{if(t.object_.isPrimitive){for(var r in t.object_.data)if(-1==t.visited_.indexOf(r)){t.visited_.push(r),t.name_=r,t.visited_.push(r);break e}}else for(var r in t.object_.properties)if(-1==t.visited_.indexOf(r)&&(t.visited_.push(r),!t.object_.notEnumerable[r])){t.name_=r,t.visited_.push(r);break e}t.object_=t.object_.proto}while(t.object_);if(!t.object_)return void e.pop()}if(!t.doneVariable_){t.doneVariable_=!0;var o=n.left;if("VariableDeclaration"!=o.type)return t.variable_=null,void e.push({node:o,components:!0});t.variable_=o.declarations[0].id.name}if(t.variable_||(t.variable_=t.value),!t.doneSetter_){t.doneSetter_=!0;var i=this.createPrimitive(t.name_),a=this.setValue(t.variable_,i);if(a)return void this.pushSetter_(a,t.variable_,i)}n.body&&e.push({node:n.body}),t.name_=void 0,t.variable_ instanceof Array&&(t.doneVariable_=!1),t.doneSetter_=!1}},o.prototype.stepForStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.mode_||0;0==r?(t.mode_=1,n.init&&e.push({node:n.init})):1==r?(t.mode_=2,n.test&&e.push({node:n.test})):2==r?(t.mode_=3,n.test&&t.value&&!t.value.toBoolean()?e.pop():n.body&&(t.isLoop=!0,e.push({node:n.body}))):3==r&&(t.mode_=1,n.update&&e.push({node:n.update}))},o.prototype.stepFunctionDeclaration=function(){this.stateStack.pop()},o.prototype.stepFunctionExpression=function(){var e=this.stateStack,t=e.pop();e[e.length-1].value=this.createFunction(t.node,this.getScope())},o.prototype.stepIdentifier=function(){var e=this.stateStack,t=e.pop(),n=t.node.name,r=this.createPrimitive(n),o=t.components?r:this.getValueFromScope(r);if(o&&o.isGetter){o.isGetter=!1;for(var i=this.getScope();!this.hasProperty(i,n);)i=i.parentScope;var a=o;this.pushGetter_(a,this.global)}else e[e.length-1].value=o},o.prototype.stepIfStatement=o.prototype.stepConditionalExpression,o.prototype.stepLabeledStatement=function(){var e=this.stateStack,t=e.pop(),n=t.labels||[];n.push(t.node.label.name),e.push({node:t.node.body,labels:n})},o.prototype.stepLiteral=function(){var e=this.stateStack,t=e.pop();e[e.length-1].value=this.createPrimitive(t.node.value)},o.prototype.stepLogicalExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if("&&"!=n.operator&&"||"!=n.operator)throw SyntaxError("Unknown logical operator: "+n.operator);t.doneLeft_?t.doneRight_||"&&"==n.operator&&!t.value.toBoolean()||"||"==n.operator&&t.value.toBoolean()?(e.pop(),e[e.length-1].value=t.value):(t.doneRight_=!0,e.push({node:n.right})):(t.doneLeft_=!0,e.push({node:n.left}))},o.prototype.stepMemberExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(t.doneObject_)if(t.doneProperty_)if(e.pop(),t.components)e[e.length-1].value=[t.object_,t.value];else{if(t.object_==this.NULL||t.object_==this.UNDEFINED){var r=this.getFullyQualifiedName(n.object);return void this.throwException(this.TYPE_ERROR,r+" is "+t.object_.toString())}var o=this.getProperty(t.object_,t.value);if(!o)return e.push({}),void this.throwException(this.TYPE_ERROR,"Cannot read property '"+t.value+"' of "+t.object_.toString());if(o.isGetter){o.isGetter=!1;var i=o;this.pushGetter_(i,t.object_)}else e[e.length-1].value=o}else t.doneProperty_=!0,t.object_=t.value,e.push({node:n.property,components:!n.computed});else t.doneObject_=!0,e.push({node:n.object})},o.prototype.stepNewExpression=o.prototype.stepCallExpression,o.prototype.stepObjectExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.valueToggle_,o=t.n_||0;if(t.object?r?t.key_=t.value:(t.properties[t.key_]||(t.properties[t.key_]={}),t.properties[t.key_][t.kind_]=t.value):(t.object=this.createObject(this.OBJECT),t.properties=Object.create(null)),n.properties[o])r?(t.n_=o+1,e.push({node:n.properties[o].value})):(t.kind_=n.properties[o].kind,e.push({node:n.properties[o].key,components:!0})),t.valueToggle_=!r;else{for(var i in t.properties){var a=t.properties[i];if("get"in a||"set"in a){var s={configurable:!0,enumerable:!0,get:a.get,set:a.set};this.setProperty(t.object,i,null,s)}else this.setProperty(t.object,i,a.init)}e.pop(),e[e.length-1].value=t.object}},o.prototype.stepProgram=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.n_||0;n.body[r]?(t.done=!1,t.n_=r+1,e.push({node:n.body[r]})):t.done=!0},o.prototype.stepReturnStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(n.argument&&!t.done_)t.done_=!0,e.push({node:n.argument});else{var r=t.value||this.UNDEFINED,o=e.length-1;for(t=e[o];"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if("TryStatement"!=t.node.type&&e.splice(o,1),--o<0)throw SyntaxError("Illegal return statement");t=e[o]}t.value=r}},o.prototype.stepSequenceExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.n_||0;n.expressions[r]?(t.n_=r+1,e.push({node:n.expressions[r]})):(e.pop(),e[e.length-1].value=t.value)},o.prototype.stepSwitchStatement=function(){var e=this.stateStack,t=e[e.length-1];if(!t.test_)return t.test_=!0,void e.push({node:t.node.discriminant});for(t.switchValue_||(t.switchValue_=t.value);;){var n=t.index_||0,r=t.node.cases[n];if(t.matched_||!r||r.test)if(r||t.matched_||!t.defaultCase_){if(!r)return void e.pop();if(!t.matched_&&!t.tested_&&r.test)return t.tested_=!0,void e.push({node:r.test});if(t.matched_||0==this.comp(t.value,t.switchValue_)){t.matched_=!0;var o=t.n_||0;if(r.consequent[o])return t.isSwitch=!0,e.push({node:r.consequent[o]}),void(t.n_=o+1)}t.tested_=!1,t.n_=0,t.index_=n+1}else t.matched_=!0,t.index_=t.defaultCase_;else t.defaultCase_=n,t.index_=n+1}},o.prototype.stepThisExpression=function(){var e=this.stateStack;e.pop();for(var t=e.length-1;t>=0;t--)if(e[t].thisExpression)return void(e[e.length-1].value=e[t].thisExpression);throw Error("No this expression found.")},o.prototype.stepThrowStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;t.done_?this.throwException(t.value):(t.done_=!0,e.push({node:n.argument}))},o.prototype.stepTryStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;t.doneBlock_?t.throwValue&&!t.doneHandler_&&n.handler?(t.doneHandler_=!0,e.push({node:n.handler,throwValue:t.throwValue}),t.throwValue=null):!t.doneFinalizer_&&n.finalizer?(t.doneFinalizer_=!0,e.push({node:n.finalizer})):t.throwValue?this.executeException(t.throwValue):e.pop():(t.doneBlock_=!0,e.push({node:n.block}))},o.prototype.stepUnaryExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(t.done_){e.pop();var r=t.value;if("-"==n.operator)r=-r.toNumber();else if("+"==n.operator)r=r.toNumber();else if("!"==n.operator)r=!r.toBoolean();else if("~"==n.operator)r=~r.toNumber();else if("delete"==n.operator){if(r.length)var o=r[0],i=r[1];else o=this.getScope(),i=r;if(!(r=this.deleteProperty(o,i))&&this.getScope().strict)return void this.throwException(this.TYPE_ERROR,"Cannot delete property '"+i+"' of '"+o+"'")}else if("typeof"==n.operator)r=r.type;else{if("void"!=n.operator)throw SyntaxError("Unknown unary operator: "+n.operator);r=void 0}e[e.length-1].value=this.createPrimitive(r)}else{t.done_=!0;var a={node:n.argument,components:"delete"==n.operator};e.push(a)}},o.prototype.stepUpdateExpression=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(!t.doneLeft_)return t.doneLeft_=!0,void e.push({node:n.argument,components:!0});if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_){if(t.leftValue_=this.getValue(t.leftSide_),!t.leftValue_)return;if(t.leftValue_.isGetter){t.leftValue_.isGetter=!1,t.doneGetter_=!0;var r=t.leftValue_;return void this.pushGetter_(r,t.leftSide_)}}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.doneSetter_);var o,i=t.leftValue_.toNumber();if("++"==n.operator)o=this.createPrimitive(i+1);else{if("--"!=n.operator)throw SyntaxError("Unknown update expression: "+n.operator);o=this.createPrimitive(i-1)}var a=n.prefix?o:this.createPrimitive(i),s=this.setValue(t.leftSide_,o);if(s)return t.doneSetter_=a,void this.pushSetter_(s,t.leftSide_,o);e.pop(),e[e.length-1].value=a},o.prototype.stepVariableDeclaration=function(){var e=this.stateStack,t=e[e.length-1],n=t.node,r=t.n_||0,o=n.declarations[r];for(t.value&&o&&(this.setValue(this.createPrimitive(o.id.name),t.value),t.value=null,o=n.declarations[++r]);o;){if(o.init)return t.n_=r,void e.push({node:o.init});o=n.declarations[++r]}e.pop()},o.prototype.stepWithStatement=function(){var e=this.stateStack,t=e[e.length-1],n=t.node;if(t.doneObject_)if(t.doneBody_)e.pop();else{t.doneBody_=!0;var r=this.createSpecialScope(this.getScope(),t.value);e.push({node:n.body,scope:r})}else t.doneObject_=!0,e.push({node:n.object})},o.prototype.stepWhileStatement=o.prototype.stepDoWhileStatement,this.Interpreter=o,o.prototype.step=o.prototype.step,o.prototype.run=o.prototype.run,o.prototype.appendCode=o.prototype.appendCode,o.prototype.createPrimitive=o.prototype.createPrimitive,o.prototype.createAsyncFunction=o.prototype.createAsyncFunction,o.prototype.createNativeFunction=o.prototype.createNativeFunction,o.prototype.getProperty=o.prototype.getProperty,o.prototype.setProperty=o.prototype.setProperty,o.prototype.nativeToPseudo=o.prototype.nativeToPseudo,o.prototype.pseudoToNative=o.prototype.pseudoToNative},e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){"use strict";function e(e){var t=e.globalProperties,n=e.blockedProperties,r=e.objectList;this.globalProperties=t||{},this.blockedProperties=n||[],this.objectList=r||[],this.marshaledMap=new Map}var n=e.prototype;return n.getObjectListData=function(e,t){for(var n=0;n<this.objectList.length;n++){var r=this.objectList[n];if(e instanceof r.instance&&(void 0===r.requiredMethod||void 0!==e[r.requiredMethod])||"function"!=typeof e&&t instanceof r.instance)return r}return null},n.shouldCustomMarshalObject=function(e,t){return!!this.getObjectListData(e,t)},n.getCustomMarshalMethodOptions=function(e,t){for(var n=0;n<this.objectList.length;n++){var r=this.objectList[n];if(e instanceof r.instance||t===r.instance)return(void 0===r.requiredMethod||void 0!==e[r.requiredMethod])&&r.methodOpts||{}}return{}},n.createCustomMarshalObject=function(e,n,r){var o=this.marshaledMap.get(n);if(o)return o;((o=e.createObject()).data=n,o.isCustomMarshal=!0,o.type=t(n),o.toBoolean=function(){return Boolean(this.data)},o.toNumber=function(){return Number(this.data)},o.toString=function(){return String(this.data)},o.valueOf=function(){return this.data},"object"===t(n))&&((this.getObjectListData(n,r)||{}).ensureIdenticalMarshalInstances&&this.marshaledMap.set(n,o));return o},e}()},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=n(1),p=n(2),h=n(1071),m=n(869);function g(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r<2048?(t+=String.fromCharCode(192|r>>6),t+=String.fromCharCode(128|63&r)):r<55296||r>=57344?(t+=String.fromCharCode(224|r>>12),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|63&r)):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t+=String.fromCharCode(240|r>>18),t+=String.fromCharCode(128|r>>12&63),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|63&r))}return t}var y={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000"},v={value:p.string.isRequired,size:p.number,level:p.oneOf(["L","M","Q","H"]),bgColor:p.string,fgColor:p.string},b=function(e){function t(){var e,n,r;a(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return u(r,(n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Object.defineProperty(d(r),"_canvas",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),n))}return c(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){var n=this;return Object.keys(t.propTypes).some((function(t){return n.props[t]!==e[t]}))}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,o=e.bgColor,i=e.fgColor,a=new h(-1,m[r]);if(a.addData(g(t)),a.make(),null!=this._canvas){var s=this._canvas,l=s.getContext("2d");if(!l)return;var u=a.modules;if(null===u)return;var c=n/u.length,d=n/u.length,f=(window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(l);s.height=s.width=n*f,l.scale(f,f),u.forEach((function(e,t){e.forEach((function(e,n){l&&(l.fillStyle=e?i:o);var r=Math.ceil((n+1)*c)-Math.floor(n*c),a=Math.ceil((t+1)*d)-Math.floor(t*d);l&&l.fillRect(Math.round(n*c),Math.round(t*d),r,a)}))}))}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),r=(t.level,t.bgColor,t.fgColor,t.style),a=i(t,["value","size","level","bgColor","fgColor","style"]),s=o({height:n,width:n},r);return f.createElement("canvas",o({style:s,height:n,width:n,ref:function(t){return e._canvas=t}},a))}}]),t}(f.Component);Object.defineProperty(b,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:y}),Object.defineProperty(b,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:v});var _=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){var t=this;return Object.keys(b.propTypes).some((function(n){return t.props[n]!==e[n]}))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,a=e.bgColor,s=e.fgColor,l=i(e,["value","size","level","bgColor","fgColor"]),u=new h(-1,m[r]);u.addData(g(t)),u.make();var c=u.modules;if(null!==c){var d=[];return c.forEach((function(e,t){var n=null;e.forEach((function(r,o){if(!r&&null!==n)return d.push("M".concat(n," ").concat(t,"h").concat(o-n,"v1H").concat(n,"z")),void(n=null);if(o!==e.length-1)r&&null===n&&(n=o);else{if(!r)return;null===n?d.push("M".concat(o,",").concat(t," h1v1H").concat(o,"z")):d.push("M".concat(n,",").concat(t," h").concat(o+1-n,"v1H").concat(n,"z"))}}))})),f.createElement("svg",o({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(c.length," ").concat(c.length)},l),f.createElement("path",{fill:a,d:"M0,0 h".concat(c.length,"v").concat(c.length,"H0z")}),f.createElement("path",{fill:s,d:d.join("")}))}}}]),t}(f.Component);Object.defineProperty(_,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:y}),Object.defineProperty(_,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:v});var w=function(e){var t=e.renderAs,n=i(e,["renderAs"]),r="svg"===t?_:b;return f.createElement(r,n)};w.defaultProps=o({renderAs:"canvas"},y),e.exports=w},e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},e=>{e.exports={L:1,M:0,Q:3,H:2}},(e,t,n)=>{var r=n(871);function o(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(i)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=r.gexp(r.glog(e.get(i))+t);return new o(n,0).mod(e)}},e.exports=o},e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},(e,t,n)=>{"use strict";var r=a(n(13)),o=a(n(32)),i=n(33);function a(e){return e&&e.__esModule?e:{default:e}}var s=n(422),l={};e.exports=l,l.buildPuzzleRatingButtons=function(){var e=document.createElement("div");e.id="puzzleRatingButtons",e.innerHTML=n(1229)({label:r.default.puzzleRatingQuestion()});for(var t,i=e.querySelectorAll(".puzzle-rating-btn"),a=function(){for(var e,t=0;e=i[t];t++)e!==this&&(0,o.default)(e).removeClass("enabled");(0,o.default)(this).toggleClass("enabled")},l=0;t=i[l];l++)s.addClickTouchEvent(t,a);return e},l.getPuzzleRatings_=function(){var e=localStorage.getItem("puzzleRatings");try{return e?JSON.parse(e):[]}catch(t){return[]}},l.setPuzzleRatings_=function(e){(0,i.trySetLocalStorage)("puzzleRatings",JSON.stringify(e))},l.removePuzzleRating_=function(e){var t=l.getPuzzleRatings_().filter((function(t){return!(e.level_id===t.level_id&&e.script_id===t.script_id&&e.rating===t.rating)}));l.setPuzzleRatings_(t)},l.cachePuzzleRating=function(e,t){var n=e.querySelector(".enabled");if(n){var r=Object.assign({},t,{rating:n.getAttribute("data-value")}),o=l.getPuzzleRatings_();o.push(r),l.setPuzzleRatings_(o)}},l.submitCachedPuzzleRatings=function(e){l.getPuzzleRatings_().forEach((function(t){o.default.ajax({url:e,type:"POST",data:t,complete:function(){l.removePuzzleRating_(t)}})}))}},e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookiePolicy=void 0,function(e){e[e.Disable=0]="Disable",e[e.Enable=1]="Enable"}(t.CookiePolicy||(t.CookiePolicy={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookiePolicy=t.launchAsync=t.close=t.renderButtons=void 0;var r=n(2);Object.defineProperty(t,"renderButtons",{enumerable:!0,get:function(){return r.renderButtons}});var o=n(3);Object.defineProperty(t,"close",{enumerable:!0,get:function(){return o.close}}),Object.defineProperty(t,"launchAsync",{enumerable:!0,get:function(){return o.launchAsync}});var i=n(0);Object.defineProperty(t,"CookiePolicy",{enumerable:!0,get:function(){return i.CookiePolicy}}),"undefined"!=typeof window&&window.addEventListener("load",(function(){var e,t;window.hasOwnProperty("Promise")||(e="https://contentstorage.onenote.office.net/onenoteltir/permanent-static-resources/promise-polyfill.min.js",(t=document.createElement("script")).src=e,document.head.appendChild(t)),r.renderButtons()}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderButtons=void 0;var r={af:"Indompelende leser",am:"በህያው ስሜት ፈጣሪ ዕይታ አንባቢ",ar:"القارئ الشامل",as:"ইমাৰচিভ ৰিডাৰ",az:"İmmersiv Oxuyucu",be:"Імерсіўны чытальнік",bg:"Концентриран четец",bn:"মনোগ্রাহী পাঠক","bn-bd":"ইমার্সিভ পাঠক",bs:"Koncentrirani čitalac",ca:"Lector immersiu",cs:"Asistivní čtečka","cy-gb":"Darllenydd Ymdrwythol",da:"Forenklet læser",de:"Plastischer Reader",el:"Προηγμένο πρόγραμμα ανάγνωσης",en:"Immersive Reader",es:"Lector inmersivo",et:"Süvaluger",eu:"Irakurgailu murgiltzailea",fa:"خواننده همه‌جانبه",fi:"Syventävä lukuohjelma",fil:"Immersive Reader",fr:"Lecteur immersif","ga-ie":"Léitheoir tumthach",gd:"An leughadair ùr-nòsach",gl:"Lector avanzado",gu:"ઇમર્સિવ રીડર",ha:"Mai karatu Mai barbazawa",he:"תצוגת קריאה מודרנית",hi:"इमर्सिव रीडर",hr:"Stopljeni čitač",hu:"Modern olvasó",hy:"Խորասուզված ընթերցիչ",id:"Pembaca Imersif",ig:"Ọgụụ Kenzipụtara",is:"Aðgengilegt lestrarumhverfi",it:"Strumento di lettura immersiva",ja:"イマーシブ リーダー",ka:"იმერსიული წამკითხველი",kk:"Иммерсивті оқу құралы",km:"កម្មវិធីអានពណ៌រំលេចនៅលើអេក្រង់",kn:"ಇಮ್ಮರ್ಸಿವ್ ಓದುಗ",ko:"몰입형 리더",kok:"तंद्री लागिल्लो वाचक","ku-arab":"خوێنەری پڕ",ky:"Курчаган Окугуч",lb:"Immersive Reader",lo:"ຕົວອ່ານອິມເມີສີບ",lt:"Įtraukianti skaitytuvė",lv:"Tīrskata lasītājs",mi:"Pūpānui Rumaki",mk:"Сеопфатен читач",ml:"ഇമ്മേഴ്‌സീവ് റീഡർ",mn:"Идэвхтэй уншигч",mr:"इमर्सिव्ह वाचक",ms:"Pembaca Imersif",mt:"Qarrej Immersiv",ne:"इमेर्सिभ रिडर",nl:"Insluitende lezer","nn-no":"Engasjerande lesar",no:"Engasjerende leser",nso:"Go Bala ka Mongwalo o Mokoto",or:"ଇମରସିଭ୍ ରିଡର୍",pa:"ਇਮਰਸਿਵ ਰੀਡਰ","pa-arab":"گھیرن آلا مطالعہ کار",pl:"Czytnik immersyjny",prs:"خواننده نمایش",pt:"Leitura Avançada",quc:"Nim ucholajil sik'inel uwach",quz:"Wankisqa Ñawiq",ro:"Immersive Reader",ru:"Иммерсивное средство чтения",rw:"Insakazasoma",sd:"امرسو ريڊر",si:"ගිලෙන සුළු කියවනය",sk:"Imerzná čítačka",sl:"Potopni bralnik",sq:"Lexuesi kredhës","sr-cyrl-ba":"Концентрисани читалац","sr-cyrl-rs":"Концентрисани читалац","sr-latn-rs":"Koncentrisani čitalac",sv:"Avancerad läsare",sw:"Kisomaji cha Kuzamisha",ta:"அற்புதமான ரீடர்",te:"మంత్రముగ్ధులను చేసే పఠన సాధనం","tg-cyrl-tj":"Хонандаи фарогир",th:"โปรแกรมช่วยอ่าน",ti:"ኣንባቢ ሕሉው ስምዒት ፈጣሪ",tk:"Giňişleýin okaýjy",tn:"Sebadi sa Imesife",tr:"Tam Ekran Okuyucu",tt:"Чолгап алучы уку чарасы","ug-cn":"چۆكمە ئوقۇغۇچ",uk:"Занурення в текст",ur:"امرسیو مطالعہ کار",uz:"Immersiv mutolaa vositasi",vi:"Trình đọc Chân thực",wo:"Jàngukaay bu Rafet",xh:"Isifundi Esikhulu",yo:"Ìwò Alámùtán",zh:"沉浸式阅读器","zh-hant":"沈浸式閱讀程式",zu:"Isifundi Sokuzizwisa"};function o(e){var t=document.createElement("img");t.src="https://contentstorage.onenote.office.net/onenoteltir/permanent-static-resources/immersive-reader-icon.svg";var n=e.getAttribute("data-icon-px-size")||"20";t.style.height=t.style.width=n+"px",t.style.verticalAlign="middle",t.style.marginTop="-2px";var r=e.getAttribute("data-locale")||"en";t.alt=s(r),e.appendChild(t)}function i(e){var t=document.createElement("span");t.style.marginLeft="8px",e.appendChild(t)}function a(e){var t=document.createElement("span"),n=e.getAttribute("data-locale")||"en";t.textContent=s(n),e.appendChild(t)}function s(e){return e=e.toLowerCase(),r[e]?r[e]:"zh-hk"===e||"zh-mo"===e||"zh-tw"===e?r["zh-hant"]:(e=e.substring(0,e.lastIndexOf("-")),r[e]?r[e]:(e=e.substring(0,e.lastIndexOf("-")),r[e]?r[e]:r.en))}t.renderButtons=function(e){var t=document.createElement("style");t.innerHTML=".immersive-reader-button{cursor:pointer;display:inline-block;padding:5px;} .immersive-reader-button:hover{background:rgba(0,0,0,.05);border-radius:2px",document.head.appendChild(t);var n=[].slice.call(document.getElementsByClassName("immersive-reader-button"));e&&e.elements&&(n=e.elements);for(var r=0,l=n;r<l.length;r++){var u=l[r];u.setAttribute("role","button");var c=u.getAttribute("data-locale")||"en";switch(u.setAttribute("aria-label",s(c)),u.getAttribute("data-button-style")||"icon"){case"icon":o(u);break;case"text":a(u);break;case"iconAndText":o(u),i(u),a(u)}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSubdomain=t.close=t.launchAsync=void 0;var o=n(0),i=n(4),a={};a[i.ErrorCode.TokenExpired]="The access token supplied is expired.",a[i.ErrorCode.Throttled]="You have exceeded your quota.",a[i.ErrorCode.ServerError]="An error occurred when calling the server to process the text.",a[i.ErrorCode.InvalidSubdomain]="The subdomain supplied is invalid.";var s=!1;function l(e){return!!e&&new RegExp("^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])$").test(e)}t.launchAsync=function(e,t,n,u){return s?Promise.reject("Immersive Reader is already launching"):new Promise((function(c,d){if(e)if(n)if(n.chunks)if(n.chunks.length)if(l(t)||u&&u.customDomain){s=!0;var f=Date.now();(u=r({uiZIndex:1e3,timeout:15e3,useWebview:!1,allowFullscreen:!0,hideExitButton:!1,cookiePolicy:o.CookiePolicy.Disable},u)).uiZIndex&&"number"==typeof u.uiZIndex||(u.uiZIndex=1e3);var p=null,h=document.createElement("div"),m=u.useWebview?document.createElement("webview"):document.createElement("iframe");m.allow="autoplay";var g=document.createElement("style");g.innerHTML="body{height:100%;overflow:hidden;}";var y=function(){p&&(window.clearTimeout(p),p=null)},v=function(){document.body.contains(h)&&document.body.removeChild(h),window.removeEventListener("message",_),y(),g.parentNode&&g.parentNode.removeChild(g)},b=function(){if(v(),u.onExit)try{u.onExit()}catch(e){}};v();var _=function(r){if(r&&r.data&&"string"==typeof r.data)if("ImmersiveReader-ReadyForContent"===r.data){y();var o={cogSvcsAccessToken:e,cogSvcsSubdomain:t,request:n,launchToPostMessageSentDurationInMs:Date.now()-f,disableFirstRun:u.disableFirstRun,readAloudOptions:u.readAloudOptions,translationOptions:u.translationOptions,displayOptions:u.displayOptions,sendPreferences:!!u.onPreferencesChanged,preferences:u.preferences};m.contentWindow.postMessage(JSON.stringify({messageType:"Content",messageValue:o}),"*")}else if("ImmersiveReader-Exit"===r.data)b();else if(r.data.startsWith("ImmersiveReader-LaunchResponse:")){var l=null,p=null,g=null;try{g=JSON.parse(r.data.substring("ImmersiveReader-LaunchResponse:".length))}catch(e){}g&&g.success?l={container:h,sessionId:g.sessionId,charactersProcessed:g.meteredContentSize}:p=g&&!g.success?{code:g.errorCode,message:a[g.errorCode],sessionId:g.sessionId}:{code:i.ErrorCode.ServerError,message:a[i.ErrorCode.ServerError]},s=!1,l?(y(),c(l)):p&&(b(),d(p))}else if(r.data.startsWith("ImmersiveReader-Preferences:")&&u.onPreferencesChanged&&"function"==typeof u.onPreferencesChanged)try{u.onPreferencesChanged(r.data.substring("ImmersiveReader-Preferences:".length))}catch(e){}};window.addEventListener("message",_),p=window.setTimeout((function(){v(),s=!1,d({code:i.ErrorCode.Timeout,message:"Page failed to load after timeout ("+u.timeout+" ms)"})}),u.timeout),u.allowFullscreen&&m.setAttribute("allowfullscreen",""),m.style.cssText="position: static; width: 100vw; height: 100vh; left: 0; top: 0; border-width: 0",u.useWebview&&m.addEventListener("loadstop",(function(){m.contentWindow.postMessage(JSON.stringify({messageType:"WebviewHost"}),"*")}));var w=(u.customDomain?u.customDomain:"https://"+t+".cognitiveservices.azure.com/immersivereader/webapp/v1.0/")+"reader?exitCallback=ImmersiveReader-Exit&sdkPlatform=js&sdkVersion=1.1.0";w+="&cookiePolicy="+(u.cookiePolicy===o.CookiePolicy.Enable?"enable":"disable"),u.hideExitButton&&(w+="&hideExitButton=true"),u.uiLang&&(w+="&omkt="+u.uiLang),m.src=w,h.style.cssText="position: fixed; width: 100vw; height: 100vh; left: 0; top: 0; border-width: 0; -webkit-perspective: 1px; z-index: "+u.uiZIndex+"; background: white; overflow: hidden",h.appendChild(m),document.body.appendChild(h),document.head.appendChild(g)}else d({code:i.ErrorCode.InvalidSubdomain,message:a[i.ErrorCode.InvalidSubdomain]});else d({code:i.ErrorCode.BadArgument,message:"Chunks must not be empty"});else d({code:i.ErrorCode.BadArgument,message:"Chunks must not be null"});else d({code:i.ErrorCode.BadArgument,message:"Content must not be null"});else d({code:i.ErrorCode.BadArgument,message:"Token must not be null"})}))},t.close=function(){window.postMessage("ImmersiveReader-Exit","*")},t.isValidSubdomain=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e.BadArgument="BadArgument",e.Timeout="Timeout",e.TokenExpired="TokenExpired",e.Throttled="Throttled",e.ServerError="ServerError",e.InvalidSubdomain="InvalidSubdomain"}(t.ErrorCode||(t.ErrorCode={}))}])},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getStore",{enumerable:!0,get:function(){return r.getStore}});var r=n(136),o=w(n(857)),i=w(n(492)),a=w(n(1351)),s=w(n(493)),l=w(n(468)),u=w(n(759)),c=w(n(420)),d=w(n(626)),f=w(n(761)),p=w(n(1212)),h=w(n(889)),m=w(n(754)),g=w(n(898)),y=w(n(778)),v=w(n(491)),b=w(n(813)),_=w(n(908));function w(e){return e&&e.__esModule?e:{default:e}}(0,r.registerReducers)({header:o.default,project:i.default,app:a.default,progress:s.default,teacherSections:l.default,teacherPanel:_.default,lessonLock:u.default,viewAs:c.default,shareDialog:d.default,hiddenLesson:f.default,isRtl:p.default,responsive:h.default,publishDialog:m.default,projects:g.default,verifiedInstructor:y.default,currentUser:v.default,arrowDisplay:b.default})},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=void 0,t.appendLog=L,t.attach=B,t.canRunNext=I,t.clearLog=M,t.close=H,t.detach=F,t.evalInCurrentScope=G,t.getCommandHistory=S,t.getJSInterpreter=T,t.getLogOutput=R,t.getMaxLogLevel=D,t.getRoot=O,t.initialize=N,t.isAttached=P,t.isEditWhileRun=A,t.isOpen=x,t.isPaused=C,t.isRunning=k,t.open=U,t.reducer=Y,t.selectors=t.reducers=void 0,t.stepIn=q,t.stepOut=V,t.stepOver=z,t.togglePause=W;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(389)),i=d(n(1007)),a=n(904),s=d(n(981)),l=d(n(800)),u=d(n(904)),c=d(n(764));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="jsdebugger/INITIALIZE",g="jsdebugger/ATTACH",y="jsdebugger/DETACH",v="jsdebugger/APPEND_LOG",b="jsdebugger/CLEAR_LOG",_="jsdebugger/OPEN",w="jsdebugger/CLOSE",E=o.Record({jsInterpreter:null,runApp:null,observer:null,watchIntervalId:null,commandHistory:null,logOutput:[],maxLogLevel:"",isOpen:!1});function O(e){return e.jsdebugger}function S(e){return O(e).commandHistory}function T(e){return O(e).jsInterpreter}function C(e){return e.runState.isDebuggerPaused}function k(e){return e.runState.isRunning}function A(e){return e.runState.isEditWhileRun}function P(e){return!!T(e)}function x(e){return O(e).isOpen}function I(e){return e.runState.isDebuggerPaused&&e.runState.nextStep===l.default.StepType.RUN}function R(e){return O(e).logOutput}function D(e){return O(e).maxLogLevel}var j={getRoot:O,getCommandHistory:S,getJSInterpreter:T,isPaused:C,isEditWhileRun:A,isAttached:P,canRunNext:I,getLogOutput:R,getMaxLogLevel:D,isOpen:x,isRunning:k};function N(e){var t=e.runApp;return{type:m,runApp:t}}function L(e,t){return function(n,r){e.skipInspector="ERROR"===t||"WARNING"===t;var o=t&&t.toLowerCase();n({type:v,output:e,logLevel:o}),x(r())||n(U())}}function M(){return{type:b}}function B(e){return function(t,n){var r=new i.default;r.observe(e.onPause,(function(){t(W()),t(U())})),r.observe(e.onExecutionWarning,(function(e){return t(L({output:e},"WARNING"))}));var o=setInterval((function(){var e=T(n());n().watchedExpressions.forEach((function(n){var r=e.evaluateWatchExpression(n.get("expression"));t((0,a.update)(n.get("expression"),r))}))}),250);t(M()),t({type:g,observer:r,watchIntervalId:o,jsInterpreter:e})}}function F(){return function(e,t){var n=O(t()).observer;n&&n.unobserveAll(),clearInterval(function(e){return O(e).watchIntervalId}(t())),e({type:y})}}function U(){return{type:_}}function H(){return{type:w}}function W(){return function(e,t){var n=T(t());n&&n.handlePauseContinue()}}function q(){return function(e,t){var n=T(t());if(!n){var r=O(t()).runApp;if(!r)throw new Error("jsdebugger has not been initialized yet");if(r(),e(W()),!(n=T(t())))throw new Error("runApp should have attached an interpreter")}n.handleStepIn()}}function z(){return function(e,t){var n=T(t());if(!n)throw new Error("No interpreter has been attached");n.handleStepOver()}}function V(){return function(e,t){var n=T(t());if(!n)throw new Error("No interpreter has been attached");n.handleStepOut()}}function G(e){return function(t,n){var r=T(n());if(r)return r.evalInCurrentScope(e);throw new Error("No interpreter has been attached")}}t.selectors=j;var $={initialize:N,appendLog:L,clearLog:M,attach:B,detach:F,open:U,close:H,togglePause:W,stepIn:q,stepOver:z,stepOut:V,evalInCurrentScope:G};function K(e,t,n){return e=e||[],n===v?[].concat(p(e),[t]):e}function Y(e,t){return e||(e=new E({isOpen:!1})),t.type===m?e.merge({runApp:t.runApp,commandHistory:new s.default}):t.type===g?e.merge({jsInterpreter:t.jsInterpreter,observer:t.observer,watchIntervalId:t.watchIntervalId}):t.type===v?e.merge({logOutput:K(e.logOutput,t.output,t.type),maxLogLevel:(n=e.maxLogLevel,r=t.logLevel,"error"===r||"error"===n?"error":"warning"===r||"warning"===n?"warning":"")}):t.type===b?e.merge({logOutput:[],maxLogLevel:""}):t.type===y?e.merge({jsInterpreter:null,watchIntervalId:0}):t.type===w?e.set("isOpen",!1):t.type===_?e.set("isOpen",!0):e;var n,r}t.actions=$;var X={jsdebugger:Y,watchedExpressions:u.default,runState:c.default};t.reducers=X},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SENSOR_CHANNELS=t.SAMPLE_INTERVAL=t.MICROBIT_FIRMWARE_VERSION=t.MB_SENSOR_VARS=t.MB_COMPONENT_EVENTS=t.MB_COMPONENT_COUNT=t.MB_COMPONENTS=t.MB_BUTTON_VARS=t.MB_API=t.MAX_SENSOR_BUFFER_DURATION=t.MAX_LIGHT_SENSOR_VALUE=t.EXTERNAL_PINS=void 0,t.roundToHundredth=function(e){return Math.floor(100*e)/100};t.SENSOR_CHANNELS={accelX:8,accelY:9,accelZ:10,lightSensor:11,tempSensor:12,magX:13,magY:14};t.EXTERNAL_PINS=[0,1,2];t.MB_API="microbit";t.MB_COMPONENT_COUNT=8;t.MB_COMPONENTS=["LedScreen","MicroBitButton","Accelerometer","MicroBitThermometer","Compass","LightSensor","ExternalButton","ExternalLed","CapacitiveTouchSensor"];t.MB_BUTTON_VARS=["buttonA","buttonB"];var n=["lightSensor","tempSensor","compass"];t.MB_SENSOR_VARS=n;t.SAMPLE_INTERVAL=50;t.MAX_SENSOR_BUFFER_DURATION=3e3;t.MAX_LIGHT_SENSOR_VALUE=255;var r=["down","up"],o=["change","data"],i={buttonA:r,buttonB:r,accelerometer:["change","data","shake"]};t.MB_COMPONENT_EVENTS=i,n.forEach((function(e){return i[e]=o}));t.MICROBIT_FIRMWARE_VERSION="micro:bit Firmata 1.1"},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationProps=t.AnimationList=t.AnimationKey=void 0,t.getSerializedAnimationList=function(e){return{orderedKeys:e.orderedKeys,propsByKey:r.default.pick(r.default.mapValues(e.propsByKey,f),e.orderedKeys)}},t.throwIfSerializedAnimationListIsInvalid=function(e){if("object"!==a(e)||null===e)throw new Error("serializedAnimationList is not an object");if(!Array.isArray(e.orderedKeys))throw new Error("orderedKeys is not an array");e.orderedKeys=r.default.uniq(e.orderedKeys);var t=e.orderedKeys,n=e.propsByKey;if("object"!==a(n)||null===n)throw new Error("propsByKey is not an object");var o=function(e){["name","frameSize","frameCount","looping","frameDelay"].forEach((function(t){if(!n[e].hasOwnProperty(t))throw new Error("Required prop '".concat(t,"' is missing from animation with key '").concat(e,"'."))}))};for(var i in n)o(i);for(var s=t.slice(),l=Object.keys(n),u=l.length-1;u>=0;u--){var c=s.indexOf(l[u]);-1!==c&&(l.splice(u,1),s.splice(c,1))}if(s.length>0)throw new Error("Animation List has "+(1===s.length?"key":"keys")+" "+s.map((function(e){return'"'.concat(e,'"')})).join(", ")+" but not associated props");if(l.length>0)throw new Error("Animation List has a props for "+l.map((function(e){return'"'.concat(e,'"')})).join(", ")+" but "+(1===l.length?"that key isn't":"those keys aren't")+" in the orderedKeys list");var d={};for(var f in n){var p=n[f].name;if(d.hasOwnProperty(p))throw new Error('Name "'.concat(p,'" appears more than once in propsByKey'));d[p]=!0}};var r=i(n(53)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=o.default.shape({x:o.default.number.isRequired,y:o.default.number.isRequired}),l=o.default.string;t.AnimationKey=l;var u={name:o.default.string.isRequired,sourceUrl:o.default.string,frameSize:s.isRequired,frameCount:o.default.number.isRequired,looping:o.default.bool.isRequired,frameDelay:o.default.number.isRequired,version:o.default.string},c=r.default.assign({},u,{loadedFromSource:o.default.bool,sourceSize:s,saved:o.default.bool,blob:o.default.object,dataURI:o.default.string,hasNewVersionThisSession:o.default.bool}),d=o.default.shape(c);function f(e){return r.default.pick(e,["name","sourceUrl","frameSize","frameCount","looping","frameDelay","version","categories"])}t.AnimationProps=d;var p=o.default.shape({orderedKeys:o.default.arrayOf(l).isRequired,propsByKey:o.default.objectOf(d).isRequired});t.AnimationList=p},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=l(n(2)),a=l(n(103)),s=l(n(881));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var i=r.prototype;return i.render=function(){return o.default.createElement("button",{type:"button",id:this.props.id,style:this.getStyle(),className:"no-outline "+(this.props.className||""),title:this.props.title,onClick:this.props.onClick},this.props.children)},i.getStyle=function(){return Object.assign({},{":focus":{outline:"none"}},s.default.buttonStyle,s.default.toggleButtonStyle,this.props.active?s.default.activeStyle:s.default.inactiveStyle,this.props.active&&this.props.activeColor&&{backgroundColor:this.props.activeColor},this.props.first?s.default.firstButtonStyle:null,this.props.last?s.default.lastButtonStyle:null,this.props.style)},r}(o.Component);d=h,f="propTypes",p={id:i.default.string,className:i.default.string,active:i.default.bool.isRequired,first:i.default.bool,last:i.default.bool,activeColor:i.default.string,title:i.default.string,style:i.default.object,onClick:i.default.func,children:i.default.node},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var m=(0,a.default)(h);t.default=m,e.exports=t.default},(e,t,n)=>{var r=n(20);e.exports={buttonStyle:{display:"inline-block",verticalAlign:"top",borderStyle:"solid",borderColor:r.light_gray,borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1,margin:"0 0 8px 0",padding:"2px 6px",fontSize:14},toggleButtonStyle:{borderRightWidth:"0 !important",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0},firstButtonStyle:{borderBottomLeftRadius:4,borderTopLeftRadius:4},lastButtonStyle:{borderRightWidth:"1px !important",borderBottomRightRadius:4,borderTopRightRadius:4},activeStyle:{backgroundColor:r.orange,color:r.white,boxShadow:"2px 2px 5px "+r.shadow+" inset"},inactiveStyle:{backgroundColor:r.white,color:r.light_gray,boxShadow:"0px 1px 5px "+r.shadow},hiddenStyle:{display:"none"},iconStyle:{margin:"0 0.3em"}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentBadge=v,t.BadgeType=void 0,t.KeepWorkingBadge=y,t.default=h;var r=u(n(1)),o=u(n(2)),i=u(n(20)),a=u(n(59)),s=n(33),l=n(808);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=(0,s.makeEnum)("assessment","keepWorking");function h(e){var t=e.badgeType,n=e.bubbleSize,r=e.bubbleShape;return[l.BubbleSize.full,l.BubbleSize.letter].includes(n)?t===p.assessment?m(r):t===p.keepWorking?g(n):null:null}function m(e){var t=e===l.BubbleShape.diamond?b.diamondBubblePosition:b.bubblePosition;return r.default.createElement("div",{style:t},r.default.createElement(v,null))}function g(e){var t=e===l.BubbleSize.letter,n=t?b.keepWorkingSmallBadgePosition:b.keepWorkingBadgePosition;return r.default.createElement("div",{style:n},r.default.createElement(y,{isSmall:t}))}function y(e){var t=e.isSmall,n=e.style,o=t?b.keepWorkingBadgeSmallSize:b.keepWorkingBadgeFullSize;return r.default.createElement("div",{style:d(d(d({},b.keepWorkingBadge),o),n)})}function v(){return r.default.createElement("span",{className:"fa-stack",style:b.container},r.default.createElement(a.default,{icon:"circle",className:"fa-stack-2x",style:b.purple}),r.default.createElement(a.default,{icon:"circle-thin",className:"fa-stack-2x",style:b.white}),r.default.createElement(a.default,{icon:"check",className:"fa-stack-1x",style:b.white}))}t.BadgeType=p,h.propTypes={badgeType:o.default.oneOf(Object.values(p)).isRequired,bubbleSize:o.default.oneOf(Object.values(l.BubbleSize)).isRequired,bubbleShape:o.default.oneOf(Object.values(l.BubbleShape)).isRequired},m.propTypes={bubbleShape:o.default.oneOf(Object.values(l.BubbleShape)).isRequired},g.propTypes={bubbleSize:o.default.oneOf(Object.values(l.BubbleSize)).isRequired},y.propTypes={isSmall:o.default.bool,style:o.default.object},v.propTypes={hasWhiteBorder:o.default.bool,style:o.default.object};var b={container:{fontSize:10},bubblePosition:{position:"absolute",top:-7,right:-7},diamondBubblePosition:{position:"absolute",top:-13,right:-17},purple:{color:i.default.purple},white:{color:i.default.white},keepWorkingSmallBadgePosition:{position:"absolute",top:-2,right:-2},keepWorkingBadgePosition:{position:"absolute",top:0,right:-2},keepWorkingBadge:{borderRadius:"50%",backgroundColor:i.default.red},keepWorkingBadgeFullSize:{width:10,height:10},keepWorkingBadgeSmallSize:{width:7,height:7}}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_ANIMATION_JSON=t.UPDATE_LOCATION=t.TOGGLE_GRID_OVERLAY=t.SELECT_LOCATION=t.REQUEST_LOCATION=t.HIDE_ANIMATION_JSON=t.CLEAR_CONSOLE=t.CHANGE_INTERFACE_MODE=t.CANCEL_LOCATION_SELECTION=t.ADD_MESSAGE=void 0,t.changeInterfaceMode=function(e){return function(t){(0,o.default)(window).trigger("appModeChanged"),t({type:s,interfaceMode:e}),t((0,i.setAllowInstructionsResize)(e===a.P5LabInterfaceMode.CODE))}},t.hideAnimationJson=function(){return{type:u}},t.toggleGridOverlay=function(e){return function(t){t({type:c,showGridOverlay:e})}},t.viewAnimationJson=function(e){return{type:l,content:e}};var r,o=(r=n(32))&&r.__esModule?r:{default:r},i=n(643),a=n(632);var s="CHANGE_INTERFACE_MODE";t.CHANGE_INTERFACE_MODE=s;var l="gamelab/VIEW_ANIMATION_JSON";t.VIEW_ANIMATION_JSON=l;var u="gamelab/HIDE_ANIMATION_JSON";t.HIDE_ANIMATION_JSON=u;var c="gamelab/TOGGLE_GRID_OVERLAY";t.TOGGLE_GRID_OVERLAY=c;t.REQUEST_LOCATION="gamelab/REQUEST_LOCATION";t.CANCEL_LOCATION_SELECTION="gamelab/CANCEL_LOCATION_SELECTION";t.SELECT_LOCATION="gamelab/SELECT_LOCATION";t.UPDATE_LOCATION="gamelab/UPDATE_LOCATION";t.CLEAR_CONSOLE="spritelab/CLEAR_CONSOLE";t.ADD_MESSAGE="spritelab/ADD_MESSAGE"},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.START_LOADING_PENDING_FRAMES_FROM_SOURCE=t.START_LOADING_FROM_SOURCE=t.SET_INITIAL_ANIMATION_LIST=t.REMOVE_PENDING_FRAMES=t.EDIT_ANIMATION=t.DONE_LOADING_PENDING_FRAMES_FROM_SOURCE=t.DONE_LOADING_FROM_SOURCE=t.ADD_ANIMATION_AT=t.ADD_ANIMATION=void 0,t.addAnimation=function(e,t){return function(n,r){n(W(e,b(b({},t),{},{looping:!0}))),n(H(e,(function(){n((0,c.selectAnimation)(e))})));var o=M(t.name,r().animationList.propsByKey);n(U(e,o)),(0,p.projectChanged)()}},t.addAnimationAction=W,t.addBlankAnimation=function(){return F({name:"animation",sourceUrl:"/api/v1/animation-library/mUlvnlbeZ5GHYr_Lb4NIuMwPs7kGxHWz/category_backgrounds/blank.png",frameSize:{x:100,y:100},frameCount:1,looping:!0,frameDelay:4,version:"mUlvnlbeZ5GHYr_Lb4NIuMwPs7kGxHWz"},!1)},t.addLibraryAnimation=F,t.allAnimationsSingleFrameSelector=function(e){return e.pageConstants.allAnimationsSingleFrame},t.animationSourceUrl=G,t.appendBlankFrame=function(){return function(e,t){e(q(t().animationTab.selectedAnimation,{blankFrame:!0})),(0,p.projectChanged)()}},t.appendCustomFrames=function(e){return function(t,n){var r=n().animationTab.selectedAnimation;t(q(r,e)),t(V(r,e)),(0,p.projectChanged)()}},t.appendLibraryFrames=function(e){return function(t,n){var r=n().animationTab.selectedAnimation;t(q(r,e)),t(V(r,e)),(0,p.projectChanged)()}},t.cloneAnimation=function(e){return function(t,n){var r=n().animationList,o=r.orderedKeys.indexOf(e);if(o<0)throw new Error("Animation ".concat(e," not found"));var i=r.propsByKey[e],s=(0,a.createUuid)();t({type:O,index:o+1,key:s,props:Object.assign({},i,{name:M(i.name+"_copy",r.propsByKey),version:i.version,saved:!1})}),t((0,c.selectAnimation)(s)),(0,p.projectChanged)()}},t.default=void 0,t.deleteAnimation=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=r().animationList,i=o.orderedKeys;t&&(i=B(o));var a=i.indexOf(e),s=0===a?1:a-1;n((0,c.selectAnimation)(i[s]||null)),n({type:A,key:e}),(0,p.projectChanged)(),l.animations.ajax("DELETE",e+".png",(function(){}),(function(t){n((0,d.reportError)("Error deleting object ".concat(e,": ").concat(t.status," ").concat(t.statusText)))}))}},t.editAnimation=function(e,t){return function(n){n({type:S,key:e,props:t}),(0,p.projectChanged)()}},t.isNameUnique=function(e,t){for(var n in t)if(t[n].name===e)return!1;return!0},t.removePendingFramesAction=z,t.saveAnimation=$,t.saveAnimations=function(e){return function(t,n){var r=n().animationList,o=r.orderedKeys.filter((function(e){return!r.propsByKey[e].sourceUrl&&r.propsByKey[e].blob&&!r.propsByKey[e].saved}));Promise.all(o.map((function(e){return $(e,r.propsByKey[e]).then((function(e){t(e)}))}))).then((function(){e()})).catch((function(t){console.log("Failed to save animations",t),e()}))}},t.setAnimationFrameDelay=function(e,t){return function(n){n({type:k,key:e,frameDelay:t}),(0,p.projectChanged)()}},t.setAnimationLooping=function(e,t){return function(n){n({type:C,key:e,looping:t}),(0,p.projectChanged)()}},t.setAnimationName=U,t.setInitialAnimationList=function(e,t,n){e||(e={orderedKeys:[],propsByKey:{}});Array.isArray(e)&&((0,m.default)("Research","RanMigration","2015-animation-migration"),e={orderedKeys:e.map((function(e){return e.key})),propsByKey:e.reduce((function(e,t){return e[t.key]=t,e}),{})});n&&t&&e.orderedKeys.forEach((function(n){var r=e.propsByKey[n];if(r.sourceUrl&&!r.sourceUrl.includes(dashboard.project.getCurrentId())&&r.sourceUrl.includes("/v3/")){var o="name=".concat(r.name,";key=").concat(n);t.propsByKey[n]?(e.propsByKey[n]=t.propsByKey[n],(0,m.default)("Research","ReplacedSpriteByKey",o)):(0,m.default)("Research","CouldNotReplaceSprite",o)}}));for(var r in e.propsByKey){var o=e.propsByKey[r];o.frameDelay||("number"!=typeof o.frameRate||isNaN(o.frameRate)||0===o.frameRate?o.frameDelay=2:o.frameDelay=Math.round(30/o.frameRate)),void 0===o.looping&&(o.looping=!0)}for(var i=e.orderedKeys.length,a=0;a<i;a++)for(var s=e.orderedKeys[a],l=e.propsByKey[s].name,u=a+1;u<i;u++){var d=e.orderedKeys[u];l===e.propsByKey[d].name&&(e.propsByKey[d].name=M(l,e.propsByKey))}try{(0,f.throwIfSerializedAnimationListIsInvalid)(e)}catch(p){return void console.error("Unable to load animations:",p)}return function(t){t({type:w,animationList:e});var r=e.orderedKeys[0];n&&(r=B(e)[0]);t((0,c.selectAnimation)(r||"")),e.orderedKeys.forEach((function(e){t(H(e))}))}},t.withAbsoluteSourceUrls=function(e,t){var n=o.default.cloneDeep(e);return n.orderedKeys.forEach((function(e){var r=n.propsByKey[e],o=G(e,r,t),i=document.createElement("a");i.href=o,r.sourceUrl=i.href})),n};var o=y(n(53)),i=n(462),a=n(33),s=n(392),l=n(449),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(777)),c=n(1425),d=n(1452),f=n(879),p=n(450),h=y(n(131)),m=y(n(142));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="AnimationList/SET_INITIAL_ANIMATION_LIST";t.SET_INITIAL_ANIMATION_LIST=w;var E="AnimationList/ADD_ANIMATION";t.ADD_ANIMATION=E;var O="AnimationList/ADD_ANIMATION_AT";t.ADD_ANIMATION_AT=O;var S="AnimationList/EDIT_ANIMATION";t.EDIT_ANIMATION=S;var T="AnimationList/SET_ANIMATION_NAME",C="AnimationList/SET_ANIMATION_LOOPING",k="AnimationList/SET_ANIMATION_FRAME_DELAY",A="AnimationList/DELETE_ANIMATION",P="AnimationList/START_LOADING_FROM_SOURCE";t.START_LOADING_FROM_SOURCE=P;var x="AnimationList/DONE_LOADING_FROM_SOURCE";t.DONE_LOADING_FROM_SOURCE=x;var I="AnimationList/ON_ANIMATION_SAVED",R="AnimationList/SET_PENDING_FRAMES",D="AnimationList/START_LOADING_PENDING_FRAMES_FROM_SOURCE";t.START_LOADING_PENDING_FRAMES_FROM_SOURCE=D;var j="AnimationList/DONE_LOADING_PENDING_FRAMES_FROM_SOURCE";t.DONE_LOADING_PENDING_FRAMES_FROM_SOURCE=j;var N="AnimationList/REMOVE_PENDING_FRAMES";t.REMOVE_PENDING_FRAMES=N;var L=(0,i.combineReducers)({orderedKeys:function(e,t){switch(e=e||[],t.type){case w:return t.animationList.orderedKeys;case E:return[].concat(e.slice(0),t.key);case O:return[].concat(e.slice(0,t.index),t.key,e.slice(t.index));case A:return e.filter((function(e){return e!==t.key}));default:return e}},propsByKey:function(e,t){var n;switch(e=e||{},t.type){case w:return t.animationList.propsByKey;case E:case O:case S:case T:case C:case k:case P:case x:case I:return Object.assign({},e,_({},t.key,function(e,t){switch(e=e||{},t.type){case E:case O:return t.props;case S:return Object.assign({},e,t.props,{sourceUrl:null,saved:!1});case T:return Object.assign({},e,{name:t.name});case k:return Object.assign({},e,{frameDelay:t.frameDelay});case C:return Object.assign({},e,{looping:t.looping});case P:return Object.assign({},e,{loadedFromSource:!1});case x:return Object.assign({},e,{loadedFromSource:!0,saved:!0,blob:t.blob,dataURI:t.dataURI,sourceSize:t.sourceSize});case I:return Object.assign({},e,{saved:!0,version:t.version});default:return e}}(e[t.key],t)));case A:return delete(n=Object.assign({},e))[t.key],n;default:return e}},pendingFrames:function(e,t){switch(e=e||{},t.type){case R:return{key:t.key,props:t.props};case N:return{};case D:return Object.assign({},e,{loadedFromSource:!1});case j:return Object.assign({},e,{loadedFromSource:!0,saved:!0,loadedProps:t.loadedProps});default:return e}}});function M(e,t){var n=[];for(var r in t){var o=t[r].name;if(o.substring(0,e.length)===e&&"_"===(o=o.replace(e,""))[0]){var i=o.split("_"),a=parseInt(i.pop());n.push(a)}}n.sort((function(e,t){return e-t}));for(var s=1,l=0;l<n.length&&s===n[l];l++)s++;return e+"_"+s.toString()}t.default=L;var B=function(e){return e.orderedKeys.filter((function(t){var n=e.propsByKey[t];return!n.categories||!n.categories.includes("backgrounds")}))};function F(e,t){return function(n,r){var o=(0,a.createUuid)();r().pageConstants&&r().pageConstants.isBlockly?n(W(o,e,0)):n(W(o,e)),t&&e.categories.includes("backgrounds")?n(H(o,(function(){}))):n(H(o,(function(){n((0,c.selectAnimation)(o))})));var i=M(e.name,r().animationList.propsByKey);n(U(o,i)),(0,p.projectChanged)()}}function U(e,t){return function(n){n({type:T,key:e,name:t}),(0,p.projectChanged)()}}function H(e,t){return t=t||function(){},function(n,r){var o=r(),i=G(e,o.animationList.propsByKey[e],o.pageConstants&&o.pageConstants.channelId);n({type:P,key:e}),(0,s.fetchURLAsBlob)(i,(function(r,a){if(r)return console.log("Failed to load animation "+e,r),h.default.putRecord({study:"animation_no_load",study_group:"animation_no_load_v4",event:(0,p.isOwner)()?"animation_not_loaded_owner":"animation_not_loaded_viewer",project_id:(0,p.getCurrentId)(),data_json:JSON.stringify({sourceUrl:i,mainJsonSourceUrl:o.animationList.propsByKey[e].sourceUrl,version:o.animationList.propsByKey[e].version,animationName:o.animationList.propsByKey[e].name,error:r.message})},{includeUserId:!0}),void((0,p.isOwner)()&&n((0,d.reportError)("Sorry, we couldn't load animation \"".concat(o.animationList.propsByKey[e].name,'".'),"anim_load",e)));(0,s.blobToDataURI)(a,(function(r){(0,s.dataURIToSourceSize)(r).then((function(o){n({type:x,key:e,blob:a,dataURI:r,sourceSize:o}),t()}))}))}))}}function W(e,t,n){return 0===n?{type:O,key:e,props:t,index:n}:{type:E,key:e,props:t}}function q(e,t){return{type:R,key:e,props:t}}function z(){return{type:N}}function V(e,t,n){return n=n||function(){},function(r,o){var i=o(),a=G(e,t,i.pageConstants&&i.pageConstants.channelId);r({type:D}),(0,s.fetchURLAsBlob)(a,(function(t,o){if(t)return console.log("Failed to load pending animation frames"+e,t),void r(z());(0,s.blobToDataURI)(o,(function(t){(0,s.dataURIToSourceSize)(t).then((function(i){r(function(e,t){return{type:j,key:e,loadedProps:t}}(e,{blob:o,dataURI:t,sourceSize:i})),n()}))}))}))}}function G(e,t,n){var r=t.sourceUrl&&!t.sourceUrl.includes("v3/animations/"+n),o=t.sourceUrl&&t.sourceUrl.includes("v3/animations/"+n);return r||o&&t.sourceUrl.includes("?version")?u.fixPath(t.sourceUrl):o?t.version?u.fixPath(t.sourceUrl)+"?version="+t.version:u.fixPath(t.sourceUrl)+"?version=latestVersion":l.animations.basePath(e)+".png?version="+(t.version||"")}function $(e,t){return new Promise((function(n,r){var o=new XMLHttpRequest,i=function(){r(new Error("".concat(o.status," ").concat(o.statusText)))};o.addEventListener("load",(function(){if(o.status>=400)i();else try{var t=JSON.parse(o.responseText);n({type:I,key:e,version:t.versionId})}catch(a){r(a)}})),o.addEventListener("error",i),o.open("PUT",l.animations.basePath(e+".png"),!0),o.setRequestHeader("Content-type","image/png"),o.send(t.blob)}))}},,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponsiveSize=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;if(t.type===s&&e.responsiveSize!==t.responsiveSize)return i(i({},e),{},{responsiveSize:t.responsiveSize});return e},t.getResponsiveBreakpoint=c,t.setResponsiveSize=void 0;var r=n(33);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="responsive/SET_RESPONSIVE_SIZE";t.setResponsiveSize=function(e){return{type:s,responsiveSize:e}};var l=(0,r.makeEnum)("lg","md","sm","xs");t.ResponsiveSize=l;var u=[{breakpoint:992,responsiveSize:l.lg},{breakpoint:720,responsiveSize:l.md},{breakpoint:650,responsiveSize:l.sm},{breakpoint:0,responsiveSize:l.xs}];function c(e){return u.find((function(t){var n=t.breakpoint;return e>n})).responsiveSize}var d={responsiveSize:c(window.innerWidth)}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getContainedLevelResultInfo=O,t.getValidatedResult=function(){return o.getContainedLevelResult().result.result},t.initializeContainedLevel=function(){var e=(0,s.getStore)();if(!e.getState().instructions.hasContainedLevels)return;var t=(0,c.default)("#runButton"),n=(0,c.default)("#stepButton"),r=function(e){(0,c.default)(window).trigger("attemptedRunButtonClick")};o.hasValidContainedLevelResult()?o.lockContainedLevelAnswers():(t.prop("disabled",!0),n.prop("disabled",!0),(0,c.default)("#runButton").bind("click",r),a.addCallouts([{id:"disabledRunButtonCallout",element_id:"#runButton",localized_text:u.default.containedLevelRunDisabledTooltip(),qtip_config:{codeStudio:{canReappear:!0},position:{my:"top left",at:"bottom center"}},on:"attemptedRunButtonClick"}]),e.dispatch((0,l.setAwaitingContainedResponse)(!0)));o.registerAnswerChangedFn((function(){var e=o.hasValidContainedLevelResult();t.prop("disabled",!e),n.prop("disabled",!e),e&&(t.qtip("hide"),(0,c.default)("#runButton").unbind("click",r)),(0,s.getStore)().dispatch((0,l.setAwaitingContainedResponse)(!e))}))},t.postContainedLevelAttempt=function(e){var t,n=e.hasContainedLevels,r=e.attempts,o=e.onAttempt;if(!n)return;var i="teacher"===(null===(t=(0,s.getStore)().getState().currentUser)||void 0===t?void 0:t.userType);if(!i&&1!==r)return;if(i&&d.default.parse(window.location.search).user_id)return;w=b;var a=O();o(g(g({},a),{},{onComplete:function(){w=_,E&&(E(),E=null)}}))},t.runAfterPostContainedLevel=function(e){if(w===v)throw new Error("Shouldnt call runAfterPostContainedLevel before postContainedLevelAttempt");if(w===_)return void e();E=e};var o=h(n(760)),i=n(137),a=h(n(891)),s=n(136),l=n(764),u=f(n(13)),c=f(n(32)),d=f(n(169));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="None",b="Started",_="Finished",w=v,E=null;function O(){var e=o.getContainedLevelResult();return{app:e.app,level:e.id,callback:e.callback,result:!0,testResult:i.TestResults.CONTAINED_LEVEL_RESULT,program:e.result.response,feedback:e.feedback,submitted:!1}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCallouts=a,t.default=function(e){if(!e||0===e.length)return;function t(e){var t=window.location,n=t.hash.split("#triggercallout=");if(n.length>1){var r=n[1],i=e&&e.type||"hashinit";(0,o.default)(window).trigger(r,[i]),window.history.go&&"hashchange"===i?history.go(-1):t.hash=""}}(0,o.default)(window).on("function_editor_closed",(function(){(0,o.default)(".cdo-qtips").qtip("hide")})),(0,o.default)(window).on("block_space_metrics_set",(function(){s(),l()})),(0,o.default)(window).on("droplet_change",(function(e,t){switch(t){case"scrollace":return void(0,o.default)(".cdo-qtips").each((function(){var e=(0,o.default)(this).qtip("api"),t=(0,o.default)(e.elements.target);(0,o.default)(".ace_gutter").has(t)&&e.destroy()}));case"scrollpalette":case"scrolleditor":s()}u(),c()})),a(e),t(),(0,o.default)(window).on("hashchange",t)},t.showHideWorkspaceCallouts=void 0;var r,o=(r=n(32))&&r.__esModule?r:{default:r};n(32);var i=n(765);function a(e){o.default.fn.qtip.zindex=500;var t=-1!==document.URL.indexOf("show_callouts=1");e.forEach((function(e){var n=e.element_id;if(0!==(0,o.default)(n).length||e.on){var r={codeStudio:{},content:{text:e.localized_text,title:{button:(0,o.default)('<div class="tooltip-x-close"/>')}},style:{classes:"",tip:{width:20,height:20}},position:{my:"bottom left",at:"top right"},hide:{event:"click mousedown touchstart"},show:!1},a="string"==typeof e.qtip_config?o.default.parseJSON(e.qtip_config):e.qtip_config,s=o.default.extend(!0,{},r,a);if(s.style.classes=s.style.classes.concat(" cdo-qtips"),e.seen=i.hasSeenCallout(e.id),t)e.seen=!1;else{if(e.seen&&!s.codeStudio.canReappear)return;e.seen||i.recordCalloutSeen(e.id)}e.hide_target_selector&&(s.hide.target=(0,o.default)(e.hide_target_selector)),(0,o.default)("html[dir=rtl]").length&&(s.position.my=f(s.position.my),s.position.at=f(s.position.at),s.position.adjust&&(s.position.adjust.x*=-1)),"top right"!==s.position.my&&"right top"!==s.position.my||(s.style.classes+=" flip-x-close"),e.on?(0,o.default)(window).on(e.on,(function(t,r){s.codeStudio.selector||(s.codeStudio.selector=n);var i=s.codeStudio.selector;(0,o.default)(window).trigger("prepareforcallout",[s.codeStudio]),i!==s.codeStudio.selector&&(0,o.default)(i).length>0&&(0,o.default)(i).qtip(s).qtip("destroy"),setTimeout((function(){(0,o.default)(s.codeStudio.selector).length>0&&("hashchange"!==r&&"hashinit"!==r&&e.seen&&!s.codeStudio.canReappear||(0,o.default)(s.codeStudio.selector).qtip(s).qtip("show"),e.seen=!0)}),0)})):e.seen||(0,o.default)(n).qtip(s).qtip("show")}}))}function s(){(0,o.default)(".cdo-qtips").qtip("reposition",null,!1)}var l=d("#codeWorkspace");t.showHideWorkspaceCallouts=l;var u=d(".droplet-palette-scroller"),c=d(".droplet-gutter");function d(e){var t={},n={};return function(){var r=(0,o.default)(e);(0,o.default)(".cdo-qtips").each((function(){var e=(0,o.default)(this).qtip("api"),i=(0,o.default)(e.elements.target);0!==(0,o.default)(document).has(i).length?r.has(i).length>0&&(r.is(":visible")?n[e.id]&&(e.show(),delete n[e.id]):(e.hide(),n[e.id]=!0),i&&i.overlaps(r).length>0?t[e.id]&&(e.show(),delete t[e.id]):(0,o.default)(this).is(":visible")&&(e.hide(),t[e.id]=!0)):e.destroy(!0)}))}}function f(e){return p((e=e.split(/\s+/))[0])+" "+p(e[1])}function p(e){switch(e){case"left":return"right";case"right":return"left";default:return e}}},,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONAL=void 0,t.apiValidateType=d,t.apiValidateTypeAndRange=function(e,t,n,r,o,i,a,s){var u="validated_type_"+n,f="validated_range_"+n;if(d(e,t,n,r,o,s),e[u]&&void 0===e[f]){var p=void 0===i||r>=i;p&&(p=void 0===a||r<=a),(p=p||s===l&&void 0===r)||c(t+"() "+n+" parameter value ("+r+") is not in the expected range."),e[f]=p}},t.getAsyncOutputWarning=function(){var e;return(e=s).getAsyncOutputWarning.apply(e,arguments)},t.injectErrorHandler=function(e){s=e},t.outputError=u,t.outputWarning=c;var r=i(n(993)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s,l=!0;function u(){var e;(e=s).outputError.apply(e,arguments)}function c(){var e;(e=s).outputWarning.apply(e,arguments)}function d(e,t,n,i,s,d){var p="validated_type_"+n;if(void 0===e[p]){var h,m;switch(s){case"color":if(h="string"==typeof i)h=new r.default(i).ok;break;case"uistring":h="string"==typeof i||"number"==typeof i||"boolean"==typeof i;break;case"pinid":var g=["A0","A1","A2","A3","A4","A5","A6","A7",0,1,2,3,6,9,10,12],y=["A2","A3","A7",1,9,10];if(h=g.includes(i)&&!y.includes(i),!g.includes(i))return u("".concat(t,"() ").concat(n," parameter value (").concat(i,") is not a valid ").concat(s,". Please use a different ").concat(s,".")),!1;y.includes(i)&&(m="".concat(t,"() ").concat(n," parameter value (").concat(i,") is a reserved ").concat(s,". Please use a different ").concat(s,"."));break;case"number":h="number"==typeof i||"string"==typeof i&&!isNaN(i);break;case"primitive":(h=f(i))||(s="string, number, boolean, undefined or null");break;case"array":h=Array.isArray(i);break;case"record":if(h="object"===a(i)&&!Array.isArray(i))if(!Object.values(i).every((function(e){return f(e)})))return u(o.default.invalidRecordTypeError()),!1;break;default:h=a(i)===s}if(!(h=h||d===l&&void 0===i)){var v="function"==typeof i?"function":i;c(m||"".concat(t,"() ").concat(n," parameter value (").concat(v,") is not a ").concat(s,"."))}e[p]=h}return!!e[p]}function f(e){switch(a(e)){case"string":case"number":case"boolean":case"undefined":return!0;case"object":return null===e;default:return!1}}t.OPTIONAL=l},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendProjects=function(e,t){return{type:v,projects:e,projectType:t}},t.cancelRenamingProject=function(e){return{type:x,projectId:e}},t.default=void 0,t.deleteSuccess=function(e){return{type:l.DELETE_SUCCESS,projectId:e}},t.prependProjects=function(e,t){return{type:w,projects:e,projectType:t}},t.publishSuccess=function(e,t){return{type:s.PUBLISH_SUCCESS,lastPublishedAt:e,lastPublishedProjectData:t}},t.remix=void 0,t.saveFailure=F,t.saveProjectName=void 0,t.saveSuccess=B,t.selectGallery=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.Galleries.PUBLIC;return{type:y,projectType:e}},t.setHasOlderProjects=function(e,t){return{type:_,hasOlderProjects:e,projectType:t}},t.setLoadingPersonalProjectsList=L,t.setPersonalProjects=void 0,t.setPersonalProjectsList=N,t.setProjectLists=j,t.setPublicProjects=void 0,t.startRenamingProject=function(e){return{type:A,projectId:e}},t.unpublishProject=function(e){return function(t){return t({type:T}),new Promise((function(n,r){u.channels.withProjectId(e).ajax("POST","unpublish",(function(){t({type:C,projectId:e}),n()}),(function(e){t({type:k}),r(e)}),null)}))}},t.unpublishProjectLibrary=void 0,t.unpublishSuccess=function(e){return{type:C,projectId:e}},t.unsetNameFailure=function(e){return{type:D,projectId:e}},t.updatePersonalProjectData=M,t.updateProjectLibrary=void 0,t.updateProjectName=function(e,t){return{type:P,projectId:e,updatedName:t}};var r=n(462),o=d(n(32)),i=d(n(53)),a=n(1276),s=n(754),l=n(1337),u=n(449),c=d(n(807));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="projects/TOGGLE_GALLERY",v="projects/APPEND_PROJECTS",b="projects/SET_PROJECT_LISTS",_="projects/SET_HAS_OLDER_PROJECTS",w="projects/PREPEND_PROJECTS",E="projects/SET_PERSONAL_PROJECTS_LIST",O="projects/SET_LOADING_PERSONAL_PROJECTS_LIST",S="projects/UPDATE_PERSONAL_PROJECT_DATA",T="projects/UNPUBLISH_REQUEST",C="projects/UNPUBLISH_SUCCESS",k="projects/UNPUBLISH_FAILURE",A="projects/START_RENAMING_PROJECT",P="projects/UPDATE_PROJECT_NAME",x="projects/CANCEL_RENAMING_PROJECT",I="projects/SAVE_SUCCESS",R="project/SAVE_FAILURE",D="project/UNSET_NAME_FAILURE";function j(e){return{type:b,projectLists:e}}function N(e){return{type:E,personalProjectsList:e}}function L(e){return{type:O,isLoading:e}}function M(e,t){return{type:S,projectId:e,data:t}}function B(e,t){return{type:I,projectId:e,lastUpdatedAt:t}}function F(e,t){return{type:R,projectId:e,projectNameFailure:t}}var U=a.Galleries.PUBLIC;var H={applab:[],spritelab:[],gamelab:[],playlab:[],artist:[],dance:[],poetry:[],thebadguys:[]};var W={special_topic:!1,dance:!0,poetry:!0,applab:!0,spritelab:!0,gamelab:!0,playlab:!0,artist:!0,minecraft:!0,events:!0,k1:!0};var q={projects:[],isLoading:!1};var z=(0,r.combineReducers)({selectedGallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return t.type===y?t.projectType:e},projectLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.projectLists;case v:var n=t.projects,r=t.projectType;return m(m({},e),{},g({},r,i.default.unionBy(e[r],n,"channel")));case w:var o=t.projects,a=t.projectType;return m(m({},e),{},g({},a,i.default.unionBy(o,e[a],"channel")));default:return e}},hasOlderProjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return t.type===_?m(m({},e),{},g({},t.projectType,t.hasOlderProjects)):e},personalProjectsList:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E:return m(m({},t),{},{projects:n.personalProjectsList});case O:return m(m({},t),{},{isLoading:n.isLoading});case S:var r=f(t.projects),o=r.findIndex((function(e){return e.channel===n.projectId}));return r[o]=n.data,m(m({},t),{},{projects:r});case s.PUBLISH_SUCCESS:if(null===(e=t.projects)||void 0===e||!e.length)return t;var i=n.lastPublishedProjectData.channel,a=t.projects.findIndex((function(e){return e.channel===i})),u=f(t.projects);return u[a]=m(m({},u[a]),{},{publishedAt:n.lastPublishedAt}),m(m({},t),{},{projects:u});case T:return m(m({},t),{},{isUnpublishPending:!0});case C:var c=n.projectId,d=t.projects.findIndex((function(e){return e.channel===c})),p=f(t.projects);return p[d]=m(m({},p[d]),{},{publishedAt:null}),m(m({},t),{},{projects:p});case k:return m(m({},t),{},{isUnpublishPending:!1});case l.DELETE_SUCCESS:var h=n.projectId,g=t.projects.findIndex((function(e){return e.channel===h})),y=f(t.projects);return y.splice(g,1),m(m({},t),{},{projects:y});case A:var v=n.projectId,b=t.projects.findIndex((function(e){return e.channel===v})),_=f(t.projects);return _[b]=m(m({},_[b]),{},{isEditing:!0,updatedName:_[b].name}),m(m({},t),{},{projects:_});case P:var w=n.projectId,j=t.projects.findIndex((function(e){return e.channel===w})),N=f(t.projects);return N[j]=m(m({},N[j]),{},{updatedName:n.updatedName}),m(m({},t),{},{projects:N});case x:var L=n.projectId,M=t.projects.findIndex((function(e){return e.channel===L})),B=f(t.projects);return B[M]=m(m({},B[M]),{},{isEditing:!1}),m(m({},t),{},{projects:B});case I:var F=n.projectId,U=t.projects.findIndex((function(e){return e.channel===F})),H=f(t.projects),W=H[U];return H[U]=m(m({},W),{},{name:W.updatedName,isSaving:!1,isEditing:!1,updatedAt:n.lastUpdatedAt}),m(m({},t),{},{projects:H});case R:var z=n.projectId,V=t.projects.findIndex((function(e){return e.channel===z})),G=f(t.projects),$=G[V];return G[V]=m(m({},$),{},{isSaving:!1,isEditing:!1}),n.projectNameFailure&&(G[V].projectNameFailure=n.projectNameFailure,G[V].isEditing=!0),m(m({},t),{},{projects:G});case D:var K=n.projectId,Y=t.projects.findIndex((function(e){return e.channel===K})),X=f(t.projects),J=X[Y];return X[Y]=m(m({},J),{},{projectNameFailure:void 0}),m(m({},t),{},{projects:X});default:return t}}});t.default=z;t.setPublicProjects=function(){return function(e){o.default.ajax({method:"GET",url:"/api/v1/projects/gallery/public/all/".concat(a.MAX_PROJECTS_PER_CATEGORY),dataType:"json"}).done((function(t){e(j(t))}))}};t.setPersonalProjects=function(){return function(e){e(L(!0)),o.default.ajax({method:"GET",url:"/api/v1/projects/personal",dataType:"json"}).done((function(t){e(N(t)),e(L(!1))})).fail((function(){e(L(!1))}))}};var V=function(e,t){o.default.ajax({url:"/v3/channels/".concat(e),method:"GET",type:"json",contentType:"application/json;charset=UTF-8"}).done((function(e){t(null,e)})).fail((function(e,n){t(n,e.responseJSON)}))};t.updateProjectLibrary=function(e,t){return function(n){V(e,(function(e,r){if(e)console.error(e);else{var i=m(m({},r),t);o.default.ajax({url:"/v3/channels/".concat(r.id),method:"POST",type:"json",contentType:"application/json;charset=UTF-8",data:JSON.stringify(i)}),i.channel=r.id,n(M(r.id,i))}}))}};t.unpublishProjectLibrary=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c.default(e);return function(r){V(e,(function(e,r){e?t(e):n.unpublish(r,(function(e,n){return t(e)}))}))}};t.saveProjectName=function(e,t){return function(n){V(e,(function(e,r){var i;e?console.error(e):(r.name=t,n((i=r,function(e){o.default.ajax({url:"/v3/channels/".concat(i.id),method:"POST",type:"json",contentType:"application/json;charset=UTF-8",data:JSON.stringify(i)}).done((function(t){e(B(i.id,t.updatedAt))})).fail((function(t,n){e(F(i.id,t.responseJSON.nameFailure))}))})))}))}};t.remix=function(e,t){window.location="/projects/".concat(t,"/").concat(e,"/remix")}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userAlreadyReportedAbuse=t.getChannelIdFromUrl=void 0;var r,o=(r=n(179))&&r.__esModule?r:{default:r};t.userAlreadyReportedAbuse=function(e){return o.default.get("reported_abuse")&&JSON.parse(o.default.get("reported_abuse")).includes(e)};t.getChannelIdFromUrl=function(e){var t;return(t=e.indexOf("codeprojects")>=0&&e.indexOf("weblab")<0?/.*codeprojects.*[^\/]+\/([^\/]+)/.exec(e):e.indexOf("channelId=")>=0?/\?channelId=(.*)/.exec(e):/.*\/projects\/[^\/]+\/([^\/]+)/.exec(e))&&t[1]}},(e,t)=>{"use strict";function n(e,t){this.config=e,this.audioContext=t,this.audioElement=null,this.reusableBuffer=null,this.playableBuffers=[],this.isPlayingCount=0,this.isPlaying_=!1,this.isLoaded_=!1,this.didLoadFail_=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.prototype.play=function(e){if(e=e||{},this.audioElement||this.reusableBuffer){if(this.reusableBuffer){var t=this.playableBuffers.push(this.newPlayableBufferSource(this.reusableBuffer,e))-1;return this.playableBuffers[t].onended=function(){this.isPlayingCount=Math.max(this.isPlayingCount-1,0),0===this.isPlayingCount&&(this.isPlaying_=!1,e.onEnded&&e.onEnded())}.bind(this),this.playableBuffers[t].start?this.playableBuffers[t].start(0):this.playableBuffers[t].noteOn(0),void this.handlePlayStarted(e)}if(this.config.allowHTML5Mobile||!("ontouchstart"in document.documentElement)){var n=void 0===e.volume?1:Math.max(0,Math.min(1,e.volume));this.audioElement.volume=n,this.audioElement.loop=!!e.loop;var r=function(){this.audioElement.removeEventListener("abort",r),this.audioElement.removeEventListener("ended",r),this.audioElement.removeEventListener("pause",r),this.isPlaying_=!1,e.onEnded&&e.onEnded()}.bind(this);this.audioElement.addEventListener("abort",r),this.audioElement.addEventListener("ended",r),this.audioElement.addEventListener("pause",r),this.audioElement.play(),this.handlePlayStarted(e)}else this.handlePlayFailed(e)}else this.handlePlayFailed(e)},n.prototype.playAfterLoad=function(e){this.isLoaded()||this.config.playAfterLoad?this.handlePlayFailed(e):(this.config.playAfterLoad=!0,this.config.playAfterLoadOptions=e)},n.prototype.handlePlayFailed=function(e){e.callback&&e.callback(!1)},n.prototype.handleLoadFailed=function(e){this.didLoadFail_=!0;var t=this.config,n=t.onPreloadError,r=t.playAfterLoadOptions;n&&n(e);var o=r&&r.callback;o&&o(!1)},n.prototype.handlePlayStarted=function(e){this.isPlayingCount++,this.isPlaying_=!0,e.callback&&e.callback(!0)},n.prototype.stop=function(){try{if(this.playableBuffers.length)for(var e in this.playableBuffers)this.playableBuffers[e].stop?this.playableBuffers[e].stop(0):this.playableBuffers[e].noteOff&&this.playableBuffers[e].noteOff(0),this.isPlayingCount=Math.max(this.isPlayingCount-1,0);else this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0)}catch(t){if("InvalidStateError"!==t.name)throw t}this.isPlaying_=!1},n.prototype.isPlaying=function(){return this.isPlaying_},n.prototype.isLoaded=function(){return this.isLoaded_},n.prototype.didLoadFail=function(){return this.didLoadFail_},n.prototype.newPlayableBufferSource=function(e,t){var n=this.audioContext.createBufferSource();if(this.audioContext.createGain)this.gainNode=this.audioContext.createGain();else{if(!this.audioContext.createGainNode)return null;this.gainNode=this.audioContext.createGainNode()}n.buffer=e,n.loop=!!t.loop,n.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination);var r=void 0===t.volume?1:t.volume;return this.gainNode.gain.value=r,n},n.prototype.fadeToGain=function(e,t){this.gainNode?this.fadeToGainWebAudio_(e,t):this.audioElement&&this.fadeToGainHtml5Audio_(e,t)},n.prototype.fadeToGainWebAudio_=function(e,t){if(this.gainNode){0===e&&(e=.01);var n=this.audioContext.currentTime;this.gainNode.gain.setValueAtTime(this.gainNode.gain.value,n),this.gainNode.gain.exponentialRampToValueAtTime(e,n+t)}},n.prototype.fadeToGainHtml5Audio_=function(e,t){if(this.audioElement)var n=this.audioElement.volume||1,r=Math.max(0,Math.min(1,e)),o=r-n,i=1e3*t,a=(new Date).getTime(),s=setInterval(function(){var e=(new Date).getTime()-a;if(e>=i)return this.audioElement.volume=r,void clearInterval(s);var t=o*Math.pow(e/i,2)+n;this.audioElement.volume=Math.max(0,Math.min(1,t))}.bind(this),100)},n.prototype.getPlayableFile=function(){try{if(!window.Audio)return!1;var e=new window.Audio;if(this.config.hasOwnProperty("mp3")&&e.canPlayType("audio/mp3"))return this.config.mp3;if(this.config.hasOwnProperty("ogg")&&e.canPlayType("audio/ogg"))return this.config.ogg;if(this.config.hasOwnProperty("wav")&&e.canPlayType("audio/wav"))return this.config.wav}catch(t){}return!1},n.prototype.getPlayableBytes=function(){try{if(!window.Audio)return!1;var e=new window.Audio;if(this.config.hasOwnProperty("bytes")&&e.canPlayType("audio/mp3"))return this.config.bytes}catch(t){console.warn("No bytes provided or mp3 is not supported")}return!1},n.prototype.preloadFile=function(){var e=this.getPlayableFile();if(e)if(!this.config.forceHTML5&&window.AudioContext&&this.audioContext){var t=this;this.preloadViaWebAudio(e,(function(e){t.reusableBuffer=e}))}else if(window.Audio){var n=new window.Audio(e);this.preloadAudioElement(n)}},n.prototype.preloadBytes=function(){var e=this.getPlayableBytes();if(e)if(!this.config.forceHTML5&&window.AudioContext&&this.audioContext){var t=this;t.audioContext.decodeAudioData(e,(function(e){t.reusableBuffer=e,t.onSoundLoaded()}))}else if(window.Audio){var n=new Blob([e],{type:"audio/mpeg3"}),r=window.URL.createObjectURL(n),o=new window.Audio(r);this.preloadAudioElement(o)}},n.prototype.preloadAudioElement=function(e){var t=this;if(e&&e.play){var n;n=-1,/MSIE\s([\d.]+)/.test(navigator.userAgent)&&(n=parseInt(RegExp.$1)),9!==n&&(e.play(),e.pause()),this.audioElement=e;var r="canplaythrough",o=function(){this.onSoundLoaded(),e.removeEventListener(r,o)}.bind(this);e.addEventListener(r,o),e.addEventListener("error",(function(){t.handleLoadFailed()}))}},n.prototype.onSoundLoaded=function(){this.isLoaded_=!0,this.config.playAfterLoad&&this.play(this.config.playAfterLoadOptions),this.onLoad&&this.onLoad()},n.prototype.preloadViaWebAudio=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer";var r=this;n.onload=function(){200===n.status?r.audioContext.decodeAudioData(n.response,(function(e){t(e),r.onSoundLoaded()})):r.handleLoadFailed(n.status)},n.onerror=function(){r.handleLoadFailed(n.status)},n.send()},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(32)),o=n(857),i=n(492),a=y(n(1)),s=y(n(36)),l=n(27),u=y(n(819)),c=n(136),d=n(491),f=n(778),p=y(n(586)),h=n(197),m=y(n(1032)),g=y(n(1053));function y(e){return e&&e.__esModule?e:{default:e}}var v,b,_={};_.build=function(e,t,n,o,i,d,f,p,y,v){e=e||{},t=t||{},n=n||{},o=o||{};var b=d!==h.PUZZLE_PAGE_NONE;u.default.generateLessonProgress(e,t,n,o,i,b,f,p,v,d);var _=(0,c.getStore)();(0,r.default)(document).ready((function(){s.default.render(a.default.createElement(l.Provider,{store:_},a.default.createElement(m.default,{scriptNameData:y,lessonData:n,scriptData:e,currentLevelId:i})),document.querySelector(".header_level")),e.show_sign_in_callout&&!1===f&&s.default.render(a.default.createElement(g.default,null),document.querySelector(".signin_callout_wrapper"))}))},_.buildProjectInfoOnly=function(){s.default.render(a.default.createElement(l.Provider,{store:(0,c.getStore)()},a.default.createElement(m.default,{projectInfoOnly:!0})),document.querySelector(".header_level"))},_.buildScriptNameOnly=function(e){s.default.render(a.default.createElement(l.Provider,{store:(0,c.getStore)()},a.default.createElement(m.default,{scriptNameData:e,scriptNameOnly:!0})),document.querySelector(".header_level"))},_.buildUserMenu=function(){(0,r.default)(document).ready((function(){var e=(0,r.default)(".create_menu").length>0;fetch("/dashboardapi/user_menu?showCreateMenu=".concat(e),{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){return(0,r.default)("#sign_in_or_user").html(e)})).catch((function(e){console.log(e)}))}))},v=(0,c.getStore)(),b={},v.subscribe((function(){var e=b;b=v.getState(),e.publishDialog&&e.publishDialog.lastPublishedAt!==b.publishDialog.lastPublishedAt&&window.dashboard.project.setPublishedAt(b.publishDialog.lastPublishedAt),e.shareDialog&&!e.shareDialog.didUnpublish&&b.shareDialog.didUnpublish&&window.dashboard.project.setPublishedAt(null)})),function(e){fetch("/api/v1/users/current",{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(t){e.dispatch((0,d.setUserSignedIn)(t.is_signed_in)),t.is_signed_in&&(e.dispatch((0,d.setInitialData)(t)),t.is_verified_instructor&&e.dispatch((0,f.setVerified)()),p.default.setCustomAttribute("userId",t.id))})).catch((function(e){console.log(e)}))}((0,c.getStore)()),_.showMinimalProjectHeader=function(){(0,c.getStore)().dispatch((0,i.refreshProjectName)()),(0,c.getStore)().dispatch((0,o.showMinimalProjectHeader)())},_.showLevelBuilderSaveButton=function(e,t,n){(0,c.getStore)().dispatch((0,o.showLevelBuilderSaveButton)(e,t,n))},_.showHeaderForProjectBacked=function(e){e.showShareAndRemix&&(0,c.getStore)().dispatch((0,o.showProjectBackedHeader)()),(0,c.getStore)().dispatch((0,i.showProjectUpdatedAt)()),_.updateTimestamp()},_.showProjectHeader=function(){_.updateTimestamp(),(0,c.getStore)().dispatch((0,i.refreshProjectName)()),(0,c.getStore)().dispatch((0,o.showProjectHeader)())},_.updateTimestamp=function(){var e=dashboard.project.getCurrentTimestamp();(0,c.getStore)().dispatch((0,i.setProjectUpdatedAt)(e))},_.showProjectSaveError=function(){(0,c.getStore)().dispatch((0,i.setProjectUpdatedError)())},_.showProjectSaving=function(){(0,c.getStore)().dispatch((0,i.setProjectUpdatedSaving)())},_.showTryAgainDialog=function(){(0,c.getStore)().dispatch((0,i.setShowTryAgainDialog)(!0))},_.hideTryAgainDialog=function(){(0,c.getStore)().dispatch((0,i.setShowTryAgainDialog)(!1))};var w=_;t.default=w,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r.prototype.render=function(){var e,t;if(this.props.isMinecraft){var n=this.props.lit?"iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACzSURBVHjalJExDsIwDEW/GzbYG4m5A505BzuH6cQpEGdg6TlYWLp0rpSOiHZrZIaGCsfNwJcsR8mT/fVDkGJokToAYNdVyO1ZkqZcuEyA+RHgFsgOc3EL9s2ykQT4K3Oau68BKkCmxAYp+VpdZfhDCh7GSfS1WITvYZyw2waHwS8A+k4mu7+g7x/RqEJEF4tdV/H7dWf2DcefpNK43gjAM5SUgq21yTQU7JxLwmvGOfX+GQDlKDxFgn7+bgAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AsRFQUQP8g1cwAAAKpJREFUKM+VkbENxCAMRR+nK1JHAmWCZIVMkWHZAyktmSCioKbzVRfBGYr7jRF+sj8fQytBy6gDIN579n1vSOfcw71qcF1Xcs5Ya7HWknMmpfRsNDVYa9s2AGKMzPOMc443A8UY1d2LP6TgUkpTe7E0vkspTNME8PgFzHeyOY6D67qaSTXYsyXeeznPU1JK8vtJKo0QAiGE7gMVvCzLMA0F3/c9hHvGZdT/APfyQc3umPvfAAAAAElFTkSuQmCC";e=o.default.createElement("g",{className:this.props.shouldAnimate?"animate-hint":""},o.default.createElement("image",{width:"450",height:"450",x:"80",y:"140",className:"pixelated",xlinkHref:"data:image/png;base64,"+n}))}else{var r=this.props.lit?[o.default.createElement("g",{key:"line-0"},o.default.createElement("line",{fill:"#EFB834",x1:"473.582",y1:"208.1",x2:"560.578",y2:"159.16"}),o.default.createElement("path",{fill:"#EFB834",d:"M473.141,207.315c0,0,1.225-1.003,3.396-2.711c1.08-0.864,2.402-1.894,3.925-3.063 c1.525-1.167,3.227-2.514,5.117-3.927c1.887-1.418,3.931-2.954,6.092-4.578c2.158-1.632,4.462-3.3,6.831-5.055 c2.386-1.723,4.843-3.519,7.372-5.285c2.515-1.791,5.104-3.552,7.677-5.341c2.578-1.778,5.065-3.721,7.503-5.648 c1.228-0.948,2.436-1.907,3.665-2.792c1.231-0.881,2.478-1.695,3.736-2.442c2.527-1.472,5.12-2.629,7.656-3.587 c2.529-0.971,4.998-1.751,7.331-2.377c4.655-1.268,8.797-1.858,11.81-2.069c1.504-0.109,2.718-0.138,3.572-0.111 c0.843,0.007,1.313,0.047,1.313,0.047l0.883,1.569c0,0-0.21,0.422-0.641,1.146c-0.42,0.744-1.075,1.766-1.95,2.995 c-1.745,2.465-4.4,5.698-7.9,9.019c-1.746,1.669-3.694,3.374-5.838,5.031c-2.136,1.671-4.471,3.285-7.041,4.681 c-1.291,0.687-2.635,1.331-4.027,1.925c-1.394,0.591-2.841,1.126-4.289,1.683c-2.914,1.083-5.865,2.2-8.723,3.48 c-2.865,1.27-5.713,2.568-8.55,3.788c-2.823,1.245-5.633,2.412-8.345,3.556c-2.729,1.113-5.352,2.217-7.867,3.213 c-2.511,1.004-4.885,1.953-7.076,2.83c-2.189,0.881-4.224,1.637-6.013,2.334c-1.79,0.695-3.357,1.29-4.656,1.764 c-2.587,0.968-4.08,1.494-4.08,1.494L473.141,207.315z"})),o.default.createElement("g",{key:"line-1"},o.default.createElement("line",{fill:"#EFB834",x1:"492.348",y1:"410.008",x2:"589.509",y2:"432.883"}),o.default.createElement("path",{fill:"#EFB834",d:"M492.555,409.132c0,0,1.581,0.091,4.335,0.303c1.38,0.095,3.05,0.232,4.962,0.403 c1.912,0.173,4.077,0.334,6.424,0.574c2.348,0.234,4.892,0.487,7.583,0.755c2.693,0.259,5.519,0.592,8.45,0.904 c2.923,0.347,5.947,0.688,9.004,1.101c3.064,0.384,6.161,0.841,9.266,1.266c3.102,0.437,6.247,0.691,9.346,0.922 c1.546,0.133,3.084,0.246,4.588,0.426c1.502,0.185,2.972,0.43,4.403,0.732c2.857,0.628,5.548,1.531,8.064,2.543 c2.519,0.998,4.864,2.095,7.004,3.213c4.285,2.219,7.732,4.588,10.093,6.472c1.181,0.938,2.094,1.738,2.704,2.337 c0.615,0.576,0.934,0.923,0.934,0.923l-0.412,1.752c0,0-0.44,0.169-1.248,0.41c-0.813,0.263-1.987,0.572-3.463,0.885 c-2.953,0.633-7.096,1.216-11.92,1.29c-2.414,0.046-5.003-0.018-7.702-0.249c-2.703-0.216-5.515-0.609-8.351-1.322 c-1.415-0.368-2.84-0.804-4.267-1.309c-1.426-0.509-2.853-1.095-4.296-1.665c-2.878-1.176-5.805-2.351-8.776-3.344 c-2.968-1.004-5.944-1.977-8.857-3c-2.92-0.995-5.779-2.038-8.549-3.032c-2.762-1.029-5.44-1.992-7.965-2.961 c-2.528-0.961-4.918-1.869-7.124-2.708c-2.207-0.833-4.217-1.655-6.005-2.353c-1.788-0.7-3.344-1.323-4.621-1.854 c-2.559-1.039-4.015-1.663-4.015-1.663L492.555,409.132z"})),o.default.createElement("g",{key:"line-2"},o.default.createElement("line",{fill:"#EFB834",x1:"502.559",y1:"301.7",x2:"602.37",y2:"300.685"}),o.default.createElement("path",{fill:"#EFB834",d:"M502.55,300.8c0,0,1.557-0.289,4.282-0.742c1.362-0.237,3.017-0.504,4.915-0.795 c1.898-0.289,4.039-0.65,6.375-0.979c2.336-0.334,4.867-0.697,7.544-1.08c2.677-0.392,5.5-0.744,8.421-1.142 c2.921-0.362,5.939-0.753,9.006-1.084c3.067-0.359,6.183-0.656,9.3-0.985c3.116-0.317,6.23-0.823,9.296-1.339 c1.533-0.24,3.053-0.499,4.556-0.683c1.503-0.18,2.989-0.293,4.45-0.342c2.924-0.073,5.753,0.16,8.438,0.542 c2.685,0.366,5.224,0.871,7.57,1.446c4.691,1.13,8.605,2.607,11.347,3.872c1.371,0.629,2.449,1.187,3.185,1.622 c0.735,0.412,1.128,0.673,1.128,0.673l0.018,1.8c0,0-0.387,0.269-1.114,0.696c-0.727,0.45-1.793,1.031-3.151,1.687 c-2.716,1.321-6.6,2.877-11.266,4.102c-2.333,0.622-4.862,1.179-7.539,1.599c-2.676,0.436-5.5,0.727-8.425,0.713 c-1.462-0.019-2.95-0.102-4.456-0.251c-1.506-0.153-3.032-0.381-4.569-0.59c-3.075-0.454-6.199-0.895-9.321-1.149 c-3.122-0.266-6.244-0.499-9.318-0.796c-3.073-0.268-6.099-0.598-9.026-0.9c-2.928-0.338-5.758-0.634-8.442-0.971 c-2.684-0.329-5.222-0.639-7.564-0.926c-2.342-0.281-4.49-0.599-6.394-0.849c-1.903-0.253-3.563-0.486-4.93-0.695 c-2.734-0.397-4.296-0.655-4.296-0.655L502.55,300.8z"})),o.default.createElement("g",{key:"line-3"},o.default.createElement("line",{fill:"#EFB834",x1:"135.661",y1:"212.764",x2:"48.665",y2:"163.824"}),o.default.createElement("path",{fill:"#EFB834",d:"M135.22,213.548c0,0-1.493-0.526-4.08-1.494c-1.299-0.474-2.866-1.069-4.656-1.764 c-1.789-0.697-3.824-1.453-6.013-2.334c-2.191-0.876-4.565-1.826-7.076-2.83c-2.515-0.996-5.138-2.1-7.867-3.213 c-2.712-1.144-5.522-2.312-8.345-3.556c-2.837-1.22-5.686-2.518-8.55-3.788c-2.859-1.28-5.81-2.397-8.723-3.48 c-1.448-0.557-2.895-1.092-4.289-1.683c-1.392-0.594-2.736-1.238-4.027-1.925c-2.57-1.396-4.905-3.01-7.041-4.681 c-2.143-1.657-4.092-3.363-5.838-5.031c-3.5-3.32-6.155-6.554-7.9-9.019c-0.874-1.229-1.53-2.251-1.95-2.995 c-0.431-0.724-0.641-1.146-0.641-1.146l0.883-1.569c0,0,0.47-0.04,1.313-0.047c0.854-0.027,2.068,0.002,3.572,0.111 c3.013,0.211,7.155,0.801,11.81,2.069c2.332,0.625,4.801,1.406,7.331,2.377c2.537,0.958,5.129,2.115,7.656,3.587 c1.258,0.746,2.505,1.561,3.736,2.442c1.229,0.885,2.437,1.844,3.665,2.792c2.438,1.928,4.925,3.87,7.503,5.648 c2.573,1.789,5.161,3.549,7.677,5.341c2.529,1.766,4.986,3.562,7.372,5.285c2.368,1.755,4.673,3.423,6.831,5.055 c2.162,1.625,4.206,3.16,6.092,4.578c1.889,1.413,3.592,2.76,5.117,3.927c1.523,1.169,2.845,2.199,3.925,3.063 c2.17,1.708,3.396,2.711,3.396,2.711L135.22,213.548z"})),o.default.createElement("g",{key:"line-4"},o.default.createElement("line",{fill:"#EFB834",x1:"120.895",y1:"411.672",x2:"23.734",y2:"434.547"}),o.default.createElement("path",{fill:"#EFB834",d:"M121.101,412.548c0,0-1.456,0.623-4.015,1.663c-1.277,0.53-2.833,1.153-4.621,1.854 c-1.788,0.698-3.798,1.52-6.005,2.353c-2.206,0.838-4.596,1.747-7.124,2.708c-2.526,0.969-5.203,1.932-7.965,2.961 c-2.77,0.993-5.629,2.037-8.549,3.032c-2.914,1.023-5.889,1.996-8.857,3c-2.971,0.993-5.899,2.169-8.776,3.344 c-1.443,0.57-2.87,1.156-4.296,1.665c-1.427,0.505-2.852,0.941-4.267,1.309c-2.836,0.713-5.648,1.105-8.351,1.321 c-2.699,0.231-5.288,0.295-7.702,0.249c-4.824-0.074-8.967-0.657-11.92-1.29c-1.476-0.313-2.65-0.621-3.463-0.885 c-0.808-0.241-1.248-0.41-1.248-0.41l-0.413-1.752c0,0,0.319-0.347,0.934-0.923c0.61-0.598,1.523-1.399,2.704-2.337 c2.36-1.884,5.808-4.254,10.093-6.472c2.14-1.119,4.485-2.216,7.004-3.213c2.516-1.012,5.207-1.915,8.064-2.543 c1.431-0.302,2.9-0.547,4.403-0.732c1.503-0.181,3.042-0.293,4.588-0.426c3.1-0.232,6.245-0.486,9.346-0.922 c3.104-0.425,6.201-0.882,9.265-1.266c3.057-0.412,6.081-0.754,9.004-1.101c2.931-0.312,5.757-0.644,8.45-0.904 c2.691-0.268,5.235-0.521,7.583-0.755c2.347-0.239,4.512-0.4,6.424-0.574c1.913-0.171,3.583-0.308,4.962-0.403 c2.754-0.212,4.335-0.303,4.335-0.303L121.101,412.548z"})),o.default.createElement("g",{key:"line-5"},o.default.createElement("line",{fill:"#EFB834",x1:"112.684",y1:"306.364",x2:"12.873",y2:"305.349"}),o.default.createElement("path",{fill:"#EFB834",d:"M112.675,307.264c0,0-1.562,0.257-4.296,0.655c-1.367,0.21-3.026,0.443-4.93,0.695 c-1.904,0.25-4.051,0.568-6.394,0.849c-2.343,0.287-4.88,0.598-7.564,0.926c-2.684,0.337-5.514,0.633-8.442,0.971 c-2.928,0.302-5.953,0.632-9.026,0.9c-3.074,0.297-6.195,0.53-9.318,0.796c-3.122,0.254-6.246,0.696-9.321,1.149 c-1.537,0.209-3.063,0.437-4.569,0.59c-1.506,0.149-2.994,0.232-4.456,0.251c-2.925,0.014-5.749-0.277-8.425-0.713 c-2.676-0.421-5.205-0.977-7.539-1.599c-4.667-1.225-8.55-2.781-11.266-4.102c-1.358-0.656-2.424-1.237-3.151-1.687 c-0.727-0.427-1.114-0.696-1.114-0.696l0.018-1.8c0,0,0.393-0.261,1.128-0.673c0.736-0.435,1.814-0.994,3.185-1.622 c2.742-1.265,6.657-2.742,11.347-3.872c2.345-0.575,4.885-1.079,7.57-1.446c2.685-0.382,5.514-0.615,8.438-0.542 c1.462,0.049,2.947,0.162,4.45,0.342c1.503,0.184,3.024,0.443,4.556,0.683c3.065,0.516,6.18,1.021,9.296,1.339 c3.116,0.329,6.232,0.626,9.299,0.985c3.067,0.33,6.085,0.722,9.006,1.084c2.92,0.398,5.744,0.75,8.421,1.142 c2.677,0.383,5.208,0.745,7.544,1.08c2.336,0.329,4.477,0.69,6.375,0.979c1.898,0.291,3.552,0.558,4.915,0.795 c2.725,0.453,4.282,0.742,4.282,0.742L112.675,307.264z"}))]:[];e=o.default.createElement("g",{className:this.props.shouldAnimate?"animate-hint":""},o.default.createElement("path",{fill:this.props.lit?"#EFB834":"#C9C9C9",d:"M453.775,353.156c0,24.012-57.189,128.942-61.414,132.265c-12.384,9.741-48.514,15.318-82.869,16.518 c-8.362,0.292-16.619,0.325-24.403,0.096c-20.716-0.611-38.081-3.079-45.155-7.464c-6.896-4.274-74.477-119.24-74.477-141.415 c0-89.195,64.542-161.502,144.159-161.502S453.775,263.961,453.775,353.156z"}),o.default.createElement("g",{transform:"matrix(1,0,0,-1,379.66102,1293.0169)"},o.default.createElement("path",{fill:"#5D5D5D",d:"M7.357,980.857c0-2.96-1.081-5.521-3.244-7.684 s-4.724-3.244-7.684-3.244s-5.521,1.081-7.684,3.244s-3.244,4.724-3.244,7.684c0,10.473-6.147,18.556-18.442,24.248 c-12.295,5.692-24.362,8.538-36.201,8.538c-2.96,0-5.521,1.081-7.684,3.244s-3.244,4.724-3.244,7.684 c0,2.96,1.081,5.521,3.244,7.684s4.724,3.244,7.684,3.244c11.384,0,22.711-1.821,33.981-5.464s21.174-9.79,29.712-18.442 S7.357,992.696,7.357,980.857z M62,980.857c0,16.393-3.927,31.647-11.782,45.763s-18.1,25.671-30.737,34.664 s-26.638,16.051-42.007,21.174s-30.907,7.684-46.617,7.684s-31.249-2.561-46.617-7.684s-29.371-12.181-42.007-21.174 c-12.636-8.993-22.882-20.548-30.737-34.664c-7.855-14.116-11.782-29.371-11.782-45.763c0-22.996,7.741-43.487,23.223-61.473 c2.277-2.504,5.749-6.261,10.416-11.27c4.667-5.009,8.14-8.766,10.416-11.27c29.143-34.835,45.194-68.759,48.154-101.772h77.866 c2.96,33.013,19.011,66.938,48.154,101.772c2.277,2.504,5.749,6.261,10.416,11.27s8.14,8.766,10.416,11.27 C54.259,937.37,62,957.862,62,980.857z M105.714,980.857c0-35.29-11.725-65.799-35.176-91.527 c-10.246-11.156-18.727-21.06-25.443-29.712s-13.49-19.523-20.32-32.615c-6.83-13.092-10.701-25.329-11.612-36.713 c10.701-6.375,16.051-15.71,16.051-28.004c0-8.424-2.846-15.71-8.538-21.857c5.692-6.147,8.538-13.433,8.538-21.857 c0-11.839-5.123-21.06-15.368-27.663c2.96-5.237,4.44-10.587,4.44-16.051c0-10.473-3.586-18.556-10.758-24.248 s-15.994-8.538-26.468-8.538c-4.554-10.018-11.384-17.987-20.491-23.906c-9.107-5.92-19.011-8.879-29.712-8.879 c-10.701,0-20.605,2.96-29.712,8.879c-9.107,5.92-15.938,13.888-20.491,23.906c-10.473,0-19.296,2.846-26.468,8.538 s-10.758,13.775-10.758,24.248c0,5.464,1.48,10.815,4.44,16.051c-10.246,6.603-15.368,15.824-15.368,27.663 c0,8.424,2.846,15.71,8.538,21.857c-5.692,6.147-8.538,13.433-8.538,21.857c0,12.295,5.35,21.629,16.051,28.004 c-0.911,11.384-4.781,23.622-11.612,36.713c-6.83,13.091-13.604,23.963-20.32,32.615s-15.198,18.556-25.443,29.712 C-232.275,915.058-244,945.567-244,980.857c0,22.54,5.066,43.544,15.198,63.01c10.132,19.467,23.451,35.632,39.958,48.496 c16.507,12.864,35.176,22.995,56.009,30.395s42.064,11.099,63.693,11.099s42.86-3.7,63.693-11.099s39.502-17.531,56.009-30.395 c16.507-12.864,29.826-29.029,39.958-48.496C100.648,1024.401,105.714,1003.397,105.714,980.857z"})),r)}if(this.props.lit&&this.props.count){var i=this.props.count>9?"9+":this.props.count;t=o.default.createElement("g",null,o.default.createElement("text",{id:"hintCount",x:"400",y:"700",style:c.count},i))}return o.default.createElement("svg",{width:this.props.size,height:this.props.size,style:this.props.style,viewBox:"0 0 612 792"},e,t)},r}(o.default.Component);t.default=u,l(u,"propTypes",{shouldAnimate:r.default.bool,count:r.default.number,lit:r.default.bool,size:r.default.number,style:r.default.object,isMinecraft:r.default.bool}),l(u,"defaultProps",{shouldAnimate:!1,count:0,lit:!0,size:40,style:{}});var c={count:{fontWeight:"bold",fontSize:"400px",fill:i.default.white,stroke:i.default.black,strokeWidth:"30px",fontFamily:"Verdana, Geneva, sans-serif"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(2)),a=u(n(1058)),s=n(873),l=u(n(179));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var i=r.prototype;return i.componentDidMount=function(){this.shouldRender()&&!this.renderButtonsCalled&&((0,s.renderButtons)({elements:[this.container]}),this.renderButtonsCalled=!0)},i.render=function(){var e=this,t=this.props,n=t.title,r=t.text,i=l.default.get("language_")||"en-US";return this.shouldRender()?o.default.createElement("div",{ref:function(t){return e.container=t},className:"immersive-reader-button","data-button-style":"icon","data-locale":i,onClick:function(){(0,a.default)(i,n,r)}}):null},i.shouldRender=function(){return!!this.props.text},r}(o.Component);f=m,p="propTypes",h={title:i.default.string,text:i.default.string},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g=m;t.default=g,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if(t.type===a){var n=t.expression,r=(0,i.createUuid)();return e.push(o.default.Map({expression:n,uuid:r}))}if(t.type===l){var c=t.value,d=t.expression;return e.map((function(e){return e.get("expression")===d?o.default.Map({lastValue:c,expression:d,uuid:e.get("uuid")}):e}))}if(t.type===s)return e.filter((function(e){return e.get("expression")!==t.expression}));return e},t.update=t.remove=void 0;var r,o=(r=n(389))&&r.__esModule?r:{default:r},i=n(33);var a="watchedExpressions/ADD_EXPRESSION",s="watchedExpressions/REMOVE_EXPRESSION",l="watchedExpressions/UPDATE_VALUE",u=o.default.List();t.add=function(e){return{type:a,expression:e}};t.remove=function(e){return{type:s,expression:e}};t.update=function(e,t){return{type:l,expression:e,value:t}}},(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_EXECUTION_INFO=void 0;var l=n(865),u=n(866),c={ticks:5e5,checkTimeout:function(){if(this.ticks--<0)throw new Error("Infinity")},isTerminated:function(){return!1}};function d(e,t){try{return e[t]}catch(n){}}t.DEFAULT_EXECUTION_INFO=c;var f=function(e){var t,n;function r(t,n,r){var o;return(o=e.call(this,t,(function(e,t){if(!(n instanceof u))throw new Error("You must provide a CustomMarshaler to CustomMarshalingInterpreter");e.asyncFunctionList=[],e.customMarshaler=n,r&&r(e,t)}))||this).ast&&"Program"===o.ast.type&&(o.ast.end=1),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=r.prototype;return s.peekStackFrame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.stateStack[this.stateStack.length-1-e]},s.popStackFrame=function(){return this.stateStack.pop()},s.pushStackFrame=function(e){return this.stateStack.push(e)},s.getStackDepth=function(){return this.stateStack.length},s.setStack=function(e){this.stateStack=e},s.shouldBlockCustomMarshalling_=function(e,t,n){if(-1!==this.customMarshaler.blockedProperties.indexOf(e))return!0;var r=t.isCustomMarshal?t.data[e]:n[e];return r instanceof Node||r instanceof Window},s.getProperty=function(t,n){var r;if(n=n.toString(),t.isCustomMarshal){if(this.shouldBlockCustomMarshalling_(n,t))return this.UNDEFINED;if(void 0===(r=t.data[n]))return e.prototype.getProperty.call(this,t,n)}else{var o=this.getNativeParent_(t,n);if(!o)return e.prototype.getProperty.call(this,t,n);r=o[n]}var a=i(r);return"number"===a||"boolean"===a||"string"===a||"undefined"===a||null===r?this.createPrimitive(r):this.marshalNativeToInterpreter(r,t.data)},s.getNativeParent_=function(t,n){var r,o=!1;if(t&&!t.isPrimitive&&(o=e.prototype.hasProperty.call(this,t,n)),!o&&t===this.global&&(r=this.customMarshaler.globalProperties[n])&&!this.shouldBlockCustomMarshalling_(n,t,r))return r},s.hasProperty=function(t,n){return n=n.toString(),t.isCustomMarshal?!this.shouldBlockCustomMarshalling_(n,t)&&(n in t.data||e.prototype.hasProperty.call(this,t,n)):!!this.getNativeParent_(t,n)||e.prototype.hasProperty.call(this,t,n)},s.setProperty=function(t,n,r,o){if(n=n.toString(),t.isCustomMarshal){if(!this.shouldBlockCustomMarshalling_(n,t)){if(!t.data.hasOwnProperty(n)&&r instanceof l.Object)return e.prototype.setProperty.call(this,t,n,r,o);t.data[n]=this.marshalInterpreterToNative(r)}}else{var i=this.getNativeParent_(t,n);if(!i)return e.prototype.setProperty.call(this,t,n,r,o);i[n]=this.marshalInterpreterToNative(r)}},s.setPropertyWithoutCustomMarshaling=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.prototype.setProperty).call.apply(t,[this].concat(r))},s.getValueFromScope=function(e){for(var t=this.getScope(),n=e.toString();t;){if(this.hasProperty(t,n))return this.getProperty(t,n);t=t.parentScope}if(t===this.global&&this.hasProperty(t,n))return this.getProperty(t,n);var r=this.stateStack[this.stateStack.length-1].node;return"UnaryExpression"===r.type&&"typeof"===r.operator?this.UNDEFINED:(this.throwException(this.REFERENCE_ERROR,n+" is not defined"),null)},s.setValueToScope=function(t,n,r){for(var o=this.getScope(),i=o.strict,a=t.toString();o;){if(this.hasProperty(o,a)||!i&&!o.parentScope)return void(r?e.prototype.setProperty.call(this,o,a,n):this.setProperty(o,a,n));o=o.parentScope}this.throwException("Unknown identifier: "+a)},s.setValue=function(t,n,r){return t instanceof Array?e.prototype.setValue.call(this,t,n):void this.setValueToScope(t,n,r)},s.stepVariableDeclaration=function(){var e=this.peekStackFrame(),t=e.node,n=e.n_||0;t.declarations[n]?(e.n_=n+1,this.stateStack.push({node:t.declarations[n]})):this.stateStack.pop()},s.stepVariableDeclarator=function(){var e=this.peekStackFrame(),t=e.node;if(t.init&&!e.done_)return e.done_=!0,void this.pushStackFrame({node:t.init});t.init&&this.setValue(this.createPrimitive(t.id.name),e.value,!0),this.popStackFrame()},r.evalWithEvents=function(e,t){var n,i,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3?arguments[3]:void 0,d=[],f=o({executionInfo:c},e);Object.keys(t).forEach((function(e){var r=t[e],o=r.code,l=r.args;"string"==typeof o&&(o=[o]),o.forEach((function(t,r){var o="".concat(e,"-").concat(r);d.push({name:e,func:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s={name:o,args:t};return i(n.marshalNativeToInterpreter(s,null,5)),n.run(),a}}),s+="this['".concat(o,"']=function(").concat(l?l.join():"","){").concat(t,"};")}))}));var p=";while(true){var _event=_wait();setReturnValue(this[_event.name].apply(null,_event.args));}";return n=new r(s+p,new u({objectList:l}),(function(e,t){e.marshalNativeToInterpreterObject(f,5,t),e.setProperty(t,"_wait",e.createAsyncFunction((function(e){i=e}))),e.setProperty(t,"setReturnValue",e.createNativeFunction((function(t){a=e.marshalInterpreterToNative(t)})))})),n.run(),{hooks:d,interpreter:n}},s.marshalNativeToInterpreterObject=function(e,t,n){var r=n||this.createObject(this.OBJECT),o=this.isa(r,this.FUNCTION);for(var i in e){var a=d(e,i);(!o||a!==Function.prototype.trigger&&a!==Function.prototype.inherits)&&this.setProperty(r,i,this.marshalNativeToInterpreter(a,e,t))}return r},s.marshalNativeToInterpreter=function(e,t,n){if(0===n||void 0===e)return this.UNDEFINED;var r,o;if(void 0===n&&(n=1/0),this.customMarshaler.shouldCustomMarshalObject(e,t))return this.customMarshaler.createCustomMarshalObject(this,e,t);if(e instanceof Array){for(o=this.createObject(this.ARRAY),r=0;r<e.length;r++)o.properties[r]=this.marshalNativeToInterpreter(e[r],null,n-1);o.length=e.length}else if(function(e){return"undefined"!=typeof Uint8ClampedArray?e instanceof Uint8ClampedArray:e instanceof CanvasPixelArray}(e)){for(o=this.createObject(this.ARRAY),r=0;r<e.length;r++)o.properties[r]=this.createPrimitive(e[r]);o.length=e.length}else if(e instanceof Function){var i={nativeFunc:e,nativeParentObj:t};-1!==this.asyncFunctionList.indexOf(e)&&(i.nativeIsAsync=!0);var a=this.customMarshaler.getCustomMarshalMethodOptions(t,e);for(var s in a)i[s]=a[s];var l=this.makeNativeMemberFunction(i);o=i.nativeIsAsync?this.createAsyncFunction(l):this.createNativeFunction(l),this.marshalNativeToInterpreterObject(e,n-1,o)}else o=e instanceof Object?this.isa(e,this.FUNCTION)?e:this.marshalNativeToInterpreterObject(e,n-1):this.createPrimitive(e);return o},r.evalWith=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.asyncFunctionList,a=n.legacy,s=o({executionInfo:c},t);if(a){var l=[],d=[];for(var f in s)l.push(f),d.push(s[f]);l.push(e);var p=function(){return Function.apply(this,l)};return p.prototype=Function.prototype,(new p).apply(null,d)}var h=new r("(function () { ".concat(e," })()"),new u({}),(function(e,t){e.asyncFunctionList=i||[],e.marshalNativeToInterpreterObject(s,5,t)}));return h.run(),h},s.marshalInterpreterToNative=function(e){if(e.isPrimitive||e.isCustomMarshal)return e.data;if(this.isa(e,this.ARRAY)){var t=[];t.length=e.length;for(var n=0;n<t.length;n++)t[n]=this.marshalInterpreterToNative(e.properties[n]);return t}if(this.isa(e,this.OBJECT)||"object"===e.type){var o={};for(var a in e.properties)e.notEnumerable[a]||(o[a]=this.marshalInterpreterToNative(e.properties[a]));return o}if(this.isa(e,this.FUNCTION))return r.createNativeFunctionFromInterpreterFunction?r.createNativeFunctionFromInterpreterFunction(e):e;throw new Error("Can't marshal type "+i(e))},s.createNativeCallbackForAsyncFunction_=function(e,t){var n=this;return function(r){t(n.marshalNativeToInterpreter(r,null,e.maxDepth))}},s.createNativeInterpreterCallback_=function(e,t){var n=this;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.map((function(t){return n.marshalNativeToInterpreter(t,null,e.maxDepth)})),s=e.callbackState||{};s.node={type:"CallExpression",arguments:a,end:1},s.doneCallee_=!0,s.func_=t,s.arguments_=a,s.n_=a.length,s.arguments_.length>0&&(s.value=s.arguments_.pop());var l=n.pushStackFrame(s);if(e.run){for(n.paused_=!1;n.getStackDepth()>=l;)n.step();n.paused_=!0}}},s.makeNativeMemberFunction=function(e){var t=this,n=e.dontMarshal,r=e.nativeFunc,o=e.nativeParentObj,a=e.maxDepth,s=e.nativeIsAsync,l=e.nativeCallsBackInterpreter;return function(){for(var u=[],c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];if(n)u=d;else for(var p=0;p<d.length;p++)s&&p===d.length-1?u[p]=t.createNativeCallbackForAsyncFunction_(e,d[p]):l&&"object"===i(d[p])&&t.isa(d[p],t.FUNCTION)?u[p]=t.createNativeInterpreterCallback_(e,d[p]):u[p]=t.marshalInterpreterToNative(d[p]);try{var h=r.apply(o,u)}catch(m){throw m instanceof Error||((m=new Error(m)).stack="Error does not have stack information. Throw `new Error()` instead of a string to get a full stack trace. Exception thrown "+"when calling ".concat(r," on ").concat(o)),m.native=!0,m}return t.marshalNativeToInterpreter(h,null,a)}},r}(l);t.default=f,s(f,"createNativeFunctionFromInterpreterFunction",null)},,(e,t,n)=>{"use strict";n.r(t),n.d(t,{LOADABLE:()=>m,componentTracker:()=>w,default:()=>E,getState:()=>v,loadComponents:()=>y});var r=n(1),o=n(501),i=n.n(o),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c={},d=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=n.join("-");return r&&(o+="-"+r),c[o]?e(t,n,r+1):(c[o]=t,o)},f=function(e){return c[e]},p=function(){return s({},c)},h="__LOADABLE_STATE__",m="@@loadable-components/loadable";function g(e){return e.children?Promise.all(e.children.map((function(e){var t=f(e.id);if(!t)return console.warn("loadable-component client modules:",p()),console.warn("loadable-component server modules:",window[h]),Promise.reject(new Error('loadable-components: module "'+e.id+'" is not found, client and server modules are not sync. You are probably not using the same resolver on server and client.'));var n=t[m];return"function"!=typeof n?Promise.reject(new Error('loadable-components: module "'+e.id+'" is not a loadable component, please verify your SSR setup')):n().load().then((function(){return g(e)}))}))):Promise.resolve(null)}function y(){if("undefined"==typeof window)return Promise.reject(new Error("loadable-components: `loadComponents` must be called client-side: `window` is undefined"));var e=window[h];return e?g(e):Promise.reject(new Error("loadable-components state not found. You have a problem server-side. Please verify that you have called `loadableState.getScriptTag()` server-side."))}function v(){var e,t=p(),n=Object.keys(t).reduce((function(e,n){var r=t[n];return r.loadingPromise?[].concat(e,[{id:r.componentId}]):e}),[]);return(e={})[h]={children:n},e}var b=function(e){return e.default||e},_=function(){return null};var w=Object.freeze({track:d,get:f,getAll:p,reset:function(){c={}}});const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ErrorComponent,o=void 0===n?_:n,c=t.LoadingComponent,f=void 0===c?_:c,p=t.render,h=t.modules,g=t.asyncMode,y=function(t){function n(e){a(this,n);var r=u(this,t.call(this,e));return r.state={Component:n.Component,error:null,loading:!n.Component},r.mounted=!1,r.loadingPromise=null,"undefined"!=typeof window&&null===r.state.Component&&null===r.loadingPromise&&(r.loadingPromise=n.load().then((function(e){r.safeSetState({Component:e,loading:!1})})).catch((function(e){r.safeSetState({error:e,loading:!1})}))),r}return l(n,t),n.load=function(){return n.loadingPromise||(n.loadingPromise=e().then((function(e){var t,r=b(e);return n.Component=r,i()(n,r,((t={Component:!0,loadingPromise:!0,load:!0})[m]=!0,t.componentId=!0,t)),r})).catch((function(e){throw n.loadingPromise=null,e}))),n.loadingPromise},n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.safeSetState=function(e){this.mounted&&this.setState(e)},n.prototype.render=function(){var e=this.state,t=e.Component,n=e.error;if("function"==typeof p)return p(s({},this.state,{ownProps:this.props}));if(null!==t)return r.createElement(t,this.props);if(null!==n)return r.createElement(o,{error:n,ownProps:this.props});if(g)throw this.loadingPromise;return r.createElement(f,this.props)},n}(r.Component);if(y.Component=null,y.loadingPromise=null,y[m]=function(){return y},h){var v=d(y,h);y.componentId=v}return y}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;if(t.type===u)return s(s({},e),{},{levelsWithProgress:t.levelsWithProgress});if(t.type===c)return s(s({},e),{},{isLoadingLevelsWithProgress:t.isLoading});return e},t.loadLevelsWithProgress=void 0;var r=i(n(32)),o=i(n(169));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="progress/SET_LEVELS_WITH_PROGRESS",c="progress/SET_LOADING_LEVELS_WITH_PROGRESS",d={isLoadingLevelsWithProgress:!1,levelsWithProgress:[]};var f=function(e){return{type:c,isLoading:e}};t.loadLevelsWithProgress=function(){return function(e,t){var n=t();if(n.teacherSections.selectedSectionId){e(f(!0));var i=p(n),a="/api/teacher_panel_progress/".concat(n.teacherSections.selectedSectionId);return r.default.ajax({url:a+"?"+o.default.stringify(i),method:"GET"}).done((function(t){e({type:u,levelsWithProgress:t}),e(f(!1))})).fail((function(t){console.log("Failed to update teacher panel (".concat(t.status,") ").concat(t.statusText)),e(f(!1))}))}}};var p=function(e){return e.progress.isLessonExtras?{lesson_id:e.progress.currentLessonId,is_lesson_extras:!0,script_id:e.progress.scriptId}:{script_id:e.progress.scriptId,level_id:e.progress.currentLevelId}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1548),i=(r=o)&&r.__esModule?r:{default:r};var a={fieldName:"property",getColumn:function(e,t){return(0,i.default)(e,{property:t})}};t.default={byIndex:{fieldName:"columnIndex",getColumn:function(e,t){return e[t]}},byProperty:a}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(1)),i=a(n(669));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.getSortingColumns,n=e.props,a=void 0===n?{}:n,s=e.strategy,l=void 0===s?i.default:s;if(!t)throw new Error("order - Missing getSortingColumns!");return function(e,n){var i=t(),s=i&&i[n[l.fieldName]]||{},u=s.position;return{}.hasOwnProperty.call(s,"position")?o.default.createElement("span",r({className:"sort-order"},a),u+1):null}}},(e,t,n)=>{"use strict";var r=n(912),o=n(101),i=n(913);function a(e){var t=this.data("settings"),n=r(i);n.prototype.options=o(n.prototype.options,t,e),this.Parser=n}e.exports=a,a.Parser=i},(e,t,n)=>{"use strict";var r=n(101),o=n(712);e.exports=function(e){var t,n,i;for(n in o(s,e),o(a,s),t=s.prototype)(i=t[n])&&"object"==typeof i&&(t[n]="concat"in i?i.concat():r(i));return s;function a(t){return e.apply(this,t)}function s(){return this instanceof s?e.apply(this,arguments):new a(arguments)}}},(e,t,n)=>{"use strict";var r=n(101),o=n(914),i=n(915),a=n(916),s=n(917),l=n(921);function u(e,t){this.file=t,this.offset={},this.options=r(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=i(t).toOffset,this.unescape=a(this,"escape"),this.decode=s(this)}e.exports=u;var c=u.prototype;function d(e){var t,n=[];for(t in e)n.push(t);return n}c.setOptions=n(922),c.parse=n(925),c.options=n(730),c.exitStart=o("atStart",!0),c.enterList=o("inList",!1),c.enterLink=o("inLink",!1),c.enterBlock=o("inBlock",!1),c.interruptParagraph=[["thematicBreak"],["list"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}]],c.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}]],c.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}]],c.blockTokenizers={blankLine:n(931),indentedCode:n(932),fencedCode:n(933),blockquote:n(934),atxHeading:n(935),thematicBreak:n(936),list:n(937),setextHeading:n(938),html:n(939),definition:n(941),table:n(943),paragraph:n(944)},c.inlineTokenizers={escape:n(945),autoLink:n(947),url:n(948),email:n(950),html:n(952),link:n(953),reference:n(954),strong:n(955),emphasis:n(957),deletion:n(960),code:n(962),break:n(964),text:n(966)},c.blockMethods=d(c.blockTokenizers),c.inlineMethods=d(c.inlineTokenizers),c.tokenizeBlock=l("block"),c.tokenizeInline=l("inline"),c.tokenizeFactory=l},e=>{"use strict";e.exports=function(e,t,n){return function(){var r=n||this,o=r[e];return r[e]=!t,i;function i(){r[e]=o}}}},e=>{"use strict";e.exports=function(e){var t=String(e),n=[],r=/\r?\n|\r/g;for(;r.exec(t);)n.push(r.lastIndex);return n.push(t.length+1),{toPoint:o,toPosition:o,toOffset:function(e){var t,r=e&&e.line,o=e&&e.column;isNaN(r)||isNaN(o)||!(r-1 in n)||(t=(n[r-2]||0)+o-1||0);return t>-1&&t<n[n.length-1]?t:-1}};function o(e){var t=-1;if(e>-1&&e<n[n.length-1])for(;++t<n.length;)if(n[t]>e)return{line:t+1,column:e-(n[t-1]||0)+1,offset:e};return{}}}},e=>{"use strict";e.exports=function(e,n){return function(r){var o,i=0,a=r.indexOf(t),s=e[n],l=[];for(;-1!==a;)l.push(r.slice(i,a)),i=a+1,(o=r.charAt(i))&&-1!==s.indexOf(o)||l.push(t),a=r.indexOf(t,i+1);return l.push(r.slice(i)),l.join("")}};var t="\\"},(e,t,n)=>{"use strict";var r=n(101),o=n(670);e.exports=function(e){return n.raw=function(e,n,a){return o(e,r(a,{position:t(n),warning:i}))},n;function t(t){for(var n=e.offset,r=t.line,o=[];++r&&r in n;)o.push((n[r]||0)+1);return{start:t,indent:o}}function n(n,r,a){o(n,{position:t(r),warning:i,text:a,reference:a,textContext:e,referenceContext:e})}function i(t,n,r){3!==r&&e.file.message(t,n)}}},e=>{"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},(e,t,n)=>{"use strict";var r=n(602),o=n(585);e.exports=function(e){return r(e)||o(e)}},e=>{"use strict";var t;e.exports=function(e){var n,r="&"+e+";";if((t=t||document.createElement("i")).innerHTML=r,59===(n=t.textContent).charCodeAt(n.length-1)&&"semi"!==e)return!1;return n!==r&&n}},e=>{"use strict";function t(e){var t,n;return"text"!==e.type||!e.position||(t=e.position.start,n=e.position.end,t.line!==n.line||n.column-t.column===e.value.length)}function n(e,t){return e.value+=t.value,e}function r(e,t){return this.options.commonmark||this.options.gfm?t:(e.children=e.children.concat(t.children),e)}e.exports=function(e){return function(o,i){var a,s,l,u,c,d=this,f=d.offset,p=[],h=d[e+"Methods"],m=d[e+"Tokenizers"],g=i.line,y=i.column;if(!o)return p;T.now=_,T.file=d.file,v("");for(;o;){for(a=-1,s=h.length,u=!1;++a<s&&(!(l=m[h[a]])||l.onlyAtStart&&!d.atStart||l.notInList&&d.inList||l.notInBlock&&d.inBlock||l.notInLink&&d.inLink||(c=o.length,l.apply(d,[T,o]),!(u=c!==o.length))););u||d.file.fail(new Error("Infinite loop"),T.now())}return d.eof=_(),p;function v(e){for(var t=-1,n=e.indexOf("\n");-1!==n;)g++,t=n,n=e.indexOf("\n",n+1);-1===t?y+=e.length:y=e.length-t,g in f&&(-1!==t?y+=f[g]:y<=f[g]&&(y=f[g]+1))}function b(){var e=[],t=g+1;return function(){for(var n=g+1;t<n;)e.push((f[t]||0)+1),t++;return e}}function _(){var e={line:g,column:y};return e.offset=d.toOffset(e),e}function w(e){this.start=e,this.end=_()}function E(e){o.slice(0,e.length)!==e&&d.file.fail(new Error("Incorrectly eaten value: please report this warning on https://git.io/vg5Ft"),_())}function O(){var e=_();return t;function t(t,n){var r=t.position,o=r?r.start:e,i=[],a=r&&r.end.line,s=e.line;if(t.position=new w(o),r&&n&&r.indent){if(i=r.indent,a<s){for(;++a<s;)i.push((f[a]||0)+1);i.push(e.column)}n=i.concat(n)}return t.position.indent=n||[],t}}function S(e,o){var i=o?o.children:p,a=i[i.length-1];return a&&e.type===a.type&&("text"===e.type||"blockquote"===e.type)&&t(a)&&t(e)&&(e=("text"===e.type?n:r).call(d,a,e)),e!==a&&i.push(e),d.atStart&&0!==p.length&&d.exitStart(),e}function T(e){var t=b(),n=O(),r=_();return E(e),i.reset=a,a.test=s,i.test=s,o=o.slice(e.length),v(e),t=t(),i;function i(e,r){return n(S(n(e),r),t)}function a(){var t=i.apply(null,arguments);return g=r.line,y=r.column,o=e+o,t}function s(){var t=n({});return g=r.line,y=r.column,o=e+o,t.position}}}}},(e,t,n)=>{"use strict";var r=n(101),o=n(923),i=n(730);e.exports=function(e){var t,n,a=this,s=a.options;if(null==e)e={};else{if("object"!=typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=r(e)}for(t in i){if(null==(n=e[t])&&(n=s[t]),"blocks"!==t&&"boolean"!=typeof n||"blocks"===t&&"object"!=typeof n)throw new Error("Invalid value `"+n+"` for setting `options."+t+"`");e[t]=n}return a.options=e,a.escape=o(e),a}},e=>{"use strict";e.exports=o;var t=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],n=t.concat(["~","|"]),r=n.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function o(e){var o=e||{};return o.commonmark?r:o.gfm?n:t}o.default=t,o.gfm=n,o.commonmark=r},e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},(e,t,n)=>{"use strict";var r=n(101),o=n(926);e.exports=function(){var e,t=this,n=String(t.file),a={line:1,column:1,offset:0},s=r(a);65279===(n=n.replace(i,"\n")).charCodeAt(0)&&(n=n.slice(1),s.column++,s.offset++);e={type:"root",children:t.tokenizeBlock(n,s),position:{start:a,end:t.eof||r(a)}},t.options.position||o(e,!0);return e};var i=/\r\n|\r/g},(e,t,n)=>{"use strict";var r=n(927);function o(e){delete e.position}function i(e){e.position=void 0}e.exports=function(e,t){return r(e,t?o:i),e}},(e,t,n)=>{"use strict";e.exports=s;var r=n(928),o=r.CONTINUE,i=r.SKIP,a=r.EXIT;function s(e,t,n,o){"function"==typeof t&&"function"!=typeof n&&(o=n,n=t,t=null),r(e,t,(function(e,t){var r=t[t.length-1],o=r?r.children.indexOf(e):null;return n(e,o,r)}),o)}s.CONTINUE=o,s.SKIP=i,s.EXIT=a},(e,t,n)=>{"use strict";e.exports=l;var r=n(929),o=n(930),i=!0,a="skip",s=!1;function l(e,t,n,l){var u,c;"function"==typeof t&&"function"!=typeof n&&(l=n,n=t,t=null),c=r(t),u=l?-1:1,function e(r,d,f){var p,h="object"==typeof r&&null!==r?r:{};"string"==typeof h.type&&(p="string"==typeof h.tagName?h.tagName:"string"==typeof h.name?h.name:void 0,m.displayName="node ("+o(h.type+(p?"<"+p+">":""))+")");return m;function m(){var o,p,h=f.concat(r),m=[];if((!t||c(r,d,f[f.length-1]||null))&&(m=function(e){if(null!==e&&"object"==typeof e&&"length"in e)return e;if("number"==typeof e)return[i,e];return[e]}(n(r,f)),m[0]===s))return m;if(r.children&&m[0]!==a)for(p=(l?r.children.length:-1)+u;p>-1&&p<r.children.length;){if(o=e(r.children[p],p,h)(),o[0]===s)return o;p="number"==typeof o[1]?o[1]:p+u}return m}}(e,null,[])()}l.CONTINUE=true,l.SKIP=a,l.EXIT=s},e=>{"use strict";function t(e){if("string"==typeof e)return function(e){return t;function t(t){return Boolean(t&&t.type===e)}}(e);if(null==e)return o;if("object"==typeof e)return("length"in e?r:n)(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function n(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function r(e){var n=function(e){for(var n=[],r=e.length,o=-1;++o<r;)n[o]=t(e[o]);return n}(e),r=n.length;return function(){var e=-1;for(;++e<r;)if(n[e].apply(this,arguments))return!0;return!1}}function o(){return!0}e.exports=t},e=>{e.exports=function(e){return e}},e=>{"use strict";var t=/^[ \t]*(\n|$)/;e.exports=function(e,n,r){var o,i="",a=0,s=n.length;for(;a<s&&null!=(o=t.exec(n.slice(a)));)a+=o[0].length,i+=o[0];if(""===i)return;if(r)return!0;e(i)}},(e,t,n)=>{"use strict";var r=n(381),o=n(793);e.exports=function(e,t,n){var r,a,s,l=-1,u=t.length,c="",d="",f="",p="";for(;++l<u;)if(r=t.charAt(l),s)if(s=!1,c+=f,d+=p,f="",p="","\n"===r)f=r,p=r;else for(c+=r,d+=r;++l<u;){if(!(r=t.charAt(l))||"\n"===r){p=r,f=r;break}c+=r,d+=r}else if(" "===r&&t.charAt(l+1)===r&&t.charAt(l+2)===r&&t.charAt(l+3)===r)f+=i,l+=3,s=!0;else if("\t"===r)f+=r,s=!0;else{for(a="";"\t"===r||" "===r;)a+=r,r=t.charAt(++l);if("\n"!==r)break;f+=a+r,p+=r}if(d)return!!n||e(c)({type:"code",lang:null,meta:null,value:o(d)})};var i=r(" ",4)},e=>{"use strict";e.exports=function(e,o,i){var a,s,l,u,c,d,f,p,h,m,g,y,v,b=this,_=b.options.gfm,w=o.length+1,E=0,O="";if(!_)return;for(;E<w&&((l=o.charAt(E))===r||l===n);)O+=l,E++;if(y=E,"~"!==(l=o.charAt(E))&&"`"!==l)return;E++,s=l,a=1,O+=l;for(;E<w&&(l=o.charAt(E))===s;)O+=l,a++,E++;if(a<3)return;for(;E<w&&((l=o.charAt(E))===r||l===n);)O+=l,E++;u="",f="";for(;E<w&&(l=o.charAt(E))!==t&&("`"!==s||l!==s);)l===r||l===n?f+=l:(u+=f+l,f=""),E++;if((l=o.charAt(E))&&l!==t)return;if(i)return!0;(v=e.now()).column+=O.length,v.offset+=O.length,O+=u,u=b.decode.raw(b.unescape(u),v),f&&(O+=f);f="",m="",g="",p="",h="";var S=!0;for(;E<w;)if(l=o.charAt(E),p+=m,h+=g,m="",g="",l===t){for(S?(O+=l,S=!1):(m+=l,g+=l),f="",E++;E<w&&(l=o.charAt(E))===r;)f+=l,E++;if(m+=f,g+=f.slice(y),!(f.length>=4)){for(f="";E<w&&(l=o.charAt(E))===s;)f+=l,E++;if(m+=f,g+=f,!(f.length<a)){for(f="";E<w&&((l=o.charAt(E))===r||l===n);)m+=l,g+=l,E++;if(!l||l===t)break}}}else p+=l,g+=l,E++;O+=p+m,E=-1,w=u.length;for(;++E<w;)if((l=u.charAt(E))===r||l===n)c||(c=u.slice(0,E));else if(c){d=u.slice(E);break}return e(O)({type:"code",lang:c||u||null,meta:d||null,value:h})};var t="\n",n="\t",r=" "},(e,t,n)=>{"use strict";var r=n(166),o=n(762);e.exports=function(e,t,n){var i,a,s,l,u,c,d,f,p,h=this,m=h.offset,g=h.blockTokenizers,y=h.interruptBlockquote,v=e.now(),b=v.line,_=t.length,w=[],E=[],O=[],S=0;for(;S<_&&(" "===(a=t.charAt(S))||"\t"===a);)S++;if(">"!==t.charAt(S))return;if(n)return!0;S=0;for(;S<_;){for(l=t.indexOf("\n",S),d=S,f=!1,-1===l&&(l=_);S<_&&(" "===(a=t.charAt(S))||"\t"===a);)S++;if(">"===t.charAt(S)?(S++,f=!0," "===t.charAt(S)&&S++):S=d,u=t.slice(S,l),!f&&!r(u)){S=d;break}if(!f&&(s=t.slice(S),o(y,g,h,[e,s,!0])))break;c=d===S?u:t.slice(d,l),O.push(S-d),w.push(c),E.push(u),S=l+1}S=-1,_=O.length,i=e(w.join("\n"));for(;++S<_;)m[b]=(m[b]||0)+O[S],b++;return p=h.enterBlock(),E=h.tokenizeBlock(E.join("\n"),v),p(),i({type:"blockquote",children:E})}},e=>{"use strict";e.exports=function(e,o,i){var a,s,l,u=this.options.pedantic,c=o.length+1,d=-1,f=e.now(),p="",h="";for(;++d<c;){if((a=o.charAt(d))!==n&&a!==t){d--;break}p+=a}l=0;for(;++d<=c;){if((a=o.charAt(d))!==r){d--;break}p+=a,l++}if(l>6)return;if(!l||!u&&o.charAt(d+1)===r)return;c=o.length+1,s="";for(;++d<c;){if((a=o.charAt(d))!==n&&a!==t){d--;break}s+=a}if(!u&&0===s.length&&a&&"\n"!==a)return;if(i)return!0;p+=s,s="",h="";for(;++d<c&&(a=o.charAt(d))&&"\n"!==a;)if(a===n||a===t||a===r){for(;a===n||a===t;)s+=a,a=o.charAt(++d);if(u||!h||s||a!==r){for(;a===r;)s+=a,a=o.charAt(++d);for(;a===n||a===t;)s+=a,a=o.charAt(++d);d--}else h+=a}else h+=s+a,s="";return f.column+=p.length,f.offset+=p.length,e(p+=h+s)({type:"heading",depth:l,children:this.tokenizeInline(h,f)})};var t="\t",n=" ",r="#"},e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,s=-1,l=t.length+1,u="";for(;++s<l&&("\t"===(r=t.charAt(s))||" "===r);)u+=r;if("*"!==r&&"-"!==r&&"_"!==r)return;o=r,u+=r,i=1,a="";for(;++s<l;)if((r=t.charAt(s))===o)i++,u+=a+o,a="";else{if(" "!==r)return i>=3&&(!r||"\n"===r)?(u+=a,!!n||e(u)({type:"thematicBreak"})):void 0;a+=r}}},(e,t,n)=>{"use strict";var r=n(166),o=n(381),i=n(585),a=n(461),s=n(463),l=n(762);e.exports=function(e,t,n){var o,a,s,f,p,h,m,g,v,b,_,w,E,O,S,T,C,k,A,P,x,I,R,D=this,j=D.options.commonmark,N=D.options.pedantic,L=D.blockTokenizers,M=D.interruptList,B=0,F=t.length,U=null,H=!1;for(;B<F&&((f=t.charAt(B))===d||f===u);)B++;if("*"===(f=t.charAt(B))||"+"===f||"-"===f)p=f,s=!1;else{for(s=!0,a="";B<F&&(f=t.charAt(B),i(f));)a+=f,B++;if(f=t.charAt(B),!a||!("."===f||j&&")"===f))return;if(n&&"1"!==a)return;U=parseInt(a,10),p=f}if((f=t.charAt(++B))!==u&&f!==d&&(N||f!==c&&""!==f))return;if(n)return!0;B=0,O=[],S=[],T=[];for(;B<F;){for(h=t.indexOf(c,B),m=B,g=!1,R=!1,-1===h&&(h=F),o=0;B<F;){if((f=t.charAt(B))===d)o+=4-o%4;else{if(f!==u)break;o++}B++}if(C&&o>=C.indent&&(R=!0),f=t.charAt(B),v=null,!R){if("*"===f||"+"===f||"-"===f)v=f,B++,o++;else{for(a="";B<F&&(f=t.charAt(B),i(f));)a+=f,B++;f=t.charAt(B),B++,a&&("."===f||j&&")"===f)&&(v=f,o+=a.length+1)}if(v)if((f=t.charAt(B))===d)o+=4-o%4,B++;else if(f===u){for(I=B+4;B<I&&t.charAt(B)===u;)B++,o++;B===I&&t.charAt(B)===u&&(B-=3,o-=3)}else f!==c&&""!==f&&(v=null)}if(v){if(!N&&p!==v)break;g=!0}else j||R||t.charAt(m)!==u?j&&C&&(R=o>=C.indent||o>4):R=!0,g=!1,B=m;if(_=t.slice(m,h),b=m===B?_:t.slice(B,h),("*"===v||"_"===v||"-"===v)&&L.thematicBreak.call(D,e,_,!0))break;if(w=E,E=!g&&!r(b).length,R&&C)C.value=C.value.concat(T,_),S=S.concat(T,_),T=[];else if(g)0!==T.length&&(H=!0,C.value.push(""),C.trail=T.concat()),C={value:[_],indent:o,trail:[]},O.push(C),S=S.concat(T,_),T=[];else if(E){if(w&&!j)break;T.push(_)}else{if(w)break;if(l(M,L,D,[e,_,!0]))break;C.value=C.value.concat(T,_),S=S.concat(T,_),T=[]}B=h+1}P=e(S.join(c)).reset({type:"list",ordered:s,start:U,spread:H,children:[]}),k=D.enterList(),A=D.enterBlock(),B=-1,F=O.length;for(;++B<F;)C=O[B].value.join(c),x=e.now(),e(C)(y(D,C,x),P),C=O[B].trail.join(c),B!==F-1&&(C+=c),e(C);return k(),A(),P};var u=" ",c="\n",d="\t",f=/\n\n(?!\s*$)/,p=/^\[([ X\tx])][ \t]/,h=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,m=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,g=/^( {1,4}|\t)?/gm;function y(e,t,n){var r,o,i=e.offset,a=e.options.pedantic?v:b,s=null;return t=a.apply(null,arguments),e.options.gfm&&(r=t.match(p))&&(o=r[0].length,s="x"===r[1].toLowerCase(),i[n.line]+=o,t=t.slice(o)),{type:"listItem",spread:f.test(t),checked:s,children:e.tokenizeBlock(t,n)}}function v(e,t,n){var r=e.offset,o=n.line;return t=t.replace(m,i),o=n.line,t.replace(g,i);function i(e){return r[o]=(r[o]||0)+e.length,o++,""}}function b(e,t,n){var r,i,l,d,f,p,m,g=e.offset,y=n.line;for(d=(t=t.replace(h,(function(e,t,n,a,s){i=t+n+a,l=s,Number(n)<10&&i.length%2==1&&(n=u+n);return(r=t+o(u,n.length)+a)+l}))).split(c),(f=s(t,a(r).indent).split(c))[0]=l,g[y]=(g[y]||0)+i.length,y++,p=0,m=d.length;++p<m;)g[y]=(g[y]||0)+d[p].length-f[p].length,y++;return f.join(c)}},e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,s,l=e.now(),u=t.length,c=-1,d="";for(;++c<u;){if(" "!==(i=t.charAt(c))||c>=3){c--;break}d+=i}r="",o="";for(;++c<u;){if("\n"===(i=t.charAt(c))){c--;break}" "===i||"\t"===i?o+=i:(r+=o+i,o="")}if(l.column+=d.length,l.offset+=d.length,d+=r+o,i=t.charAt(++c),a=t.charAt(++c),"\n"!==i||"="!==a&&"-"!==a)return;d+=i,o=a,s="="===a?1:2;for(;++c<u;){if((i=t.charAt(c))!==a){if("\n"!==i)return;c--;break}o+=i}if(n)return!0;return e(d+o)({type:"heading",depth:s,children:this.tokenizeInline(r,l)})}},(e,t,n)=>{"use strict";var r=n(940).g;e.exports=function(e,t,n){var r,g,y,v,b,_,w,E=this.options.blocks.join("|"),O=new RegExp("^</?("+E+")(?=(\\s|/?>|$))","i"),S=t.length,T=0,C=[[o,i,!0],[a,s,!0],[l,u,!0],[c,d,!0],[f,p,!0],[O,h,!0],[m,h,!1]];for(;T<S&&("\t"===(v=t.charAt(T))||" "===v);)T++;if("<"!==t.charAt(T))return;r=-1===(r=t.indexOf("\n",T+1))?S:r,g=t.slice(T,r),y=-1,b=C.length;for(;++y<b;)if(C[y][0].test(g)){_=C[y];break}if(!_)return;if(n)return _[2];if(T=r,!_[1].test(g))for(;T<S;){if(r=-1===(r=t.indexOf("\n",T+1))?S:r,g=t.slice(T+1,r),_[1].test(g)){g&&(T=r);break}T=r}return w=t.slice(0,T),e(w)({type:"html",value:w})};var o=/^<(script|pre|style)(?=(\s|>|$))/i,i=/<\/(script|pre|style)>/i,a=/^<!--/,s=/-->/,l=/^<\?/,u=/\?>/,c=/^<![A-Za-z]/,d=/>/,f=/^<!\[CDATA\[/,p=/]]>/,h=/^$/,m=new RegExp(r.source+"\\s*$")},(e,t)=>{"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";t.g=new RegExp("^(?:"+n+"|"+r+")"),t._=new RegExp("^(?:"+n+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},(e,t,n)=>{"use strict";var r=n(445),o=n(794);e.exports=function(e,t,n){var r,d,f,p,h,m,g,y,v=this,b=v.options.commonmark,_=0,w=t.length,E="";for(;_<w&&((p=t.charAt(_))===s||p===a);)E+=p,_++;if("["!==(p=t.charAt(_)))return;_++,E+=p,f="";for(;_<w&&(p=t.charAt(_))!==l;)"\\"===p&&(f+=p,_++,p=t.charAt(_)),f+=p,_++;if(!f||t.charAt(_)!==l||":"!==t.charAt(_+1))return;m=f,_=(E+=f+l+":").length,f="";for(;_<w&&((p=t.charAt(_))===a||p===s||p===i);)E+=p,_++;if(p=t.charAt(_),f="",r=E,"<"===p){for(_++;_<w&&u(p=t.charAt(_));)f+=p,_++;if((p=t.charAt(_))===u.delimiter)E+="<"+f+p,_++;else{if(b)return;_-=f.length+1,f=""}}if(!f){for(;_<w&&c(p=t.charAt(_));)f+=p,_++;E+=f}if(!f)return;g=f,f="";for(;_<w&&((p=t.charAt(_))===a||p===s||p===i);)f+=p,_++;p=t.charAt(_),h=null,'"'===p?h='"':"'"===p?h="'":"("===p&&(h=")");if(h){if(!f)return;for(_=(E+=f+p).length,f="";_<w&&(p=t.charAt(_))!==h;){if(p===i){if(_++,(p=t.charAt(_))===i||p===h)return;f+=i}f+=p,_++}if((p=t.charAt(_))!==h)return;d=E,E+=f+p,_++,y=f,f=""}else f="",_=E.length;for(;_<w&&((p=t.charAt(_))===a||p===s);)E+=p,_++;if(!(p=t.charAt(_))||p===i)return!!n||(r=e(r).test().end,g=v.decode.raw(v.unescape(g),r,{nonTerminated:!1}),y&&(d=e(d).test().end,y=v.decode.raw(v.unescape(y),d)),e(E)({type:"definition",identifier:o(m),label:m,title:y||null,url:g}))};var i="\n",a="\t",s=" ",l="]";function u(e){return">"!==e&&"["!==e&&e!==l}function c(e){return"["!==e&&e!==l&&!r(e)}u.delimiter=">"},e=>{"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},(e,t,n)=>{"use strict";var r=n(445);e.exports=function(e,t,n){var a,s,l,u,c,d,f,p,h,m,g,y,v,b,_,w,E,O,S,T,C,k;if(!this.options.gfm)return;a=0,w=0,d=t.length+1,f=[];for(;a<d;){if(T=t.indexOf(o,a),C=t.indexOf("|",a+1),-1===T&&(T=t.length),-1===C||C>T){if(w<2)return;break}f.push(t.slice(a,T)),w++,a=T+1}u=f.join(o),s=f.splice(1,1)[0]||[],a=0,d=s.length,w--,l=!1,g=[];for(;a<d;){if("|"===(h=s.charAt(a))){if(m=null,!1===l){if(!1===k)return}else g.push(l),l=!1;k=!1}else if("-"===h)m=!0,l=l||null;else if(":"===h)l=l===i?"center":m&&null===l?"right":i;else if(!r(h))return;a++}!1!==l&&g.push(l);if(g.length<1)return;if(n)return!0;_=-1,O=[],S=e(u).reset({type:"table",align:g,children:O});for(;++_<w;){for(E=f[_],c={type:"tableRow",children:[]},_&&e(o),e(E).reset(c,S),d=E.length+1,a=0,p="",y="",v=!0;a<d;)"\t"!==(h=E.charAt(a))&&" "!==h?(""===h||"|"===h?v?e(h):(!y&&!h||v||(u=y,p.length>1&&(h?(u+=p.slice(0,-1),p=p.charAt(p.length-1)):(u+=p,p="")),b=e.now(),e(u)({type:"tableCell",children:this.tokenizeInline(y,b)},c)),e(p+h),p="",y=""):(p&&(y+=p,p=""),y+=h,"\\"===h&&a!==d-2&&(y+=E.charAt(a+1),a++)),v=!1,a++):(y?p+=h:e(h),a++);_||e(o+s)}return S};var o="\n",i="left"},(e,t,n)=>{"use strict";var r=n(166),o=n(793),i=n(762);e.exports=function(e,t,n){var s,l,u,c,d,f=this,p=f.options.commonmark,h=f.blockTokenizers,m=f.interruptParagraph,g=t.indexOf(a),y=t.length;for(;g<y;){if(-1===g){g=y;break}if(t.charAt(g+1)===a)break;if(p){for(c=0,s=g+1;s<y;){if("\t"===(u=t.charAt(s))){c=4;break}if(" "!==u)break;c++,s++}if(c>=4&&u!==a){g=t.indexOf(a,g+1);continue}}if(l=t.slice(g+1),i(m,h,f,[e,l,!0]))break;if(s=g,-1!==(g=t.indexOf(a,g+1))&&""===r(t.slice(s,g))){g=s;break}}if(l=t.slice(0,g),n)return!0;return d=e.now(),l=o(l),e(l)({type:"paragraph",children:f.tokenizeInline(l,d)})};var a="\n"},(e,t,n)=>{"use strict";var r=n(946);e.exports=o,o.locator=r;function o(e,t,n){var r,o;if("\\"===t.charAt(0)&&(r=t.charAt(1),-1!==this.escape.indexOf(r)))return!!n||(o="\n"===r?{type:"break"}:{type:"text",value:r},e("\\"+r)(o))}},e=>{"use strict";e.exports=function(e,t){return e.indexOf("\\",t)}},(e,t,n)=>{"use strict";var r=n(445),o=n(670),i=n(795);e.exports=l,l.locator=i,l.notInLink=!0;var a="mailto:",s=a.length;function l(e,t,n){var i,l,u,c,d,f=this,p="",h=t.length,m=0,g="",y=!1,v="";if("<"===t.charAt(0)){for(m++,p="<";m<h&&(i=t.charAt(m),!(r(i)||">"===i||"@"===i||":"===i&&"/"===t.charAt(m+1)));)g+=i,m++;if(g){if(v+=g,g="",v+=i=t.charAt(m),m++,"@"===i)y=!0;else{if(":"!==i||"/"!==t.charAt(m+1))return;v+="/",m++}for(;m<h&&(i=t.charAt(m),!r(i)&&">"!==i);)g+=i,m++;if(i=t.charAt(m),g&&">"===i)return!!n||(u=v+=g,p+=v+i,(l=e.now()).column++,l.offset++,y&&(v.slice(0,s).toLowerCase()===a?(u=u.slice(s),l.column+=s,l.offset+=s):v=a+v),c=f.inlineTokenizers,f.inlineTokenizers={text:c.text},d=f.enterLink(),u=f.tokenizeInline(u,l),f.inlineTokenizers=c,d(),e(p)({type:"link",title:null,url:o(v,{nonTerminated:!1}),children:u}))}}}},(e,t,n)=>{"use strict";var r=n(465),o=n(670),i=n(585),a=n(602),s=n(445),l=n(949);e.exports=u,u.locator=l,u.notInLink=!0;function u(e,t,n){var l,u,c,d,f,p,h,m,g,y,v,b,_,w,E=this,O=E.options.gfm,S=E.inlineTokenizers,T=t.length,C=-1,k=!1;if(O){if("www."===t.slice(0,4))k=!0,d=4;else if("http://"===t.slice(0,7).toLowerCase())d=7;else{if("https://"!==t.slice(0,8).toLowerCase())return;d=8}for(C=d-1,c=d,l=[];d<T;)if(46!==(h=t.charCodeAt(d))){if(!i(h)&&!a(h)&&45!==h&&95!==h)break;d++}else{if(C===d-1)break;l.push(d),C=d,d++}if(46===h&&(l.pop(),d--),void 0!==l[0]&&(u=l.length<2?c:l[l.length-2]+1,-1===t.slice(u,d).indexOf("_"))){if(n)return!0;for(m=d,f=d;d<T&&(h=t.charCodeAt(d),!s(h)&&60!==h);)d++,33===h||42===h||44===h||46===h||58===h||63===h||95===h||126===h||(m=d);if(d=m,41===t.charCodeAt(d-1))for(p=t.slice(f,d),g=r(p,"("),y=r(p,")");y>g;)d=f+p.lastIndexOf(")"),p=t.slice(f,d),y--;if(59===t.charCodeAt(d-1)&&(d--,a(t.charCodeAt(d-1)))){for(m=d-2;a(t.charCodeAt(m));)m--;38===t.charCodeAt(m)&&(d=m)}return v=t.slice(0,d),_=o(v,{nonTerminated:!1}),k&&(_="http://"+_),w=E.enterLink(),E.inlineTokenizers={text:S.text},b=E.tokenizeInline(v,e.now()),E.inlineTokenizers=S,w(),e(v)({type:"link",title:null,url:_,children:b})}}}},e=>{"use strict";e.exports=function(e,n){var r,o,i,a=-1;if(!this.options.gfm)return a;o=t.length,r=-1;for(;++r<o;)-1!==(i=e.indexOf(t[r],n))&&(-1===a||i<a)&&(a=i);return a};var t=["www.","http://","https://"]},(e,t,n)=>{"use strict";var r=n(670),o=n(585),i=n(602),a=n(951);e.exports=s,s.locator=a,s.notInLink=!0;function s(e,t,n){var a,s,l,u,c=this,d=c.options.gfm,f=c.inlineTokenizers,p=0,h=t.length,m=-1;if(d){for(a=t.charCodeAt(p);o(a)||i(a)||43===a||45===a||46===a||95===a;)a=t.charCodeAt(++p);if(0!==p&&64===a){for(p++;p<h&&(a=t.charCodeAt(p),o(a)||i(a)||45===a||46===a||95===a);)p++,-1===m&&46===a&&(m=p);if(-1!==m&&m!==p&&45!==a&&95!==a)return 46===a&&p--,s=t.slice(0,p),!!n||(u=c.enterLink(),c.inlineTokenizers={text:f.text},l=c.tokenizeInline(s,e.now()),c.inlineTokenizers=f,u(),e(s)({type:"link",title:null,url:"mailto:"+r(s,{nonTerminated:!1}),children:l}))}}}},(e,t,n)=>{"use strict";var r=n(585),o=n(602);function i(e){return r(e)||o(e)||43===e||45===e||46===e||95===e}e.exports=function e(t,n){var r,o;if(!this.options.gfm)return-1;if(-1===(r=t.indexOf("@",n)))return-1;if((o=r)===n||!i(t.charCodeAt(o-1)))return e.call(this,t,r+1);for(;o>n&&i(t.charCodeAt(o-1));)o--;return o}},(e,t,n)=>{"use strict";var r=n(602),o=n(795),i=n(940)._;e.exports=l,l.locator=o;var a=/^<a /i,s=/^<\/a>/i;function l(e,t,n){var o,l,u=this,c=t.length;if(!("<"!==t.charAt(0)||c<3)&&(o=t.charAt(1),(r(o)||"?"===o||"!"===o||"/"===o)&&(l=t.match(i))))return!!n||(l=l[0],!u.inLink&&a.test(l)?u.inLink=!0:u.inLink&&s.test(l)&&(u.inLink=!1),e(l)({type:"html",value:l}))}},(e,t,n)=>{"use strict";var r=n(445),o=n(796);e.exports=l,l.locator=o;var i="(",a=")",s="\\";function l(e,t,n){var o,l,u,c,d,f,p,h,m,g,y,v,b,_,w,E,O,S,T=this,C="",k=0,A=t.charAt(0),P=T.options.pedantic,x=T.options.commonmark,I=T.options.gfm;if("!"===A&&(h=!0,C=A,A=t.charAt(++k)),"["===A&&(h||!T.inLink)){for(C+=A,_="",k++,y=t.length,b=0,(E=e.now()).column+=k,E.offset+=k;k<y;){if(f=A=t.charAt(k),"`"===A){for(l=1;"`"===t.charAt(k+1);)f+=A,k++,l++;u?l>=u&&(u=0):u=l}else if(A===s)k++,f+=t.charAt(k);else if(u&&!I||"["!==A){if((!u||I)&&"]"===A){if(!b){if(t.charAt(k+1)!==i)return;f+=i,o=!0,k++;break}b--}}else b++;_+=f,f="",k++}if(o){for(m=_,C+=_+f,k++;k<y&&(A=t.charAt(k),r(A));)C+=A,k++;if(_="",c=C,"<"===(A=t.charAt(k))){for(k++,c+="<";k<y&&">"!==(A=t.charAt(k));){if(x&&"\n"===A)return;_+=A,k++}if(">"!==t.charAt(k))return;C+="<"+_+">",w=_,k++}else{for(A=null,f="";k<y&&(A=t.charAt(k),!f||!('"'===A||"'"===A||x&&A===i));){if(r(A)){if(!P)break;f+=A}else{if(A===i)b++;else if(A===a){if(0===b)break;b--}_+=f,f="",A===s&&(_+=s,A=t.charAt(++k)),_+=A}k++}w=_,k=(C+=_).length}for(_="";k<y&&(A=t.charAt(k),r(A));)_+=A,k++;if(A=t.charAt(k),C+=_,_&&('"'===A||"'"===A||x&&A===i))if(k++,_="",g=A===i?a:A,d=C+=A,x){for(;k<y&&(A=t.charAt(k))!==g;)A===s&&(_+=s,A=t.charAt(++k)),k++,_+=A;if((A=t.charAt(k))!==g)return;for(v=_,C+=_+A,k++;k<y&&(A=t.charAt(k),r(A));)C+=A,k++}else for(f="";k<y;){if((A=t.charAt(k))===g)p&&(_+=g+f,f=""),p=!0;else if(p){if(A===a){C+=_+g+f,v=_;break}r(A)?f+=A:(_+=g+f+A,f="",p=!1)}else _+=A;k++}if(t.charAt(k)===a)return!!n||(C+=a,w=T.decode.raw(T.unescape(w),e(c).test().end,{nonTerminated:!1}),v&&(d=e(d).test().end,v=T.decode.raw(T.unescape(v),d)),S={type:h?"image":"link",title:v||null,url:w},h?S.alt=T.decode.raw(T.unescape(m),E)||null:(O=T.enterLink(),S.children=T.tokenizeInline(m,E),O()),e(C)(S))}}}},(e,t,n)=>{"use strict";var r=n(445),o=n(796),i=n(794);e.exports=d,d.locator=o;var a="link",s="full",l="[",u="\\",c="]";function d(e,t,n){var o,d,f,p,h,m,g,y,v=this,b=v.options.commonmark,_=t.charAt(0),w=0,E=t.length,O="",S="",T=a,C="shortcut";if("!"===_&&(T="image",S=_,_=t.charAt(++w)),_===l){for(w++,S+=_,m="",y=0;w<E;){if((_=t.charAt(w))===l)g=!0,y++;else if(_===c){if(!y)break;y--}_===u&&(m+=u,_=t.charAt(++w)),m+=_,w++}if(O=m,o=m,(_=t.charAt(w))===c){if(w++,O+=_,m="",!b)for(;w<E&&(_=t.charAt(w),r(_));)m+=_,w++;if((_=t.charAt(w))===l){for(d="",m+=_,w++;w<E&&(_=t.charAt(w))!==l&&_!==c;)_===u&&(d+=u,_=t.charAt(++w)),d+=_,w++;(_=t.charAt(w))===c?(C=d?s:"collapsed",m+=d+_,w++):d="",O+=m,m=""}else{if(!o)return;d=o}if(C===s||!g)return O=S+O,T===a&&v.inLink?null:!!n||((f=e.now()).column+=S.length,f.offset+=S.length,p={type:T+"Reference",identifier:i(d=C===s?d:o),label:d,referenceType:C},T===a?(h=v.enterLink(),p.children=v.tokenizeInline(o,f),h()):p.alt=v.decode.raw(v.unescape(o),f)||null,e(O)(p))}}}},(e,t,n)=>{"use strict";var r=n(166),o=n(445),i=n(956);e.exports=a,a.locator=i;function a(e,t,n){var i,a,s,l,u,c,d,f=0,p=t.charAt(f);if(!("*"!==p&&"_"!==p||t.charAt(++f)!==p||(a=this.options.pedantic,u=(s=p)+s,c=t.length,f++,l="",p="",a&&o(t.charAt(f)))))for(;f<c;){if(d=p,!((p=t.charAt(f))!==s||t.charAt(f+1)!==s||a&&o(d))&&(p=t.charAt(f+2))!==s){if(!r(l))return;return!!n||((i=e.now()).column+=2,i.offset+=2,e(u+l+u)({type:"strong",children:this.tokenizeInline(l,i)}))}a||"\\"!==p||(l+=p,p=t.charAt(++f)),l+=p,f++}}},e=>{"use strict";e.exports=function(e,t){var n=e.indexOf("**",t),r=e.indexOf("__",t);if(-1===r)return n;if(-1===n)return r;return r<n?r:n}},(e,t,n)=>{"use strict";var r=n(166),o=n(958),i=n(445),a=n(959);e.exports=s,s.locator=a;function s(e,t,n){var a,s,l,u,c,d,f,p=0,h=t.charAt(p);if(!("*"!==h&&"_"!==h||(s=this.options.pedantic,c=h,l=h,d=t.length,p++,u="",h="",s&&i(t.charAt(p)))))for(;p<d;){if(f=h,!((h=t.charAt(p))!==l||s&&i(f))){if((h=t.charAt(++p))!==l){if(!r(u)||f===l)return;if(!s&&"_"===l&&o(h)){u+=l;continue}return!!n||((a=e.now()).column++,a.offset++,e(c+u+l)({type:"emphasis",children:this.tokenizeInline(u,a)}))}u+=l}s||"\\"!==h||(u+=h,h=t.charAt(++p)),u+=h,p++}}},e=>{"use strict";e.exports=function(e){return n.test("number"==typeof e?t(e):e.charAt(0))};var t=String.fromCharCode,n=/\w/},e=>{"use strict";e.exports=function(e,t){var n=e.indexOf("*",t),r=e.indexOf("_",t);if(-1===r)return n;if(-1===n)return r;return r<n?r:n}},(e,t,n)=>{"use strict";var r=n(445),o=n(961);e.exports=a,a.locator=o;var i="~";function a(e,t,n){var o,a,s,l="",u="",c="",d="";if(this.options.gfm&&t.charAt(0)===i&&t.charAt(1)===i&&!r(t.charAt(2)))for(o=1,a=t.length,(s=e.now()).column+=2,s.offset+=2;++o<a;){if(!((l=t.charAt(o))!==i||u!==i||c&&r(c)))return!!n||e("~~"+d+"~~")({type:"delete",children:this.tokenizeInline(d,s)});d+=u,c=u,u=l}}},e=>{"use strict";e.exports=function(e,t){return e.indexOf("~~",t)}},(e,t,n)=>{"use strict";var r=n(963);e.exports=o,o.locator=r;function o(e,t,n){for(var r,o,i,a,s,l,u=t.length,c=0;c<u&&96===t.charCodeAt(c);)c++;if(0!==c&&c!==u){for(r=c,s=t.charCodeAt(c);c<u;){if(a=s,s=t.charCodeAt(c+1),96===a){if(void 0===o&&(o=c),i=c+1,96!==s&&i-o===r){l=!0;break}}else void 0!==o&&(o=void 0,i=void 0);c++}if(l){if(n)return!0;if(c=r,u=o,a=t.charCodeAt(c),s=t.charCodeAt(u-1),l=!1,u-c>2&&(32===a||10===a)&&(32===s||10===s)){for(c++,u--;c<u;){if(32!==(a=t.charCodeAt(c))&&10!==a){l=!0;break}c++}!0===l&&(r++,o--)}return e(t.slice(0,i))({type:"inlineCode",value:t.slice(r,o)})}}}},e=>{"use strict";e.exports=function(e,t){return e.indexOf("`",t)}},(e,t,n)=>{"use strict";var r=n(965);e.exports=o,o.locator=r;function o(e,t,n){for(var r,o=t.length,i=-1,a="";++i<o;){if("\n"===(r=t.charAt(i))){if(i<2)return;return!!n||e(a+=r)({type:"break"})}if(" "!==r)return;a+=r}}},e=>{"use strict";e.exports=function(e,t){var n=e.indexOf("\n",t);for(;n>t&&" "===e.charAt(n-1);)n--;return n}},e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,s,l,u,c,d,f,p=this;if(n)return!0;r=p.inlineMethods,a=r.length,o=p.inlineTokenizers,i=-1,d=t.length;for(;++i<a;)"text"!==(c=r[i])&&o[c]&&((u=o[c].locator)||e.file.fail("Missing locator: `"+c+"`"),-1!==(l=u.call(p,t,1))&&l<d&&(d=l));s=t.slice(0,d),f=e.now(),p.decode(s,f,(function(t,n,r){e(r||t)({type:"text",value:t})}))}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=n(968),i=n(797),a=n(969),s=n(970),l=n(971),u=n(1327);e.exports=function e(){var t=[],n=l(),i={},b=!1,_=-1;return w.data=function(e,t){if("string"==typeof e)return 2===arguments.length?(g("data",b),i[e]=t,w):d.call(i,e)&&i[e]||null;if(e)return g("data",b),i=e,w;return i},w.freeze=E,w.attachers=t,w.use=function(e){var n;if(g("use",b),null==e);else if("function"==typeof e)d.apply(null,arguments);else{if("object"!==r(e))throw new Error("Expected usable value, not `"+e+"`");"length"in e?u(e):o(e)}n&&(i.settings=a(i.settings||{},n));return w;function o(e){u(e.plugins),e.settings&&(n=a(n||{},e.settings))}function l(e){if("function"==typeof e)d(e);else{if("object"!==r(e))throw new Error("Expected usable value, not `"+e+"`");"length"in e?d.apply(null,e):o(e)}}function u(e){var t,n;if(null==e);else{if("object"!==r(e)||!("length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,n=-1;++n<t;)l(e[n])}}function d(e,n){var r=O(e);r?(s(r[1])&&s(n)&&(n=a(r[1],n)),r[1]=n):t.push(c.call(arguments))}},w.parse=function(e){var t,n=u(e);if(E(),h("parse",t=w.Parser),p(t,"parse"))return new t(String(n),n).parse();return t(String(n),n)},w.stringify=function(e,t){var n,r=u(t);if(E(),m("stringify",n=w.Compiler),y(e),p(n,"compile"))return new n(e,r).compile();return n(e,r)},w.run=S,w.runSync=function(e,t){var n,r=!1;return S(e,t,i),v("runSync","run",r),n;function i(e,t){r=!0,o(e),n=t}},w.process=T,w.processSync=function(e){var t,n=!1;return E(),h("processSync",w.Parser),m("processSync",w.Compiler),T(t=u(e),r),v("processSync","process",n),t;function r(e){n=!0,o(e)}},w;function w(){for(var n=e(),r=t.length,o=-1;++o<r;)n.use.apply(null,t[o]);return n.data(a(!0,{},i)),n}function E(){var e,r,o,i;if(b)return w;for(;++_<t.length;)r=(e=t[_])[0],null,!1!==(o=e[1])&&(!0===o&&(e[1]=void 0),"function"==typeof(i=r.apply(w,e.slice(1)))&&n.use(i));return b=!0,_=1/0,w}function O(e){for(var n,r=t.length,o=-1;++o<r;)if((n=t[o])[0]===e)return n}function S(e,t,r){if(y(e),E(),r||"function"!=typeof t||(r=t,t=null),!r)return new Promise(o);function o(o,i){n.run(e,u(t),(function(t,n,a){n=n||e,t?i(t):o?o(n):r(null,n,a)}))}o(null,r)}function T(e,t){if(E(),h("process",w.Parser),m("process",w.Compiler),!t)return new Promise(n);function n(n,r){var o=u(e);f.run(w,{file:o},(function(e){e?r(e):n?n(o):t(null,o)}))}n(null,t)}}().freeze();var c=[].slice,d={}.hasOwnProperty,f=l().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,n){e.run(t.tree,t.file,(function(e,r,o){e?n(e):(t.tree=r,t.file=o,n())}))})).use((function(e,t){var n=e.stringify(t.tree,t.file),r=t.file;null==n||("string"==typeof n||i(n)?r.contents=n:r.result=n)}));function p(e,t){return"function"==typeof e&&e.prototype&&(function(e){var t;for(t in e)return!0;return!1}(e.prototype)||t in e.prototype)}function h(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function m(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function g(e,t){if(t)throw new Error("Cannot invoke `"+e+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function y(e){if(!e||"string"!=typeof e.type)throw new Error("Expected node, got `"+e+"`")}function v(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},e=>{"use strict";e.exports=function(e){if(e)throw e}},e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)};e.exports=function e(){var t,n,i,a,s,l,u=arguments[0],c=1,d=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});c<d;++c)if(null!=(t=arguments[c]))for(n in t)i=u[n],u!==(a=t[n])&&(f&&a&&(o(a)||(s=r(a)))?(s?(s=!1,l=i&&r(i)?i:[]):l=i&&o(i)?i:{},u[n]=e(f,l,a)):void 0!==a&&(u[n]=a));return u}},e=>{"use strict";e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},(e,t,n)=>{"use strict";var r=n(972);e.exports=i,i.wrap=r;var o=[].slice;function i(){var e=[],t={run:function(){var t=-1,n=o.call(arguments,0,-1),i=arguments[arguments.length-1];if("function"!=typeof i)throw new Error("Expected function as last argument, not "+i);function a(s){var l=e[++t],u=o.call(arguments,0),c=u.slice(1),d=n.length,f=-1;if(s)i(s);else{for(;++f<d;)null!==c[f]&&void 0!==c[f]||(c[f]=n[f]);n=c,l?r(l,a).apply(null,n):i.apply(null,[null].concat(n))}}a.apply(null,[null].concat(n))},use:function(n){if("function"!=typeof n)throw new Error("Expected `fn` to be a function, not "+n);return e.push(n),t}};return t}},e=>{"use strict";var t=[].slice;e.exports=function(e,n){var r;return function(){var n,a=t.call(arguments,0),s=e.length>a.length;s&&a.push(o);try{n=e.apply(null,a)}catch(l){if(s&&r)throw l;return o(l)}s||(n&&"function"==typeof n.then?n.then(i,o):n instanceof Error?o(n):i(n))};function o(){r||(r=!0,n.apply(null,arguments))}function i(e){o(null,e)}}},(e,t,n)=>{"use strict";var r=n(974),o=n(976);e.exports=o,o.prototype.message=function(e,t,n){var o=new r(e,t,n);this.path&&(o.name=this.path+":"+o.name,o.file=this.path);return o.fatal=!1,this.messages.push(o),o},o.prototype.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},o.prototype.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e}},(e,t,n)=>{"use strict";var r=n(975);function o(){}e.exports=a,o.prototype=Error.prototype,a.prototype=new o;var i=a.prototype;function a(e,t,n){var o,i,a;"string"==typeof t&&(n=t,t=null),o=function(e){var t,n=[null,null];"string"==typeof e&&(-1===(t=e.indexOf(":"))?n[1]=e:(n[0]=e.slice(0,t),n[1]=e.slice(t+1)));return n}(n),i=r(t)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(a=t,t=t.start):a.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=i,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=a,this.source=o[0],this.ruleId=o[1]}i.file="",i.name="",i.reason="",i.message="",i.stack="",i.fatal=null,i.column=null,i.line=null},e=>{"use strict";var t={}.hasOwnProperty;function n(e){return e&&"object"==typeof e||(e={}),o(e.line)+":"+o(e.column)}function r(e){return e&&"object"==typeof e||(e={}),n(e.start)+"-"+n(e.end)}function o(e){return e&&"number"==typeof e?e:1}e.exports=function(e){if(!e||"object"!=typeof e)return"";if(t.call(e,"position")||t.call(e,"type"))return r(e.position);if(t.call(e,"start")||t.call(e,"end"))return r(e);if(t.call(e,"line")||t.call(e,"column"))return n(e);return""}},(e,t,n)=>{"use strict";var r=n(1328),o=n(1329),i=n(797);e.exports=l;var a={}.hasOwnProperty,s=["history","path","basename","stem","extname","dirname"];function l(e){var t,n;if(e){if("string"==typeof e||i(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof l))return new l(e);for(this.data={},this.messages=[],this.history=[],this.cwd=o.cwd(),n=-1;++n<s.length;)t=s[n],a.call(e,t)&&(this[t]=e[t]);for(t in e)s.indexOf(t)<0&&(this[t]=e[t])}function u(e,t){if(e&&e.indexOf(r.sep)>-1)throw new Error("`"+t+"` cannot be a path: did not expect `"+r.sep+"`")}function c(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function d(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}l.prototype.toString=function(e){return(this.contents||"").toString(e)},Object.defineProperty(l.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){c(e,"path"),this.path!==e&&this.history.push(e)}}),Object.defineProperty(l.prototype,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(e){d(this.path,"dirname"),this.path=r.join(e||"",this.basename)}}),Object.defineProperty(l.prototype,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(e){c(e,"basename"),u(e,"basename"),this.path=r.join(this.dirname||"",e)}}),Object.defineProperty(l.prototype,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(e){if(u(e,"extname"),d(this.path,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=r.join(this.dirname,this.stem+(e||""))}}),Object.defineProperty(l.prototype,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(e){c(e,"stem"),u(e,"stem"),this.path=r.join(this.dirname||"",e+(this.extname||""))}})},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortableSectionShape=t.sectionShape=t.sectionForDropdownShape=t.loadErrorShape=t.classroomShape=t.assignmentUnitShape=t.assignmentCourseVersionShape=t.assignmentCourseOfferingShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(385);var a=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired,createdAt:o.default.string,loginType:o.default.oneOf(Object.keys(i.SectionLoginType)),lessonExtras:o.default.bool.isRequired,pairingAllowed:o.default.bool.isRequired,ttsAutoplayEnabled:o.default.bool.isRequired,studentCount:o.default.number.isRequired,code:o.default.string.isRequired,courseOfferingId:o.default.number,courseVersionId:o.default.number,unitId:o.default.number,courseId:o.default.number,scriptId:o.default.number,grade:o.default.string,providerManaged:o.default.bool.isRequired,restrictSection:o.default.bool,postMilestoneDisabled:o.default.bool});t.sectionShape=a;var s=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired,path:o.default.string.isRequired,lesson_extras_available:o.default.bool.isRequired,text_to_speech_enabled:o.default.bool.isRequired,position:o.default.number});t.assignmentUnitShape=s;var l=o.default.shape({id:o.default.number.isRequired,key:o.default.string.isRequired,version_year:o.default.string.isRequired,content_root_id:o.default.number.isRequired,name:o.default.string.isRequired,path:o.default.string.isRequired,type:o.default.string.isRequired,is_stable:o.default.bool.isRequired,is_recommended:o.default.bool.isRequired,locales:o.default.array,units:o.default.object.isRequired});t.assignmentCourseVersionShape=l;var u=o.default.shape({id:o.default.number.isRequired,display_name:o.default.string.isRequired,category:o.default.string.isRequired,is_featured:o.default.bool.isRequired,course_versions:o.default.object.isRequired});t.assignmentCourseOfferingShape=u;var c=o.default.shape({id:o.default.string.isRequired,name:o.default.string.isRequired,section:o.default.string,enrollment_code:o.default.string.isRequired});t.classroomShape=c;var d=o.default.shape({status:o.default.number.isRequired,message:o.default.string.isRequired});t.loadErrorShape=d;var f=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired,courseVersionName:o.default.string,loginType:o.default.oneOf(Object.keys(i.SectionLoginType)).isRequired,studentCount:o.default.number.isRequired,code:o.default.string.isRequired,grade:o.default.string,providerManaged:o.default.bool.isRequired,hidden:o.default.bool.isRequired,assignmentName:o.default.arrayOf(o.default.string),assignmentPath:o.default.arrayOf(o.default.string)});t.sortableSectionShape=f;var p=o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired,isAssigned:o.default.bool.isRequired});t.sectionForDropdownShape=p},,,e=>{var t=e.exports=function(){this.observerList_=[]};t.prototype.register=function(e){var t={toCall:e};return Object.freeze(t),this.observerList_.push(t),t},t.prototype.unregister=function(e){for(var t=0;t<this.observerList_.length;t++)if(e===this.observerList_[t])return this.observerList_.splice(t,1),!0;return!1},t.prototype.notifyObservers=function(){var e=Array.prototype.slice.call(arguments,0);this.observerList_.forEach((function(t){t.toCall.apply(void 0,e)}))}},e=>{var t=e.exports=function(){this.commands_=[],this.currentIndex_=0,this.maxEntries_=64};t.prototype.push=function(e){this.commands_.length>=this.maxEntries_&&(this.commands_.shift(),this.currentIndex_-=1),this.commands_.push(e),this.currentIndex_=this.commands_.length},t.prototype.goBack=function(e){return this.alterHistory_(this.currentIndex_,e),this.currentIndex_>0&&(this.currentIndex_-=1),void 0!==this.commands_[this.currentIndex_]?this.commands_[this.currentIndex_]:e},t.prototype.goForward=function(e){return this.alterHistory_(this.currentIndex_,e),this.currentIndex_<this.commands_.length&&(this.currentIndex_+=1),this.currentIndex_===this.commands_.length&&e===this.commands_[this.currentIndex_-1]?"":void 0!==this.commands_[this.currentIndex_]?this.commands_[this.currentIndex_]:e},t.prototype.alterHistory_=function(e,t){void 0!==this.commands_[e]&&(this.commands_[e]=t)}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(143)),a=n(635),s=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var s=r.prototype;return s.componentDidMount=function(){this.editor=new droplet.Editor(this.libraryCodeViewer,{mode:"javascript",allowFloatingBlocks:!1,enablePaletteAtStart:!1,textModeAtStart:!0,palette:[]}),this.editor.setValue(this.props.sourceCode),this.editor.setReadOnly(!0)},s.render=function(){var e=this,t=this.props,n=t.title,r=t.description,s=t.onClose,l=t.buttons;return o.default.createElement(i.default,{isOpen:!0,handleClose:s,style:h.dialog,useUpdatedStyles:!0},o.default.createElement("h1",{style:h.header},n),o.default.createElement(a.Body,null,o.default.createElement("div",{style:{textAlign:"left"}},o.default.createElement("p",{style:h.message},r),o.default.createElement("div",{className:"libraryCodeViewerContainer",style:h.code},o.default.createElement("div",{ref:function(t){return e.libraryCodeViewer=t}})))),l)},r}(o.default.Component);t.default=p,c=p,d="propTypes",f={title:r.default.string.isRequired,description:r.default.string.isRequired,onClose:r.default.func.isRequired,sourceCode:r.default.string.isRequired,buttons:r.default.node},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var h={dialog:{padding:15},header:{textAlign:"left",fontSize:24,marginTop:5,whiteSpace:"pre-wrap",lineHeight:1.25,textOverflow:"ellipsis",overflow:"hidden"},message:{color:s.default.dark_charcoal,margin:7,overflow:"auto",whiteSpace:"pre-wrap",fontSize:14,maxHeight:95},code:{position:"relative",height:390,margin:7}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(2)),i=s(n(53)),a=s(n(382));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{id:i.default.uniqueId()}),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),o.prototype.render=function(){var e=this.props,t=e.children,n=e.text,o=e.place,i=this.state.id;return r.default.createElement("span",{"data-for":this.state.id,"data-tip":!0,"data-place":o},t,r.default.createElement(a.default,{id:i,role:"tooltip",effect:"solid"},r.default.createElement("div",null,n)))},o}(r.default.Component);t.default=d,c(d,"propTypes",{text:o.default.string.isRequired,children:o.default.node.isRequired,place:o.default.oneOf(["top","right","bottom","left"])}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(787)),a=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e,t=this.props,n=t.displayBottom,r=t.isBlockly,s=t.onClose,l=t.type,c=t.children;e=r?(0,a.default)("#toolbox-header").width():(0,a.default)(".droplet-palette-element").width()+(0,a.default)(".droplet-gutter").width();var d=n?{bottom:0,left:e}:{top:(0,a.default)("#headers").height(),left:e};return o.default.createElement("div",{style:u(u({},p.alertContainer),d),onClick:n?s:void 0},o.default.createElement(i.default,{onClose:s,type:l,sideMargin:n?0:void 0,bottomMargin:n?0:void 0},c))},r}(o.default.Component);t.default=f,d(f,"propTypes",{type:r.default.oneOf(["error","warning","notification"]).isRequired,children:r.default.element.isRequired,onClose:r.default.func.isRequired,isBlockly:r.default.bool,displayBottom:r.default.bool});var p={alertContainer:{position:"absolute",right:0}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(586));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var s=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),i.getRailsCSRFMetaTags=function(){var e=document.querySelector('meta[name="csrf-param"]'),t=document.querySelector('meta[name="csrf-token"]');if(!e||!t)throw new Error("Tried to render an authenticity token into the form but CSRF meta tags were not found.");return{param:e.content,token:t.content}},i.prototype.render=function(){try{var e=i.getRailsCSRFMetaTags(),t=e.param,n=e.token;return r.default.createElement("input",{type:"hidden",name:t,value:n})}catch(a){return o.default.logError(a),null}},i}(r.default.Component);t.default=s,e.exports=t.default},,e=>{var t=[];e.exports={reset:function(e){return t=e.slice()},add:function(e){return(t=this.remove(e.filename)).unshift(e),t.slice()},remove:function(e){return(t=t.filter((function(t){return t.filename!==e}))).slice()},list:function(e){return e?t.filter((function(t){var n=t.filename.toLowerCase().match(/\.[^.]+$/);if(n){var r=n[0];return e.split(", ").indexOf(r)>-1}})):t.slice()}}},,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayThemeFromString=t.DisplayTheme=t.DEFAULT_DISPLAY_THEME=void 0;var n={LIGHT:"light",DARK:"dark"};t.DisplayTheme=n;var r=n.DARK;t.DEFAULT_DISPLAY_THEME=r;t.getDisplayThemeFromString=function(e){if(null==e)return r;for(var t=0,o=Object.keys(n);t<o.length;t++){var i=o[t];if(e.toLowerCase().trim()===n[i].toLowerCase().trim())return n[i]}return r}},,,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.ok=!1,"#"===e.charAt(0)&&(e=e.substr(1,6));e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e===n&&(e=t[n]);for(var r=[{re:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*((?:\d+(?:\.\d+)?)|(?:\.\d+))\s*\)$/,example:["rgba(123, 234, 45, .33)","rgba(255,234,245,1)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<r.length;o++){var i=r[o].re,a=r[o].process,s=i.exec(e);if(s){var l=a(s);this.r=l[0],this.g=l[1],this.b=l[2],this.a=l[3],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0?0:this.a>1||isNaN(this.a)?1:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1===e.length&&(e="0"+e),1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),"#"+e+t+n}},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(2)),i=s(n(103)),a=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),o.prototype.render=function(){var e=this.props,t=e.isPerfect,n=e.isSelected,o=e.size,i=u(u({},h.smallStack),{},{fontSize:o}),a=u(u(u({},h.default),n&&h.selected),t&&h.perfect);return r.default.createElement("span",{className:"fa-stack fa-1x",style:i},r.default.createElement("i",{className:"fa fa-flag fa-stack-1x fa-inverse"}),r.default.createElement("i",{className:"fa fa-flag-checkered fa-stack-1x",style:a}))},o}(r.default.PureComponent);d(f,"propTypes",{isPerfect:o.default.bool,isSelected:o.default.bool,size:o.default.number});var p=(0,i.default)(f);t.default=p;var h={default:{color:a.default.lighter_gray,":hover":{color:a.default.orange}},selected:{color:a.default.charcoal},perfect:{color:a.default.level_perfect},smallStack:{width:"1em",height:"1.1em",lineHeight:"1em"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(32)),o=d(n(53)),i=d(n(2)),a=d(n(1)),s=d(n(788)),l=d(n(165)),u=n(899),c=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="MINIMIZING",v="MINIMIZED",b="EXPANDED",_="COPYRIGHT",w=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(h(t=e.call.apply(e,[this].concat(r))||this),"state",{menuState:v,baseWidth:0,baseHeight:0}),g(h(t),"captureBaseElementDimensions",(function(){var e=t.refs.base;t.setState({baseWidth:e.offsetWidth,baseHeight:e.offsetHeight})})),g(h(t),"clickBase",(function(){t.props.copyrightInBase||t.clickBaseMenu()})),g(h(t),"clickBaseCopyright",(function(e){e.preventDefault(),t.state.menuState!==y&&(t.state.menuState!==_?(t.setState({menuState:_}),t.minimizeOnClickAnywhere()):t.setState({menuState:v}))})),g(h(t),"clickMenuCopyright",(function(e){t.setState({menuState:_}),t.minimizeOnClickAnywhere()})),g(h(t),"clickBaseMenu",(function(){t.state.menuState!==y&&(t.state.menuState!==b?(t.setState({menuState:b}),t.minimizeOnClickAnywhere()):t.setState({menuState:v}))})),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var d=i.prototype;return d.componentDidMount=function(){this.captureBaseElementDimensions(),window.addEventListener("resize",(0,s.default)(this.captureBaseElementDimensions,100))},d.minimizeOnClickAnywhere=function(e){(0,r.default)(document.body).one("click",function(e){e.target!==this.refs.menuCopyright&&(this.setState({menuState:y,moreOffset:0}),setTimeout(function(){this.setState({menuState:v})}.bind(this),200))}.bind(this))},d.render=function(){var e={smallFooter:{fontSize:this.props.fontSize},base:{height:this.props.rowHeight?this.props.rowHeight-6:void 0},baseFullWidth:{width:"100%",boxSizing:"border-box"},copyright:{display:this.state.menuState===_?"flex":"none",position:"absolute",bottom:0,width:650,maxWidth:"50%",minWidth:this.state.baseWidth},copyrightScrollArea:{maxHeight:this.props.phoneFooter?210:void 0,marginBottom:this.state.baseHeight-1},moreMenu:{display:this.state.menuState===b?"block":"none",bottom:this.state.baseHeight,width:this.state.baseWidth},awsLogo:{width:190}},t=p(p(p({},e.base),this.props.baseStyle),this.props.fullWidth&&e.baseFullWidth),n=/^[0-9]+$/.test(this.props.unitYear);return a.default.createElement("div",{className:this.props.className,style:e.smallFooter},a.default.createElement("div",{className:"small-footer-base",ref:"base",style:t,onClick:this.clickBase},this.renderI18nDropdown(),this.renderCopyright(),!!this.props.unitYear&&n&&a.default.createElement("p",null,c.default.version(),": ",this.props.unitYear),this.renderMoreMenuButton()),a.default.createElement("div",{id:"copyright-flyout",style:e.copyright},a.default.createElement("div",{id:"copyright-scroll-area",style:e.copyrightScrollArea},a.default.createElement("h4",null,this.props.baseCopyrightString),a.default.createElement(l.default,{markdown:decodeURIComponent(this.props.copyrightStrings.thank_you)}),a.default.createElement("p",null,this.props.copyrightStrings.help_from_html),a.default.createElement(l.default,{markdown:decodeURIComponent(this.props.copyrightStrings.art_from_html)}),a.default.createElement(l.default,{markdown:decodeURIComponent(this.props.copyrightStrings.code_from_html)}),a.default.createElement("p",null,this.props.copyrightStrings.built_on_github),a.default.createElement("a",{href:"https://aws.amazon.com/what-is-cloud-computing"},a.default.createElement("img",{src:"/shared/images/Powered-By_logo-horiz_RGB.png",alt:"Powered by AWS Cloud Computing",style:e.awsLogo})),a.default.createElement(l.default,{markdown:decodeURIComponent(this.props.copyrightStrings.trademark)}))),this.renderMoreMenu(e))},d.renderI18nDropdown=function(){if(this.props.i18nDropdown)return a.default.createElement("div",{className:"i18n-dropdown-container"},a.default.createElement("span",{className:"globe-icon"},a.default.createElement("i",{className:"fa fa-globe","aria-hidden":"true"})),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:decodeURIComponent(this.props.i18nDropdown)}}))},d.renderCopyright=function(){if(this.props.copyrightInBase)return a.default.createElement("span",{className:"copyright-button"},a.default.createElement("button",{className:"copyright-link no-mc",type:"button",onClick:this.clickBaseCopyright},"©"))},d.renderMoreMenuButton=function(){var e=this.props.menuItems;if(e&&e.length>0){var t=this.state.menuState===b?"fa fa-caret-down":"fa fa-caret-up";return a.default.createElement("button",{type:"button",className:"more-link",onClick:this.clickBaseMenu},this.props.baseMoreMenuString," ",a.default.createElement("i",{className:t}))}},d.renderMoreMenu=function(e){var t=this.props.channel;(0,u.userAlreadyReportedAbuse)(t)&&o.default.remove(this.props.menuItems,(function(e){return"report-abuse"===e.key}));var n=this.props.menuItems.map(function(t,n){return a.default.createElement("li",{key:n,style:e.listItem,className:"ui-test-".concat(t.key)},a.default.createElement("a",{href:t.link,ref:t.copyright?"menuCopyright":void 0,target:t.newWindow?"_blank":"_parent",onClick:t.copyright?this.clickMenuCopyright:void 0},t.text))}.bind(this));return a.default.createElement("ul",{id:"more-menu",style:e.moreMenu},n)},i}(a.default.Component);t.default=w,g(w,"propTypes",{i18nDropdown:i.default.string,copyrightInBase:i.default.bool.isRequired,copyrightStrings:i.default.shape({thank_you:i.default.string.isRequired,help_from_html:i.default.string.isRequired,art_from_html:i.default.string.isRequired,code_from_html:i.default.string.isRequired,trademark:i.default.string.isRequired,built_on_github:i.default.string.isRequired}),baseCopyrightString:i.default.string,baseMoreMenuString:i.default.string.isRequired,baseStyle:i.default.object,menuItems:i.default.arrayOf(i.default.shape({text:i.default.string.isRequired,link:i.default.string.isRequired,copyright:i.default.bool,newWindow:i.default.bool})).isRequired,phoneFooter:i.default.bool,className:i.default.string,fontSize:i.default.number,rowHeight:i.default.number,fullWidth:i.default.bool,channel:i.default.string,unitYear:i.default.string}),e.exports=t.default},e=>{e.exports={aliases:{music:["music","headphones","volume-off","volume-down","volume-up","play"],note:["music","comment","comment-o"],sound:["music","headphones","volume-off","volume-down","volume-up","play","microphone","microphone-slash"],search:["search"],magnify:["search","search-plus","search-minus"],zoom:["search","search-plus","search-minus"],enlarge:["search","search-plus","expand","arrows-alt"],bigger:["search","search-plus","expand","arrows-alt"],"envelope-o":["envelope-o"],email:["envelope-o","envelope"],support:["envelope-o","question-circle","phone","phone-square","envelope","ambulance","medkit","question","ticket","life-ring"],"e-mail":["envelope-o","envelope"],letter:["envelope-o","envelope"],mail:["envelope-o","envelope"],notification:["envelope-o","flag","exclamation-circle","exclamation-triangle","comment","comments","bell","envelope","comment-o","comments-o","bell-o","circle","flag-o","flag-checkered","exclamation","dot-circle-o"],heart:["heart","gratipay"],love:["heart","heart-o","gratipay"],like:["heart","thumbs-o-up","heart-o","thumbs-up","gratipay"],favorite:["heart","thumbs-o-up","heart-o","thumbs-up","gratipay"],star:["star","certificate"],award:["star","star-o","star-half","trophy","star-half-o","shield"],achievement:["star","star-o","star-half","trophy","star-half-o","shield"],night:["star","star-o","moon-o"],rating:["star","star-o","star-half","smile-o","frown-o","meh-o","star-half-o"],score:["star","star-o","star-half","star-half-o"],"star-o":["star-o"],user:["user","female","male"],person:["user","female","male","wheelchair"],man:["user","male"],head:["user"],profile:["user","user-md","female","male"],film:["film","video-camera","youtube-square","youtube"],movie:["film","video-camera","ticket"],"th-large":["th-large"],blocks:["th-large","th"],squares:["th-large","th"],boxes:["th-large","th"],grid:["th-large","th"],th:["th"],"th-list":["th-list"],ul:["th-list","list-alt","list","bars","list-ul","list-ol"],ol:["th-list","list-alt","list","bars","list-ul","list-ol"],checklist:["th-list","list-alt","list","bars","list-ul","list-ol"],finished:["th-list","list-alt","list"],completed:["th-list","list-alt","list"],done:["th-list","check","list-alt","list","check-square-o","check-circle","check-circle-o","check-square"],todo:["th-list","check","list-alt","list","check-square-o","check-circle","check-circle-o","bars","list-ul","list-ol","check-square"],check:["check"],checkmark:["check","check-square"],agree:["check","check-square-o","check-circle","check-circle-o","thumbs-o-up","check-square","thumbs-up"],accept:["check","check-square-o","check-circle","check-circle-o","check-square"],confirm:["check","check-square-o","check-circle","check-circle-o","check-square"],tick:["check"],ok:["check","check-square-o","check-circle","check-circle-o","check-square","calendar-check-o"],times:["times"],close:["times","times","times-circle","times-circle-o"],exit:["times","times-circle","times-circle-o","sign-out"],x:["times","times-circle","times-circle-o"],cross:["times"],remove:["times","trash-o","minus-circle","ban","minus","chain-broken","minus-square","minus-square-o","trash"],"search-plus":["search-plus"],"search-minus":["search-minus"],minify:["search-minus","minus","minus-square","minus-square-o"],smaller:["search-minus","compress"],"power-off":["power-off"],on:["power-off"],signal:["signal"],cog:["cog"],settings:["cog","cogs","wrench","tasks","bars"],gear:["cog"],"trash-o":["trash-o"],garbage:["trash-o","trash"],delete:["trash-o","minus-circle","ban","minus","minus-square","minus-square-o","trash"],trash:["trash-o","minus-circle","ban","minus","minus-square","minus-square-o","trash"],hide:["trash-o","minus-circle","ban","minus","minus","eye-slash","minus-square","minus-square","minus-square-o","minus-square-o","trash"],home:["home"],main:["home"],house:["home"],"file-o":["file-o"],new:["file-o","plus-circle","plus","external-link","file-text-o","plus-square","external-link-square","file","file-text","plus-square-o"],page:["file-o","file-text-o","file","file-text"],pdf:["file-o","file-text-o","file","file-text"],document:["file-o","file-text-o","file","file-text"],"clock-o":["clock-o"],watch:["clock-o"],timer:["clock-o"],late:["clock-o"],timestamp:["clock-o"],road:["road"],street:["road"],download:["download","arrow-circle-o-down","arrow-down","arrow-circle-down"],import:["download","upload","cloud-download","cloud-upload"],"arrow-circle-o-down":["arrow-circle-o-down"],"arrow-circle-o-up":["arrow-circle-o-up"],inbox:["inbox"],"play-circle-o":["play-circle-o"],repeat:["repeat"],redo:["repeat"],forward:["repeat","forward","forward","chevron-right","arrow-right","hand-o-right","arrow-circle-right","caret-right","angle-double-right","angle-right","chevron-circle-right","caret-square-o-right","arrow-circle-o-right"],"rotate-right":["repeat"],refresh:["refresh","retweet"],reload:["refresh","retweet"],sync:["refresh"],"list-alt":["list-alt"],lock:["lock","unlock","unlock-alt"],protect:["lock","unlock","unlock-alt"],admin:["lock","unlock","unlock-alt"],flag:["flag"],report:["flag","flag-o","flag-checkered","bug"],notify:["flag","flag-checkered","exclamation"],headphones:["headphones"],listen:["headphones"],"volume-off":["volume-off"],mute:["volume-off","microphone-slash"],"volume-down":["volume-down"],lower:["volume-down"],quieter:["volume-down"],"volume-up":["volume-up"],higher:["volume-up"],louder:["volume-up","bullhorn"],qrcode:["qrcode"],scan:["qrcode","barcode"],barcode:["barcode"],tag:["tag"],label:["tag"],tags:["tags"],labels:["tags"],book:["book"],read:["book"],documentation:["book"],bookmark:["bookmark"],save:["bookmark","bookmark-o","hdd-o","cloud","floppy-o"],print:["print"],camera:["camera"],photo:["camera","picture-o","camera-retro"],picture:["camera","camera-retro"],record:["camera","video-camera","camera-retro","microphone","microphone-slash"],font:["font"],text:["font","align-left","align-center","align-right","align-justify","mobile"],bold:["bold"],italic:["italic"],italics:["italic"],"text-height":["text-height"],"text-width":["text-width"],"align-left":["align-left"],"align-center":["align-center"],middle:["align-center"],"align-right":["align-right"],"align-justify":["align-justify"],list:["list","bars","bars","list-ul","list-ol","list-ol"],outdent:["outdent"],dedent:["outdent"],indent:["indent"],"video-camera":["video-camera"],"picture-o":["picture-o"],image:["picture-o"],pencil:["pencil"],write:["pencil","pencil-square-o","pencil-square"],edit:["pencil","pencil-square-o","pencil-square-o","pencil-square"],update:["pencil","pencil-square-o","wrench","pencil-square"],"map-marker":["map-marker"],map:["map-marker","globe","location-arrow","street-view","map"],pin:["map-marker","thumb-tack"],location:["map-marker","plane","thumb-tack","globe","location-arrow","compass"],coordinates:["map-marker","thumb-tack","globe","location-arrow"],localize:["map-marker","globe"],address:["map-marker","location-arrow"],travel:["map-marker","plane","globe","suitcase","bed"],where:["map-marker","location-arrow"],place:["map-marker","globe","location-arrow"],adjust:["adjust"],contrast:["adjust","sun-o","moon-o"],tint:["tint"],raindrop:["tint"],waterdrop:["tint"],drop:["tint"],droplet:["tint"],"pencil-square-o":["pencil-square-o"],"share-square-o":["share-square-o"],social:["share-square-o","share-square"],send:["share-square-o","share-square","paper-plane"],"check-square-o":["check-square-o"],arrows:["arrows","exchange"],move:["arrows","arrows-alt","suitcase"],reorder:["arrows","arrows-alt","bars","bars"],resize:["arrows","expand","arrows-v","arrows-h","arrows-alt"],"step-backward":["step-backward"],rewind:["step-backward","fast-backward","backward"],previous:["step-backward","fast-backward","backward","chevron-left","arrow-left","hand-o-left","arrow-circle-left","caret-left","angle-double-left","angle-left","chevron-circle-left","long-arrow-left","arrow-circle-o-left","caret-square-o-left"],beginning:["step-backward","fast-backward"],start:["step-backward","fast-backward","play","play-circle","youtube-play"],first:["step-backward","fast-backward"],"fast-backward":["fast-backward"],backward:["backward"],play:["play"],playing:["play","play-circle","youtube-play"],pause:["pause"],wait:["pause"],stop:["stop","ban"],block:["stop","ban","square-o","square"],box:["stop","square-o","square","archive"],square:["stop","square-o","square"],next:["forward","fast-forward","step-forward","chevron-right","arrow-right","hand-o-right","arrow-circle-right","caret-right","angle-double-right","angle-right","chevron-circle-right","caret-square-o-right","arrow-circle-o-right"],"fast-forward":["fast-forward"],end:["fast-forward","step-forward"],last:["fast-forward","step-forward"],"step-forward":["step-forward"],eject:["eject"],"chevron-left":["chevron-left"],bracket:["chevron-left","chevron-right"],back:["chevron-left","arrow-left","hand-o-left","arrow-circle-left","caret-left","undo","angle-double-left","angle-left","chevron-circle-left","long-arrow-left","arrow-circle-o-left","caret-square-o-left"],"chevron-right":["chevron-right"],"plus-circle":["plus-circle"],add:["plus-circle","plus","plus-square","plus-square-o","cart-plus"],create:["plus-circle","plus","plus-square","plus-square-o"],expand:["plus-circle","expand","plus","arrows-alt","plus-square","plus-square-o"],"minus-circle":["minus-circle"],"times-circle":["times-circle"],"check-circle":["check-circle"],"question-circle":["question-circle"],help:["question-circle","info-circle","ambulance","medkit","question","info"],information:["question-circle","info-circle","question","info"],unknown:["question-circle","question"],"info-circle":["info-circle"],more:["info-circle","caret-down","sort-desc","info","chevron-circle-down","caret-square-o-down"],details:["info-circle","asterisk","info"],"times-circle-o":["times-circle-o"],"check-circle-o":["check-circle-o"],ban:["ban"],abort:["ban"],cancel:["ban"],"arrow-left":["arrow-left"],"arrow-right":["arrow-right"],"arrow-up":["arrow-up"],"arrow-down":["arrow-down"],share:["share","retweet","bullhorn"],"mail-forward":["share"],compress:["compress"],collapse:["compress","minus","minus-square","minus-square-o"],combine:["compress"],contract:["compress"],merge:["compress","code-fork"],plus:["plus"],minus:["minus"],asterisk:["asterisk"],"exclamation-circle":["exclamation-circle"],warning:["exclamation-circle","exclamation-triangle","exclamation-triangle","exclamation"],error:["exclamation-circle","exclamation-triangle","exclamation"],problem:["exclamation-circle","exclamation-triangle","exclamation"],alert:["exclamation-circle","exclamation-triangle","bell","bell-o","exclamation"],gift:["gift"],present:["gift"],leaf:["leaf","pagelines"],eco:["leaf","pagelines"],nature:["leaf","pagelines"],fire:["fire"],flame:["fire"],hot:["fire"],popular:["fire"],eye:["eye"],show:["eye","eye-slash"],visible:["eye","eye-slash"],views:["eye","eye-slash"],"eye-slash":["eye-slash"],toggle:["eye-slash"],visiblity:["eye-slash"],"exclamation-triangle":["exclamation-triangle"],plane:["plane"],trip:["plane","suitcase"],destination:["plane"],airplane:["plane"],fly:["plane"],mode:["plane"],calendar:["calendar"],date:["calendar","calendar-o"],time:["calendar","calendar-o"],when:["calendar","calendar-o"],random:["random"],sort:["random","sort"],shuffle:["random"],comment:["comment"],speech:["comment","comment-o"],chat:["comment","comment-o"],bubble:["comment","comment-o"],feedback:["comment","comment-o"],message:["comment","comments","comment-o","comments-o","commenting","commenting-o"],texting:["comment","comments","comment-o","comments-o"],sms:["comment","comments","comment-o","comments-o"],magnet:["magnet"],"chevron-up":["chevron-up"],"chevron-down":["chevron-down"],retweet:["retweet"],"shopping-cart":["shopping-cart"],checkout:["shopping-cart","credit-card","money","credit-card-alt"],buy:["shopping-cart","credit-card","money","credit-card-alt"],purchase:["shopping-cart","credit-card","money","credit-card-alt"],payment:["shopping-cart","credit-card","money","credit-card-alt"],folder:["folder"],"folder-open":["folder-open"],"arrows-v":["arrows-v"],"arrows-h":["arrows-h"],"bar-chart":["bar-chart"],graph:["bar-chart","area-chart","pie-chart","line-chart"],analytics:["bar-chart","area-chart","pie-chart","line-chart"],"bar-chart-o":["bar-chart"],"twitter-square":["twitter-square"],tweet:["twitter-square","twitter"],"social network":["twitter-square","facebook-square","twitter","facebook","google-plus-square","google-plus"],"facebook-square":["facebook-square"],"camera-retro":["camera-retro"],key:["key"],unlock:["key","unlock"],password:["key","unlock","unlock-alt"],cogs:["cogs"],gears:["cogs"],comments:["comments"],conversation:["comments","comments-o"],notes:["comments","comments-o"],"thumbs-o-up":["thumbs-o-up"],approve:["thumbs-o-up","smile-o","thumbs-up"],hand:["thumbs-o-up","thumbs-o-down","thumbs-up","thumbs-down"],"thumbs-o-down":["thumbs-o-down"],dislike:["thumbs-o-down","thumbs-down"],disapprove:["thumbs-o-down","frown-o","thumbs-down"],disagree:["thumbs-o-down","thumbs-down"],"star-half":["star-half"],"heart-o":["heart-o"],"sign-out":["sign-out"],"log out":["sign-out"],logout:["sign-out"],leave:["sign-out"],arrow:["sign-out","sign-in","exchange"],"linkedin-square":["linkedin-square"],"thumb-tack":["thumb-tack"],marker:["thumb-tack"],"external-link":["external-link"],open:["external-link","external-link-square"],"sign-in":["sign-in"],enter:["sign-in"],join:["sign-in"],"log in":["sign-in"],login:["sign-in"],"sign up":["sign-in","user-plus"],"sign in":["sign-in"],signin:["sign-in"],signup:["sign-in","user-plus"],trophy:["trophy"],winner:["trophy","shield"],game:["trophy"],"github-square":["github-square"],octocat:["github-square","github","github-alt"],upload:["upload"],"lemon-o":["lemon-o"],phone:["phone"],call:["phone","phone-square","mobile"],voice:["phone","phone-square","microphone","microphone-slash"],number:["phone","phone-square","mobile"],earphone:["phone"],"square-o":["square-o"],"bookmark-o":["bookmark-o"],"phone-square":["phone-square"],twitter:["twitter"],facebook:["facebook"],"facebook-f":["facebook"],github:["github","code-fork"],"credit-card":["credit-card"],money:["credit-card","money","money","credit-card-alt"],debit:["credit-card","credit-card-alt"],rss:["rss"],blog:["rss","rss-square"],feed:["rss","rss-square"],"hdd-o":["hdd-o"],harddrive:["hdd-o"],"hard drive":["hdd-o"],storage:["hdd-o","archive"],bullhorn:["bullhorn"],announcement:["bullhorn"],broadcast:["bullhorn"],bell:["bell"],reminder:["bell","bell-o"],certificate:["certificate"],badge:["certificate"],"hand-o-right":["hand-o-right"],point:["hand-o-right","hand-o-left","hand-o-up","hand-o-down"],right:["hand-o-right"],"hand-o-left":["hand-o-left"],left:["hand-o-left"],"hand-o-up":["hand-o-up"],"hand-o-down":["hand-o-down"],"arrow-circle-left":["arrow-circle-left"],"arrow-circle-right":["arrow-circle-right"],"arrow-circle-up":["arrow-circle-up"],"arrow-circle-down":["arrow-circle-down"],globe:["globe"],world:["globe"],planet:["globe"],earth:["globe"],global:["globe"],translate:["globe"],all:["globe"],language:["globe","language"],country:["globe"],wrench:["wrench"],fix:["wrench"],tasks:["tasks"],progress:["tasks","spinner"],loading:["tasks","spinner"],downloading:["tasks"],downloads:["tasks"],filter:["filter"],funnel:["filter"],options:["filter"],briefcase:["briefcase"],work:["briefcase","building-o","building"],business:["briefcase","building-o","building"],office:["briefcase","building-o","building"],luggage:["briefcase","suitcase"],bag:["briefcase"],"arrows-alt":["arrows-alt"],fullscreen:["arrows-alt"],users:["users"],people:["users"],profiles:["users"],persons:["users"],group:["users"],link:["link","anchor"],chain:["link","link"],cloud:["cloud"],flask:["flask"],science:["flask"],beaker:["flask"],experimental:["flask"],labs:["flask"],scissors:["scissors"],cut:["scissors"],"files-o":["files-o"],duplicate:["files-o"],copy:["files-o","clipboard","clone"],paperclip:["paperclip"],attachment:["paperclip"],"floppy-o":["floppy-o"],bars:["bars"],menu:["bars","caret-down","sort-desc","chevron-circle-down","compass","caret-square-o-down"],drag:["bars"],hamburger:["bars"],navicon:["bars"],"list-ul":["list-ul"],"list-ol":["list-ol"],numbers:["list-ol","sort-numeric-asc","sort-numeric-desc"],strikethrough:["strikethrough"],underline:["underline"],table:["table"],data:["table"],excel:["table"],spreadsheet:["table"],magic:["magic"],wizard:["magic"],automatic:["magic"],autocomplete:["magic"],truck:["truck"],shipping:["truck"],pinterest:["pinterest"],"pinterest-square":["pinterest-square"],"google-plus-square":["google-plus-square"],"google-plus":["google-plus"],cash:["money"],"caret-down":["caret-down"],dropdown:["caret-down","sort-desc","chevron-circle-down","caret-square-o-down"],"triangle down":["caret-down"],"caret-up":["caret-up"],"triangle up":["caret-up"],"caret-left":["caret-left"],"triangle left":["caret-left"],"caret-right":["caret-right"],"triangle right":["caret-right"],columns:["columns"],split:["columns"],panes:["columns"],order:["sort"],unsorted:["sort"],"sort-desc":["sort-desc"],"sort-down":["sort-desc"],"sort-asc":["sort-asc"],"sort-up":["sort-asc"],envelope:["envelope"],linkedin:["linkedin"],undo:["undo"],"rotate-left":["undo"],gavel:["gavel"],legal:["gavel"],tachometer:["tachometer"],dashboard:["tachometer"],"comment-o":["comment-o"],"comments-o":["comments-o"],bolt:["bolt"],lightning:["bolt"],weather:["bolt","sun-o"],flash:["bolt"],sitemap:["sitemap"],directory:["sitemap","compass"],hierarchy:["sitemap"],organization:["sitemap"],umbrella:["umbrella"],clipboard:["clipboard"],paste:["clipboard"],"lightbulb-o":["lightbulb-o"],idea:["lightbulb-o"],inspiration:["lightbulb-o"],exchange:["exchange"],transfer:["exchange"],"cloud-download":["cloud-download"],"cloud-upload":["cloud-upload"],"user-md":["user-md"],doctor:["user-md"],medical:["user-md"],nurse:["user-md"],stethoscope:["stethoscope"],suitcase:["suitcase"],baggage:["suitcase"],"bell-o":["bell-o"],coffee:["coffee"],morning:["coffee"],mug:["coffee"],breakfast:["coffee"],tea:["coffee"],drink:["coffee"],cafe:["coffee"],cutlery:["cutlery"],food:["cutlery"],restaurant:["cutlery"],spoon:["cutlery","spoon"],knife:["cutlery"],dinner:["cutlery"],eat:["cutlery"],"file-text-o":["file-text-o"],"building-o":["building-o"],apartment:["building-o","building"],company:["building-o","building"],"hospital-o":["hospital-o"],building:["hospital-o","building"],ambulance:["ambulance"],medkit:["medkit"],"first aid":["medkit"],firstaid:["medkit"],health:["medkit"],"h-square":["h-square"],hospital:["h-square"],hotel:["h-square","bed"],"plus-square":["plus-square"],"angle-double-left":["angle-double-left"],laquo:["angle-double-left"],quote:["angle-double-left","angle-double-right"],"angle-double-right":["angle-double-right"],raquo:["angle-double-right"],"angle-double-up":["angle-double-up"],"angle-double-down":["angle-double-down"],"angle-left":["angle-left"],"angle-right":["angle-right"],"angle-up":["angle-up"],"angle-down":["angle-down"],desktop:["desktop","desktop"],monitor:["desktop"],screen:["desktop"],computer:["desktop","laptop"],demo:["desktop","laptop"],device:["desktop","laptop","tablet"],laptop:["laptop"],tablet:["tablet"],ipad:["tablet"],mobile:["mobile"],"cell phone":["mobile"],cellphone:["mobile"],iphone:["mobile"],"mobile-phone":["mobile"],"circle-o":["circle-o"],"quote-left":["quote-left"],"quote-right":["quote-right"],spinner:["spinner"],circle:["circle"],dot:["circle"],reply:["reply"],"mail-reply":["reply"],"github-alt":["github-alt"],"folder-o":["folder-o"],"folder-open-o":["folder-open-o"],"smile-o":["smile-o"],emoticon:["smile-o","frown-o","meh-o"],happy:["smile-o"],satisfied:["smile-o"],"frown-o":["frown-o"],sad:["frown-o"],"meh-o":["meh-o"],neutral:["meh-o"],gamepad:["gamepad"],controller:["gamepad"],"keyboard-o":["keyboard-o"],type:["keyboard-o"],input:["keyboard-o"],"flag-o":["flag-o"],"flag-checkered":["flag-checkered"],terminal:["terminal"],command:["terminal"],prompt:["terminal"],code:["terminal","code","css3"],html:["code"],brackets:["code"],"reply-all":["reply-all"],"mail-reply-all":["reply-all"],"star-half-o":["star-half-o"],"star-half-empty":["star-half-o"],"star-half-full":["star-half-o"],"location-arrow":["location-arrow"],crop:["crop"],"code-fork":["code-fork"],git:["code-fork","bitbucket","bitbucket-square","git"],fork:["code-fork"],vcs:["code-fork"],svn:["code-fork"],rebase:["code-fork"],version:["code-fork"],"chain-broken":["chain-broken"],unlink:["chain-broken"],question:["question"],info:["info"],exclamation:["exclamation"],superscript:["superscript"],exponential:["superscript"],subscript:["subscript"],eraser:["eraser"],"puzzle-piece":["puzzle-piece"],addon:["puzzle-piece"],"add-on":["puzzle-piece"],section:["puzzle-piece"],microphone:["microphone"],"microphone-slash":["microphone-slash"],shield:["shield"],"calendar-o":["calendar-o"],"fire-extinguisher":["fire-extinguisher"],rocket:["rocket"],app:["rocket"],maxcdn:["maxcdn"],"chevron-circle-left":["chevron-circle-left"],"chevron-circle-right":["chevron-circle-right"],"chevron-circle-up":["chevron-circle-up"],"chevron-circle-down":["chevron-circle-down"],html5:["html5"],css3:["css3"],anchor:["anchor"],"unlock-alt":["unlock-alt"],bullseye:["bullseye","dot-circle-o"],target:["bullseye","dot-circle-o"],"ellipsis-h":["ellipsis-h"],dots:["ellipsis-h","ellipsis-v"],"ellipsis-v":["ellipsis-v"],"rss-square":["rss-square"],"play-circle":["play-circle"],ticket:["ticket"],pass:["ticket"],"minus-square":["minus-square"],"minus-square-o":["minus-square-o"],"level-up":["level-up"],"level-down":["level-down"],"check-square":["check-square"],"pencil-square":["pencil-square"],"external-link-square":["external-link-square"],"share-square":["share-square"],compass:["compass"],safari:["compass","safari"],"caret-square-o-down":["caret-square-o-down"],"toggle-down":["caret-square-o-down"],"caret-square-o-up":["caret-square-o-up"],"toggle-up":["caret-square-o-up"],"caret-square-o-right":["caret-square-o-right"],"toggle-right":["caret-square-o-right"],eur:["eur"],euro:["eur"],gbp:["gbp"],usd:["usd"],dollar:["usd"],inr:["inr"],rupee:["inr"],jpy:["jpy"],cny:["jpy"],rmb:["jpy"],yen:["jpy"],rub:["rub"],ruble:["rub"],rouble:["rub"],krw:["krw"],won:["krw"],btc:["btc"],bitcoin:["btc"],file:["file"],"file-text":["file-text"],"sort-alpha-asc":["sort-alpha-asc"],"sort-alpha-desc":["sort-alpha-desc"],"sort-amount-asc":["sort-amount-asc"],"sort-amount-desc":["sort-amount-desc"],"sort-numeric-asc":["sort-numeric-asc"],"sort-numeric-desc":["sort-numeric-desc"],"thumbs-up":["thumbs-up"],"thumbs-down":["thumbs-down"],"youtube-square":["youtube-square"],video:["youtube-square","youtube"],youtube:["youtube"],xing:["xing"],"xing-square":["xing-square"],"youtube-play":["youtube-play"],dropbox:["dropbox"],"stack-overflow":["stack-overflow"],instagram:["instagram"],flickr:["flickr"],adn:["adn"],bitbucket:["bitbucket"],"bitbucket-square":["bitbucket-square"],tumblr:["tumblr"],"tumblr-square":["tumblr-square"],"long-arrow-down":["long-arrow-down"],"long-arrow-up":["long-arrow-up"],"long-arrow-left":["long-arrow-left"],"long-arrow-right":["long-arrow-right"],apple:["apple"],osx:["apple"],windows:["windows"],microsoft:["windows"],android:["android"],linux:["linux"],tux:["linux"],dribbble:["dribbble"],skype:["skype"],foursquare:["foursquare"],trello:["trello"],female:["female"],woman:["female"],male:["male"],gratipay:["gratipay"],gittip:["gratipay"],"sun-o":["sun-o"],lighter:["sun-o"],brighten:["sun-o"],day:["sun-o"],"moon-o":["moon-o"],darker:["moon-o"],archive:["archive"],bug:["bug"],insect:["bug"],vk:["vk"],weibo:["weibo"],renren:["renren"],pagelines:["pagelines"],leaves:["pagelines"],tree:["pagelines","tree"],plant:["pagelines"],"stack-exchange":["stack-exchange"],"arrow-circle-o-right":["arrow-circle-o-right"],"arrow-circle-o-left":["arrow-circle-o-left"],"caret-square-o-left":["caret-square-o-left"],"toggle-left":["caret-square-o-left"],"dot-circle-o":["dot-circle-o"],wheelchair:["wheelchair"],handicap:["wheelchair"],accessibility:["wheelchair"],accessibile:["wheelchair"],"vimeo-square":["vimeo-square"],try:["try"],"turkish-lira":["try"],"plus-square-o":["plus-square-o"],"space-shuttle":["space-shuttle"],slack:["slack"],"envelope-square":["envelope-square"],wordpress:["wordpress"],openid:["openid"],university:["university"],institution:["university"],bank:["university"],"graduation-cap":["graduation-cap"],learning:["graduation-cap"],school:["graduation-cap"],student:["graduation-cap"],"mortar-board":["graduation-cap"],yahoo:["yahoo"],google:["google"],reddit:["reddit"],"reddit-square":["reddit-square"],"stumbleupon-circle":["stumbleupon-circle"],stumbleupon:["stumbleupon"],delicious:["delicious"],digg:["digg"],"pied-piper":["pied-piper"],"pied-piper-alt":["pied-piper-alt"],drupal:["drupal"],joomla:["joomla"],fax:["fax"],child:["child"],paw:["paw"],pet:["paw"],cube:["cube"],cubes:["cubes"],behance:["behance"],"behance-square":["behance-square"],steam:["steam"],"steam-square":["steam-square"],recycle:["recycle"],car:["car"],vehicle:["car","taxi","bicycle","bus","motorcycle"],automobile:["car"],taxi:["taxi"],cab:["taxi"],spotify:["spotify"],deviantart:["deviantart"],soundcloud:["soundcloud"],database:["database"],"file-pdf-o":["file-pdf-o"],"file-word-o":["file-word-o"],"file-excel-o":["file-excel-o"],"file-powerpoint-o":["file-powerpoint-o"],"file-image-o":["file-image-o"],"file-photo-o":["file-image-o"],"file-picture-o":["file-image-o"],"file-archive-o":["file-archive-o"],"file-zip-o":["file-archive-o"],"file-audio-o":["file-audio-o"],"file-sound-o":["file-audio-o"],"file-video-o":["file-video-o"],"file-movie-o":["file-video-o"],"file-code-o":["file-code-o"],vine:["vine"],codepen:["codepen"],jsfiddle:["jsfiddle"],"life-ring":["life-ring"],"life-bouy":["life-ring"],"life-buoy":["life-ring"],"life-saver":["life-ring"],"circle-o-notch":["circle-o-notch"],rebel:["rebel"],ra:["rebel"],empire:["empire"],ge:["empire"],"git-square":["git-square"],"hacker-news":["hacker-news"],"y-combinator-square":["hacker-news"],"yc-square":["hacker-news"],"tencent-weibo":["tencent-weibo"],qq:["qq"],weixin:["weixin"],wechat:["weixin"],"paper-plane":["paper-plane"],"paper-plane-o":["paper-plane-o"],"send-o":["paper-plane-o"],history:["history"],"circle-thin":["circle-thin"],header:["header"],heading:["header"],paragraph:["paragraph"],sliders:["sliders"],"share-alt":["share-alt"],"share-alt-square":["share-alt-square"],"futbol-o":["futbol-o"],"soccer-ball-o":["futbol-o"],tty:["tty"],binoculars:["binoculars"],plug:["plug"],slideshare:["slideshare"],twitch:["twitch"],yelp:["yelp"],"newspaper-o":["newspaper-o"],press:["newspaper-o"],wifi:["wifi"],calculator:["calculator"],paypal:["paypal"],"google-wallet":["google-wallet"],"cc-visa":["cc-visa"],"cc-mastercard":["cc-mastercard"],"cc-discover":["cc-discover"],"cc-amex":["cc-amex"],amex:["cc-amex"],"cc-paypal":["cc-paypal"],"cc-stripe":["cc-stripe"],"bell-slash":["bell-slash"],"bell-slash-o":["bell-slash-o"],copyright:["copyright"],at:["at"],eyedropper:["eyedropper"],"paint-brush":["paint-brush"],"birthday-cake":["birthday-cake"],"area-chart":["area-chart"],"pie-chart":["pie-chart"],"line-chart":["line-chart"],lastfm:["lastfm"],"lastfm-square":["lastfm-square"],"toggle-off":["toggle-off"],"toggle-on":["toggle-on"],bicycle:["bicycle"],bike:["bicycle","motorcycle"],bus:["bus"],ioxhost:["ioxhost"],angellist:["angellist"],cc:["cc"],ils:["ils"],shekel:["ils"],sheqel:["ils"],meanpath:["meanpath"],buysellads:["buysellads"],connectdevelop:["connectdevelop"],dashcube:["dashcube"],forumbee:["forumbee"],leanpub:["leanpub"],sellsy:["sellsy"],shirtsinbulk:["shirtsinbulk"],simplybuilt:["simplybuilt"],skyatlas:["skyatlas"],"cart-plus":["cart-plus"],shopping:["cart-plus","cart-arrow-down"],"cart-arrow-down":["cart-arrow-down"],diamond:["diamond"],gem:["diamond"],gemstone:["diamond"],ship:["ship"],boat:["ship"],sea:["ship"],"user-secret":["user-secret"],whisper:["user-secret"],spy:["user-secret"],incognito:["user-secret"],motorcycle:["motorcycle"],"street-view":["street-view"],heartbeat:["heartbeat"],ekg:["heartbeat"],"facebook-official":["facebook-official"],"pinterest-p":["pinterest-p"],whatsapp:["whatsapp"],server:["server"],"user-plus":["user-plus"],"user-times":["user-times"],bed:["bed"],viacoin:["viacoin"],train:["train"],subway:["subway"],medium:["medium"],"y-combinator":["y-combinator"],yc:["y-combinator"],"optin-monster":["optin-monster"],opencart:["opencart"],expeditedssl:["expeditedssl"],"battery-full":["battery-full"],"battery-4":["battery-full"],"battery-three-quarters":["battery-three-quarters"],"battery-3":["battery-three-quarters"],"battery-half":["battery-half"],"battery-2":["battery-half"],"battery-quarter":["battery-quarter"],"battery-1":["battery-quarter"],"battery-empty":["battery-empty"],"battery-0":["battery-empty"],"mouse-pointer":["mouse-pointer"],"i-cursor":["i-cursor"],"object-group":["object-group"],"object-ungroup":["object-ungroup"],"sticky-note":["sticky-note"],"sticky-note-o":["sticky-note-o"],"cc-jcb":["cc-jcb"],"cc-diners-club":["cc-diners-club"],clone:["clone"],"balance-scale":["balance-scale"],"hourglass-o":["hourglass-o"],"hourglass-start":["hourglass-start"],"hourglass-1":["hourglass-start"],"hourglass-half":["hourglass-half"],"hourglass-2":["hourglass-half"],"hourglass-end":["hourglass-end"],"hourglass-3":["hourglass-end"],hourglass:["hourglass"],"hand-rock-o":["hand-rock-o"],"hand-grab-o":["hand-rock-o"],"hand-paper-o":["hand-paper-o"],"hand-stop-o":["hand-paper-o"],"hand-scissors-o":["hand-scissors-o"],"hand-lizard-o":["hand-lizard-o"],"hand-spock-o":["hand-spock-o"],"hand-pointer-o":["hand-pointer-o"],"hand-peace-o":["hand-peace-o"],trademark:["trademark"],registered:["registered"],"creative-commons":["creative-commons"],gg:["gg"],"gg-circle":["gg-circle"],tripadvisor:["tripadvisor"],odnoklassniki:["odnoklassniki"],"odnoklassniki-square":["odnoklassniki-square"],"get-pocket":["get-pocket"],"wikipedia-w":["wikipedia-w"],browser:["safari","chrome","firefox","internet-explorer","edge"],chrome:["chrome"],firefox:["firefox"],opera:["opera"],"internet-explorer":["internet-explorer"],ie:["internet-explorer","edge"],television:["television"],tv:["television"],contao:["contao"],"500px":["500px"],amazon:["amazon"],"calendar-plus-o":["calendar-plus-o"],"calendar-minus-o":["calendar-minus-o"],"calendar-times-o":["calendar-times-o"],"calendar-check-o":["calendar-check-o"],industry:["industry"],factory:["industry"],"map-pin":["map-pin"],"map-signs":["map-signs"],"map-o":["map-o"],commenting:["commenting"],"commenting-o":["commenting-o"],houzz:["houzz"],vimeo:["vimeo"],"black-tie":["black-tie"],fonticons:["fonticons"],"reddit-alien":["reddit-alien"],edge:["edge"],"credit-card-alt":["credit-card-alt"],"credit card":["credit-card-alt"],codiepie:["codiepie"],modx:["modx"],"fort-awesome":["fort-awesome"],usb:["usb"],"product-hunt":["product-hunt"],mixcloud:["mixcloud"],scribd:["scribd"],"pause-circle":["pause-circle"],"pause-circle-o":["pause-circle-o"],"stop-circle":["stop-circle"],"stop-circle-o":["stop-circle-o"],"shopping-bag":["shopping-bag"],"shopping-basket":["shopping-basket"],hashtag:["hashtag"],bluetooth:["bluetooth"],"bluetooth-b":["bluetooth-b"],percent:["percent"]},unicode:{music:"f001",search:"f002","envelope-o":"f003",heart:"f004",star:"f005","star-o":"f006",user:"f007",film:"f008","th-large":"f009",th:"f00a","th-list":"f00b",check:"f00c",times:"f00d","search-plus":"f00e","search-minus":"f010","power-off":"f011",signal:"f012",cog:"f013","trash-o":"f014",home:"f015","file-o":"f016","clock-o":"f017",road:"f018",download:"f019","arrow-circle-o-down":"f01a","arrow-circle-o-up":"f01b",inbox:"f01c","play-circle-o":"f01d",repeat:"f01e",refresh:"f021","list-alt":"f022",lock:"f023",flag:"f024",headphones:"f025","volume-off":"f026","volume-down":"f027","volume-up":"f028",qrcode:"f029",barcode:"f02a",tag:"f02b",tags:"f02c",book:"f02d",bookmark:"f02e",print:"f02f",camera:"f030",font:"f031",bold:"f032",italic:"f033","text-height":"f034","text-width":"f035","align-left":"f036","align-center":"f037","align-right":"f038","align-justify":"f039",list:"f03a",outdent:"f03b",indent:"f03c","video-camera":"f03d","picture-o":"f03e",pencil:"f040","map-marker":"f041",adjust:"f042",tint:"f043","pencil-square-o":"f044","share-square-o":"f045","check-square-o":"f046",arrows:"f047","step-backward":"f048","fast-backward":"f049",backward:"f04a",play:"f04b",pause:"f04c",stop:"f04d",forward:"f04e","fast-forward":"f050","step-forward":"f051",eject:"f052","chevron-left":"f053","chevron-right":"f054","plus-circle":"f055","minus-circle":"f056","times-circle":"f057","check-circle":"f058","question-circle":"f059","info-circle":"f05a","times-circle-o":"f05c","check-circle-o":"f05d",ban:"f05e","arrow-left":"f060","arrow-right":"f061","arrow-up":"f062","arrow-down":"f063",share:"f064",expand:"f065",compress:"f066",plus:"f067",minus:"f068",asterisk:"f069","exclamation-circle":"f06a",gift:"f06b",leaf:"f06c",fire:"f06d",eye:"f06e","eye-slash":"f070","exclamation-triangle":"f071",plane:"f072",calendar:"f073",random:"f074",comment:"f075",magnet:"f076","chevron-up":"f077","chevron-down":"f078",retweet:"f079","shopping-cart":"f07a",folder:"f07b","folder-open":"f07c","arrows-v":"f07d","arrows-h":"f07e","bar-chart":"f080","twitter-square":"f081","facebook-square":"f082","camera-retro":"f083",key:"f084",cogs:"f085",comments:"f086","thumbs-o-up":"f087","thumbs-o-down":"f088","star-half":"f089","heart-o":"f08a","sign-out":"f08b","linkedin-square":"f08c","thumb-tack":"f08d","external-link":"f08e","sign-in":"f090",trophy:"f091","github-square":"f092",upload:"f093","lemon-o":"f094",phone:"f095","square-o":"f096","bookmark-o":"f097","phone-square":"f098",twitter:"f099",facebook:"f09a",github:"f09b",unlock:"f09c","credit-card":"f09d",rss:"f09e","hdd-o":"f0a0",bullhorn:"f0a1",bell:"f0f3",certificate:"f0a3","hand-o-right":"f0a4","hand-o-left":"f0a5","hand-o-up":"f0a6","hand-o-down":"f0a7","arrow-circle-left":"f0a8","arrow-circle-right":"f0a9","arrow-circle-up":"f0aa","arrow-circle-down":"f0ab",globe:"f0ac",wrench:"f0ad",tasks:"f0ae",filter:"f0b0",briefcase:"f0b1","arrows-alt":"f0b2",users:"f0c0",link:"f0c1",cloud:"f0c2",flask:"f0c3",scissors:"f0c4","files-o":"f0c5",paperclip:"f0c6","floppy-o":"f0c7",square:"f0c8",bars:"f0c9","list-ul":"f0ca","list-ol":"f0cb",strikethrough:"f0cc",underline:"f0cd",table:"f0ce",magic:"f0d0",truck:"f0d1",pinterest:"f0d2","pinterest-square":"f0d3","google-plus-square":"f0d4","google-plus":"f0d5",money:"f0d6","caret-down":"f0d7","caret-up":"f0d8","caret-left":"f0d9","caret-right":"f0da",columns:"f0db",sort:"f0dc","sort-desc":"f0dd","sort-asc":"f0de",envelope:"f0e0",linkedin:"f0e1",undo:"f0e2",gavel:"f0e3",tachometer:"f0e4","comment-o":"f0e5","comments-o":"f0e6",bolt:"f0e7",sitemap:"f0e8",umbrella:"f0e9",clipboard:"f0ea","lightbulb-o":"f0eb",exchange:"f0ec","cloud-download":"f0ed","cloud-upload":"f0ee","user-md":"f0f0",stethoscope:"f0f1",suitcase:"f0f2","bell-o":"f0a2",coffee:"f0f4",cutlery:"f0f5","file-text-o":"f0f6","building-o":"f0f7","hospital-o":"f0f8",ambulance:"f0f9",medkit:"f0fa","h-square":"f0fd","plus-square":"f0fe","angle-double-left":"f100","angle-double-right":"f101","angle-double-up":"f102","angle-double-down":"f103","angle-left":"f104","angle-right":"f105","angle-up":"f106","angle-down":"f107",desktop:"f108",laptop:"f109",tablet:"f10a",mobile:"f10b","circle-o":"f10c","quote-left":"f10d","quote-right":"f10e",spinner:"f110",circle:"f111",reply:"f112","github-alt":"f113","folder-o":"f114","folder-open-o":"f115","smile-o":"f118","frown-o":"f119","meh-o":"f11a",gamepad:"f11b","keyboard-o":"f11c","flag-o":"f11d","flag-checkered":"f11e",terminal:"f120",code:"f121","reply-all":"f122","star-half-o":"f123","location-arrow":"f124",crop:"f125","code-fork":"f126","chain-broken":"f127",question:"f128",info:"f129",exclamation:"f12a",superscript:"f12b",subscript:"f12c",eraser:"f12d","puzzle-piece":"f12e",microphone:"f130","microphone-slash":"f131",shield:"f132","calendar-o":"f133","fire-extinguisher":"f134",rocket:"f135",maxcdn:"f136","chevron-circle-left":"f137","chevron-circle-right":"f138","chevron-circle-up":"f139","chevron-circle-down":"f13a",html5:"f13b",css3:"f13c",anchor:"f13d","unlock-alt":"f13e",bullseye:"f140","ellipsis-h":"f141","ellipsis-v":"f142","rss-square":"f143","play-circle":"f144",ticket:"f145","minus-square":"f146","minus-square-o":"f147","level-up":"f148","level-down":"f149","check-square":"f14a","pencil-square":"f14b","external-link-square":"f14c","share-square":"f14d",compass:"f14e","caret-square-o-down":"f150","caret-square-o-up":"f151","caret-square-o-right":"f152",eur:"f153",gbp:"f154",usd:"f155",inr:"f156",jpy:"f157",rub:"f158",krw:"f159",btc:"f15a",file:"f15b","file-text":"f15c","sort-alpha-asc":"f15d","sort-alpha-desc":"f15e","sort-amount-asc":"f160","sort-amount-desc":"f161","sort-numeric-asc":"f162","sort-numeric-desc":"f163","thumbs-up":"f164","thumbs-down":"f165","youtube-square":"f166",youtube:"f167",xing:"f168","xing-square":"f169","youtube-play":"f16a",dropbox:"f16b","stack-overflow":"f16c",instagram:"f16d",flickr:"f16e",adn:"f170",bitbucket:"f171","bitbucket-square":"f172",tumblr:"f173","tumblr-square":"f174","long-arrow-down":"f175","long-arrow-up":"f176","long-arrow-left":"f177","long-arrow-right":"f178",apple:"f179",windows:"f17a",android:"f17b",linux:"f17c",dribbble:"f17d",skype:"f17e",foursquare:"f180",trello:"f181",female:"f182",male:"f183",gratipay:"f184","sun-o":"f185","moon-o":"f186",archive:"f187",bug:"f188",vk:"f189",weibo:"f18a",renren:"f18b",pagelines:"f18c","stack-exchange":"f18d","arrow-circle-o-right":"f18e","arrow-circle-o-left":"f190","caret-square-o-left":"f191","dot-circle-o":"f192",wheelchair:"f193","vimeo-square":"f194",try:"f195","plus-square-o":"f196","space-shuttle":"f197",slack:"f198","envelope-square":"f199",wordpress:"f19a",openid:"f19b",university:"f19c","graduation-cap":"f19d",yahoo:"f19e",google:"f1a0",reddit:"f1a1","reddit-square":"f1a2","stumbleupon-circle":"f1a3",stumbleupon:"f1a4",delicious:"f1a5",digg:"f1a6","pied-piper":"f1a7","pied-piper-alt":"f1a8",drupal:"f1a9",joomla:"f1aa",language:"f1ab",fax:"f1ac",building:"f1ad",child:"f1ae",paw:"f1b0",spoon:"f1b1",cube:"f1b2",cubes:"f1b3",behance:"f1b4","behance-square":"f1b5",steam:"f1b6","steam-square":"f1b7",recycle:"f1b8",car:"f1b9",taxi:"f1ba",tree:"f1bb",spotify:"f1bc",deviantart:"f1bd",soundcloud:"f1be",database:"f1c0","file-pdf-o":"f1c1","file-word-o":"f1c2","file-excel-o":"f1c3","file-powerpoint-o":"f1c4","file-image-o":"f1c5","file-archive-o":"f1c6","file-audio-o":"f1c7","file-video-o":"f1c8","file-code-o":"f1c9",vine:"f1ca",codepen:"f1cb",jsfiddle:"f1cc","life-ring":"f1cd","circle-o-notch":"f1ce",rebel:"f1d0",empire:"f1d1","git-square":"f1d2",git:"f1d3","hacker-news":"f1d4","tencent-weibo":"f1d5",qq:"f1d6",weixin:"f1d7","paper-plane":"f1d8","paper-plane-o":"f1d9",history:"f1da","circle-thin":"f1db",header:"f1dc",paragraph:"f1dd",sliders:"f1de","share-alt":"f1e0","share-alt-square":"f1e1","futbol-o":"f1e3",tty:"f1e4",binoculars:"f1e5",plug:"f1e6",slideshare:"f1e7",twitch:"f1e8",yelp:"f1e9","newspaper-o":"f1ea",wifi:"f1eb",calculator:"f1ec",paypal:"f1ed","google-wallet":"f1ee","cc-visa":"f1f0","cc-mastercard":"f1f1","cc-discover":"f1f2","cc-amex":"f1f3","cc-paypal":"f1f4","cc-stripe":"f1f5","bell-slash":"f1f6","bell-slash-o":"f1f7",trash:"f1f8",copyright:"f1f9",at:"f1fa",eyedropper:"f1fb","paint-brush":"f1fc","birthday-cake":"f1fd","area-chart":"f1fe","pie-chart":"f200","line-chart":"f201",lastfm:"f202","lastfm-square":"f203","toggle-off":"f204","toggle-on":"f205",bicycle:"f206",bus:"f207",ioxhost:"f208",angellist:"f209",cc:"f20a",ils:"f20b",meanpath:"f20c",buysellads:"f20d",connectdevelop:"f20e",dashcube:"f210",forumbee:"f211",leanpub:"f212",sellsy:"f213",shirtsinbulk:"f214",simplybuilt:"f215",skyatlas:"f216","cart-plus":"f217","cart-arrow-down":"f218",diamond:"f219",ship:"f21a","user-secret":"f21b",motorcycle:"f21c","street-view":"f21d",heartbeat:"f21e","facebook-official":"f230","pinterest-p":"f231",whatsapp:"f232",server:"f233","user-plus":"f234","user-times":"f235",bed:"f236",viacoin:"f237",train:"f238",subway:"f239",medium:"f23a","y-combinator":"f23b","optin-monster":"f23c",opencart:"f23d",expeditedssl:"f23e","battery-full":"f240","battery-three-quarters":"f241","battery-half":"f242","battery-quarter":"f243","battery-empty":"f244","mouse-pointer":"f245","i-cursor":"f246","object-group":"f247","object-ungroup":"f248","sticky-note":"f249","sticky-note-o":"f24a","cc-jcb":"f24b","cc-diners-club":"f24c",clone:"f24d","balance-scale":"f24e","hourglass-o":"f250","hourglass-start":"f251","hourglass-half":"f252","hourglass-end":"f253",hourglass:"f254","hand-rock-o":"f255","hand-paper-o":"f256","hand-scissors-o":"f257","hand-lizard-o":"f258","hand-spock-o":"f259","hand-pointer-o":"f25a","hand-peace-o":"f25b",trademark:"f25c",registered:"f25d","creative-commons":"f25e",gg:"f260","gg-circle":"f261",tripadvisor:"f262",odnoklassniki:"f263","odnoklassniki-square":"f264","get-pocket":"f265","wikipedia-w":"f266",safari:"f267",chrome:"f268",firefox:"f269",opera:"f26a","internet-explorer":"f26b",television:"f26c",contao:"f26d","500px":"f26e",amazon:"f270","calendar-plus-o":"f271","calendar-minus-o":"f272","calendar-times-o":"f273","calendar-check-o":"f274",industry:"f275","map-pin":"f276","map-signs":"f277","map-o":"f278",map:"f279",commenting:"f27a","commenting-o":"f27b",houzz:"f27c",vimeo:"f27d","black-tie":"f27e",fonticons:"f280","reddit-alien":"f281",edge:"f282","credit-card-alt":"f283",codiepie:"f284",modx:"f285","fort-awesome":"f286",usb:"f287","product-hunt":"f288",mixcloud:"f289",scribd:"f28a","pause-circle":"f28b","pause-circle-o":"f28c","stop-circle":"f28d","stop-circle-o":"f28e","shopping-bag":"f290","shopping-basket":"f291",hashtag:"f292",bluetooth:"f293","bluetooth-b":"f294",percent:"f295"}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublishedState=t.ParticipantAudiencesByType=t.ParticipantAudience=t.InstructorAudience=t.InstructionType=t.CurriculumUmbrella=t.CourseOfferingCategories=void 0;t.PublishedState={in_development:"in_development",pilot:"pilot",beta:"beta",preview:"preview",stable:"stable",sunsetting:"sunsetting",deprecated:"deprecated"};t.InstructionType={teacher_led:"teacher_led",self_paced:"self_paced"};t.ParticipantAudience={facilitator:"facilitator",teacher:"teacher",student:"student"};t.InstructorAudience={universal_instructor:"universal_instructor",plc_reviewer:"plc_reviewer",facilitator:"facilitator",teacher:"teacher"};t.CurriculumUmbrella={CSF:"CSF",CSD:"CSD",CSP:"CSP",CSA:"CSA",CSC:"CSC",HOC:"HOC",CSA_self_paced_pl:"CSA Self Paced PL",CSP_self_paced_pl:"CSP Self Paced PL",CSD_self_paced_pl:"CSD Self Paced PL",CSF_self_paced_pl:"CSF Self Paced PL",CSP_virtual_pl:"CSP Virtual PL",CSD_virtual_pl:"CSD Virtual PL",CSA_virtual_pl:"CSA Virtual PL",student_self_paced:"Student Self Paced Courses"};t.CourseOfferingCategories=["pl_self_paced","pl_virtual","pl_other","full_course","csf","csc","aiml","hoc","csf_international","math","twenty_hour","other"];t.ParticipantAudiencesByType={student:["student"],teacher:["student","teacher"],facilitator:["student","teacher","facilitator"]}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaneSection=t.PaneButton=void 0;var r,o=f(n(1)),i=f(n(2)),a=f(n(103)),s=f(n(9)),l=f(n(1793)),u=f(n(1617)),c=f(n(802)),d=["hasFocus","teacherOnly","style","isMinecraft","className"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.hasFocus,n=e.teacherOnly,r=e.style,i=e.isMinecraft,a=e.className,l=m(e,d);return o.default.createElement("div",h({},l,{className:(0,s.default)(u.default.purpleHeader,!t&&u.default.purpleHeaderUnfocused,n&&u.default.teacherBlueHeader,n&&!t&&u.default.teacherHeaderUnfocused,i&&u.default.minecraftHeader,a),style:r}))},t}(o.default.Component);function _(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.styleKeeperContext,delete t.radiumConfigContext,t}v(b,"propTypes",{hasFocus:i.default.bool.isRequired,style:i.default.object,teacherOnly:i.default.bool,isMinecraft:i.default.bool,className:i.default.string});var w=(0,a.default)((v(r=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this;return o.default.createElement("div",h({},_(this.props),{ref:function(t){return e.root=t},style:this.props.style,className:(0,s.default)(l.default.paneSection,this.props.className)}))},t}(o.default.Component),"propTypes",{style:i.default.object,className:i.default.string}),r));t.PaneSection=w;var E=(0,a.default)((function(e){var t=e.isRtl,n=e.isPressed,r=e.pressedLabel,i=e.iconClass,a=e.hiddenImage,u=e.label,d=e.leftJustified,f=e.isMinecraft,p=e.headerHasFocus,m=e.isDisabled,g=e.style,y=e.className,v=!(n?r:u)||!i&&!a,b=(0,s.default)(l.default.headerButtonIcon,t&&l.default.headerButtonIconRtl,v&&l.default.headerButtonIconOrLabelHidden),_=(0,s.default)(l.default.headerButton,t!==!!d&&l.default.headerButtonRtl,f&&l.default.headerButtonMinecraft,n&&l.default.headerButtonPressed,!p&&l.default.headerButtonUnfocused,m&&l.default.headerButtonDisabled,y);return o.default.createElement("div",{className:_,role:"button",tabIndex:"0",id:e.id,style:g,onKeyDown:e.isDisabled?function(){}:function(t){var n=e.onClick;" "!==t.key&&"Enter"!==t.key&&"Spacebar"!==t.key||n()},onClick:e.isDisabled?function(){}:e.onClick},o.default.createElement("span",{className:l.default.headerButtonSpan},e.hiddenImage,function(){var t=e.iconClass,n=e.icon;if(t)return o.default.createElement("i",{className:(0,s.default)(t,b)});if(n){var r=n.type;return o.default.createElement(r,h({},n.props,{className:b,style:n.props.style}),n.props.children)}}(),o.default.createElement("span",{style:c.default.noPadding},u)))}));t.PaneButton=E,E.propTypes={headerHasFocus:i.default.bool.isRequired,iconClass:i.default.string,icon:i.default.element,label:i.default.string.isRequired,isRtl:i.default.bool.isRequired,leftJustified:i.default.bool,isDisabled:i.default.bool,isPressed:i.default.bool,pressedLabel:i.default.string,onClick:i.default.func,hiddenImage:i.default.element,isMinecraft:i.default.bool,id:i.default.string,style:i.default.object};var O=(0,a.default)(b);t.default=O},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.children;return o.default.createElement("div",{style:{display:"flex",flexFlow:"row",justifyContent:"center",marginTop:20,marginBottom:20}},t)};a.propTypes={children:r.default.any};var s=a;t.default=s,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=n(32))&&o.__esModule?o:{default:o};function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}t.default=function(e){if((0,i.default)(".project_admin").length&&e.isProjectLevel()&&e.isOwner()&&(e.isFrozen()?((0,i.default)(".project_admin").html((0,i.default)('<span>&#x2744; Frozen! To use as an example, copy this id: <input type="text" disabled value="'+e.getCurrentId()+'"/><div><button id="unfreeze" class="btn btn-default btn-sm">Unfreeze</button><div></span>')),(0,i.default)("#unfreeze").click((function(){e.unfreeze((function(){window.location.reload()}))}))):((0,i.default)(".project_admin").html((0,i.default)('<button id="freeze" class="btn btn-default btn-sm">Freeze for use as an exemplar &#x2744;</button>')),(0,i.default)("#freeze").click((function(){e.freeze((function(){window.location.reload()}))})))),e.isPublished()||(0,i.default)("#unpublished_warning").show(),(0,i.default)("#feature_project").length&&e.isProjectLevel()&&((0,i.default)("#feature_project").click((function(){var t="/featured_projects/".concat(e.getCurrentId(),"/feature");i.default.ajax({url:t,type:"PUT",dataType:"json",success:function(e){(0,i.default)("#unfeature_project").show(),(0,i.default)("#feature_project").hide()},error:function(e){alert("Shucks. Something went wrong - this project wasn't featured.")}})})),(0,i.default)("#unfeature_project").click((function(){var t="/featured_projects/".concat(e.getCurrentId(),"/unfeature");i.default.ajax({url:t,type:"PUT",dataType:"json",success:function(e){(0,i.default)("#unfeature_project").hide(),(0,i.default)("#feature_project").show()},error:function(e){alert("Shucks. Something went wrong - this project is still featured.")}})}))),(0,i.default)(".admin-project-sharing").length&&(e.isProjectLevel()||!e.shouldHideShareAndRemix())){var t=e.getSharingDisabled(),n=e.hasPrivacyProfanityViolation(),r=e.getAbuseScore();(0,i.default)(".admin-abuse-score").text(r),(0,i.default)("#admin-abuse-reset").click((function(){e.adminResetAbuseScore(0)})),(0,i.default)("#admin-abuse-buffer").click((function(){e.adminResetAbuseScore(-50)}));var o=e.exceedsAbuseThreshold();if(t||n||o){if((0,i.default)(".blocked").show(),(0,i.default)(".blocked-reasons").show(),(0,i.default)(".unblocked").hide(),t&&(0,i.default)(".admin-sharing").show(),n){(0,i.default)(".privacy-profanity").show();var s=e.privacyProfanityDetailsEnglish();s&&((0,i.default)(".eng-flagged-text").text(s),(0,i.default)(".privacy-profanity-details-english").show());var u=e.privacyProfanityDetailsIntl(),c=e.privacyProfanitySecondLanguage();u&&c&&((0,i.default)(".intl-flagged-text").text(u),(0,i.default)(".intl-flagged-language").text(c),(0,i.default)(".privacy-profanity-details-intl").show())}o&&(15===r?((0,i.default)(".abusive-image").show(),(0,i.default)(".image-mod-controls").show()):(0,i.default)(".reported-abuse").show())}else(0,i.default)(".unblocked").show(),(0,i.default)(".blocked").hide(),(0,i.default)(".blocked-reasons").hide()}(0,i.default)("#disable-auto-moderation").click(l(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.disableAutoContentModeration();case 2:(0,i.default)("#disable-auto-moderation").hide(),(0,i.default)("#moderation-explanation").hide(),(0,i.default)("#enable-auto-moderation").show();case 5:case"end":return t.stop()}}),t)})))),(0,i.default)("#enable-auto-moderation").click(l(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.enableAutoContentModeration();case 2:(0,i.default)("#disable-auto-moderation").show(),(0,i.default)("#moderation-explanation").show(),(0,i.default)("#enable-auto-moderation").hide();case 5:case"end":return t.stop()}}),t)}))))},e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(784)),i=d(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),s=d(n(13)),l=d(n(902)),u=n(136);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e,t,n,r,i,c,d=(0,u.getStore)().getState().isRtl;return this.props.ok&&(e=a.default.createElement("div",{className:"farSide"},a.default.createElement(o.default,{type:"primary",id:"ok-button"},s.default.dialogOK()))),this.props.cancelText&&(t=a.default.createElement(o.default,{type:"cancel",id:"again-button",className:this.props.cancelButtonClass||""},this.props.cancelText)),this.props.confirmText&&(n=a.default.createElement(o.default,{type:"primary",id:"confirm-button",className:"launch",style:y.confirmButton},this.props.confirmText)),this.props.tryAgain&&(this.props.isK1&&!this.props.freePlay?i=a.default.createElement(o.default,{type:"cancel",size:"large",arrow:d?"right":"left",id:"again-button",className:"launch"},this.props.tryAgain):(this.props.shouldPromptForHint&&(r=a.default.createElement(o.default,{type:"default",id:"hint-request-button",style:y.hintButton},a.default.createElement(l.default,{size:32,style:y.lightbulb}),s.default.hintRequest())),i=a.default.createElement(o.default,{type:"cancel",id:"again-button",className:"launch"},this.props.tryAgain))),this.props.nextLevel&&(c=this.props.isK1&&!this.props.freePlay?a.default.createElement(o.default,{type:"primary",size:"large",arrow:d?"left":"right",id:"continue-button",className:"launch",style:d?y.nextButtonRtl:y.nextButton},this.props.continueText):a.default.createElement(o.default,{type:"primary",id:"continue-button",className:"launch",style:d?y.nextButtonRtl:y.nextButton},this.props.continueText)),a.default.createElement("div",null,e,t,n,r,i,c)},r}(a.Component);t.default=g,p=g,h="propTypes",m={assetUrl:i.default.func,cancelButtonClass:i.default.string,cancelText:i.default.string,confirmText:i.default.string,continueText:i.default.string,freePlay:i.default.bool,isK1:i.default.bool,nextLevel:i.default.bool,ok:i.default.bool,shouldPromptForHint:i.default.bool,tryAgain:i.default.string},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={confirmButton:{float:"right"},nextButton:{float:"right"},nextButtonRtl:{float:"left"},lightbulb:{margin:"-9px 0px -9px -5px"},hintButton:{marginRight:10}};e.exports=t.default},,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isMobileDevice=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},t.isStorageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(r){return!1}},t.isUnsupportedBrowser=function(){return function(){var e=-1!==navigator.userAgent.indexOf("MSIE"),t=navigator.appVersion.indexOf("Trident/"),n=e&&t<8,r=navigator.userAgent.match("MSIE 7.0;"),o=navigator.userAgent.match("MSIE 8.0;"),i=navigator.userAgent.match("MSIE 9.0;"),a=navigator.userAgent.match("MSIE 10.0;");return n||r||o||i||a}()||function(){var e=-1!==navigator.userAgent.lastIndexOf("Chrome/"),t=navigator.userAgent.substring(navigator.userAgent.lastIndexOf("Chrome/")+7).split(".")[0];return e&&t<33}()||function(){var e=-1!==navigator.userAgent.indexOf("Safari/"),t=navigator.userAgent.substring(navigator.userAgent.lastIndexOf("Version/")+8).split(".")[0];return e&&t<7}()||function(){var e=-1!==navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substring(navigator.userAgent.lastIndexOf("Firefox/")+8).split(".")[0];return e&&t<25}()}},(e,t,n)=>{"use strict";var r,o=(r=n(32))&&r.__esModule?r:{default:r};e.exports=function(e){var t=(0,o.default)(e.currentTarget).attr("href"),n=screen.width/2-320,r=screen.height/2-240,i=window.open(t,"Share","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=640, height=480, top="+r+", left="+n);return!i||(window.focus&&i.focus(),!1)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderExpandableImages=function(e,t){for(var n=e.querySelectorAll(".expandable-image"),a=function(e){var a=n[e];o.default.render(r.default.createElement(i.ImagePreview,{url:a.dataset.url,noVisualization:!1,showInstructionsDialog:function(){return t(a.dataset.url)}}),a)},s=0;s<n.length;s++)a(s)};var r=a(n(1)),o=a(n(36)),i=n(821);function a(e){return e&&e.__esModule?e:{default:e}}},e=>{var t=e.exports=function(){this.observed_=[]};t.prototype.observe=function(e,t){var n=e.register(t);this.observed_.push({event:e,key:n})},t.prototype.unobserveAll=function(){this.observed_.forEach((function(e){e.event.unregister(e.key)})),this.observed_.length=0}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1382)),o=a(n(1)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={position:"relative",left:"50%"},f=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).state={confettiOnTop:!1},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var a=i.prototype;return a.componentDidUpdate=function(){var e=this;this.props.active&&!this.state.confettiOnTop&&window.setTimeout((function(){return e.setState({confettiOnTop:!0})}),700)},a.render=function(){var e=this.state.confettiOnTop?1:-1,t=this.props.style||{};return o.default.createElement("div",{style:l(l(l({},d),t),{},{zIndex:e})},o.default.createElement(r.default,{active:this.props.active}))},i}(o.default.Component);t.default=f,c(f,"propTypes",{style:i.default.object,active:i.default.bool}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(27),o=n(491),i=(0,r.connect)((function(e){return{isInstructor:e.currentUser.userRoleInCourse===o.CourseRoles.Instructor}}))((function(e){var t=e.isInstructor,n=e.children;return t?n:null}));t.default=i,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(143)),a=c(n(394)),s=c(n(74)),l=c(n(13)),u=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){return o.default.createElement(i.default,{title:"Unable to rename project",isOpen:this.props.isOpen,handleClose:this.props.handleClose},o.default.createElement("h1",{style:g.title},l.default.nameFailureDialogTitle()),o.default.createElement("div",{style:g.body},o.default.createElement("p",null,l.default.nameFailureDialogBody({text:this.props.flaggedText}))),o.default.createElement(a.default,{rightAlign:!0},o.default.createElement(s.default,{__useDeprecatedTag:!0,text:l.default.ok(),onClick:this.props.handleClose,color:s.default.ButtonColor.orange,className:"no-mc ui-confirm-project-delete-button"})))},r}(o.default.Component);t.default=m,f=m,p="propTypes",h={flaggedText:r.default.string,isOpen:r.default.bool.isRequired,handleClose:r.default.func.isRequired},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g={title:{textAlign:"left",fontSize:"32px"},body:{textAlign:"left",color:u.default.black}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(1)),i=g(n(2)),a=m(n(630)),s=n(763),l=g(n(20)),u=n(786),c=g(n(13)),d=n(53),f=m(n(769)),p=g(n(768));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={1:{direction:"asc",position:0}},O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return w(b(t=e.call.apply(e,[this].concat(r))||this),"state",{sortingColumns:E,selectedOption:void 0}),w(b(t),"areAllSelected",(function(){return!t.props.rowData.find((function(e){return!e.isChecked}))})),w(b(t),"toggleSelectAll",(function(){t.props.onSelectAll(!t.areAllSelected())})),w(b(t),"selectedRowHeaderFormatter",(function(){return o.default.createElement("input",{style:S.checkbox,type:"checkbox",checked:t.areAllSelected(),onChange:t.toggleSelectAll})})),w(b(t),"selectedRowFormatter",(function(e,n){var r=n.rowData,i=t.props.onRowChecked;return o.default.createElement("input",{style:S.checkbox,type:"checkbox",checked:r.isChecked,onChange:function(){return i(r.id)}})})),w(b(t),"getColumns",(function(e){return[{property:"selected",header:{label:"",formatters:[t.selectedRowHeaderFormatter],props:{style:v(v({},u.tableLayoutStyles.headerCell),S.checkboxCell)}},cell:{formatters:[t.selectedRowFormatter],props:{style:v(v({},u.tableLayoutStyles.cell),S.checkboxCell)}}},{property:"name",header:{label:c.default.name(),props:{style:v({},u.tableLayoutStyles.headerCell)},transforms:[e]},cell:{props:{style:v({},u.tableLayoutStyles.cell)}}}]})),w(b(t),"renderOptions",(function(){var e=t.props.options.map((function(e){return o.default.createElement("option",{key:e.id,value:e.id},e.name)}));return e.unshift(o.default.createElement("option",{key:"empty",value:""})),e})),w(b(t),"getSortingColumns",(function(){return t.state.sortingColumns||{}})),w(b(t),"onSort",(function(e){t.setState({sortingColumns:f.byColumn({sortingColumns:t.state.sortingColumns,sortingOrder:{FIRST:"asc",asc:"desc",desc:"asc"},selectedColumn:e})})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,_(t,n),r.prototype.render=function(){var e=this.props,t=e.rowData,n=e.onChooseOption,r=e.descriptionText,i=e.optionsDescriptionText,l=e.titleText,c=e.children,h=e.tableDescriptionText,m=this.getSortingColumns(),g=(0,p.default)(this.getSortingColumns,this.onSort,u.sortableOptions),y=this.getColumns(g),v=f.sorter({columns:y,sortingColumns:m,sort:d.orderBy})(t);return o.default.createElement("div",{className:"ui-test-sortable-table-select"},l&&o.default.createElement(s.Heading1,null,l),o.default.createElement("div",{style:S.container},o.default.createElement("div",{style:S.leftColumn},o.default.createElement(a.Provider,{columns:y,style:S.table},o.default.createElement(a.Header,null),o.default.createElement(a.Body,{rows:v,rowKey:"id"})),h&&o.default.createElement("i",{style:S.italics},h)),o.default.createElement("div",{style:S.rightColumn},r&&o.default.createElement("div",{style:S.infoText},r),i&&o.default.createElement("label",{htmlFor:"selectOption",style:S.label},i),o.default.createElement("select",{name:"selectOption",onChange:n},this.renderOptions()),c)))},r}(o.default.Component);t.default=O,w(O,"propTypes",{rowData:i.default.arrayOf(i.default.shape({id:i.default.number.isRequired,name:i.default.string.isRequired})).isRequired,onRowChecked:i.default.func.isRequired,options:i.default.array.isRequired,onChooseOption:i.default.func.isRequired,descriptionText:i.default.string,optionsDescriptionText:i.default.string,titleText:i.default.string,children:i.default.node,onSelectAll:i.default.func,tableDescriptionText:i.default.string});var S={checkboxCell:{width:50,textAlign:"center"},checkbox:{margin:0},container:{display:"flex"},table:{width:300,margin:2},leftColumn:{width:300},rightColumn:{flex:1,paddingLeft:20},infoText:{paddingTop:5,paddingBottom:10},label:{paddingTop:10},italics:{color:l.default.purple}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(2)),o=d(n(1)),i=d(n(1339)),a=d(n(814)),s=n(197),l=n(493),u=d(n(165)),c=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e,t=this.props,n=t.description,r=t.levels,s=t.disabled,d=t.selectedSectionId,f=t.lessonName,p=(0,l.progressionsFromLevels)(r);return e=0===p.length?o.default.createElement("span",{style:y.noLevelsWarning},c.default.lessonContainsNoLevels()):1!==p.length||p[0].name?p.map((function(e,t){return o.default.createElement(i.default,{key:t,name:e.displayName,lessonName:f,levels:e.levels,disabled:s,selectedSectionId:d})})):o.default.createElement(a.default,{levels:p[0].levels,disabled:s,selectedSectionId:d}),o.default.createElement("div",null,n&&o.default.createElement("div",{style:y.summary},o.default.createElement(u.default,{markdown:n})),o.default.createElement("div",null," ",e," "))},r}(o.default.Component);t.default=g,p=g,h="propTypes",m={description:r.default.string,levels:r.default.arrayOf(s.levelWithProgressType).isRequired,disabled:r.default.bool.isRequired,selectedSectionId:r.default.number,lessonName:r.default.string},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={summary:{marginTop:20,marginBottom:30,fontSize:14,fontFamily:'"Gotham 4r", sans-serif'},noLevelsWarning:{fontSize:13}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}var s={outer:{display:"table-cell",verticalAlign:"top",width:200,height:"100%",borderRadius:2},inner:{backgroundColor:i.default.lightest_cyan,height:"100%",borderWidth:1,borderColor:i.default.cyan,borderStyle:"solid",textAlign:"center"}},l=function(e){var t=e.children;return 0===t.length?null:o.default.createElement("div",{style:s.outer,className:"teacher-info-box"},o.default.createElement("div",{style:s.inner},t))};l.propTypes={children:r.default.node.isRequired};var u=l;t.default=u,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(13)),a=n(27),s=n(1017);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p={textAlign:"center",paddingTop:5},h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){return this.props.visible?o.default.createElement("p",{style:p,className:"google-classroom-attribution"},i.default.googleClassroomAttribution()):null},r}(o.default.Component);c=h,d="propTypes",f={visible:r.default.bool.isRequired},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var m=(0,a.connect)((function(e){return{visible:(0,s.canShowGoogleShareButton)(e)}}))(h);t.default=m,e.exports=t.default},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disabledBubblesSupportArticle=void 0;t.disabledBubblesSupportArticle="https://support.code.org/hc/en-us/articles/360020520891"},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedPublishDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=p(n(2)),s=p(n(103)),l=p(n(143)),u=p(n(394)),c=p(n(74)),d=p(n(13)),f=n(754);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(t=e.call.apply(e,[this].concat(r))||this),"confirm",(function(){t.props.onConfirmPublishOverride?t.props.onConfirmPublishOverride():t.props.onConfirmPublish(t.props.projectId,t.props.projectType).then(t.props.afterPublish)})),y(m(t),"close",(function(){return t.props.onClose()})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),r.prototype.render=function(){return o.default.createElement(l.default,{isOpen:this.props.isOpen,handleClose:this.close,useUpdatedStyles:!0,style:b.dialog},o.default.createElement("h2",{className:"publish-dialog-title"},d.default.publishToPublicGallery()),o.default.createElement("div",{style:{marginBottom:10}},d.default.publishToPublicGalleryWarning()),o.default.createElement(u.default,null,o.default.createElement(c.default,{__useDeprecatedTag:!0,text:d.default.dialogCancel(),onClick:this.close,color:c.default.ButtonColor.gray,className:"no-mc"}),o.default.createElement(c.default,{__useDeprecatedTag:!0,text:d.default.publish(),onClick:this.confirm,color:c.default.ButtonColor.orange,className:"no-mc",isPending:this.props.isPublishPending,pendingText:d.default.publishPending(),id:"publish-dialog-publish-button"})))},r}(o.Component);y(v,"propTypes",{isOpen:a.default.bool.isRequired,isPublishPending:a.default.bool.isRequired,projectId:a.default.string,projectType:a.default.string,onClose:a.default.func.isRequired,onConfirmPublish:a.default.func.isRequired,onConfirmPublishOverride:a.default.func,afterPublish:a.default.func});var b={dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20}},_=(0,s.default)(v);t.UnconnectedPublishDialog=_;var w=(0,i.connect)((function(e){return{isOpen:e.publishDialog.isOpen,isPublishPending:e.publishDialog.isPublishPending,projectId:e.publishDialog.projectId,projectType:e.publishDialog.projectType}}),(function(e){return{onClose:function(){e((0,f.hidePublishDialog)())},onConfirmPublish:function(t,n){return e((0,f.publishProject)(t,n))}}}))((0,s.default)(v));t.default=w},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_PLATFORM_API_ID=void 0,t.canShowGoogleShareButton=function(e){return!!e.googlePlatformApi&&e.googlePlatformApi.loaded},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;if(t.type===l)return a(a({},e),{},{loading:!0,loadStartTime:t.startTime});if(t.type===u)return a(a({},e),{},{loading:!1,loaded:t.success});return e},t.loadGooglePlatformApi=function(){return function(e,t){return m()?(e(c(!0)),Promise.resolve()):(e((n=Date.now(),{type:l,startTime:n})),new Promise((function(n,r){!function(e,t,n){if(document.getElementById(d))h(e,t,n);else{window.___gcfg={parsetags:"explicit"};var r=document.createElement("script");r.src="https://apis.google.com/js/platform.js",r.id=d,r.onload=function(){return h(e,t,n)},r.onerror=function(){return e(p(!1,n))},document.body.appendChild(r)}}(e,t,{resolve:n,reject:r})})));var n}};var r,o=(r=n(131))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="googlePlatformApi/START_LOADING_GAPI",u="googlePlatformApi/FINISH_LOADING_GAPI",c=function(e){return{type:u,success:e}},d="GooglePlatformApiId";t.GOOGLE_PLATFORM_API_ID=d;var f={loading:!1,loaded:!1,loadStartTime:null};function p(e,t){return function(n,r){n(c(e)),e?t.resolve():t.reject("Google Platform API failed to load.");var i={success:e,load_time:y(r)};o.default.putRecord({study:"google-classroom-share-button",study_group:"v0",event:"api_load_finished",data_json:JSON.stringify(i)},{includeUserId:!0})}}function h(e,t,n){m()?e(p(!0,n)):g(t)>=15e3?e(p(!1,n)):function(e){return e().googlePlatformApi.loading}(t)&&setTimeout((function(){h(e,t,n)}),100)}function m(){return!!window.gapi&&void 0!==window.gapi.sharetoclassroom}function g(e){var t=e().googlePlatformApi.loadStartTime;return t?Date.now()-t:-1}function y(e){var t=g(e);return t>=0?Math.round(t/1e3):null}},,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=u(n(20)),s=u(n(1023));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(t){var n;return h(f(n=e.call(this,t)||this),"handleTooYoung",(function(){n.setState({modalIsOpen:!1}),n.props.handleTooYoung()})),h(f(n),"handleClose",(function(){n.setState({modalIsOpen:!1}),n.props.handleClose()})),n.state={modalIsOpen:n.props.promptForAge||n.props.showStoreDataAlert},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var o=r.prototype;return o.componentDidMount=function(){this.state.modalIsOpen||this.handleClose()},o.render=function(){if(!this.state.modalIsOpen)return i.default.createElement("div",null);var e=d(d({},g.main),{},{width:window.screen.width<500?"80%":void 0});return i.default.createElement("div",null,i.default.createElement("div",{style:g.overlay}),i.default.createElement("div",{style:e},i.default.createElement(s.default,{promptForAge:this.props.promptForAge,showStoreDataAlert:this.props.showStoreDataAlert,handleTooYoung:this.handleTooYoung,handleClose:this.handleClose})))},r}(i.Component);h(m,"propTypes",{promptForAge:o.default.bool.isRequired,showStoreDataAlert:o.default.bool.isRequired,handleClose:o.default.func.isRequired,handleTooYoung:o.default.func.isRequired});var g={main:{position:"absolute",top:50,left:"50%",transform:"translate(-50%, 0)",WebkitTransform:"translate(-50%, 0)",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px",zIndex:1050},overlay:{position:"fixed",opacity:.8,backgroundColor:a.default.black,top:0,left:0,bottom:0,right:0,zIndex:1040}},y=m;t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(36)),s=d(n(20)),l=d(n(1307)),u=d(n(13));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"handleOk",(function(){if(t.props.promptForAge){var e=a.default.findDOMNode(t.refs.age);if(""!==e.value)parseInt(e.value,10)>=13?t.props.handleClose():t.props.handleTooYoung()}else t.props.handleClose()})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){return i.default.createElement("div",null,this.props.showStoreDataAlert&&i.default.createElement("div",{style:g.dataMessage},u.default.shareWarningsStoreDataBeforeHighlight(),i.default.createElement("span",{style:g.dataMessageHighlight},u.default.shareWarningsStoreDataHighlight()),u.default.shareWarningsStoreDataAfterHighlight()),this.props.promptForAge&&i.default.createElement("div",null,i.default.createElement("div",{style:g.ageMessage},u.default.shareWarningsAge()),i.default.createElement(l.default,{style:g.ageDropdown,ref:"age"})),i.default.createElement("div",null,i.default.createElement("a",{style:g.moreInfo,target:"_blank",rel:"noopener noreferrer",href:"https://code.org/privacy"},u.default.shareWarningsMoreInfo()),i.default.createElement("button",{type:"button",style:g.ok,onClick:this.handleOk},u.default.dialogOK())))},r}(i.Component);h(m,"propTypes",{promptForAge:o.default.bool.isRequired,showStoreDataAlert:o.default.bool.isRequired,handleClose:o.default.func.isRequired,handleTooYoung:o.default.func.isRequired});var g={ageDropdown:{fontSize:14,width:220,height:30,lineHeight:"30px",marginBottom:10},dataMessage:{fontSize:18,lineHeight:"21px",marginBottom:30},dataMessageHighlight:{backgroundColor:"yellow"},ageMessage:{fontSize:18,marginBottom:10},moreInfo:{marginLeft:0,fontSize:15},ok:{backgroundColor:s.default.orange,border:"1px solid "+s.default.orange,color:s.default.white,float:"right"}},y=m;t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(818)),o=n(136),i=n(643),a=n(1350),s=n(137),l=n(33),u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var d="hint_prompt_seen_levels",f=function(){function e(e){this.studioApp_=e,this.scriptId_=void 0,this.levelId_=void 0}var t=e.prototype;return t.getUnseenHints=function(){return(0,o.getStore)().getState().authoredHints.unseenHints},t.getSeenHints=function(){return(0,o.getStore)().getState().authoredHints.seenHints},t.displayMissingBlockHints=function(e){var t=r.default.createContextualHintsFromBlocks(e);(0,o.getStore)().dispatch((0,a.displayMissingBlockHints)(t)),t.length>0&&this.getUnseenHints().length>0&&(0,o.getStore)().dispatch((0,i.setHasAuthoredHints)(!0))},t.finishHints=function(e){r.default.finishHints({time:(new Date).getTime()-this.studioApp_.initTime,attempt:this.studioApp_.attempts,testResult:this.studioApp_.lastTestResult,activityId:e&&e.activity_id,levelSourceId:e&&e.level_source_id})},t.submitHints=function(e){r.default.submitHints(e)},t.init=function(e,t,n,r){this.scriptId_=n,this.levelId_=r,e&&e.length>0&&((0,o.getStore)().dispatch((0,a.enqueueHints)(e,t)),(0,o.getStore)().dispatch((0,i.setHasAuthoredHints)(!0)))},t.showNextHint=function(){if(0!==this.getUnseenHints().length){var e=this.getUnseenHints()[0];if(this.recordUserViewedHint_(e),e.hintPath&&e.hintPath.length){var t=(0,l.createEvent)("displayHintPath");t.detail=e.hintPath,window.dispatchEvent(t)}return e}},t.recordUserViewedHint_=function(e){(0,o.getStore)().dispatch((0,a.showNextHint)(e)),r.default.recordUnfinishedHint({scriptId:this.scriptId_,levelId:this.levelId_,hintId:e.hintId,hintClass:e.hintClass,hintType:e.hintType})},t.getOnetimeHintPromptSeenLevelIds=function(){var e=(0,l.tryGetSessionStorage)(d,"[]");return JSON.parse(e||"[]")},t.onetimeHintPromptSeenThisLevel=function(){var e=this.levelId_;return this.getOnetimeHintPromptSeenLevelIds().includes(e)},t.shouldShowOnetimeHintPrompt=function(){var e=this.studioApp_.lastTestResult<s.TestResults.MINIMUM_PASS_RESULT,t=this.getUnseenHints().length>0,n=!this.onetimeHintPromptSeenThisLevel(),r=0===this.getSeenHints().length,o=this.studioApp_.attempts>=this.studioApp_.config.level.hintPromptAttemptsThreshold;return e&&t&&n&&r&&o},t.considerShowingOnetimeHintPrompt=function(){this.shouldShowOnetimeHintPrompt()&&this.showOnetimeHintPrompt()},t.showOnetimeHintPrompt=function(){var e=this.getOnetimeHintPromptSeenLevelIds();e.push(this.levelId_),(0,l.trySetSessionStorage)(d,JSON.stringify(e));var t=u.default.onetimeHintPromptTitle(),n=u.default.onetimeHintPromptMessage();(0,l.showGenericQtip)("#lightbulb",t,n,{my:"top left",at:"bottom right"})},e}();t.default=f,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(2)),a=u(n(103)),s=u(n(20)),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m={puzzleRatingButton:{fill:s.default.light_gray,cursor:"pointer",display:"inline-block",backgroundColor:s.default.lightest_gray,borderColor:s.default.light_gray,borderWidth:1,borderStyle:"solid",padding:"5px 5px 0px",":active":{backgroundColor:s.default.lighter_gray}},like:{borderRadius:"2px 0px 0px 2px"},likeDisabled:{":hover":{fill:"#333"}},likeEnabled:{fill:s.default.red,backgroundColor:s.default.lighter_gray,":hover":{fill:s.default.dark_red}},dislike:{borderRadius:"0px 2px 2px 0px"},dislikeDisabled:{":hover":{fill:s.default.dark_gray}},dislikeEnabled:{fill:s.default.cyan,backgroundColor:s.default.lighter_gray,":hover":{fill:s.default.dark_blue}}},g={puzzleRatingButton:{verticalAlign:"middle"},question:{fontSize:16,color:s.default.light_gray,marginRight:10}},y=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).state={liked:!1,disliked:!1},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var i=r.prototype;return i.like=function(){this.setState({liked:!this.state.liked,disliked:!1})},i.dislike=function(){this.setState({liked:!1,disliked:!this.state.disliked})},i.render=function(){var e=this.props.useLegacyStyles?g:m,t=this.props.label||l.default.puzzleRatingQuestion();return o.default.createElement("div",{id:"puzzleRatingButtons",style:{display:"inline-block"}},this.props.useLegacyStyles&&o.default.createElement("span",{style:e.question},t),o.default.createElement("a",{className:(this.state.liked?"enabled":"")+" "+(this.props.useLegacyStyles?"puzzle-rating-btn":""),id:"like",key:"like","data-value":"1",onClick:this.like.bind(this),style:[e.puzzleRatingButton,e.like,this.state.liked?e.likeEnabled:e.likeDisabled]},o.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"27px",height:"27px",viewBox:"0 0 26.055 21.058",enableBackground:"new 0 0 26.055 21.058",xmlSpace:"preserve",value:"1"},o.default.createElement("path",{d:"M14.426,2.5c0.986-1.348,2.83-2.5,5.092-2.5c3.613,0,6.537,3.044,6.537,6.537 c0,2.357-1.076,3.709-1.894,4.525c-0.941,0.941-8.082,8.082-9.113,9.113c-1.244,1.243-3.019,1.137-4.246-0.09 c-1.314-1.314-7.158-7.158-9.131-9.131C0.408,9.693,0,8.113,0,6.537C0,2.926,3.197,0,6.537,0c2.451,0,4.438,1.508,5.188,2.535 C12.4,3.459,13.643,3.564,14.426,2.5z"}))),o.default.createElement("a",{className:(this.state.disliked?"enabled":"")+" "+(this.props.useLegacyStyles?"puzzle-rating-btn":""),id:"dislike",key:"dislike","data-value":"0",onClick:this.dislike.bind(this),style:[e.puzzleRatingButton,e.dislike,this.state.disliked?e.dislikeEnabled:e.dislikeDisabled]},o.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"27px",height:"27px",viewBox:"382.321 292.82 26.37 26.371",enableBackground:"new 382.321 292.82 26.37 26.371",xmlSpace:"preserve"},o.default.createElement("path",{d:"M395.506,292.82c-7.282,0.002-13.184,5.904-13.185,13.185c0.001,7.283,5.902,13.184,13.185,13.186 c7.281-0.002,13.183-5.902,13.185-13.186C408.689,298.725,402.787,292.822,395.506,292.82z M402.5,313 c-1.795,1.793-4.257,2.896-6.994,2.898c-2.737-0.002-5.199-1.105-6.994-2.898c-1.794-1.795-2.897-4.258-2.897-6.994 s1.103-5.199,2.897-6.994c1.795-1.793,4.257-2.897,6.994-2.897s5.199,1.104,6.994,2.897c1.792,1.795,2.896,4.258,2.896,6.994 S404.292,311.205,402.5,313z M391.317,304.951c1.054,0,1.907-0.854,1.907-1.906c0-1.053-0.854-1.906-1.907-1.906 c-1.054,0-1.907,0.854-1.907,1.906C389.41,304.098,390.264,304.951,391.317,304.951z M399.691,304.951 c1.053,0,1.906-0.854,1.906-1.906c0-1.053-0.853-1.906-1.906-1.906s-1.907,0.854-1.907,1.906 C397.784,304.098,398.639,304.951,399.691,304.951z M391.773,311.928c1.037-1.035,2.379-1.543,3.739-1.545 c1.352,0.002,2.689,0.512,3.724,1.545c0.642,0.643,1.685,0.643,2.328,0c0.645-0.643,0.645-1.686,0-2.33 c-1.665-1.666-3.864-2.51-6.052-2.508h-0.008c-2.185,0-4.39,0.838-6.06,2.51c-0.642,0.643-0.643,1.686,0,2.328 C390.088,312.571,391.131,312.571,391.773,311.928z"}))))},r}(o.Component);f=y,p="propTypes",h={useLegacyStyles:i.default.bool,label:i.default.string},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var v=(0,a.default)(y);t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(143)),i=s(n(13)),a=n(1015);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{open:!0}),c(l(t),"handleClose",(function(){return t.setState({open:!1})})),t}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),s.prototype.render=function(){return r.default.createElement(o.default,{isOpen:this.state.open,uncloseable:!0},r.default.createElement("div",{style:f.main},r.default.createElement("div",{style:f.paragraph},i.default.disabledProgress1()),r.default.createElement("div",{style:f.paragraph},i.default.disabledProgress2()),r.default.createElement("div",{style:f.paragraph},i.default.disabledProgress3()),r.default.createElement("div",{style:f.paragraph},r.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.disabledBubblesSupportArticle},i.default.learnMore())),r.default.createElement("div",{style:f.button},r.default.createElement("button",{type:"button",onClick:this.handleClose},i.default.dialogOK()))))},s}(r.default.Component);t.default=d;var f={main:{fontSize:16,margin:15},paragraph:{paddingTop:5,paddingBottom:5},button:{textAlign:"right"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(787)),i=s(n(13)),a=n(1015);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){var t,n;function s(t){var n,r,o,i;n=e.call(this,t)||this,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),i=function(){n.setState({visible:!1}),sessionStorage.setItem("disabledBubblesAlertSeen",!0)},(o="onClose")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var a=sessionStorage.getItem("disabledBubblesAlertSeen");return n.state={visible:!a},n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),s.prototype.render=function(){return this.state.visible?r.default.createElement(o.default,{onClose:this.onClose,type:"error"},r.default.createElement("div",null,r.default.createElement("span",{style:c.bold},i.default.disabledButtonsWarning()+" "),r.default.createElement("span",null,i.default.disabledButtonsInfo()+" "),r.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.disabledBubblesSupportArticle},i.default.learnMore()))):null},s}(r.default.Component);t.default=u;var c={bold:{fontFamily:'"Gotham 5r", sans-serif'}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(9)),a=l(n(59)),s=n(33);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(u(t=e.call.apply(e,[this].concat(r))||this),"state",{open:"closed"!==(0,s.tryGetLocalStorage)("teacher-panel","open")}),d(u(t),"logToFirehose",(function(){if(t.props.logToFirehose){var e=t.state.open?"open":"close";t.props.logToFirehose(e)}})),d(u(t),"hide",(function(){t.setState({open:!1},t.logToFirehose),(0,s.trySetLocalStorage)("teacher-panel","closed")})),d(u(t),"show",(function(){t.setState({open:!0},t.logToFirehose),(0,s.trySetLocalStorage)("teacher-panel","open")})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){return o.default.createElement("div",{className:(0,i.default)("teacher-panel",{hidden:!this.state.open})},o.default.createElement("div",{className:"hide-handle"},o.default.createElement(a.default,{icon:"chevron-right",onClick:this.hide})),o.default.createElement("div",{className:"show-handle"},o.default.createElement(a.default,{icon:"chevron-left",onClick:this.show})),this.props.children)},r}(o.default.Component);t.default=f,d(f,"propTypes",{children:r.default.node,logToFirehose:r.default.func}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(1)),o=d(n(2)),i=d(n(103)),a=d(n(20)),s=d(n(13)),l=d(n(644)),u=d(n(59)),c=n(858);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"getRowLink",(function(e){var n,r="?section_id=".concat(t.props.sectionId,"&user_id=").concat(e);return(null!==(n=t.props.levelsWithProgress)&&void 0!==n&&n.length?t.props.levelsWithProgress[0].bonus?"extras":t.props.levelsWithProgress[0].levelNumber:t.props.unitName)+r})),h(f(t),"getRowStyle",(function(e,t){return e===t?[g.tr,g.selected]:g.tr})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),o.prototype.render=function(){var e=this,t=this.props,n=t.students,o=t.onSelectUser,i=t.selectedUserId,a=t.levelsWithProgress;return r.default.createElement("table",{style:g.table,className:"student-table"},r.default.createElement("tbody",null,r.default.createElement("tr",{style:this.getRowStyle(i,null),onClick:function(){return o(null)}},r.default.createElement("td",{style:g.meRow},s.default.studentTableTeacherDemo())),n.map((function(t){return r.default.createElement("tr",{key:"tr-".concat(t.id),style:e.getRowStyle(i,t.id),onClick:function(){return o(t.id)}},r.default.createElement("td",{key:"td-".concat(t.id),style:g.td},r.default.createElement("div",{style:g.studentTableRow},!(null==a||!a.length)&&r.default.createElement(l.default,{level:a.find((function(e){return t.id===e.userId})),disabled:!0,hideTooltips:!0,hideAssessmentBadge:!0}),r.default.createElement("div",{style:g.name},t.name,r.default.createElement("a",{href:e.getRowLink(t.id),target:"_blank",rel:"noopener noreferrer",style:g.linkIcon},r.default.createElement(u.default,{icon:"external-link"}))))))}))))},o}(r.default.Component);h(m,"propTypes",{students:o.default.arrayOf(c.studentShape).isRequired,onSelectUser:o.default.func.isRequired,selectedUserId:o.default.number,levelsWithProgress:o.default.arrayOf(c.levelWithProgress),sectionId:o.default.number,unitName:o.default.string});var g={table:{width:"90%",margin:"auto"},tr:{height:41,color:a.default.cyan,border:"1px solid ".concat(a.default.lighter_cyan),backgroundColor:a.default.lightest_gray,":hover":{backgroundColor:a.default.lighter_cyan,cursor:"pointer"}},td:{padding:1},selected:{fontFamily:'"Gotham 7r", sans-serif',color:a.default.white,backgroundColor:a.default.light_cyan},studentTableRow:{display:"flex",alignItems:"center",width:"100%"},meRow:{padding:"1px 1px 1px 5px"},name:{paddingLeft:5,margin:"1px 1px 1px 0",flexGrow:1},linkIcon:{marginLeft:10}},y=(0,i.default)(m);t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(2)),o=p(n(1)),i=p(n(13)),a=p(n(74)),s=n(385),l=p(n(103)),u=p(n(59)),c=p(n(644)),d=p(n(1031)),f=n(858);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,l.default)(u.default),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(h(t=e.call.apply(e,[this].concat(r))||this),"onUnsubmit",(function(e){$.ajax({url:"/user_levels/".concat(e),method:"PUT",data:{user_level:{best_result:1,submitted:!1}}}).done((function(e){location.reload()})).fail((function(e){return console.error(e)}))})),g(h(t),"nextStudent",(function(){var e=t.props,n=e.students,r=e.selectedUserId,o=e.onSelectUser,i=n.findIndex((function(e){return e.id===r}));i===n.length-1?o(null):o(n[i+1].id)})),g(h(t),"previousStudent",(function(){var e=t.props,n=e.students,r=e.selectedUserId,o=e.onSelectUser,i=n.findIndex((function(e){return e.id===r}));o(0===i?null:-1===i?n[n.length-1].id:n[i-1].id)})),g(h(t),"getSelectedUser",(function(){var e=t.props,n=e.students,r=e.selectedUserId,o=e.teacherId,a=n.find((function(e){return r===e.id}));return a||{id:o,name:i.default.studentTableTeacherDemo()}})),g(h(t),"getLevelWithProgressForUser",(function(e){var n=t.props.levelsWithProgress;return n?n.find((function(t){return e===t.userId})):null})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n),r.prototype.render=function(){var e=this,t=this.getSelectedUser(),n=this.getLevelWithProgressForUser(t.id);if(!n)return o.default.createElement("div",{style:b.main},o.default.createElement(y,{icon:"caret-left",onClick:this.previousStudent,style:b.arrow}),o.default.createElement("div",{style:b.studentInfo},o.default.createElement("div",{style:b.name},t.name)),o.default.createElement(y,{icon:"caret-right",onClick:this.nextStudent,style:b.arrow}));var r=n.paired,l=n.submitLevel,u=n.status,f=n.updatedAt,p=n.partnerNames,h=n.partnerCount;return o.default.createElement("div",{style:b.main},o.default.createElement(y,{icon:"caret-left",onClick:this.previousStudent,style:b.arrow}),o.default.createElement("div",{style:b.studentInfo},o.default.createElement("div",{style:b.name},t.name),r&&o.default.createElement(d.default,{partnerNames:p,partnerCount:h}),o.default.createElement("div",{style:b.bubble},o.default.createElement(c.default,{level:n,disabled:!0,hideTooltips:!0,hideAssessmentBadge:!0})),!l&&o.default.createElement("div",null,o.default.createElement("div",{style:b.timeHeader},i.default.lastUpdatedNoTime()),o.default.createElement("div",null,u!==s.LevelStatus.not_tried&&f?new Date(f).toLocaleString():i.default.notApplicable())),l&&o.default.createElement("div",null,o.default.createElement("div",{style:b.timeHeader},i.default.submittedOn()),o.default.createElement("div",null,u===s.LevelStatus.submitted?new Date(f).toLocaleString():i.default.notApplicable()),o.default.createElement(a.default,{__useDeprecatedTag:!0,text:i.default.unsubmit(),color:"blue",onClick:function(){return e.onUnsubmit(n.userLevelId)},id:"unsubmit-button-uitest",disabled:u!==s.LevelStatus.submitted}))),o.default.createElement(y,{icon:"caret-right",onClick:this.nextStudent,style:b.arrow}))},r}(o.default.Component);t.default=v,g(v,"propTypes",{students:r.default.arrayOf(f.studentShape).isRequired,onSelectUser:r.default.func.isRequired,selectedUserId:r.default.number,teacherId:r.default.number,levelsWithProgress:r.default.arrayOf(f.levelWithProgress)});var b={main:{display:"flex",justifyContent:"center",flexDirection:"row"},studentInfo:{minHeight:80,width:150,textAlign:"center",display:"flex",alignItems:"center",flexDirection:"column"},bubble:{marginLeft:0},name:{fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold",fontSize:15},timeHeader:{fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold"},arrow:{fontSize:40,cursor:"pointer",position:"relative",top:30}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(13)),a=s(n(984));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.partnerNames,n=e.partnerCount;return o.default.createElement("div",null,o.default.createElement("div",null,i.default.workedWith()),function(){if(0===t.length)return o.default.createElement("div",null,i.default.otherStudents({count:n}));if(1===t.length&&1===n)return o.default.createElement("div",null,t[0]);var e=t.join(", "),r=n-t.length;return r>0&&(e+=" + "+i.default.otherStudents({count:r})),o.default.createElement(a.default,{text:e,place:"bottom"},o.default.createElement("div",null,t[0]+" + "+(n-1)))}())};l.propTypes={partnerNames:r.default.array,partnerCount:r.default.number};var u=l;t.default=u,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(1)),o=p(n(2)),i=n(27),a=p(n(1388)),s=p(n(1041)),l=p(n(1399)),u=p(n(1043)),c=p(n(1052)),d=p(n(53)),f=p(n(32));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=10,_=function(e){var t,n;function o(t){var n;return v(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call(this,t)||this),"updateLayout",(function(){n.setState({width:n.getWidth(),windowWidth:(0,f.default)(window).width(),windowHeight:(0,f.default)(window).height()})})),n.state={width:n.getWidth(),projectInfoDesiredWidth:0,scriptNameDesiredWidth:0,lessonProgressDesiredWidth:0,finishDesiredWidth:0,initialDelay:!0},setTimeout((function(){n.setState({initialDelay:!1})}),750),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var i=o.prototype;return i.componentDidMount=function(){this.updateLayout(),this.updateLayoutListener=d.default.throttle(this.updateLayout,200),window.addEventListener("resize",this.updateLayoutListener),window.addEventListener("scroll",this.updateLayoutListener)},i.getWidth=function(){return(0,f.default)(".header_middle").width()},i.setDesiredWidth=function(e,t){var n=e+"DesiredWidth";Math.ceil(t)!==this.state[n]&&this.setState(v({},n,Math.ceil(t)))},o.getWidths=function(e,t,n,r,o,i,a,s,l){if(t)return{projectInfo:Math.floor(Math.min(r,e)),scriptName:0,progress:0,popup:0,finish:0};if(n)return{projectInfo:0,scriptName:Math.floor(Math.min(o+b,e)),progress:0,popup:0,finish:0};var u=i+10,c=Math.floor(Math.min(r,.3*e)),d=e-c,f=Math.floor(Math.min(u,.6*d));d-=f;var p=!1,h=!1;a>1?p=!0:f<u&&(p=!0,h=!0);var m=p?40:0;d-=m;var g=l?Math.min(d/2,s):0;d-=g;var y=Math.min(d,o+b);return{left:(d-=y)/2,projectInfo:c,scriptName:y,progress:f,popup:m,finish:g,showPopupBecauseProgressCropped:h}},i.render=function(){var e=this,t=this.props,n=t.scriptNameData,i=t.lessonData,d=t.scriptData,f=t.currentLevelId,p=t.isRtl,m=!(!this.props.lessonData||!this.props.lessonData.finishLink),y=o.getWidths(this.state.width,this.props.projectInfoOnly,this.props.scriptNameOnly,this.state.projectInfoDesiredWidth,this.state.scriptNameDesiredWidth,this.state.lessonProgressDesiredWidth,this.props.lessonData?this.props.lessonData.num_script_lessons:0,this.state.finishDesiredWidth,m),v=n?g(g({},n),{},{width:y.scriptName-b,setDesiredWidth:function(t){e.setDesiredWidth("scriptName",t)}}):null;return!this.state.initialDelay&&!this.props.appLoadStarted||this.props.appLoadStarted&&this.props.appLoaded?r.default.createElement("div",{id:"header_middle_content",style:w.headerMiddleContent},r.default.createElement("div",{id:"project_info_container",style:{float:"left",width:y.projectInfo,visibility:0===y.projectInfo?"hidden":void 0}},r.default.createElement(a.default,{width:y.projectInfo,setDesiredWidth:function(t){e.setDesiredWidth("projectInfo",t)},isRtl:p})),0!==y.left&&r.default.createElement("div",{id:"left_padding",style:{float:"left",width:y.left}}),v&&r.default.createElement("div",{id:"unit_name_container",style:{float:"left",textAlign:"right",marginLeft:5,marginRight:5,boxSizing:"border-box",width:y.scriptName-b,visibility:y.scriptName===b?"hidden":void 0}},r.default.createElement(s.default,h({},v,{isRtl:p}))),0!==y.progress&&r.default.createElement("div",{id:"lesson_progress_container",style:{float:"left",width:y.progress,visibility:10===y.progress?"hidden":void 0}},r.default.createElement(l.default,{width:y.progress-10,setDesiredWidth:function(t){e.setDesiredWidth("lessonProgress",t)},lessonName:i.name})),0!==y.popup&&r.default.createElement("div",{id:"header_popup_container",style:{float:"left",width:y.popup,windowWidth:this.state.windowWidth,windowHeight:this.state.windowHeight,visibility:0===y.popup?"hidden":void 0}},r.default.createElement(u.default,{scriptName:d.name,scriptData:d,currentLevelId:f,windowHeight:this.state.windowHeight,minimal:y.showPopupBecauseProgressCropped})),this.props.lessonData&&this.props.lessonData.finishLink&&r.default.createElement("div",{id:"finish_link_container",style:{float:"left",width:y.finish,marginRight:"5px",height:18}},r.default.createElement(c.default,{lessonData:i,width:y.finish,setDesiredWidth:function(t){e.setDesiredWidth("finish",t)},style:{visibility:0===y.projectInfo?"hidden":void 0},isRtl:p}))):null},o}(r.default.Component);v(_,"propTypes",{projectInfoOnly:o.default.bool,scriptNameOnly:o.default.bool,appLoadStarted:o.default.bool,appLoaded:o.default.bool,scriptNameData:o.default.object,lessonData:o.default.object,scriptData:o.default.object,currentLevelId:o.default.string,isRtl:o.default.bool});var w={headerMiddleContent:{width:"100%",display:"flex",alignItems:"center",animation:"header_fadein 0.4s"},finishedLink:{width:"100%"}},E=(0,i.connect)((function(e){return{isRtl:e.isRtl,appLoadStarted:e.header.appLoadStarted,appLoaded:e.header.appLoaded}}))(_);t.default=E,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(2)),o=u(n(1)),i=u(n(860)),a=u(n(1034)),s=u(n(861)),l=u(n(828));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e=this.props.onChangedWidth;return o.default.createElement("div",{style:{display:"flex"}},o.default.createElement(i.default,{onChangedWidth:e}),o.default.createElement(l.default,null),o.default.createElement(s.default,{lightStyle:!0}),appOptions.level.isConnectionLevel&&o.default.createElement(a.default,null))},r}(o.default.Component);t.default=h,d=h,f="propTypes",p={onChangedWidth:r.default.func},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(32)),o=s(n(1)),i=s(n(13)),a=n(1390);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function s(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return c(l(t=e.call.apply(e,[this].concat(o))||this),"importProject",(function(){Craft&&Craft.showImportFromShareLinkPopup((function(e){if(e){var t;try{var n=document.createElement("a");n.href=e,t=n.pathname}catch(m){return void Craft.showErrorMessagePopup(i.default.projectShareLinkImportBadLinkHeader(),i.default.projectShareLinkImportBadLinkBody())}var o,s,l=/^\/?c\/([^\/]*)/,u=/^\/?r\/([^\/]*)/,c=/^\/?projects\/minecraft_hero\/([^\/]*)/;if(t.match(l)){var d=t.match(l)[1];o="/c/".concat(d,".json")}else if(t.match(u)){var f=t.match(u)[1];o="/r/".concat(f,".json")}else t.match(c)&&(s=t.match(c)[1]);var p=function(e){var t=(0,a.convertBlocksXml)(e);dashboard.project.createNewChannelFromSource(t,(function(e){var t=dashboard.project.appToProjectUrl()+"/"+e.id+"/edit";location.href=t}))},h=function(){Craft.showErrorMessagePopup(i.default.projectShareLinkImportErrorHeader(),i.default.projectShareLinkImportErrorBody())};o?r.default.ajax({url:o,type:"get",dataType:"json"}).done((function(e){p(e.data)})).error((function(){h()})):s?dashboard.project.getSourceForChannel(s,(function(e){e?p(e):h()})):Craft.showErrorMessagePopup(i.default.projectShareLinkImportBadLinkHeader(),i.default.projectShareLinkImportBadLinkBody())}}))})),t}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),s.prototype.render=function(){return o.default.createElement("div",{className:"project_import header_button header_button_light",onClick:this.importProject},i.default.import())},s}(o.default.Component);t.default=d,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(1)),i=p(n(103)),a=p(n(2)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(20)),l=n(137),u=n(27),c=p(n(13)),d=n(626);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={nav:{ul:{borderBottom:"1px solid",borderColor:s.purple,marginTop:0,marginLeft:0,marginRight:0,marginBottom:10},li:{display:"inline-block",color:s.light_gray,fontSize:"larger",fontWeight:"bold",marginRight:10,cursor:"pointer"},selectedLi:{color:s.purple}},ol:{marginLeft:15},p:{fontSize:"inherit",lineHeight:"inherit",color:"inherit"},bold:{fontFamily:"'Gotham 7r', sans-serif"},root:{marginTop:20},expand:{color:s.purple,cursor:"pointer",fontWeight:"bold"},embedInput:{cursor:"copy",width:465,height:80,margin:0}},v="export",b="embed",_="library",w=function(e){var t,n;function r(t){var n;return g(h(n=e.call(this,t)||this),"downloadExport",(function(){n.setState({exporting:!0}),n.props.exportApp().then(n.setState.bind(h(n),{exporting:!1}),(function(){n.setState({exporting:!1,exportError:"Failed to export project. Please try again later."})}))})),g(h(n),"onInputSelect",(function(e){e.target.select()})),g(h(n),"renderLibraryTab",(function(){return o.default.createElement("div",null,o.default.createElement("p",{style:y.p},c.default.shareLibraryWithClassmate()),o.default.createElement("button",{type:"button",onClick:n.props.openLibraryCreationDialog,style:{marginLeft:0}},c.default.shareLibrary()))})),g(h(n),"renderAdvancedListItem",(function(e,t){return o.default.createElement("li",{style:[y.nav.li,n.state.selectedOption===e&&y.nav.selectedLi],onClick:function(){return n.setState({selectedOption:e})}},t)})),n.state={selectedOption:t.exportApp?v:b,exporting:!1,exportError:null,embedWithoutCode:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var i=r.prototype;return i.renderEmbedTab=function(){var e=this,t="".concat(this.props.shareUrl,"/embed");this.state.embedWithoutCode&&(t=t.replace(this.props.channelId,this.props.channelId.split("").map((function(e){return l.CIPHER[l.ALPHABET.indexOf(e)]||e})).join(""))+"?nosource");var n=this.props.embedOptions,r=n.iframeWidth,i=n.iframeHeight,a='<iframe width="'.concat(r,'" height="').concat(i,'" style="border: 0px;" src="').concat(t,'"></iframe>');return o.default.createElement("div",null,o.default.createElement("p",{style:y.p},c.default.shareEmbedDescription()),o.default.createElement("textarea",{type:"text",onClick:function(e){return e.target.select()},readOnly:"true",value:a,style:y.embedInput}),o.default.createElement("label",{style:{display:"flex"}},o.default.createElement("input",{type:"checkbox",checked:this.state.embedWithoutCode,onChange:function(){return e.setState({embedWithoutCode:!e.state.embedWithoutCode})}}),o.default.createElement("span",{style:{marginLeft:5}},"Hide ability to view code")))},i.renderExportTab=function(){var e=this.state.exporting?o.default.createElement("i",{className:"fa fa-spinner fa-spin"}):null,t=this.state.exportError?o.default.createElement("div",{className:"alert fade in"},this.state.exportError):null;return o.default.createElement("div",null,o.default.createElement("p",{style:y.p},"Export your project as a zipped file, which will contain the HTML/CSS/JS files, as well as any assets, for your project."),o.default.createElement("button",{type:"button",onClick:this.downloadExport,style:{marginLeft:0}},e,"Export"),t)},i.render=function(){var e,t,n,r=this.props,i=r.expanded,a=r.exportApp,s=r.onExpand,l=r.librariesEnabled,u=this.state.selectedOption;if(!u)return null;if(i){var d=null;a&&(d=this.renderAdvancedListItem(v,c.default.exportForWeb()));var f=this.renderAdvancedListItem(b,c.default.embed());switch(l&&(n=this.renderAdvancedListItem(_,c.default.shareLibrary())),e=o.default.createElement("div",null,o.default.createElement("ul",{style:y.nav.ul},d,f,n)),u){case v:t=this.renderExportTab();break;case b:t=this.renderEmbedTab();break;case _:t=this.renderLibraryTab()}}var p=i&&u?null:o.default.createElement("a",{onClick:s,style:y.expand},c.default.advancedShare());return o.default.createElement("div",{style:y.root},p,e,t)},r}(o.default.Component);g(w,"propTypes",{shareUrl:a.default.string.isRequired,exportApp:a.default.func,librariesEnabled:a.default.bool,openLibraryCreationDialog:a.default.func.isRequired,onExpand:a.default.func.isRequired,expanded:a.default.bool.isRequired,channelId:a.default.string.isRequired,embedOptions:a.default.shape({iframeHeight:a.default.number.isRequired,iframeWidth:a.default.number.isRequired}).isRequired});var E=(0,u.connect)((function(e){return{librariesEnabled:e.pageConstants.librariesEnabled}}),(function(e){return{openLibraryCreationDialog:function(){e((0,d.showLibraryCreationDialog)()),e((0,d.hideShareDialog)())}}}))((0,i.default)(w));t.default=E,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(13)),a=u(n(74)),s=n(763),l=u(n(849));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return f(c(t=e.call.apply(e,[this].concat(o))||this),"render",(function(){var e=t.props,n=e.libraryName,o=e.channelId,u=e.onShareTeacherLibrary;return r.default.createElement("div",null,r.default.createElement(s.Heading2,null,r.default.createElement("b",null,i.default.libraryPublishTitle()),n),r.default.createElement("div",null,r.default.createElement("p",null,i.default.libraryPublishExplanation()),r.default.createElement("div",{style:h.centerContent},r.default.createElement(l.default,{channelId:o}),u&&r.default.createElement(a.default,{color:a.default.ButtonColor.gray,onClick:u,text:i.default.manageLibraries()}))))})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),o}(r.default.Component);t.default=p,f(p,"propTypes",{libraryName:o.default.string.isRequired,channelId:o.default.string.isRequired,onShareTeacherLibrary:o.default.func});var h={centerContent:{display:"flex",justifyContent:"center"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return d.apply(this,arguments)};var r=a(n(809)),o=a(n(774)),i=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,o)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(o,i,a,l){var u=d(e[o],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,l)}))}l(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,a,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function u(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d(){return(d=c(l().mark((function e(t,n,a){var s,u,c,d,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.default.getJSLintAnnotations().find((function(e){return"error"===e.type}))){e.next=4;break}return n(i.default.libraryCodeError()),e.abrupt("return");case 4:return s=dashboard.project.getLevelName(),d=new Promise((function(e,t){dashboard.project.getUpdatedSourceAndHtml_((function(t){u=t,e()}))})),f=new Promise((function(e,n){t.fetchLatest((function(t){c=JSON.parse(t),e()}),(function(t,r){404===r?e():n()}))})),e.next=9,Promise.all([d,f]).then((function(){var e=r.default.getFunctions(u.source);if(e&&0!==e.length){var t=u.source;u.libraries&&u.libraries.forEach((function(e){t=r.default.createLibraryClosure(e)+t}));var o="",l={},d=!1;c&&(d=!0,o=c.description,s=c.name,c.functions.forEach((function(t){e.find((function(e){return e.functionName===t}))&&(l[t]=!0)}))),a({libraryName:s,libraryDescription:o,librarySource:t,sourceFunctionList:e,selectedFunctions:l,alreadyPublished:d})}else n(i.default.libraryNoFunctionsError())})).catch((function(){return n(i.default.libraryLoadError())}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=n(27),a=l(n(13)),s=l(n(861));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){return o.default.createElement("div",{style:{display:"flex"}},o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},this.props.projectName),o.default.createElement("div",{className:"project_updated_at header_text"},a.default.clickToRemix())),o.default.createElement(s.default,null))},r}(o.default.Component);c=p,d="propTypes",f={projectName:r.default.string.isRequired},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var h=(0,i.connect)((function(e){return{projectName:e.project.projectName}}))(p);t.default=h,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(828)),i=a(n(861));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),a.prototype.render=function(){return r.default.createElement("div",{style:u.projectButtons},r.default.createElement(o.default,null),r.default.createElement(i.default,{lightStyle:!0}))},a}(r.default.Component);t.default=l;var u={projectButtons:{display:"flex"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=n(27),a=l(n(726)),s=n(492);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(u(t=e.call.apply(e,[this].concat(r))||this),"onSave",(function(){t.props.setProjectUpdatedSaving(),$.ajax({type:"POST",url:t.props.overrideOnSaveURL||"../update_start_code",data:JSON.stringify(t.props.getChanges()),dataType:"json",error:t.props.setProjectUpdatedError,success:t.props.setProjectUpdatedSaved,contentType:"application/json"})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){return o.default.createElement("div",{style:{display:"flex"}},o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},this.props.overrideHeaderText||"Levelbuilder: edit start code"),o.default.createElement(a.default,null)),o.default.createElement("div",{className:"project_remix header_button",onClick:this.onSave},"Save"))},r}(o.default.Component);d(f,"propTypes",{getChanges:r.default.func.isRequired,setProjectUpdatedError:r.default.func.isRequired,setProjectUpdatedSaving:r.default.func.isRequired,setProjectUpdatedSaved:r.default.func.isRequired,overrideHeaderText:r.default.string,overrideOnSaveURL:r.default.string});var p=(0,i.connect)((function(e){return{getChanges:e.header.getLevelBuilderChanges,overrideHeaderText:e.header.overrideHeaderText,overrideOnSaveURL:e.header.overrideOnSaveURL}}),{setProjectUpdatedError:s.setProjectUpdatedError,setProjectUpdatedSaving:s.setProjectUpdatedSaving,setProjectUpdatedSaved:s.setProjectUpdatedSaved})(f);t.default=p,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(2)),o=u(n(1)),i=n(27),a=u(n(726)),s=u(n(727)),l=u(n(32));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"onProjectUpdatedAtContentUpdated",(function(){t.setDesiredWidth()})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var i=r.prototype;return i.getFullWidth=function(){var e=(0,l.default)(this.refs.scriptName);return e.length>0?e.width():0},i.setDesiredWidth=function(){this.props.setDesiredWidth&&this.props.setDesiredWidth(this.getFullWidth())},i.componentDidMount=function(){this.setDesiredWidth()},i.componentDidUpdate=function(){this.setDesiredWidth()},i.shouldComponentUpdate=function(e,t){return this.props.width!==e.width||this.props.name!==e.name||this.props.showProjectUpdatedAt!==e.showProjectUpdatedAt},i.renderScriptLink=function(){var e="header_text";return this.props.smallText&&(e+=" small_font_on_tablet"),o.default.createElement("a",{href:this.props.href,className:e,style:this.props.showProjectUpdatedAt?d({},g.scriptLinkWithUpdatedAt):{},title:this.props.name},this.props.name)},i.render=function(){var e=this.getFullWidth(),t=this.props.width<e?this.props.isRtl?s.default.left:s.default.right:null;return this.props.showProjectUpdatedAt?o.default.createElement("div",{style:g.headerContainer},o.default.createElement("div",{className:"script_name",ref:"scriptName",style:d(d({},g.headerInner),{},{height:40})},o.default.createElement("div",{style:g.outerContainer},o.default.createElement("div",{style:g.containerWithUpdatedAt},this.renderScriptLink(),o.default.createElement(a.default,{onContentUpdated:this.onProjectUpdatedAtContentUpdated})))),o.default.createElement("div",{className:"vignette",style:t})):o.default.createElement("div",{style:d(d({},g.headerContainer),{},{height:18})},o.default.createElement("div",{className:"script_name",ref:"scriptName",style:g.headerInner},this.renderScriptLink()),o.default.createElement("div",{className:"vignette",style:t}))},r}(o.default.Component);h(m,"propTypes",{name:r.default.string.isRequired,href:r.default.string.isRequired,smallText:r.default.bool,showProjectUpdatedAt:r.default.bool,width:r.default.number,setDesiredWidth:r.default.func,isRtl:r.default.bool});var g={headerContainer:{position:"relative",overflow:"hidden",height:40},headerInner:{position:"absolute"},scriptLinkWithUpdatedAt:{display:"block"},outerContainer:{textAlign:"right"},containerWithUpdatedAt:{verticalAlign:"bottom",display:"inline-block"}},y=(0,i.connect)((function(e){return{showProjectUpdatedAt:e.project.showProjectUpdatedAt}}))(m);t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=f(n(2)),a=f(n(53)),s=f(n(169)),l=f(n(13)),u=f(n(847)),c=n(33),d=f(n(994));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m,g,y,v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var i=r.prototype;return i.getUrl=function(){var e=this.props.lessonExtrasUrl,t=s.default.parse((0,c.currentLocation)().search);return delete t.id,Object.keys(t).length>0&&(e="".concat(e,"?").concat(s.default.stringify(t))),e},i.render=function(){var e=this.props,t=e.isPerfect,n=e.isSelected,r=a.default.uniqueId();return o.default.createElement("a",{href:this.getUrl(),"data-tip":!0,"data-for":r,"aria-describedby":r,title:l.default.stageExtras()},o.default.createElement(d.default,{isPerfect:t,isSelected:n,size:n?24:16}),o.default.createElement(u.default,{tooltipId:r,icon:"flag-checkered",text:l.default.stageExtras()}))},r}(o.Component);t.default=v,m=v,g="propTypes",y={lessonExtrasUrl:i.default.string.isRequired,isPerfect:i.default.bool,isSelected:i.default.bool},g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=f(n(20)),s=f(n(819)),l=f(n(1400)),u=f(n(13)),c=f(n(131));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(p(t=e.call.apply(e,[this].concat(r))||this),"state",{open:!1}),m(p(t),"handleClickOpen",(function(){t.setState({open:!0}),s.default.retrieveProgress(t.props.scriptName,t.props.scriptData,t.props.currentLevelId),c.default.putRecord({study:"mini_view",event:"mini_view_opened",data_json:JSON.stringify({current_level_id:t.props.currentLevelId})},{includeUserId:!0}),$(document).on("click",t.handleClickDocument)})),m(p(t),"handleClickClose",(function(){t.setState({open:!1}),$(document).off("click",t.handleClickDocument)})),m(p(t),"handleClickDocument",(function(e){var n=e&&e.target;$(t.refs.headerPopup).find(n).length>0||t.handleClickClose()})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var o=r.prototype;return o.shouldComponentUpdate=function(e,t){return this.props.windowHeight!==e.windowHeight||this.props.minimal!==e.minimal||this.state.open!==t.open},o.render=function(){return i.default.createElement("div",{style:y.container},!this.state.open&&i.default.createElement("div",{style:y.headerItem,className:"header_popup_link",onClick:this.handleClickOpen},i.default.createElement("i",{className:"fa fa-caret-down",style:y.caret}),i.default.createElement("div",{style:y.more},u.default.moreAllCaps())),this.state.open&&i.default.createElement("div",null,i.default.createElement("div",{style:y.headerItem,onClick:this.handleClickClose},i.default.createElement("i",{className:"fa fa-caret-up",style:y.caret}),i.default.createElement("div",{style:y.more},u.default.lessAllCaps())),i.default.createElement("div",{className:"header_popup",ref:"headerPopup"},i.default.createElement("div",{className:"header_popup_scrollable",style:{maxHeight:this.props.windowHeight-80}},i.default.createElement("div",{className:"header_popup_body"},i.default.createElement("div",{className:"user-stats-block"},i.default.createElement(l.default,{minimal:this.props.minimal})))))))},r}(i.Component);t.default=g,m(g,"propTypes",{scriptName:o.default.string,scriptData:o.default.object,currentLevelId:o.default.string,minimal:o.default.bool,windowHeight:o.default.number});var y={headerItem:{textAlign:"center",cursor:"pointer"},caret:{fontSize:40,color:a.default.orange,lineHeight:"10px"},more:{fontSize:10,lineHeight:"10px"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(2)),o=f(n(1)),i=f(n(20)),a=f(n(13)),s=f(n(1361)),l=f(n(74)),u=n(33),c=n(388),d=n(136);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var h,m,g,y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){var e=this.props,t=e.scriptName,n=e.selectedSectionId,r=(0,d.getStore)().getState().isRtl,f=(0,c.queryParams)("section_id");switch(!0){case!!n:(0,c.updateQueryParam)("section_id",n);break;case!!f&&"undefined"!==f:(0,c.updateQueryParam)("section_id",f);break;default:(0,c.updateQueryParam)("section_id",void 0)}var p=(0,u.stringifyQueryParams)((0,c.queryParams)());return o.default.createElement("div",{style:v.main},o.default.createElement(l.default,{__useDeprecatedTag:!0,text:a.default.viewUnitOverview(),href:"/s/".concat(t).concat(p),color:l.default.ButtonColor.gray,style:r?v.buttonRtl:v.button}),o.default.createElement("div",{style:r?v.toggleRtl:v.toggle},o.default.createElement(s.default,{activeColor:i.default.teal,whiteBorder:!0,toggleStudyGroup:"mini-view"})))},r}(o.default.Component);t.default=y,h=y,m="propTypes",g={scriptName:r.default.string.isRequired,selectedSectionId:r.default.number},m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g;var v={main:{fontSize:16,backgroundColor:i.default.teal,color:i.default.white,padding:15,marginBottom:0,height:34,lineHeight:"34px"},button:{position:"absolute",left:15},buttonRtl:{position:"absolute",right:15},toggle:{position:"absolute",top:10,right:15},toggleRtl:{position:"absolute",top:10,left:15,direction:"ltr"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(2)),a=u(n(74)),s=u(n(13)),l=u(n(1405));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.unitId,n=e.lessonId,r=e.isHidden,i=d((0,o.useState)(!1),2),u=i[0],c=i[1];return o.default.createElement("div",{style:h.main},o.default.createElement("div",{style:h.buttonContainer,className:"uitest-locksettings"},o.default.createElement(a.default,{__useDeprecatedTag:!0,onClick:function(){return c(!0)},color:a.default.ButtonColor.gray,text:s.default.lockSettings(),icon:"lock",style:h.button})),u&&o.default.createElement(l.default,{unitId:t,lessonId:n,lessonIsHidden:r,handleClose:function(){return c(!1)}}))};p.propTypes={unitId:i.default.number.isRequired,lessonId:i.default.number.isRequired,isHidden:i.default.bool};var h={main:{marginTop:5},buttonContainer:{marginLeft:15,marginRight:15},button:{paddingLeft:0,paddingRight:0,width:"100%"}},m=p;t.default=m,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(2)),i=n(1228),a=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.index,n=e.name,o=e.lockStatus,a=e.handleRadioChange,s=function(e){var t=parseInt(e.target.name,10),n=e.target.value;a(t,n)};return r.default.createElement("tr",null,r.default.createElement("td",{style:f.tableCell},n),r.default.createElement("td",{style:u(u(u({},f.tableCell),f.radioCell),o===i.LockStatus.Locked&&f.selectedCell)},r.default.createElement("input",{type:"radio",name:t,value:i.LockStatus.Locked,checked:o===i.LockStatus.Locked,onChange:s})),r.default.createElement("td",{style:u(u(u({},f.tableCell),f.radioCell),o===i.LockStatus.Editable&&f.selectedCell)},r.default.createElement("input",{type:"radio",name:t,value:i.LockStatus.Editable,checked:o===i.LockStatus.Editable,onChange:s})),r.default.createElement("td",{style:u(u(u({},f.tableCell),f.radioCell),o===i.LockStatus.ReadonlyAnswers&&f.selectedCell)},r.default.createElement("input",{type:"radio",name:t,value:i.LockStatus.ReadonlyAnswers,checked:o===i.LockStatus.ReadonlyAnswers,onChange:s})))};d.propTypes={index:o.default.number.isRequired,name:o.default.string.isRequired,lockStatus:o.default.oneOf(Object.values(i.LockStatus)).isRequired,handleRadioChange:o.default.func.isRequired};var f={tableCell:{borderWidth:1,borderStyle:"solid",borderColor:a.default.light_gray,padding:10},radioCell:{textAlign:"center"},selectedCell:{backgroundColor:a.default.lightest_teal}},p=d;t.default=p,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(2)),i=l(n(53)),a=l(n(1048)),s=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.numRows,n=e.numCols;return i.default.times(t,(function(e){return r.default.createElement("tr",{key:e},i.default.times(n,(function(e){return r.default.createElement("td",{key:e,style:c.tableCell},r.default.createElement(a.default,null))})))}))};u.propTypes={numRows:o.default.number.isRequired,numCols:o.default.number.isRequired};var c={tableCell:{borderWidth:1,borderStyle:"solid",borderColor:s.default.light_gray,padding:10}},d=u;t.default=d,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1407))&&r.__esModule?r:{default:r};n(1408);var i=o.default;t.default=i,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(13)),a=u(n(131)),s=u(n(74)),l=u(n(1409));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this).openDialog=n.openDialog.bind(c(n)),n.closeDialog=n.closeDialog.bind(c(n)),n.state={isDialogOpen:!1},n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var u=o.prototype;return u.openDialog=function(){this.setState({isDialogOpen:!0}),a.default.putRecord({study:"send-to-students-button",study_group:"v0",event,data_json:this.props.analyticsData},{includeUserId:!0})},u.closeDialog=function(){this.setState({isDialogOpen:!1})},u.render=function(){return r.default.createElement("div",{className:"uitest-sendlesson"},r.default.createElement(s.default,{__useDeprecatedTag:!0,onClick:this.openDialog,text:i.default.sendLessonButton(),icon:"share-square-o",color:s.default.ButtonColor.gray,style:this.props.buttonStyle}),this.state.isDialogOpen&&r.default.createElement(l.default,{isOpen:!0,handleClose:this.closeDialog,lessonUrl:this.props.lessonUrl,lessonTitle:this.props.lessonTitle,courseid:this.props.courseid,analyticsData:this.props.analyticsData}))},o}(r.default.Component);t.default=m,f=m,p="propTypes",h={lessonUrl:o.default.string.isRequired,lessonTitle:o.default.string,courseid:o.default.number,analyticsData:o.default.string,buttonStyle:o.default.object},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(74)),a=c(n(13)),s=c(n(131)),l=n(1004),u=c(n(53));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=0,m=function(e){var t,n;function r(t){var n;return p(d(n=e.call(this,t)||this),"instanceId",h++),p(d(n),"buttonRef",null),p(d(n),"iframeMouseOver",!1),p(d(n),"state",{buttonMounted:!1}),n.onShareStart=n.onShareStart.bind(d(n)),n.onShareComplete=n.onShareComplete.bind(d(n)),n.logEvent=n.logEvent.bind(d(n)),n.blur=n.blur.bind(d(n)),n.mouseOver=n.mouseOver.bind(d(n)),n.mouseOut=n.mouseOut.bind(d(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var i=r.prototype;return i.componentDidMount=function(){this.renderButton(),this.setState({buttonMounted:!0}),window[this.onShareStartName()]=this.onShareStart,window[this.onShareCompleteName()]=this.onShareComplete,l.isIE11&&window.addEventListener("blur",this.blur)},i.componentDidUpdate=function(e){u.default.isEqual(this.props,e)||this.renderButton()},i.onShareStartName=function(){return"onShareStart_"+this.instanceId},i.onShareCompleteName=function(){return"onShareComplete_"+this.instanceId},i.onShareStart=function(){this.logEvent("share_started")},i.onShareComplete=function(){this.logEvent("share_completed")},i.blur=function(){this.iframeMouseOver&&this.logEvent("button_clicked")},i.mouseOver=function(){this.iframeMouseOver=!0},i.mouseOut=function(){this.iframeMouseOver=!1},i.logEvent=function(e){s.default.putRecord({study:"google-classroom-share-button",study_group:"v0",event:e,data_json:this.props.analyticsData},{includeUserId:!0})},i.renderButton=function(){window.gapi.sharetoclassroom.render(this.buttonRef,{theme:this.props.theme,url:this.props.url,itemtype:this.props.itemtype,title:this.props.title,size:this.props.height,courseid:this.props.courseid,onsharestart:"".concat(this.onShareStartName()),onsharecomplete:"".concat(this.onShareCompleteName())})},i.render=function(){var e=this;return o.default.createElement("span",{style:g.container},o.default.createElement("span",{ref:function(t){return e.buttonRef=t},onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}),this.state.buttonMounted&&o.default.createElement("span",{style:g.label},a.default.shareToGoogleClassroom()))},r}(o.default.PureComponent);t.default=m,p(m,"propTypes",{url:r.default.string.isRequired,itemtype:r.default.string.isRequired,title:r.default.string,theme:r.default.string,height:r.default.number,courseid:r.default.number,analyticsData:r.default.string}),p(m,"defaultProps",{itemtype:"assignment",theme:"light",height:i.default.ButtonHeight.default});var g={label:{paddingLeft:16,textAlign:"left"},container:{display:"flex",alignItems:"center",justifyContent:"start"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=p(n(13)),s=p(n(20)),l=p(n(143)),u=p(n(394)),c=p(n(74)),d=p(n(852));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m,g,y,v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){return i.default.createElement(l.default,{isOpen:this.props.isOpen,handleClose:this.props.closeDialog,useUpdatedStyles:!0,style:b.dialog},i.default.createElement("h2",{style:b.lessonGroupName},this.props.displayName),i.default.createElement(d.default,{description:this.props.description,bigQuestions:this.props.bigQuestions}),i.default.createElement(u.default,{rightAlign:!0},i.default.createElement(c.default,{__useDeprecatedTag:!0,text:a.default.closeDialog(),onClick:this.props.closeDialog,color:c.default.ButtonColor.orange})))},r}(i.Component);t.default=v,m=v,g="propTypes",y={isOpen:o.default.bool.isRequired,displayName:o.default.string.isRequired,description:o.default.string,closeDialog:o.default.func,bigQuestions:o.default.string},g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y;var b={description:{color:s.default.dark_charcoal,fontFamily:'"Gotham 4r", sans-serif'},dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20},bigQuestion:{fontWeight:"bolder",fontFamily:'"Gotham 7r", sans-serif'},lessonGroupName:{color:s.default.purple},subTitle:{color:s.default.teal}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(727)),a=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u,c,d,f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var s=r.prototype;return s.getFullWidth=function(){var e=(0,a.default)(this.refs.headerFinish);return e.length>0?e.width():0},s.setDesiredWidth=function(){this.props.setDesiredWidth&&this.props.setDesiredWidth(this.getFullWidth())},s.componentDidMount=function(){this.setDesiredWidth()},s.componentDidUpdate=function(){this.setDesiredWidth()},s.shouldComponentUpdate=function(e,t){var n=this.props.lessonData;return this.props.width!==e.width||!!n!=!!e.lessonData||n.finishLink!==e.lessonData.finishLink},s.render=function(){var e=this.props,t=e.lessonData,n=e.isRtl,r=this.getFullWidth(),a=this.props.width<r?n?i.default.left:i.default.right:null;return o.default.createElement("div",{style:p.headerContainer},o.default.createElement("div",{className:"header_finished",ref:"headerFinish",style:p.headerInner},o.default.createElement("div",{className:"header_finished_link",style:p.finishedLink},o.default.createElement("a",{href:t.finishLink,title:t.finishText},t.finishText))),o.default.createElement("div",{className:"vignette",style:a}))},r}(o.default.Component);t.default=f,u=f,c="propTypes",d={lessonData:r.default.object,width:r.default.number,setDesiredWidth:r.default.func,isRtl:r.default.bool},c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d;var p={headerContainer:{position:"relative",overflow:"hidden",height:18},headerInner:{position:"absolute"},scriptLinkWithUpdatedAt:{display:"block"},outerContainer:{textAlign:"right"},containerWithUpdatedAt:{verticalAlign:"bottom",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(179)),i=a(n(1054));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l="hide_signin_callout",u=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).closeCallout=n.closeCallout.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n.state={hideCallout:"true"===o.default.get(l)||"true"===sessionStorage.getItem(l)},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=a.prototype;return u.componentDidMount=function(){this.state.hideCallout||(this.signInElement=document.getElementById("sign_in_or_user"),this.signInElement&&this.signInElement.classList.add("z_index_above_modal"))},u.closeCallout=function(e){this.setState({hideCallout:!0}),o.default.set(l,"true",{expires:1,path:"/"}),sessionStorage.setItem(l,"true"),e.preventDefault(),this.signInElement&&this.signInElement.classList.remove("z_index_above_modal")},u.render=function(){return this.state.hideCallout?null:r.default.createElement("div",{className:"uitest-signincallout"},r.default.createElement(i.default,{handleClose:this.closeCallout}))},a}(r.default.Component);t.default=u,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(13)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l,u,c,d="#454545",f=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).renderContent=n.renderContent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var a=i.prototype;return a.renderContent=function(){return r.default.createElement("div",{style:p.contentContainer},r.default.createElement("img",{style:p.imageContainer,src:"/shared/images/user-not-signed-in.png"}),r.default.createElement("div",{style:p.textContainer},r.default.createElement("h2",{style:p.textHeader},o.default.notSignedInHeader()),r.default.createElement("p",null," ",o.default.notSignedInBody())))},a.render=function(){return r.default.createElement("div",{style:p.container,onClick:this.props.handleClose},r.default.createElement("div",{className:"modal-backdrop",style:p.modalBackdrop}),r.default.createElement("div",{style:p.upTriangle}),r.default.createElement("div",{className:"uitest-login-callout",style:p.content},this.renderContent()))},i}(r.default.Component);t.default=f,l=f,u="propTypes",c={handleClose:i.default.func.isRequired},u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c;var p={container:{position:"relative",height:0,width:0},content:{position:"absolute",top:30,right:-90,zIndex:1040,backgroundColor:d,borderRadius:3},modalBackdrop:{opacity:.5,zIndex:-1},upTriangle:{position:"absolute",top:15,left:-7.5,width:0,height:0,borderStyle:"solid",borderTopWidth:0,borderRightWidth:30,borderBottomWidth:15,borderLeftWidth:30,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:d,borderLeftColor:"transparent",zIndex:1040},contentContainer:{display:"flex",padding:20},imageContainer:{width:116,height:116,marginRight:20},textContainer:{width:400,textAlign:"left",whiteSpace:"normal"},textHeader:{marginTop:0}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(103)),i=l(n(1)),a=l(n(13)),s=l(n(142));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props,t=e.numLinesWritten,n=e.children,r=e.useChallengeStyles,o=i.default.createElement("p",{id:"num-lines-of-code",className:"lines-of-code-message",style:r?h.challengeLineCounts:null},a.default.numLinesOfCodeWritten({numLines:t})),l=i.default.createElement("details",{className:"show-code",style:r?h.details:null},i.default.createElement("summary",{role:"button",style:c(c({},h.summary),r?h.challengeSummary:{}),onClick:function(){return(0,s.default)("showCode","click","dialog")}},i.default.createElement("b",null,a.default.showGeneratedCode())),n);return i.default.createElement("div",null,o,l)},r}(i.default.Component);f(p,"propTypes",{numLinesWritten:r.default.number.isRequired,children:r.default.node,useChallengeStyles:r.default.bool});var h={summary:{fontSize:18,lineHeight:"20px",fontWeight:"normal",outline:"none",padding:5,display:"list-item"},challengeLineCounts:{fontSize:16},challengeSummary:{fontColor:"black",fontSize:14,marginLeft:40},details:{textAlign:"left"}},m=(0,o.default)(p);t.default=m,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(165));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l,u,c,d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r.prototype.render=function(){return o.default.createElement("div",{className:"generated-code-container",style:this.props.style},o.default.createElement("div",{className:"generatedCodeMessage"},o.default.createElement(i.default,{markdown:this.props.message})),o.default.createElement("pre",{className:"generatedCode",dir:"ltr"},this.props.code))},r}(o.default.Component);t.default=d,l=d,u="propTypes",c={message:r.default.string.isRequired,code:r.default.string.isRequired,style:r.default.object},u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(32)),o=c(n(1)),i=c(n(36)),a=c(n(2)),s=c(n(103)),l=n(594),u=c(n(634));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var s=a.prototype;return s.componentDidMount=function(){this.configureMarkdown_()},s.componentDidUpdate=function(e){e.markdown!==this.props.markdown&&this.configureMarkdown_()},s.componentWillUnmount=function(){var e=(0,r.default)(i.default.findDOMNode(this)).find("details");e.details&&e.off("toggle.details.TopInstructions")},s.configureMarkdown_=function(){var e=this;if(this.props.onResize){var t=i.default.findDOMNode(this),n=(0,r.default)(t).find("details");n.details&&(n.details(),n.on({"toggle.details.TopInstructions":function(){e.props.onResize()}})),this.props.isBlockly&&Blockly.BlockSpace.onMainBlockSpaceCreated((function(){(0,l.convertXmlToBlockly)(i.default.findDOMNode(e)),e.props.onResize()})),(0,r.default)(t).find("img").load(this.props.onResize)}},s.render=function(){var e=this.props,t=e.inTopPane,n=e.markdown,r=!this.props.noInstructionsWhenCollapsed;return o.default.createElement("div",{className:"instructions-markdown",style:[h.standard,t&&h.inTopPane,t&&r&&h.inTopPaneCanCollapse]},o.default.createElement(u.default,{markdown:n,expandableImages:!0}))},a}(o.default.Component);f(p,"propTypes",{markdown:a.default.string.isRequired,noInstructionsWhenCollapsed:a.default.bool,onResize:a.default.func,inTopPane:a.default.bool,isBlockly:a.default.bool,showImageDialog:a.default.func}),f(p,"defaultProps",{noInstructionsWhenCollapsed:!1});var h={standard:{marginBottom:35,paddingTop:19},inTopPane:{marginTop:10,marginBottom:10,paddingTop:0},inTopPaneCanCollapse:{marginTop:0,marginBottom:0}},m=(0,s.default)(p);t.default=m,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){new Promise((function(e,t){$.ajax({url:"/api/immersive_reader_token",type:"GET",success:function(n){n.error?t(n.error):e(n)}})})).then((function(i){var a=i.token,s=i.subdomain,l={title:t,chunks:[{content:o(n),lang:e}]};(0,r.launchAsync)(a,s,l,{uiZIndex:2113})})).catch((function(e){console.error(e)}))};var r=n(873);function o(e){return e?e=(e=e.replace(/<[^>]*>/g,"")).replace(/[`*]/g,""):e}e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(2)),i=p(n(1)),a=p(n(1060)),s=n(449),l=p(n(450)),u=p(n(131)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(33)),d=p(n(13));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(h(t=e.call.apply(e,[this].concat(r))||this),"state",{versions:null,statusMessage:"",showSpinner:!0,confirmingClearPuzzle:!1}),g(h(t),"onVersionListReceived",(function(e){t.setState({versions:JSON.parse(e.responseText),showSpinner:!1})})),g(h(t),"onAjaxFailure",(function(){t.setState({statusMessage:d.default.versionHistory_ajaxFailure()})})),g(h(t),"onRestoreSuccess",(function(){c.reload()})),g(h(t),"onChooseVersion",(function(e){t.props.useFilesApi?s.files.restorePreviousVersion(e,t.onRestoreSuccess,t.onAjaxFailure):s.sources.restorePreviousFileVersion("main.json",e,t.onRestoreSuccess,t.onAjaxFailure),t.setState({showSpinner:!0})})),g(h(t),"onConfirmClearPuzzle",(function(){t.setState({confirmingClearPuzzle:!0})})),g(h(t),"onCancelClearPuzzle",(function(){t.setState({confirmingClearPuzzle:!1})})),g(h(t),"onClearPuzzle",(function(){t.setState({showSpinner:!0}),u.default.putRecord({study:"project-data-integrity",study_group:"v4",event:"clear-puzzle",project_id:l.default.getCurrentId(),data_json:JSON.stringify({isOwner:l.default.isOwner(),currentUrl:window.location.href,shareUrl:l.default.getShareUrl(),isProjectTemplateLevel:t.props.isProjectTemplateLevel,currentSourceVersionId:l.default.getCurrentSourceVersionId()})},{includeUserId:!0}),t.props.handleClearPuzzle().then((function(){return l.default.save(!0)})).then((function(){return c.reload()}))})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var o=r.prototype;return o.UNSAFE_componentWillMount=function(){this.props.useFilesApi?s.files.getVersionHistory(this.onVersionListReceived,this.onAjaxFailure):s.sources.ajax("GET","main.json/versions",this.onVersionListReceived,this.onAjaxFailure)},o.render=function(){var e,t;if(this.state.showSpinner)e=d.default.versionHistory_header(),t=i.default.createElement("div",{style:{margin:"1em 0",textAlign:"center"}},i.default.createElement("i",{className:"fa fa-spinner fa-spin",style:{fontSize:"32px"}}));else if(this.state.confirmingClearPuzzle)e=d.default.versionHistory_clearProgress_header(),t=i.default.createElement("div",null,i.default.createElement("p",null,d.default.versionHistory_clearProgress_prompt()),this.props.isProjectTemplateLevel&&i.default.createElement("p",{className:"template-level-warning"},d.default.versionHistory_clearProgress_templateLevelWarning()),i.default.createElement("button",{type:"button",className:"btn-danger",id:"start-over-button",style:{marginLeft:0},onClick:this.onClearPuzzle},d.default.versionHistory_clearProgress_confirm()),i.default.createElement("button",{type:"button",id:"again-button",style:{float:"right"},onClick:this.onCancelClearPuzzle},d.default.versionHistory_clearProgress_cancel()));else{e=d.default.versionHistory_header();var n=this.state.versions.map(function(e){return i.default.createElement(a.default,{key:e.versionId,versionId:e.versionId,lastModified:new Date(e.lastModified),isLatest:e.isLatest,isSelectedVersion:this.props.selectedVersion?e.versionId===this.props.selectedVersion:e.isLatest,isReadOnly:this.props.isReadOnly,onChoose:this.onChooseVersion.bind(this,e.versionId)})}.bind(this));t=i.default.createElement("div",null,i.default.createElement("div",{style:{maxHeight:"330px",overflowX:"auto",margin:"1em 0"}},i.default.createElement("table",{style:{width:"100%"}},i.default.createElement("tbody",null,n,!this.props.isReadOnly&&i.default.createElement("tr",null,i.default.createElement("td",null,i.default.createElement("p",null,d.default.versionHistory_initialVersion_label())),i.default.createElement("td",{width:"250",style:{textAlign:"right"}},i.default.createElement("button",{type:"button",className:"btn-danger",onClick:this.onConfirmClearPuzzle,style:{float:"right"}},d.default.versionHistory_clearProgress_confirm())))))))}return i.default.createElement("div",{className:"modal-content",style:{margin:0}},i.default.createElement("h1",{className:"dialog-title"},e),t,this.state.statusMessage)},r}(i.default.Component);t.default=y,g(y,"propTypes",{handleClearPuzzle:o.default.func.isRequired,isProjectTemplateLevel:o.default.bool.isRequired,useFilesApi:o.default.bool.isRequired,selectedVersion:o.default.string,isReadOnly:o.default.bool.isRequired}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(2)),o=u(n(1)),i=u(n(13)),a=u(n(9)),s=n(388),l=u(n(169));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var u=r.prototype;return u.getLastModifiedTimestamp=function(){var e=this.props.lastModified;return e.toLocaleString?e.toLocaleString():e.toString()},u.getQueryParams=function(){var e=(0,s.queryParams)("user_id"),t=(0,s.queryParams)("viewAs"),n=(0,s.queryParams)("section_id"),r={};return n&&(r.section_id=n),t&&(r.viewAs=t),e&&(r.user_id=e),this.props.isLatest||(r.version=this.props.versionId),l.default.stringify(r)},u.render=function(){var e=[];if(this.props.isLatest)e.push(o.default.createElement("button",{key:"latest-version-message",type:"button",className:"btn-default",disabled:"disabled",style:{cursor:"default",background:"none",border:"none"}},i.default.latestVersion()));else if(!this.props.isReadOnly){var t=this.props.isSelectedVersion?"btn-info":"img-upload";e.push(o.default.createElement("button",{key:"restore-version-button",type:"button",className:t,onClick:this.props.onChoose},i.default.restore()))}return this.props.isSelectedVersion?e.push(o.default.createElement("button",{key:"disabled-view-button",type:"button",className:"btn-default",disabled:"disabled",style:{cursor:"default",color:"white"}},i.default.view())):e.push(o.default.createElement("a",{key:"not-selected-version-button",href:location.origin+location.pathname+"?"+this.getQueryParams(),target:"_blank",rel:"noopener noreferrer"},o.default.createElement("button",{type:"button",className:"btn-info"},i.default.view()))),o.default.createElement("tr",{className:(0,a.default)({versionRow:!0,highlight:this.props.isSelectedVersion})},o.default.createElement("td",null,o.default.createElement("p",null,i.default.versionHistory_versionLabel({timestamp:this.getLastModifiedTimestamp()}))),o.default.createElement("td",{width:"275",height:"52",style:{textAlign:"right"}},e))},r}(o.default.Component);t.default=h,d=h,f="propTypes",p={versionId:r.default.string.isRequired,lastModified:r.default.instanceOf(Date).isRequired,isLatest:r.default.bool.isRequired,isSelectedVersion:r.default.bool.isRequired,isReadOnly:r.default.bool.isRequired,onChoose:r.default.func},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(53)),o=u(n(2)),i=u(n(1)),a=u(n(13)),s=u(n(848)),l=u(n(450));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=["applab","gamelab","makerlab"],h={applab:"https://code.org/educate/applab",applab_legacy:"https://code.org/educate/applab",artist:"/p/artist",artist_legacy:"/s/artist",gamelab:"https://code.org/educate/gamelab",gamelab_legacy:"https://code.org/educate/gamelab",playlab:"/p/playlab",playlab_legacy:"/s/playlab"},m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f(c(t=e.call.apply(e,[this].concat(r))||this),"state",{clickedSendToPhone:!1}),f(c(t),"handleClickSendToPhone",(function(){return t.setState({clickedSendToPhone:!t.state.clickedSendToPhone}),!1})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props,t=e.appType,n=e.channelId,r=e.isLegacyShare,o=this.state.clickedSendToPhone,a=p.includes(t),s=h[t+(r?"_legacy":"")];return i.default.createElement("div",{style:_.main},a&&i.default.createElement(g,null),s&&i.default.createElement(y,{url:s}),i.default.createElement(v,{active:o,onClick:this.handleClickSendToPhone}),i.default.createElement("br",null),o&&i.default.createElement(b,{appType:t,channelId:n,isLegacyShare:r}))},r}(i.default.Component);t.default=m,f(m,"propTypes",{channelId:o.default.string,appType:o.default.string.isRequired,isLegacyShare:o.default.bool.isRequired});var g=function(){return i.default.createElement("span",{style:{display:"inline-block"}},i.default.createElement("a",{className:"WireframeButtons_button",href:l.default.getProjectUrl("/view")},i.default.createElement("i",{className:"fa fa-code"})," ",a.default.viewCode()))},y=function(e){var t=e.url;return i.default.createElement("span",{style:{display:"inline-block"}},i.default.createElement("a",{className:"WireframeButtons_button",href:t},i.default.createElement("i",{className:"fa fa-pencil-square-o"})," ",a.default.makeMyOwn()))};y.propTypes={url:o.default.string.isRequired};var v=function(e){var t=e.active,n=e.onClick;return i.default.createElement("span",{style:{display:"inline-block"}},i.default.createElement("a",{className:t?"WireframeButtons_active":"WireframeButtons_button",onClick:n},i.default.createElement("i",{className:"fa fa-mobile"})," ",a.default.sendToPhone()))};v.propTypes={active:o.default.bool,onClick:o.default.func.isRequired};var b=function(e){var t=e.appType,n=e.channelId,r=e.isLegacyShare;return i.default.createElement("div",{className:"WireframeButtons_active"},i.default.createElement(s.default,{styles:_.sendToPhone,channelId:n,appType:t,isLegacyShare:r}))};b.propTypes=r.default.pick(m.propTypes,["appType","channelId","isLegacyShare"]);var _={main:{font:'12pt "Gotham 5r", sans-serif'},sendToPhone:{label:{font:'12pt "Gotham 5r", sans-serif',lineHeight:"normal",cursor:"default"},div:{margin:0,lineHeight:"normal"}}};e.exports=t.default},,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(103)),a=u(n(1529)),s=n(594),l=u(n(1577));function u(e){return e&&e.__esModule?e:{default:e}}var c={container:{position:"relative"},main:{backgroundColor:"white",borderRadius:10,margin:"5px 0",paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,position:"relative",borderStyle:"dashed",borderWidth:1},minecraft:{backgroundColor:"#3B3B3B",borderRadius:4,borderWidth:0},withAudioControls:{paddingRight:76},audioControls:{position:"absolute",top:7,right:12}},d={wrapper:{position:"relative"},button:{height:"32px"},buttonImg:{lineHeight:"32px",fontSize:20}},f=function(e){var t=e.children,n=e.isMinecraft,o=e.skinId,i=e.borderColor,u=e.ttsUrl,f=e.ttsMessage;i=i||"white";var p=e.textToSpeechEnabled&&(u||f);return r.default.createElement("div",{style:c.container},r.default.createElement("div",{style:[c.main,n&&c.minecraft,p&&c.withAudioControls,{borderColor:i}]},t,(0,s.shouldDisplayChatTips)(o)&&r.default.createElement(a.default,{color:i})),p&&r.default.createElement("div",{style:c.audioControls},r.default.createElement(l.default,{src:u,message:f,style:d})))};f.propTypes={borderColor:o.default.string,children:o.default.arrayOf(o.default.node).isRequired,isMinecraft:o.default.bool,skinId:o.default.string,ttsUrl:o.default.string,ttsMessage:o.default.string,textToSpeechEnabled:o.default.bool};var p=(0,i.default)(f);t.default=p,e.exports=t.default},(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<% var i18n = require(\'@cdo/locale\'); %>\n<div class="function-name">\n  <% if (signatureOverride) { -%>\n    <%= signatureOverride %>\n  <% } else {\n    /**\n     * TODO(bjordan): would be nice to split the following line up, can\'t figure\n     * out how to do so without inserting extraneous spaces between parameters.\n     */\n    -%>\n    <%= functionName %>(<% for (var i = 0; i < parameters.length; i++) { -%><span class="tooltip-parameter-name <% if (i === currentParameterIndex) { %> current-tooltip-parameter-name<% } %>"><%- parameters[i].name -%></span><% if (i < parameters.length - 1) { -%>, <% } -%><% } -%>)\n  <% } %>\n</div>\n<% if (parameters[currentParameterIndex] && parameters[currentParameterIndex].description) { %><div><%= parameters[currentParameterIndex].description %></div><% } %>\n<% if (parameters[currentParameterIndex] && parameters[currentParameterIndex].assetTooltip) { %>\n  <div class="tooltip-choose-link">\n    <a href="#"><%= i18n.choosePrefix() %></a>\n  </div>\n<% } %>\n<% if (showExamplesLink) { %>\n  <div class="tooltip-example-link">\n    <a href="#"><%= i18n.examples() %></a>\n  </div>\n<% } %>\n',__filename="src/blockTooltips/DropletParameterTooltip.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var i18n=__webpack_require__(13);if(__append('\n<div class="function-name">\n  '),__line=3,signatureOverride)__append("    "),__line=4,__append(escapeFn(signatureOverride)),__append("\n  "),__line=5;else{__line=10,__append("    "),__line=11,__append(escapeFn(functionName)),__append("(");for(var i=0;i<parameters.length;i++)__append('<span class="tooltip-parameter-name '),i===currentParameterIndex&&__append(" current-tooltip-parameter-name"),__append('">'),__append(parameters[i].name),__append("</span>"),i<parameters.length-1&&__append(", ");__append(")\n  "),__line=12}__append("\n</div>\n"),__line=14,parameters[currentParameterIndex]&&parameters[currentParameterIndex].description&&(__append("<div>"),__append(escapeFn(parameters[currentParameterIndex].description)),__append("</div>")),__append("\n"),__line=15,parameters[currentParameterIndex]&&parameters[currentParameterIndex].assetTooltip&&(__append('\n  <div class="tooltip-choose-link">\n    <a href="#">'),__line=17,__append(escapeFn(i18n.choosePrefix())),__append("</a>\n  </div>\n"),__line=19),__append("\n"),__line=20,showExamplesLink&&(__append('\n  <div class="tooltip-example-link">\n    <a href="#">'),__line=22,__append(escapeFn(i18n.examples())),__append("</a>\n  </div>\n"),__line=24),__append("\n"),__line=25}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},(e,t,n)=>{var r=n(1215),o=n(1216),i=n(1217),a=n(1218),s=n(870);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;u.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=o.getRSBlocks(e,this.errorCorrectLevel),n=new i,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=a.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},u.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var i=1*o,a=0;a<this.modules[o].length;a++){var s=1*a;this.modules[o][a]&&(r.beginFill(0,100),r.moveTo(s,i),r.lineTo(s+1,i),r.lineTo(s+1,i+1),r.lineTo(s,i+1),r.endFill())}return r},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(null==this.modules[r][o])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[r+i][o+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},u.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},u.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=a.getBCHTypeInfo(n),o=0;o<15;o++){var i=!e&&1==(r>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++){i=!e&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var u=!1;i<e.length&&(u=1==(e[i]>>>o&1)),a.getMask(t,r,s-l)&&(u=!u),this.modules[r][s-l]=u,-1==--o&&(i++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=o.getRSBlocks(e,t),s=new i,u=0;u<n.length;u++){var c=n[u];s.put(c.mode,4),s.put(c.getLength(),a.getLengthInBits(c.mode,e)),c.write(s)}var d=0;for(u=0;u<r.length;u++)d+=r[u].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d||(s.put(l.PAD0,8),s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,o=0,i=new Array(t.length),l=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,d=t[u].totalCount-c;r=Math.max(r,c),o=Math.max(o,d),i[u]=new Array(c);for(var f=0;f<i[u].length;f++)i[u][f]=255&e.buffer[f+n];n+=c;var p=a.getErrorCorrectPolynomial(d),h=new s(i[u],p.getLength()-1).mod(p);l[u]=new Array(p.getLength()-1);for(f=0;f<l[u].length;f++){var m=f+h.getLength()-l[u].length;l[u][f]=m>=0?h.get(m):0}}var g=0;for(f=0;f<t.length;f++)g+=t[f].totalCount;var y=new Array(g),v=0;for(f=0;f<r;f++)for(u=0;u<t.length;u++)f<i[u].length&&(y[v++]=i[u][f]);for(f=0;f<o;f++)for(u=0;u<t.length;u++)f<l[u].length&&(y[v++]=l[u][f]);return y},e.exports=l},(e,t,n)=>{"use strict";var r=i(n(2)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return o.default.createElement("div",null,o.default.createElement("table",null,o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("th",null,"Input"),o.default.createElement("th",null,"Output")),e.data.map((function(e,t){return o.default.createElement("tr",{key:t},o.default.createElement("td",null,e[0]),o.default.createElement("td",null,e[1]))})))))};a.propTypes={data:r.default.arrayOf(r.default.arrayOf(r.default.number)).isRequired},e.exports=a},,(e,t,n)=>{"use strict";var r=n(72);t.ZP=void 0;var o=r(n(689));o.default;var i=r(n(591));i.default;var a={end:o.default,properties:i.default};t.ZP=a},(e,t,n)=>{e.exports=n(824)},(e,t,n)=>{"use strict";var r=n(72);t.ZP=void 0;var o=r(n(469));o.default;var i=r(n(470));i.default;var a=r(n(696));a.default;var s=r(n(698));s.default;var l={on:o.default,off:i.default,filter:a.default,listen:s.default};t.ZP=l},(e,t,n)=>{e.exports=n(838)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";var r=n(1),o=n(1418);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},,(e,t,n)=>{"use strict";var r=u(n(631)),o=u(n(1)),i=u(n(36)),a=u(n(767)),s=u(n(753)),l=n(1305);function u(e){return e&&e.__esModule?e:{default:e}}var c,d=(0,a.default)((function(){return Promise.all([n.e(9),n.e(205)]).then(n.t.bind(n,1752,23))})),f=(0,a.default)((function(){return Promise.all([n.e(9),n.e(206)]).then(n.t.bind(n,1753,23))}));e.exports={showAssetManager:function(e,t,n,a){a=a||{};var u=new r.default,p=document.createElement("div"),h=e&&"function"==typeof e;c=new s.default({body:p,id:"manageAssetsModal",onHidden:function(){u.stopAllAudio(),n&&n()}});var m="audio"===t?f:d;i.default.render(o.default.createElement(m,{typeFilter:t,customAllowedExtensions:a.customAllowedExtensions,uploadsEnabled:!dashboard.project.exceedsAbuseThreshold(),useFilesApi:!!a.useFilesApi,assetChosen:h?function(t,n){c.hide(),e(t,n)}:null,showUnderageWarning:!!a.showUnderageWarning,projectId:dashboard.project.getCurrentId(),soundPlayer:u,disableAudioRecording:a.disableAudioRecording,recordingFileType:a.recordingFileType||l.RecordingFileType.MP3,elementId:a.elementId,libraryOnly:a.libraryOnly,currentValue:a.currentValue,currentImageType:a.currentImageType}),p),c.show()},hideAssetManager:function(){c&&c.hide()}}},(e,t,n)=>{var r=!!(n.g===n.g.window&&n.g.URL&&n.g.Blob&&n.g.Worker);function o(e,t){var o,i=this;if(t=t||{},r)return o=e.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new n.g.Worker(n.g.URL.createObjectURL(new n.g.Blob([o],{type:"text/javascript"})));this.self=t,this.self.postMessage=function(e){setTimeout((function(){i.onmessage({data:e})}),0)},setTimeout(e.bind(t,t),0)}o.prototype.postMessage=function(e){var t=this;setTimeout((function(){t.self.onmessage({data:e})}),0)},e.exports=o},(e,t,n)=>{"use strict";var r=a(n(32)),o=n(610),i=a(n(753));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(1207),l=n(1208),u=n(1209),c=n(1210);function d(e,t,n,r,o){this.appType=o,this.appMsg=e||{},this.tooltipsEnabled=!0,this.dropletConfig=t||{},this.codeFunctions=n,this.autocompletePaletteApisOnly=r,this.blockTypeToTooltip_={},this.docFuncMapping_={},this.dropletBlockTooltipManager_=new l(this),this.dropletAutocompletePopupTooltipManager_=new u(this),this.dropletAutocompleteParameterTooltipManager_=new c(this)}d.prototype.registerDropletBlockModeHandlers=function(e){this.dropletBlockTooltipManager_.installTooltipsForEditor_(e)},d.prototype.registerDropletTextModeHandlers=function(e){this.dropletAutocompletePopupTooltipManager_.installTooltipsForEditor_(e),this.dropletAutocompleteParameterTooltipManager_.installTooltipsForEditor_(e)},d.prototype.registerBlocks=function(){(0,o.getAllAvailableDropletBlocks)(this.dropletConfig,this.codeFunctions,this.autocompletePaletteApisOnly).forEach((function(e){var t=e.modeOptionName||e.func;e.docFunc?this.docFuncMapping_[t]=e.docFunc:this.blockTypeToTooltip_[t]=new s(this.appMsg,e)}),this)},d.prototype.getDocFor=function(e){var t=this.docFuncMapping_[e]||e;return this.blockTypeToTooltip_[t]},d.prototype.showDocFor=function(e){if(this.tooltipsEnabled){var t=this.getDropletTooltip(e);if(t.customDocURL)window.open(t.customDocURL,"_blank","noopener,noreferrer").focus();else(0,r.default)(".tooltipstered").tooltipster("hide"),new i.default({body:(0,r.default)("<iframe>").addClass("markdown-instructions-container").width("100%").attr("src",t.getFullDocumentationURL(this.appType)),autoResizeScrollableElement:".markdown-instructions-container",id:"block-documentation-lightbox",link:t.getFullDocumentationURL(this.appType)}).show()}},d.prototype.getDropletTooltip=function(e){var t=this.getDocFor(e);if(!t)throw"Function name "+e+" not registered in documentation manager.";return t},d.prototype.setTooltipsEnabled=function(e){this.tooltipsEnabled=!!e,this.dropletAutocompletePopupTooltipManager_.setTooltipsEnabled(e),this.dropletAutocompleteParameterTooltipManager_.setTooltipsEnabled(e),this.dropletBlockTooltipManager_.setTooltipsEnabled(e)},e.exports=d},(e,t,n)=>{var r=n(13),o=function(e,t){this.appMsg=e,this.functionName=t.func,this.isProperty="property"===t.type||"readonlyproperty"===t.type,this.tipPrefix=t.tipPrefix,this.customDocURL=t.customDocURL;var n=this.getLocalization(this.descriptionKey());this.showExamplesLink=!0,t.comment?(this.description=t.comment,this.showCodeLink=!0,this.showExamplesLink=!1):n&&(this.description=n());var r=this.getLocalization(this.signatureOverrideKey());r&&(this.signatureOverride=r()),this.parameterInfos=[];for(var o=0;;o++){var i={},a=this.getLocalization(this.parameterNameKey(o));if(i.name=a?a():t.paletteParams&&t.paletteParams[o],!i.name)break;var s=this.getLocalization(this.parameterDescriptionKey(o));s&&(i.description=s()),t.assetTooltip&&(i.assetTooltip=t.assetTooltip[o]),this.parameterInfos.push(i)}};o.prototype.getLocalization=function(e){return this.appMsg[e]||r[e]},o.prototype.descriptionKey=function(){return this.i18nPrefix()+"_description"},o.prototype.signatureOverrideKey=function(){return this.i18nPrefix()+"_signatureOverride"},o.prototype.parameterNameKey=function(e){return this.i18nPrefix()+"_param"+e},o.prototype.parameterDescriptionKey=function(e){return this.i18nPrefix()+"_param"+e+"_description"},o.prototype.i18nPrefix=function(){return"dropletBlock_"+this.functionName},o.prototype.getFullDocumentationURL=function(e){return this.customDocURL?this.customDocURL:"/docs/"+e+"/"+this.functionName+"/"},e.exports=o},(e,t,n)=>{"use strict";var r=s(n(32)),o=s(n(1)),i=s(n(36)),a=s(n(983));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(856),u=n(422),c=function(e){this.dropletTooltipManager=e,this.showExamplesLink=e.dropletConfig.showExamplesLink,this.tooltipsEnabled=!0},d={interactive:!0,speed:150,maxWidth:450,position:"right",contentAsHTML:!0,theme:"droplet-block-tooltipster",offsetY:2,delay:400};function f(e){return function(){try{e()}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}}c.prototype.installTooltipsForEditor_=function(e){this.installTooltipsForCurrentCategoryBlocks_(),this.hideTooltipsOnBlockPick_(e),e.on("changepalette",f(this.installTooltipsForCurrentCategoryBlocks_.bind(this))),e.on("toggledone",f(this.installTooltipsIfNotInstalled_.bind(this)))},c.prototype.installTooltipsIfNotInstalled_=function(){(0,r.default)(".droplet-hover-div").hasClass("tooltipstered")||this.installTooltipsForCurrentCategoryBlocks_()},c.prototype.installTooltipsForCurrentCategoryBlocks_=function(){this.tooltipsEnabled&&(0,r.default)(".droplet-hover-div").each(function(e,t){if(!(0,r.default)(t).hasClass("tooltipstered")){var n=(0,r.default)(t).attr("title"),s=t.getBoundingClientRect(),l=(0,r.default)(".droplet-palette-scroller").width(),c=Math.min(s.width,l);if(0!==c){var f=-s.height/2+2,p=Object.assign({},d,{content:this.getTooltipHTML(n),offsetX:c,offsetY:f,functionReady:function(e,t){var s=this.dropletTooltipManager.getDropletTooltip(n);if(s.showExamplesLink){var l=t.find(".tooltip-example-link > a")[0];u.addClickTouchEvent(l,function(e){this.dropletTooltipManager.showDocFor(n),e.stopPropagation()}.bind(this))}else if(s.showCodeLink){var c=t.find(".tooltip-code-link > a")[0];u.addClickTouchEvent(c,(function(e){var t=dashboard.project.getProjectLibraries(),s=n.split(".")[0],l=t.find((function(e){return e.name===s}));l&&((0,r.default)(".tooltipstered").tooltipster("hide"),(0,r.default)("body").append("<div id='libraryFunctionTooltipModal' />"),i.default.render(o.default.createElement(a.default,{title:l.name,description:l.description,onClose:function(){var e=document.getElementById("libraryFunctionTooltipModal");e.parentNode.removeChild(e)},sourceCode:l.source}),document.querySelector("#libraryFunctionTooltipModal")))}))}}.bind(this)});(0,r.default)(t).attr("data-block",n),(0,r.default)(t).attr("id","droplet_palette_block_"+n),(0,r.default)(t).tooltipster(p)}}}.bind(this))},c.prototype.hideTooltipsOnBlockPick_=function(e){e.on("pickblock",(function(){(0,r.default)(".tooltipstered").tooltipster("hide")}))},c.prototype.getTooltipHTML=function(e){var t=this.dropletTooltipManager.getDropletTooltip(e);return l({functionName:t.functionName,isProperty:t.isProperty,tipPrefix:t.tipPrefix,functionShortDescription:t.description,parameters:t.parameterInfos,signatureOverride:t.signatureOverride,showExamplesLink:t.showExamplesLink,showCodeLink:t.showCodeLink})},c.prototype.setTooltipsEnabled=function(e){this.tooltipsEnabled=!!e},e.exports=c},(e,t,n)=>{"use strict";var r,o=(r=n(32))&&r.__esModule?r:{default:r};var i=n(856),a=n(422),s=function(e){this.dropletTooltipManager=e,this.showExamplesLink=e.dropletConfig.showExamplesLink,this.tooltipsEnabled=!0},l={interactive:!0,autoClose:!1,trigger:"custom",speed:100,maxWidth:450,position:"left",contentAsHTML:!0,theme:"droplet-block-tooltipster",offsetY:2,restoration:"none",updateAnimation:!1};s.prototype.installTooltipsForEditor_=function(e){var t=e.aceEditor;this.editorChangedEventHandler_=this.setupOnPopupShown_.bind(this,t),t.commands.on("afterExec",this.editorChangedEventHandler_)},s.prototype.setupOnPopupShown_=function(e,t){"insertstring"===t.command.name&&(e.completer&&e.completer.popup&&(this.setupForEditorPopup_(e),e.commands.removeListener("afterExec",this.editorChangedEventHandler_),this.editorChangedEventHandler_=null))},s.prototype.setupForEditorPopup_=function(e){e.completer.popup.setSelectOnHover(!0),e.completer.popup.renderer.on("afterRender",function(){this.updateAutocompletePopupTooltip(e)}.bind(this)),e.completer.popup.on("hide",function(){this.destroyAutocompleteTooltips_()}.bind(this))},s.prototype.updateAutocompletePopupTooltip=function(e){if(this.tooltipsEnabled&&e.completer.completions){var t=e.completer.popup.getRow();if(!(t<0)){var n=e.completer.completions.filtered,r=n[t].docFunc||n[t].value;this.destroyAutocompleteTooltips_(),this.dropletTooltipManager.getDocFor(r)&&this.attachTooltipForFunction(r)}}},s.prototype.attachTooltipForFunction=function(e){var t=this.getTooltipHTML(e),n=Object.assign({},l,{content:t,functionReady:function(t,n){if(this.showExamplesLink){var r=n.find(".tooltip-example-link > a")[0];a.addMouseDownTouchEvent(r,function(t){this.dropletTooltipManager.showDocFor(e),t.stopPropagation()}.bind(this))}}.bind(this)}),r=(0,o.default)(".ace_selected");r.tooltipster(n),r.tooltipster("show")},s.prototype.destroyAutocompleteTooltips_=function(){(0,o.default)(".ace_autocomplete .tooltipstered").tooltipster("destroy")},s.prototype.getTooltipHTML=function(e){var t=this.dropletTooltipManager.getDropletTooltip(e);return i({functionName:t.functionName,isProperty:t.isProperty,tipPrefix:t.tipPrefix,functionShortDescription:t.description,parameters:t.parameterInfos,signatureOverride:t.signatureOverride,showExamplesLink:this.showExamplesLink})},s.prototype.setTooltipsEnabled=function(e){this.tooltipsEnabled=!!e},e.exports=s},(e,t,n)=>{"use strict";var r,o=(r=n(32))&&r.__esModule?r:{default:r},i=n(610);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(1070),c=n(1384),d=n(422),f=function(e){this.dropletTooltipManager=e,this.showExamplesLink=e.dropletConfig.showExamplesLink,this.showParamDropdowns=e.dropletConfig.showParamDropdowns,this.tooltipConfig={interactive:!0,autoClose:!1,trigger:"custom",speed:100,maxWidth:450,position:this.showParamDropdowns?"top":"bottom",contentAsHTML:!0,theme:"droplet-block-tooltipster",offsetY:2,restoration:"none",updateAnimation:!1,positionTracker:!0,tooltipsEnabled:!0}};f.prototype.installTooltipsForEditor_=function(e){var t=e.aceEditor,n=this.onCursorMovement_.bind(this,t);t.commands.on("afterExec",n),t.on("mousedown",function(e){this.hideTooltip_()}.bind(this))},f.prototype.onCursorMovement_=function(e,t){if(this.hideTooltip_(),e.selection.isEmpty()){var n=e.selection.getCursor(),r=c.findFunctionAndParamNumber(e,n);r&&(this.blockDropdownsAndTooltips||this.startingAutoComplete||(e.completer&&this.showParamDropdowns&&!["golineup","golinedown","gotoleft","gotoright"].includes(t.command.name)&&this.showParamDropdownIfNeeded_(e,r),this.updateParameterTooltip_(e,r)))}},f.prototype.showParamDropdownIfNeeded_=function(e,t){var n;if((0,i.getAllAvailableDropletBlocks)(this.dropletTooltipManager.dropletConfig,this.dropletTooltipManager.codeFunctions,this.autocompletePaletteApisOnly).forEach((function(r){!r.dropdown||r.func!==t.funcName&&r.modeOptionName!==t.funcName&&r.func!==t.fullFuncName||r.noAutocomplete||this.dropletTooltipManager.autocompletePaletteApisOnly&&this.dropletTooltipManager.codeFunctions&&void 0===this.dropletTooltipManager.codeFunctions[r.func]||(n="function"==typeof r.dropdown[t.currentParameterIndex]?r.dropdown[t.currentParameterIndex](e):r.dropdown[t.currentParameterIndex])}),this),n){if(e.completer.activated){if(e.completer.lastGatheredWithOverride)return;e.completer.detach()}this.installAceCompleterHooks_(e);var r=[];n.forEach((function(e){var t,n;"string"==typeof e?t=e:(t=e.text,n=e.click),r.push({name:"dropdown",value:t,click:n})})),e.completer.overrideCompleter={getCompletions:function(e,t,n,o,i){i(null,r)}},this.startingAutoComplete=!0,e.execCommand("startAutocomplete"),this.startingAutoComplete=!1}},f.prototype.updateParameterTooltip_=function(e,t){if(this.tooltipConfig.tooltipsEnabled){var n;if(this.dropletTooltipManager.getDocFor(t.funcName))n=t.funcName;else{if(!this.dropletTooltipManager.getDocFor(t.fullFuncName))return;n=t.fullFuncName}var r=this.dropletTooltipManager.getDropletTooltip(n),i=r.parameterInfos.length>0;if(!(i&&t.currentParameterIndex>=r.parameterInfos.length)){var a=this.createOrUpdateCursorTooltip_();if(a.tooltipster("content",this.getTooltipHTML(r,t.currentParameterIndex)),a.tooltipster("show"),this.showExamplesLink){var s=(0,o.default)(a.tooltipster("elementTooltip")).find(".tooltip-example-link > a")[0];d.addClickTouchEvent(s,function(e){this.dropletTooltipManager.showDocFor(n),e.stopPropagation()}.bind(this))}if(i){var l=r.parameterInfos[t.currentParameterIndex].assetTooltip;if(l){var u=(0,o.default)(a.tooltipster("elementTooltip")).find(".tooltip-choose-link > a")[0];d.addClickTouchEvent(u,function(t){this.hideTooltip_(),l((function(t){e.onTextInput('"'+t+'"')})),t.stopPropagation()}.bind(this))}}}}},f.prototype.hideTooltip_=function(){this.cursorTooltip_&&this.cursorTooltip_.tooltipster("hide")};f.prototype.getDesiredTooltipPosition_=function(){var e=(0,o.default)(".ace_editor")[0].getBoundingClientRect(),t=this.cursorTooltip_[0].getBoundingClientRect(),n=this.showParamDropdowns&&(t.top-e.top<150||e.bottom-t.bottom<150),r=0,i=this.tooltipConfig.position;return n&&(i="left",r=Math.max(0,t.left-(window.innerWidth-100-280))),{position:i,offsetX:r}},f.prototype.createOrUpdateCursorTooltip_=function(){this.cursorTooltip_||(this.cursorTooltip_=(0,o.default)(".droplet-ace .ace_cursor"));var e,t,n=this.getDesiredTooltipPosition_(),r=n.position,i=n.offsetX;try{e=this.cursorTooltip_.tooltipster("option","position"),t=this.cursorTooltip_.tooltipster("option","offsetX")}catch(a){}if(r!==e||i!==t){try{this.cursorTooltip_.tooltipster("destroy")}catch(a){}this.cursorTooltip_.tooltipster(s(s({},this.tooltipConfig),{},{position:r,offsetX:i}))}return this.cursorTooltip_},f.prototype.getTooltipHTML=function(e,t){return u({funcName:e.functionName,functionName:e.functionName,isProperty:e.isProperty,tipPrefix:e.tipPrefix,functionShortDescription:e.description,parameters:e.parameterInfos,signatureOverride:e.signatureOverride,showExamplesLink:this.showExamplesLink,currentParameterIndex:t})},f.prototype.installAceCompleterHooks_=function(e){e.completer.showPopup!==f.showPopup&&(f.originalShowPopup=e.completer.showPopup,e.completer.showPopup=f.showPopup),e.completer.gatherCompletions!==f.gatherCompletions&&(f.originalGatherCompletions=e.completer.gatherCompletions,e.completer.gatherCompletions=f.gatherCompletions),e.completer.insertMatchOverride||(e.completer.insertMatchOverride=f.insertMatch.bind(e.completer,this)),e.completer.insertMatch!==e.completer.insertMatchOverride&&(f.originalInsertMatch=e.completer.insertMatch,e.completer.insertMatch=e.completer.insertMatchOverride)},f.gatherCompletions=function(e,t){if(this.overrideCompleter){var n=e.completers;e.completers=[this.overrideCompleter],e.completer.autoInsert=!1,e.completer.lastGatheredWithOverride=!0,f.originalGatherCompletions.call(this,e,t),e.completers=n}else e.completer.lastGatheredWithOverride=!1,f.originalGatherCompletions.call(this,e,t)},f.showPopup=function(e){f.originalShowPopup.call(this,e),this.overrideCompleter=null},f.insertMatch=function(e,t){var n=this;if(t||(t=this.popup.getData(this.popup.getRow())),!t)return!1;var r=function(e,t){var r=n.editor.completer.completions;t&&(n.editor.completer.completions=t),n.editor.completer.lastGatheredWithOverride?f.customInsertMatch(e,n.editor):f.originalInsertMatch.call(n,e),t&&(n.editor.completer.completions=r)};if(t.click){var o=this.editor.completer.completions;this.detach(),e.hideTooltip_(),e.blockDropdownsAndTooltips=!0,ace.require("./lib/lang").delayedCall((function(){t.click((function(t){r(t,o),e.blockDropdownsAndTooltips=!1}))})).schedule()}else r(t)},f.retrieveToEndOfQuotedText=function(e,t,n){var r=e.substring(t);if(r){var o=r.indexOf(n);return-1===o?r:r.substring(0,o+1)}return r},f.customInsertMatch=function(e,t){var n=ace.require("ace/autocomplete/util"),r=t.completer.completions.filterText;if(r)for(var o,i=t.selection.getAllRanges(),a=0;o=i[a];a++){o.start.column-=t.completer.completions.filterText.length;var s=t.session.getLine(o.end.row),l=r[0];if('"'===l||"'"===l){var u=this.retrieveToEndOfQuotedText(s,o.end.column,l).length;o.end.column+=u}else{var c=n.retrieveFollowingIdentifier(s,o.end.column).length;o.end.column+=c}t.session.remove(o)}t.execCommand("insertstring",e.value||e)},f.prototype.setTooltipsEnabled=function(e){this.tooltipConfig.tooltipsEnabled=!!e},e.exports=f},(e,t,n)=>{"use strict";var r=I(n(32)),o=n(136),i=I(n(1)),a=n(27),s=I(n(36)),l=I(n(13)),u=I(n(422)),c=I(n(753)),d=I(n(844)),f=I(n(450)),p=I(n(855)),h=I(n(872)),m=I(n(1002)),g=I(n(1055)),y=I(n(1056)),v=n(392),b=I(n(142)),_=n(890),w=I(n(1016)),E=I(n(1214)),O=n(754),S=n(33),T=I(n(810)),C=n(137),k=I(n(867)),A=I(n(131)),P=I(n(138)),x=I(n(750));function I(e){return e&&e.__esModule?e:{default:e}}var R=["draw_colour","alpha","comment"],D="default",j=function(e){this.studioApp_=e};function N(e,t,n){P.default.isEnabled(P.default.FINISH_DIALOG_METRICS)&&A.default.putRecord({study:"feedback_dialog",study_group:D,event:e,data_json:JSON.stringify({level_type:t.level?t.level.skin:null,level_id:t.response?t.response.level_id:null,level_path:t.response?t.response.level_path:null,isPerfectBlockCount:n})})}e.exports=j,j.prototype.displayFeedback=function(e,t,n,c,m){e.level=e.level||{};var g,y=e.onContinue,v=e.shareLink,b=e.response&&e.response.share_failure,E=e.showingSharing&&!b&&v,T=this.canContinueToNextLevel(e.feedbackType),C=this.studioApp_.enableShowCode&&this.studioApp_.enableShowLinesCount&&T&&!E,k=document.createElement("div"),A=T&&E?this.createSharingDiv(e):null,P=C?this.getShowCodeElement_(e):null,x=b?this.getShareFailure_(e):null;this.studioApp_.isUsingBlockly()&&(g=new p.default(e,this.getMissingBlocks_(t,n),this.getMissingBlocks_(c,m)));var I=this.getFeedbackMessageElement_(e);if(I&&k.appendChild(I),g&&g.div&&k.appendChild(g.div),A&&k.appendChild(A),E){var R=document.createElement("div");R.className="share-code-spacer",k.appendChild(R)}x&&k.appendChild(x),P&&k.appendChild(P),e.level.isK1&&(k.className+=" k1"),e.appDiv&&k.appendChild(e.appDiv),k.className+=T?" win-feedback":" failure-feedback",k.appendChild(this.getFeedbackButtons_({feedbackType:e.feedbackType,tryAgainText:e.tryAgainText,hideTryAgain:e.hideTryAgain,keepPlayingText:e.keepPlayingText,continueText:e.continueText,isK1:e.level.isK1,freePlay:e.level.freePlay,finalLevel:e.level.isLastLevelInLesson}));var L=k.querySelector("#again-button"),M=k.querySelector("#hint-request-button"),B=k.querySelector("#continue-button");this.studioApp_.share&&(B.style.display="none");var F=B&&!L||e.defaultToContinue,U=this.getMissingBlockHints(c,e.level.isK1),H=function(){U.filter((function(e){return g&&g.xml&&g.xml.indexOf(e.blockDisplayXML)>-1})).forEach((function(e){e.alreadySeen=!0}))};E&&f.default.saveIfSourcesChanged();var W,q=function(){B||this.studioApp_.displayMissingBlockHints(U)}.bind(this);e.hideIcon||(W=!T||this.studioApp_.hasContainedLevels&&!(0,_.getValidatedResult)()?this.studioApp_.failureIcon:this.studioApp_.winIcon);var z=F?"#continue-button":"#again-button",V=this.getNumCountableBlocks(),G=this.studioApp_.IDEAL_BLOCK_NUM,$=V<=G,K=e.response&&e.response.puzzle_ratings_enabled;if(E?(D="share",G!==1/0&&(D+="_validate")):G!==1/0&&(D="validate"),(0,o.getStore)().getState().pageConstants.isChallengeLevel){var Y=document.createElement("div");document.body.appendChild(Y);var X=y;return K&&(X=function(){h.default.cachePuzzleRating(Y,{script_id:e.response.script_id,level_id:e.response.level_id}),y()}),void s.default.render(i.default.createElement(d.default,{title:$?l.default.challengeLevelPerfectTitle():l.default.challengeLevelPassTitle(),avatar:W,text:$?null:l.default.challengeLevelPassText({idealBlocks:G}),complete:$,handlePrimary:X,primaryButtonLabel:l.default.continue(),cancelButtonLabel:l.default.tryAgain(),showPuzzleRatingButtons:K},C&&this.getShowCodeComponent_(e,!0)),Y)}(0,r.default)("#feedback-dialog").remove();var J=this.createModalDialog({contentDiv:k,icon:W,defaultBtnSelector:z,onHidden:q,id:"feedback-dialog",showXButton:!e.hideXButton});if(L&&u.default.addClickTouchEvent(L,(function(){N("replay_level",e,G===1/0?null:$),J.hide()})),M)if(e.response&&e.response.hint_view_requests&&e.response.hint_view_requests.some((function(t){var n=t.feedback_type===e.feedbackType;return g&&g.xml&&(n=n&&t.feedback_xml===g.xml),n})))M.parentNode.removeChild(M),H();else{var Z=this.getFeedbackMessageElement_({message:l.default.tryBlocksBelowFeedback()});g&&g.div&&g.hide(),u.default.addClickTouchEvent(M,(function(){H(),I.parentNode.replaceChild(Z,I),M.parentNode.removeChild(M),g&&g.div&&g.show(),e.response.hint_view_request_url&&r.default.ajax({url:e.response.hint_view_request_url,type:"POST",data:{script_id:e.response.script_id,level_id:e.response.level_id,feedback_type:e.feedbackType,feedback_xml:g?g.xml:void 0}})}))}B&&(e.response&&e.response.puzzle_ratings_enabled&&k.appendChild(h.default.buildPuzzleRatingButtons()),u.default.addClickTouchEvent(B,(function(){N("continue",e,G===1/0?null:$),J.hide(),e.response&&e.response.puzzle_ratings_enabled&&h.default.cachePuzzleRating(k,{script_id:e.response.script_id,level_id:e.response.level_id}),e.onContinue()})));var Q=null,ee=null,te="#save-to-project-gallery-button",ne=k.querySelector(te);ne&&u.default.addClickTouchEvent(ne,(function(){(0,r.default)(te).prop("disabled",!0).text(l.default.addingToProjects()),f.default.copy(f.default.getNewProjectName()).then((function(){return j.saveThumbnail(e.feedbackImage)})).then((function(){Q=f.default.getCurrentId(),ee=f.default.getStandaloneApp(),(0,r.default)(te).prop("disabled",!0).text(l.default.addedToProjects())})).catch((function(e){return console.log(e)}))}));var re="#publish-to-project-gallery-button",oe=k.querySelector(re);oe&&u.default.addClickTouchEvent(oe,(function(){J.hide();var t=(0,o.getStore)();if(Q&&ee){t.dispatch((0,O.showPublishDialog)(Q,ee));var n=j.getPublishDialogElement();s.default.render(i.default.createElement(a.Provider,{store:t},i.default.createElement(w.default,{afterPublish:function(){return ae(!0)}})),n)}else j.showConfirmPublishDialog((function(){t.dispatch({type:O.PUBLISH_REQUEST});var n=!1;f.default.copy(f.default.getNewProjectName(),{shouldPublish:!0}).then((function(){return j.saveThumbnail(e.feedbackImage)})).then((function(){t.dispatch({type:O.PUBLISH_SUCCESS}),n=!0})).catch((function(e){console.log(e),t.dispatch({type:O.PUBLISH_FAILURE})})).then((function(){n&&ae(!0)}))}))}));var ie=k.querySelector("#print-button");function ae(e){J.show({backdrop:"flappy"!==(0,o.getStore)().getState().pageConstants.appType||"static"}),e&&((0,r.default)(re).prop("disabled",!0).text(l.default.published()),(0,r.default)(te).prop("disabled",!0).text(l.default.savedToGallery()))}ie&&u.default.addClickTouchEvent(ie,(function(){(0,S.createHiddenPrintWindow)(e.feedbackImage)})),ae(),g&&g.div&&g.render()},j.showConfirmPublishDialog=function(e){var t=(0,o.getStore)();t.dispatch((0,O.showPublishDialog)());var n=j.getPublishDialogElement();s.default.render(i.default.createElement(a.Provider,{store:t},i.default.createElement(w.default,{onConfirmPublishOverride:e})),n)},j.getPublishDialogElement=function(){var e=document.getElementById("legacy-share-publish-dialog");return e||((e=document.createElement("div")).id="legacy-share-publish-dialog",document.body.appendChild(e)),e},j.saveThumbnail=function(e){return e?(0,v.dataURIToBlob)(e).then(f.default.saveThumbnail).then((function(){return f.default.saveIfSourcesChanged()})):Promise.resolve()},j.prototype.getNumBlocksUsed=function(){if(this.studioApp_.editCode){for(var e=0,t=this.getGeneratedCodeString_().split("\n"),n=0;n<t.length;n++)t[n].length>1&&("/"!==t[n][0]||"/"!==t[n][1])&&e++;return e}return this.studioApp_.isUsingBlockly()?this.getUserBlocks_().length:0},j.prototype.getNumCountableBlocks=function(){var e;if((0,o.getStore)().getState().pageConstants.isBramble)return 0;if(this.studioApp_.editCode){var t=0,n=this.getGeneratedCodeString_().split("\n");for(e=0;e<n.length;e++)n[e].length>1&&("/"!==n[e][0]||"/"!==n[e][1])&&t++;return t}return this.getCountableBlocks_().length},j.prototype.getFeedbackButtons_=function(e){var t=document.createElement("div");t.id="feedbackButtons";var n=void 0;return e.hideTryAgain||(n=e.tryAgainText?e.tryAgainText:this.studioApp_.hasContainedLevels?l.default.reviewCode():e.feedbackType===C.TestResults.FREE_PLAY?l.default.keepPlaying():e.feedbackType===C.TestResults.FREE_PLAY_UNCHANGED_FAIL?l.default.keepWorking():e.feedbackType<C.TestResults.MINIMUM_OPTIMAL_RESULT?l.default.tryAgain():l.default.replayButton()),s.default.render(i.default.createElement(m.default,{tryAgain:n,continueText:e.continueText||(e.finalLevel?l.default.finish():l.default.continue()),nextLevel:this.canContinueToNextLevel(e.feedbackType),shouldPromptForHint:this.shouldPromptForHint(e.feedbackType),isK1:e.isK1,assetUrl:this.studioApp_.assetUrl,freePlay:e.freePlay}),t),t},j.prototype.getShareFailure_=function(e){var t=e.response.share_failure,r=document.createElement("div");return r.innerHTML=n(1230)({shareFailure:t}),r},j.prototype.getFeedbackMessage=function(e){var t,n,r,o,i,a;if(e.feedbackType<C.TestResults.ALL_PASS&&null!==(t=e.level)&&void 0!==t&&t.failureMessageOverride)a=e.level.failureMessageOverride;else if(e.message)a=e.message;else if(null!==(n=e.response)&&void 0!==n&&n.share_failure)a=l.default.shareFailure();else switch(e.feedbackType){case C.TestResults.FREE_PLAY_UNCHANGED_FAIL:N("level_unchanged_failure",e,null),a=e.useDialog?l.default.freePlayUnchangedFail():l.default.freePlayUnchangedFailInline();break;case C.TestResults.RUNTIME_ERROR_FAIL:a=l.default.runtimeErrorMsg({lineNumber:e.executionError.lineNumber});break;case C.TestResults.SYNTAX_ERROR_FAIL:a=l.default.syntaxErrorMsg({lineNumber:e.executionError.lineNumber});break;case C.TestResults.EMPTY_BLOCK_FAIL:a=e.level.emptyBlocksErrorMsg||l.default.emptyBlocksErrorMsg();break;case C.TestResults.EMPTY_FUNCTION_BLOCK_FAIL:a=e.level.emptyFunctionBlocksErrorMsg?e.level.emptyFunctionBlocksErrorMsg:Blockly.useContractEditor||Blockly.useModalFunctionEditor?l.default.errorEmptyFunctionBlockModal():l.default.emptyFunctionBlocksErrorMsg();break;case C.TestResults.TOO_FEW_BLOCKS_FAIL:a=e.level.tooFewBlocksMsg||e.level.levelIncompleteError||l.default.levelIncompleteError();break;case C.TestResults.LEVEL_INCOMPLETE_FAIL:case C.TestResults.LOG_CONDITION_FAIL:a=e.level.levelIncompleteError||l.default.levelIncompleteError();break;case C.TestResults.EXTRA_TOP_BLOCKS_FAIL:var s=Blockly.mainBlockSpace.getTopBlocks().some((function(e){return"when_run"===e.type&&e.isUserVisible()})),u=s?l.default.extraTopBlocksWhenRun():l.default.extraTopBlocks();a=e.level.extraTopBlocks||u;break;case C.TestResults.APP_SPECIFIC_FAIL:a=e.level.appSpecificFailError;break;case C.TestResults.GENERIC_LINT_FAIL:a=l.default.errorGenericLintError();break;case C.TestResults.UNUSED_PARAM:a=l.default.errorUnusedParam();break;case C.TestResults.UNUSED_FUNCTION:a=l.default.errorUnusedFunction();break;case C.TestResults.PARAM_INPUT_UNATTACHED:a=l.default.errorParamInputUnattached();break;case C.TestResults.INCOMPLETE_BLOCK_IN_FUNCTION:a=l.default.errorIncompleteBlockInFunction();break;case C.TestResults.QUESTION_MARKS_IN_NUMBER_FIELD:a=l.default.errorQuestionMarksInNumberField();break;case C.TestResults.BLOCK_LIMIT_FAIL:var c=this.hasExceededLimitedBlocks_(),d=Blockly.cdoUtils.getBlockLimit(c),f="<xml><block type='".concat(c,"'></block></xml>");a=l.default.errorExceededLimitedBlocks({limit:d})+f;break;case C.TestResults.TOO_MANY_BLOCKS_FAIL:a=(e.appStrings&&e.appStrings.tooManyBlocksFailMsgFunction||l.default.numBlocksNeeded)({numBlocks:this.studioApp_.IDEAL_BLOCK_NUM,puzzleNumber:e.level.puzzle_number||0});break;case C.TestResults.APP_SPECIFIC_ACCEPTABLE_FAIL:a=e.level.appSpecificAcceptableFailError;break;case C.TestResults.EDIT_BLOCKS:a=e.level.edit_blocks_success;break;case C.TestResults.MISSING_BLOCK_UNFINISHED:case C.TestResults.MISSING_BLOCK_FINISHED:a=e.level.missingRequiredBlocksErrorMsg||l.default.missingRequiredBlocksErrorMsg();break;case C.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED:a=l.default.missingRecommendedBlocksErrorMsg();break;case C.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED:var p=this.getNumCountableBlocks();a=this.studioApp_.IDEAL_BLOCK_NUM&&p>this.studioApp_.IDEAL_BLOCK_NUM?l.default.numBlocksNeeded({numBlocks:this.studioApp_.IDEAL_BLOCK_NUM,puzzleNumber:e.level.puzzle_number||0}):l.default.completedWithoutRecommendedBlock({puzzleNumber:e.level.puzzle_number||0});break;case C.TestResults.NESTED_FOR_SAME_VARIABLE:a=l.default.nestedForSameVariable();break;case C.TestResults.ALL_PASS:case C.TestResults.FREE_PLAY:case C.TestResults.BETTER_THAN_IDEAL:case C.TestResults.PASS_WITH_EXTRA_TOP_BLOCKS:var h=null===(r=e.level)||void 0===r?void 0:r.isLastLevelInLesson;if(h&&null!==(o=e.level)&&void 0!==o&&o.showEndOfLessonMsgs){a=l.default.endOfLesson();break}var m=null;null!==(i=e.response)&&void 0!==i&&i.lesson_changing&&(m=e.response.lesson_changing.previous.name);var g={lessonNumber:0,stageName:m,puzzleNumber:e.level.puzzle_number||0};if(C.TestResults.FREE_PLAY!==e.feedbackType||e.level.disableSharing){var y,v=(null===(y=e.appStrings)||void 0===y?void 0:y.nextLevelMsg)||l.default.nextLevel(g);a=h?l.default.finalStage(g):m?l.default.nextStage(g):v}else{var b,_=(null===(b=e.appStrings)||void 0===b?void 0:b.reinfFeedbackMsg)||"";e.level.disableFinalLessonMessage?a=_:(a=h?l.default.finalStage(g)+" ":"",a+=_)}}return a},j.prototype.getFeedbackMessageElement_=function(e){var t=document.createElement("p");t.className="congrats";var n=this.getFeedbackMessage(e);return(0,r.default)(t).text(n),t},j.prototype.createSharingDiv=function(e){if(this.studioApp_.disableSocialShare||window.appOptions.disableSocialShare||e.disableSocialShare)e.twitterUrl=void 0,e.facebookUrl=void 0;else{var t="https://twitter.com/intent/tweet?url="+e.shareLink;e.twitter&&void 0!==e.twitter.text?t+="&text="+encodeURI(e.twitter.text):t+="&text="+encodeURI(l.default.defaultTwitterText()+" @codeorg"),e.twitter&&void 0!==e.twitter.hashtag?t+="&hashtags="+e.twitter.hashtag:t+="&hashtags=HourOfCode",e.twitter&&void 0!==e.twitter.related?t+="&related="+e.twitter.related:t+="&related=codeorg",e.twitterUrl=t;var c="https://www.facebook.com/sharer/sharer.php?u="+e.shareLink;e.facebookUrl=c}e.assetUrl=this.studioApp_.assetUrl,e.downloadReplayVideo="dance"===(0,o.getStore)().getState().pageConstants.appType&&window.appOptions.signedReplayLogUrl;var d=document.createElement("div");d.setAttribute("id","sharing"),d.innerHTML=n(1231)({options:e}),window.dashboard&&window.dashboard.popupWindow&&(0,r.default)(d).find("a.popup-window").click(window.dashboard.popupWindow);var p=d.querySelector("#sharing-dialog-copy-button");p&&u.default.addClickTouchEvent(p,(function(){(0,x.default)(e.shareLink,(function(){p.className="sharing-dialog-copy-button-shared"}))}));var h=d.querySelector("#sharing-facebook");h&&(0,T.default)("https://facebook.com/favicon.ico?"+Math.random(),(function(){return(0,r.default)(h).show()}));var m=d.querySelector("#sharing-twitter");m&&(0,T.default)("https://twitter.com/favicon.ico?"+Math.random(),(function(){return(0,r.default)(m).show()}));var g=d.querySelector("#sharing-phone");u.default.addClickTouchEvent(g,(function(){var t=d.querySelector("#send-to-phone");if((0,r.default)(t).is(":hidden")){(0,r.default)(t).show();var n=d.querySelector("#send-to-phone-qr-code"),o=e.shareLink+"?qr=true";if(s.default.render(i.default.createElement(k.default,{value:o,size:90}),n),g&&e.isUS){var a=(0,r.default)(d.querySelector("#phone")),l=!1,c=d.querySelector("#phone-submit");c.disabled=!0,a.mask("(000) 000-0000",{onComplete:function(){l||(c.disabled=!1)},onChange:function(){c.disabled=!0}}),a.focus(),u.default.addClickTouchEvent(c,(function(){var t=(0,r.default)(d.querySelector("#phone")),n=r.default.param({level_source:e.response.level_source_id,channel_id:e.channelId,type:f.default.getStandaloneApp(),phone:t.val()});(0,r.default)(c).val("Sending.."),t.prop("readonly",!0),c.disabled=!0,l=!0,r.default.post(e.response.phone_share_url,n).done((function(e){(0,r.default)(c).text("Sent!"),(0,b.default)("SendToPhone","success")})).fail((function(e){(0,r.default)(c).text("Error!"),(0,b.default)("SendToPhone","error")}))}))}}else(0,r.default)(t).hide()}));var y=d.querySelector("#download-replay-video-container");if(y){s.default.render(i.default.createElement(a.Provider,{store:(0,o.getStore)()},i.default.createElement(E.default,{onError:function(){return(0,r.default)("#download-replay-video-error").show()}})),y)}return d},j.prototype.getShowCodeElement_=function(e){var t=document.createElement("div");return t.setAttribute("id","show-code"),s.default.render(this.getShowCodeComponent_(e),t),r.default.fn.details&&(0,r.default)(t).find("details").details(),t},j.prototype.getShowCodeComponent_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getNumBlocksUsed(),r=this.getGeneratedCodeProperties({generatedCodeDescription:e.appStrings&&e.appStrings.generatedCodeDescription});return i.default.createElement(g.default,{numLinesWritten:n,useChallengeStyles:t},i.default.createElement(y.default,{message:r.message,code:r.code}))},j.prototype.canContinueToNextLevel=function(e){return e>=C.TestResults.MINIMUM_PASS_RESULT},j.prototype.shouldPromptForHint=function(e){return e===C.TestResults.MISSING_BLOCK_UNFINISHED||e===C.TestResults.MISSING_BLOCK_FINISHED||e===C.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED||e===C.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED},j.prototype.getGeneratedCodeString_=function(){return(0,o.getStore)().getState().pageConstants.isBramble?"":this.studioApp_.editCode?this.studioApp_.editor?this.studioApp_.editor.getValue():"":Blockly.getWorkspaceCode()},j.prototype.getGeneratedCodeProperties=function(e){e=e||{};var t=this.getGeneratedCodeDescriptions_({berkeleyLink:"<a href='http://bjc.berkeley.edu/' target='_blank'>Berkeley</a>",harvardLink:"<a href='https://cs50.harvard.edu/' target='_blank'>Harvard</a>"},e.generatedCodeDescription);return{message:t.message,shortMessage:t.shortMessage,code:this.studioApp_.polishGeneratedCodeString(this.getGeneratedCodeString_())}},j.prototype.getGeneratedCodeDescriptions_=function(e,t){return this.studioApp_.editCode?{message:"",shortMessage:""}:t?{message:t,shortMessage:t}:{message:l.default.generatedCodeInfo(e),shortMessage:l.default.shortGeneratedCodeInfo(e)}},j.prototype.showGeneratedCode=function(e){var t=document.createElement("div"),n=this.getGeneratedCodeProperties({generatedCodeDescription:e&&e.generatedCodeDescription});s.default.render(i.default.createElement("div",null,i.default.createElement(y.default,{message:n.message,code:n.code}),i.default.createElement(m.default,{ok:!0})),t);var r=this.createModalDialog({contentDiv:t,icon:this.studioApp_.icon,defaultBtnSelector:"#ok-button"}),o=t.querySelector("#ok-button");o&&u.default.addClickTouchEvent(o,(function(){r.hide()})),r.show()},j.prototype.showClearPuzzleConfirmation=function(e,t){this.showSimpleDialog({headerText:l.default.clearPuzzleConfirmHeader(),bodyText:l.default.clearPuzzleConfirm(),confirmText:l.default.clearPuzzle(),cancelText:l.default.dialogCancel(),onConfirm:t,onCancel:null,hideIcon:e})},j.prototype.showSimpleDialog=function(e){var t=s.default.render(i.default.createElement("div",null,e.headerText&&i.default.createElement("p",{className:"dialog-title"},e.headerText),e.bodyText&&i.default.createElement("p",null,e.bodyText),e.prompt&&i.default.createElement("input",{style:{marginBottom:10},defaultValue:e.promptPrefill}),i.default.createElement(m.default,{confirmText:e.confirmText,cancelText:e.cancelText,cancelButtonClass:e.cancelButtonClass})),document.createElement("div")),n=this.createModalDialog({contentDiv:t,icon:e.hideIcon?null:this.studioApp_.icon,defaultBtnSelector:"#again-button"}),r=t.querySelector("#again-button"),o=t.querySelector("input");r&&u.default.addClickTouchEvent(r,(function(){e.onCancel&&(o?e.onCancel(o.value):e.onCancel()),n.hide()}));var a=t.querySelector("#confirm-button");a&&u.default.addClickTouchEvent(a,(function(){e.onConfirm&&e.onConfirm(),n.hide()})),n.show(),o&&(o.focus(),o.select())},j.prototype.showToggleBlocksError=function(){var e=document.createElement("div");e.innerHTML=l.default.toggleBlocksErrorMsg();var t=document.createElement("div");s.default.render(i.default.createElement(m.default,{ok:!0}),t),e.appendChild(t);var n=this.createModalDialog({contentDiv:e,icon:this.studioApp_.icon,defaultBtnSelector:"#ok-button"}),r=t.querySelector("#ok-button");r&&u.default.addClickTouchEvent(r,(function(){n.hide()})),n.show()},j.prototype.getEmptyContainerBlock_=function(){var e=Blockly.mainBlockSpace.getAllUsedBlocks();return Blockly.findEmptyContainerBlock(e)},j.prototype.checkForEmptyContainerBlockFailure_=function(){var e=this.getEmptyContainerBlock_();if(!e)return C.TestResults.ALL_PASS;var t=e.type;if("procedures_defnoreturn"===t||"procedures_defreturn"===t){var n=e.getProcedureInfo();return Blockly.mainBlockSpace.getAllUsedBlocks().filter((function(e){return e.type===n.callType&&e.getFieldValue("NAME")===n.name})).length?C.TestResults.EMPTY_FUNCTION_BLOCK_FAIL:C.TestResults.ALL_PASS}return C.TestResults.EMPTY_BLOCK_FAIL},j.prototype.throwOnInvalidExampleBlocks=function(e,t){if(!e)throw new Error("Invalid Call Block");if(!t)throw new Error("Invalid Result Block");if(t.hasUnfilledFunctionalInput())throw new Error("Result has unfilled inputs");if(e.hasUnfilledFunctionalInput())throw new Error("Call has unfilled inputs")},j.prototype.hasAllBlocks_=function(e){return 0===this.getMissingBlocks_(e,1).blocksToDisplay.length},j.prototype.getUserBlocks_=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().filter((function(e){var t=!e.disabled&&"when_run"!==e.type;return Blockly.cdoUtils.isWorkspaceReadOnly(Blockly.mainBlockSpace)||(t=t&&e.isEditable()),t}))},j.blockShouldBeCounted_=function(e){if(e.disabled)return!1;for(;null!==e;){if(R.indexOf(e.type)>-1)return!1;e=e.getSurroundParent()}return!0},j.prototype.getCountableBlocks_=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().filter(j.blockShouldBeCounted_)},j.prototype.getMissingBlockHints=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getMissingBlocks_(e,1).blocksToDisplay.map((function(e){return e.alreadySeen=t,e}))},j.prototype.getMissingBlocks_=function(e,t){var n=[],r=null,o=null;if(e&&e.length)for(var i=this.getUserBlocks_(),a=0,s=0;s<e.length&&a<t;s++){for(var l=e[s],u=!1,c=0;c<l.length;c++){var d=l[c].test;if("string"==typeof d){if(-1!==(o=o||Blockly.Generator.blockSpaceToCode("JavaScript")).indexOf(d)){u=!0;break}}else{if("function"!=typeof d)throw new Error("Bad test: "+d);if(i.some(d)){u=!0;break}r=l[c].message||r}}u||(a++,n=n.concat(e[s][0]))}return{blocksToDisplay:n,message:r}},j.prototype.hasExtraTopBlocks=function(){if(this.studioApp_.editCode||(0,o.getStore)().getState().pageConstants.isBramble)return!1;for(var e=Blockly.mainBlockSpace.getTopBlocks(),t=0;t<e.length;t++)if(!e[t].disabled&&"functional_definition"!==e[t].type&&(e[t].previousConnection||e[t].outputConnection))return!0;return!1},j.prototype.getTestResults=function(e,t,n,r,i){if(i=i||{},(0,o.getStore)().getState().pageConstants.isBramble)return C.TestResults.FREE_PLAY;if(this.studioApp_.editCode)return e?C.TestResults.ALL_PASS:i.executionError&&i.executionError.err instanceof SyntaxError?C.TestResults.SYNTAX_ERROR_FAIL:i.executionError?C.TestResults.RUNTIME_ERROR_FAIL:C.TestResults.TOO_FEW_BLOCKS_FAIL;if(r){var a=this.checkForEmptyContainerBlockFailure_();if(a!==C.TestResults.ALL_PASS)return a}if(!Blockly.showUnusedBlocks&&!i.allowTopBlocks&&this.hasExtraTopBlocks())return C.TestResults.EXTRA_TOP_BLOCKS_FAIL;if(this.studioApp_.hasDuplicateVariablesInForLoops())return C.TestResults.NESTED_FOR_SAME_VARIABLE;if(Blockly.useContractEditor||Blockly.useModalFunctionEditor){if(this.hasUnusedParam_())return C.TestResults.UNUSED_PARAM;if(this.hasUnusedFunction_())return C.TestResults.UNUSED_FUNCTION;if(this.hasParamInputUnattached_())return C.TestResults.PARAM_INPUT_UNATTACHED;if(this.hasIncompleteBlockInFunction_())return C.TestResults.INCOMPLETE_BLOCK_IN_FUNCTION}if(this.hasQuestionMarksInNumberField())return C.TestResults.QUESTION_MARKS_IN_NUMBER_FIELD;if(!this.hasAllBlocks_(t))return e?C.TestResults.MISSING_BLOCK_FINISHED:C.TestResults.MISSING_BLOCK_UNFINISHED;if(!this.hasAllBlocks_(n))return e?C.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED:C.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED;var s=this.getNumCountableBlocks();return e?this.hasExceededLimitedBlocks_()?C.TestResults.BLOCK_LIMIT_FAIL:this.studioApp_.IDEAL_BLOCK_NUM&&s>this.studioApp_.IDEAL_BLOCK_NUM?C.TestResults.TOO_MANY_BLOCKS_FAIL:this.hasExtraTopBlocks()&&Blockly.showUnusedBlocks?C.TestResults.PASS_WITH_EXTRA_TOP_BLOCKS:isFinite(this.studioApp_.IDEAL_BLOCK_NUM)&&s<this.studioApp_.IDEAL_BLOCK_NUM?C.TestResults.BETTER_THAN_IDEAL:C.TestResults.ALL_PASS:this.studioApp_.IDEAL_BLOCK_NUM&&this.studioApp_.IDEAL_BLOCK_NUM!==1/0&&s<this.studioApp_.IDEAL_BLOCK_NUM?C.TestResults.TOO_FEW_BLOCKS_FAIL:C.TestResults.LEVEL_INCOMPLETE_FAIL},j.prototype.createModalDialog=function(e){var t,n=document.createElement("div");e.icon?((t=document.createElement("img")).className="modal-image",t.src=e.icon,n.appendChild(t)):e.contentDiv.className+=" no-modal-icon";e.markdownMode&&(n.className+=" markdown"),e.contentDiv.className+=" modal-content",n.appendChild(e.contentDiv);var r=e.contentDiv.querySelector(e.defaultBtnSelector),o=e.scrollableSelector||".modal-content",i=e.scrollContent?o:null;return new c.default({body:n,onHidden:e.onHidden,onKeydown:r?function(e){e.keyCode!==C.KeyCodes.ENTER&&e.keyCode!==C.KeyCodes.SPACE||(!function(e){if(document.createEvent){var t=document.createEvent("UIEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}else{if(!document.createEventObject)throw"FireEvent: No event creation mechanism.";e.fireEvent("onClick",document.createEventObject())}}(r),e.stopPropagation(),e.preventDefault())}:void 0,autoResizeScrollableElement:i,id:e.id,header:e.header,close:e.showXButton})},j.prototype.hasQuestionMarksInNumberField=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().some((function(e){return Blockly.cdoUtils.getBlockFields(e).some((function(e){return"???"===e.value_||"???"===e.text_}))}))},j.prototype.hasUnusedParam_=function(){var e=this;return Blockly.mainBlockSpace.getAllUsedBlocks().some((function(t){var n=t.parameterNames_;return n&&n.some((function(n){return!e.hasMatchingDescendant_(t,(function(e){return("parameters_get"===e.type||"functional_parameters_get"===e.type||"variables_get"===e.type)&&e.getFieldValue("VAR")===n}))}))}))},j.prototype.hasParamInputUnattached_=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().some((function(e){return!!/^procedures_call/.test(e.type)&&e.inputList.filter((function(e){return/^ARG/.test(e.name)})).some((function(e){return!e.connection.targetConnection}))}))},j.prototype.hasUnusedFunction_=function(){var e=[],t={};return Blockly.mainBlockSpace.getAllUsedBlocks().forEach((function(n){var r=n.getFieldValue("NAME");/^procedures_def/.test(n.type)&&n.userCreated?e.push(r):/^procedures_call/.test(n.type)&&(t[r]=!0)})),e.some((function(e){return!t[e]}))},j.prototype.hasIncompleteBlockInFunction_=function(){var e=this;return Blockly.mainBlockSpace.getAllUsedBlocks().some((function(t){return!!t.parameterNames_&&e.hasMatchingDescendant_(t,(function(e){return e.inputList.some((function(e){return e.type===Blockly.INPUT_VALUE&&!e.connection.targetConnection}))}))}))},j.prototype.hasMatchingDescendant_=function(e,t){if(t(e))return!0;var n=this;return e.childBlocks_.some((function(e){return n.hasMatchingDescendant_(e,t)}))},j.prototype.hasExceededLimitedBlocks_=function(){return Blockly.cdoUtils.blockLimitExceeded()},j.prototype.isFreePlay=function(e){return e===C.TestResults.FREE_PLAY}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(t.type===n)return t.isRtl;return e},t.isRtlFromDOM=o,t.setRtlFromDOM=t.setRtl=void 0;var n="isRtl/SET_RTL",r=function(e){return{type:n,isRtl:e}};t.setRtl=r;function o(){var e=document.getElementsByTagName("head")[0];if(e&&e.parentElement){var t=e.parentElement.getAttribute("dir");return!(!t||"rtl"!==t.toLowerCase())}return!1}t.setRtlFromDOM=function(){return r(o())}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSectionSelector=t.NO_SELECTED_SECTION_VALUE=void 0;var r=c(n(2)),o=c(n(1)),i=n(27),a=c(n(13)),s=n(388),l=n(33),u=n(468);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=e.style,n=e.requireSelection,r=e.sections,i=e.selectedSectionId,u=e.logToFirehose,c=e.reloadOnChange,d=e.selectSection;return 0===r.length?null:o.default.createElement("select",{className:"uitest-sectionselect",name:"sections",style:f(f({},m.select),t),value:i||"",onChange:function(e){var t=e.target.value;u&&u(),(0,s.updateQueryParam)("section_id",""===t?void 0:t),(0,s.updateQueryParam)("user_id",void 0),c?(0,l.reload)():d(t)}},!n&&o.default.createElement("option",{key:"",value:""},a.default.selectSection()),r.map((function(e){var t=e.id,n=e.name;return o.default.createElement("option",{key:t,value:t},n)})))}t.NO_SELECTED_SECTION_VALUE="",h.propTypes={style:r.default.object,requireSelection:r.default.bool,alwaysShow:r.default.bool,reloadOnChange:r.default.bool,logToFirehose:r.default.func,sections:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,id:r.default.number.isRequired})).isRequired,selectedSectionId:r.default.number,selectSection:r.default.func.isRequired};var m={select:{width:180}},g=h;t.UnconnectedSectionSelector=g;var y=(0,i.connect)((function(e){return{selectedSectionId:e.teacherSections.selectedSectionId,sections:(0,u.sectionsNameAndId)(e.teacherSections)}}),(function(e){return{selectSection:function(t){e((0,u.selectSection)(t))}}}))(h);t.default=y},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedDownloadReplayVideoButton=void 0;var r=u(n(2)),o=u(n(1)),i=n(27),a=u(n(13)),s=u(n(20)),l=u(n(131));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="finish_dialog",h="replay_video",m="download_clicked",g="download_failed_timeout";function y(e,t){l.default.putRecord({study:p,study_group:h,event:"download_started"}),fetch(e,{method:"GET"}).then((function(e){return e.blob()})).then((function(e){var n=document.createElement("a"),r=URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),l.default.putRecord({study:p,study_group:h,event:"download_succeeded"})})).catch((function(e){console.log(e),l.default.putRecord({study:p,study_group:h,event:"download_failed"})}))}var v="dance_party.mp4",b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f(c(t=e.call.apply(e,[this].concat(r))||this),"state",{videoExists:!1,downloadInitiated:!1,checkVideoAttempts:0}),f(c(t),"getUploadUrl",(function(){return window&&window.appOptions&&window.appOptions.signedReplayLogUrl})),f(c(t),"hasReplayVideo",(function(){return"dance"===t.props.appType&&t.getUploadUrl()})),f(c(t),"shouldCreateReplayVideo",(function(){return t.hasReplayVideo()&&t.props.replayLog&&t.props.replayLog.length>1})),f(c(t),"tryCreateReplayVideo",(function(){t.shouldCreateReplayVideo()&&fetch(t.getUploadUrl(),{method:"PUT",body:JSON.stringify(t.props.replayLog)})})),f(c(t),"getVideoUrl",(function(){return"https://dance-api.code.org/videos/video-".concat(t.props.channelId,".mp4")})),f(c(t),"buttonEnabled",(function(){return t.state.videoExists||!t.state.downloadInitiated})),f(c(t),"clickDownloadVideo",(function(e){l.default.putRecord({study:p,study_group:h,event:m}),t.tryDownloadVideo(e)})),f(c(t),"tryDownloadVideo",(function(e){return t.state.downloadInitiated||t.setState({downloadInitiated:!0}),t.state.videoExists?(y(t.getVideoUrl(),v),t.setState({downloadInitiated:!1})):t.checkVideo(),e&&e.preventDefault(),!1})),f(c(t),"checkVideoUntilSuccess",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;if(t.hasReplayVideo()&&!t.state.videoExists){if(t.checkVideoUntilSuccessTimeout&&clearTimeout(t.checkVideoUntilSuccessTimeout),t.state.checkVideoAttempts>=30)return t.setState({checkVideoAttempts:0}),t.props.onError&&t.props.onError(),void l.default.putRecord({study:p,study_group:h,event:g});t.checkVideo().then((function(n){t.checkVideoUntilSuccessTimeout=null;var r=t.state.checkVideoAttempts;n.ok||(t.checkVideoUntilSuccessTimeout=setTimeout(t.checkVideoUntilSuccess,e),r+=1),t.setState({checkVideoAttempts:r})}))}})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var i=r.prototype;return i.componentDidUpdate=function(e,t,n){this.state.downloadInitiated&&this.state.videoExists&&!t.videoExists&&this.tryDownloadVideo()},i.componentDidMount=function(){this.tryCreateReplayVideo(),this.checkVideoUntilSuccess(),this.shouldRenderButton()&&l.default.putRecord({study:p,study_group:h,event:"download_button_seen"})},i.componentWillUnmount=function(){clearTimeout(this.checkVideoUntilSuccessTimeout)},i.checkVideo=function(){var e=this;return fetch(this.getVideoUrl(),{method:"HEAD"}).then((function(t){return e.setState({videoExists:t.ok}),t}))},i.shouldRenderButton=function(){return this.props.channelId&&this.hasReplayVideo()},i.render=function(){if(!this.shouldRenderButton())return null;var e="fa-download";this.state.downloadInitiated&&(e="fa-spinner fa-pulse");var t=Object.assign({},this.props.style);return this.buttonEnabled()||Object.assign(t,_.disabledLink),o.default.createElement("button",{type:"button",className:"download-replay-video-button",style:t,disabled:!this.buttonEnabled(),onClick:this.clickDownloadVideo},o.default.createElement("i",{className:"fa ".concat(e),style:_.icon}),o.default.createElement("span",{style:_.span},a.default.downloadReplayVideoButtonDownload()))},r}(o.default.Component);f(b,"propTypes",{appType:r.default.string,channelId:r.default.string,onError:r.default.func,replayLog:r.default.array,style:r.default.object});var _={disabledLink:{backgroundColor:s.default.lighter_gray,borderColor:s.default.lighter_gray,boxShadow:"none"},icon:{fontSize:17},span:{paddingLeft:10}},w=b;t.UnconnectedDownloadReplayVideoButton=w;var E=(0,i.connect)((function(e){return{appType:e.pageConstants.appType,channelId:e.pageConstants.channelId,replayLog:e.shareDialog.replayLog}}))(b);t.default=E},(e,t,n)=>{var r=n(868);function o(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}o.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=o},(e,t,n)=>{var r=n(869);function o(e,t){this.totalCount=e,this.dataCount=t}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],u=n[3*a+2],c=0;c<s;c++)i.push(new o(l,u));return i},o.getRsBlockTable=function(e,t){switch(t){case r.L:return o.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=o},e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},(e,t,n)=>{var r=n(868),o=n(870),i=n(871),a=0,s=1,l=2,u=3,c=4,d=5,f=6,p=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case a:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case u:return(t+n)%3==0;case c:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case f:return(t*n%2+t*n%3)%2==0;case p:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,i.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var i=0,a=e.isDark(r,o),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)o+l<0||t<=o+l||0==s&&0==l||a==e.isDark(r+s,o+l)&&i++;i>5&&(n+=3+i-5)}for(r=0;r<t-1;r++)for(o=0;o<t-1;o++){var u=0;e.isDark(r,o)&&u++,e.isDark(r+1,o)&&u++,e.isDark(r,o+1)&&u++,e.isDark(r+1,o+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var c=0;for(o=0;o<t;o++)for(r=0;r<t;r++)e.isDark(r,o)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=h},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QEfBicvUU//cAAAAKtJREFUOMvtlLENwjAURN93kQoWoGEzNggNVPRxl4ZMAJNBkwVIExccTaJYFpLTIBq/8p/vbMlfB79Ckpc0amGU5CO9SfQcoyRvkl7AJrlvMLPtFPxNzzE4oANCNAzTbCbVcwTgSmHG7s/e662ToAIwCOasPex3F4Dbo2+QzrOeDZz8TqKOTYJKoo7OHteGxn5nRmfRrxsEs2UrUn3Ni8tWlK4oXVG64u9d8QEqLgOqdcEqDwAAAABJRU5ErkJggg=="},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QEfBjoS9kvffQAAALhJREFUOMvtlLERglAQRN/9gCJMbMYOzO0AEojIISORCjTXChxr0YQiCFgDAf9gAASOyd/s397+u5nbWfgRjMutBFIg6mstULHf5QBc7wXqMo+fQwtUDiyeiKK+9oaUrPh01DtQ3U/xJqr+PL/4+Y3NjgSMrjg/m1KdUvUHMmjNWXXYbnKA06MpkDItPOCgdxKxLxJEErHXm2iFKwa9M6M27+oGrRmjK6b8ko2B4IqQFSErQlb8NyteNvx30d8zRqcAAAAASUVORK5CYII="},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAWklEQVR4AWP4//9/GxD//E8lADWrDWTw5//UB59p52I4GAULHzxrXXj/6c8F95/+pwYGmQUykwHZUGoazgBi0AKPGjxqMCamXTpe9PBZG01yHgyMgtE6D+5iAJNEO6l4m/U/AAAAAElFTkSuQmCC"},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAXklEQVR4AWNgWLunDYh/AvF/amCoWW1Ag/d+BglQE4PMpJ2L4WAULHzwrHXh/ac/F9x/+p8aGGQWyEwGZEOpaTgDiEELPGrwqMGYmHbpeNHDZ200yXkwMApG6zy4iwHRcmtODj8COgAAAABJRU5ErkJggg=="},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QICFAQd3UBbHQAAAKtJREFUOMvtlCEOwkAQRd+OqIKDcA0sZwEDCt91NXAVsIRbEM5BTSv2I9iWZiFpKghmn/w/M5NMfj78CkleUqM3jSQ/8MvEH6OR5J2kBzBL7tXOuXlc/M0fozbgCLQDsY1aR+qP0QIHMh3ucr55Alug6H9kVMvVYg9wPd3LoLAb+OM/NipzgXUyVEQtxi1sJizt5032mYqovRbb9FQ4ZzkVuStyV+Su+G9XPAEHR/tdHoJiGAAAAABJRU5ErkJggg=="},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXBAMAAAD9xqKtAAAAIVBMVEUAAAB4ZaJ3ZKF2ZKB3ZqF3ZaG+tde+s9e+s9fAtNm/s9cBl+tXAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhAgIUAzNO18AVAAAAQElEQVQY02NgQAJCxooMTsYgoMgQbGwKxCBgChYXArNVGIgB6R1lDNM7QKCMYUVHFxCDQBdYPB3MriTKnAFyDwAcICqBavjlqwAAAABJRU5ErkJggg=="},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAWElEQVR4AWP4//9/GxD//E8lADWrDWTw5//UB59p52I4GAXH9t6tOLb33oNje+49pQYGmQUykwHZUGoazgBi0AKPGjxqMCamZTq+W0mTnAcDo2C0zoO7GAAwoh96Y8e3+QAAAABJRU5ErkJggg=="},e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAYUlEQVR4AWOoSF3UVp6y8GdZyoL/1MAgs0BmMpSnLvwMEqAmBplJOxfDwSg4tvduxbG99x4c23PvKTUwyCyQmQzIhlLTcAYQgxZ41OBRgzExLdPx3Uqa5DwYGAWjdR7cxQDMOFgjH064QwAAAABJRU5ErkJggg=="},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSummaryProgressTable=void 0;var o=p(n(2)),i=p(n(1)),a=p(n(20)),s=p(n(13)),l=n(197),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1401)),c=n(27),d=n(467);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m,g,y,v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e=this,t=this.props.minimal,n=this.props.groupedLesson,r=n.lessons,o=n.levelsByLesson;if(r.length!==o.length)throw new Error("Inconsistent number of lessons");return i.default.createElement("table",{className:"uitest-summary-progress-table",style:b.table},!t&&i.default.createElement("thead",null,i.default.createElement("tr",{style:b.headerRow},i.default.createElement("td",{style:u.styles.col1},i.default.createElement("div",{style:u.styles.colText},s.default.lessonName())),i.default.createElement("td",{style:u.styles.col2},i.default.createElement("div",{style:u.styles.colText},s.default.progress())))),i.default.createElement("tbody",null,r.map((function(e,t){return{unfilteredIndex:t,lesson:e}})).filter((function(t){return e.props.lessonIsVisible(t.lesson)})).map((function(e,t){return i.default.createElement(u.default,{key:e.unfilteredIndex,levels:o[e.unfilteredIndex],lesson:e.lesson,dark:t%2==1})}))))},r}(i.default.Component);m=v,g="propTypes",y={groupedLesson:l.groupedLessonsType.isRequired,minimal:o.default.bool,lessonIsVisible:o.default.func.isRequired},g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y;var b={table:{borderWidth:1,borderStyle:"solid",borderLeftColor:a.default.border_gray,borderTopColor:a.default.border_gray,borderBottomColor:a.default.border_light_gray,borderRightColor:a.default.border_light_gray},headerRow:{backgroundColor:a.default.table_header}},_=v;t.UnconnectedSummaryProgressTable=_;var w=(0,c.connect)((function(e){return{lessonIsVisible:function(t){return(0,d.lessonIsVisible)(t,e,e.viewAs)}}}))(v);t.default=w},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LockStatus=void 0,t.saveLockState=function(e,t,n){var r=t.filter((function(t,n){return!i.default.isEqual(t,e[n])})).map((function(e){return{user_level_data:e.userLevelData,locked:e.lockStatus===l.Locked,readonly_answers:e.lockStatus===l.ReadonlyAnswers}}));return fetch("/api/lock_status",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":n},credentials:"same-origin",body:JSON.stringify({updates:r})})},t.useGetLockState=function(e,t,n){var r=(0,s.useFetch)("/api/lock_status?script_id=".concat(e)),i=r.loading,a=r.data,l=(0,o.useMemo)((function(){return function(e,t,n){var r=e&&e[t]&&e[t].lessons&&e[t].lessons[n];if(!r)return[];return r.map((function(e){return{name:e.name,lockStatus:u(e),userLevelData:e.user_level_data}}))}(a,n,t)}),[a,n,t]);return{loading:i,serverLockState:l}};var r,o=n(1),i=(r=n(53))&&r.__esModule?r:{default:r},a=n(33),s=n(1295);var l=(0,a.makeEnum)("Locked","Editable","ReadonlyAnswers");function u(e){return e.locked?l.Locked:e.readonly_answers?l.ReadonlyAnswers:l.Editable}t.LockStatus=l},module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<hr>\n<p><%= label %></p>\n\n<a class="puzzle-rating-btn" id="like" data-value="1">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="0 0 26.055 21.058" enable-background="new 0 0 26.055 21.058" xml:space="preserve" value="1">\n    <path d="M14.426,2.5c0.986-1.348,2.83-2.5,5.092-2.5c3.613,0,6.537,3.044,6.537,6.537\n        c0,2.357-1.076,3.709-1.894,4.525c-0.941,0.941-8.082,8.082-9.113,9.113c-1.244,1.243-3.019,1.137-4.246-0.09\n        c-1.314-1.314-7.158-7.158-9.131-9.131C0.408,9.693,0,8.113,0,6.537C0,2.926,3.197,0,6.537,0c2.451,0,4.438,1.508,5.188,2.535\n        C12.4,3.459,13.643,3.564,14.426,2.5z"/>\n  </svg>\n</a>\n\n<a class="puzzle-rating-btn" id="dislike" data-value="0">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="382.321 292.82 26.37 26.371" enable-background="new 382.321 292.82 26.37 26.371"\n      xml:space="preserve">\n    <path d="M395.506,292.82c-7.282,0.002-13.184,5.904-13.185,13.185c0.001,7.283,5.902,13.184,13.185,13.186\n        c7.281-0.002,13.183-5.902,13.185-13.186C408.689,298.725,402.787,292.822,395.506,292.82z M402.5,313\n        c-1.795,1.793-4.257,2.896-6.994,2.898c-2.737-0.002-5.199-1.105-6.994-2.898c-1.794-1.795-2.897-4.258-2.897-6.994\n        s1.103-5.199,2.897-6.994c1.795-1.793,4.257-2.897,6.994-2.897s5.199,1.104,6.994,2.897c1.792,1.795,2.896,4.258,2.896,6.994\n        S404.292,311.205,402.5,313z M391.317,304.951c1.054,0,1.907-0.854,1.907-1.906c0-1.053-0.854-1.906-1.907-1.906\n        c-1.054,0-1.907,0.854-1.907,1.906C389.41,304.098,390.264,304.951,391.317,304.951z M399.691,304.951\n        c1.053,0,1.906-0.854,1.906-1.906c0-1.053-0.853-1.906-1.906-1.906s-1.907,0.854-1.907,1.906\n        C397.784,304.098,398.639,304.951,399.691,304.951z M391.773,311.928c1.037-1.035,2.379-1.543,3.739-1.545\n        c1.352,0.002,2.689,0.512,3.724,1.545c0.642,0.643,1.685,0.643,2.328,0c0.645-0.643,0.645-1.686,0-2.33\n        c-1.665-1.666-3.864-2.51-6.052-2.508h-0.008c-2.185,0-4.39,0.838-6.06,2.51c-0.642,0.643-0.643,1.686,0,2.328\n        C390.088,312.571,391.131,312.571,391.773,311.928z"/>\n  </svg>\n</a>\n',__filename="src/templates/puzzleRating.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("<hr>\n<p>"),__line=2,__append(escapeFn(label)),__append('</p>\n\n<a class="puzzle-rating-btn" id="like" data-value="1">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="0 0 26.055 21.058" enable-background="new 0 0 26.055 21.058" xml:space="preserve" value="1">\n    <path d="M14.426,2.5c0.986-1.348,2.83-2.5,5.092-2.5c3.613,0,6.537,3.044,6.537,6.537\n        c0,2.357-1.076,3.709-1.894,4.525c-0.941,0.941-8.082,8.082-9.113,9.113c-1.244,1.243-3.019,1.137-4.246-0.09\n        c-1.314-1.314-7.158-7.158-9.131-9.131C0.408,9.693,0,8.113,0,6.537C0,2.926,3.197,0,6.537,0c2.451,0,4.438,1.508,5.188,2.535\n        C12.4,3.459,13.643,3.564,14.426,2.5z"/>\n  </svg>\n</a>\n\n<a class="puzzle-rating-btn" id="dislike" data-value="0">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="382.321 292.82 26.37 26.371" enable-background="new 382.321 292.82 26.37 26.371"\n      xml:space="preserve">\n    <path d="M395.506,292.82c-7.282,0.002-13.184,5.904-13.185,13.185c0.001,7.283,5.902,13.184,13.185,13.186\n        c7.281-0.002,13.183-5.902,13.185-13.186C408.689,298.725,402.787,292.822,395.506,292.82z M402.5,313\n        c-1.795,1.793-4.257,2.896-6.994,2.898c-2.737-0.002-5.199-1.105-6.994-2.898c-1.794-1.795-2.897-4.258-2.897-6.994\n        s1.103-5.199,2.897-6.994c1.795-1.793,4.257-2.897,6.994-2.897s5.199,1.104,6.994,2.897c1.792,1.795,2.896,4.258,2.896,6.994\n        S404.292,311.205,402.5,313z M391.317,304.951c1.054,0,1.907-0.854,1.907-1.906c0-1.053-0.854-1.906-1.907-1.906\n        c-1.054,0-1.907,0.854-1.907,1.906C389.41,304.098,390.264,304.951,391.317,304.951z M399.691,304.951\n        c1.053,0,1.906-0.854,1.906-1.906c0-1.053-0.853-1.906-1.906-1.906s-1.907,0.854-1.907,1.906\n        C397.784,304.098,398.639,304.951,399.691,304.951z M391.773,311.928c1.037-1.035,2.379-1.543,3.739-1.545\n        c1.352,0.002,2.689,0.512,3.724,1.545c0.642,0.643,1.685,0.643,2.328,0c0.645-0.643,0.645-1.686,0-2.33\n        c-1.665-1.666-3.864-2.51-6.052-2.508h-0.008c-2.185,0-4.39,0.838-6.06,2.51c-0.642,0.643-0.643,1.686,0,2.328\n        C390.088,312.571,391.131,312.571,391.773,311.928z"/>\n  </svg>\n</a>\n'),__line=31;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<p id="share-fail-explanation"><%= shareFailure.message %></p>\n\n<% if (shareFailure.contents) { %>\n  <div class="share-fail-excerpt">\n    <pre class="generatedCode"><%= shareFailure.contents %></pre>\n  </div>\n<% } %>\n',__filename="src/templates/shareFailure.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<p id="share-fail-explanation">'),__append(escapeFn(shareFailure.message)),__append("</p>\n\n"),__line=3,shareFailure.contents&&(__append('\n  <div class="share-fail-excerpt">\n    <pre class="generatedCode">'),__line=5,__append(escapeFn(shareFailure.contents)),__append("</pre>\n  </div>\n"),__line=7),__append("\n"),__line=8;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<% var msg = require(\'@cdo/locale\'); %>\n<% if (options.feedbackImage) { %>\n  <img class="feedback-image" src="<%= options.feedbackImage %>"/>\n  <div class="sharing-content">\n<% } else { %>\n  <div class="sharing-content no-image">\n<% } %>\n\n<% if (options.shareLink) { %>\n  <% if (options.appStrings && options.appStrings.sharingText) { %>\n    <div><%= options.appStrings.sharingText %></div>\n  <% } %>\n\n  <div id="sharing-input-container">\n    <button id="sharing-dialog-copy-button" value=<%= options.shareLink %>>\n      <i class="fa fa-clipboard fa-lg"></i>\n        <%= msg.copyLinkToProject() %>\n    </button>\n    <% if (options.downloadReplayVideo) { %>\n      \x3c!-- Mount point for DownloadReplayVideoButton component. --\x3e\n      <span id="download-replay-video-container"></span>\n    <% } %>\n  </div>\n  <div class=\'social-buttons\'>\n    <% if (options.facebookUrl) { -%>\n      <a id=\'sharing-facebook\' href=\'<%= options.facebookUrl %>\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-facebook fa-lg"></i>\n        </button>\n      </a>\n    <% } -%>\n    <% if (options.twitterUrl) { -%>\n      <a id=\'sharing-twitter\' href=\'<%= options.twitterUrl %>\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-twitter fa-lg"></i>\n        </button>\n      </a>\n    <% } -%>\n    <% if (!options.onMainPage && options.enablePrinting) { %>\n      <button id="print-button">\n        <i class="fa fa-print fa-lg"></i>\n      </button>\n    <% } %>\n    <% if (options.alreadySaved) { %>\n      <button class="saved-to-gallery" disabled>\n        <%= msg.savedToGallery() %>\n      </button>\n    <% } else if (options.saveToProjectGallery && !options.disableSaveToGallery) { %>\n      <button id="save-to-project-gallery-button">\n        <%= msg.addToProjects() %>\n      </button>\n      <button id="publish-to-project-gallery-button">\n          <%= msg.publish() %>\n      </button>\n    <% } %>\n   <button id="sharing-phone">\n      <i class="fa fa-mobile fa-lg"></i>\n      &nbsp;\n      <%= msg.sendToPhone() %>\n    </button>\n    <div id="download-replay-video-error" style="font-size: 12px; display: none;">\n      <%= msg.downloadReplayVideoButtonError() %>\n    </div>\n  </div>\n\n<% } %>\n\n</div>\n\n<% /* Always show the "Send to phone" button, and when it\'s clicked to toggle\n    * the section below into view, the QR Code, but only show the phone number\n    * in that section below when options.isUS is true, which is done\n    * for US users. */ %>\n<div id="send-to-phone" style="display: none">\n  <% if (options.isUS) { %>\n    <div id="send-to-phone-left">\n      <label for="phone">Enter a US phone number:</label>\n      <input type="tel" id="phone" name="phone" />\n      <button id="phone-submit" onClick="return false;">Send</button>\n      <div id="phone-charges">A text message will be sent via <a href="http://twilio.com" target="_blank">Twilio</a>. Charges may apply to the recipient.</div>\n    </div>\n  <% } %>\n  <div id="send-to-phone-right">\n    <label><%= msg.scanQRCode() %></label>\n    <div id="send-to-phone-qr-code"></div>\n  </div>\n</div>\n',__filename="src/templates/sharing.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(13);__append("\n"),__line=2,options.feedbackImage?(__append('\n  <img class="feedback-image" src="'),__line=3,__append(escapeFn(options.feedbackImage)),__append('"/>\n  <div class="sharing-content">\n'),__line=5):(__append('\n  <div class="sharing-content no-image">\n'),__line=7),__append("\n\n"),__line=9,options.shareLink&&(__append("\n  "),__line=10,options.appStrings&&options.appStrings.sharingText&&(__append("\n    <div>"),__line=11,__append(escapeFn(options.appStrings.sharingText)),__append("</div>\n  "),__line=12),__append('\n\n  <div id="sharing-input-container">\n    <button id="sharing-dialog-copy-button" value='),__line=15,__append(escapeFn(options.shareLink)),__append('>\n      <i class="fa fa-clipboard fa-lg"></i>\n        '),__line=17,__append(escapeFn(msg.copyLinkToProject())),__append("\n    </button>\n    "),__line=19,options.downloadReplayVideo&&(__append('\n      \x3c!-- Mount point for DownloadReplayVideoButton component. --\x3e\n      <span id="download-replay-video-container"></span>\n    '),__line=22),__append("\n  </div>\n  <div class='social-buttons'>\n    "),__line=25,options.facebookUrl&&(__append("      <a id='sharing-facebook' href='"),__line=26,__append(escapeFn(options.facebookUrl)),__append('\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-facebook fa-lg"></i>\n        </button>\n      </a>\n    '),__line=31),__append("    "),__line=32,options.twitterUrl&&(__append("      <a id='sharing-twitter' href='"),__line=33,__append(escapeFn(options.twitterUrl)),__append('\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-twitter fa-lg"></i>\n        </button>\n      </a>\n    '),__line=38),__append("    "),__line=39,!options.onMainPage&&options.enablePrinting&&(__append('\n      <button id="print-button">\n        <i class="fa fa-print fa-lg"></i>\n      </button>\n    '),__line=43),__append("\n    "),__line=44,options.alreadySaved?(__append('\n      <button class="saved-to-gallery" disabled>\n        '),__line=46,__append(escapeFn(msg.savedToGallery())),__append("\n      </button>\n    "),__line=48):options.saveToProjectGallery&&!options.disableSaveToGallery&&(__append('\n      <button id="save-to-project-gallery-button">\n        '),__line=50,__append(escapeFn(msg.addToProjects())),__append('\n      </button>\n      <button id="publish-to-project-gallery-button">\n          '),__line=53,__append(escapeFn(msg.publish())),__append("\n      </button>\n    "),__line=55),__append('\n   <button id="sharing-phone">\n      <i class="fa fa-mobile fa-lg"></i>\n      &nbsp;\n      '),__line=59,__append(escapeFn(msg.sendToPhone())),__append('\n    </button>\n    <div id="download-replay-video-error" style="font-size: 12px; display: none;">\n      '),__line=62,__append(escapeFn(msg.downloadReplayVideoButtonError())),__append("\n    </div>\n  </div>\n\n"),__line=66),__append("\n\n</div>\n\n"),__line=70,__line=73,__append('\n<div id="send-to-phone" style="display: none">\n  '),__line=75,options.isUS&&(__append('\n    <div id="send-to-phone-left">\n      <label for="phone">Enter a US phone number:</label>\n      <input type="tel" id="phone" name="phone" />\n      <button id="phone-submit" onClick="return false;">Send</button>\n      <div id="phone-charges">A text message will be sent via <a href="http://twilio.com" target="_blank">Twilio</a>. Charges may apply to the recipient.</div>\n    </div>\n  '),__line=82),__append('\n  <div id="send-to-phone-right">\n    <label>'),__line=84,__append(escapeFn(msg.scanQRCode())),__append('</label>\n    <div id="send-to-phone-qr-code"></div>\n  </div>\n</div>\n'),__line=88}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<% var msg = require('@cdo/locale') %>\n\n<div id=\"make-your-own\">\n\n  <h1><a href=<%= data.makeUrl %>><%= data.makeString %></a></h1>\n  <a href=<%= data.makeUrl %>><img src=<%= data.makeImage %>></a>\n\n</div>\n",__filename="src/templates/makeYourOwn.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(13);__append('\n\n<div id="make-your-own">\n\n  <h1><a href='),__line=5,__append(escapeFn(data.makeUrl)),__append(">"),__append(escapeFn(data.makeString)),__append("</a></h1>\n  <a href="),__line=6,__append(escapeFn(data.makeUrl)),__append("><img src="),__append(escapeFn(data.makeImage)),__append("></a>\n\n</div>\n"),__line=9}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,o){var i=t.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),l=o(n),u=i.slice(a,s).map((function(e,t){var n=t+a+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<% var msg = require('@cdo/locale') %>\n\n<% var root = location.protocol + '//' + location.host.replace('learn\\.', '').replace('studio\\.', ''); %>\n\n<div id=\"learn\">\n\n  <h1><a href=\"<%= root %>\"><%= msg.wantToLearn() %></a></h1>\n  <a href=\"<%= root %>\"><img id=\"learn-to-code\" src=\"<%= assetUrl('media/promo.png') %>\"></a>\n  <a href=\"<%= root %>\"><%= msg.watchVideo() %></a>\n  <a href=\"<%= root %>\"><%= msg.tryHOC() %></a>\n  <a href=\"<%= location.protocol + '//' + location.host %>\"><%= msg.signup() %></a>\n\n</div>\n",__filename="src/templates/learn.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(13);__append("\n\n"),__line=3;var root=location.protocol+"//"+location.host.replace("learn.","").replace("studio.","");__append('\n\n<div id="learn">\n\n  <h1><a href="'),__line=7,__append(escapeFn(root)),__append('">'),__append(escapeFn(msg.wantToLearn())),__append('</a></h1>\n  <a href="'),__line=8,__append(escapeFn(root)),__append('"><img id="learn-to-code" src="'),__append(escapeFn(assetUrl("media/promo.png"))),__append('"></a>\n  <a href="'),__line=9,__append(escapeFn(root)),__append('">'),__append(escapeFn(msg.watchVideo())),__append('</a>\n  <a href="'),__line=10,__append(escapeFn(root)),__append('">'),__append(escapeFn(msg.tryHOC())),__append('</a>\n  <a href="'),__line=11,__append(escapeFn(location.protocol+"//"+location.host)),__append('">'),__append(escapeFn(msg.signup())),__append("</a>\n\n</div>\n"),__line=14}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NotificationType=t.NotificationResponsive=void 0;var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=p(n(2)),s=n(27),l=p(n(20)),u=p(n(59)),c=p(n(74)),d=p(n(142)),f=p(n(131));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={information:"information",success:"success",failure:"failure",warning:"warning",course:"course",bullhorn:"bullhorn",feedback:"feedback"};t.NotificationType=_;var w=function(e){var t=e.buttonClassName,n=e.buttonLink,r=e.buttons,o=e.buttonText,a=e.children,s=e.details,l=e.detailsLink,p=e.detailsLinkNewWindow,h=e.detailsLinkText,m=e.dismissible,y=e.firehoseAnalyticsData,b=e.googleAnalyticsId,w=e.isRtl,O=e.newWindow,S=e.notice,T=e.onDismiss,C=e.onButtonClick,k=e.responsiveSize,A=e.type,P=e.width,x=v((0,i.useState)(!0),2),I=x[0],R=x[1],D=void 0===k||"lg"===k,j=g(g({},E.main),{},{direction:w?"rtl":"ltr",width:P||E.main.width});if(!I)return null;var N=E.colors[A];return i.default.createElement("div",{className:"announcement-notification"},i.default.createElement("div",{style:g(g({},N),j)},A!==_.course&&i.default.createElement("div",{style:g(g({},E.iconBox),N)},i.default.createElement(u.default,{icon:{information:"info-circle",success:"check-circle",failure:"exclamation-triangle",warning:"exclamation-triangle",bullhorn:"bullhorn",feedback:"envelope"}[A],style:E.icon})),i.default.createElement("div",{style:E.contentBox},i.default.createElement("div",{style:E.wordBox},i.default.createElement("div",{style:g(g({},N),E.notice)},S),i.default.createElement("div",{style:E.details},s,h&&l&&i.default.createElement("span",null," ",i.default.createElement("a",{href:l,style:E.detailsLink,target:p?"_blank":null},h)))),i.default.createElement("div",{style:D?null:E.buttonsMobile},o&&n&&i.default.createElement(c.default,{__useDeprecatedTag:!0,href:n,color:c.default.ButtonColor.gray,text:o,style:E.button,target:O?"_blank":null,onClick:function(){var e;b&&(0,d.default)("teacher_announcement","click",b),y&&(e={},["user_id","script_id","lesson_id"].forEach((function(t){t in y&&(e[t]=y[t])})),e=g(g({},e),{},{study:"notification_engagement",event:"notification_click",data_json:JSON.stringify(g(g({},y),{},{notice:S,details:s,buttonLink:n}))}),f.default.putRecord(e,{includeUserId:!0})),C&&C()},className:t}),r&&r.map((function(e,t){return i.default.createElement(c.default,{__useDeprecatedTag:!0,key:t,href:e.link,color:c.default.ButtonColor.gray,text:e.text,style:E.button,target:e.newWindow?"_blank":null,onClick:e.onClick,className:e.className})})),a)),m&&i.default.createElement("div",{style:E.dismiss},i.default.createElement(u.default,{icon:"times",onClick:function(){R(!1),T&&T()}}))),i.default.createElement("div",{style:E.clear}))};w.propTypes={type:a.default.oneOf(Object.keys(_)).isRequired,notice:a.default.string.isRequired,details:a.default.oneOfType([a.default.string,a.default.object]).isRequired,detailsLinkText:a.default.string,detailsLink:a.default.string,detailsLinkNewWindow:a.default.bool,buttonText:a.default.string,buttonLink:a.default.string,dismissible:a.default.bool.isRequired,onDismiss:a.default.func,newWindow:a.default.bool,googleAnalyticsId:a.default.string,firehoseAnalyticsData:a.default.object,responsiveSize:a.default.oneOf(["lg","md","sm","xs"]),isRtl:a.default.bool.isRequired,onButtonClick:a.default.func,buttonClassName:a.default.string,buttons:a.default.arrayOf(a.default.shape({text:a.default.string,link:a.default.string,newWindow:a.default.bool,onClick:a.default.func,className:a.default.string})),children:a.default.node,width:a.default.oneOfType([a.default.number,a.default.string])};var E={main:{borderWidth:1,borderStyle:"solid",minHeight:72,width:"100%",backgroundColor:l.default.white,marginBottom:20,display:"flex",flexFlow:"wrap",boxSizing:"border-box"},notice:{fontFamily:'"Gotham 4r", sans-serif',fontSize:18,fontWeight:"bold",letterSpacing:-.2,lineHeight:1.5,marginTop:16,backgroundColor:l.default.white},details:{fontFamily:'"Gotham 4r", sans-serif',fontSize:14,lineHeight:1.5,paddingTop:6,paddingBottom:16,color:l.default.charcoal},detailsLink:{fontFamily:'"Gotham 5r", sans-serif',color:l.default.teal},wordBox:{flex:1,marginLeft:25,marginRight:25},dismiss:{color:l.default.lighter_gray,marginTop:5,marginRight:0,marginLeft:10,cursor:"pointer"},iconBox:{width:72,backgroundColor:l.default.lightest_gray,textAlign:"center",float:"left"},contentBox:{width:"calc(100% - 100px)",display:"flex",flexFlow:"wrap"},icon:{color:"rgba(255,255,255, .8)",fontSize:38,lineHeight:2},buttonsMobile:{width:"100%"},button:{marginLeft:25,marginRight:25,marginTop:18,marginBottom:18},colors:(o={},y(o,_.information,{borderColor:l.default.teal,color:l.default.teal,backgroundColor:l.default.teal}),y(o,_.success,{borderColor:l.default.level_perfect,color:l.default.level_perfect,backgroundColor:l.default.level_perfect}),y(o,_.failure,{borderColor:l.default.red,color:l.default.red,backgroundColor:l.default.red}),y(o,_.warning,{borderColor:l.default.mustardyellow,color:l.default.charcoal,backgroundColor:l.default.mustardyellow}),y(o,_.course,{borderColor:l.default.border_gray,color:l.default.teal,backgroundColor:l.default.teal}),y(o,_.bullhorn,{borderColor:l.default.teal,color:l.default.teal,backgroundColor:l.default.teal}),y(o,_.feedback,{borderColor:l.default.purple,color:l.default.purple,backgroundColor:l.default.purple}),o),clear:{clear:"both"}},O=(0,s.connect)((function(e){return{isRtl:e.isRtl}}))(w);t.default=O;var S=(0,s.connect)((function(e){return{isRtl:e.isRtl,responsiveSize:e.responsive.responsiveSize}}))(w);t.NotificationResponsive=S},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildProgrammingExpressionMarkdown=void 0,t.default=u;var r=s(n(2)),o=s(n(1)),i=s(n(165)),a=s(n(1253));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t="`".concat(e.syntax,"`");return e.color&&(t+="(".concat(e.color,")")),"[".concat(t,"](").concat(e.link,")")};function u(e){var t=e.programmingExpression;return t.blockName?o.default.createElement(a.default,{blockName:t.blockName,link:t.link,ariaLabel:t.name}):o.default.createElement(i.default,{markdown:l(t)})}t.buildProgrammingExpressionMarkdown=l,u.propTypes={programmingExpression:r.default.shape({color:r.default.string,syntax:r.default.string.isRequired,link:r.default.string,parameters:r.default.array}).isRequired}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var o,i=(o=n(2))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),s=n(534),l=n(594),u=n(749);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){var t=e.blockName,n=e.link,r=e.ariaLabel,o=(0,a.createRef)();return(0,a.useEffect)((function(){if(t&&o.current){var e=(0,s.parseElement)("<block type='".concat(t,"' />")),n=Blockly.BlockSpace.createReadOnlyBlockSpace(o.current,e,{noScrolling:!0,inline:!0});(0,l.shrinkBlockSpaceContainer)(n,!0)}}),[o]),a.default.createElement("div",null,a.default.createElement(u.Link,{href:n},a.default.createElement("div",{id:"embedded-block-".concat(t),ref:o,style:{paddingBottom:5},"aria-label":r||t})))}d.propTypes={blockName:i.default.string.isRequired,link:i.default.string,ariaLabel:i.default.string},e.exports=t.default},(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],s=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(u(e,s,s+a>l?l:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},,,,(e,t,n)=>{var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},,,e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";var r=n(1),o=e.exports;o.Direction={NORTH:0,EAST:1,SOUTH:2,WEST:3},o.SquareType={WALL:0,OPEN:1,START:2,FINISH:3,OBSTACLE:4,STARTANDFINISH:5},o.TurnDirection={LEFT:-1,RIGHT:1},o.MoveDirection={FORWARD:0,RIGHT:1,BACKWARD:2,LEFT:3},o.directionToDxDy=function(e){switch(e){case o.Direction.NORTH:return{dx:0,dy:-1};case o.Direction.EAST:return{dx:1,dy:0};case o.Direction.SOUTH:return{dx:0,dy:1};case o.Direction.WEST:return{dx:-1,dy:0}}throw new Error("Invalid direction value"+e)},o.directionToFrame=function(e){return r.mod(4*e,16)},o.constrainDirection4=function(e){return r.mod(e,4)}},function(e,t,n){"use strict";var r=n(5);e.exports.mod=function(e,t){return(e%t+t)%t},e.exports.randomValue=function(e){return e[Math.floor(Math.random()*e.length)]},e.exports.rotate2DArray=function(e){return e[0].map((function(t,n){return e.map((function(t){return t[e.length-n-1]}))}))},e.exports.range=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n},e.exports.createUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.exports.isFarmerSkin=function(e){return/farmer(_night)?/.test(e)},e.exports.isBeeSkin=function(e){return/bee(_night)?/.test(e)},e.exports.isCollectorSkin=function(e){return/collector(_night)?/.test(e)},e.exports.isScratSkin=function(e){return/scrat/.test(e)},e.exports.isPlanterSkin=function(e){return/planter/.test(e)},e.exports.isHarvesterSkin=function(e){return/harvester/.test(e)},e.exports.isWordSearchSkin=function(e){return"letters"===e},e.exports.isNeighborhoodSkin=function(e){return"neighborhood"===e},e.exports.getSubtypeForSkin=function(t){return e.exports.isFarmerSkin(t)?n(8):e.exports.isBeeSkin(t)?n(9):e.exports.isCollectorSkin(t)?n(12):e.exports.isWordSearchSkin(t)?n(13):e.exports.isScratSkin(t)?n(30):e.exports.isHarvesterSkin(t)?n(14):e.exports.isPlanterSkin(t)?n(16):e.exports.isNeighborhoodSkin(t)?n(18):n(2)},e.exports.getPegmanElementId=function(e,t){var n="";return null!=t&&t!==r.DEFAULT_PEGMAN_ID&&(n="-"+t),""+e+n}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(4),a=n(25),s=n(0).SquareType,l=n(26).EventEmitter,u={10010:[4,0],10001:[3,3],11e3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};e.exports=function(e){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.skin,s=i.level;r(this,t);var l=o(this,e.call(this));return l.maze_=n,l.skin_=a,l.startDirection=s?s.startDirection:0,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getValue=function(e,t){return this.getCell(e,t).getCurrentValue()},t.prototype.setValue=function(e,t,n){this.getCell(e,t).setCurrentValue(n)},t.prototype.getCell=function(e,t){return this.maze_.map.currentStaticGrid[e][t]},t.prototype.getCellClass=function(){return i},t.prototype.loadAudio=function(e){},t.prototype.playAudio_=function(e){this.maze_.playAudio&&this.maze_.playAudio(e)},t.prototype.createDrawer=function(e){this.drawer=new a(this.maze_.map,this.skin_.dirt,e)},t.prototype.reset=function(){this.emit("reset")},t.prototype.isFarmer=function(){return!1},t.prototype.isCollector=function(){return!1},t.prototype.isScrat=function(){return!1},t.prototype.isWordSearch=function(){return!1},t.prototype.isBee=function(){return!1},t.prototype.isNeighborhood=function(){return!1},t.prototype.isOnPathStr_=function(e,t){return this.isWallOrOutOfBounds_(e,t)?"0":"1"},t.prototype.isWallOrOutOfBounds_=function(e,t){return this.maze_.map.getTile(t,e)===s.WALL||void 0===this.maze_.map.getTile(t,e)},t.prototype.getEmptyTile=function(e,t,n,r){var o=void 0;if(r||!n&&Math.random()>.2)this.wallMap[t][e]=0,o="null0";else{var i=Math.floor(1+4*Math.random());this.wallMap[t][e]=i,o="null"+i}return o},t.prototype.drawMapTiles=function(e){var t=this,n=0,r=void 0;this.maze_.map.forEachCell((function(o,i,a){if(r=t.isOnPathStr_(a,i)+t.isOnPathStr_(a,i-1)+t.isOnPathStr_(a+1,i)+t.isOnPathStr_(a,i+1)+t.isOnPathStr_(a-1,i),!u[r]){var s="00000"!==r,l=s&&r.split("1").length>2;r=t.getEmptyTile(a,i,s,l)}t.drawTile(e,u[r],i,a,n),t.drawer.updateItemImage(i,a,!1),n++}))},t.prototype.scheduleDirtChange=function(e,t){this.drawer.updateItemImage(e,t,!0)},t.prototype.drawTile=function(e,t,n,r,o){this.drawer.drawTile(e,t,n,r,o,this.skin_.tiles)},t.prototype.initWallMap=function(){this.wallMap=new Array(this.maze_.map.ROWS);for(var e=0;e<this.maze_.map.ROWS;e++)this.wallMap[e]=new Array(this.maze_.map.COLS)},t.prototype.initStartFinish=function(){this.start=void 0,this.finish=void 0;for(var e=0;e<this.maze_.map.ROWS;e++)for(var t=0;t<this.maze_.map.COLS;t++){var n=this.maze_.map.getTile(e,t);n===s.START?this.start={x:t,y:e}:n===s.FINISH?this.finish={x:t,y:e}:n===s.STARTANDFINISH&&(this.start={x:t,y:e},this.finish={x:t,y:e})}},t.prototype.allowMultiplePegmen=function(){return!1},t}(l)},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="http://www.w3.org/2000/svg";e.exports=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map_=t,this.asset_=n,this.svg_=r}return e.cellId=function(e,t,n){return e+"_"+t+"_"+n},e.prototype.getAsset=function(e,t,n){return this.asset_},e.prototype.reset=function(){},e.prototype.updateItemImage=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;return this.drawImage_("",e,t,r)},e.prototype.drawImage_=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=this.svg_.querySelector("#"+e.cellId(t,n,r)),a=this.getAsset(t,n,r);if(i||a)return(i=this.getOrCreateImage_(t,n,r,!0,o))&&(i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""),i.setAttribute("visibility",a?"visible":"hidden")),i},e.prototype.getOrCreateImage_=function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,s=this.getAsset(t,n,r),l=e.cellId(t,n,r),u=this.svg_.querySelector("#"+l);if(u)return u;if(s){var c=this.svg_.getElementsByClassName("pegman-location")[0],d=void 0;if(i){d=e.cellId(t+"Clip",n,r);var f=document.createElementNS(o,"clipPath");f.setAttribute("id",d);var p=document.createElementNS(o,"rect");p.setAttribute("x",r*a),p.setAttribute("y",n*a),p.setAttribute("width",a),p.setAttribute("height",a),f.appendChild(p),this.svg_.insertBefore(f,c)}return(u=document.createElementNS(o,"image")).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),u.setAttribute("height",a),u.setAttribute("width",a),u.setAttribute("x",a*r),u.setAttribute("y",a*n),u.setAttribute("id",l),i&&u.setAttribute("clip-path","url(#"+d+")"),this.svg_.insertBefore(u,c),u}},e.prototype.updateOrCreateText_=function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"karel-counter-text",c=this.svg_.getElementsByClassName("pegman-location")[0],d=this.svg_.querySelector("#"+e.cellId(t,n,r));return d||((d=document.createElementNS(o,"text")).setAttribute("class",u),d.setAttribute("x",(r+1)*a-s),d.setAttribute("y",(n+1)*a-l),d.setAttribute("id",e.cellId(t,n,r)),d.appendChild(document.createTextNode("")),this.svg_.insertBefore(d,c)),d.firstChild.nodeValue=i,d},e.prototype.drawTile=function(e,t,n,r,o,i){this.drawTileHelper(e,t,n,r,o,i,250,200,50)},e.prototype.drawTileHelper=function(e,t,n,i,a,s,l,u,c){var d=r(t,2),f=d[0],p=d[1],h=document.createElementNS(o,"clipPath");h.setAttribute("id","tileClipPath"+a);var m=document.createElementNS(o,"rect");m.setAttribute("width",c),m.setAttribute("height",c),m.setAttribute("x",i*c),m.setAttribute("y",n*c),h.appendChild(m),e.appendChild(h);var g=document.createElementNS(o,"image");g.setAttribute("id","tileElement"+a),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),g.setAttribute("height",u),g.setAttribute("width",l),g.setAttribute("clip-path","url(#tileClipPath"+a+")"),g.setAttribute("x",(i-f)*c),g.setAttribute("y",(n-p)*c),e.appendChild(g);var y=document.createElementNS(o,"animate");y.setAttribute("id","tileAnimation"+a),y.setAttribute("attributeType","CSS"),y.setAttribute("attributeName","opacity"),y.setAttribute("from",1),y.setAttribute("to",0),y.setAttribute("dur","1s"),y.setAttribute("begin","indefinite"),g.appendChild(y)},e}(),e.exports.SQUARE_SIZE=50,e.exports.SVG_NS=o},function(e,t,n){"use strict";e.exports=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tileType_=t,this.originalValue_=n,this.currentValue_=void 0,this.resetCurrentValue(),this.range_=isNaN(r)?n:r}return e.prototype.clone=function(){var e=this.constructor.deserialize(this.serialize());return e.setCurrentValue(this.currentValue_),e},e.prototype.getTile=function(){return this.tileType_},e.prototype.hasValue=function(){return void 0!==this.currentValue_},e.prototype.isDirt=function(){return void 0!==this.currentValue_},e.prototype.isVariableRange=function(){return this.range_!==this.originalValue_},e.prototype.isVariable=function(){return this.isVariableRange()},e.prototype.getOriginalValue=function(){return this.originalValue_},e.prototype.getCurrentValue=function(){return this.currentValue_},e.prototype.setCurrentValue=function(e){this.currentValue_=e},e.prototype.resetCurrentValue=function(){this.currentValue_=this.originalValue_},e.prototype.getPossibleGridAssets=function(){var t=[];if(this.isVariableRange())for(var n=Math.min(this.originalValue_,this.range_),r=Math.max(this.originalValue_,this.range_),o=n;o<=r;o++)t.push(new e(this.tileType_,o));else t.push(this);return t},e.prototype.serialize=function(){return{tileType:this.tileType_,value:this.originalValue_,range:this.range_}},e.deserialize=function(t){return new e(t.tileType,t.value,t.range)},e.parseFromOldValues=function(t,n){t=parseInt(t),n=parseInt(n);var r,o=void 0;return r=parseInt(t),isNaN(n)||0===n||(o=n),new e(r,o)},e}()},function(e,t,n){"use strict";e.exports.SVG_NS="http://www.w3.org/2000/svg",e.exports.DEFAULT_PEGMAN_ID="default",e.exports.pegmanElements={PEGMAN:"pegman",IDLE:"idlePegman",CLIP_RECT:"clipRect",FADEOUT:"pegmanFadeoutAnimation",WALL:"wallPegman",WALL_ANIMATION:"wallAnimation",MOVE:"movePegman",CELEBRATE:"celebratePegman"}},function(e,t,n){"use strict";var r=n(5),o=r.SVG_NS,i=r.pegmanElements,a=n(0),s=n(1),l=s.createUuid,u=s.getPegmanElementId,c=a.SquareType;function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return Math.floor(n*(t+.5)-e.pegmanHeight/2+e.pegmanYOffset)}function f(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50,s=e.pegmanXOffset||0;t.setAttribute("x",r*a-i*e.pegmanWidth+1+s),t.setAttribute("y",d(e,o,a)),n.setAttribute("x",r*a+1+s),n.setAttribute("y",t.getAttribute("y"))}function p(e,t,n,r,s,c){var d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50,p=document.createElementNS(o,"clipPath"),h="pegmanClipPath-"+l();p.setAttribute("id",h);var m=document.createElementNS(o,"rect");m.setAttribute("id",u(i.CLIP_RECT,t)),m.setAttribute("width",e.pegmanWidth),m.setAttribute("height",e.pegmanHeight),p.appendChild(m),c.appendChild(p);var g=document.createElementNS(o,"image");g.setAttribute("id",u(i.PEGMAN,t)),g.setAttribute("class","pegman-location"),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.avatar),g.setAttribute("height",e.pegmanHeight);var y=e.pegmanSheetWidth||21*e.pegmanWidth;g.setAttribute("width",y),g.setAttribute("clip-path","url(#"+h+")"),c.appendChild(g),f(e,g,m,n,r,a.directionToFrame(s),d);var v=document.createElementNS(o,"animate");v.setAttribute("id",u(i.FADEOUT,t)),v.setAttribute("attributeType","CSS"),v.setAttribute("attributeName","opacity"),v.setAttribute("from",1),v.setAttribute("to",0),v.setAttribute("dur","1s"),v.setAttribute("begin","indefinite"),g.appendChild(v)}e.exports=function(e,t,n,r){var i,a,s,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,u=r.COLS*l,d=r.ROWS*l,f=document.createElementNS(o,"rect");f.setAttribute("width",u),f.setAttribute("height",d),f.setAttribute("fill","#F1EEE7"),f.setAttribute("stroke-width",1),f.setAttribute("stroke","#CCB"),e.appendChild(f),t.background&&((s=document.createElementNS(o,"image")).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.background),s.setAttribute("height",d),s.setAttribute("width",u),s.setAttribute("x",0),s.setAttribute("y",0),e.appendChild(s)),n.drawMapTiles(e);var h=document.createElementNS(o,"path");if(h.setAttribute("id","hintPath"),h.setAttribute("stroke","#c00"),h.setAttribute("stroke-width","5"),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),e.appendChild(h),n.start&&p(t,void 0,n.start.x,n.start.y,n.startDirection,e,l),n.finish&&t.goalIdle){var m=document.createElementNS(o,"image");m.setAttribute("id","finish"),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.goalIdle),m.setAttribute("height",43),m.setAttribute("width",50),e.appendChild(m),m.setAttribute("x",l*(n.finish.x+.5)-m.getAttribute("width")/2),m.setAttribute("y",l*(n.finish.y+.9)-m.getAttribute("height")),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.goalIdle),m.setAttribute("visibility","visible")}if(t.obstacleIdle){var g=0;for(a=0;a<r.ROWS;a++)for(i=0;i<r.COLS;i++){if(r.getTile(a,i)===c.OBSTACLE){var y=document.createElementNS(o,"image");y.setAttribute("id","obstacle"+g),y.setAttribute("height",43*t.obstacleScale),y.setAttribute("width",50*t.obstacleScale),y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.obstacleIdle),y.setAttribute("x",l*(i+.5)-y.getAttribute("width")/2),y.setAttribute("y",l*(a+.9)-y.getAttribute("height")),e.appendChild(y)}++g}}},e.exports.getPegmanYForRow=d,e.exports.displayPegman=f,e.exports.addNewPegman=p},function(e,t,n){"use strict";var r=[];e.exports.setTimeout=function(e,t){var n=window.setTimeout.apply(window,arguments);return r.push(n),n},e.exports.clearTimeouts=function(){r.forEach(window.clearTimeout,window),r.length=0},e.exports.clearTimeout=function(e){window.clearTimeout(e);var t=r.indexOf(e);t>-1&&r.splice(t,1)};var o=[];e.exports.setInterval=function(e,t){var n=window.setInterval.apply(window,arguments);return o.push(n),n},e.exports.clearIntervals=function(){o.forEach(window.clearInterval,window),o.length=0},e.exports.clearInterval=function(e){window.clearInterval(e);var t=i.indexOf(e);t>-1&&i.splice(t,1);var n=o.indexOf(e);n>-1&&o.splice(n,1)};var i=[];e.exports.timedLoop=function(e,t){var n=setInterval(t,e);return i.push(n),n},e.exports.stopTimedLoop=function(e){void 0===e?i.slice().forEach((function(e){return t.clearInterval(e)})):clearInterval(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(2);e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isFarmer=function(){return!0},t}(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(1).randomValue,a=n(10),s=n(11),l=n(27);e.exports=function(e){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=o(this,e.call(this,n,i)),s=i.level;return a.defaultFlowerColor_=s&&"redWithNectar"===s.flowerType?"red":"purple",a.userChecks_=[],a.overrideStepSpeed=2,a.honey_=void 0,a.nectars_=void 0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isBee=function(){return!0},t.prototype.getCellClass=function(){return s},t.prototype.loadAudio=function(e){e.beeSound&&(this.maze_.loadAudio(e.nectarSound,"nectar"),this.maze_.loadAudio(e.honeySound,"honey"))},t.prototype.createDrawer=function(e){this.drawer=new l(this.maze_.map,this.skin_,e,this)},t.prototype.reset=function(){this.honey_=0,this.nectars_=[];for(var t=0;t<this.maze_.map.currentStaticGrid.length;t++){this.userChecks_[t]=[];for(var n=0;n<this.maze_.map.currentStaticGrid[t].length;n++)this.userChecks_[t][n]={checkedForFlower:!1,checkedForHive:!1,checkedForNectar:!1}}e.prototype.reset.call(this)},t.prototype.getHoneyCount=function(){return this.honey_},t.prototype.getNectarCount=function(){return this.nectars_.length},t.prototype.isHive=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(this.userChecks_[e][t].checkedForHive=!0),this.maze_.map.currentStaticGrid[e][t].isHive()},t.prototype.isFlower=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(this.userChecks_[e][t].checkedForFlower=!0),this.maze_.map.currentStaticGrid[e][t].isFlower()},t.prototype.isCloudable=function(e,t){return this.maze_.map.currentStaticGrid[e][t].isStaticCloud()},t.prototype.shouldCheckCloud=function(e,t){return this.maze_.map.getVariableCell(e,t).isStaticCloud()},t.prototype.shouldCheckPurple=function(e,t){return this.isPurpleFlower(e,t)&&!this.maze_.map.getVariableCell(e,t).isVariableRange()},t.prototype.checkedCloud=function(e,t){return this.userChecks_[e][t].checkedForFlower||this.userChecks_[e][t].checkedForHive},t.prototype.checkedAllClouded=function(){for(var e=0;e<this.maze_.map.currentStaticGrid.length;e++)for(var t=0;t<this.maze_.map.currentStaticGrid[e].length;t++)if(this.shouldCheckCloud(e,t)&&!this.checkedCloud(e,t))return!1;return!0},t.prototype.checkedAllPurple=function(){for(var e=0;e<this.maze_.map.currentStaticGrid.length;e++)for(var t=0;t<this.maze_.map.currentStaticGrid[e].length;t++)if(this.shouldCheckPurple(e,t)&&!this.userChecks_[e][t].checkedForNectar)return!1;return!0},t.prototype.isRedFlower=function(e,t){return!!this.isFlower(e,t,!1)&&(!!this.maze_.map.currentStaticGrid[e][t].isRedFlower()||!this.maze_.map.currentStaticGrid[e][t].isPurpleFlower()&&"red"===this.defaultFlowerColor_)},t.prototype.isPurpleFlower=function(e,t){return this.isFlower(e,t,!1)&&!this.isRedFlower(e,t)},t.prototype.hiveRemainingCapacity=function(e,t){if(!this.isHive(e,t))return 0;var n=this.getValue(e,t);return-99===n?1/0:-98===n?0:n},t.prototype.flowerRemainingCapacity=function(e,t){if(!this.isFlower(e,t))return 0;var n=this.getValue(e,t);return 99===n?1/0:98===n?0:n},t.prototype.madeHoneyAt=function(e,t){-99!==this.getValue(e,t)&&this.setValue(e,t,this.getValue(e,t)-1),this.honey_+=1},t.prototype.gotNectarAt=function(e,t){99!==this.getValue(e,t)&&this.setValue(e,t,this.getValue(e,t)-1),this.nectars_.push({row:e,col:t})},t.prototype.tryGetNectar=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY();return this.isFlower(t,e)?0===this.flowerRemainingCapacity(t,e)?(this.emit("flowerEmpty"),!1):(this.gotNectarAt(t,e),!0):(this.emit("notAtFlower"),!1)},t.prototype.tryMakeHoney=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY();return this.isHive(t,e)?0===this.hiveRemainingCapacity(t,e)?(this.emit("hiveFull"),!1):(this.madeHoneyAt(t,e),!0):(this.emit("notAtHive"),!1)},t.prototype.nectarRemaining=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.maze_.getPegmanX(),n=this.maze_.getPegmanY();return e&&(this.userChecks_[n][t].checkedForNectar=!0),this.flowerRemainingCapacity(n,t)},t.prototype.honeyAvailable=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY();return this.hiveRemainingCapacity(t,e)},t.prototype.animateGetNectar=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY();if(this.getValue(t,e)<=0)throw new Error("Shouldn't be able to end up with a nectar animation if there was no nectar to be had");this.playAudio_("nectar"),this.gotNectarAt(t,e),this.drawer.updateItemImage(t,e,!0)},t.prototype.animateMakeHoney=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY();if(!this.isHive(t,e))throw new Error("Shouldn't be able to end up with a honey animation if we arent at a hive or dont have nectar");this.playAudio_("honey"),this.madeHoneyAt(t,e),this.drawer.updateItemImage(t,e,!0)},t.prototype.getEmptyTile=function(e,t,n){for(var r=["null3","null4","null0"],o=n?2*r.length:6*r.length,a=0;a<o;a++)r.push("null1");return i(r)},t.prototype.drawTile=function(t,n,r,o,i){if(e.prototype.drawTile.call(this,t,n,r,o,i),(r+o)%2==0){var a=!this.isWallOrOutOfBounds_(o,r);this.drawer.addCheckerboardTile(r,o,a)}},t}(a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(2);e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.reset=function(){this.maze_.map.resetDirt()},t.prototype.collectedEverything=function(){return!this.maze_.map.currentStaticGrid.some((function(e){return e.some((function(e){return e.isDirt()&&e.getCurrentValue()>0}))}))},t.prototype.succeeded=function(){return this.collectedEverything()},t}(i)},function(e,t,n){"use strict";var r=n(4),o=n(0).SquareType,i={NONE:void 0,HIVE:0,FLOWER:1,VARIABLE:2},a={NONE:void 0,STATIC:0,HIVE_OR_FLOWER:1,FLOWER_OR_NOTHING:2,HIVE_OR_NOTHING:3,ANY:4},s={DEFAULT:void 0,RED:0,PURPLE:1};e.exports=function(e){function t(n,r,o,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r===t.FeatureType.NONE&&(o=void 0,s=void 0);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,s));return l.featureType_=r,l.flowerColor_=a,l.cloudType_=i,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isFlower=function(){return this.featureType_===i.FLOWER},t.prototype.isHive=function(){return this.featureType_===i.HIVE},t.prototype.isRedFlower=function(){return this.isFlower()&&this.flowerColor_===s.RED},t.prototype.isPurpleFlower=function(){return this.isFlower()&&this.flowerColor_===s.PURPLE},t.prototype.isStaticCloud=function(){return this.cloudType_===a.STATIC},t.prototype.isVariableCloud=function(){return this.cloudType_!==a.NONE&&this.cloudType_!==a.STATIC},t.prototype.isVariable=function(){return this.isVariableRange()||this.isVariableCloud()},t.prototype.getPossibleGridAssets=function(){var e=[];if(this.isVariableCloud()){var n=new t(this.tileType_,i.FLOWER,this.originalValue_,a.STATIC,this.flowerColor_),r=new t(this.tileType_,i.HIVE,this.originalValue_,a.STATIC),o=new t(this.tileType_,i.NONE,void 0,a.STATIC);switch(this.cloudType_){case a.HIVE_OR_FLOWER:e=[n,r];break;case a.FLOWER_OR_NOTHING:e=[n,o];break;case a.HIVE_OR_NOTHING:e=[r,o];break;case a.ANY:e=[n,r,o]}}else if(this.isVariableRange())for(var l=this.originalValue_;l<=this.range_;l++)e.push(new t(this.tileType_,i.FLOWER,l,a.NONE,s.PURPLE));else e.push(this);return e},t.prototype.serialize=function(){return Object.assign({},e.prototype.serialize.call(this),{featureType:this.featureType_,cloudType:this.cloudType_,flowerColor:this.flowerColor_})},t.deserialize=function(e){return new t(e.tileType,e.featureType,e.value,e.cloudType,e.flowerColor,e.range)},t.parseFromOldValues=function(e,n){e=e.toString(),n=parseInt(n);var r=void 0,l=void 0,u=void 0,c=void 0,d=void 0;return!isNaN(n)&&e.match(/[1|R|P|FC]/)&&0!==n?(r=o.OPEN,l=n>0?i.FLOWER:i.HIVE,u=Math.abs(n),c="FC"===e?a.STATIC:a.NONE,d="R"===e?s.RED:"P"===e?s.PURPLE:s.DEFAULT):r=parseInt(e),new t(r,l,u,c,d)},t}(r),e.exports.FeatureType=i,e.exports.CloudType=a,e.exports.FlowerColor=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(2),a=n(28);e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.scheduleDirtChange=function(t,n){e.prototype.scheduleDirtChange.call(this,t,n),this.collectSoundsCount&&(this.collectSoundsI=this.collectSoundsI||0,this.playAudio_("collect"+this.collectSoundsI),this.collectSoundsI+=1,this.collectSoundsI%=this.collectSoundsCount),this.emit("collected",this.getTotalCollected())},t.prototype.isCollector=function(){return!0},t.prototype.tryCollect=function(e,t){var n=this.maze_.map.getValue(e,t);return void 0===n||n<1?(this.emit("collectedTooMany"),!1):(this.maze_.map.setValue(e,t,n-1),!0)},t.prototype.getTotalCollected=function(){var e=0;return this.maze_.map.forEachCell((function(t,n,r){t.isDirt()&&(e+=t.getOriginalValue()-t.getCurrentValue())})),e},t.prototype.loadAudio=function(e){var t=this;e.collectSounds&&(this.collectSoundsCount=e.collectSounds.length,e.collectSounds.forEach((function(e,n){t.maze_.loadAudio(e,"collect"+n)})))},t.prototype.createDrawer=function(e){this.drawer=new a(this.maze_.map,this.skin_.goal,e)},t.prototype.getEmptyTile=function(){return"null0"},t.prototype.drawTile=function(t,n,r,o,i){e.prototype.drawTile.call(this,t,n,r,o,i),this.drawCorners(t,r,o,i)},t.prototype.drawCorners=function(e,t,n,r){var o=this,i={NE:[1,-1],NW:[-1,-1],SE:[1,1],SW:[-1,1]},a="http://www.w3.org/2000/svg",s=e.getElementsByClassName("pegman-location")[0];this.isWallOrOutOfBounds_(n,t)||Object.keys(i).filter((function(e){var r=i[e];return!o.isWallOrOutOfBounds_(n+r[0],t)&&!o.isWallOrOutOfBounds_(n,t+r[1])&&o.isWallOrOutOfBounds_(n+r[0],t+r[1])})).forEach((function(l){var u=document.createElementNS(a,"clipPath");u.setAttribute("id","tileCorner"+l+"ClipPath"+r);var c=document.createElementNS(a,"rect");c.setAttribute("width",25),c.setAttribute("height",25);var d=i[l];c.setAttribute("x",50*n+50*(d[0]+1)/4),c.setAttribute("y",50*t+50*(d[1]+1)/4),u.appendChild(c),e.appendChild(u);var f=document.createElementNS(a,"image");f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.skin_.corners),f.setAttribute("height",50),f.setAttribute("width",50),f.setAttribute("x",50*n),f.setAttribute("y",50*t),f.setAttribute("id","tileCorner"+l+r),f.setAttribute("clip-path","url(#"+u.id+")"),e.insertBefore(f,s)}))},t}(i)},function(e,t,n){"use strict";var r=n(2),o=n(29),i=n(0).SquareType,a=n(1).randomValue,s=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.goal_=r.level.searchWord,o.visited_="",o.map_=r.level.map,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getVisited=function(){return this.visited_},t.prototype.isWordSearch=function(){return!0},t.prototype.createDrawer=function(e){this.drawer=new o(this.maze_.map,"",e)},t.prototype.isOpen_=function(e,t){var n=this.map_;return void 0!==n[e]&&void 0!==n[e][t]&&n[e][t]!==i.WALL},t.prototype.openNeighbors_=function(e,t){var n=[];return this.isOpen_(e+1,t)&&n.push([e+1,t]),this.isOpen_(e-1,t)&&n.push([e-1,t]),this.isOpen_(e,t+1)&&n.push([e,t+1]),this.isOpen_(e,t-1)&&n.push([e,t-1]),n},t.prototype.restrictedValues_=function(e,n){for(var r=this.map_,o=this.openNeighbors_(e,n),i=[],a=0;a<o.length;a++)for(var s=this.openNeighbors_(o[a][0],o[a][1]),l=0;l<s.length;l++){var u=s[l][0],c=s[l][1],d=t.letterValue(r[u][c],!1);i.push(d,!1)}return i},t.prototype.drawMapTiles=function(e){for(var n=void 0,r=void 0,o=0;o<this.map_.length;o++)for(var i=0;i<this.map_[o].length;i++){var a=this.map_[o][i];a===t.EMPTY_CHAR?(r=this.restrictedValues_(o,i),n=t.randomLetter(r)):n=t.letterValue(a,!0),this.drawTile(e,n,o,i)}},t.prototype.resetTiles=function(){for(var e=0;e<this.map_.length;e++)for(var t=0;t<this.map_[e].length;t++)this.drawer.updateTileHighlight(e,t,!1);document.getElementById("currentWordContents").textContent="",this.visited_=""},t.prototype.markTileVisited=function(e,t,n){var r=document.getElementById(o.cellId("letter",e,t));this.visited_+=r.textContent,n&&(this.drawer.updateTileHighlight(e,t,!0),document.getElementById("currentWordContents").textContent=this.visited_)},t}(r);s.START_CHAR="-",s.EMPTY_CHAR="_",s.ALL_CHARS=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s.letterValue=function(e){if("number"==typeof e)return s.START_CHAR;if("string"==typeof e)return 2===e.length&&"_"===e[0]?e[1]:e[0];throw new Error("unexpected value for letterValue")},s.randomLetter=function(e){var t=s.ALL_CHARS;return e&&(e=new Set(e),t=t.filter((function(t){return!e.has(t)}))),a(t)},e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(10),a=n(15),s=n(31);e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCellClass=function(){return a},t.prototype.loadAudio=function(e){e.harvestSound&&this.maze_.loadAudio(e.harvestSound,"harvest")},t.prototype.createDrawer=function(e){this.drawer=new s(this.maze_.map,this.skin_,e,this)},t.prototype.hasCorn=function(){return this.hasCrop(a.FeatureType.CORN)},t.prototype.hasPumpkin=function(){return this.hasCrop(a.FeatureType.PUMPKIN)},t.prototype.hasLettuce=function(){return this.hasCrop(a.FeatureType.LETTUCE)},t.prototype.hasCrop=function(e){var t=this.maze_.getPegmanX(),n=this.maze_.getPegmanY(),r=this.getCell(n,t);return r.featureType()===e&&r.getCurrentValue()>0},t.prototype.atCorn=function(){return this.atCrop(a.FeatureType.CORN)},t.prototype.atPumpkin=function(){return this.atCrop(a.FeatureType.PUMPKIN)},t.prototype.atLettuce=function(){return this.atCrop(a.FeatureType.LETTUCE)},t.prototype.atCrop=function(e){var t=this.maze_.getPegmanX(),n=this.maze_.getPegmanY();return this.getCell(n,t).featureType()===e},t.prototype.gotCropAt=function(e,t){var n=this.getCell(e,t);n.setCurrentValue(n.getCurrentValue()-1)},t.prototype.tryGetCorn=function(){return this.tryGetCrop(a.FeatureType.CORN)},t.prototype.tryGetPumpkin=function(){return this.tryGetCrop(a.FeatureType.PUMPKIN)},t.prototype.tryGetLettuce=function(){return this.tryGetCrop(a.FeatureType.LETTUCE)},t.prototype.tryGetCrop=function(e){var t=this.maze_.getPegmanX(),n=this.maze_.getPegmanY(),r=this.getCell(n,t);return r.featureType()!==e?(this.emit("wrongCrop"),!1):0===r.getCurrentValue()?(this.emit("emptyCrop"),!1):(this.gotCropAt(n,t),!0)},t.prototype.animateGetCorn=function(){this.animateGetCrop(a.FeatureType.CORN)},t.prototype.animateGetPumpkin=function(){this.animateGetCrop(a.FeatureType.PUMPKIN)},t.prototype.animateGetLettuce=function(){this.animateGetCrop(a.FeatureType.LETTUCE)},t.prototype.animateGetCrop=function(e){var t=this.maze_.getPegmanX(),n=this.maze_.getPegmanY(),r=this.getCell(n,t);if(r.featureType()!==e)throw new Error("Shouldn't be able to harvest the wrong kind of crop");if(r.getCurrentValue()<=0)throw new Error("Shouldn't be able to end up with a harvest animation if there was nothing left to harvest");this.playAudio_("harvest"),this.gotCropAt(n,t),this.drawer.updateItemImage(n,t,!0)},t}(i)},function(e,t,n){"use strict";var r=n(4),o=n(0).SquareType,i={NONE:0,CORN:1,PUMPKIN:2,LETTUCE:3};e.exports=function(e){function t(n,r,a,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0!==s&&n===o.OPEN||(s=[i.NONE]),Array.isArray(s)||(s=[s]),s.every((function(e){return e===i.NONE}))&&(r=void 0,a=void 0);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r,a));return s.length>1&&(l=!0),u.possibleFeatures_=s,u.startsHidden_=!!l,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.startsHidden=function(){return this.startsHidden_},t.prototype.isVariableFeature=function(){return this.possibleFeatures_.length>1},t.prototype.isVariable=function(){return this.isVariableFeature()||e.prototype.isVariable.call(this)},t.prototype.getPossibleGridAssets=function(){var e=this,n=[];if(this.isVariableFeature())n=this.possibleFeatures_.map((function(n){return t.deserialize(Object.assign({},e.serialize(),{possibleFeatures:[n]}))}));else if(this.isVariableRange())for(var r=this.originalValue_;r<=this.range_;r++)n.push(t.deserialize(Object.assign({},this.serialize(),{value:r,range:r})));else n.push(this);return n},t.prototype.featureType=function(){if(!this.isVariableFeature())return this.possibleFeatures_[0]},t.prototype.featureName=function(){return this.isVariableFeature()?"unknown":["none","corn","pumpkin","lettuce"][this.possibleFeatures_[0]]},t.prototype.isCorn=function(){return this.possibleFeatures_.includes(i.CORN)},t.prototype.isPumpkin=function(){return this.possibleFeatures_.includes(i.PUMPKIN)},t.prototype.isLettuce=function(){return this.possibleFeatures_.includes(i.LETTUCE)},t.prototype.serialize=function(){return Object.assign({},e.prototype.serialize.call(this),{possibleFeatures:this.possibleFeatures_,startsHidden:this.startsHidden_})},t.deserialize=function(e){return new t(e.tileType,e.value,e.range,e.possibleFeatures,e.startsHidden)},t}(r),e.exports.FeatureType=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(2),a=n(17),s=n(32);e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.reset=function(){this.maze_.map.forEachCell((function(e){e.resetCurrentFeature()}))},t.prototype.getCellClass=function(){return a},t.prototype.createDrawer=function(e){this.drawer=new s(this.maze_.map,this.skin_,e,this)},t.prototype.atSprout=function(){return this.atType(a.FeatureType.SPROUT)},t.prototype.atSoil=function(){return this.atType(a.FeatureType.SOIL)},t.prototype.atType=function(e){var t=this.maze_.getPegmanX(),n=this.maze_.getPegmanY();return this.getCell(n,t).featureType()===e},t.prototype.tryPlant=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY(),n=this.getCell(t,e);return n.featureType()!==a.FeatureType.SOIL?(this.emit("plantInNonSoil"),!1):(n.setFeatureType(a.FeatureType.SPROUT),!0)},t.prototype.animatePlant=function(){var e=this.maze_.getPegmanX(),t=this.maze_.getPegmanY(),n=this.getCell(t,e);if(n.featureType()!==a.FeatureType.SOIL)throw new Error("Shouldn't be able to plant in anything but soil");n.setFeatureType(a.FeatureType.SPROUT),this.drawer.updateItemImage(t,e,!0)},t}(i)},function(e,t,n){"use strict";var r=n(4),o={NONE:0,SOIL:1,SPROUT:2};e.exports=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===r&&(r=o.NONE);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.originalFeatureType_=r,i.currentFeatureType_=void 0,i.resetCurrentFeature(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setFeatureType=function(e){this.currentFeatureType_=e},t.prototype.featureType=function(){return this.currentFeatureType_},t.prototype.originalFeatureType=function(){return this.originalFeatureType_},t.prototype.resetCurrentFeature=function(){this.currentFeatureType_=this.originalFeatureType_},t.prototype.featureName=function(){return["none","soil","sprout"][this.currentFeatureType_]},t.prototype.isSoil=function(){return this.currentFeatureType_===o.SOIL},t.prototype.isSprout=function(){return this.currentFeatureType_===o.SPROUT},t.prototype.serialize=function(){return Object.assign({},e.prototype.serialize.call(this),{featureType:this.originalFeatureType_})},t.deserialize=function(e){return new t(e.tileType,e.featureType)},t}(r),e.exports.FeatureType=o},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=l(n(2)),i=l(n(19)),a=l(n(33)),s=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,t);var o=c(this,e.call(this,n,r));return o.spriteMap=o.skin_.spriteMap,o.sheetRows=o.skin_.sheetRows,o.squareSize=o.skin_.squareSize,o.assetList=[],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isNeighborhood=function(){return!0},t.prototype.allowMultiplePegmen=function(){return!0},t.prototype.getCellClass=function(){return i.default},t.prototype.drawMapTiles=function(e){var t=this,n=0;this.maze_.map.forEachCell((function(o,i,a){t.drawTile(e,[0,0],i,a,n);var s=t.drawer.getBackgroundTileInfo(i,a);if(s){t.assetList.push("tileElement"+n+"-asset");var l=t.skin_.assetUrl(s.sheet),u=t.getDimensionsForSheet(s.sheet),c=r(u,2),d=c[0],f=c[1];t.drawer.drawTileHelper(e,[s.column,s.row],i,a,n+"-asset",l,d,f,t.squareSize)}t.drawer.updateItemImage(i,a,!1),n++}))},t.prototype.createDrawer=function(e){this.drawer=new a.default(this.maze_.map,this.skin_,e,this.squareSize,this)},t.prototype.addPaint=function(e,t){var n=this.maze_.getPegmanX(e),r=this.maze_.getPegmanY(e);this.getCell(r,n).setColor(t),this.drawer.updateItemImage(r,n,!0),this.drawer.drawAssets()},t.prototype.removePaint=function(e){var t=this.maze_.getPegmanX(e),n=this.maze_.getPegmanY(e);this.drawer.resetTile(n,t),this.drawer.updateItemImage(n,t,!0),this.drawer.drawAssets()},t.prototype.turnLeft=function(e){var t=null;switch(this.maze_.getPegmanD(e)){case s.Direction.NORTH:t=s.Direction.WEST;break;case s.Direction.EAST:t=s.Direction.NORTH;break;case s.Direction.SOUTH:t=s.Direction.EAST;break;case s.Direction.WEST:t=s.Direction.SOUTH}this.maze_.animatedCardinalTurn(t,e)},t.prototype.takePaint=function(e){var t=this.maze_.getPegmanX(e),n=this.maze_.getPegmanY(e),r=this.getCell(n,t);r.setCurrentValue(r.getCurrentValue()-1),this.drawer.updateItemImage(n,t,!0)},t.prototype.setBucketVisibility=function(e){this.drawer.getBucketVisibility()!=e&&(this.drawer.setBucketVisibility(e),this.redrawBucketTiles())},t.prototype.redrawBucketTiles=function(){var e=this;this.maze_.map.forEachCell((function(t,n,r){t.getCurrentValue()>0&&e.drawer.updateItemImage(n,r,!0)}))},t.prototype.reset=function(){this.drawer.resetTiles()},t.prototype.getSpriteMap=function(){return this.spriteMap},t.prototype.getDimensionsForSheet=function(e){return[10*this.squareSize,this.sheetRows[e]*this.squareSize]},t.prototype.getAssetList=function(){return this.assetList},t}(o.default)},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(4);e.exports=function(e){function t(n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return a.assetId=o,a.color=i,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getColor=function(){return this.color},t.prototype.setColor=function(e){this.color=e},t.prototype.getAssetId=function(){return this.assetId},t.prototype.serialize=function(){return r({},e.prototype.serialize.call(this),{assetId:this.assetId,color:this.color})},t.deserialize=function(e){return new t(e.tileType,e.value,e.assetId,e.color)},t}(o)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r(this,e),null==t)throw new Error("Pegman id cannot be null or undefined");this.x=n,this.y=o,this.direction=i,this.id=t,this.isVisible=a}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getDirection=function(){return this.direction},e.prototype.getId=function(){return this.id},e.prototype.getIsVisible=function(){return this.isVisible},e.prototype.setX=function(e){this.x=e},e.prototype.setY=function(e){this.y=e},e.prototype.setDirection=function(e){this.direction=e},e.prototype.setIsVisible=function(e){this.isVisible=e},e}()},function(e,t,n){"use strict";e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid_=t,this.ROWS=this.grid_.length,this.COLS=this.grid_[0].length,this.staticGrids=this.constructor.getAllStaticGrids(this.grid_),this.currentStaticGrid=this.staticGrids[0]}return e.cloneGrid=function(e){return e.map((function(e){return e.map((function(e){return e.clone()}))}))},e.getAllStaticGrids=function(e){var t=this,n=[e];return e.forEach((function(e,r){e.forEach((function(e,o){if(e.isVariable()){var i=e.getPossibleGridAssets(),a=[];i.forEach((function(e){n.forEach((function(n){var i=t.cloneGrid(n);i[r][o]=e,a.push(i)}))})),n=a}}))})),n},e.deserialize=function(t,n){return new e(t.map((function(e){return e.map(n.deserialize)})))},e.parseFromOldValues=function(t,n,r){return new e(t.map((function(e,t){return e.map((function(e,o){var i=n&&n[t][o];return r.parseFromOldValues(e,i)}))})))},e.prototype.resetDirt=function(){this.forEachCell((function(e){e.resetCurrentValue()}))},e.prototype.forEachCell=function(e){this.currentStaticGrid.forEach((function(t,n){t.forEach((function(t,r){e(t,n,r)}))}))},e.prototype.getAllCells=function(){return this.currentStaticGrid.reduce((function(e,t){return e.concat(t)}),[])},e.prototype.getCell=function(e,t){return this.currentStaticGrid[e]&&this.currentStaticGrid[e][t]},e.prototype.isDirt=function(e,t){var n=this.getCell(e,t);return n&&n.isDirt()},e.prototype.getTile=function(e,t){var n=this.getCell(e,t);return n&&n.getTile()},e.prototype.getValue=function(e,t){var n=this.getCell(e,t);return n&&n.getCurrentValue()},e.prototype.setValue=function(e,t,n){this.currentStaticGrid[e]&&this.currentStaticGrid[e][t]&&this.currentStaticGrid[e][t].setCurrentValue(n)},e.prototype.getVariableCell=function(e,t){if(this.grid_[e]&&this.grid_[e][t])return this.grid_[e][t]},e.prototype.useGridWithId=function(e){this.currentStaticGrid=this.staticGrids[e],this.resetDirt()},e.prototype.clone=function(){this.constructor.cloneGrid(this.grid_)},e.prototype.hasMultiplePossibleGrids=function(){return this.staticGrids.length>1},e}()},function(e,t,n){"use strict";var r=n(23),o=n(21),i=n(35),a=n(6),s=n(36),l=n(0),u=n(1);e.exports={MazeController:r,MazeMap:o,cells:i,drawMap:a,subtypes:s,tiles:l,utils:u}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(7),a=n(24),s=n(34),l=n(20),u=n(21),c=n(6),d=n(1).getSubtypeForSkin,f=n(0);e.exports=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o(this,e),this.stepSpeed=100,this.level=t,this.skin=n,this.startDirection=null,this.subtype=null,this.map=null,this.animationsController=null,this.pegmanController=new s,this.MAZE_HEIGHT=null,this.MAZE_WIDTH=null,this.PATH_WIDTH=null,this.PEGMAN_HEIGHT=null,this.PEGMAN_WIDTH=null,this.PEGMAN_X_OFFSET=null,this.PEGMAN_Y_OFFSET=null,this.SQUARE_SIZE=null,this.SVG_WIDTH=null,this.SVG_HEIGHT=null,i.methods&&this.rebindMethods(i.methods);var a=d(r.skinId);this.subtype=new a(this,r),this.loadLevel_()}return e.prototype.playAudio=function(){},e.prototype.playAudioOnFailure=function(){},e.prototype.loadAudio=function(){},e.prototype.getTestResults=function(){},e.prototype.rebindMethods=function(e){this.playAudio=e.playAudio||this.playAudio,this.playAudioOnFailure=e.playAudioOnFailure||this.playAudioOnFailure,this.loadAudio=e.loadAudio||this.loadAudio,this.getTestResults=e.getTestResults||this.getTestResults},e.prototype.initWithSvg=function(e){e.setAttribute("width",this.SVG_WIDTH),e.setAttribute("height",this.SVG_HEIGHT),e.setAttribute("viewBox","0 0 "+this.MAZE_WIDTH+" "+this.MAZE_HEIGHT),c(e,this.skin,this.subtype,this.map,this.SQUARE_SIZE),this.animationsController=new a(this,e)},e.prototype.loadLevel_=function(){this.level.serializedMaze?this.map=u.deserialize(this.level.serializedMaze,this.subtype.getCellClass()):this.map=u.parseFromOldValues(this.level.map,this.level.initialDirt,this.subtype.getCellClass()),this.startDirection=this.level.startDirection,this.level.fastGetNectarAnimation&&(this.skin.actionSpeedScale.nectar=.5),this.SQUARE_SIZE=this.skin.squareSize||50,this.PEGMAN_HEIGHT=this.skin.pegmanHeight,this.PEGMAN_WIDTH=this.skin.pegmanWidth,this.PEGMAN_X_OFFSET=this.skin.pegmanXOffset||0,this.PEGMAN_Y_OFFSET=this.skin.pegmanYOffset,this.MAZE_WIDTH=this.SQUARE_SIZE*this.map.COLS,this.MAZE_HEIGHT=this.SQUARE_SIZE*this.map.ROWS,this.SVG_WIDTH=this.skin.svgWidth||this.MAZE_WIDTH,this.SVG_HEIGHT=this.skin.svgHeight||this.MAZE_HEIGHT,this.PATH_WIDTH=this.SQUARE_SIZE/3},e.prototype.resetDirtImages=function(e){var t=this;this.map.forEachCell((function(n,r,o){t.subtype.drawer.updateItemImage(r,o,e)}))},e.prototype.gridNumberToPosition_=function(e){return(e+.5)*this.SQUARE_SIZE},e.prototype.drawHintPath=function(e,t){var n=this;e.getElementById("hintPath").setAttribute("d","M"+t.map((function(e){var t=r(e,2),o=t[0],i=t[1];return n.gridNumberToPosition_(o)+","+n.gridNumberToPosition_(i)})).join(" "))},e.prototype.reset=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.subtype.reset(),i.clearTimeouts(),this.subtype.start&&(this.setPegmanX(this.subtype.start.x),this.setPegmanY(this.subtype.start.y),this.setPegmanD(this.startDirection)),this.subtype.allowMultiplePegmen()&&this.pegmanController.getAllPegmanIds().forEach((function(e){t.pegmanController.isDefaultPegman(e)&&n?t.animationsController.showPegman(e):t.animationsController.hidePegman(e)})),this.animationsController.reset(e),this.map.resetDirt(),this.resetDirtImages(!1);var r,o,a=0;for(o=0;o<this.map.ROWS;o++)for(r=0;r<this.map.COLS;r++){var s=document.getElementById("obstacle"+a);s&&s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.skin.obstacleIdle),++a}this.subtype.resetTiles?this.subtype.resetTiles():this.resetTiles_()},e.prototype.resetTiles_=function(){for(var e=0,t=0;t<this.map.ROWS;t++)for(var n=0;n<this.map.COLS;n++){document.getElementById("tileClipPath"+e).setAttribute("visibility","visible");var r=document.getElementById("tileElement"+e);r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.skin.tiles),r.setAttribute("opacity",1),e++}},e.prototype.animatedFinish=function(e){this.animationsController.scheduleDance(!0,e)},e.prototype.animatedMove=function(e,t,n){var r=f.directionToDxDy(e),o=this.getPegmanX(n)+r.dx,i=this.getPegmanY(n)+r.dy;this.animationsController.scheduleMove(o,i,t,n),this.playAudio("walk"),this.setPegmanX(o,n),this.setPegmanY(i,n)},e.prototype.animatedTurn=function(e,t){var n=this.getPegmanD(t)+e;this.animationsController.scheduleTurn(n,t),this.setPegmanD(f.constrainDirection4(n),t)},e.prototype.animatedCardinalTurn=function(e,t){this.animationsController.simpleTurn(e,t),this.setPegmanD(e,t)},e.prototype.animatedFail=function(e,t){var n=this,r=f.directionToDxDy(this.getPegmanD(t)),o=r.dx,a=r.dy;e||(o=-o,a=-a);var s=this.getPegmanX(t)+o,l=this.getPegmanY(t)+a,u=f.directionToFrame(this.getPegmanD(t));this.animationsController.displayPegman(this.getPegmanX(t)+o/4,this.getPegmanY(t)+a/4,u,t);var c=this.map.getTile(l,s);c===f.SquareType.WALL||void 0===c||this.subtype.isScrat()&&c===f.SquareType.OBSTACLE?(this.playAudio("wall"),void 0!==c&&this.playAudio("wall"+this.subtype.wallMap[l][s]),this.subtype.isScrat()&&c===f.SquareType.OBSTACLE&&this.animationsController.crackSurroundingIce(s,l),this.animationsController.scheduleWallHit(s,l,o,a,u,t),i.setTimeout((function(){n.playAudioOnFailure()}),2*this.stepSpeed)):c===f.SquareType.OBSTACLE&&(this.playAudio("obstacle"),this.animationsController.scheduleObstacleHit(s,l,o,a,u,t),i.setTimeout((function(){n.playAudioOnFailure()}),this.stepSpeed))},e.prototype.animatedLook=function(e,t){var n=this.getPegmanX(t),r=this.getPegmanY(t);switch(e){case f.Direction.NORTH:n+=.5;break;case f.Direction.EAST:n+=1,r+=.5;break;case f.Direction.SOUTH:n+=.5,r+=1;break;case f.Direction.WEST:r+=.5}n*=this.SQUARE_SIZE,r*=this.SQUARE_SIZE;var o=90*e-45;this.animationsController.scheduleLook(n,r,o)},e.prototype.scheduleDirtChange_=function(e){var t=this.getPegmanX(),n=this.getPegmanY(),r=this.map.getValue(n,t)||0;this.map.setValue(n,t,r+e.amount),this.subtype.scheduleDirtChange(n,t),this.playAudio(e.sound)},e.prototype.scheduleFill=function(){this.scheduleDirtChange_({amount:1,sound:"fill"})},e.prototype.scheduleDig=function(){this.scheduleDirtChange_({amount:-1,sound:"dig"})},e.prototype.getPegmanX=function(e){var t=this.pegmanController.getPegman(e);return t&&t.getX()},e.prototype.getPegmanY=function(e){var t=this.pegmanController.getPegman(e);return t&&t.getY()},e.prototype.getPegmanD=function(e){var t=this.pegmanController.getPegman(e);return t&&t.getDirection()},e.prototype.setPegmanX=function(e,t){this.pegmanController.getOrCreatePegman(t).setX(e)},e.prototype.setPegmanY=function(e,t){this.pegmanController.getOrCreatePegman(t).setY(e)},e.prototype.setPegmanD=function(e,t){this.pegmanController.getOrCreatePegman(t).setDirection(e)},e.prototype.addPegman=function(e,t,n,r){if(this.pegmanController.getPegman(e)){this.animationsController.hidePegman(e);var o=this.pegmanController.getPegman(e);o.setX(t),o.setY(n),o.setDirection(r);var i=f.directionToFrame(r);this.animationsController.displayPegman(t,n,i,e),this.animationsController.showPegman(e)}else this.createAndDisplayPegman(e,t,n,r)},e.prototype.createAndDisplayPegman=function(e,t,n,r){var o=new l(e,t,n,r);this.pegmanController.addPegman(o),this.animationsController.addNewPegman(e,t,n,r)},e.prototype.hideDefaultPegman=function(){this.pegmanController.getPegman()&&this.animationsController.hidePegman()},e.prototype.showPegman=function(e){this.animationsController.showPegman(e)},e.prototype.hidePegman=function(e){this.animationsController.hidePegman(e)},e}()},function(e,t,n){"use strict";var r=n(5),o=r.SVG_NS,i=r.pegmanElements,a=n(6),s=a.displayPegman,l=a.getPegmanYForRow,u=a.addNewPegman,c=n(7),d=n(1),f=n(0);e.exports=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maze=t,this.svg=n,this.createAnimations_()}return e.prototype.createAnimations_=function(e){var t=this;if(this.maze.skin.idlePegmanAnimation&&(this.createPegmanAnimation_({type:i.IDLE,pegmanImage:this.maze.skin.idlePegmanAnimation,row:this.maze.subtype.start.y,col:this.maze.subtype.start.x,direction:this.maze.startDirection,numColPegman:this.maze.skin.idlePegmanCol,numRowPegman:this.maze.skin.idlePegmanRow,pegmanId:e}),this.maze.skin.idlePegmanCol>1||this.maze.skin.idlePegmanRow>1)){var n=this.maze.skin.idlePegmanRow,r=document.getElementById(d.getPegmanElementId(i.IDLE,e)),a=0;setInterval((function(){"visible"===r.getAttribute("visibility")&&(t.updatePegmanAnimation_({type:i.IDLE,row:t.maze.subtype.start.y,col:t.maze.subtype.start.x,direction:t.maze.startDirection,animationRow:a,pegmanId:e}),a=(a+1)%n)}),600)}if(this.maze.skin.celebrateAnimation&&this.createPegmanAnimation_({type:i.CELEBRATE,pegmanImage:this.maze.skin.celebrateAnimation,row:this.maze.subtype.start.y,col:this.maze.subtype.start.x,direction:f.Direction.NORTH,numColPegman:this.maze.skin.celebratePegmanCol,numRowPegman:this.maze.skin.celebratePegmanRow,pegmanId:e}),this.maze.skin.wallPegmanAnimation&&this.createPegmanAnimation_({type:i.WALL,pegmanImage:this.maze.skin.wallPegmanAnimation,pegmanId:e}),this.maze.skin.hittingWallAnimation&&this.maze.skin.hittingWallAnimationFrameNumber&&(this.createPegmanAnimation_({type:i.WALL,pegmanImage:this.maze.skin.hittingWallAnimation,numColPegman:this.maze.skin.hittingWallPegmanCol,numRowPegman:this.maze.skin.hittingWallPegmanRow,pegmanId:e}),document.getElementById(d.getPegmanElementId(i.WALL,e)).setAttribute("visibility","hidden")),this.maze.skin.movePegmanAnimation&&this.createPegmanAnimation_({type:i.MOVE,pegmanImage:this.maze.skin.movePegmanAnimation,numColPegman:4,numRowPegman:this.maze.skin.movePegmanAnimationFrameNumber||9,pegmanId:e}),this.maze.skin.hittingWallAnimation){var s=document.createElementNS(o,"image");s.setAttribute("id",d.getPegmanElementId(i.WALL_ANIMATION,e)),s.setAttribute("height",this.maze.SQUARE_SIZE),s.setAttribute("width",this.maze.SQUARE_SIZE),s.setAttribute("visibility","hidden"),this.svg.appendChild(s)}},e.prototype.reset=function(e){var t=this;if(e)this.maze.skin.danceOnLoad&&this.scheduleDance(!1,750),c.setTimeout((function(){t.maze.stepSpeed=100,t.scheduleTurn(t.maze.startDirection)}),900);else{this.maze.subtype.allowMultiplePegmen()||this.displayPegman(this.maze.getPegmanX(),this.maze.getPegmanY(),f.directionToFrame(this.maze.getPegmanD()));var n=document.getElementById("finish");n&&(n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.maze.skin.goalIdle),n.setAttribute("visibility","visible"))}var r=document.getElementById("look");r.style.display="none",r.parentNode.appendChild(r);for(var o=r.getElementsByTagName("path"),a=0;a<o.length;a++)o[a].setAttribute("stroke",this.maze.skin.look);var s=this.getPegmanIcon();this.maze.subtype.allowMultiplePegmen()||s.setAttribute("opacity",1),this.maze.skin.idlePegmanAnimation?(s.setAttribute("visibility","hidden"),document.getElementById(d.getPegmanElementId(i.IDLE)).setAttribute("visibility","visible")):this.maze.subtype.allowMultiplePegmen()||s.setAttribute("visibility","visible"),this.maze.skin.wallPegmanAnimation&&document.getElementById(d.getPegmanElementId(i.WALL)).setAttribute("visibility","hidden"),this.maze.skin.movePegmanAnimation&&document.getElementById(d.getPegmanElementId(i.MOVE)).setAttribute("visibility","hidden"),this.maze.skin.celebrateAnimation&&document.getElementById(d.getPegmanElementId(i.CELEBRATE)).setAttribute("visibility","hidden")},e.prototype.createPegmanAnimation_=function(e){var t=document.createElementNS(o,"clipPath"),n=d.getPegmanElementId(e.type+"Clip",e.pegmanId);t.setAttribute("id",n);var r=document.createElementNS(o,"rect");r.setAttribute("id",d.getPegmanElementId(e.type+"ClipRect",e.pegmanId)),void 0!==e.col&&r.setAttribute("x",e.col*this.maze.SQUARE_SIZE+1+this.maze.PEGMAN_X_OFFSET),void 0!==e.row&&r.setAttribute("y",l(this.maze.skin,e.row,this.maze.SQUARE_SIZE)),r.setAttribute("width",this.maze.PEGMAN_WIDTH),r.setAttribute("height",this.maze.PEGMAN_HEIGHT),t.appendChild(r),this.svg.appendChild(t);var i=e.pegmanImage,a=document.createElementNS(o,"image");if(a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),a.setAttribute("height",this.maze.PEGMAN_HEIGHT*(e.numRowPegman||1)),a.setAttribute("width",this.maze.PEGMAN_WIDTH*(e.numColPegman||4)),a.setAttribute("clip-path","url(#"+n+")"),a.setAttribute("id",d.getPegmanElementId(e.type,e.pegmanId)),this.svg.appendChild(a),void 0!==e.col&&void 0!==e.direction){var s=this.maze.SQUARE_SIZE*e.col-e.direction*this.maze.PEGMAN_WIDTH+1+this.maze.PEGMAN_X_OFFSET;a.setAttribute("x",s)}void 0!==e.row&&a.setAttribute("y",l(this.maze.skin,e.row,this.maze.SQUARE_SIZE))},e.prototype.getPegmanFrameOffsetY_=function(e){return(e=e||0)*this.maze.PEGMAN_HEIGHT},e.prototype.updatePegmanAnimation_=function(e){var t=document.getElementById(d.getPegmanElementId(e.type+"ClipRect",e.pegmanId));if(t){t.setAttribute("x",e.col*this.maze.SQUARE_SIZE+1+this.maze.PEGMAN_X_OFFSET),t.setAttribute("y",l(this.maze.skin,e.row,this.maze.SQUARE_SIZE));var n=document.getElementById(d.getPegmanElementId(e.type,e.pegmanId));if(n){var r=this.maze.SQUARE_SIZE*e.col-e.direction*this.maze.PEGMAN_WIDTH+1+this.maze.PEGMAN_X_OFFSET;n.setAttribute("x",r);var o=l(this.maze.skin,e.row,this.maze.SQUARE_SIZE)-this.getPegmanFrameOffsetY_(e.animationRow);n.setAttribute("y",o),n.setAttribute("visibility","visible")}}},e.prototype.scheduleSheetedMovement_=function(e,t,n,r,o,i,a,s){var l=this,u=this.getPegmanIcon(s);d.range(0,n-1).forEach((function(d){c.setTimeout((function(){a&&u.setAttribute("visibility","hidden"),l.updatePegmanAnimation_({type:o,col:e.x+t.x*d/n,row:e.y+t.y*d/n,direction:i,animationRow:d,pegmanId:s})}),r*d)}))},e.prototype.scheduleMove=function(e,t,n,r){var o,a,s=this,l=this.maze.getPegmanX(r),u=this.maze.getPegmanY(r),p=this.maze.getPegmanD(r),h=e-l,m=t-u;if(this.maze.skin.movePegmanAnimation){o=this.maze.skin.movePegmanAnimationFrameNumber;var g=this.getPegmanIcon(r),y=document.getElementById(d.getPegmanElementId(i.MOVE,r));a=n/o,this.scheduleSheetedMovement_({x:l,y:u},{x:h,y:m},o,a,i.MOVE,p,!0,r),c.setTimeout((function(){y.setAttribute("visibility","hidden"),g.setAttribute("visibility","visible"),s.displayPegman(e,t,f.directionToFrame(p),r),s.maze.subtype.isWordSearch()&&s.maze.subtype.markTileVisited(t,e,!0)}),a*o)}else a=n/(o=4),d.range(1,o).forEach((function(e){c.setTimeout((function(){s.displayPegman(l+h*e/o,u+m*e/o,f.directionToFrame(p),r)}),a*e)}));if(this.maze.skin.approachingGoalAnimation){var v=document.getElementById("finish");this.maze.subtype.finish&&Math.abs(e-this.maze.subtype.finish.x)<=1&&Math.abs(t-this.maze.subtype.finish.y)<=1?v.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.maze.skin.approachingGoalAnimation):v.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.maze.skin.goalIdle)}},e.prototype.scheduleTurn=function(e,t){var n=this,r=this.maze.getPegmanD(t),o=e-r;d.range(1,4).forEach((function(e){c.setTimeout((function(){n.displayPegman(n.maze.getPegmanX(t),n.maze.getPegmanY(t),f.directionToFrame(r+o*e/4),t)}),n.maze.stepSpeed*(e-1))}))},e.prototype.simpleTurn=function(e,t){var n=this;d.range(1,2).forEach((function(r){c.setTimeout((function(){n.displayPegman(n.maze.getPegmanX(t),n.maze.getPegmanY(t),f.directionToFrame(e),t)}),n.maze.stepSpeed*(r-1))}))},e.prototype.crackSurroundingIce=function(e,t){var n=this;this.updateSurroundingTiles_(t,e,(function(e,t){t.getTile()===f.SquareType.OPEN?e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n.maze.skin.largerObstacleAnimationTiles):t.getTile()===f.SquareType.OBSTACLE&&e.setAttribute("opacity",0)}))},e.prototype.updateSurroundingTiles_=function(e,t,n){for(var r=[[e-1,t-1],[e-1,t],[e-1,t+1],[e,t-1],[e,t],[e,t+1],[e+1,t-1],[e+1,t],[e+1,t+1]],o=0;o<r.length;++o){var i=r[o][1],a=r[o][0],s=i+this.maze.map.COLS*a,l=document.getElementById("tileElement"+s);l&&n(l,this.maze.map.getCell(a,i))}},e.prototype.scheduleWallHit=function(e,t,n,r,o,a){var s=this,l=this.maze.getPegmanX(a),u=this.maze.getPegmanY(a);if(this.maze.skin.hittingWallAnimation){var p=document.getElementById(d.getPegmanElementId(i.WALL_ANIMATION,a)),h=this.maze.skin.hittingWallAnimationFrameNumber||0;h>1?(r>=0&&(r+=1),this.scheduleSheetedMovement_({x:l,y:u},{x:n,y:r},h,100,i.WALL,f.Direction.NORTH,!0,a),setTimeout((function(){document.getElementById(d.getPegmanElementId(i.WALL,a)).setAttribute("visibility","hidden")}),100*h)):c.setTimeout((function(){p.setAttribute("x",s.maze.SQUARE_SIZE*(l+.5+.5*n)-p.getAttribute("width")/2),p.setAttribute("y",s.maze.SQUARE_SIZE*(u+1+.5*r)-p.getAttribute("height")),p.setAttribute("visibility","visible"),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s.maze.skin.hittingWallAnimation)}),this.maze.stepSpeed/2)}c.setTimeout((function(){s.displayPegman(l,u,o,a)}),this.maze.stepSpeed),c.setTimeout((function(){s.displayPegman(l+n/4,u+r/4,o,a)}),2*this.maze.stepSpeed),c.setTimeout((function(){s.displayPegman(l,u,o,a)}),3*this.maze.stepSpeed),this.maze.skin.wallPegmanAnimation&&c.setTimeout((function(){s.getPegmanIcon(a).setAttribute("visibility","hidden"),s.updatePegmanAnimation_({type:i.WALL,row:u,col:l,direction:s.maze.getPegmanD(a)})}),4*this.maze.stepSpeed)},e.prototype.scheduleObstacleHit=function(e,t,n,r,o,i){var a=this,s=e+this.maze.map.COLS*t;if(document.getElementById("obstacle"+s).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.maze.skin.obstacleAnimation),c.setTimeout((function(){a.displayPegman(a.maze.getPegmanX(i)+n/2,a.maze.getPegmanY(i)+r/2,o)}),this.maze.stepSpeed),this.maze.skin.largerObstacleAnimationTiles&&c.setTimeout((function(){a.updateSurroundingTiles_(t,e,(function(e){return e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.maze.skin.largerObstacleAnimationTiles)}))}),this.maze.stepSpeed),!this.maze.skin.nonDisappearingPegmanHittingObstacle){var l=this.getPegmanIcon(i);c.setTimeout((function(){l.setAttribute("visibility","hidden")}),2*this.maze.stepSpeed)}},e.prototype.scheduleLook=function(e,t,n){var r=document.getElementById("look");r.setAttribute("transform","translate("+e+", "+t+") rotate("+n+" 0 0) scale(.4)");var o=r.getElementsByTagName("path");r.style.display="inline";for(var i=0;i<o.length;i++){var a=o[i];this.scheduleLookStep_(a,this.maze.stepSpeed*i)}},e.prototype.scheduleLookStep_=function(e,t){var n=this;c.setTimeout((function(){e.style.display="inline",window.setTimeout((function(){e.style.display="none"}),2*n.maze.stepSpeed)}),t)},e.prototype.stopIdling=function(e){if(this.maze.skin.idlePegmanAnimation){var t=this.getPegmanIcon(e);document.getElementById(d.getPegmanElementId(i.IDLE,e)).setAttribute("visibility","hidden"),t.setAttribute("visibility","visible")}},e.prototype.hidePegman=function(e){this.getPegmanIcon(e).setAttribute("visibility","hidden")},e.prototype.showPegman=function(e){this.getPegmanIcon(e).setAttribute("visibility","visible")},e.prototype.scheduleDance=function(e,t,n){var r=this,o=document.getElementById("finish"),a=this.maze.getPegmanX(n),s=this.maze.getPegmanY(n);if(e&&this.maze.skin.celebrateAnimation){o&&o.setAttribute("visibility","hidden");var l=this.maze.skin.celebratePegmanRow,u=t/l,d={x:a,y:s};this.scheduleSheetedMovement_({x:d.x,y:d.y},{x:0,y:0},l,u,i.CELEBRATE,f.Direction.NORTH,!0,n)}else{var p=f.directionToFrame(this.maze.getPegmanD(n));this.displayPegman(a,s,16,n),e&&o&&o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.maze.skin.goalAnimation);var h=t/5;c.setTimeout((function(){r.displayPegman(a,s,18,n)}),h),c.setTimeout((function(){r.displayPegman(a,s,20,n)}),2*h),c.setTimeout((function(){r.displayPegman(a,s,18,n)}),3*h),c.setTimeout((function(){r.displayPegman(a,s,20,n)}),4*h),c.setTimeout((function(){e&&!r.maze.skin.turnAfterVictory||r.displayPegman(a,s,p,n),e&&r.maze.skin.transparentTileEnding&&r.setTileTransparent_(),r.maze.subtype.isWordSearch()&&r.setPegmanTransparent_()}),5*h)}},e.prototype.setTileTransparent_=function(){for(var e=0,t=0;t<this.maze.map.ROWS;t++)for(var n=0;n<this.maze.map.COLS;n++){var r=document.getElementById("tileElement"+e),o=document.getElementById("tileAnimation"+e);r&&r.setAttribute("opacity",0),o&&o.beginElement&&o.beginElement(),e++}},e.prototype.setPegmanTransparent_=function(e){var t=document.getElementById(d.getPegmanElementId(i.FADEOUT,e)),n=this.getPegmanIcon(e);n&&n.setAttribute("opacity",0),t&&t.beginElement&&t.beginElement()},e.prototype.displayPegman=function(e,t,n,r){var o=this.getPegmanIcon(r),a=document.getElementById(d.getPegmanElementId(i.CLIP_RECT,r));s(this.maze.skin,o,a,e,t,n,this.maze.SQUARE_SIZE)},e.prototype.getPegmanIcon=function(e){return document.getElementById(d.getPegmanElementId(i.PEGMAN,e))},e.prototype.addNewPegman=function(e,t,n,r){u(this.maze.skin,e,t,n,r,this.svg,this.maze.SQUARE_SIZE)},e}()},function(e,t,n){"use strict";var r=n(3),o=r.SQUARE_SIZE,i=22*o;e.exports=function(e){function t(n,r,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getAsset=function(t,n,r){return 0===(this.map_.getValue(n,r)||0)?void 0:e.prototype.getAsset.call(this,t,n,r)},t.prototype.updateItemImage=function(n,r,i){var a=e.prototype.updateItemImage.call(this,n,r,i);if(a){var s=this.map_.getValue(n,r)||0;this.map_.getVariableCell(n,r).isVariable()&&(i?this.updateOrCreateText_("counter",n,r,""):(s=s<0?-11:11,this.updateOrCreateText_("counter",n,r,"?")));var l=t.spriteIndexForDirt(s),u=l<0;return a.setAttribute("visibility",u?"hidden":"visible"),u||a.setAttribute("x",o*(r-l)),a}},t.prototype.getOrCreateImage_=function(t,n,r){var o=e.prototype.getOrCreateImage_.call(this,t,n,r);return o&&o.setAttribute("width",i),o},t.spriteIndexForDirt=function(e){var t=void 0;return 0===e?t=-1:e<-10?t=0:e<0?t=10+e+1:e>10?t=21:e>0&&(t=10+e),t},t}(r)},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"==typeof Reflect?"undefined":o(Reflect))?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":o(e)))}function d(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=d(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function m(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):y(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=y(l,u);for(n=0;n<u;++n)a(c[n],this,t)}return!0},l.prototype.addListener=function(e,t){return f(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return f(this,e,t,!0)},l.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,o,i,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(3),o=r.SQUARE_SIZE,i=r.SVG_NS;e.exports=function(e){function t(n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"",o));return a.skin_=r,a.bee_=i,a.clouded_=void 0,a.resetClouded(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getAsset=function(e,t,n){switch(e){case"cloud":return this.skin_.cloud;case"cloudAnimation":return this.skin_.cloudAnimation;case"beeItem":if(this.bee_.isHive(t,n,!1))return this.skin_.honey;if(this.bee_.isFlower(t,n,!1))return this.flowerImageHref_(t,n)}},t.prototype.reset=function(){this.resetClouded()},t.prototype.resetClouded=function(){this.clouded_=this.map_.currentStaticGrid.map((function(e){return[]}))},t.prototype.updateItemImage=function(e,t,n){var r,o=this.bee_.isCloudable(e,t),i=!n&&o,a=o&&!0===this.clouded_[e][t],s=Math.abs(this.bee_.getValue(e,t));r=i||isNaN(s)?"":!n&&this.bee_.isPurpleFlower(e,t)?"?":99===s?"":98===s?"0":""+s;var l=this.drawImage_("beeItem",e,t);this.updateOrCreateText_("counter",e,t,l?r:""),i?(this.showCloud_(e,t),this.clouded_[e][t]=!0):a&&(this.hideCloud_(e,t),this.clouded_[e][t]=!1)},t.prototype.flowerImageHref_=function(e,t){return this.bee_.isRedFlower(e,t)?this.skin_.redFlower:this.skin_.purpleFlower},t.prototype.showCloud_=function(e,t){this.drawImage_("cloud",e,t),this.displayCloudAnimation_(e,t,!1)},t.prototype.hideCloud_=function(e,t){var n=document.getElementById(r.cellId("cloud",e,t));n&&n.setAttribute("visibility","hidden"),this.displayCloudAnimation_(e,t,!0)},t.prototype.displayCloudAnimation_=function(e,t,n){this.getOrCreateImage_("cloudAnimation",e,t,!1).setAttribute("visibility",n?"visible":"hidden")},t.prototype.addCheckerboardTile=function(e,t,n){var r=document.createElementNS(i,"rect");if(r.setAttribute("width",o),r.setAttribute("height",o),r.setAttribute("x",t*o),r.setAttribute("y",e*o),r.setAttribute("fill","#78bb29"),r.setAttribute("opacity",n?.2:.5),n)this.svg_.appendChild(r);else{var a=this.svg_.querySelector("#tileElement"+(8*e+t));this.svg_.insertBefore(r,a)}},t}(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(3);e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.drawImage_=function(t,n,r){var o=e.prototype.drawImage_.call(this,t,n,r),i=this.map_.getValue(n,r);return o.setAttribute("visibility",i?"visible":"hidden"),o},t.prototype.updateItemImage=function(t,n,r){if(this.shouldUpdateItemImage(t,n,r)){e.prototype.updateItemImage.call(this,t,n);var o=this.map_.getValue(t,n)||null;this.updateOrCreateText_("counter",t,n,o)}},t.prototype.shouldUpdateItemImage=function(e,t){var n=this.map_.getCell(e,t);return n&&n.getOriginalValue()},t}(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(3),a=i.SQUARE_SIZE,s=i.SVG_NS,l="#000",u="#fff";e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.drawTile=function(e,t,n,r){var o=i.cellId("backgroundLetter",n,r),l=document.createElementNS(s,"g"),u=document.createElementNS(s,"rect");u.setAttribute("id",o),u.setAttribute("width",a),u.setAttribute("height",a),u.setAttribute("x",r*a),u.setAttribute("y",n*a),u.setAttribute("stroke","#000000"),u.setAttribute("stroke-width",3),l.appendChild(u);var c=this.updateOrCreateText_("letter",n,r,t);l.appendChild(c),e.appendChild(l)},t.prototype.updateOrCreateText_=function(t,n,r,o){var i=e.prototype.updateOrCreateText_.call(this,t,n,r,o);return i.setAttribute("class","search-letter"),i.setAttribute("width",a),i.setAttribute("height",a),i.setAttribute("x",(r+.5)*a),i.setAttribute("y",(n+.5)*a),i.setAttribute("font-size",32),i.setAttribute("text-anchor","middle"),i.setAttribute("font-family","Verdana"),i},t.prototype.updateTileHighlight=function(e,t,n){var r=(e+t)%2==0?"#dae3f3":"#ffffff",o=n?u:l;n&&(r="#00b050");var s=i.cellId("backgroundLetter",e,t),c=i.cellId("letter",e,t);document.getElementById(s).setAttribute("fill",r);var d=document.getElementById(c);if(d.setAttribute("fill",o),d.getBBox){var f=d.getBBox(),p=a-f.height,h=e*a+p/2-f.y;d.setAttribute("transform","translate(0, "+h+")")}},t}(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=n(0).SquareType,a=n(1).randomValue,s=n(2),l={log:[0,0],lily1:[1,0],land1:[2,0],island_start:[0,1],island_topRight:[1,1],island_botLeft:[0,2],island_botRight:[1,2],water:[0,4],lily2:[2,1],lily3:[3,1],lily4:[2,2],lily5:[3,2],ice:[3,0],cracked_ice:[4,0],empty:[0,4]};e.exports=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isScrat=function(){return!0},t.prototype.isWaterOrOutOfBounds=function(e,t){return this.isWater(e,t)||void 0===this.maze_.map.getTile(t,e)},t.prototype.isWater=function(e,t){return this.maze_.map.getTile(t,e)===i.WALL},t.prototype.isObstacle=function(e,t){return this.maze_.map.getTile(t,e)===i.OBSTACLE},t.prototype.drawMapTiles=function(e){var t=void 0,n=void 0,r=[];for(t=0;t<this.maze_.map.ROWS;t++)for(n=0;n<this.maze_.map.COLS;n++)this.isWater(n,t)&&this.isWater(n+1,t)&&this.isWater(n,t+1)&&this.isWater(n+1,t+1)&&r.push({row:t,col:n});var o=a(r),i={};o&&(i[o.row+0+"_"+(o.col+0)]="island_start",i[o.row+1+"_"+(o.col+0)]="island_botLeft",i[o.row+0+"_"+(o.col+1)]="island_topRight",i[o.row+1+"_"+(o.col+1)]="island_botRight");var s=0,u=void 0;for(t=0;t<this.maze_.map.ROWS;t++)for(n=0;n<this.maze_.map.COLS;n++){if(this.isObstacle(n,t))u="cracked_ice";else if(this.isWaterOrOutOfBounds(n,t)){var c=!(this.isWaterOrOutOfBounds(n,t-1)&&this.isWaterOrOutOfBounds(n+1,t)&&this.isWaterOrOutOfBounds(n,t+1)&&this.isWaterOrOutOfBounds(n-1,t));u="water",(u=i[t+"_"+n])||(u=a(["empty","empty","empty","empty","empty","lily2","lily3","lily4","lily5","lily1","log","lily1","land1"])),c&&"land1"===u&&(u="empty")}else u="ice";this.drawTile(e,l[u],t,n,s),s++}},t}(s)},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){function t(n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"",o));return a.skin_=r,a.subtype_=i,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getAsset=function(e,t,n){switch(e){case"sprout":return this.skin_.sprout;case"crop":var r=this.subtype_.getCell(t,n).featureName();return this.skin_[r]}},t.prototype.updateItemImage=function(e,t,n){var r=this.map_.getVariableCell(e,t),o=this.map_.getCell(e,t);r.hasValue()&&(o.startsHidden()&&!n?(this.show("sprout",e,t),this.hide("crop",e,t)):(o.getCurrentValue()>0?this.show("crop",e,t):this.hide("crop",e,t),this.hide("sprout",e,t)),n?o.getCurrentValue()>0?this.updateOrCreateText_("counter",e,t,o.getCurrentValue()):this.updateOrCreateText_("counter",e,t,""):o.startsHidden()?this.updateOrCreateText_("counter",e,t,""):r.isVariableRange()?this.updateOrCreateText_("counter",e,t,"?"):this.updateOrCreateText_("counter",e,t,o.getCurrentValue()))},t.prototype.hide=function(e,t,n){var r=this.getOrCreateImage_(e,t,n);r&&r.setAttribute("visibility","hidden")},t.prototype.show=function(e,t,n){this.drawImage_(e,t,n)},t}(r)},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){function t(n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"",o));return a.skin_=r,a.subtype_=i,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getAsset=function(e,t,n){var r=this.subtype_.getCell(t,n).featureName();return this.skin_[r]},t}(r)},function(e,t,n){"use strict";var r=n(3).SVG_NS,o=n(3),i=n(0),a=Object.freeze({topLeft:"topLeft",topRight:"topRight",bottomLeft:"bottomLeft",bottomRight:"bottomRight"});function s(e,t,n,o){var i=document.getElementById(o);if(i||(i=document.createElementNS(r,e)).setAttribute("id",o),Object.keys(t).map((function(e){i.setAttribute(e,t[e])})),n&&o.startsWith("g")){var a=n.getElementsByClassName("pegman-location")[0];n.insertBefore(i,a)}else n&&n.appendChild(i);return i}function l(e,t,n,r,o){return(t?"m0,"+.3*e+" L"+.3*e+",0":"m0,0")+" "+(n?"L"+.7*e+",0 L"+e+","+.3*e:"L"+e+",0")+" "+(r?"L"+e+","+.7*e+" L"+.7*e+","+e:"L"+e+","+e)+" "+(o?"L"+.3*e+","+e+" L0,"+.7*e:"L0,"+e)+" Z"}function u(e,t,n,r,o,i,l,u){!o||o!==r||o!==i&&o!==l?o&&o!==r||function(e,t,n,r,o){var i=void 0,l=void 0;o===a.topLeft?(i=n+"-triangle-tl",l="m0,0 L"+r+",0 L0,"+r+" Z"):o===a.topRight?(i=n+"-triangle-tr",l="m"+r+",0 L"+r+","+r+" L0,0 Z"):o===a.bottomLeft?(i=n+"-triangle-bl",l="m0,"+r+" L"+r+","+r+" L0,0 Z"):o===a.bottomRight&&(i=n+"-triangle-br",l="m"+r+","+r+" L"+r+",0 L0,"+r+" Z"),s("path",{d:l,stroke:e,fill:e},t,i)}(r,e,t,n,u):function(e,t,n,r,o){var i=void 0,l=void 0;o===a.topLeft?(i=n+"-smallCorner-tl",l="m0,0 L"+.3*r+",0 L0,"+.3*r+" Z"):o===a.topRight?(i=n+"-smallCorner-tr",l="m"+r+",0 L"+.7*r+",0 L"+r+","+.3*r+" Z"):o===a.bottomLeft?(i=n+"-smallCorner-bl",l="m0,"+r+" L0,"+.7*r+" L"+.3*r+","+r+" Z"):o===a.bottomRight&&(i=n+"-smallCorner-br",l="m"+r+","+r+" L"+.7*r+","+r+" L"+r+","+.7*r+" Z"),s("path",{d:l,stroke:e,fill:e},t,i)}(r,e,t,n,u)}e.exports=function(e){function t(n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,"",o));return s.squareSize=i,s.neighborhood=a,s.skin_=r,s.showBuckets=!0,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setBucketVisibility=function(e){this.showBuckets=e},t.prototype.getBucketVisibility=function(){return this.showBuckets},t.prototype.resetTile=function(e,t){var n="g"+e+"."+t;this.neighborhood.getCell(e,t).setColor(null);var r=document.getElementById(n);r&&r.querySelectorAll("*").forEach((function(e){return e.remove()}))},t.prototype.getAsset=function(e,t,n){if(this.neighborhood.getCell(t,n).getCurrentValue()&&this.showBuckets)return this.skin_.paintCan},t.prototype.getBackgroundTileInfo=function(e,t){var n=this.neighborhood.getCell(e,t);if(null!=n.getAssetId()&&n.getAssetId()>0&&n.getTile()!==i.SquareType.START&&!n.getOriginalValue())return this.getSpriteData(n)},t.prototype.getSpriteData=function(e){return this.neighborhood.getSpriteMap()[e.getAssetId()]},t.prototype.resetTiles=function(){this.showBuckets=!0;for(var e=0;e<this.map_.ROWS;e++)for(var t=0;t<this.map_.COLS;t++)this.resetTile(e,t)},t.prototype.cellColor=function(e,t){return e>=this.map_.ROWS||e<0||t>=this.map_.COLS||t<0?null:this.map_.getCell(e,t).getColor()||null},t.prototype.centerFill=function(e,t,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],c=e[5],d=e[6],f=e[7],p=e[8];s("path",{d:u!=o||u!=c||f||a||r||p?u!=c||u!=f||a||o||i||d?u!=f||u!=a||o||c||p||r?l(this.squareSize,!1,!1,!(u!=a||u!=o||c||f||d||i),!1):l(this.squareSize,!1,!0,!1,!1):l(this.squareSize,!0,!1,!1,!1):l(this.squareSize,!1,!1,!1,!0),stroke:u,fill:u},t,n+"-center")},t.prototype.colorCells=function(e,t,n){var r=this.squareSize,o=e[0],i=e[1],s=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],h=e[8],m="g"+n,g=document.getElementById(m);g&&g.querySelectorAll("*").forEach((function(e){return e.remove()})),c?this.centerFill(e,t,n):(i&&d&&i===d&&u(t,n,r,i,s,o,h,a.topRight),d&&p&&d===p&&u(t,n,r,d,h,s,f,a.bottomRight),p&&l&&p===l&&u(t,n,r,p,f,h,o,a.bottomLeft),l&&i&&l===i&&u(t,n,r,l,o,f,s,a.topLeft))},t.prototype.makeGrid=function(e,t,n){var r="g"+e+"."+t;s("g",{transform:"translate("+t*this.squareSize+", \n        "+e*this.squareSize+")"},n,r)},t.prototype.getGrid=function(e,t){var n="g"+e+"."+t;return document.getElementById(n)},t.prototype.drawTile=function(t,n,r,o,i,a){var s=this.squareSize,l=this.squareSize;e.prototype.drawTileHelper.call(this,t,n,r,o,i,a,s,l,this.squareSize)},t.prototype.drawAssets=function(){var e,t=this.neighborhood.getAssetList();for(e=0;e<t.length;e++){var n=t[e],r=document.getElementById(n),o=this.svg_.getElementsByClassName("pegman-location")[0];this.svg_.insertBefore(r,o)}},t.prototype.updateItemImage=function(t,n,r){var o=this.map_.getCell(t,n);if(o.getOriginalValue()>0){var i=o.getCurrentValue()>0&&this.showBuckets?o.getCurrentValue():"";e.prototype.drawImage_.call(this,"",t,n,this.squareSize),e.prototype.updateOrCreateText_.call(this,"counter",t,n,i,this.squareSize,1,1,"karel-counter-text paint")}if(this.makeGrid(t,n,this.svg_),this.cellColor(t,n))for(var a=t-1;a<t+2;a++)for(var s=n-1;s<n+2;s++){var l=a+"."+s,u=[this.cellColor(a-1,s-1),this.cellColor(a-1,s),this.cellColor(a-1,s+1),this.cellColor(a,s-1),this.cellColor(a,s),this.cellColor(a,s+1),this.cellColor(a+1,s-1),this.cellColor(a+1,s),this.cellColor(a+1,s+1)],c=this.getGrid(a,s);this.colorCells(u,c,l)}},t}(o)},function(e,t,n){"use strict";var r=n(20),o=n(5).DEFAULT_PEGMAN_ID;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pegmen={}}return e.prototype.getOrCreatePegman=function(e){null==e&&(e=o);var t=this.getPegman(e);return t||(t=new r(e),this.addPegman(t)),t},e.prototype.getPegman=function(e){return null==e&&(e=o),this.pegmen[e]},e.prototype.addPegman=function(e){if(this.pegmen[e.id])throw new Error("Pegman with id "+e.id+" already exists.");this.pegmen[e.id]=e},e.prototype.getAllPegmanIds=function(){return Object.keys(this.pegmen)},e.prototype.isDefaultPegman=function(e){return null==e||e===o},e}()},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(15),a=n(17),s=n(19);e.exports={Cell:r,BeeCell:o,HarvesterCell:i,PlanterCell:a,NeighborhoodCell:s}},function(e,t,n){"use strict";var r=n(8),o=n(9),i=n(12),a=n(13),s=n(14),l=n(16),u=n(18);e.exports={Farmer:r,Bee:o,Collector:i,Wordsearch:a,Harvester:s,Planter:l,Neighborhood:u}}])},function(e,t,n){var r,o,i,a,s,l,u;i=[],a=[],s=["mousedown","touchstart"],l=function(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))},u=function(e,t,n,r,o,i,a){return function(t){i&&t.preventDefault(),a&&t.stopPropagation();var s=t.target;o&&function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}(t)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(l(e,t,n))return!0;e=e.parentNode}return e}(s,e,r)!==document||n(t)}},function(i,a){r=[n(1),n(36),n(1202)],o=function(e,t,n){return n||(n=e.createClass),a(i,e,t,n)}.apply(t,r),void 0===o||(e.exports=o)}(this,(function(e,t,n,r){return function(e,o){var l,c,d,f=r({statics:{getClass:function(){return e.getClass?e.getClass():e}},getInstance:function(){return e.prototype.isReactComponent?this.refs.instance:this},__outsideClickHandler:function(){},getDefaultProps:function(){return{excludeScrollbar:o&&o.excludeScrollbar}},componentDidMount:function(){if("undefined"!=typeof document&&document.createElement){var e,r=this.getInstance();if(o&&"function"==typeof o.handleClickOutside){if("function"!=typeof(e=o.handleClickOutside(r)))throw new Error("Component lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"==typeof r.handleClickOutside)e=t.Component.prototype.isPrototypeOf(r)?r.handleClickOutside.bind(r):r.handleClickOutside;else{if("function"!=typeof r.props.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");e=r.props.handleClickOutside}var s=n.findDOMNode(r);null===s&&(console.warn("Antipattern warning: there was no DOM node associated with the component that is being wrapped by outsideClick."),console.warn(["This is typically caused by having a component that starts life with a render function that","returns `null` (due to a state or props value), so that the component 'exist' in the React","chain of components, but not in the DOM.\n\nInstead, you need to refactor your code so that the","decision of whether or not to show your component is handled by the parent, in their render()","function.\n\nIn code, rather than:\n\n  A{render(){return check? <.../> : null;}\n  B{render(){<A check=... />}\n\nmake sure that you","use:\n\n  A{render(){return <.../>}\n  B{render(){return <...>{ check ? <A/> : null }<...>}}\n\nThat is:","the parent is always responsible for deciding whether or not to render any of its children.","It is not the child's responsibility to decide whether a render instruction from above should","get ignored or not by returning `null`.\n\nWhen any component gets its render() function called,","that is the signal that it should be rendering its part of the UI. It may in turn decide not to","render all of *its* children, but it should never return `null` for itself. It is not responsible","for that decision."].join(" ")));var l=this.__outsideClickHandler=u(s,0,e,this.props.outsideClickIgnoreClass||"ignore-react-onclickoutside",this.props.excludeScrollbar,this.props.preventDefault||!1,this.props.stopPropagation||!1),c=i.length;i.push(this),a[c]=l,this.props.disableOnClickOutside||this.enableOnClickOutside()}},componentWillReceiveProps:function(e){this.props.disableOnClickOutside&&!e.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&e.disableOnClickOutside&&this.disableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=i.indexOf(this);e>-1&&(a[e]&&a.splice(e,1),i.splice(e,1))},enableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!=typeof document){var t=this.props.eventTypes||s;t.forEach||(t=[t]),t.forEach((function(t){document.addEventListener(t,e)}))}},disableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!=typeof document){var t=this.props.eventTypes||s;t.forEach||(t=[t]),t.forEach((function(t){document.removeEventListener(t,e)}))}},render:function(){var n=this.props,r={};return Object.keys(this.props).forEach((function(e){"excludeScrollbar"!==e&&(r[e]=n[e])})),e.prototype.isReactComponent&&(r.ref="instance"),r.disableOnClickOutside=this.disableOnClickOutside,r.enableOnClickOutside=this.enableOnClickOutside,t.createElement(e,r)}});return c=f,d=(l=e).displayName||l.name||"Component",c.displayName="OnClickOutside("+d+")",f}}))},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decreaseEditorFontSize=t.closePhotoPrompter=t.closeEditorDialog=t.clearRenameFileError=t.clearNewFileError=t.clearConsoleLogs=t.appendOutputLog=t.appendNewlineToConsoleLog=t.appendMarkdownLog=t.appendInputLog=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;if(t.type===h)return f(f({},e),{},{consoleLogs:[].concat(u(e.consoleLogs),[t.log])});if(t.type===m)return f(f({},e),{},{consoleLogs:[]});if(t.type===y){var n=f({},e.sources);return n[t.filename]={text:t.source,tabOrder:t.tabOrder,isVisible:t.isVisible,isValidation:t.isValidation},f(f({},e),{},{sources:n})}if(t.type===v){var r=f({},e.sources);return r[t.filename].isVisible=t.isVisible,f(f({},e),{},{sources:r})}if(t.type===b){var o=f({},e.sources);return o[t.filename].isValidation=t.isValidation,f(f({},e),{},{sources:o})}if(t.type===w){var i=f({},e.sources);return i[t.filename].text=t.text,f(f({},e),{},{sources:i})}if(t.type===g){var c=e.sources[t.oldFilename];if(void 0!==c){var d=f({},e.sources);return delete d[t.oldFilename],d[t.newFilename]=c,f(f({},e),{},{sources:d})}return e}if(t.type===x){var p=f({},e.sources);return delete p[t.filename],f(f({},e),{},{sources:p})}if(t.type===_){var se=f({},e.sources),ue=e.orderedTabKeys,ce=e.fileMetadata,de=(0,l.updateAllSourceFileOrders)(se,ce,ue);return f(f({},e),{},{sources:de})}if(t.type===E){var fe=(0,l.fileMetadataForEditor)(t.sources,t.isEditingStartSources),pe=fe.fileMetadata,he=fe.orderedTabKeys,me=fe.activeTabKey,ge=fe.lastTabKeyIndex,ye=(0,l.updateAllSourceFileOrders)(t.sources,pe,he);return f(f({},e),{},{sources:ye,fileMetadata:pe,orderedTabKeys:he,activeTabKey:me,lastTabKeyIndex:ge})}if(t.type===O)return f(f({},e),{},{validation:t.validation});if(t.type===S)return f(f({},e),{},{displayTheme:t.displayTheme});if(t.type===T)return f(f({},e),{},{renderedEditorHeight:t.height});if(t.type===C)return f(f({},e),{},{leftWidth:t.width});if(t.type===k)return f(f({},e),{},{rightWidth:t.width});if(t.type===A)return f(f({},e),{},{instructionsHeight:t.height});if(t.type===P)return f(f({},e),{},{instructionsFullHeight:t.height});if(t.type===I)return f(f({},e),{},{isRunning:t.isRunning});if(t.type===R)return f(f({},e),{},{isTesting:t.isTesting});if(t.type===D)return f(f({},e),{},{consoleHeight:t.height});if(t.type===j)return f(f({},e),{},{editorColumnHeight:t.editorColumnHeight});if(t.type===N)return f(f({},e),{},{backpackApi:t.backpackApi});if(t.type===L)return f(f({},e),{},{backpackEnabled:t.backpackEnabled});if(t.type===M)return f(f({},e),{},{isStartMode:t.isStartMode});if(t.type===B)return f(f({},e),{},{levelName:t.levelName});if(t.type===F)return f(f({},e),{},{isVisualizationCollapsed:!e.isVisualizationCollapsed});if(t.type===U)return f(f({},e),{},{isPhotoPrompterOpen:!0,photoPrompterPromptText:t.promptText});if(t.type===H)return f(f({},e),{},{isPhotoPrompterOpen:!1,photoPrompterPromptText:""});if(t.type===W)return f(f({},e),{},{isReadOnlyWorkspace:t.isReadOnlyWorkspace});if(t.type===q)return f(f({},e),{},{hasOpenCodeReview:t.hasOpenCodeReview});if(t.type===z)return f(f({},e),{},{isCommitSaveInProgress:t.isCommitSaveInProgress,hasCommitSaveError:t.hasCommitSaveError});if(t.type===K)return f(f({},e),{},{editTabKey:t.editTabKey});if(t.type===Y)return f(f({},e),{},{activeTabKey:t.activeTabKey});if(t.type===J)return f(f({},e),{},{orderedTabKeys:t.orderedTabKeys});if(t.type===X)return f(f({},e),{},{fileMetadata:t.fileMetadata});if(t.type===Z)return f(f({},e),{},{fileMetadata:t.fileMetadata,orderedTabKeys:t.orderedTabKeys,activeTabKey:t.activeTabKey,lastTabKeyIndex:t.lastTabKeyIndex||e.lastTabKeyIndex});if(t.type===Q&&void 0!==s.JavalabEditorDialog[t.dialogName])return f(f({},e),{},{editorOpenDialogName:t.dialogName});if(t.type===ee)return f(f({},e),{},{editorOpenDialogName:null});if(t.type===te)return f(f({},e),{},{newFileError:t.error});if(t.type===ne)return f(f({},e),{},{newFileError:null});if(t.type===re)return f(f({},e),{},{renameFileError:t.error});if(t.type===oe)return f(f({},e),{},{renameFileError:null});if(t.type===V)return f(f({},e),{},{validationPassed:t.validationPassed});if(t.type===G)return f(f({},e),{},{hasRunOrTestedCode:t.hasRunOrTestedCode});if(t.type===$)return f(f({},e),{},{isJavabuilderConnecting:t.isJavabuilderConnecting});if(t.type===ie){var ve=Math.min(a.MAX_FONT_SIZE_PX,e.editorFontSize+a.FONT_SIZE_INCREMENT_PX);return f(f({},e),{},{editorFontSize:ve,canIncreaseFontSize:ve<a.MAX_FONT_SIZE_PX,canDecreaseFontSize:ve>a.MIN_FONT_SIZE_PX})}if(t.type===ae){var be=Math.max(a.MIN_FONT_SIZE_PX,e.editorFontSize-a.FONT_SIZE_INCREMENT_PX);return f(f({},e),{},{editorFontSize:be,canIncreaseFontSize:be<a.MAX_FONT_SIZE_PX,canDecreaseFontSize:be>a.MIN_FONT_SIZE_PX})}return e},t.toggleVisualizationCollapsed=t.sourceVisibilityUpdated=t.sourceValidationUpdated=t.sourceTextUpdated=t.sourceFileOrderUpdated=t.setValidationPassed=t.setSource=t.setRightWidth=t.setRenderedHeight=t.setRenameFileError=t.setOrderedTabKeys=t.setNewFileError=t.setLevelName=t.setLeftWidth=t.setIsTesting=t.setIsStartMode=t.setIsRunning=t.setIsReadOnlyWorkspace=t.setIsJavabuilderConnecting=t.setInstructionsHeight=t.setInstructionsFullHeight=t.setHasRunOrTestedCode=t.setHasOpenCodeReview=t.setFileMetadata=t.setEditorColumnHeight=t.setEditTabKey=t.setDisplayTheme=t.setConsoleHeight=t.setCommitSaveStatus=t.setBackpackEnabled=t.setBackpackApi=t.setAllValidation=t.setAllSourcesAndFileMetadata=t.setAllEditorMetadata=t.setActiveTabKey=t.renameFile=t.removeFile=t.openPhotoPrompter=t.openEditorDialog=t.initialState=t.increaseEditorFontSize=t.getValidation=t.getSources=void 0;var r,o=(r=n(1312))&&r.__esModule?r:{default:r},i=n(990),a=n(1686),s=n(1663),l=n(1687);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h="javalab/APPEND_CONSOLE_LOG",m="javalab/CLEAR_CONSOLE_LOGS",g="javalab/RENAME_FILE",y="javalab/SET_SOURCE",v="javalab/SOURCE_VISIBILITY_UPDATED",b="javalab/SOURCE_VALIDATION_UPDATED",_="javalab/SOURCE_FILE_ORDER_UPDATED",w="javalab/SOURCE_TEXT_UPDATED",E="javalab/SET_ALL_SOURCES_AND_FILE_METADATA",O="javalab/SET_ALL_VALIDATION",S="javalab/COLOR_PREFERENCE_UPDATED",T="javalab/EDITOR_HEIGHT_UPDATED",C="javalab/LEFT_WIDTH_UPDATED",k="javalab/RIGHT_WIDTH_UPDATED",A="javalab/SET_INSTRUCTIONS_HEIGHT",P="javalab/SET_INSTRUCTIONS_FULL_HEIGHT",x="javalab/REMOVE_FILE",I="javalab/SET_IS_RUNNING",R="javalab/SET_IS_TESTING",D="javalab/SET_CONSOLE_HEIGHT",j="javalab/EDITOR_COLUMN_HEIGHT",N="javalab/SET_BACKPACK_API",L="javalab/SET_BACKPACK_ENABLED",M="javalab/SET_IS_START_MODE",B="javalab/SET_LEVEL_NAME",F="javalab/TOGGLE_VISUALIZATION_COLLAPSED",U="javalab/OPEN_PHOTO_PROMPTER",H="javalab/CLOSE_PHOTO_PROMPTER",W="javalab/SET_IS_READONLY_WORKSPACE",q="javalab/SET_HAS_OPEN_CODE_REVIEW",z="javalab/SET_COMMIT_SAVE_STATUS",V="javalab/SET_VALIDATION_PASSED",G="javalab/SET_HAS_RUN_OR_TESTED",$="javalab/SET_IS_JAVABUILDER_CONNECTING",K="javalab/SET_EDIT_TAB_KEY",Y="javalab/SET_ACTIVE_TAB_KEY",X="javalab/SET_FILE_METADATA",J="javalab/SET_ORDERED_TAB_KEYS",Z="javalab/SET_EDITOR_METADATA",Q="javalab/OPEN_EDITOR_DIALOG",ee="javalab/CLOSE_EDITOR_DIALOG",te="javalab/SET_NEW_FILE_ERROR",ne="javalab/CLEAR_NEW_FILE_ERROR",re="javalab/SET_RENAME_FILE_ERROR",oe="javalab/CLEAR_RENAME_FILE_ERROR",ie="javalab/INCREASE_EDITOR_FONT_SIZE",ae="javalab/DECREASE_EDITOR_FONT_SIZE",se={"MyClass.java":{text:"",tabOrder:0,isVisible:!0,isValidation:!1}},le=f(f({},(0,l.fileMetadataForEditor)(se)),{},{consoleLogs:[],sources:se,displayTheme:i.DisplayTheme.LIGHT,validation:{},renderedEditorHeight:400,leftWidth:400,rightWidth:400,instructionsHeight:200,instructionsFullHeight:200,isRunning:!1,isTesting:!1,consoleHeight:200,editorColumnHeight:600,backpackApi:null,backpackEnabled:!1,isStartMode:!1,levelName:void 0,isVisualizationCollapsed:!1,isPhotoPrompterOpen:!1,photoPrompterPromptText:"",isReadOnlyWorkspace:!1,hasOpenCodeReview:!1,isCommitSaveInProgress:!1,hasCommitSaveError:!1,validationPassed:!1,hasRunOrTestedCode:!1,editorOpenDialogName:null,newFileError:null,renameFileError:null,isJavabuilderConnecting:!1,editorFontSize:a.DEFAULT_FONT_SIZE_PX,canIncreaseFontSize:a.DEFAULT_FONT_SIZE_PX<a.MAX_FONT_SIZE_PX,canDecreaseFontSize:a.DEFAULT_FONT_SIZE_PX>a.MIN_FONT_SIZE_PX});t.initialState=le;t.appendInputLog=function(e){return{type:h,log:{type:"input",text:e}}};t.appendOutputLog=function(e){return{type:h,log:{type:"output",text:e}}};t.appendNewlineToConsoleLog=function(){return{type:h,log:{type:"newline"}}};t.appendMarkdownLog=function(e){return{type:h,log:{type:"markdown",text:e}}};t.clearConsoleLogs=function(){return{type:m}};t.setAllValidation=function(e){return{type:O,validation:e}};t.setAllSourcesAndFileMetadata=function(e,t){return{type:E,sources:e,isEditingStartSources:t}};t.renameFile=function(e,t){return{type:g,oldFilename:e,newFilename:t}};t.setSource=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:y,filename:e,source:t,tabOrder:n,isVisible:r,isValidation:o}};t.sourceTextUpdated=function(e,t){return{type:w,filename:e,text:t}};t.sourceVisibilityUpdated=function(e,t){return{type:v,filename:e,isVisible:t}};t.sourceValidationUpdated=function(e,t){return{type:b,filename:e,isValidation:t}};t.sourceFileOrderUpdated=function(){return{type:_}};t.setDisplayTheme=function(e){return(new o.default).setDisplayTheme(e),{displayTheme:e,type:S}};t.removeFile=function(e){return{type:x,filename:e}};t.setIsRunning=function(e){return{type:I,isRunning:e}};t.setIsTesting=function(e){return{type:R,isTesting:e}};t.setBackpackApi=function(e){return{type:N,backpackApi:e}};t.setBackpackEnabled=function(e){return{type:L,backpackEnabled:e}};t.toggleVisualizationCollapsed=function(){return{type:F}};t.setIsStartMode=function(e){return{type:M,isStartMode:e}};t.setLevelName=function(e){return{type:B,levelName:e}};t.openPhotoPrompter=function(e){return{type:U,promptText:e}};t.closePhotoPrompter=function(){return{type:H}};t.openEditorDialog=function(e){return{type:Q,dialogName:e}};t.closeEditorDialog=function(){return{type:ee}};t.setIsJavabuilderConnecting=function(e){return{type:$,isJavabuilderConnecting:e}};t.increaseEditorFontSize=function(){return{type:ie}};t.decreaseEditorFontSize=function(){return{type:ae}};t.getSources=function(e){var t={};for(var n in e.javalab.sources)e.javalab.sources[n].isValidation||(t[n]={text:e.javalab.sources[n].text,isVisible:e.javalab.sources[n].isVisible,tabOrder:e.javalab.sources[n].tabOrder});return t};t.getValidation=function(e){var t={};for(var n in e.javalab.sources)e.javalab.sources[n].isValidation&&(t[n]={text:e.javalab.sources[n].text,tabOrder:e.javalab.sources[n].tabOrder});return t};t.setRenderedHeight=function(e){return{type:T,height:e}};t.setLeftWidth=function(e){return{type:C,width:e}};t.setRightWidth=function(e){return{type:k,width:e}};t.setInstructionsHeight=function(e){return{type:A,height:e}};t.setInstructionsFullHeight=function(e){return{type:P,height:e}};t.setConsoleHeight=function(e){return{type:D,height:e}};t.setEditorColumnHeight=function(e){return{type:j,editorColumnHeight:e}};t.setIsReadOnlyWorkspace=function(e){return{type:W,isReadOnlyWorkspace:e}};t.setHasOpenCodeReview=function(e){return{type:q,hasOpenCodeReview:e}};t.setCommitSaveStatus=function(e,t){return{type:z,isCommitSaveInProgress:e,hasCommitSaveError:t}};t.setEditTabKey=function(e){return{type:K,editTabKey:e}};t.setActiveTabKey=function(e){return{type:Y,activeTabKey:e}};t.setFileMetadata=function(e){return{type:X,fileMetadata:e}};t.setOrderedTabKeys=function(e){return{type:J,orderedTabKeys:e}};t.setAllEditorMetadata=function(e,t,n,r){return{type:Z,fileMetadata:e,orderedTabKeys:t,activeTabKey:n,lastTabKeyIndex:r}};t.setNewFileError=function(e){return{type:te,error:e}};t.clearNewFileError=function(){return{type:ne}};t.setRenameFileError=function(e){return{type:re,error:e}};t.clearRenameFileError=function(){return{type:oe}};t.setValidationPassed=function(e){return{type:V,validationPassed:e}};t.setHasRunOrTestedCode=function(e){return{type:G,hasRunOrTestedCode:e}}},,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.childrenOfType=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){if("children"!==n)return new Error("The childrenOfType prop type should only be used on the children prop.");var a=e[n];if(a){var s=o.default.Children.map(a,(function(e){return e&&e.type}))||[];return(0,i.isSubsequence)(t,s)?void 0:new Error(r+" was given children of types "+s.map((function(e){return"<".concat(e.name,">")})).join(", ")+" but only accepts one of each child in the following order: "+t.map((function(e){return"<".concat(e.name,">")})).join(", ")+".")}}},t.whenNoChildOfTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){if(e.children&&e[n]){var i,s,l=a(o.default.Children.map(e.children,(function(e){return e.type})));try{for(l.s();!(s=l.n()).done;){var u=s.value;if(t.includes(u)){i=new Error("".concat(r," was given a ").concat(n," prop and a ")+"<".concat(u.name,"> child, but only one of those is allowed."));break}}}catch(c){l.e(c)}finally{l.f()}return i}}};var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=n(33);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectPropType=t.projectDataPropType=t.personalProjectDataPropType=t.featuredProjectTableTypes=t.featuredProjectDataPropType=t.convertChannelsToProjectData=t.MAX_PROJECTS_PER_CATEGORY=t.Galleries=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({channel:o.default.string.isRequired,name:o.default.string,studentName:o.default.string,studentAgeRange:o.default.string,thumbnailUrl:o.default.string,type:o.default.string.isRequired,publishedAt:o.default.string.isRequired,publishedToPublic:o.default.bool.isRequired});t.projectDataPropType=i;var a=o.default.shape({channel:o.default.string.isRequired,name:o.default.string,thumbnailUrl:o.default.string,type:o.default.string.isRequired,updatedAt:o.default.string.isRequired,isPublished:o.default.bool,projectNameFailure:o.default.string});t.personalProjectDataPropType=a;var s=o.default.shape({projectName:o.default.string.isRequired,channel:o.default.string.isRequired,type:o.default.string.isRequired,topic:o.default.string,publishedAt:o.default.string,thumbnailUrl:o.default.string,featuredAt:o.default.string.isRequired,unfeaturedAt:o.default.string});t.featuredProjectDataPropType=s;var l=o.default.shape({projectData:i.isRequired,currentGallery:o.default.string.isRequired});t.projectPropType=l;t.Galleries={PUBLIC:"PUBLIC",LIBRARIES:"LIBRARIES",PRIVATE:"PRIVATE"};t.featuredProjectTableTypes={current:"currentFeatured",archived:"archivedUnfeatured"};t.MAX_PROJECTS_PER_CATEGORY=100;t.convertChannelsToProjectData=function(e){return e.filter((function(e){return!e.hidden&&e.id&&e.projectType})).map((function(e){return{name:e.name,channel:e.id,thumbnailUrl:e.thumbnailUrl,type:e.projectType,isPublished:null!==e.publishedAt,updatedAt:e.updatedAt}}))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),a=(s(n(2)),n(611));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=a.tableDefaults.renderers,d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.columns,n=e.components,o=e.renderers;return n&&(console.warn("`components` have been deprecated in favor of `renderers` and will be removed in the next major version, please rename!"),o=n),{columns:t,renderers:{table:o.table||c.table,header:r({},c.header,o.header),body:r({},c.body,o.body)}}}},{key:"render",value:function(){var e=this.props,t=(e.columns,e.renderers),n=(e.components,e.children),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["columns","renderers","components","children"]);return i.default.createElement(t.table||a.tableDefaults.renderers.table,r,n)}}]),t}(i.default.Component);t.default=d,d.defaultProps=r({},a.tableDefaults),d.childContextTypes=a.tableContextTypes},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=n(611),a=s(n(1279));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.headerRows,i=t.onRow,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","headerRows","onRow"]),l=this.context,u=l.renderers,c=l.columns;return s.ref=function(t){e.ref=t},o.default.createElement(u.header.wrapper,s,[(r||[c]).map((function(e,t){return o.default.createElement(a.default,{key:t+"-header-row",renderers:u.header,onRow:i,rowData:e,rowIndex:t})}))].concat(n))}},{key:"getRef",value:function(){return this.ref}}]),t}(o.default.Component);l.contextTypes=i.tableHeaderContextTypes,t.default=l},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(1)),i=u(n(775)),a=u(n(776)),s=u(n(637)),l=n(611);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.rowData,n=e.rowIndex,l=e.renderers,u=e.onRow;return o.default.createElement(l.row,u(t,{rowIndex:n}),t.map((function(e,t){var n=e.property,u=e.header,c=void 0===u?{}:u,d=e.props,f=void 0===d?{}:d,p=n||c&&c.property,h=c.label,m=c.transforms,g=void 0===m?[]:m,y=c.formatters,v=void 0===y?[]:y,b={columnIndex:t,property:p,column:e},_=(0,a.default)(g,h,b);return _||console.warn("Table.Header - Failed to receive a transformed result"),o.default.createElement(l.cell,r({key:t+"-header"},(0,s.default)(f,c&&c.props,_)),_.children||(0,i.default)(v)(h,b))})))};c.defaultProps=l.tableHeaderRowDefaults,t.default=c},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(636)),o=c(n(989)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),s=n(611),l=c(n(862)),u=c(n(864));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e,t,n){var i=n.renderers;return i&&i.body&&i.body.wrapper.shouldComponentUpdate?!(0,r.default)(i.body.wrapper.shouldComponentUpdate)||i.body.wrapper.shouldComponentUpdate.call(this,e,t,n):!((0,o.default)(p(this.props),p(e))&&(0,o.default)(this.context,n))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onRow,r=t.rows,o=t.rowKey,i=d(t,["onRow","rows","rowKey"]),s=this.context,c=s.columns,f=s.renderers;return i.ref=function(t){e.ref=t},a.default.createElement(f.body.wrapper,i,r.map((function(e,t){var r=e._index||t,i=(0,u.default)({rowData:e,rowIndex:r,rowKey:o});return a.default.createElement(l.default,{key:i,renderers:f.body,onRow:n,rowKey:i,rowIndex:r,rowData:e,columns:c})})))}},{key:"getRef",value:function(){return this.ref}}]),t}(a.default.Component);function p(e){e.onRow;return d(e,["onRow"])}f.defaultProps=s.tableBodyDefaults,f.contextTypes=s.tableBodyContextTypes,t.default=f},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideAssetManager=void 0,Object.defineProperty(t,"listStore",{enumerable:!0,get:function(){return o.default}}),t.showAssetManager=void 0;var r=i(n(1204)),o=i(n(988));function i(e){return e&&e.__esModule?e:{default:e}}t.showAssetManager=function(){return r.default.showAssetManager.apply(r.default,arguments)};t.hideAssetManager=function(){return r.default.hideAssetManager.apply(r.default,arguments)}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedVisualizationResizeBar=t.RESIZE_VISUALIZATION_EVENT=void 0;var o=c(n(2)),i=c(n(1)),a=n(27),s=c(n(755)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(422));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="mouseup",y=l.getTouchEventName(g),v="mousemove",b=l.getTouchEventName(v),_="resize-visualization-event";function w(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(_,!0,!0,e),window.dispatchEvent(t)}t.RESIZE_VISUALIZATION_EVENT=_;var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(p(t=e.call.apply(e,[this].concat(r))||this),"isMouseMoveBound",!1),m(p(t),"removeMouseDownTouchEvent",null),m(p(t),"onMouseDown",(function(e){t.isMouseMoveBound||(document.body.addEventListener(v,t.onMouseMove),b&&document.body.addEventListener(b,t.onMouseMove),t.isMouseMoveBound=!0,e.preventDefault())})),m(p(t),"onMouseUp",(function(){t.isMouseMoveBound&&(document.body.removeEventListener(v,t.onMouseMove),b&&document.body.removeEventListener(b,t.onMouseMove),t.isMouseMoveBound=!1)})),m(p(t),"onMouseMove",(function(e){e.stopPropagation(),e.cancelable&&e.preventDefault();var n,r,o=t.domElement.getBoundingClientRect();if(t.props.isRtl){n=window.innerWidth-(window.pageXOffset+o.left+o.width/2)-parseInt(window.getComputedStyle(t.domElement).right,10);var i=e.pageX||e.touches&&e.touches[0].pageX;r=window.innerWidth-i-n}else{n=window.pageXOffset+o.left+o.width/2-parseInt(window.getComputedStyle(t.domElement).left,10),r=(e.pageX||e.touches&&e.touches[0].pageX)-n}w(r)})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var o=r.prototype;return o.componentDidMount=function(){this.removeMouseDownTouchEvent=l.addMouseDownTouchEvent(this.domElement,this.onMouseDown),document.body.addEventListener(g,this.onMouseUp),y&&document.body.addEventListener(y,this.onMouseUp)},o.componentWillUnmount=function(){this.onMouseUp(),this.removeMouseDownTouchEvent(),this.removeMouseDownTouchEvent=null,document.body.removeEventListener(g,this.onMouseUp),y&&document.body.removeEventListener(y,this.onMouseUp)},o.render=function(){var e=this;return i.default.createElement("div",{id:"visualizationResizeBar",className:"fa fa-ellipsis-v",style:f({},this.props.hidden&&s.default.hidden),ref:function(t){return e.domElement=t}})},r}(i.default.Component);m(E,"propTypes",{hidden:o.default.bool,isRtl:o.default.bool});var O=E;t.UnconnectedVisualizationResizeBar=O;var S=(0,a.connect)((function(e){return{hidden:e.pageConstants.widgetMode||e.pageConstants.noVisualization||e.pageConstants.hideSource&&!e.pageConstants.isResponsive,isRtl:e.isRtl}}))(E);t.default=S},,,,,(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={footer:{display:"flex",justifyContent:"flex-start",alignItems:"center"},header:{display:"flex",alignItems:"center",paddingBottom:8},h1:{color:((r=n(20))&&r.__esModule?r:{default:r}).default.charcoal,fontSize:18,lineHeight:"18px",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal"},commentAndFooter:{padding:"8px 16px"},timestamp:{fontFamily:'"Gotham 7r", sans-serif'}};t.default=o,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(2)),i=l(n(20)),a=l(n(596)),s=l(n(59));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t=e.messageTitle,n=e.messageText,o=e.style,i=void 0===o?{}:o,l=t||a.default.genericError(),u=n||a.default.genericErrorMessage();return r.default.createElement("div",{style:c(c({},p.saveStatus),i)},r.default.createElement(s.default,{icon:"exclamation-circle",style:p.iconError}),r.default.createElement("div",null,r.default.createElement("p",{style:p.messageTitle},l),r.default.createElement("p",{style:p.messageText},u)))},p={saveStatus:{display:"flex",marginTop:2},iconError:{color:i.default.light_orange,fontSize:30,marginRight:10},messageTitle:{fontFamily:'"Gotham 5r", sans-serif',fontSize:14,marginBottom:0,color:i.default.dark_charcoal},messageText:{fontStyle:"italic",fontSize:12,marginBottom:0,color:i.default.dark_charcoal}},h=f;t.default=h,f.propTypes={messageTitle:o.default.string,messageText:o.default.string,style:o.default.object},e.exports=t.default},,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OAuthSectionTypes=t.OAuthProviders=void 0;var r=n(33),o=n(385),i=(0,r.makeEnum)(o.SectionLoginType.google_classroom,o.SectionLoginType.clever,"microsoft_classroom");t.OAuthSectionTypes=i;t.OAuthProviders={google:"google_oauth2",microsoft:"microsoft_v2_auth",clever:"clever",facebook:"facebook"}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useFetch=void 0;var o=n(1);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,a)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={loading:!1,data:null,response:null,error:null},h={};t.useFetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=(0,o.useState)(p),r=d(n,2),a=r[0],l=r[1];return(0,o.useEffect)((function(){var n,r=!1;window.AbortController&&(n=new AbortController);var o=u({credentials:"same-origin",signal:n?n.signal:void 0},t);return s(i().mark((function t(){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(u(u({},p),{},{loading:!0})),t.prev=1,t.next=4,fetch(e,o);case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("fetch request to ".concat(e," failed with status code ").concat(n.status));case 7:return t.next=9,n.json();case 9:a=t.sent,r||l(u(u({},p),{},{data:a,response:n})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.error(t.t0),r||l(u(u({},p),{},{error:t.t0}));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))(),function(){n&&(r=!0,n.abort())}}),[e,t]),{loading:a.loading,data:a.data,response:a.response,error:a.error}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teacherFeedbackShape=t.rubricShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({comment:o.default.string,performance:o.default.string,student_seen_feedback:o.default.date,created_at:o.default.date});t.teacherFeedbackShape=i;var a=o.default.shape({keyConcept:o.default.string,performanceLevel1:o.default.string,performanceLevel2:o.default.string,performanceLevel3:o.default.string,performanceLevel4:o.default.string});t.rubricShape=a},(e,t,n)=>{"use strict";var r=d(n(32)),o=d(n(142)),i=d(n(1)),a=d(n(36)),s=d(n(1510)),l=d(n(1771)),u=d(n(13)),c=d(n(53));function d(e){return e&&e.__esModule?e:{default:e}}var f,p=n(810),h=n(765),m=".ui-tabs-nav",g="video-modal",y=".video-modal",v=e.exports={};function b(){(0,r.default)(y).trigger("ended")}function _(e){var t=(0,r.default)('<iframe id="video"/>').addClass("video-player").attr({src:e.src,allowfullscreen:"true",scrolling:"no"});return(0,r.default)("<div id='videoTabContainer'></div>").append(t)}function w(){var e,t,n=(0,r.default)(y),o=n.find(m).outerHeight(),i=16/9,a=.8*window.innerHeight,s=.8*window.innerWidth;(a-o)*i<s?(e=a,t=(a-o)*i):(e=s/i+o,t=s),n.height(e),n.width(t);var l=(window.innerHeight-e)/2;n.css({position:"fixed",top:l,left:"50%",marginLeft:t/-2+"px"});var u=E();(0,r.default)(".video-player").height(u),(0,r.default)("#notes-outer").height(u)}function E(){var e=(0,r.default)(y);return e.innerHeight()-e.find(m).outerHeight()}function O(e,t,n,r){r=r||function(){return!0},e.enable_fallback&&(e.force_fallback?S(e,t,n):v.onYouTubeBlocked((function(){r()&&S(e,t,n)}),e))}function S(e,t,n){var o,u="fallbackPlayer"+Date.now(),d="",f="";"100%"===t&&"100%"===n?(o="position: absolute; top: 0; bottom: 0; left: 0; right: 0",d="vjs-fill"):(o="",f='width="'+t+'" height="'+n+'" ');var p='<div style="'+o+'"><video id="'+u+'" '+f+(e.autoplay?"autoplay ":"")+'class="video-js vjs-default-skin vjs-big-play-centered '+d+'" controls preload="auto" poster="'+e.thumbnail+'"><source src="'+e.download+'" type="video/mp4"/></video></div>';(0,r.default)("#videoTabContainer").empty(),(0,r.default)("#videoTabContainer").append(p);var h,m,g=(0,l.default)(u,{nativeControlsForTouch:!0},(function(){var e=(0,r.default)("#"+u);function t(){var e=(0,r.default)(y).innerWidth(),t=E();e&&t&&g.dimensions(e,t)}this.on("error",(function(t){var n;e.addClass("fallback-video-player-failed"),(0,r.default)('.dash_modal_body a[href="#notes-outer"]').length>0&&(n=(0,r.default)('.dash_modal_body a[href="#notes-outer"]').parent().index(),(0,r.default)(".ui-tabs").tabs("option","active",n))}));var n=c.default.throttle(t,200);window.addEventListener("resize",n),window.addEventListener("scroll",n),t(),e.parents(".modal").one("hidden.bs.modal",(function(){window.removeEventListener("resize",n),window.removeEventListener("scroll",n),g.dispose()}))}));g.on("ended",b),h=e.inDialog,(m=document.getElementById("fallback-player-caption-dialog-link"))&&a.default.render(i.default.createElement(s.default,{inDialog:h}),m)}function T(e){e.src&&(e.src=e.src.replace(/^http:\/\//,"//")),e.download&&(e.download=e.download.replace(/^http:\/\//,"//"))}v.createVideoWithFallback=function(e,t,n,r,o,i){T(t);var a=_(t);return o?(a.addClass("video-player-full-width"),e.addClass("video-content-full-width"),n="100%",r="100%"):a.width(n).height(r),i&&a.addClass("video-player-rounded-corners"),e&&e.append(a),O(t,n,r),a},v.showVideoDialog=function(e,t){if(void 0===t&&(t=!1),void 0===e.onClose&&(e.onClose=function(){}),h.hasSeenVideo(e.key)&&!1===t)return e.onClose(),void(e.redirect&&(window.location.href=e.redirect));e.inDialog=!0,T(e);var n=(0,r.default)("<div/>"),i=(0,r.default)("#notes-content").contents().clone();i.find(".video-name").text(e.name),n.append(i);var a=_(e);n.append(a);var s,d,p,v=(0,r.default)('<div id="notes-outer"><div id="notes"/></div>');n.append(v),s=e.key,d=function(e){v.children("#notes").html(e)},p=function(){var e;e=(0,r.default)('.dash_modal_body a[href="#videoTabContainer"]').parent().index(),(0,r.default)(".ui-tabs").tabs("option","active",e),n.find('a[href="#notes-outer"]').parent().remove(),n.tabs("refresh")},r.default.ajax({url:"/notes/"+s,success:d,error:p});var C=new Dialog({body:n,redirect:e.redirect}),k=(0,r.default)(C.div);k.addClass(g),(0,r.default)(y).on("remove",(function(){a.removeAttr("src"),e.onClose(),h.recordVideoSeen(e.key);var t=document.createEvent("Event");t.initEvent("videoHidden",!0,!0),document.dispatchEvent(t)}));var A=function(t,n){var o=n.tab||n.newTab,i=(0,r.default)("#video");if("#video"===o.find("a").attr("href"))i.attr("src",e.src);else{a.removeAttr("src");var s=document.querySelector(".video-js");s&&(0,l.default)(s).pause()}var u=o.parents(".ui-tabs").tabs("option","active");try{window.sessionStorage.setItem("lastTab",u)}catch(c){console.log("Caught exception in sessionStorage.setItem: ",c)}},P=window.sessionStorage.getItem("lastTab");n.tabs({event:"click touchend",activate:A,create:A,active:null!==P?P:0});var x=(0,r.default)("<a/>").append((0,r.default)('<img src="/shared/images/download_button.png"/>')).addClass("download-video").css("float","left").attr("href",e.download).click((function(){return(0,o.default)("downloadvideo","startdownloadvideo",e.key),!0}));"rtl"===document.dir&&x.css("float","right");var I=k.find(m);I.append(x);var R=(0,r.default)('<div id="fallback-player-caption-dialog-link"><a style="opacity: 0; pointer-events: none">'+u.default.fallbackVideoClosedCaptioningLink()+"</a></div>").css({"padding-right":"40px","padding-top":"9px","text-align":"right"});I.append(R);var D=c.default.throttle(w,200);if(window.addEventListener("scroll",D),window.addEventListener("resize",D),w(),f=e,window.YT&&window.YT.loaded)new YT.Player("video",{events:{onStateChange:function(e){e.data===YT.PlayerState.ENDED&&b()},onError:function(e){if(f){var t=e.target.f.getBoundingClientRect();S(f,t.width,t.height)}}}});else{var j=document.createElement("script");j.src="https://www.youtube.com/iframe_api";var N=document.getElementsByTagName("script")[0];N.parentNode.insertBefore(j,N)}C.show();var L=(0,r.default)(y);L.on("ended",(function(){C.hide()}));var M=document.createEvent("Event");M.initEvent("videoShown",!0,!0),document.dispatchEvent(M);var B=!0;L.one("hidden.bs.modal",(function(){window.removeEventListener("resize",D),window.removeEventListener("scroll",D),B=!1}));var F=E();O(e,k.width(),F,(function(){return B}))},v.onYouTubeBlocked=function(e,t){var n=t?t.key:void 0,r=!t||-1!==t.src.indexOf("youtube-nocookie.com");p(function(e){var t=window.document.URL.toString();if(t.indexOf("force_youtube_fallback")>=0)return"https://unreachable-test-subdomain.example.com/favicon.ico";if(t.indexOf("force_youtube_player")>=0)return"https://code.org/images/favicon.ico";return e?"https://www.youtube-nocookie.com/favicon.ico":"https://www.youtube.com/favicon.ico"}(r)+"?"+Math.random(),(function(){(0,o.default)("showvideo","startVideoYouTube",n)}),(function(){(0,o.default)("showvideo","startVideoFallback",n),e()}))}},(e,t,n)=>{"use strict";var r,o,i,a,s,l,u=n(1512).toUnsigned,c=n(1512).toHexString;r=function(e,t){var n,i,a,s,l,c=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=u(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),a=o(e.subarray(n+4,n+8)),s=i>1?n+i:e.byteLength,a===t[0]&&(1===t.length?c.push(e.subarray(n+8,s)):(l=r(e.subarray(n+8,s),t.slice(1))).length&&(c=c.concat(l))),n=s;return c},o=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},i=function(e){return r(e,["moov","trak"]).reduce((function(e,t){var n,o,i,a,s;return(n=r(t,["tkhd"])[0])?(o=n[0],a=u(n[i=0===o?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),(s=r(t,["mdia","mdhd"])[0])?(i=0===(o=s[0])?12:20,e[a]=u(s[i]<<24|s[i+1]<<16|s[i+2]<<8|s[i+3]),e):null):null}),{})},a=function(e,t){var n,o,i;return n=r(t,["moof","traf"]),o=[].concat.apply([],n.map((function(t){return r(t,["tfhd"]).map((function(n){var o,i,a;return o=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=e[o]||9e4,a=r(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0],(a=a||1/0)/i}))}))),i=Math.min.apply(null,o),isFinite(i)?i:0},s=function(e){var t=r(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=r(e,["mdia","hdlr"]),i=r(e,["tkhd"]);t.forEach((function(e,t){var r,a,s=o(e.subarray(8,12)),l=i[t];"vide"===s&&(a=0===(r=new DataView(l.buffer,l.byteOffset,l.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(a))}))})),n},l=function(e){var t=r(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,a={},s=r(e,["tkhd"])[0];s&&(i=(t=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),a.id=0===i?t.getUint32(12):t.getUint32(20));var l=r(e,["mdia","hdlr"])[0];if(l){var d=o(l.subarray(8,12));a.type="vide"===d?"video":"soun"===d?"audio":d}var f=r(e,["mdia","minf","stbl","stsd"])[0];if(f){var p=f.subarray(8);a.codec=o(p.subarray(4,8));var h,m=r(p,[a.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(a.codec)?(h=m.subarray(78),"avcC"===o(h.subarray(4,8))&&h.length>11?(a.codec+=".",a.codec+=c(h[9]),a.codec+=c(h[10]),a.codec+=c(h[11])):a.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(a.codec)&&(h=m.subarray(28),"esds"===o(h.subarray(4,8))&&h.length>20&&0!==h[19]?(a.codec+="."+c(h[19]),a.codec+="."+c(h[20]>>>2&63).replace(/^0/,"")):a.codec="mp4a.40.2"))}var g=r(e,["mdia","mdhd"])[0];if(g&&s){var y=0===i?12:20;a.timescale=u(g[y]<<24|g[y+1]<<16|g[y+2]<<8|g[y+3])}n.push(a)})),n},e.exports={findBox:r,parseType:o,timescale:i,startTime:a,videoTrackIds:s,tracks:l}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reviewShape=t.reviewCommentShape=t.commitShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({createdAt:o.default.string.isRequired,comment:o.default.string.isRequired,projectVersion:o.default.string.isRequired,timelineElementType:o.default.string.isRequired});t.commitShape=i;var a=o.default.shape({id:o.default.number.isRequired,comment:o.default.string,commenterName:o.default.string.isRequired,commenterId:o.default.number.isRequired,createdAt:o.default.string,isResolved:o.default.bool,isFromTeacher:o.default.bool});t.reviewCommentShape=a;var s=o.default.shape({id:o.default.number.isRequired,createdAt:o.default.string,isOpen:o.default.bool,version:o.default.string,timelineElementType:o.default.string.isRequired,ownerName:o.default.string,comments:o.default.arrayOf(a)});t.reviewShape=s},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1303),o=n(1574),i=n(1786);function a(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function s(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function l(e,t){if(!t.anchorNode)return!1;try{return s(e,t.anchorNode)}catch(n){return!1}}function u(e){return 3==e.nodeType?w(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function c(e,t,n,r){return!!n&&(f(e,t,n,r,-1)||f(e,t,n,r,1))}function d(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function f(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:p(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=d(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?p(e):0}}}function p(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const h={left:0,right:0,top:0,bottom:0};function m(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function g(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class y{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let v,b=null;function _(e){if(e.setActive)return e.setActive();if(b)return e.focus(b);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==b?{get preventScroll(){return b={preventScroll:!0},!0}}:void 0),!b){b=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function w(e,t,n=t){let r=v||(v=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function E(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},o=new KeyboardEvent("keydown",r);o.synthetic=!0,e.dispatchEvent(o);let i=new KeyboardEvent("keyup",r);return i.synthetic=!0,e.dispatchEvent(i),o.defaultPrevented||i.defaultPrevented}function O(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class S{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new S(e.parentNode,d(e),t)}static after(e,t){return new S(e.parentNode,d(e)+1,t)}}const T=[];class C{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,n=this.dom,r=null;for(let o of this.children){if(o.dirty){if(!o.dom&&(t=r?r.nextSibling:n.firstChild)){let e=C.get(t);e&&(e.parent||e.constructor!=o.constructor)||o.reuseDOM(t)}o.sync(e),o.dirty=0}if(t=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&t!=o.dom&&(e.written=!0),o.dom.parentNode==n)for(;t&&t!=o.dom;)t=k(t);else n.insertBefore(o.dom,t);r=o.dom}for(t=r?r.nextSibling:n.firstChild,t&&e&&e.node==n&&(e.written=!0);t;)t=k(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==p(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!C.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,o=0;;r++){let e=this.children[r];if(e.dom==n)return o;o+=e.length+e.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,o=-1,i=-1,a=-1;for(let s=0,l=n,u=n;s<this.children.length;s++){let n=this.children[s],c=l+n.length;if(l<e&&c>t)return n.domBoundsAround(e,t,l);if(c>=e&&-1==r&&(r=s,o=l),l>t&&n.dom.parentNode==this.dom){i=s,a=u;break}u=c,l=c+n.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=T){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new A(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,r,o,i){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function k(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}C.prototype.breakAfter=0;class A{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function P(e,t,n,r,o,i,a,s,l){let{children:u}=e,c=u.length?u[t]:null,d=i.length?i[i.length-1]:null,f=d?d.breakAfter:a;if(!(t==r&&c&&!a&&!f&&i.length<2&&c.merge(n,o,i.length?d:null,0==n,s,l))){if(r<u.length){let e=u[r];e&&o<e.length?(t==r&&(e=e.split(o),o=0),!f&&d&&e.merge(0,o,d,!0,0,l)?i[i.length-1]=e:(o&&e.merge(0,o,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&i.length&&c.merge(n,c.length,i[0],!1,s,0)?c.breakAfter=i.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,s,0),t++));t<r&&i.length;)if(u[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:s;else{if(!u[t].become(i[0]))break;t++,i.shift(),s=i.length?0:l}!i.length&&t&&r<u.length&&!u[t-1].breakAfter&&u[r].merge(0,0,u[t-1],!1,s,l)&&t--,(t<r||i.length)&&e.replaceChildren(t,r,i)}}function x(e,t,n,r,o,i){let a=e.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:u,off:c}=a.findPos(t,-1),d=t-n;for(let f of r)d+=f.length;e.length+=d,P(e,u,c,s,l,r,0,o,i)}let I="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},R="undefined"!=typeof document?document:{documentElement:{style:{}}};const D=/Edge\/(\d+)/.exec(I.userAgent),j=/MSIE \d/.test(I.userAgent),N=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(I.userAgent),L=!!(j||N||D),M=!L&&/gecko\/(\d+)/i.test(I.userAgent),B=!L&&/Chrome\/(\d+)/.exec(I.userAgent),F="webkitFontSmoothing"in R.documentElement.style,U=!L&&/Apple Computer/.test(I.vendor),H=U&&(/Mobile\/\w+/.test(I.userAgent)||I.maxTouchPoints>2);var W={mac:H||/Mac/.test(I.platform),windows:/Win/.test(I.platform),linux:/Linux|X11/.test(I.platform),ie:L,ie_version:j?R.documentMode||6:N?+N[1]:D?+D[1]:0,gecko:M,gecko_version:M?+(/Firefox\/(\d+)/.exec(I.userAgent)||[0,0])[1]:0,chrome:!!B,chrome_version:B?+B[1]:0,ios:H,android:/Android\b/.test(I.userAgent),webkit:F,safari:U,webkit_version:F?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=R.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class q extends C{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return(!n||n instanceof q&&!(this.length-(t-e)+n.length>256))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new q(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new S(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return V(this.dom,e,t)}}class z extends C{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let r of t)r.setParent(this)}setAttrs(e){if(O(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,r,o,i){return(!n||!(!(n instanceof z&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0))&&(x(this,e,t,n?n.children:[],o-1,i-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,o=0;for(let a of this.children){let i=n+a.length;i>e&&t.push(n<e?a.split(e-n):a),r<0&&n>=e&&(r=o),n=i,o++}let i=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new z(this.mark,t,i)}domAtPos(e){return J(this.dom,this.children,e)}coordsAt(e,t){return Q(this,e,t)}}function V(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let o=t,i=t,a=0;0==t&&n<0||t==r&&n>=0?W.chrome||W.gecko||(t?(o--,a=1):i<r&&(i++,a=-1)):n<0?o--:i<r&&i++;let s=w(e,o,i).getClientRects();if(!s.length)return h;let l=s[(a?a<0:n>=0)?0:s.length-1];return W.safari&&!a&&0==l.width&&(l=Array.prototype.find.call(s,(e=>e.width))||l),a?m(l,a<0):l||null}class G extends C{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||G)(e,t,n)}split(e){let t=G.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof G&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof G&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return r.Text.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,o=this.posAtStart;return n?n.slice(o,o+this.length):r.Text.empty}domAtPos(e){return 0==e?S.before(this.dom):S.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),r=null;if(!n.length)return h;for(let o=e>0?n.length-1:0;r=n[o],!(e>0?0==o:o==n.length-1||r.top<r.bottom);o+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?r:m(r,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class $ extends G{domAtPos(e){let{topView:t,text:n}=this.widget;return t?K(e,0,t,n,((e,t)=>e.domAtPos(t)),(e=>new S(n,Math.min(e,n.nodeValue.length)))):new S(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:r}=this.widget;return n?Y(e,t,n,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:r}=this.widget;return n?K(e,t,n,r,((e,t,n)=>e.coordsAt(t,n)),((e,t)=>V(r,e,t))):V(r,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function K(e,t,n,r,o,i){if(n instanceof z){for(let a of n.children){let n=s(a.dom,r),l=n?r.nodeValue.length:a.length;if(e<l||e==l&&a.getSide()<=0)return n?K(e,t,a,r,o,i):o(a,e,t);e-=l}return o(n,n.length,-1)}return n.dom==r?i(e,t):o(n,e,t)}function Y(e,t,n,r){if(n instanceof z)for(let o of n.children){let n=0,i=s(o.dom,r);if(s(o.dom,e))return n+(i?Y(e,t,o,r):o.localPosFromDOM(e,t));n+=i?r.nodeValue.length:o.length}else if(n.dom==r)return Math.min(t,r.nodeValue.length);return n.localPosFromDOM(e,t)}class X extends C{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof X&&e.side==this.side}split(){return new X(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return S.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),n=function(e,t){let n=e.parent,r=n?n.children.indexOf(e):-1;for(;n&&r>=0;)if(t<0?r>0:r<n.children.length){let e=n.children[r+t];if(e instanceof q){let n=e.coordsAt(t<0?e.length:0,t);if(n)return n}r+=t}else{if(!(n instanceof z&&n.parent)){let e=n.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}get overrideDOMText(){return r.Text.empty}}function J(e,t,n){let r=0;for(let o=0;r<t.length;r++){let i=t[r],a=o+i.length;if(!(a==o&&i.getSide()<=0)){if(n>o&&n<a&&i.dom.parentNode==e)return i.domAtPos(n-o);if(n<=o)break;o=a}}for(;r>0;r--){let n=t[r-1].dom;if(n.parentNode==e)return S.after(n)}return new S(e,0)}function Z(e,t,n){let r,{children:o}=e;n>0&&t instanceof z&&o.length&&(r=o[o.length-1])instanceof z&&r.mark.eq(t.mark)?Z(r,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function Q(e,t,n){for(let i=0,a=0;a<e.children.length;a++){let r,o=e.children[a],s=i+o.length;if((n<=0||s==e.length||o.getSide()>0?s>=t:s>t)&&(t<s||a+1==e.children.length||(r=e.children[a+1]).length||r.getSide()>0)){let e=0;if(s==i){if(o.getSide()<=0)continue;e=n=-o.getSide()}let r=o.coordsAt(Math.max(0,t-i),n);return e&&r?m(r,n<0):r}i=s}let r=e.dom.lastChild;if(!r)return e.dom.getBoundingClientRect();let o=u(r);return o[o.length-1]||null}function ee(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function te(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let o of n)if(-1==r.indexOf(o)||e[o]!==t[o])return!1;return!0}function ne(e,t,n){let r=null;if(t)for(let o in t)n&&o in n||e.removeAttribute(r=o);if(n)for(let o in n)t&&t[o]==n[o]||e.setAttribute(r=o,n[o]);return!!r}q.prototype.children=G.prototype.children=X.prototype.children=T;class re{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var oe;t.BlockType=void 0,(oe=t.BlockType||(t.BlockType={}))[oe.Text=0]="Text",oe[oe.WidgetBefore=1]="WidgetBefore",oe[oe.WidgetAfter=2]="WidgetAfter",oe[oe.WidgetRange=3]="WidgetRange";class ie extends r.RangeValue{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new ae(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new le(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:o,end:i}=ue(e,r);t=(o?r?-3e8:-1:5e8)-1,n=1+(i?r?2e8:1:-6e8)}return new le(e,t,n,r,e.widget||null,!0)}static line(e){return new se(e)}static set(e,t=!1){return r.RangeSet.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}ie.none=r.RangeSet.empty;class ae extends ie{constructor(e){let{start:t,end:n}=ue(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof ae&&this.tagName==e.tagName&&this.class==e.class&&te(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ae.prototype.point=!1;class se extends ie{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof se&&te(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}se.prototype.mapMode=r.MapMode.TrackBefore,se.prototype.point=!0;class le extends ie{constructor(e,t,n,o,i,a){super(t,n,i,e),this.block=o,this.isReplace=a,this.mapMode=o?t<=0?r.MapMode.TrackBefore:r.MapMode.TrackAfter:r.MapMode.TrackDel}get type(){return this.startSide<this.endSide?t.BlockType.WidgetRange:this.startSide<=0?t.BlockType.WidgetBefore:t.BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof le&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function ue(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function ce(e,t,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=e?n[o]=Math.max(n[o],t):n.push(e,t)}le.prototype.point=!0;class de extends C{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,i){if(n){if(!(n instanceof de))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),x(this,e,t,n?n.children:[],o,i),!0}split(e){let t=new de;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)t.append(this.children[o],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){te(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Z(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=ee(t,this.attrs||{})),n&&(this.attrs=ee({class:n},this.attrs||{}))}domAtPos(e){return J(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(O(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(ne(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&C.get(n)instanceof z;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(t=C.get(n))||void 0===t?void 0:t.isEditable)||W.ios&&this.children.some((e=>e instanceof q))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof q))return null;let n=u(t.dom);if(1!=n.length)return null;e+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return Q(this,e,t)}become(e){return!1}get type(){return t.BlockType.Text}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],i=r+o.length;if(i>=t){if(o instanceof de)return o;if(i>t)break}r=i+o.breakAfter}return null}}class fe extends C{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof fe&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?S.before(this.dom):S.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new fe(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return T}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):r.Text.empty}domBoundsAround(){return null}become(e){return e instanceof fe&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class pe{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof fe&&e.type==t.BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new de),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(he(new X(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,n)),this.getLine().append(he(new q(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,n,r,o,i,a){if(this.disallowBlockEffectsFor[a]&&r instanceof le){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=n-e;if(r instanceof le)if(r.block){let{type:e}=r;e!=t.BlockType.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new fe(r.widget||new me("div"),s,e))}else{let t=G.create(r.widget||new me("span"),s,r.startSide),a=this.atCursorPos&&!t.isEditable&&i<=o.length&&(e<n||r.startSide>0),l=!t.isEditable&&(e<n||r.startSide<=0),u=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(o),a&&(u.append(he(new X(1),o),i),i=o.length+Math.max(0,i-o.length)),u.append(he(t,o),i),this.atCursorPos=l,this.pendingBuffer=l?e<n?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=i)}static build(e,t,n,o,i){let a=new pe(e,t,n,i);return a.openEnd=r.RangeSet.spans(o,t,n,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function he(e,t){for(let n of t)e=new z(n,[e],e.length);return e}class me extends re{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const ge=r.Facet.define(),ye=r.Facet.define(),ve=r.Facet.define(),be=r.Facet.define(),_e=r.Facet.define(),we=r.Facet.define(),Ee=r.Facet.define({combine:e=>e.some((e=>e))});class Oe{constructor(e,t="nearest",n="nearest",r=5,o=5){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new Oe(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Se=r.StateEffect.define({map:(e,t)=>e.map(t)});function Te(e,t,n){let r=e.facet(be);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const Ce=r.Facet.define({combine:e=>!e.length||e[0]});let ke=0;const Ae=r.Facet.define();class Pe{constructor(e,t,n,r){this.id=e,this.create=t,this.domEventHandlers=n,this.extension=r(this)}static define(e,t){const{eventHandlers:n,provide:r,decorations:o}=t||{};return new Pe(ke++,e,n,(e=>{let t=[Ae.of(e)];return o&&t.push(De.of((t=>{let n=t.plugin(e);return n?o(n):ie.none}))),r&&t.push(r(e)),t}))}static fromClass(e,t){return Pe.define((t=>new e(t)),t)}}class xe{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Te(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(n){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Te(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){Te(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ie=r.Facet.define(),Re=r.Facet.define(),De=r.Facet.define(),je=r.Facet.define(),Ne=r.Facet.define(),Le=r.Facet.define();class Me{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Me(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,o=0,i=0,a=0;;r++){let s=r==e.length?null:e[r],l=i-a,u=s?s.fromB:1e9;for(;o<t.length&&t[o]<u;){let e=t[o],r=t[o+1],i=Math.max(a,e),s=Math.min(u,r);if(i<=s&&new Me(i+l,s+l,i,s).addToSet(n),r>u)break;o+=2}if(!s)return n;new Me(s.fromA,s.toA,s.fromB,s.toB).addToSet(n),i=s.toA,a=s.toB}}}class Be{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=r.ChangeSet.empty(this.startState.doc.length);for(let r of n)this.changes=this.changes.compose(r.changes);let o=[];this.changes.iterChangedRanges(((e,t,n,r)=>o.push(new Me(e,t,n,r)))),this.changedRanges=o;let i=e.hasFocus;i!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=i,this.flags|=1)}static create(e,t,n){return new Be(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Fe;t.Direction=void 0,(Fe=t.Direction||(t.Direction={}))[Fe.LTR=0]="LTR",Fe[Fe.RTL=1]="RTL";const Ue=t.Direction.LTR,He=t.Direction.RTL;function We(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const qe=We("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ze=We("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ve=Object.create(null),Ge=[];for(let uo of["()","[]","{}"]){let e=uo.charCodeAt(0),t=uo.charCodeAt(1);Ve[e]=t,Ve[t]=-e}const $e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Ke{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?He:Ue}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,r){let o=-1;for(let i=0;i<e.length;i++){let a=e[i];if(a.from<=t&&a.to>=t){if(a.level==n)return i;(o<0||(0!=r?r<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}const Ye=[];function Xe(e,t){let n=e.length,r=t==Ue?1:2,o=t==Ue?2:1;if(!e||1==r&&!$e.test(e))return Je(n);for(let s=0,l=r,u=r;s<n;s++){let t=(i=e.charCodeAt(s))<=247?qe[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?ze[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203||8204==i?256:1;512==t?t=l:8==t&&4==u&&(t=16),Ye[s]=4==t?2:t,7&t&&(u=t),l=t}var i;for(let s=0,l=r,u=r;s<n;s++){let e=Ye[s];if(128==e)s<n-1&&l==Ye[s+1]&&24&l?e=Ye[s]=l:Ye[s]=256;else if(64==e){let e=s+1;for(;e<n&&64==Ye[e];)e++;let t=s&&8==l||e<n&&8==Ye[e]?1==u?1:8:256;for(let n=s;n<e;n++)Ye[n]=t;s=e-1}else 8==e&&1==u&&(Ye[s]=1);l=e,7&e&&(u=e)}for(let s,l,u,c=0,d=0,f=0;c<n;c++)if(l=Ve[s=e.charCodeAt(c)])if(l<0){for(let e=d-3;e>=0;e-=3)if(Ge[e+1]==-l){let t=Ge[e+2],n=2&t?r:4&t?1&t?o:r:0;n&&(Ye[c]=Ye[Ge[e]]=n),d=e;break}}else{if(189==Ge.length)break;Ge[d++]=c,Ge[d++]=s,Ge[d++]=f}else if(2==(u=Ye[c])||1==u){let e=u==r;f=e?0:1;for(let t=d-3;t>=0;t-=3){let n=Ge[t+2];if(2&n)break;if(e)Ge[t+2]|=2;else{if(4&n)break;Ge[t+2]|=4}}}for(let s=0;s<n;s++)if(256==Ye[s]){let e=s+1;for(;e<n&&256==Ye[e];)e++;let t=1==(s?Ye[s-1]:r),o=t==(1==(e<n?Ye[e]:r))?t?1:2:r;for(let n=s;n<e;n++)Ye[n]=o;s=e-1}let a=[];if(1==r)for(let s=0;s<n;){let e=s,t=1!=Ye[s++];for(;s<n&&t==(1!=Ye[s]);)s++;if(t)for(let n=s;n>e;){let t=n,r=2!=Ye[--n];for(;n>e&&r==(2!=Ye[n-1]);)n--;a.push(new Ke(n,t,r?2:1))}else a.push(new Ke(e,s,0))}else for(let s=0;s<n;){let e=s,t=2==Ye[s++];for(;s<n&&t==(2==Ye[s]);)s++;a.push(new Ke(e,s,t?1:2))}return a}function Je(e){return[new Ke(0,e,0)]}let Ze="";function Qe(e,t,n,o,i){var a;let s=o.head-e.from,l=-1;if(0==s){if(!i||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),l=0)}else if(s==e.length){if(i)return null;let e=t[t.length-1];e.level!=n&&(s=e.side(!0,n),l=t.length-1)}l<0&&(l=Ke.find(t,s,null!==(a=o.bidiLevel)&&void 0!==a?a:-1,o.assoc));let u=t[l];s==u.side(i,n)&&(u=t[l+=i?1:-1],s=u.side(!i,n));let c=i==(u.dir==n),d=r.findClusterBreak(e.text,s,c);if(Ze=e.text.slice(Math.min(s,d),Math.max(s,d)),d!=u.side(i,n))return r.EditorSelection.cursor(d+e.from,c?-1:1,u.level);let f=l==(i?t.length-1:0)?null:t[l+(i?1:-1)];return f||u.level==n?f&&f.level<u.level?r.EditorSelection.cursor(f.side(!i,n)+e.from,i?1:-1,f.level):r.EditorSelection.cursor(d+e.from,i?-1:1,u.level):r.EditorSelection.cursor(i?e.to:e.from,i?-1:1,n)}const et="￿";class tt{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(r.EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=et}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r),this.readNode(r);let e=r.nextSibling;if(e==t)break;let o=C.get(r),i=C.get(e);(o&&i?o.breakAfter:(o?o.breakAfter:nt(r))||nt(e)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=e}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,a=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,a=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=a-1);n=i+a}}readNode(e){if(e.cmIgnore)return;let t=C.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function nt(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class rt{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ot extends C{constructor(e){super(),this.view=e,this.compositionDeco=ie.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new de],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Me(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ie.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let n=at(e);if(!n)return ie.none;let{from:r,to:o,node:i,text:a}=n,s=t.mapPos(r,1),l=Math.max(s,t.mapPos(o,-1)),{state:u}=e,c=3==i.nodeType?i.nodeValue:new tt([],u).readRange(i.firstChild,null).text;if(l-s<c.length)if(u.doc.sliceString(s,Math.min(u.doc.length,s+c.length),et)==c)l=s+c.length;else{if(u.doc.sliceString(Math.max(0,l-c.length),l,et)!=c)return ie.none;s=l-c.length}else if(u.doc.sliceString(s,l,et)!=c)return ie.none;let d=C.get(i);d instanceof $?d=d.widget.topView:d&&(d.parent=null);return ie.set(ie.replace({widget:new st(i,a,d),inclusive:!0}).range(s,l))}(this.view,e.changes)),(W.ie||W.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=function(e,t,n){let o=new ut;return r.RangeSet.compare(e,t,n,o),o.changes}(this.decorations,this.updateDeco(),e.changes);return t=Me.extendWithRanges(t,n),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=W.chrome||W.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof fe&&o.widget instanceof it&&r.push(o.dom);n.updateGaps(r)}updateChildren(e,t){let n=this.childCursor(t);for(let r=e.length-1;;r--){let t=r>=0?e[r]:null;if(!t)break;let{fromA:o,toA:i,fromB:a,toB:s}=t,{content:l,breakAtStart:u,openStart:c,openEnd:d}=pe.build(this.view.state.doc,a,s,this.decorations,this.dynamicDecorationMap),{i:f,off:p}=n.findPos(i,1),{i:h,off:m}=n.findPos(o,-1);P(this,h,m,f,p,l,u,c,d)}}updateSelection(e=!1,t=!1){if(!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||W.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),i=r.empty?o:this.domAtPos(r.head);if(W.gecko&&r.empty&&(1==(s=o).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>o.node.insertBefore(e,o.node.childNodes[o.offset]||null))),o=i=new S(e,0),n=!0}var s;let l=this.view.observer.selectionRange;!n&&l.focusNode&&c(o.node,o.offset,l.anchorNode,l.anchorOffset)&&c(i.node,i.offset,l.focusNode,l.focusOffset)||(this.view.observer.ignore((()=>{W.android&&W.chrome&&this.dom.contains(l.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=a(this.root);if(e)if(r.empty){if(W.gecko){let e=(t=o.node,n=o.offset,1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=lt(o.node,o.offset,1==e?1:-1);t&&(o=new S(t,1==e?0:t.nodeValue.length))}}e.collapse(o.node,o.offset),null!=r.bidiLevel&&null!=l.cursorBidiLevel&&(l.cursorBidiLevel=r.bidiLevel)}else if(e.extend)e.collapse(o.node,o.offset),e.extend(i.node,i.offset);else{let t=document.createRange();r.anchor>r.head&&([o,i]=[i,o]),t.setEnd(i.node,i.offset),t.setStart(o.node,o.offset),e.removeAllRanges(),e.addRange(t)}else;var t,n})),this.view.observer.setSelectionRange(o,i)),this.impreciseAnchor=o.precise?null:new S(l.anchorNode,l.anchorOffset),this.impreciseHead=i.precise?null:new S(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=a(this.root);if(!(t&&e.empty&&e.assoc&&t.modify))return;let n=de.find(this,e.head);if(!n)return;let r=n.posAtStart;if(e.head==r||e.head==r+n.length)return;let o=this.coordsAt(e.head,-1),i=this.coordsAt(e.head,1);if(!o||!i||o.bottom>i.top)return;let s=this.domAtPos(e.head+e.assoc);t.collapse(s.node,s.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let e=this.root.activeElement;return e==this.dom||l(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let e=C.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof de)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,n){for(let r=this.length,o=this.children.length-1;;o--){let i=this.children[o],a=r-i.breakAfter-i.length;if(e>a||e==a&&i.type!=t.BlockType.WidgetBefore&&i.type!=t.BlockType.WidgetAfter&&(!o||2==n||this.children[o-1].breakAfter||this.children[o-1].type==t.BlockType.WidgetBefore&&n>-2))return i.coordsAt(e-a,n);r=a}}measureVisibleLineHeights(e){let n=[],{from:r,to:o}=e,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==t.Direction.LTR;for(let t=0,c=0;c<this.children.length;c++){let e=this.children[c],d=t+e.length;if(d>o)break;if(t>=r){let r=e.dom.getBoundingClientRect();if(n.push(r.height),a){let n=e.dom.lastChild,o=n?u(n):[];if(o.length){let e=o[o.length-1],n=l?e.right-r.left:r.right-e.left;n>s&&(s=n,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=d)}}}t=d+e.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[n].dom).direction?t.Direction.RTL:t.Direction.LTR}measureTextSize(){for(let r of this.children)if(r instanceof de){let e=r.measureTextSize();if(e)return e}let e,t,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=u(n.firstChild)[0];e=n.getBoundingClientRect().height,t=r?r.width/27:7,n.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new A(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],i=o?o.from-1:this.length;if(i>n){let r=t.lineBlockAt(i).bottom-t.lineBlockAt(n).top;e.push(ie.replace({widget:new it(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!o)break;n=o.to+1}return ie.set(e)}updateDeco(){let e=this.view.state.facet(De).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let n,{range:r}=e,o=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!o)return;!r.empty&&(n=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(o={left:Math.min(o.left,n.left),top:Math.min(o.top,n.top),right:Math.max(o.right,n.right),bottom:Math.max(o.bottom,n.bottom)});let i=0,a=0,s=0,l=0;for(let t of this.view.state.facet(Ne).map((e=>e(this.view))))if(t){let{left:e,right:n,top:r,bottom:o}=t;null!=e&&(i=Math.max(i,e)),null!=n&&(a=Math.max(a,n)),null!=r&&(s=Math.max(s,r)),null!=o&&(l=Math.max(l,o))}let u={left:o.left-i,top:o.top-s,right:o.right+a,bottom:o.bottom+l};!function(e,t,n,r,o,i,a,s){let l=e.ownerDocument,u=l.defaultView;for(let c=e;c;)if(1==c.nodeType){let e,d=c==l.body;if(d)e=g(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let t=c.getBoundingClientRect();e={left:t.left,right:t.left+c.clientWidth,top:t.top,bottom:t.top+c.clientHeight}}let f=0,p=0;if("nearest"==o)t.top<e.top?(p=-(e.top-t.top+a),n>0&&t.bottom>e.bottom+p&&(p=t.bottom-e.bottom+p+a)):t.bottom>e.bottom&&(p=t.bottom-e.bottom+a,n<0&&t.top-p<e.top&&(p=-(e.top+p-t.top+a)));else{let r=t.bottom-t.top,i=e.bottom-e.top;p=("center"==o&&r<=i?t.top+r/2-i/2:"start"==o||"center"==o&&n<0?t.top-a:t.bottom-i+a)-e.top}if("nearest"==r?t.left<e.left?(f=-(e.left-t.left+i),n>0&&t.right>e.right+f&&(f=t.right-e.right+f+i)):t.right>e.right&&(f=t.right-e.right+i,n<0&&t.left<e.left+f&&(f=-(e.left+f-t.left+i))):f=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==s?t.left-i:t.right-(e.right-e.left)+i)-e.left,f||p)if(d)u.scrollBy(f,p);else{if(p){let e=c.scrollTop;c.scrollTop+=p,p=c.scrollTop-e}if(f){let e=c.scrollLeft;c.scrollLeft+=f,f=c.scrollLeft-e}t={left:t.left-f,top:t.top-p,right:t.right-f,bottom:t.bottom-p}}if(d)break;c=c.assignedSlot||c.parentNode,r=o="nearest"}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,u,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==t.Direction.LTR)}}class it extends re{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function at(e){let t=e.observer.selectionRange,n=t.focusNode&&lt(t.focusNode,t.focusOffset,0);if(!n)return null;let r=e.docView.nearest(n);if(!r)return null;if(r instanceof de){let e=n;for(;e.parentNode!=r.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!C.get(t);)t=t.previousSibling;let o=t?C.get(t).posAtEnd:r.posAtStart;return{from:o,to:o,node:e,text:n}}{for(;;){let{parent:e}=r;if(!e)return null;if(e instanceof de)break;r=e}let e=r.posAtStart;return{from:e,to:e+r.length,node:r.dom,text:n}}}class st extends re{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return $}}function lt(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=p(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}class ut{constructor(){this.changes=[]}compareRange(e,t){ce(e,t,this.changes)}comparePoint(e,t){ce(e,t,this.changes)}}function ct(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function dt(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function ft(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function pt(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function ht(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function mt(e,t,n){let r,o,i,a,s,l,c,d;for(let p=e.firstChild;p;p=p.nextSibling){let e=u(p);for(let u=0;u<e.length;u++){let f=e[u];o&&ft(o,f)&&(f=pt(ht(f,o.bottom),o.top));let h=ct(t,f),m=dt(n,f);if(0==h&&0==m)return 3==p.nodeType?gt(p,t,n):mt(p,t,n);(!r||a>m||a==m&&i>h)&&(r=p,o=f,i=h,a=m),0==h?n>f.bottom&&(!c||c.bottom<f.bottom)?(s=p,c=f):n<f.top&&(!d||d.top>f.top)&&(l=p,d=f):c&&ft(c,f)?c=ht(c,f.bottom):d&&ft(d,f)&&(d=pt(d,f.top))}}if(c&&c.bottom>=n?(r=s,o=c):d&&d.top<=n&&(r=l,o=d),!r)return{node:e,offset:0};let f=Math.max(o.left,Math.min(o.right,t));return 3==r.nodeType?gt(r,f,n):i||"true"!=r.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(o.left+o.right)/2?1:0)}:mt(r,f,n)}function gt(e,t,n){let r=e.nodeValue.length,o=-1,i=1e9,a=0;for(let s=0;s<r;s++){let r=w(e,s,s+1).getClientRects();for(let l=0;l<r.length;l++){let u=r[l];if(u.top==u.bottom)continue;a||(a=t-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&c<i){let n=t>=(u.left+u.right)/2,r=n;if(W.chrome||W.gecko){w(e,s).getBoundingClientRect().left==u.right&&(r=!n)}if(c<=0)return{node:e,offset:s+(r?1:0)};o=s+(r?1:0),i=c}}}return{node:e,offset:o>-1?o:a>0?e.nodeValue.length:0}}function yt(e,{x:n,y:r},o,i=-1){var a;let s,l=e.contentDOM.getBoundingClientRect(),u=l.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,d=r-u;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let v=e.defaultLineHeight/2,b=!1;s=e.elementAtHeight(d),s.type!=t.BlockType.Text;)for(;d=i>0?s.bottom+v:s.top-v,!(d>=0&&d<=c);){if(b)return o?null:0;b=!0,i=-i}r=u+d;let f=s.from;if(f<e.viewport.from)return 0==e.viewport.from?0:o?null:vt(e,l,s,n,r);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:o?null:vt(e,l,s,n,r);let p=e.dom.ownerDocument,h=e.root.elementFromPoint?e.root:p,m=h.elementFromPoint(n,r);m&&!e.contentDOM.contains(m)&&(m=null),m||(n=Math.max(l.left+1,Math.min(l.right-1,n)),m=h.elementFromPoint(n,r),m&&!e.contentDOM.contains(m)&&(m=null));let g,y=-1;if(m&&0!=(null===(a=e.docView.nearest(m))||void 0===a?void 0:a.isEditable))if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(n,r);e&&({offsetNode:g,offset:y}=e)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(n,r);e&&(({startContainer:g,startOffset:y}=e),(W.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let o=e.nextSibling;o;o=o.nextSibling)if(1!=o.nodeType||"BR"!=o.nodeName)return!1;return w(e,r-1,r).getBoundingClientRect().left>n}(g,y,n)||W.chrome&&function(e,t,n){if(0!=t)return!1;for(let o=e;;){let e=o.parentNode;if(!e||1!=e.nodeType||e.firstChild!=o)return!1;if(e.classList.contains("cm-line"))break;o=e}let r=1==e.nodeType?e.getBoundingClientRect():w(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(g,y,n))&&(g=void 0))}if(!g||!e.docView.dom.contains(g)){let t=de.find(e.docView,f);if(!t)return d>s.top+s.height/2?s.to:s.from;({node:g,offset:y}=mt(t.dom,n,r))}return e.docView.posFromDOM(g,y)}function vt(e,t,n,o,i){let a=Math.round((o-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){a+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+r.findColumn(s,a,e.state.tabSize)}function bt(e,t,n,o){let i=e.state.doc.lineAt(t.head),a=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let l=t,u=null;;){let t=Qe(i,a,s,l,n),c=Ze;if(!t){if(i.number==(n?e.state.doc.lines:1))return l;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),a=e.bidiSpans(i),t=r.EditorSelection.cursor(n?i.from:i.to)}if(u){if(!u(c))return l}else{if(!o)return t;u=o(c)}l=t}}function _t(e,t,n){let o=e.state.facet(je).map((t=>t(e)));for(;;){let e=!1;for(let i of o)i.between(n.from-1,n.from+1,((o,i,a)=>{n.from>o&&n.from<i&&(n=t.from>n.from?r.EditorSelection.cursor(o,1):r.EditorSelection.cursor(i,-1),e=!0)}));if(!e)return n}}class wt{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Ct){let n=Ct[t];e.contentDOM.addEventListener(t,(r=>{Tt(e,r)&&!this.ignoreDuringComposition(r)&&("keydown"==t&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():n(e,r)))}),kt[t]),this.registeredEvents.push(t)}W.chrome&&102==W.chrome_version&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,W.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var n;let r;this.customHandlers=[];for(let o of t)if(r=null===(n=o.update(e).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let t in r)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{Tt(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}}runCustomHandlers(e,t,n){for(let o of this.customHandlers){let i=o.handlers[e];if(i)try{if(i.call(o.plugin,n,t)||n.defaultPrevented)return!0}catch(r){Te(t.state,r)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let o=r.handlers.scroll;if(o)try{o.call(r.plugin,t,e)}catch(n){Te(e.state,n)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(W.android&&W.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return!(!W.ios||!(n=Et.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,E(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(W.safari&&!W.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!W.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Et=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ot=[16,17,18,20,91,92,224,225];class St{constructor(e,t,n,o){this.view=e,this.style=n,this.mustSelect=o,this.lastEvent=t;let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(r.EditorState.allowMultipleSelections)&&function(e,t){let n=e.state.facet(ge);return n.length?n[0](t):W.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let n=e.state.facet(ye);return n.length?n[0](t):W.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=a(e.root);if(!r||0==r.rangeCount)return!0;let o=r.getRangeAt(0).getClientRects();for(let i=0;i<o.length;i++){let e=o[i];if(e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Ft(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Tt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=C.get(r))&&n.ignoreEvent(t))return!1;return!0}const Ct=Object.create(null),kt=Object.create(null),At=W.ie&&W.ie_version<15||W.ios&&W.webkit_version<604;function Pt(e,t){let n,{state:o}=e,i=1,a=o.toText(t),s=a.lines==o.selection.ranges.length;if(null!=Ht&&o.selection.ranges.every((e=>e.empty))&&Ht==a.toString()){let e=-1;n=o.changeByRange((n=>{let l=o.doc.lineAt(n.from);if(l.from==e)return{range:n};e=l.from;let u=o.toText((s?a.line(i++).text:t)+o.lineBreak);return{changes:{from:l.from,insert:u},range:r.EditorSelection.cursor(n.from+u.length)}}))}else n=s?o.changeByRange((e=>{let t=a.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:r.EditorSelection.cursor(e.from+t.length)}})):o.replaceSelection(a);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function xt(e,t,n,o){if(1==o)return r.EditorSelection.cursor(t,n);if(2==o)return function(e,t,n=1){let o=e.charCategorizer(t),i=e.doc.lineAt(t),a=t-i.from;if(0==i.length)return r.EditorSelection.cursor(t);0==a?n=1:a==i.length&&(n=-1);let s=a,l=a;n<0?s=r.findClusterBreak(i.text,a,!1):l=r.findClusterBreak(i.text,a);let u=o(i.text.slice(s,l));for(;s>0;){let e=r.findClusterBreak(i.text,s,!1);if(o(i.text.slice(e,s))!=u)break;s=e}for(;l<i.length;){let e=r.findClusterBreak(i.text,l);if(o(i.text.slice(l,e))!=u)break;l=e}return r.EditorSelection.range(s+i.from,l+i.from)}(e.state,t,n);{let n=de.find(e.docView,t),o=e.state.doc.lineAt(n?n.posAtEnd:t),i=n?n.posAtStart:o.from,a=n?n.posAtEnd:o.to;return a<e.state.doc.length&&a==o.to&&a++,r.EditorSelection.range(i,a)}}Ct.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Ot.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},Ct.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Ct.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},kt.touchstart=kt.touchmove={passive:!0},Ct.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3&&1==Ft(t))return;let n=null;for(let r of e.state.facet(ve))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=jt(e,t),o=Ft(t),i=e.state.selection,a=n,s=t;return{update(e){e.docChanged&&(n&&(n.pos=e.changes.mapPos(n.pos)),i=i.map(e.changes),s=null)},get(t,l,u){let c;if(s&&t.clientX==s.clientX&&t.clientY==s.clientY?c=a:(c=a=jt(e,t),s=t),!c||!n)return i;let d=xt(e,c.pos,c.bias,o);if(n.pos!=c.pos&&!l){let t=xt(e,n.pos,n.bias,o),i=Math.min(t.from,d.from),a=Math.max(t.to,d.to);d=i<d.from?r.EditorSelection.range(i,a):r.EditorSelection.range(a,i)}return l?i.replaceRange(i.main.extend(d.from,d.to)):u&&i.ranges.length>1&&i.ranges.some((e=>e.eq(d)))?function(e,t){for(let n=0;;n++)if(e.ranges[n].eq(t))return r.EditorSelection.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}(i,d):u?i.addRange(d):r.EditorSelection.create([d])}}}(e,t)),n){let r=e.root.activeElement!=e.contentDOM;r&&e.observer.ignore((()=>_(e.contentDOM))),e.inputState.startMouseSelection(new St(e,t,n,r))}};let It=(e,t)=>e>=t.top&&e<=t.bottom,Rt=(e,t,n)=>It(t,n)&&e>=n.left&&e<=n.right;function Dt(e,t,n,r){let o=de.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let a=o.coordsAt(i,-1);if(a&&Rt(n,r,a))return-1;let s=o.coordsAt(i,1);return s&&Rt(n,r,s)?1:a&&It(r,a)?-1:1}function jt(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Dt(e,n,t.clientX,t.clientY)}}const Nt=W.ie&&W.ie_version<=11;let Lt=null,Mt=0,Bt=0;function Ft(e){if(!Nt)return e.detail;let t=Lt,n=Bt;return Lt=e,Bt=Date.now(),Mt=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Mt+1)%3:1}function Ut(e,t,n,r){if(!n)return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:i}=e.inputState,a=r&&i&&i.dragging&&i.dragMove?{from:i.dragging.from,to:i.dragging.to}:null,s={from:o,insert:n},l=e.state.changes(a?[a,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:a?"move.drop":"input.drop"})}Ct.dragstart=(e,t)=>{let{selection:{main:n}}=e.state,{mouseSelection:r}=e.inputState;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},Ct.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();let r=Array(n.length),o=0,i=()=>{++o==n.length&&Ut(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),i()},t.readAsText(n[e])}}else Ut(e,t,t.dataTransfer.getData("Text"),!0)},Ct.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let n=At?null:t.clipboardData;n?(Pt(e,n.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Pt(e,n.value)}),50)}(e)};let Ht=null;function Wt(e){setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}function qt(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}Ct.copy=Ct.cut=(e,t)=>{let{text:n,ranges:r,linewise:o}=function(e){let t=[],n=[],r=!1;for(let o of e.selection.ranges)o.empty||(t.push(e.sliceDoc(o.from,o.to)),n.push(o));if(!t.length){let o=-1;for(let{from:r}of e.selection.ranges){let i=e.doc.lineAt(r);i.number>o&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}(e.state);if(!n&&!o)return;Ht=o?n:null;let i=At?null:t.clipboardData;i?(t.preventDefault(),i.clearData(),i.setData("text/plain",n)):function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})},Ct.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Wt(e)},Ct.blur=e=>{e.observer.clearSelectionRange(),Wt(e)},Ct.compositionstart=Ct.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),qt(e,!0)))},Ct.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&qt(e,!1)}),50)},Ct.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Ct.beforeinput=(e,t)=>{var n;let r;if(W.chrome&&W.android&&(r=Et.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const zt=["pre-wrap","normal","pre-line","break-spaces"];class Vt{constructor(){this.doc=r.Text.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return zt.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,o){let i=zt.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=i;if(this.lineWrapping=i,this.lineHeight=t,this.charWidth=n,this.lineLength=r,a){this.heightSamples={};for(let e=0;e<o.length;e++){let t=o[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class Gt{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class $t{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new $t(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Kt;!function(e){e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight"}(Kt||(Kt={}));const Yt=.001;class Xt{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Yt&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return Xt.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this;for(let i=r.length-1;i>=0;i--){let{fromA:a,toA:s,fromB:l,toB:u}=r[i],c=o.lineAt(a,Kt.ByPosNoHeight,t,0,0),d=c.to>=s?c:o.lineAt(s,Kt.ByPosNoHeight,t,0,0);for(u+=d.to-s,s=d.to;i>0&&c.from<=r[i-1].toA;)a=r[i-1].fromA,l=r[i-1].fromB,i--,a<c.from&&(c=o.lineAt(a,Kt.ByPosNoHeight,t,0,0));l+=c.from-a,a=c.from;let f=nn.build(n,e,l,u);o=o.replace(a,s,f)}return o.updateHeight(n,0)}static empty(){return new Zt(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else{if(!(o>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,o-=t.size}}else if(r<o){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new en(Xt.of(e.slice(0,t)),i,Xt.of(e.slice(n)))}}Xt.prototype.size=1;class Jt extends Xt{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,r){return new $t(r,this.length,n,this.height,this.type)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,i){e<=o+this.length&&t>=o&&i(this.blockAt(0,n,r,o))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Zt extends Jt{constructor(e,n){super(e,n,t.BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof Zt||r instanceof Qt&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Qt?r=new Zt(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Xt.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qt extends Xt{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}blockAt(e,n,r,o){let{firstLine:i,lastLine:a,lineHeight:s}=this.lines(n,o),l=Math.max(0,Math.min(a-i,Math.floor((e-r)/s))),{from:u,length:c}=n.line(i+l);return new $t(u,c,r+s*l,s,t.BlockType.Text)}lineAt(e,n,r,o,i){if(n==Kt.ByHeight)return this.blockAt(e,r,o,i);if(n==Kt.ByPosNoHeight){let{from:n,to:o}=r.lineAt(e);return new $t(n,o-n,0,0,t.BlockType.Text)}let{firstLine:a,lineHeight:s}=this.lines(r,i),{from:l,length:u,number:c}=r.lineAt(e);return new $t(l,u,o+s*(c-a),s,t.BlockType.Text)}forEachLine(e,n,r,o,i,a){let{firstLine:s,lineHeight:l}=this.lines(r,i);for(let u=Math.max(e,i),c=Math.min(i+this.length,n);u<=c;){let n=r.lineAt(u);u==e&&(o+=l*(n.number-s)),a(new $t(n.from,n.length,o,l,t.BlockType.Text)),o+=l,u=n.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof Qt?n[n.length-1]=new Qt(e.length+r):n.push(null,new Qt(r-1))}if(e>0){let t=n[0];t instanceof Qt?n[0]=new Qt(e+t.length):n.unshift(new Qt(e-1),null)}return Xt.of(n)}decomposeLeft(e,t){t.push(new Qt(e-1),null)}decomposeRight(e,t){t.push(null,new Qt(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],i=Math.max(t,r.from),a=-1,s=e.heightChanged;for(r.from>t&&n.push(new Qt(r.from-t-1).updateHeight(e,t));i<=o&&r.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let o=r.heights[r.index++];-1==a?a=o:Math.abs(o-a)>=Yt&&(a=-2);let s=new Zt(t,o);s.outdated=!1,n.push(s),i+=t+1}i<=o&&n.push(null,new Qt(o-i).updateHeight(e,i));let l=Xt.of(n);return e.heightChanged=s||a<0||Math.abs(l.height-this.height)>=Yt||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Yt,l}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class en extends Xt{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let i=r+this.left.height,a=o+this.left.length+this.break,s=t==Kt.ByHeight?e<i:e<a,l=s?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,i,a);if(this.break||(s?l.to<a:l.from>a))return l;let u=t==Kt.ByPosNoHeight?Kt.ByPosNoHeight:Kt.ByPos;return s?l.join(this.right.lineAt(a,u,n,i,a)):this.left.lineAt(a,u,n,r,o).join(l)}forEachLine(e,t,n,r,o,i){let a=r+this.left.height,s=o+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,o,i),t>=s&&this.right.forEachLine(e,t,n,a,s,i);else{let l=this.lineAt(s,Kt.ByPos,n,r,o);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,a,s,i)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let a of n)o.push(a);if(e>0&&tn(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),tn(o,e)}return Xt.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Xt.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:o,right:i}=this,a=t+o.length+this.break,s=null;return r&&r.from<=t+o.length&&r.more?s=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=a+i.length&&r.more?s=i=i.updateHeight(e,a,n,r):i.updateHeight(e,a,n),s?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function tn(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof Qt&&(r=e[t+1])instanceof Qt&&e.splice(t-1,3,new Qt(n.length+1+r.length))}class nn{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Zt?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Zt(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new Jt(o,r,n.type)):(o||r>=5)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Zt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Qt(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Zt)return e;let t=new Zt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=t.BlockType.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=t.BlockType.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Zt||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Zt(0,-1));let n=e;for(let r of this.nodes)r instanceof Zt&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,t,n,o){let i=new nn(n,e);return r.RangeSet.spans(t,n,o,i,0),i.finish(n)}}class rn{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&ce(e,t,this.changes,5)}}function on(e,t){let n=e.getBoundingClientRect(),r=Math.max(0,n.left),o=Math.min(innerWidth,n.right),i=Math.max(0,n.top),a=Math.min(innerHeight,n.bottom),s=e.ownerDocument.body;for(let l=e.parentNode;l&&l!=s;)if(1==l.nodeType){let e=l,t=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=t.overflow){let t=e.getBoundingClientRect();r=Math.max(r,t.left),o=Math.min(o,t.right),i=Math.max(i,t.top),a=Math.min(a,t.bottom)}l="absolute"==t.position||"fixed"==t.position?e.offsetParent:e.parentNode}else{if(11!=l.nodeType)break;l=l.host}return{left:r-n.left,right:Math.max(r,o)-n.left,top:i-(n.top+t),bottom:Math.max(i,a)-(n.top+t)}}function an(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class sn{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return ie.replace({widget:new ln(this.size,e)}).range(this.from,this.to)}}class ln extends re{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class un{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Vt,this.scaler=gn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=t.Direction.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(De).filter((e=>"function"!=typeof e)),this.heightMap=Xt.empty().applyChanges(this.stateDeco,r.Text.empty,this.heightOracle.setDoc(e.doc),[new Me(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ie.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new cn(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?gn:new yn(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:vn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(De).filter((e=>"function"!=typeof e));let o=e.changedRanges,i=Me.extendWithRanges(o,function(e,t,n){let o=new rn;return r.RangeSet.compare(e,t,n,o,0),o.changes}(n,this.stateDeco,e?e.changes:r.ChangeSet.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=a&&(e.flags|=2);let s=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),o=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?t.Direction.RTL:t.Direction.LTR;let a=this.heightOracle.mustRefreshForWrapping(i),s=a||this.mustMeasureContent||this.contentDOMHeight!=n.clientHeight;this.contentDOMHeight=n.clientHeight,this.mustMeasureContent=!1;let l=0,u=0,c=parseInt(r.paddingTop)||0,d=parseInt(r.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==d||(this.paddingTop=c,this.paddingBottom=d,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8);let f=(this.printing?an:on)(n,this.paddingTop),p=f.top-this.pixelViewport.top,h=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(s=!0)),!this.inView)return 0;let g=n.clientWidth;if(this.contentDOMWidth==g&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=g,this.editorHeight=e.scrollDOM.clientHeight,l|=8),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(t)&&(a=!0),a||o.lineWrapping&&Math.abs(g-this.contentDOMWidth)>o.charWidth){let{lineHeight:n,charWidth:r}=e.docView.measureTextSize();a=o.refresh(i,n,r,g/r,t),a&&(e.docView.minWidth=0,l|=8)}p>0&&h>0?u=Math.max(p,h):p<0&&h<0&&(u=Math.min(p,h)),o.heightChanged=!1;for(let n of this.viewports){let r=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=this.heightMap.updateHeight(o,0,a,new Gt(n.from,r))}o.heightChanged&&(l|=2)}let y=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(2&l||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:i,visibleBottom:a}=this,s=new cn(r.lineAt(i-1e3*n,Kt.ByHeight,o,0,0).from,r.lineAt(a+1e3*(1-n),Kt.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<s.from||e>s.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=r.lineAt(e,Kt.ByPos,o,0,0);n="center"==t.y?(a.top+a.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<s.from?a.top:a.bottom-i,s=new cn(r.lineAt(n-500,Kt.ByHeight,o,0,0).from,r.lineAt(n+i+500,Kt.ByHeight,o,0,0).to)}}return s}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new cn(this.heightMap.lineAt(n,Kt.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Kt.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Kt.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,Kt.ByPos,this.state.doc,0,0),{visibleTop:i,visibleBottom:a}=this;return(0==e||r<=i-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&r>i-2e3&&o<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new sn(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e){let n=[];if(this.defaultTextDirection!=t.Direction.LTR)return n;for(let t of this.viewportLines){if(t.length<4e3)continue;let r,o,i=dn(t.from,t.to,this.stateDeco);if(i.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;r=fn(i,(this.visibleTop-t.top-e)/t.height),o=fn(i,(this.visibleBottom-t.top+e)/t.height)}else{let e=i.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;r=fn(i,(this.pixelViewport.left-t)/e),o=fn(i,(this.pixelViewport.right+t)/e)}let a=[];r>t.from&&a.push({from:t.from,to:r}),o<t.to&&a.push({from:o,to:t.to});let s=this.state.selection.main;s.from>=t.from&&s.from<=t.to&&hn(a,s.from-10,s.from+10),!s.empty&&s.to>=t.from&&s.to<=t.to&&hn(a,s.to-10,s.to+10);for(let{from:l,to:u}of a)u-l>1e3&&n.push(mn(e,(e=>e.from>=t.from&&e.to<=t.to&&Math.abs(e.from-l)<1e3&&Math.abs(e.to-u)<1e3))||new sn(l,u,this.gapSize(t,l,u,i)))}return n}gapSize(e,t,n,r){let o=pn(r,n)-pn(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){sn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ie.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];r.RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||vn(this.heightMap.lineAt(e,Kt.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return vn(this.heightMap.lineAt(this.scaler.fromDOM(e),Kt.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return vn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class cn{constructor(e,t){this.from=e,this.to=t}}function dn(e,t,n){let o=[],i=e,a=0;return r.RangeSet.spans(n,e,t,{span(){},point(e,t){e>i&&(o.push({from:i,to:e}),a+=e-i),i=t}},20),i<t&&(o.push({from:i,to:t}),a+=t-i),{total:a,ranges:o}}function fn({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let o=0;;o++){let{from:e,to:n}=t[o],i=n-e;if(r<=i)return e+r;r-=i}}function pn(e,t){let n=0;for(let{from:r,to:o}of e.ranges){if(t<=o){n+=t-r;break}n+=o-r}return n/e.total}function hn(e,t,n){for(let r=0;r<e.length;r++){let o=e[r];if(o.from<n&&o.to>t){let i=[];o.from<t&&i.push({from:o.from,to:t}),o.to>n&&i.push({from:n,to:o.to}),e.splice(r,1,...i),r+=i.length-1}}}function mn(e,t){for(let n of e)if(t(n))return n}const gn={toDOM:e=>e,fromDOM:e=>e,scale:1};class yn{constructor(e,t,n){let r=0,o=0,i=0;this.viewports=n.map((({from:n,to:o})=>{let i=t.lineAt(n,Kt.ByPos,e,0,0).top,a=t.lineAt(o,Kt.ByPos,e,0,0).bottom;return r+=a-i,{from:n,to:o,top:i,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=i+(a.top-o)*this.scale,i=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}}function vn(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new $t(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((e=>vn(e,t))):e.type)}const bn=r.Facet.define({combine:e=>e.join(" ")}),_n=r.Facet.define({combine:e=>e.indexOf(!0)>-1}),wn=o.StyleModule.newName(),En=o.StyleModule.newName(),On=o.StyleModule.newName(),Sn={"&light":"."+En,"&dark":"."+On};function Tn(e,t,n){return new o.StyleModule(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const Cn=Tn("."+wn,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Sn),kn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},An=W.ie&&W.ie_version<=11;class Pn{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.selectionRange=new y,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(W.ie&&W.ie_version<=11||W.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),An&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,n=this.selectionRange;if(t.state.facet(Ce)?t.root.activeElement!=this.dom:!l(t.dom,n))return;let r=n.anchorNode&&t.docView.nearest(n.anchorNode);r&&r.ignoreEvent(e)||((W.ie&&W.ie_version<=11||W.android&&W.chrome)&&!t.state.selection.main.empty&&n.focusNode&&c(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:e}=this,t=W.safari&&11==e.root.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,s=e.docView.domAtPos(e.state.selection.main.anchor);c(s.node,s.offset,i,a)&&([r,o,i,a]=[i,a,r,o]);return{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:a}}(this.view)||a(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=l(this.dom,t);return n&&!this.selectionChanged&&this.selectionRange.focusNode&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(;;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=p(n))}else{if(n==e)return!0;r=d(n),n=n.parentNode}}(this.dom,t)?(e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,kn),An&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),An&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||E(this.dom,e.key,e.keyCode)})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:n,typeOver:r}=this.processRecords(),o=this.selectionChanged&&l(this.dom,this.selectionRange);if(t<0&&!o)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=this.view.state,a=this.onChange(t,n,r);return this.view.state==i&&this.view.update([]),a}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let n=xn(t,e.previousSibling||e.target.previousSibling,-1),r=xn(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function xn(e,t,n){for(;t;){let r=C.get(t);if(r&&r.parent==e)return r;let o=t.parentNode;t=o!=e.dom?o:n>0?t.nextSibling:t.previousSibling}return null}function In(e,t,n,o){let i,a,l=e.state.selection.main;if(t>-1){let o=e.docView.domBoundsAround(t,n,0);if(!o||e.state.readOnly)return!1;let{from:s,to:u}=o,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=e.observer.selectionRange;n&&(t.push(new rt(n,r)),o==n&&i==r||t.push(new rt(o,i)));return t}(e),d=new tt(c,e.state);d.readRange(o.startDOM,o.endDOM);let f=l.from,p=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||W.android&&d.text.length<u-s)&&(f=l.to,p="end");let h=function(e,t,n,r){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let a=e.length,s=t.length;for(;a>0&&s>0&&e.charCodeAt(a-1)==t.charCodeAt(s-1);)a--,s--;if("end"==r){n-=a+Math.max(0,i-Math.min(a,s))-i}if(a<i&&e.length<t.length){i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i}else if(s<i){i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i}return{from:i,toA:a,toB:s}}(e.state.doc.sliceString(s,u,et),d.text,f-s,p);h&&(W.chrome&&13==e.inputState.lastKeyCode&&h.toB==h.from+2&&"￿￿"==d.text.slice(h.from,h.toB)&&h.toB--,i={from:s+h.from,to:s+h.toA,insert:r.Text.of(d.text.slice(h.from,h.toB).split(et))}),a=function(e,t){if(0==e.length)return null;let n=e[0].pos,o=2==e.length?e[1].pos:n;return n>-1&&o>-1?r.EditorSelection.single(n+t,o+t):null}(c,s)}else if(e.hasFocus||!e.state.facet(Ce)){let t=e.observer.selectionRange,{impreciseHead:n,impreciseAnchor:o}=e.docView,i=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!s(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),u=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!s(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);i==l.head&&u==l.anchor||(a=r.EditorSelection.single(u,i))}if(!i&&!a)return!1;if(!i&&o&&!l.empty&&a&&a.main.empty?i={from:l.from,to:l.to,insert:e.state.doc.slice(l.from,l.to)}:i&&i.from>=l.from&&i.to<=l.to&&(i.from!=l.from||i.to!=l.to)&&l.to-l.from-(i.to-i.from)<=4?i={from:l.from,to:l.to,insert:e.state.doc.slice(l.from,i.from).append(i.insert).append(e.state.doc.slice(i.to,l.to))}:(W.mac||W.android)&&i&&i.from==i.to&&i.from==l.head-1&&"."==i.insert.toString()&&(i={from:l.from,to:l.to,insert:r.Text.of([" "])}),i){let t=e.state;if(W.ios&&e.inputState.flushIOSKey(e))return!0;if(W.android&&(i.from==l.from&&i.to==l.to&&1==i.insert.length&&2==i.insert.lines&&E(e.contentDOM,"Enter",13)||i.from==l.from-1&&i.to==l.to&&0==i.insert.length&&E(e.contentDOM,"Backspace",8)||i.from==l.from&&i.to==l.to+1&&0==i.insert.length&&E(e.contentDOM,"Delete",46)))return!0;let n,o=i.insert.toString();if(e.state.facet(we).some((t=>t(e,i.from,i.to,o))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,i.from>=l.from&&i.to<=l.to&&i.to-i.from>=(l.to-l.from)/3&&(!a||a.main.empty&&a.main.from==i.from+i.insert.length)&&e.inputState.composing<0){let r=l.from<i.from?t.sliceDoc(l.from,i.from):"",o=l.to>i.to?t.sliceDoc(i.to,l.to):"";n=t.replaceSelection(e.state.toText(r+i.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let o=t.changes(i),s=a&&!t.selection.main.eq(a.main)&&a.main.to<=o.newLength?a.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&i.to<=l.to&&i.to>=l.to-10){let a=e.state.sliceDoc(i.from,i.to),u=at(e)||e.state.doc.lineAt(l.head),c=l.to-i.to,d=l.to-l.from;n=t.changeByRange((n=>{if(n.from==l.from&&n.to==l.to)return{changes:o,range:s||n.map(o)};let f=n.to-c,p=f-a.length;if(n.to-n.from!=d||e.state.sliceDoc(p,f)!=a||u&&n.to>=u.from&&n.from<=u.to)return{range:n};let h=t.changes({from:p,to:f,insert:i.insert}),m=n.to-l.to;return{changes:h,range:s?r.EditorSelection.range(Math.max(0,s.anchor+m),Math.max(0,s.head+m)):n.map(h)}}))}else n={changes:o,selection:s&&t.selection.replaceRange(s)}}let s="input.type";return e.composing&&(s+=".compose",e.inputState.compositionFirstChange&&(s+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(n,{scrollIntoView:!0,userEvent:s}),!0}if(a&&!a.main.eq(l)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:a,scrollIntoView:t,userEvent:n}),!0}return!1}class Rn{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new un(e.state||r.EditorState.create(e)),this.plugins=this.state.facet(Ae).map((e=>new xe(e)));for(let t of this.plugins)t.update(this);this.observer=new Pn(this,((e,t,n)=>In(this,e,t,n)),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new wt(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new ot(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof r.Transaction?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,o=!1,i=this.state;for(let r of e){if(r.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=r.state}if(this.destroyed)return void(this.viewState.state=i);if(this.observer.clear(),i.facet(r.EditorState.phrases)!=this.state.facet(r.EditorState.phrases))return this.setState(i);t=Be.create(this,i,e);let a=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(a&&(a=a.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;a=new Oe(e.empty?e:r.EditorSelection.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Se)&&(a=e.value)}this.viewState.update(t,a),this.bidiCache=Nn.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(Le)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(bn)!=t.state.facet(bn)&&(this.viewState.mustMeasureContent=!0),(n||o||a||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let r of this.state.facet(_e))r(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new un(e),this.plugins=e.facet(Ae).map((e=>new xe(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new ot(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ae),n=e.state.facet(Ae);if(t!=n){let r=[];for(let o of n){let n=t.indexOf(o);if(n<0)r.push(new xe(o));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null;try{for(let e=0;;e++){this.updateState=1;let r=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let i=[];4&o||([this.measureRequests,i]=[i,this.measureRequests]);let a=i.map((e=>{try{return e.read(this)}catch(t){return Te(this.state,t),jn}})),s=Be.create(this,this.state,[]),l=!1,u=!1;s.flags|=o,t?t.flags|=o:t=s,this.updateState=2,s.empty||(this.updatePlugins(s),this.inputState.update(s),this.updateAttrs(),l=this.docView.update(s));for(let e=0;e<i.length;e++)if(a[e]!=jn)try{let t=i[e];t.write&&t.write(a[e],this)}catch(n){Te(this.state,n)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),l&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!u&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let r of this.state.facet(_e))r(t)}get themeClasses(){return wn+" "+(this.state.facet(_n)?On:En)+" "+this.state.facet(bn)}updateAttrs(){let e=Ln(this,Ie,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ce)?"true":"false",class:"cm-content",style:`${W.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Ln(this,Re,t);let n=this.observer.ignore((()=>{let n=ne(this.contentDOM,this.contentAttrs,t),r=ne(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(Rn.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(Le),o.StyleModule.mount(this.root,this.styleModules.concat(Cn).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return _t(this,e,bt(this,e,t,n))}moveByGroup(e,t){return _t(this,e,bt(this,e,t,(t=>function(e,t,n){let o=e.state.charCategorizer(t),i=o(n);return e=>{let t=o(e);return i==r.CharCategory.Space&&(i=t),i==t}}(this,e.head,t))))}moveToLineBoundary(e,n,o=!0){return function(e,n,o,i){let a=e.state.doc.lineAt(n.head),s=i&&e.lineWrapping?e.coordsAtPos(n.assoc<0&&n.head>a.from?n.head-1:n.head):null;if(s){let n=e.dom.getBoundingClientRect(),i=e.textDirectionAt(a.from),l=e.posAtCoords({x:o==(i==t.Direction.LTR)?n.right-1:n.left+1,y:(s.top+s.bottom)/2});if(null!=l)return r.EditorSelection.cursor(l,o?-1:1)}let l=de.find(e.docView,n.head),u=l?o?l.posAtEnd:l.posAtStart:o?a.to:a.from;return r.EditorSelection.cursor(u,o?-1:1)}(this,e,n,o)}moveVertically(e,t,n){return _t(this,e,function(e,t,n,o){let i=t.head,a=n?1:-1;if(i==(n?e.state.doc.length:0))return r.EditorSelection.cursor(i,t.assoc);let s,l=t.goalColumn,u=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i),d=e.documentTop;if(c)null==l&&(l=c.left-u.left),s=a<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(i);null==l&&(l=Math.min(u.right-u.left,e.defaultCharacterWidth*(i-t.from))),s=(a<0?t.top:t.bottom)+d}let f=u.left+l,p=null!=o?o:e.defaultLineHeight>>1;for(let h=0;;h+=10){let n=s+(p+h)*a,o=yt(e,{x:f,y:n},!1,a);if(n<u.top||n>u.bottom||(a<0?o<i:o>i))return r.EditorSelection.cursor(o,t.assoc,void 0,l)}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),yt(this,e,t)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let o=this.state.doc.lineAt(e),i=this.bidiSpans(o);return m(r,i[Ke.find(i,e-o.from,-1,n)].dir==t.Direction.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ee)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Dn)return Je(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let n=Xe(e.text,t);return this.bidiCache.push(new Nn(e.from,e.to,t,n)),n}get hasFocus(){var e;return(document.hasFocus()||W.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{_(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Se.of(new Oe("number"==typeof e?r.EditorSelection.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Pe.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=o.StyleModule.newName(),r=[bn.of(n),Le.of(Tn(`.${n}`,e))];return t&&t.dark&&r.push(_n.of(!0)),r}static baseTheme(e){return r.Prec.lowest(Le.of(Tn("."+wn,e,Sn)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&C.get(n)||C.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}Rn.styleModule=Le,Rn.inputHandler=we,Rn.perLineTextDirection=Ee,Rn.exceptionSink=be,Rn.updateListener=_e,Rn.editable=Ce,Rn.mouseSelectionStyle=ve,Rn.dragMovesSelection=ye,Rn.clickAddsSelectionRange=ge,Rn.decorations=De,Rn.atomicRanges=je,Rn.scrollMargins=Ne,Rn.darkTheme=_n,Rn.contentAttributes=Re,Rn.editorAttributes=Ie,Rn.lineWrapping=Rn.contentAttributes.of({class:"cm-lineWrapping"}),Rn.announce=r.StateEffect.define();const Dn=4096,jn={};class Nn{constructor(e,t,n,r){this.from=e,this.to=t,this.dir=n,this.order=r}static update(e,n){if(n.empty)return e;let r=[],o=e.length?e[e.length-1].dir:t.Direction.LTR;for(let t=Math.max(0,e.length-10);t<e.length;t++){let i=e[t];i.dir!=o||n.touchesRange(i.from,i.to)||r.push(new Nn(n.mapPos(i.from,1),n.mapPos(i.to,-1),i.dir,i.order))}return r}}function Ln(e,t,n){for(let r=e.state.facet(t),o=r.length-1;o>=0;o--){let t=r[o],i="function"==typeof t?t(e):t;i&&ee(i,n)}return n}const Mn=W.mac?"mac":W.windows?"win":W.linux?"linux":"key";function Bn(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const Fn=r.Prec.default(Rn.domEventHandlers({keydown:(e,t)=>zn(Wn(t.state),e,t,"editor")})),Un=r.Facet.define({enables:Fn}),Hn=new WeakMap;function Wn(e){let t=e.facet(Un),n=Hn.get(t);return n||Hn.set(t,n=function(e,t=Mn){let n=Object.create(null),r=Object.create(null),o=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,r,i,a)=>{let s=n[e]||(n[e]=Object.create(null)),l=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,o,i,a,s=n[n.length-1];"Space"==s&&(s=" ");for(let l=0;l<n.length-1;++l){const e=n[l];if(/^(cmd|meta|m)$/i.test(e))a=!0;else if(/^a(lt)?$/i.test(e))r=!0;else if(/^(c|ctrl|control)$/i.test(e))o=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);"mac"==t?a=!0:o=!0}}return r&&(s="Alt-"+s),o&&(s="Ctrl-"+s),a&&(s="Meta-"+s),i&&(s="Shift-"+s),s}(e,t)));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(" ");o(n,!0),s[n]||(s[n]={preventDefault:!0,commands:[t=>{let r=qn={view:t,prefix:n,scope:e};return setTimeout((()=>{qn==r&&(qn=null)}),4e3),!0}]})}let u=l.join(" ");o(u,!1);let c=s[u]||(s[u]={preventDefault:!1,commands:[]});c.commands.push(i),a&&(c.preventDefault=!0)};for(let a of e){let e=a[t]||a.key;if(e)for(let t of a.scope?a.scope.split(" "):["editor"])i(t,e,a.run,a.preventDefault),a.shift&&i(t,"Shift-"+e,a.shift,a.preventDefault)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let qn=null;function zn(e,t,n,o){let a=i.keyName(t),s=r.codePointAt(a,0),l=r.codePointSize(s)==a.length&&" "!=a,u="",c=!1;qn&&qn.view==n&&qn.scope==o&&(u=qn.prefix+" ",(c=Ot.indexOf(t.keyCode)<0)&&(qn=null));let d,f=e=>{if(e){for(let t of e.commands)if(t(n))return!0;e.preventDefault&&(c=!0)}return!1},p=e[o];if(p){if(f(p[u+Bn(a,t,!l)]))return!0;if(l&&(t.shiftKey||t.altKey||t.metaKey||s>127)&&(d=i.base[t.keyCode])&&d!=a){if(f(p[u+Bn(d,t,!0)]))return!0;if(t.shiftKey&&i.shift[t.keyCode]!=d&&f(p[u+Bn(i.shift[t.keyCode],t,!1)]))return!0}else if(l&&t.shiftKey&&f(p[u+Bn(a,t,!0)]))return!0}return c}const Vn=!W.ios,Gn=r.Facet.define({combine:e=>r.combineConfig(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});class $n{constructor(e,t,n,r,o){this.left=e,this.top=t,this.width=n,this.height=r,this.className=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const Kn=Pe.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Gn).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(Gn)!=e.state.facet(Gn);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,n=e.facet(Gn),r=e.selection.ranges.map((e=>e.empty?[]:function(e,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),o=Math.min(n.to,e.viewport.to),i=e.textDirection==t.Direction.LTR,a=e.contentDOM,s=a.getBoundingClientRect(),l=Jn(e),u=window.getComputedStyle(a.firstChild),c=s.left+parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)),d=s.right-parseInt(u.paddingRight),f=Qn(e,r),p=Qn(e,o),h=f.type==t.BlockType.Text?f:null,m=p.type==t.BlockType.Text?p:null;e.lineWrapping&&(h&&(h=Zn(e,r,h)),m&&(m=Zn(e,o,m)));if(h&&m&&h.from==m.from)return y(v(n.from,n.to,h));{let r=h?v(n.from,null,h):b(f,!1),o=m?v(null,n.to,m):b(p,!0),i=[];return(h||f).to<(m||p).from-1?i.push(g(c,r.bottom,d,o.top)):r.bottom<o.top&&e.elementAtHeight((r.bottom+o.top)/2).type==t.BlockType.Text&&(r.bottom=o.top=(r.bottom+o.top)/2),y(r).concat(i).concat(y(o))}function g(e,t,n,r){return new $n(e-l.left,t-l.top-.01,n-e,r-t+.01,"cm-selectionBackground")}function y({top:e,bottom:t,horizontal:n}){let r=[];for(let o=0;o<n.length;o+=2)r.push(g(n[o],e,n[o+1],t));return r}function v(n,r,o){let a=1e9,s=-1e9,l=[];function u(n,r,u,f,p){let h=e.coordsAtPos(n,n==o.to?-2:2),m=e.coordsAtPos(u,u==o.from?2:-2);a=Math.min(h.top,m.top,a),s=Math.max(h.bottom,m.bottom,s),p==t.Direction.LTR?l.push(i&&r?c:h.left,i&&f?d:m.right):l.push(!i&&f?c:m.left,!i&&r?d:h.right)}let f=null!=n?n:o.from,p=null!=r?r:o.to;for(let t of e.visibleRanges)if(t.to>f&&t.from<p)for(let o=Math.max(t.from,f),i=Math.min(t.to,p);;){let t=e.state.doc.lineAt(o);for(let a of e.bidiSpans(t)){let e=a.from+t.from,s=a.to+t.from;if(e>=i)break;s>o&&u(Math.max(e,o),null==n&&e<=f,Math.min(s,i),null==r&&s>=p,a.dir)}if(o=t.to+1,o>=i)break}return 0==l.length&&u(f,null==n,p,null==r,e.textDirection),{top:a,bottom:s,horizontal:l}}function b(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),o=[];for(let t of e.selection.ranges){let r=t==e.selection.main;if(t.empty?!r||Vn:n.drawRangeCursor){let e=er(this.view,t,r);e&&o.push(e)}}return{rangePieces:r,cursors:o}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,n)=>t.adjust(e[n])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Yn={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Vn&&(Yn[".cm-line"].caretColor="transparent !important");const Xn=r.Prec.highest(Rn.theme(Yn));function Jn(e){let n=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==t.Direction.LTR?n.left:n.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:n.top-e.scrollDOM.scrollTop}}function Zn(e,n,o){let i=r.EditorSelection.cursor(n);return{from:Math.max(o.from,e.moveToLineBoundary(i,!1,!0).from),to:Math.min(o.to,e.moveToLineBoundary(i,!0,!0).from),type:t.BlockType.Text}}function Qn(e,n){let r=e.lineBlockAt(n);if(Array.isArray(r.type))for(let o of r.type)if(o.to>n||o.to==n&&(o.to==r.to||o.type==t.BlockType.Text))return o;return r}function er(e,t,n){let r=e.coordsAtPos(t.head,t.assoc||1);if(!r)return null;let o=Jn(e);return new $n(r.left-o.left,r.top-o.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const tr=r.StateEffect.define({map:(e,t)=>null==e?null:t.mapPos(e)}),nr=r.StateField.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(tr)?t.value:e),e))}),rr=Pe.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(nr);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(nr)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(nr),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(nr)!=e&&this.view.dispatch({effects:tr.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function or(e,t,n,r,o){t.lastIndex=0;for(let i,a=e.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;i=t.exec(a.value);)o(s+i.index,i)}class ir{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:o,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,o)=>r(o,n,n+e[0].length,e,t);else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");{let e="function"==typeof n?n:()=>n;this.addMatch=(t,n,r,o)=>o(r,r+t[0].length,e(t,n,r))}}this.boundary=o,this.maxLength=i}createDeco(e){let t=new r.RangeSetBuilder,n=t.add.bind(t);for(let{from:r,to:o}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}(e,this.maxLength))or(e.state.doc,this.regexp,r,o,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,o,i,a)=>{a>e.view.viewport.from&&i<e.view.viewport.to&&(n=Math.min(i,n),r=Math.max(a,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let o of e.visibleRanges){let i=Math.max(o.from,n),a=Math.min(o.to,r);if(a>i){let n=e.state.doc.lineAt(i),r=n.to<a?e.state.doc.lineAt(a):n,s=Math.max(o.from,n.from),l=Math.min(o.to,r.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){s=i;break}for(;a<r.to;a++)if(this.boundary.test(r.text[a-r.from])){l=a;break}}let u,c=[],d=(e,t,n)=>c.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=s-n.from;(u=this.regexp.exec(n.text))&&u.index<l-n.from;)this.addMatch(u,e,u.index+n.from,d);else or(e.state.doc,this.regexp,s,l,((t,n)=>this.addMatch(n,e,t,d)));t=t.update({filterFrom:s,filterTo:l,filter:(e,t)=>e<s||t>l,add:c})}}return t}}const ar=null!=/x/.unicode?"gu":"g",sr=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",ar),lr={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ur=null;const cr=r.Facet.define({combine(e){let t=r.combineConfig(e,{render:null,specialChars:sr,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==ur&&"undefined"!=typeof document&&document.body){let t=document.body.style;ur=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return ur||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,ar)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,ar)),t}});let dr=null;class fr extends re{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=(n=this.code)>=32?"•":10==n?"␤":String.fromCharCode(9216+n);var n;let r=e.state.phrase("Control character")+" "+(lr[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,r,t);if(o)return o;let i=document.createElement("span");return i.textContent=t,i.title=r,i.setAttribute("aria-label",r),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class pr extends re{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const hr=Pe.fromClass(class{constructor(){this.height=1e3,this.attrs={style:"padding-bottom: 1000px"}}update(e){let t=e.view.viewState.editorHeight-e.view.defaultLineHeight;t!=this.height&&(this.height=t,this.attrs={style:`padding-bottom: ${t}px`})}});const mr=ie.line({class:"cm-activeLine"}),gr=Pe.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){if(!r.empty)return ie.none;let o=e.lineBlockAt(r.head);o.from>t&&(n.push(mr.range(o.from)),t=o.from)}return ie.set(n)}},{decorations:e=>e.decorations});class yr extends re{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}ignoreEvent(){return!1}}const vr=2e3;function br(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),o=e.state.doc.lineAt(n),i=n-o.from,a=i>vr?-1:i==o.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):r.countColumn(o.text,e.state.tabSize,n-o.from);return{line:o.number,col:a,off:i}}function _r(e,t){let n=br(e,t),o=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),r=e.state.doc.lineAt(t);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},o=o.map(e.changes)}},get(t,i,a){let s=br(e,t);if(!s)return o;let l=function(e,t,n){let o=Math.min(t.line,n.line),i=Math.max(t.line,n.line),a=[];if(t.off>vr||n.off>vr||t.col<0||n.col<0){let s=Math.min(t.off,n.off),l=Math.max(t.off,n.off);for(let t=o;t<=i;t++){let n=e.doc.line(t);n.length<=l&&a.push(r.EditorSelection.range(n.from+s,n.to+l))}}else{let s=Math.min(t.col,n.col),l=Math.max(t.col,n.col);for(let t=o;t<=i;t++){let n=e.doc.line(t),o=r.findColumn(n.text,s,e.tabSize,!0);if(o>-1){let t=r.findColumn(n.text,l,e.tabSize);a.push(r.EditorSelection.range(n.from+o,n.from+t))}}}return a}(e.state,n,s);return l.length?a?r.EditorSelection.create(l.concat(o.ranges)):r.EditorSelection.create(l):o}}:null}const wr={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},Er={style:"cursor: crosshair"};const Or="-10000px";class Sr{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e){let t=e.state.facet(this.facet),n=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let r=[];for(let o=0;o<n.length;o++){let t=n[o],i=-1;if(t){for(let e=0;e<this.tooltips.length;e++){let n=this.tooltips[e];n&&n.create==t.create&&(i=e)}if(i<0)r[o]=this.createTooltipView(t);else{let t=r[o]=this.tooltipViews[i];t.update&&t.update(e)}}}for(let o of this.tooltipViews)r.indexOf(o)<0&&o.dom.remove();return this.input=t,this.tooltips=n,this.tooltipViews=r,!0}}function Tr(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Cr=r.Facet.define({combine:e=>{var t,n,r;return{position:W.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Tr}}}),kr=Pe.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=e.state.facet(Cr);this.position=n.position,this.parent=n.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Sr(e,xr,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(Cr);if(r.position!=this.position){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Or,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:n}of this.manager.tooltipViews)n.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(Cr).tooltipSpace(this.view)}}writeMeasure(e){let{editor:n,space:r}=e,o=[];for(let i=0;i<this.manager.tooltips.length;i++){let a=this.manager.tooltips[i],s=this.manager.tooltipViews[i],{dom:l}=s,u=e.pos[i],c=e.size[i];if(!u||u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1){l.style.top=Or;continue}let d=a.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,f=d?7:0,p=c.right-c.left,h=c.bottom-c.top,m=s.offset||Pr,g=this.view.textDirection==t.Direction.LTR,y=c.width>r.right-r.left?g?r.left:r.right-c.width:g?Math.min(u.left-(d?14:0)+m.x,r.right-p):Math.max(r.left,u.left-p+(d?14:0)-m.x),v=!!a.above;!a.strictSide&&(v?u.top-(c.bottom-c.top)-m.y<r.top:u.bottom+(c.bottom-c.top)+m.y>r.bottom)&&v==r.bottom-u.bottom>u.top-r.top&&(v=!v);let b=v?u.top-h-f-m.y:u.bottom+f+m.y,_=y+p;if(!0!==s.overlap)for(let e of o)e.left<_&&e.right>y&&e.top<b+h&&e.bottom>b&&(b=v?e.top-h-2-f:e.bottom+f+2);"absolute"==this.position?(l.style.top=b-e.parent.top+"px",l.style.left=y-e.parent.left+"px"):(l.style.top=b+"px",l.style.left=y+"px"),d&&(d.style.left=u.left+(g?m.x:-m.x)-(y+14-7)+"px"),!0!==s.overlap&&o.push({left:y,top:b,right:_,bottom:b+h}),l.classList.toggle("cm-tooltip-above",v),l.classList.toggle("cm-tooltip-below",!v),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Or}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Ar=Rn.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Pr={x:0,y:0},xr=r.Facet.define({enables:[kr,Ar]}),Ir=r.Facet.define();class Rr{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Sr(e,Ir,(e=>this.createHostedView(e)))}static create(e){return new Rr(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const Dr=xr.compute([Ir],(e=>{let t=e.facet(Ir).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:Rr.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class jr{constructor(e,t,n,r,o){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==n)return;let r=this.view.coordsAtPos(n);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let o=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((e=>e.from<=n&&e.to>=n)),i=o&&o.dir==t.Direction.RTL?-1:1,a=this.source(this.view,n,e.x<r.left?-i:i);if(null==a?void 0:a.then){let e=this.pending={pos:n};a.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>Te(this.view.state,e,"hover tooltip")))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,o=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:r;(r==o?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,o,i){let a=document.createRange(),s=e.domAtPos(t),l=e.domAtPos(n);a.setEnd(l.node,l.offset),a.setStart(s.node,s.offset);let u=a.getClientRects();a.detach();for(let c=0;c<u.length;c++){let e=u[c];if(Math.max(e.top-o,o-e.bottom,e.left-r,r-e.right)<=i)return!0}return!1}(this.view,r,o,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Nr=r.StateEffect.define(),Lr=Nr.of(null);const Mr=r.Facet.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});const Br=Pe.fromClass(class{constructor(e){this.input=e.state.facet(Hr),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Mr);this.top=new Fr(e,!0,t.topContainer),this.bottom=new Fr(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(Mr);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Fr(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Fr(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Hr);if(n!=this.input){let t=n.filter((e=>e)),r=[],o=[],i=[],a=[];for(let n of t){let t,s=this.specs.indexOf(n);s<0?(t=n(e.view),a.push(t)):(t=this.panels[s],t.update&&t.update(e)),r.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=r,this.top.sync(o),this.bottom.sync(i);for(let e of a)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Rn.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class Fr{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Ur(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Ur(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Ur(e){let t=e.nextSibling;return e.remove(),t}const Hr=r.Facet.define({enables:Br});class Wr extends r.RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Wr.prototype.elementClass="",Wr.prototype.toDOM=void 0,Wr.prototype.mapMode=r.MapMode.TrackBefore,Wr.prototype.startSide=Wr.prototype.endSide=-1,Wr.prototype.point=!0;const qr=r.Facet.define(),zr={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>r.RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Vr=r.Facet.define();const Gr=r.Facet.define({combine:e=>e.some((e=>e))});function $r(e){let t=[Kr];return e&&!1===e.fixed&&t.push(Gr.of(!0)),t}const Kr=Pe.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(Vr).map((t=>new Zr(e,t)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(Gr),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Gr)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let n=this.dom.nextSibling;e&&this.dom.remove();let o=r.RangeSet.iter(this.view.state.facet(qr),this.view.viewport.from),i=[],a=this.gutters.map((e=>new Jr(e,this.view.viewport,-this.view.documentPadding.top)));for(let r of this.view.viewportLineBlocks){let e;if(Array.isArray(r.type)){for(let n of r.type)if(n.type==t.BlockType.Text){e=n;break}}else e=r.type==t.BlockType.Text?r:void 0;if(e){i.length&&(i=[]),Xr(o,i,r.from);for(let t of a)t.line(this.view,e,i)}}for(let t of a)t.finish();e&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(e){let t=e.startState.facet(Vr),n=e.state.facet(Vr),o=e.docChanged||e.heightChanged||e.viewportChanged||!r.RangeSet.eq(e.startState.facet(qr),e.state.facet(qr),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let r of this.gutters)r.update(e)&&(o=!0);else{o=!0;let r=[];for(let o of n){let n=t.indexOf(o);n<0?r.push(new Zr(this.view,o)):(this.gutters[n].update(e),r.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),r.indexOf(e)<0&&e.destroy();for(let e of r)this.dom.appendChild(e.dom);this.gutters=r}return o}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Rn.scrollMargins.of((n=>{let r=n.plugin(e);return r&&0!=r.gutters.length&&r.fixed?n.textDirection==t.Direction.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}:null}))});function Yr(e){return Array.isArray(e)?e:[e]}function Xr(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Jr{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=r.RangeSet.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),Xr(this.cursor,this.localMarkers,t.from);let r=n.length?this.localMarkers.concat(n):this.localMarkers,o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let i=this.gutter;if(0==r.length&&!i.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==i.elements.length){let n=new Qr(e,t.height,a,r);i.elements.push(n),i.dom.appendChild(n.dom)}else i.elements[this.i].update(e,t.height,a,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Zr{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let o=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[n](e,o,r)&&r.preventDefault()}));this.markers=Yr(t.markers(e)),t.initialSpacer&&(this.spacer=new Qr(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Yr(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!r.RangeSet.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Qr{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,i=0;;){let a=i,s=o<t.length?t[o++]:null,l=!1;if(s){let e=s.elementClass;e&&(n+=" "+e);for(let t=i;t<this.markers.length;t++)if(this.markers[t].compare(s)){a=t,l=!0;break}}else a=this.markers.length;for(;i<a;){let e=this.markers[i++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const eo=r.Facet.define(),to=r.Facet.define({combine:e=>r.combineConfig(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let r in t){let e=n[r],o=t[r];n[r]=e?(t,n,r)=>e(t,n,r)||o(t,n,r):o}return n}})});class no extends Wr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ro(e,t){return e.state.facet(to).formatNumber(t,e.state)}const oo=Vr.compute([to],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(eo),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new no(ro(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(to)!=e.state.facet(to),initialSpacer:e=>new no(ro(e,io(e.state.doc.lines))),updateSpacer(e,t){let n=ro(t.view,io(t.view.state.doc.lines));return n==e.number?e:new no(n)},domEventHandlers:e.facet(to).domEventHandlers})));function io(e){let t=9;for(;t<e;)t=10*t+9;return t}const ao=new class extends Wr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},so=qr.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges)if(r.empty){let o=e.doc.lineAt(r.head).from;o>n&&(n=o,t.push(ao.range(o)))}return r.RangeSet.of(t)}));const lo={HeightMap:Xt,HeightOracle:Vt,MeasuredHeights:Gt,QueryType:Kt,ChangedRange:Me,computeOrder:Xe,moveVisually:Qe};t.BidiSpan=Ke,t.BlockInfo=$t,t.Decoration=ie,t.EditorView=Rn,t.GutterMarker=Wr,t.MatchDecorator=ir,t.ViewPlugin=Pe,t.ViewUpdate=Be,t.WidgetType=re,t.__test=lo,t.closeHoverTooltips=Lr,t.crosshairCursor=function(e={}){let[t,n]=wr[e.key||"Alt"],r=Pe.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)}}});return[r,Rn.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?Er:null}))]},t.drawSelection=function(e={}){return[Gn.of(e),Kn,Xn]},t.dropCursor=function(){return[nr,rr]},t.getPanel=function(e,t){let n=e.plugin(Br),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null},t.getTooltip=function(e,t){let n=e.plugin(kr);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]},t.gutter=function(e){return[$r(),Vr.of(Object.assign(Object.assign({},zr),e))]},t.gutterLineClass=qr,t.gutters=$r,t.hasHoverTooltips=function(e){return e.facet(Ir).some((e=>e))},t.highlightActiveLine=function(){return gr},t.highlightActiveLineGutter=function(){return so},t.highlightSpecialChars=function(e={}){return[cr.of(e),dr||(dr=Pe.fromClass(class{constructor(e){this.view=e,this.decorations=ie.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(cr)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new ir({regexp:e.specialChars,decoration:(t,n,o)=>{let{doc:i}=n.state,a=r.codePointAt(t[0],0);if(9==a){let e=i.lineAt(o),t=n.state.tabSize,a=r.countColumn(e.text,t,o-e.from);return ie.replace({widget:new pr((t-a%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[a]||(this.decorationCache[a]=ie.replace({widget:new fr(e,a)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(cr);e.startState.facet(cr)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]},t.hoverTooltip=function(e,t={}){let n=r.StateEffect.define(),o=r.StateField.define({create:()=>null,update(e,o){if(e&&(t.hideOnChange&&(o.docChanged||o.selection)||t.hideOn&&t.hideOn(o,e)))return null;if(e&&o.docChanged){let t=o.changes.mapPos(e.pos,-1,r.MapMode.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);n.pos=t,null!=e.end&&(n.end=o.changes.mapPos(e.end)),e=n}for(let t of o.effects)t.is(n)&&(e=t.value),t.is(Nr)&&(e=null);return e},provide:e=>Ir.from(e)});return[o,Pe.define((r=>new jr(r,e,o,n,t.hoverTime||300))),Dr]},t.keymap=Un,t.lineNumberMarkers=eo,t.lineNumbers=function(e={}){return[to.of(e),$r(),oo]},t.logException=Te,t.panels=function(e){return e?[Mr.of(e)]:[]},t.placeholder=function(e){return Pe.fromClass(class{constructor(t){this.view=t,this.placeholder=ie.set([ie.widget({widget:new yr(e),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?ie.none:this.placeholder}},{decorations:e=>e.decorations})},t.rectangularSelection=function(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Rn.mouseSelectionStyle.of(((e,n)=>t(n)?_r(e,n):null))},t.repositionTooltips=function(e){var t;null===(t=e.plugin(kr))||void 0===t||t.maybeMeasure()},t.runScopeHandlers=function(e,t,n){return zn(Wn(e.state),t,e,n)},t.scrollPastEnd=function(){return[hr,Re.of((e=>{var t;return(null===(t=e.plugin(hr))||void 0===t?void 0:t.attrs)||null}))]},t.showPanel=Hr,t.showTooltip=xr,t.tooltips=function(e={}){return Cr.of(e)}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),o.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),o.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new s(this),o=new s(e);for(let i=t,a=t;;){if(r.next(i),o.next(i),i=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}iter(e=1){return new s(this,e)}iterRange(e,t=this.length){return new l(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new r(e):o.from(r.split(e,[])):n.empty}}class r extends n{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.text[o],a=r+i.length;if((t?n:a)>=e)return new c(r,a,n,i);r=a+1,n++}}decompose(e,t,n,o){let s=e<=0&&t>=this.length?this:new r(a(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&o){let e=n.pop(),t=i(s.text,e.text.slice(),0,s.length);if(t.length<=32)n.push(new r(t,e.length+s.length));else{let e=t.length>>1;n.push(new r(t.slice(0,e)),new r(t.slice(e)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof r))return super.replace(e,t,n);let s=i(this.text,i(n.text,a(this.text,0,e)),t),l=this.length+n.length-(t-e);return s.length<=32?new r(s,l):o.from(r.split(s,[]),l)}sliceString(e,t=this.length,n="\n"){let r="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let a=this.text[i],s=o+a.length;o>e&&i&&(r+=n),e<s&&t>o&&(r+=a.slice(Math.max(0,e-o),t-o)),o=s+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],o=-1;for(let i of e)n.push(i),o+=i.length+1,32==n.length&&(t.push(new r(n,o)),n=[],o=-1);return o>-1&&t.push(new r(n,o)),t}}class o extends n{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.children[o],a=r+i.length,s=n+i.lines-1;if((t?s:a)>=e)return i.lineInner(e,t,n,r);r=a+1,n=s+1}}decompose(e,t,n,r){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let a=this.children[o],s=i+a.length;if(e<=s&&t>=i){let o=r&((i<=e?1:0)|(s>=t?2:0));i>=e&&s<=t&&!o?n.push(a):a.decompose(e-i,t-i,n,o)}i=s+1}}replace(e,t,n){if(n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let a=this.children[r],s=i+a.length;if(e>=i&&t<=s){let l=a.replace(e-i,t-i,n),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let i=this.children.slice();return i[r]=l,new o(i,this.length-(t-e)+n.length)}return super.replace(i,s,l)}i=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let r="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let a=this.children[o],s=i+a.length;i>e&&o&&(r+=n),e<s&&t>i&&(r+=a.sliceString(e-i,t-i,n)),i=s+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof o))return 0;let n=0,[r,i,a,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,i+=t){if(r==a||i==s)return n;let o=this.children[r],l=e.children[i];if(o!=l)return n+o.scanIdentical(l,t);n+=o.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let r of e)n+=r.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new r(n,t)}let i=Math.max(32,n>>5),a=i<<1,s=i>>1,l=[],u=0,c=-1,d=[];function f(e){let t;if(e.lines>a&&e instanceof o)for(let n of e.children)f(n);else e.lines>s&&(u>s||!u)?(p(),l.push(e)):e instanceof r&&u&&(t=d[d.length-1])instanceof r&&e.lines+t.lines<=32?(u+=e.lines,c+=e.length+1,d[d.length-1]=new r(t.text.concat(e.text),t.length+1+e.length)):(u+e.lines>i&&p(),u+=e.lines,c+=e.length+1,d.push(e))}function p(){0!=u&&(l.push(1==d.length?d[0]:o.from(d,c)),c=-1,u=d.length=0)}for(let r of e)f(r);return p(),1==l.length?l[0]:new o(l,t)}}function i(e,t,n=0,r=1e9){for(let o=0,i=0,a=!0;i<e.length&&o<=r;i++){let s=e[i],l=o+s.length;l>=n&&(l>r&&(s=s.slice(0,r-o)),o<n&&(s=s.slice(n-o)),a?(t[t.length-1]+=s,a=!1):t.push(s)),o=l+1}return t}function a(e,t,n){return i(e,[""],t,n)}n.empty=new r([""],0);class s{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof r?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,o=this.nodes[n],i=this.offsets[n],a=i>>1,s=o instanceof r?o.text.length:o.children.length;if(a==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(o instanceof r){let r=o.text[a+(t<0?-1:0)];if(this.offsets[n]+=t,r.length>Math.max(0,e))return this.value=0==e?r:t>0?r.slice(e):r.slice(0,r.length-e),this;e-=r.length}else{let i=o.children[a+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof r?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class l{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new s(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},s.prototype[Symbol.iterator]=l.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class c{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}let d="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let He=1;He<d.length;He++)d[He]+=d[He-1];function f(e){for(let t=1;t<d.length;t+=2)if(d[t]>e)return d[t-1]<=e;return!1}function p(e){return e>=127462&&e<=127487}function h(e,t,n=!0,r=!0){return(n?m:g)(e,t,r)}function m(e,t,n){if(t==e.length)return t;t&&y(e.charCodeAt(t))&&v(e.charCodeAt(t-1))&&t--;let r=b(e,t);for(t+=_(r);t<e.length;){let o=b(e,t);if(8205==r||8205==o||n&&f(o))t+=_(o),r=o;else{if(!p(o))break;{let n=0,r=t-2;for(;r>=0&&p(b(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function g(e,t,n){for(;t>0;){let r=m(e,t-2,n);if(r<t)return r;t--}return 0}function y(e){return e>=56320&&e<57344}function v(e){return e>=55296&&e<56320}function b(e,t){let n=e.charCodeAt(t);if(!v(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return y(r)?r-56320+(n-55296<<10)+65536:n}function _(e){return e<65536?1:2}const w=/\r\n?|\n/;var E;t.MapMode=void 0,(E=t.MapMode||(t.MapMode={}))[E.Simple=0]="Simple",E[E.TrackDel=1]="TrackDel",E[E.TrackBefore=2]="TrackBefore",E[E.TrackAfter=3]="TrackAfter";class O{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(n,r,o),r+=o):r+=i,n+=o}}iterChangedRanges(e,t=!1){k(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new O(e)}composeDesc(e){return this.empty?e:e.empty?this:P(this,e)}mapDesc(e,t=!1){return e.empty?this:A(this,e,t)}mapPos(e,n=-1,r=t.MapMode.Simple){let o=0,i=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],l=this.sections[a++],u=o+s;if(l<0){if(u>e)return i+(e-o);i+=s}else{if(r!=t.MapMode.Simple&&u>=e&&(r==t.MapMode.TrackDel&&o<e&&u>e||r==t.MapMode.TrackBefore&&o<e||r==t.MapMode.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!s)return e==o||n<0?i:i+l;i+=l}o=u}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new O(e)}static create(e){return new O(e)}}class S extends O{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return k(this,((t,n,r,o,i)=>e=e.replace(r,r+(n-t),i)),!1),e}mapDesc(e,t=!1){return A(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let o=0,i=0;o<t.length;o+=2){let a=t[o],s=t[o+1];if(s>=0){t[o]=s,t[o+1]=a;let l=o>>1;for(;r.length<l;)r.push(n.empty);r.push(a?e.slice(i,i+a):n.empty)}i+=a}return new S(t,r)}compose(e){return this.empty?e:e.empty?this:P(this,e,!0)}map(e,t=!1){return e.empty?this:A(this,e,t,!0)}iterChanges(e,t=!1){k(this,e,t)}get desc(){return O.create(this.sections)}filter(e){let t=[],n=[],r=[],o=new x(this);e:for(let i=0,a=0;;){let s=i==e.length?1e9:e[i++];for(;a<s||a==s&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,s-a);T(r,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;T(t,e,i),i>0&&C(n,t,o.text),o.forward(e),a+=e}let l=e[i++];for(;a<l;){if(o.done)break e;let e=Math.min(o.len,l-a);T(t,e,-1),T(r,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),a+=e}}return{changes:new S(t,n),filtered:O.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let o=[],i=[],a=0,s=null;function l(e=!1){if(!e&&!o.length)return;a<t&&T(o,t-a,-1);let n=new S(o,i);s=s?s.compose(n.map(s)):n,o=[],i=[],a=0}return function e(u){if(Array.isArray(u))for(let t of u)e(t);else if(u instanceof S){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),s=s?s.compose(u.map(s)):u}else{let{from:e,to:s=e,insert:c}=u;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let d=c?"string"==typeof c?n.of(c.split(r||w)):c:n.empty,f=d.length;if(e==s&&0==f)return;e<a&&l(),e>a&&T(o,e-a,-1),T(o,s-e,f),C(i,o,d),a=s}}(e),l(!s),s}static empty(e){return new S(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let o=0;o<e.length;o++){let i=e[o];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;r.length<o;)r.push(n.empty);r[o]=n.of(i.slice(1)),t.push(i[0],r[o].length)}}}return new S(t,r)}static createSet(e,t){return new S(e,t)}}function T(e,t,n,r=!1){if(0==t&&n<=0)return;let o=e.length-2;o>=0&&n<=0&&n==e[o+1]?e[o]+=t:0==t&&0==e[o]?e[o+1]+=n:r?(e[o]+=t,e[o+1]+=n):e.push(t,n)}function C(e,t,r){if(0==r.length)return;let o=t.length-2>>1;if(o<e.length)e[e.length-1]=e[e.length-1].append(r);else{for(;e.length<o;)e.push(n.empty);e.push(r)}}function k(e,t,r){let o=e.inserted;for(let i=0,a=0,s=0;s<e.sections.length;){let l=e.sections[s++],u=e.sections[s++];if(u<0)i+=l,a+=l;else{let c=i,d=a,f=n.empty;for(;c+=l,d+=u,u&&o&&(f=f.append(o[s-2>>1])),!(r||s==e.sections.length||e.sections[s+1]<0);)l=e.sections[s++],u=e.sections[s++];t(i,c,a,d,f),i=c,a=d}}}function A(e,t,n,r=!1){let o=[],i=r?[]:null,a=new x(e),s=new x(t);for(let l=-1;;)if(-1==a.ins&&-1==s.ins){let e=Math.min(a.len,s.len);T(o,e,-1),a.forward(e),s.forward(e)}else if(s.ins>=0&&(a.ins<0||l==a.i||0==a.off&&(s.len<a.len||s.len==a.len&&!n))){let e=s.len;for(T(o,s.ins,-1);e;){let t=Math.min(a.len,e);a.ins>=0&&l<a.i&&a.len<=t&&(T(o,0,a.ins),i&&C(i,o,a.text),l=a.i),a.forward(t),e-=t}s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return i?S.createSet(o,i):O.create(o);throw new Error("Mismatched change set lengths")}{let e=0,t=a.len;for(;t;)if(-1==s.ins){let n=Math.min(t,s.len);e+=n,t-=n,s.forward(n)}else{if(!(0==s.ins&&s.len<t))break;t-=s.len,s.next()}T(o,e,l<a.i?a.ins:0),i&&l<a.i&&C(i,o,a.text),l=a.i,a.forward(a.len-t)}}}function P(e,t,n=!1){let r=[],o=n?[]:null,i=new x(e),a=new x(t);for(let s=!1;;){if(i.done&&a.done)return o?S.createSet(r,o):O.create(r);if(0==i.ins)T(r,i.len,0,s),i.next();else if(0!=a.len||a.done){if(i.done||a.done)throw new Error("Mismatched change set lengths");{let e=Math.min(i.len2,a.len),t=r.length;if(-1==i.ins){let t=-1==a.ins?-1:a.off?0:a.ins;T(r,e,t,s),o&&t&&C(o,r,a.text)}else-1==a.ins?(T(r,i.off?0:i.len,e,s),o&&C(o,r,i.textBit(e))):(T(r,i.off?0:i.len,a.off?0:a.ins,s),o&&!a.off&&C(o,r,a.text));s=(i.ins>e||a.ins>=0&&a.len>e)&&(s||r.length>t),i.forward2(e),a.forward(e)}}else T(r,0,a.ins,s),o&&C(o,r,a.text),a.next()}}class x{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?n.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?n.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class I{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new I(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return R.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return R.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return R.range(e.anchor,e.head)}static create(e,t,n){return new I(e,t,n)}}class R{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:R.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new R([this.main],0)}addRange(e,t=!0){return R.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,R.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new R(e.ranges.map((e=>I.fromJSON(e))),e.main)}static single(e,t=e){return new R([R.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return R.normalized(e.slice(),t);n=o.to}return new R(e,t)}static cursor(e,t=0,n,r){return I.create(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=r?r:33554431)<<5)}static range(e,t,n){let r=(null!=n?n:33554431)<<5;return t<e?I.create(t,e,24|r):I.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let r=1;r<e.length;r++){let n=e[r],o=e[r-1];if(n.empty?n.from<=o.to:n.from<o.to){let i=o.from,a=Math.max(n.to,o.to);r<=t&&t--,e.splice(--r,2,n.anchor>n.head?R.range(a,i):R.range(i,a))}}return new R(e,t)}}function D(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let j=0;class N{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=j++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}static define(e={}){return new N(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:L),!!e.static,e.enables)}of(e){return new M([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new M(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new M(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function L(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class M{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=j++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,i=e[o]>>1,a=2==this.type,s=!1,l=!1,u=[];for(let c of this.dependencies)"doc"==c?s=!0:"selection"==c?l=!0:0==(1&(null!==(t=e[c.id])&&void 0!==t?t:1))&&u.push(e[c.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(s&&t.docChanged||l&&(t.docChanged||t.selection)||F(e,u)){let t=n(e);if(a?!B(t,e.values[i],r):!r(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let s=n(e),l=t.config.address[o];if(null!=l){let n=ee(t,l);if(this.dependencies.every((n=>n instanceof N?t.facet(n)===e.facet(n):!(n instanceof W)||t.field(n,!1)==e.field(n,!1)))||(a?B(s,n,r):r(s,n)))return e.values[i]=n,0}return e.values[i]=s,1}}}}function B(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function F(e,t){let n=!1;for(let r of t)1&Q(e,r)&&(n=!0);return n}function U(e,t,n){let r=n.map((t=>e[t.id])),o=n.map((e=>e.type)),i=r.filter((e=>!(1&e))),a=e[t.id]>>1;function s(e){let n=[];for(let t=0;t<r.length;t++){let i=ee(e,r[t]);if(2==o[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of r)Q(e,t);return e.values[a]=s(e),1},update(e,n){if(!F(e,i))return 0;let r=s(e);return t.compare(r,e.values[a])?0:(e.values[a]=r,1)},reconfigure(e,o){let i=F(e,r),l=o.config.facets[t.id],u=o.facet(t);if(l&&!i&&L(n,l))return e.values[a]=u,0;let c=s(e);return t.compare(c,u)?(e.values[a]=u,0):(e.values[a]=c,1)}}}const H=N.define({static:!0});class W{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new W(j++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(H).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(e.values[t]=o,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,H.of({field:this,create:e})]}get extension(){return this}}const q=4,z=3,V=2,G=1;function $(e){return t=>new Y(t,e)}const K={highest:$(0),high:$(G),default:$(V),low:$(z),lowest:$(q)};class Y{constructor(e,t){this.inner=e,this.prec=t}}class X{of(e){return new J(this,e)}reconfigure(e){return X.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class J{constructor(e,t){this.compartment=e,this.inner=t}}class Z{constructor(e,t,n,r,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),i=new Map;for(let d of function(e,t,n){let r=[[],[],[],[],[]],o=new Map;function i(e,a){let s=o.get(e);if(null!=s){if(s<=a)return;let t=r[s].indexOf(e);t>-1&&r[s].splice(t,1),e instanceof J&&n.delete(e.compartment)}if(o.set(e,a),Array.isArray(e))for(let t of e)i(t,a);else if(e instanceof J){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),i(r,a)}else if(e instanceof Y)i(e.inner,e.prec);else if(e instanceof W)r[a].push(e),e.provides&&i(e.provides,a);else if(e instanceof M)r[a].push(e),e.facet.extensions&&i(e.facet.extensions,a);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(t,a)}}return i(e,V),r.reduce(((e,t)=>e.concat(t)))}(e,t,i))d instanceof W?r.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let a=Object.create(null),s=[],l=[];for(let d of r)a[d.id]=l.length<<1,l.push((e=>d.slot(e)));let u=null==n?void 0:n.config.facets;for(let d in o){let e=o[d],t=e[0].facet,r=u&&u[d]||[];if(e.every((e=>0==e.type)))if(a[t.id]=s.length<<1|1,L(r,e))s.push(n.facet(t));else{let r=t.combine(e.map((e=>e.value)));s.push(n&&t.compare(r,n.facet(t))?n.facet(t):r)}else{for(let t of e)0==t.type?(a[t.id]=s.length<<1|1,s.push(t.value)):(a[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));a[t.id]=l.length<<1,l.push((n=>U(n,t,e)))}}let c=l.map((e=>e(a)));return new Z(e,i,c,a,s,o)}}function Q(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let o=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|o}function ee(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const te=N.define(),ne=N.define({combine:e=>e.some((e=>e)),static:!0}),re=N.define({combine:e=>e.length?e[0]:void 0,static:!0}),oe=N.define(),ie=N.define(),ae=N.define(),se=N.define({combine:e=>!!e.length&&e[0]});class le{constructor(e,t){this.type=e,this.value=t}static define(){return new ue}}class ue{of(e){return new le(this,e)}}class ce{constructor(e){this.map=e}of(e){return new de(this,e)}}class de{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new de(this.type,t)}is(e){return this.type==e}static define(e={}){return new ce(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}de.reconfigure=de.define(),de.appendConfig=de.define();class fe{constructor(e,t,n,r,o,i){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,n&&D(n,t.newLength),o.some((e=>e.type==fe.time))||(this.annotations=o.concat(fe.time.of(Date.now())))}static create(e,t,n,r,o,i){return new fe(e,t,n,r,o,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(fe.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function pe(e,t){let n=[];for(let r=0,o=0;;){let i,a;if(r<e.length&&(o==t.length||t[o]>=e[r]))i=e[r++],a=e[r++];else{if(!(o<t.length))return n;i=t[o++],a=t[o++]}!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function he(e,t,n){var r;let o,i,a;return n?(o=t.changes,i=S.empty(t.changes.length),a=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(o)),{changes:a,selection:t.selection?t.selection.map(i):null===(r=e.selection)||void 0===r?void 0:r.map(o),effects:de.mapEffects(e.effects,o).concat(de.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function me(e,t,n){let r=t.selection,o=ve(t.annotations);return t.userEvent&&(o=o.concat(fe.userEvent.of(t.userEvent))),{changes:t.changes instanceof S?t.changes:S.of(t.changes||[],n,e.facet(re)),selection:r&&(r instanceof R?r:R.single(r.anchor,r.head)),effects:ve(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function ge(e,t,n){let r=me(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let o=!!t[i].sequential;r=he(r,me(e,t[i],o?r.changes.newLength:e.doc.length),o)}let o=fe.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(ae),r=e;for(let o=n.length-1;o>=0;o--){let i=n[o](e);i&&Object.keys(i).length&&(r=he(e,me(t,i,e.changes.newLength),!0))}return r==e?e:fe.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let o of t.facet(oe)){let t=o(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:pe(n,t))}if(!0!==n){let r,o;if(!1===n)o=e.changes.invertedDesc,r=S.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=fe.create(t,r,e.selection&&e.selection.map(o),de.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(ie);for(let o=r.length-1;o>=0;o--){let n=r[o](e);e=n instanceof fe?n:Array.isArray(n)&&1==n.length&&n[0]instanceof fe?n[0]:ge(t,ve(n),!1)}return e}(o):o)}fe.time=le.define(),fe.userEvent=le.define(),fe.addToHistory=le.define(),fe.remote=le.define();const ye=[];function ve(e){return null==e?ye:Array.isArray(e)?e:[e]}var be;t.CharCategory=void 0,(be=t.CharCategory||(t.CharCategory={}))[be.Word=0]="Word",be[be.Space=1]="Space",be[be.Other=2]="Other";const _e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let we;try{we=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Ue){}function Ee(e){return n=>{if(!/\S/.test(n))return t.CharCategory.Space;if(function(e){if(we)return we.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||_e.test(n)))return!0}return!1}(n))return t.CharCategory.Word;for(let r=0;r<e.length;r++)if(n.indexOf(e[r])>-1)return t.CharCategory.Word;return t.CharCategory.Other}}class Oe{constructor(e,t,n,r,o,i){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Q(this,a<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return Q(this,n),ee(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return ge(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:o}=n;for(let i of e.effects)i.is(X.reconfigure)?(n&&(o=new Map,n.compartments.forEach(((e,t)=>o.set(t,e))),n=null),o.set(i.value.compartment,i.value.extension)):i.is(de.reconfigure)?(n=null,r=i.value):i.is(de.appendConfig)&&(n=null,r=ve(r).concat(i.value));if(n)t=e.startState.values.slice();else{n=Z.resolve(r,o,this),t=new Oe(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new Oe(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:R.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],i=ve(n.effects);for(let a=1;a<t.ranges.length;a++){let n=e(t.ranges[a]),s=this.changes(n.changes),l=s.map(r);for(let e=0;e<a;e++)o[e]=o[e].map(l);let u=r.mapDesc(s,!0);o.push(n.range.map(u)),r=r.compose(l),i=de.mapEffects(i,l).concat(de.mapEffects(ve(n.effects),u))}return{changes:r,selection:R.create(o,t.mainIndex),effects:i}}changes(e=[]){return e instanceof S?e:S.of(e,this.doc.length,this.facet(Oe.lineSeparator))}toText(e){return n.of(e.split(this.facet(Oe.lineSeparator)||w))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(Q(this,t),ee(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof W&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let o in n)if(Object.prototype.hasOwnProperty.call(e,o)){let t=n[o],i=e[o];r.push(t.init((e=>t.spec.fromJSON(i,e))))}return Oe.create({doc:e.doc,selection:R.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Z.resolve(e.extensions||[],new Map),r=e.doc instanceof n?e.doc:n.of((e.doc||"").split(t.staticFacet(Oe.lineSeparator)||w)),o=e.selection?e.selection instanceof R?e.selection:R.single(e.selection.anchor,e.selection.head):R.single(0);return D(o,r.length),t.staticFacet(ne)||(o=o.asSingle()),new Oe(t,r,o,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Oe.tabSize)}get lineBreak(){return this.facet(Oe.lineSeparator)||"\n"}get readOnly(){return this.facet(se)}phrase(e,...t){for(let n of this.facet(Oe.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,n=-1){let r=[];for(let o of this.facet(te))for(let i of o(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&r.push(i[e]);return r}charCategorizer(e){return Ee(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:o}=this.doc.lineAt(e),i=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let e=h(n,a,!1);if(i(n.slice(e,a))!=t.CharCategory.Word)break;a=e}for(;s<o;){let e=h(n,s);if(i(n.slice(s,e))!=t.CharCategory.Word)break;s=e}return a==s?null:R.range(a+r,s+r)}}Oe.allowMultipleSelections=ne,Oe.tabSize=N.define({combine:e=>e.length?e[0]:4}),Oe.lineSeparator=re,Oe.readOnly=se,Oe.phrases=N.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),Oe.languageData=te,Oe.changeFilter=oe,Oe.transactionFilter=ie,Oe.transactionExtender=ae,X.reconfigure=de.define();class Se{eq(e){return this==e}range(e,t=e){return Te.create(e,t,this)}}Se.prototype.startSide=Se.prototype.endSide=0,Se.prototype.point=!1,Se.prototype.mapMode=t.MapMode.TrackDel;class Te{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Te(e,t,n)}}function Ce(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class ke{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let o=n?this.to:this.from;for(let i=r,a=o.length;;){if(i==a)return i;let r=i+a>>1,s=o[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==i)return s>=0?i:a;s>=0?a=r:i=r+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,o);o<i;o++)if(!1===r(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let n=[],r=[],o=[],i=-1,a=-1;for(let s=0;s<this.value.length;s++){let l,u,c=this.value[s],d=this.from[s]+e,f=this.to[s]+e;if(d==f){let e=t.mapPos(d,c.startSide,c.mapMode);if(null==e)continue;if(l=u=e,c.startSide!=c.endSide&&(u=t.mapPos(d,c.endSide),u<l))continue}else if(l=t.mapPos(d,c.startSide),u=t.mapPos(f,c.endSide),l>u||l==u&&c.startSide>0&&c.endSide<=0)continue;(u-l||c.endSide-c.startSide)<0||(i<0&&(i=l),c.point&&(a=Math.max(a,u-l)),n.push(c),r.push(l-i),o.push(u-i))}return{mapped:n.length?new ke(r,o,n,a):null,pos:i}}}class Ae{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new Ae(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(Ce)),this.isEmpty)return t.length?Ae.of(t):this;let a=new Ie(this,null,-1).goto(0),s=0,l=[],u=new Pe;for(;a.value||s<t.length;)if(s<t.length&&(a.from-t[s].from||a.startSide-t[s].value.startSide)>=0){let e=t[s++];u.addInner(e.from,e.to,e.value)||l.push(e)}else 1==a.rangeIndex&&a.chunkIndex<this.chunk.length&&(s==t.length||this.chunkEnd(a.chunkIndex)<t[s].from)&&(!i||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!i||r>a.to||o<a.from||i(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||l.push(Te.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!l.length?Ae.empty:this.nextLayer.update({add:l,filter:i,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i],s=e.touchesRange(o,o+a.length);if(!1===s)r=Math.max(r,a.maxPoint),t.push(a),n.push(e.mapPos(o));else if(!0===s){let{mapped:i,pos:s}=a.map(o,e);i&&(r=Math.max(r,i.maxPoint),t.push(i),n.push(s))}}let o=this.nextLayer.map(e);return 0==t.length?o:new Ae(n,t,o||Ae.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],i=this.chunk[r];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Re.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Re.from(e).goto(t)}static compare(e,t,n,r,o=-1){let i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=xe(i,a,n),l=new je(i,s,o),u=new je(a,s,o);n.iterGaps(((e,t,n)=>Ne(l,e,u,t,n,r))),n.empty&&0==n.length&&Ne(l,0,u,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=1e9);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=i.length)return!1;if(!o.length)return!0;let a=xe(o,i),s=new je(o,a,0).goto(n),l=new je(i,a,0).goto(n);for(;;){if(s.to!=l.to||!Le(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}static spans(e,t,n,r,o=-1){let i=new je(e,null,o).goto(t),a=t,s=i.openStart;for(;;){let e=Math.min(i.to,n);if(i.point?(r.point(a,e,i.point,i.activeForPoint(i.to),s,i.pointRank),s=i.openEnd(e)+(i.to>e?1:0)):e>a&&(r.span(a,e,i.active,s),s=i.openEnd(e)),i.to>n)break;a=i.to,i.next()}return s}static of(e,t=!1){let n=new Pe;for(let r of e instanceof Te?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(Ce(t,r)>0)return e.slice().sort(Ce);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}}Ae.empty=new Ae([],[],null,-1),Ae.empty.nextLayer=Ae.empty;class Pe{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new ke(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Pe)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Ae.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Ae.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function xe(e,t,n){let r=new Map;for(let i of e)for(let e=0;e<i.chunk.length;e++)i.chunk[e].maxPoint<=0&&r.set(i.chunk[e],i.chunkPos[e]);let o=new Set;for(let i of t)for(let e=0;e<i.chunk.length;e++){let t=r.get(i.chunk[e]);null==t||(n?n.mapPos(t):t)!=i.chunkPos[e]||(null==n?void 0:n.touchesRange(t,t+i.chunk[e].length))||o.add(i.chunk[e])}return o}class Ie{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Re{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&r.push(new Ie(i,t,n,o));return 1==r.length?r[0]:new Re(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)De(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)De(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),De(this.heap,0)}}}function De(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let o=e[r];if(r+1<e.length&&o.compare(e[r+1])>=0&&(o=e[r+1],r++),n.compare(o)<0)break;e[r]=n,e[t]=o,t=r}}class je{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Re.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Me(this.active,e),Me(this.activeTo,e),Me(this.activeRank,e),this.minActive=Fe(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;Be(this.active,t,n),Be(this.activeTo,t,r),Be(this.activeRank,t,o),e&&Be(e,t,this.cursor.from),this.minActive=Fe(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null,r=0;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),n&&Me(n,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let t=0;for(;t<n.length&&n[t]<e;)t++;this.openStart=t+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Ne(e,t,n,r,o,i){e.goto(t),n.goto(r);let a=r+o,s=r,l=r-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,r=t<0?e.to+l:n.to,o=Math.min(r,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Le(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||i.comparePoint(s,o,e.point,n.point):o>s&&!Le(e.active,n.active)&&i.compareRange(s,o,e.active,n.active),r>a)break;s=r,t<=0&&e.next(),t>=0&&n.next()}}function Le(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Me(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function Be(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function Fe(e,t){let n=-1,r=1e9;for(let o=0;o<t.length;o++)(t[o]-r||e[o].endSide-e[n].endSide)<0&&(n=o,r=t[o]);return n}t.Annotation=le,t.AnnotationType=ue,t.ChangeDesc=O,t.ChangeSet=S,t.Compartment=X,t.EditorSelection=R,t.EditorState=Oe,t.Facet=N,t.Line=c,t.Prec=K,t.Range=Te,t.RangeSet=Ae,t.RangeSetBuilder=Pe,t.RangeValue=Se,t.SelectionRange=I,t.StateEffect=de,t.StateEffectType=ce,t.StateField=W,t.Text=n,t.Transaction=fe,t.codePointAt=b,t.codePointSize=_,t.combineConfig=function(e,t,n={}){let r={};for(let o of e)for(let e of Object.keys(o)){let t=o[e],i=r[e];if(void 0===i)r[e]=t;else if(i===t||void 0===t);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](i,t)}}for(let o in t)void 0===r[o]&&(r[o]=t[o]);return r},t.countColumn=function(e,t,n=e.length){let r=0;for(let o=0;o<n;)9==e.charCodeAt(o)?(r+=t-r%t,o++):(r++,o=h(e,o));return r},t.findClusterBreak=h,t.findColumn=function(e,t,n,r){for(let o=0,i=0;;){if(i>=t)return o;if(o==e.length)break;i+=9==e.charCodeAt(o)?n-i%n:1,o=h(e,o)}return!0===r?-1:e.length},t.fromCodePoint=function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RecordingFileType=void 0;var o=a(n(1378)),i=a(n(1379));function a(e){return e&&e.__esModule?e:{default:e}}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){var e=this;c(this,"init",function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.recorder.initAudio();case 2:return t.next=4,e.recorder.initWorker();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c(this,"startRecording",u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.recorder.startRecording();case 1:case"end":return t.stop()}}),t)})))),c(this,"stopRecording",u(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.recorder.stopRecording();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))),c(this,"isRecording",(function(){return!!e.recorder.blob})),c(this,"getExtension",(function(){return p.MP3})),this.recorder=new o.default.Recorder({wasmURL:"/shared/wasm/vmsg.wasm"})},f=function(){var e=this;c(this,"init",function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stream=n,t.next=3,e.recorder.init(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c(this,"startRecording",u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.recorder.start();case 2:e.recording=!0;case 3:case"end":return t.stop()}}),t)})))),c(this,"stopRecording",u(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.recorder.stop();case 2:return n=t.sent,r=n.blob,e.recording=!1,e.stream.getTracks().forEach((function(e){return e.stop()})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))),c(this,"isRecording",(function(){return e.recording})),c(this,"getExtension",(function(){return p.WAV}));var t=new(window.AudioContext||window.webkitAudioContext);this.recorder=new i.default(t),this.recording=!1,this.stream=null},p={MP3:".mp3",WAV:".wav"};t.RecordingFileType=p;var h=function(e){return e===p.WAV?new f:new d};t.default=h},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ages=void 0;var o,i=(o=n(2))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=["","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21+"];t.ages=u;var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var o=r.prototype;return o.getValue=function(){return this.root.value},o.render=function(){var e=this,t=this.props.age&&this.props.age.toString();return a.default.createElement("select",{ref:function(t){return e.root=t},name:"age",style:this.props.style,id:"uitest-age-selector",defaultValue:t},u.map((function(e){return a.default.createElement("option",{key:e,value:e},e)})))},r}(a.Component);t.default=c,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(c,"propTypes",{style:i.default.object,age:i.default.oneOfType([i.default.string,i.default.number])})},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;if(t.type===n)return Object.assign({},e,{isIdle:!0,idleStart:(new Date).getTime()});if(t.type===r){if(e.idleStart){var s=e.idleTimeSinceLastReport+a(e);return Object.assign({},e,{isIdle:!1,idleTimeSinceLastReport:s})}return e}if(t.type===o){var l=e.isIdle?(new Date).getTime():null;return Object.assign({},e,{idleTimeSinceLastReport:0,idleStart:l})}return e},t.setStartIdle=t.setEndIdle=t.resetIdleTime=t.getIdleTimeSinceLastReport=void 0;var n="studioAppActivity/SET_START_IDLE",r="studioAppActivity/SET_END_IDLE",o="studioAppActivity/RESET_IDLE_TIME",i={idleTimeSinceLastReport:0,idleStart:null,isIdle:!1};var a=function(e){return(new Date).getTime()-e.idleStart};t.setStartIdle=function(){return{type:n}};t.setEndIdle=function(){return{type:r}};t.resetIdleTime=function(){return{type:o}};t.getIdleTimeSinceLastReport=function(e){return e.isIdle?e.idleTimeSinceLastReport+a(e):e.idleTimeSinceLastReport}},(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.valueTypeTabShapeMap=t.exampleSprites=t.SpritelabReservedWords=t.SPRITE_WARNING_BUFFER=t.MAX_NUM_TEXTS=t.MAX_NUM_SPRITES=t.LocationPickerMode=void 0;var o=n(33).makeEnum("IDLE","SELECTING");t.LocationPickerMode=o;t.SpritelabReservedWords=["CENTER","World","background","color","createEdgeSprites","createGroup","createSprite","drawSprites","edges","fill","keyDown","keyWentDown","keyWentUp","mousePressedOver","mouseWentDown","randomNumber","rect","text","textAlign","textSize","setup","extraArgs","draw","clickedOn","draggable","pointInDirection","randColor","randomColor","mouseLocation","setSizes","whenDownArrow","whenKey","whenLeftArrow","whenRightArrow","whenTouching","whenUpArrow","whileDownArrow","whileKey","whileLeftArrow","whileRightArrow","whileTouching","whileUpArrow","xLocationOf","yLocationOf","setupSim","everyInterval"];t.valueTypeTabShapeMap=function(e){var t;return r(t={},e.BlockValueType.SPRITE,"angle"),r(t,e.BlockValueType.BEHAVIOR,"rounded"),r(t,e.BlockValueType.LOCATION,"square"),t};t.exampleSprites={orderedKeys:["2223bab1-0b27-4ad1-ad2e-7eb3dd0997c2","8ca751af-ef34-4fd4-9e96-6e985f93f4c2"],propsByKey:{"2223bab1-0b27-4ad1-ad2e-7eb3dd0997c2":{name:"bear",sourceUrl:"https://studio.code.org/api/v1/animation-library/spritelab/wAQoTe9lNAp19q.JxOmT6hRtv1GceGwp/category_animals/bear.png",frameSize:{x:254,y:333},frameCount:1,looping:!0,frameDelay:2,version:"wAQoTe9lNAp19q.JxOmT6hRtv1GceGwp",categories:["animals"]},"8ca751af-ef34-4fd4-9e96-6e985f93f4c2":{name:"cave",sourceUrl:"https://studio.code.org/api/v1/animation-library/spritelab/3LUT4MZxHDWhZbAtYtEmQD1ZrfwQ7jFG/category_backgrounds/background_cave.png",frameSize:{x:400,y:400},frameCount:1,looping:!0,frameDelay:2,version:"3LUT4MZxHDWhZbAtYtEmQD1ZrfwQ7jFG",categories:["backgrounds"]}}};t.MAX_NUM_SPRITES=1e3;t.SPRITE_WARNING_BUFFER=1;t.MAX_NUM_TEXTS=1e3},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(32))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var i=r.prototype;return i.setUsingTextMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.post("/api/v1/users/".concat(this.userId,"/using_text_mode"),a(a({},t),{},{using_text_mode:e}))},i.getUsingTextMode=function(){return o.default.getJSON("/api/v1/users/".concat(this.userId,"/using_text_mode")).then((function(e){return e.using_text_mode}))},i.setDisplayTheme=function(e){return o.default.post("/api/v1/users/".concat(this.userId,"/display_theme"),{display_theme:e})},i.getDisplayTheme=function(){return o.default.getJSON("/api/v1/users/".concat(this.userId,"/display_theme")).then((function(e){return e.display_theme}))},i.setMuteMusic=function(e){return o.default.post("/api/v1/users/".concat(this.userId,"/mute_music"),{mute_music:e})},i.getMuteMusic=function(){return o.default.getJSON("/api/v1/users/".concat(this.userId,"/mute_music")).then((function(e){return e.mute_music}))},r}((0,n(389).Record)({userId:"me"}));t.default=u,e.exports=t.default},,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnlocalizedTimeAgo=void 0;var r=s(n(2)),o=s(n(1)),i=n(27),a=s(n(141));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{timeout:void 0}),c(l(t),"startTimer",(function(){var e=setTimeout(t.startTimer,1e4);t.setState({timeout:e})})),c(l(t),"clearTimer",(function(){clearTimeout(t.state.timeout),t.setState({timeout:void 0})})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var i=r.prototype;return i.componentDidMount=function(){this.startTimer()},i.componentWillUnmount=function(){this.clearTimer()},i.render=function(){return this.props.locale&&a.default.locale(this.props.locale),o.default.createElement("time",{style:this.props.style||{},dateTime:this.props.dateString},(0,a.default)(this.props.dateString).fromNow())},r}(o.default.Component);c(d,"propTypes",{dateString:r.default.oneOfType([r.default.string,r.default.instanceOf(Date)]).isRequired,locale:r.default.string,style:r.default.object});var f=d;t.UnlocalizedTimeAgo=f;var p=(0,i.connect)((function(e){return{locale:e.pageConstants&&e.pageConstants.locale}}))(d);t.default=p},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(729),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.sortingColumns,n=e.sortingOrder,r=void 0===n?i.default:n,o=e.selectedColumn,a=void 0===o?-1:o,s=r.FIRST;return a<0?t:t&&{}.hasOwnProperty.call(t,a)&&!(s=r[t[a].direction])?{}:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,{direction:s,position:0})}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1260)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(729));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t=e.sortingColumns,n=e.sortingOrder,a=void 0===n?i.default:n,l=e.selectedColumn,u=void 0===l?-1:l,c={};if(u<0)return t;if(!t)return s({},u,{direction:a.FIRST,position:0});if({}.hasOwnProperty.call(t,u)){var d=a[(c=(0,r.default)(t))[u].direction];if(d)c[u]={direction:d,position:c[u].position};else{var f=c[u].position;delete c[u],Object.keys(c).forEach((function(e){var t=c[e];t.position>f&&(t.position-=1)}))}return c}return o({},t,s({},u,{direction:a.FIRST,position:Object.keys(t).length}))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1260)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(729));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t=e.sortingColumns,n=e.sortingOrder,a=void 0===n?i.default:n,l=e.selectedColumn,u=void 0===l?-1:l,c={};if(u<0)return t;if(!t)return s({},u,{direction:a.FIRST,position:0});if({}.hasOwnProperty.call(t,u)){var d=a[(c=(0,r.default)(t))[u].direction],f=c[u].position;return d?(Object.keys(c).forEach((function(e){var t=c[e];t.position<f&&(t.position+=1)})),c[u]={direction:d,position:0}):(delete c[u],Object.keys(c).forEach((function(e){var t=c[e];t.position>f&&(t.position-=1)}))),c}return c=(0,r.default)(t),Object.keys(c).forEach((function(e){c[e].position+=1})),o({},c,s({},u,{direction:a.FIRST,position:0}))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),i=s(n(669)),a=s(n(910));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.sortable,n=e.getSortingColumns,s=e.props,l=void 0===s?{container:{},value:{},order:{}}:s,u=e.strategy,c=void 0===u?i.default:u;if(!n)throw new Error("header - Missing getSortingColumns!");return function(e,i){return o.default.createElement("div",r({className:"sort-container"},l.container),o.default.createElement("span",r({className:"sort-value"},l.value),e),(0,a.default)({getSortingColumns:n,props:l.order,strategy:c})(e,i),t?o.default.createElement("span",t(e,i)):null)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1549)),o=a(n(1476)),i=a(n(669));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columns,n=e.sortingColumns,a=e.sort,s=e.strategy,l=void 0===s?i.default:s;return function(e){if(!t)throw new Error('sort.sorter - Missing "columns" argument!');if(!a)throw new Error('sort.sorter - Missing "sort" argument!');if(!n)return e;var i=new Array(n.length),s=new Array(n.length);return Object.keys(n).forEach((function(e){var a=l.getColumn(t,e)||{},u=n[e];i[u.position]=function(e){var t=a.property,n=e[t],i=(0,o.default)(e,"_"+t,n);return(0,r.default)(i,"toLowerCase",i)},s[u.position]=u.direction})),a(e,i,s)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(669),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.event,n=void 0===t?"onDoubleClick":t,r=e.getSortingColumns,i=void 0===r?function(){return[]}:r,s=e.onReset,l=void 0===s?function(){}:s,u=e.strategy,c=void 0===u?a.default:u;return function(e,t){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,(function(){var e=i();if(e&&Object.keys(e).length){var n=t[c.fieldName];if(e[n]){var r=e[n].position,a={};delete e[n],Object.keys(e).forEach((function(t){var n=e[t];n.position>r?a[t]=o({},n,{position:n.position-1}):a[t]=n})),l({sortingColumns:a})}}}))}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(9)),i=a(n(669));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event,n=void 0===t?"onClick":t,a=e.getSortingColumns,u=void 0===a?function(){return[]}:a,c=e.onSort,d=void 0===c?function(){}:c,f=e.strategy,p=void 0===f?i.default:f;return function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.className,c=l(i,["className"]),f=u(),h=t[p.fieldName],m="sort sort-none";return void 0!==f[h]&&(m="sort sort-"+f[h].direction),r({},c,s({className:(0,o.default)(a,m)},n,(function(){return d(h)})))}}},e=>{"use strict";e.exports=JSON.parse('{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}')},e=>{"use strict";e.exports=JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')},(e,t,n)=>{"use strict";e.exports=n(973)},(e,t)=>{"use strict";function n(e){var t,n;return r(e),t=47===e.charCodeAt(0),n=function(e,t){var n,r,o="",i=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(o.length<2||2!==i||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){if((r=o.lastIndexOf("/"))!==o.length-1){r<0?(o="",i=0):i=(o=o.slice(0,r)).length-1-o.lastIndexOf("/"),a=l,s=0;continue}}else if(o.length){o="",i=0,a=l,s=0;continue}t&&(o=o.length?o+"/..":"..",i=2)}else o.length?o+="/"+e.slice(a+1,l):o=e.slice(a+1,l),i=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return o}(e,!t),n.length||t||(n="."),n.length&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n}function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}t.basename=function(e,t){var n,o,i,a,s=0,l=-1;if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');if(r(e),n=e.length,void 0===t||!t.length||t.length>e.length){for(;n--;)if(47===e.charCodeAt(n)){if(i){s=n+1;break}}else l<0&&(i=!0,l=n+1);return l<0?"":e.slice(s,l)}if(t===e)return"";o=-1,a=t.length-1;for(;n--;)if(47===e.charCodeAt(n)){if(i){s=n+1;break}}else o<0&&(i=!0,o=n+1),a>-1&&(e.charCodeAt(n)===t.charCodeAt(a--)?a<0&&(l=n):(a=-1,l=o));s===l?l=o:l<0&&(l=e.length);return e.slice(s,l)},t.dirname=function(e){var t,n,o;if(r(e),!e.length)return".";t=-1,o=e.length;for(;--o;)if(47===e.charCodeAt(o)){if(n){t=o;break}}else n||(n=!0);return t<0?47===e.charCodeAt(0)?"/":".":1===t&&47===e.charCodeAt(0)?"//":e.slice(0,t)},t.extname=function(e){var t,n,o,i=-1,a=0,s=-1,l=0;r(e),o=e.length;for(;o--;)if(47!==(n=e.charCodeAt(o)))s<0&&(t=!0,s=o+1),46===n?i<0?i=o:1!==l&&(l=1):i>-1&&(l=-1);else if(t){a=o+1;break}if(i<0||s<0||0===l||1===l&&i===s-1&&i===a+1)return"";return e.slice(i,s)},t.join=function(){var e,t=-1;for(;++t<arguments.length;)r(arguments[t]),arguments[t]&&(e=void 0===e?arguments[t]:e+"/"+arguments[t]);return void 0===e?".":n(e)},t.sep="/"},(e,t)=>{"use strict";t.cwd=function(){return"/"}},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;if(t.type===i)return r(r({},e),{},{visualizationScale:t.scale});return e},t.getVisualizationScale=function(e){return function(e){return e.layout}(e).visualizationScale},t.setVisualizationScale=function(e){return{type:i,scale:e}};var i="layout/SET_VISUALIZATION_SCALE",a={visualizationScale:null}},,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPair=f,t.appendItem=c,t.getRed=t.getGreen=t.getBlue=t.getAlpha=t.default=void 0,t.getValue=d,t.insertItem=l,t.removeItem=u,t.setGreen=t.setBlue=t.setAlpha=void 0,t.setRGB=I,t.setRed=void 0;var r=n(897);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){return window.Applab?window.Applab.JSInterpreter:window.__mostRecentGameLabInstance?window.__mostRecentGameLabInstance.JSInterpreter:void 0}function a(e,t,n,a,s,l){var u;void 0!==a&&(u="number"===s?"number"==typeof a.data||"string"==typeof a.data&&!isNaN(a.data):"array"===s?i().interpreter.isa(a.proto,i().interpreter.ARRAY):o(a.data)===s),(u=u||l===r.OPTIONAL&&(a===i().interpreter.UNDEFINED||void 0===a))||(0,r.outputWarning)(t+"() "+n+" parameter value ("+a+") is not a "+s+".")}var s=function(e,t,n){var r;return r=n?e?Math.floor(e.toNumber()):t:void 0!==e?Math.floor(e):t,isNaN(r)&&(r=t),r};function l(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.apiValidateType,i=arguments.length>4?arguments[4]:void 0;o({},"insertItem","list",e,"array"),o({},"insertItem","index",t,"number");var a=i?e.properties:e;t=(t=s(t,0,i))<0?Math.max(e.length+t,0):Math.min(t,e.length);for(var l=e.length-1;l>=t;l--)a[l+1]=a[l];i&&(e.length+=1),a[t]=n}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.apiValidateType,o=arguments.length>3?arguments[3]:void 0;n({},"removeItem","list",e,"array"),n({},"removeItem","index",t,"number");var i=o?e.properties:e;(t=s(t,0,o))<0&&(t=Math.max(e.length+t,0));for(var a=t;a<e.length-1;a++)i[a]=i[a+1];t<e.length?(o&&delete i[e.length-1],e.length-=1):(0,r.outputWarning)("removeItem() index parameter value ("+t+") is larger than the number of items in the list ("+e.length+").")}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.apiValidateType,o=arguments.length>3?arguments[3]:void 0;n({},"appendItem","list",e,"array");var a=o?e.properties:e;return a[e.length]=t,o?(e.length++,i().createPrimitive(e.length)):e.length}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.apiValidateType,o=arguments.length>3?arguments[3]:void 0;n({},"getValue","key",t,"string");var i=o?e.properties:e,a=t.data,s=i[a];if(void 0!==s)return i[a].data;(0,r.outputWarning)(t+" is not in "+e)}function f(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.apiValidateType,i=arguments.length>4?arguments[4]:void 0;o({},"addPair","key",t,"string");var a=t.data,s=i?e.properties:e;return s[a]=n,s}function p(e,t,n,r,o){var i=e?n.properties:n;if(i.data&&i.width){var a=o*i.width*4+4*r+t;return e?i.data.properties[a].toNumber():i.data[a]}}var h=p.bind(null,!0,0),m=p.bind(null,!0,1),g=p.bind(null,!0,2),y=p.bind(null,!0,3),v=p.bind(null,!1,0);t.getRed=v;var b=p.bind(null,!1,1);t.getGreen=b;var _=p.bind(null,!1,2);t.getBlue=_;var w=p.bind(null,!1,3);function E(e,t,n,r,o,i){var a=e?n.properties:n;if(a.data&&a.width){var s=o*a.width*4+4*r+t;e?a.data.properties[s]=i:a.data[s]=i}}t.getAlpha=w;var O=E.bind(null,!0,0),S=E.bind(null,!0,1),T=E.bind(null,!0,2),C=E.bind(null,!0,3),k=E.bind(null,!1,0);t.setRed=k;var A=E.bind(null,!1,1);t.setGreen=A;var P=E.bind(null,!1,2);t.setBlue=P;var x=E.bind(null,!1,3);function I(e,t,n,r,o,a,s,l){var u=l?e.properties:e,c=l?u.data.properties:u.data;if(u.data&&u.width){var d=n*u.width*4+4*t;c[d]=r,c[d+1]=o,c[d+2]=a,c[d+3]=void 0===s?l?i().createPrimitive(255):255:s}}t.setAlpha=x;var R={insertItem:function(e,t,n){l(e,t,n,a,!0)},removeItem:function(e,t){u(e,t,a,!0)},appendItem:function(e,t){return c(e,t,a,!0)},getValue:function(e,t){return d(e,t,a,!0)},addPair:function(e,t,n){return f(e,t,n,a,!0)},getRed:h,getGreen:m,getBlue:g,getAlpha:y,setRed:O,setGreen:S,setBlue:T,setAlpha:C,setRGB:function(e,t,n,r,o,i,a){I(e,t,n,r,o,i,a,!0)}};t.default=R},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELETE_SUCCESS=t.DELETE_REQUEST=t.DELETE_FAILURE=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return i(i({},e),{},{isOpen:!0,projectId:t.projectId});case l:return i(i({},e),{},{isOpen:!1});case u:return i(i({},e),{},{isDeletePending:!0});case c:return i(i({},e),{},{isOpen:!1,isDeletePending:!1});case d:return i(i({},e),{},{isDeletePending:!1});default:return e}},t.deleteProject=function(e){return function(t){return t({type:u}),new Promise((function(n,o){r.channels.withProjectId(e).ajax("DELETE","",(function(r){t({type:c,projectId:e}),n()}),(function(e){t({type:d}),o(e)}),null)}))}},t.hideDeleteDialog=function(){return{type:l}},t.showDeleteDialog=function(e){return{type:s,projectId:e}};var r=n(449);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="deleteDialog/SHOW_DELETE_DIALOG",l="deleteDialog/HIDE_DELETE_DIALOG",u="deleteDialog/DELETE_REQUEST";t.DELETE_REQUEST=u;var c="deleteDialog/DELETE_SUCCESS";t.DELETE_SUCCESS=c;var d="deleteDialog/DELETE_FAILURE";t.DELETE_FAILURE=d;var f={isOpen:!1,projectId:null,isDeletePending:!1}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressLevelSet=void 0;var r=p(n(1)),o=p(n(2)),i=p(n(103)),a=p(n(814)),s=p(n(20)),l=n(197),u=n(467),c=p(n(1403)),d=p(n(13)),f=n(27);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),o.prototype.render=function(){var e,t,n=this.props,o=n.name,i=n.levels,s=n.disabled,l=n.selectedSectionId,f=n.onBubbleClick,p=n.isRtl,h=n.lessonName,g=i.length>1,y=g||f?void 0:i[0].url,v=g?void 0:function(){return f(i[0])},_=p?b.col2RTL:b.col2,w=!1;return i[0].isUnplugged||i[i.length-1].isUnplugged?g?(e="",t=(0,u.getIconForLevel)(i[0])):(e=d.default.unpluggedActivity(),w=!0):(e=i[0].levelNumber.toString(),t=(0,u.getIconForLevel)(i[0]),g&&(e+="-".concat(i[i.length-1].levelNumber))),r.default.createElement("table",{style:b.table},r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("td",{style:b.col1},r.default.createElement(c.default,{levels:i,icon:t,text:e,disabled:s,selectedSectionId:l,progressStyle:w,onSingleLevelClick:f})),r.default.createElement("td",{style:_},r.default.createElement("a",{href:y,onClick:v},r.default.createElement("div",{style:m(m({},b.nameText),b.text)},o)))),g&&r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("div",{style:b.linesAndDot},r.default.createElement("div",{style:b.verticalLine}),r.default.createElement("div",{style:b.horizontalLine}),r.default.createElement("div",{style:b.dot}))),r.default.createElement("td",{style:b.col2},r.default.createElement(a.default,{levels:i,disabled:s,selectedSectionId:l,onBubbleClick:f,lessonName:h})))))},o}(r.default.Component);y(v,"propTypes",{name:o.default.string,lessonName:o.default.string,levels:o.default.arrayOf(l.levelWithProgressType).isRequired,disabled:o.default.bool.isRequired,selectedSectionId:o.default.number,onBubbleClick:o.default.func,isRtl:o.default.bool});var b={table:{marginTop:12},nameText:{color:s.default.charcoal},text:{display:"inline-block",fontFamily:'"Gotham 5r", sans-serif',fontSize:14,letterSpacing:-.12},col2:{paddingLeft:20},col2RTL:{paddingRight:20},linesAndDot:{whiteSpace:"nowrap",marginLeft:"50%",marginRight:14},verticalLine:{display:"inline-block",backgroundColor:s.default.lighter_gray,height:15,width:3,position:"relative",bottom:2},horizontalLine:{display:"inline-block",backgroundColor:s.default.lighter_gray,position:"relative",top:-2,height:3,width:"100%"},dot:{display:"inline-block",position:"relative",left:-2,top:1,backgroundColor:s.default.lighter_gray,height:10,width:10,borderRadius:10}},_=v;t.UnconnectedProgressLevelSet=_;var w=(0,f.connect)((function(e){return{isRtl:e.isRtl}}))((0,i.default)(v));t.default=w},e=>{e.exports.isMobile=function(){return/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/.test(window.navigator.userAgent)},e.exports.isSafari=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.configMicrobit=t.configCircuitPlayground=void 0,t.getMakerBlocks=P;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1352)),i=c(n(53)),a=c(n(20)),s=n(610),l=n(841),u=n(878);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={},v=y;t.default=v;var b="Maker";y.MAKER_CATEGORY=b;var _="Circuit",w="micro:bit",E="[ColorLed].",O=i.default.range(l.N_COLOR_LEDS).map((function(e){return"colorLeds[".concat(e,"]")})),S="".concat(O[0],".");function T(e){return"["+e.map((function(e){return"".concat(JSON.stringify(e))})).join(", ")+"]"}function C(e,t){var n=function(e){return'"'.concat(e,'"')},r=t[e];return Array.isArray(r)?i.default.chain(r).sort().sortedUniq().map(n).value():i.default.chain(t).values().flatten().sort().sortedUniq().map(n).value()}function k(e){return{parent:o,category:b,paletteParams:["pin"],params:[e]}}function A(e){var t=e.category,n=e.blockPrefix,r=e.objectDropdown;return[{func:"on",blockPrefix:n,category:t,tipPrefix:E,modeOptionName:"*.on",objectDropdown:r},{func:"off",blockPrefix:n,category:t,tipPrefix:E,modeOptionName:"*.off",objectDropdown:r},{func:"toggle",blockPrefix:n,category:t,tipPrefix:E,modeOptionName:"*.toggle",objectDropdown:r},{func:"blink",blockPrefix:n,category:t,paletteParams:["interval"],params:["100"],tipPrefix:E,modeOptionName:"*.blink",objectDropdown:r},{func:"pulse",blockPrefix:n,category:t,paletteParams:["interval"],params:["300"],tipPrefix:E,modeOptionName:"*.pulse",objectDropdown:r}]}function P(e){var t='"A6"';return e===w&&(t="0"),[{func:"pinMode",parent:o,category:b,paletteParams:["pin","mode"],params:[t,'"output"'],dropdown:{1:['"output"','"input"','"analog"']}},{func:"digitalWrite",parent:o,category:b,paletteParams:["pin","value"],params:[t,"1"],dropdown:{1:["1","0"]}},{func:"digitalRead",parent:o,category:b,type:"value",nativeIsAsync:!0,paletteParams:["pin"],params:[t]},{func:"analogWrite",parent:o,category:b,paletteParams:["pin","value"],params:[t,"150"]},{func:"analogRead",parent:o,category:b,type:"value",nativeIsAsync:!0,paletteParams:["pin"],params:[t]},{func:"boardConnected",parent:o,category:b,type:"value"},{func:"exit",category:b,noAutocomplete:!0},p(p({func:"createLed"},k(t)),{},{type:"either"}),p(p({func:"var myLed = createLed"},k(t)),{},{noAutocomplete:!0,docFunc:"createLed"})].concat(m(A({category:b,blockPrefix:"__."})),[p(p({func:"createButton"},k(t)),{},{type:"either"}),p(p({func:"var myButton = createButton"},k(t)),{},{noAutocomplete:!0,docFunc:"createButton"})])}y.stringifySong=T,y.getBoardEventDropdownForParam=C;var x=[{func:"onBoardEvent",parent:o,category:_,paletteParams:["component","event","callback"],params:["buttonL",'"down"',"function() {\n  \n}"],allowFunctionDrop:{2:!0},dropdown:{0:Object.keys(l.CP_COMPONENT_EVENTS),1:function(e){return C((0,s.getFirstParam)("onBoardEvent",this.parent,e),l.CP_COMPONENT_EVENTS)}}},{func:"led",category:_,type:"readonlyproperty",noAutocomplete:!0},{func:"led.on",category:_},{func:"led.off",category:_},{func:"led.blink",category:_,paletteParams:["interval"],params:["200"]},{func:"led.toggle",category:_},{func:"led.pulse",category:_,paletteParams:["interval"],params:["200"]},{func:"colorLeds",category:_,type:"readonlyproperty"}].concat(m(A({category:_,blockPrefix:S,objectDropdown:{options:O}})),[{func:"intensity",blockPrefix:S,category:_,params:["25"],tipPrefix:E,modeOptionName:"*.intensity",objectDropdown:{options:O}},{func:"color",blockPrefix:S,category:_,paletteParams:["color"],params:['"#FF00FF"'],paramButtons:{minArgs:1,maxArgs:3},tipPrefix:E,modeOptionName:"*.color",objectDropdown:{options:O}},{func:"buzzer",category:_,type:"readonlyproperty",noAutocomplete:!0},{func:"buzzer.frequency",category:_,paletteParams:["frequency","duration"],params:["500","100"],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.note",category:_,paletteParams:["note","duration"],params:['"A4"',"100"],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.off",category:_},{func:"buzzer.stop",category:_},{func:"buzzer.play",category:_,paletteParams:["notes","tempo"],params:[T(l.SONG_CHARGE),120],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.playNotes",category:_,paletteParams:["notes","tempo"],params:[T(l.SONG_SINGLE_NOTE),120],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.playSong",category:_,paletteParams:["notes","tempo"],params:["[".concat(T(l.SONG_CHARGE[0]),"]"),120],paramButtons:{minArgs:1,maxArgs:2}},{func:"accelerometer.getOrientation",category:_,type:"value",paletteParams:["orientationType"],params:['"inclination"'],dropdown:{0:['"inclination"','"pitch"','"roll"']}},{func:"accelerometer.getAcceleration",category:_,type:"value",paletteParams:["orientationType"],params:['"x"'],dropdown:{0:['"x"','"y"','"z"','"total"']}},{func:"accelerometer.start",category:_},{func:"accelerometer.sensitivity",category:_,type:"property"},{func:"isPressed",objectDropdown:{options:l.CP_BUTTON_VARS,dropdownOnly:!0},category:_,blockPrefix:"".concat(l.CP_BUTTON_VARS[0],"."),modeOptionName:"*.isPressed",type:"readonlyproperty",tipPrefix:"[Button]."},{func:"holdtime",objectDropdown:{options:l.CP_BUTTON_VARS,dropdownOnly:!0},category:_,blockPrefix:"".concat(l.CP_BUTTON_VARS[0],"."),modeOptionName:"*.holdtime",type:"readonlyproperty",tipPrefix:"[Button]."},{func:"soundSensor.start",category:_,noAutocomplete:!0},{func:"soundSensor.value",category:_,type:"readonlyproperty"},{func:"soundSensor.getAveragedValue",category:_,params:["500"],paletteParams:["ms"],type:"value"},{func:"soundSensor.setScale",category:_,params:["0","100"],paletteParams:["low","high"]},{func:"soundSensor.threshold",category:_,type:"property"},{func:"lightSensor.start",category:_,noAutocomplete:!0},{func:"lightSensor.value",category:_,type:"readonlyproperty"},{func:"lightSensor.getAveragedValue",category:_,params:["500"],paletteParams:["ms"],type:"value"},{func:"lightSensor.setScale",category:_,params:["0","100"],paletteParams:["low","high"]},{func:"lightSensor.threshold",category:_,type:"property"},{func:"tempSensor.F",category:_,type:"readonlyproperty"},{func:"tempSensor.C",category:_,type:"readonlyproperty"},{func:"toggleSwitch.isOpen",category:_,type:"readonlyproperty"}]),I=[p(p({func:"createCapacitiveTouchSensor"},k('"A6"')),{},{type:"either"}),p(p({func:"var mySensor = createCapacitiveTouchSensor"},k('"A6"')),{},{noAutocomplete:!0,docFunc:"createCapacitiveTouchSensor"}),{func:"onBoardEvent",parent:o,category:w,paletteParams:["component","event","callback"],params:["buttonA",'"down"',"function() {\n  \n}"],allowFunctionDrop:{2:!0},dropdown:{0:Object.keys(u.MB_COMPONENT_EVENTS),1:function(e){return C((0,s.getFirstParam)("onBoardEvent",this.parent,e),u.MB_COMPONENT_EVENTS)}}},{func:"ledScreen",category:w,type:"readonlyproperty"},{func:"ledScreen.on",category:w,params:["0","0"],paletteParams:["x","y"]},{func:"ledScreen.off",category:w,params:["0","0"],paletteParams:["x","y"]},{func:"ledScreen.toggle",category:w,params:["0","0"],paletteParams:["x","y"]},{func:"ledScreen.clear",category:w},{func:"ledScreen.scrollNumber",category:w,params:["100"],paletteParams:["number"]},{func:"ledScreen.scrollString",category:w,params:['"Hello World!"'],paletteParams:["string"]},{func:"ledScreen.display",category:w,params:["[\n[1, 0, 1, 0, 1],\n[1, 0, 1, 0, 1],\n[1, 0, 1, 0, 1],\n[0, 1, 0, 1, 0],\n[1, 0, 1, 0, 1]\n]"],paletteParams:["boardArray"]},{func:"isPressed",objectDropdown:{options:u.MB_BUTTON_VARS,dropdownOnly:!0},category:w,blockPrefix:"".concat(u.MB_BUTTON_VARS[0],"."),modeOptionName:"*.isPressed",type:"readonlyproperty",tipPrefix:"[Button]."},{func:"accelerometer.getOrientation",category:w,type:"value",paletteParams:["orientationType"],params:['"inclination"'],dropdown:{0:['"inclination"','"pitch"','"roll"']}},{func:"accelerometer.getAcceleration",category:w,type:"value",paletteParams:["orientationType"],params:['"x"'],dropdown:{0:['"x"','"y"','"z"','"total"']}},{func:"lightSensor.start",category:w,noAutocomplete:!0},{func:"lightSensor.value",category:w,type:"readonlyproperty"},{func:"lightSensor.getAveragedValue",category:w,params:["500"],paletteParams:["ms"],type:"value"},{func:"lightSensor.setScale",category:w,params:["0","100"],paletteParams:["low","high"]},{func:"lightSensor.threshold",category:w,type:"property"},{func:"compass.getHeading",category:w,type:"value"},{func:"tempSensor.F",category:w,type:"readonlyproperty"},{func:"tempSensor.C",category:w,type:"readonlyproperty"}];y.categories=h({},b,{color:"cyan",rgb:a.default.droplet_cyan,blocks:[]});var R={categories:h({},w,{id:"microbit",color:"red",rgb:a.default.droplet_red,blocks:[]}),blocks:[].concat(m(P(w)),I),additionalPredefValues:[].concat(m(u.MB_BUTTON_VARS),m(u.MB_SENSOR_VARS))};t.configMicrobit=R;var D={categories:h({},_,{id:"circuitPlayground",color:"red",rgb:a.default.droplet_red,blocks:[]}),blocks:[].concat(m(P(_)),m(x)),additionalPredefValues:Object.keys(l.CP_COMPONENT_EVENTS)};t.configCircuitPlayground=D},(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=loadAppOptions,exports.getAppOptions=getAppOptions,exports.setAppOptions=setAppOptions,exports.setupApp=setupApp;var _jquery=_interopRequireDefault(__webpack_require__(32)),_react=_interopRequireDefault(__webpack_require__(1)),_reactDom=_interopRequireDefault(__webpack_require__(36)),_redux=__webpack_require__(876),_appRedux=__webpack_require__(1351),_clientApi=__webpack_require__(449),_renderProjectNotFound=_interopRequireDefault(__webpack_require__(2692)),_renderVersionNotFound=_interopRequireDefault(__webpack_require__(2693)),_getScriptData=_interopRequireDefault(__webpack_require__(194)),_playzone=_interopRequireDefault(__webpack_require__(1879)),_codeStudioLevels=__webpack_require__(760),_queryString=_interopRequireDefault(__webpack_require__(169)),imageUtils=_interopRequireWildcard(__webpack_require__(392)),_trackEvent=_interopRequireDefault(__webpack_require__(142)),_locale=_interopRequireDefault(__webpack_require__(13)),_utils=__webpack_require__(388);function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var c={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=p.prototype=d.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(o,i,a,s){var l=u(e[o],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==_typeof(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,r,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var renderAbusive=__webpack_require__(2291),userAgentParser=__webpack_require__(1340),clientState=__webpack_require__(765),timing=__webpack_require__(2458),project=__webpack_require__(450),createCallouts=__webpack_require__(891).default,reporting=__webpack_require__(1870),LegacyDialog=__webpack_require__(753),showVideoDialog=__webpack_require__(1297).showVideoDialog,SHARE_IMAGE_NAME="_share_image.png";function setupApp(appOptions){if(!window.dashboard)throw new Error("Assume existence of window.dashboard");timing.startTiming("Puzzle",window.script_path,""),appOptions.hasContainedLevels&&(appOptions.readonlyWorkspace&&(0,_codeStudioLevels.lockContainedLevelAnswers)(),appOptions.level.edit_blocks||appOptions.level.editBlocks||(appOptions.readonlyWorkspace=!0));var baseOptions={containerId:"codeApp",position:{blockYCoordinateInterval:25},onInitialize:function(){if(createCallouts(this.level.callouts||this.callouts),appOptions.level.projectTemplateLevelName||"applab"===appOptions.app||"gamelab"===appOptions.app||"spritelab"===appOptions.app||"poetry"===appOptions.app||"weblab"===appOptions.app){var e;(0,_jquery.default)("#clear-puzzle-header").hide();var t="teacher"===(null===(e=(0,_redux.getStore)().getState().currentUser)||void 0===e?void 0:e.userType),n=!!(0,_utils.queryParams)("user_id");(project.isOwner()||t&&n&&appOptions.level.isStarted)&&(0,_jquery.default)("#versions-header").show()}(0,_jquery.default)(document).trigger("appInitialized")},onAttempt:function(e){if(appOptions.level.isProjectLevel&&!appOptions.level.edit_blocks)return tryToUploadShareImageToS3({image:e.image,level:appOptions.level});if(!appOptions.channel||appOptions.level.edit_blocks||appOptions.hasContainedLevels||(delete e.program,delete e.image),appOptions.level.edit_blocks||!appOptions.hasContainedLevels){if(appOptions.hasContainedLevels){var t=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);e.program=Blockly.Xml.domToText(t)}e.callback=appOptions.report.callback}(0,_trackEvent.default)("Activity","Lines of Code",window.script_path,e.lines),e.fallbackResponse=appOptions.report.fallback_response,(0,_trackEvent.default)("Puzzle","Attempt",window.script_path,e.pass?1:0),e.pass&&((0,_trackEvent.default)("Puzzle","Success",window.script_path,e.attempt),timing.stopTiming("Puzzle",window.script_path,"")),reporting.sendReport(e)},onResetPressed:function(){reporting.cancelReport()},onContinue:function(){var e=reporting.getLastServerResponse();if(e.videoInfo)showVideoDialog(e.videoInfo);else if(e.endOfLessonExperience){var t=document.createElement("div"),n=e.previousStageInfo,r="".concat(_locale.default.lesson()," ").concat(n.position,": ").concat(n.name);_reactDom.default.render(_react.default.createElement(_playzone.default,{lessonName:r,onContinue:function(){o.hide()}}),t);var o=new LegacyDialog({body:t,width:800,redirect:e.nextRedirect});o.show()}else e.nextRedirect&&(window.location.href=e.nextRedirect)},showInstructionsWrapper:function(e){if(!this.share&&!appOptions.level.skipInstructionsPopup){var t=e;appOptions.level.afterVideoBeforeInstructionsFn&&(t=function(){appOptions.level.afterVideoBeforeInstructionsFn(e)});var n=!!appOptions.autoplayVideo,r=!(!appOptions.level.shortInstructions&&!appOptions.level.aniGifURL),o=!!_queryString.default.parse(location.search).noautoplay;n&&!o?(r&&(appOptions.autoplayVideo.onClose=t),showVideoDialog(appOptions.autoplayVideo)):(n&&o&&clientState.recordVideoSeen(appOptions.autoplayVideo.key),r&&t())}}};_jquery.default.extend(!0,appOptions,baseOptions),function fixUpFunctions(node){if("object"===_typeof(node))for(var i in node)if(/^fn_/.test(i))try{node[i.replace(/^fn_/,"")]=eval("("+node[i]+")")}catch(e){}else fixUpFunctions(node[i])}(appOptions.level),appOptions.noPadding=userAgentParser.isMobile()}function tryToUploadShareImageToS3(e){var t=e.image;if(!e.level.disableSharing&&t){var n="data:image/png;base64,".concat(decodeURIComponent(t));imageUtils.dataURIToFramedBlob(n,(function(e){_clientApi.files.putFile(SHARE_IMAGE_NAME,e)}))}}function loadProjectAndCheckAbuse(e){return new Promise((function(t,n){project.load().then((function(){project.hideBecauseAbusive()?renderAbusive(project,_locale.default.tosLong({url:"http://code.org/tos"})):project.hideBecausePrivacyViolationOrProfane()?renderAbusive(project,_locale.default.policyViolation()):project.getSharingDisabled()?renderAbusive(project,_locale.default.sharingDisabled({sign_in_url:"https://studio.code.org/users/sign_in"})):t(e)})).catch((function(){project.channelNotFound()?(0,_renderProjectNotFound.default)():project.sourceNotFound()&&(0,_renderVersionNotFound.default)()}))}))}function loadAppAsync(e){return _loadAppAsync.apply(this,arguments)}function _loadAppAsync(){return(_loadAppAsync=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,o,i,a,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(setupApp(t),n="true"===clientState.queryParams("solution"),t.share&&!window.navigator.standalone&&userAgentParser.isSafari()&&window.addEventListener("load",(function(){return addToHome.show(!0)}),!1),!n){e.next=5;break}return e.abrupt("return",t);case 5:if(t.publicCaching||t.channel||t.userId||(t.level.lastAttempt=clientState.sourceForLevel(t.scriptName,t.serverProjectLevelId||t.serverLevelId)),t.publicCaching){e.next=8;break}return e.abrupt("return",loadProjectAndCheckAbuse(t));case 8:return t.disableSocialShare=!0,r=!!t.levelRequiresChannel&&!t.channel,o=clientState.queryParams("section_id")||"",i=_jquery.default.ajax("/api/example_solutions/".concat(t.serverScriptLevelId,"/").concat(t.serverLevelId,"?section_id=").concat(o)),a=_jquery.default.ajax({url:"/api/user_app_options"+"/".concat(t.scriptName)+"/".concat(t.lessonPosition)+"/".concat(t.levelPosition)+"/".concat(t.serverLevelId),data:{user_id:clientState.queryParams("user_id"),get_channel_id:r}}),e.prev=13,e.next=16,i;case 16:(s=e.sent)&&(t.exampleSolutions=s),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.error("Could not load example solutions");case 23:return e.prev=23,e.next=26,a;case 26:if(l=e.sent,t.disableSocialShare=l.disableSocialShare,t.isInstructor=l.isInstructor,l.isStarted&&(t.level.isStarted=l.isStarted),l.skipInstructionsPopup&&(t.level.skipInstructionsPopup=l.skipInstructionsPopup),l.readonlyWorkspace&&(t.readonlyWorkspace=l.readonlyWorkspace),l.callouts&&(t.callouts=l.callouts),l.lastAttempt?t.level.lastAttempt=l.lastAttempt.source:l.signedIn||(t.level.lastAttempt=clientState.sourceForLevel(t.scriptName,t.serverProjectLevelId||t.serverLevelId)),t.level.isNavigator=l.isNavigator,l.pairingDriver&&(t.level.pairingDriver=l.pairingDriver,t.level.pairingAttempt=l.pairingAttempt,t.level.pairingChannelId=l.pairingChannelId),!l.channel){e.next=44;break}return t.channel=l.channel,t.reduceChannelUpdates=l.reduceChannelUpdates,e.next=41,loadProjectAndCheckAbuse(t);case 41:return e.abrupt("return",e.sent);case 44:return e.abrupt("return",t);case 45:e.next=51;break;case 47:return e.prev=47,e.t1=e.catch(23),console.error("Could not load app options"),e.abrupt("return",t);case 51:case"end":return e.stop()}}),e,null,[[13,20],[23,47]])})))).apply(this,arguments)}window.dashboard=window.dashboard||{};var sourceHandler={setMakerAPIsEnabled:function(e){getAppOptions().level.makerlabEnabled=e},getMakerAPIsEnabled:function(){return getAppOptions().level.makerlabEnabled},setSelectedSong:function(e){getAppOptions().level.selectedSong=e},getSelectedSong:function(){return getAppOptions().level.selectedSong},setSelectedPoem:function(e){getAppOptions().level.selectedPoem=e},getSelectedPoem:function(){return getAppOptions().level.selectedPoem},setInitialLevelHtml:function(e){getAppOptions().level.levelHtml=e},getLevelHtml:function(){return window.Applab&&Applab.getHtml()},setInitialLibrariesList:function(e){getAppOptions().level.libraries=e},getLibrariesList:function(){return getAppOptions().level.libraries},setInitialLevelSource:function(e){getAppOptions().level.lastAttempt=e},getLevelSource:function(e){return new Promise((function(t,n){var r,o=getAppOptions();window.Blockly&&Blockly.mainBlockSpace?(r=Blockly.cdoUtils.isWorkspaceReadOnly(Blockly.mainBlockSpace)?e:Blockly.Xml.domToText(Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace)),t(r)):o.getCode?(r=o.getCode(),t(r)):o.getCodeAsync&&o.getCodeAsync().then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},setInitialAnimationList:function(e){getAppOptions().initialAnimationList=e},getAnimationList:function(e){getAppOptions().getAnimationList?getAppOptions().getAnimationList(e):e({})},prepareForRemix:function(){var e=getAppOptions().prepareForRemix;return e?e():Promise.resolve()}},APP_OPTIONS;function setAppOptions(e){APP_OPTIONS=e,e.nonGlobal||(window.appOptions=e)}function getAppOptions(){if(!APP_OPTIONS)throw new Error("App Options have not been loaded yet! Did you forget to call loadAppOptions()?");return APP_OPTIONS}function loadAppOptions(){return new Promise((function(e,t){try{setAppOptions((0,_getScriptData.default)("appoptions"))}catch(r){return void t(r)}var n=getAppOptions();n.embedded?e(n):((0,_redux.getStore)().dispatch((0,_appRedux.setAppLoadStarted)()),loadAppAsync(n).then((function(t){project.init(sourceHandler),(0,_redux.getStore)().dispatch((0,_appRedux.setAppLoaded)()),e(t)})))}))}},,,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=1024;let r=0;class o{constructor(e,t){this.from=e,this.to=t}}class i{constructor(e={}){this.id=r++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=l.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}i.closedBy=new i({deserialize:e=>e.split(" ")}),i.openedBy=new i({deserialize:e=>e.split(" ")}),i.group=new i({deserialize:e=>e.split(" ")}),i.contextHash=new i({perNode:!0}),i.lookAhead=new i({perNode:!0}),i.mounted=new i({perNode:!0});class a{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}}const s=Object.create(null);class l{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):s,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new l(e.name||"",t,e.id,n);if(e.props)for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(i.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(i.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?e.name:n[r]];if(o)return o}}}}l.none=new l("",Object.create(null),0,8);class u{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new l(n.name,r,n.id,n.flags):n)}return new u(t)}}const c=new WeakMap,d=new WeakMap;var f;t.IterMode=void 0,(f=t.IterMode||(t.IterMode={}))[f.ExcludeBuffers=1]="ExcludeBuffers",f[f.IncludeAnonymous=2]="IncludeAnonymous",f[f.IgnoreMounts=4]="IgnoreMounts",f[f.IgnoreOverlays=8]="IgnoreOverlays";class p{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(i.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let e=n.toString();e&&(t&&(t+=","),t+=e)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new S(this.topNode,e)}cursorAt(e,t=0,n=0){let r=c.get(this)||this.topNode,o=new S(r);return o.moveTo(e,t),c.set(this,o._tree),o}get topNode(){return new b(this,0,0,null)}resolve(e,t=0){let n=v(c.get(this)||this.topNode,e,t,!1);return c.set(this,n),n}resolveInner(e,t=0){let n=v(d.get(this)||this.topNode,e,t,!0);return d.set(this,n),n}iterate(e){let{enter:n,leave:r,from:o=0,to:i=this.length}=e;for(let a=this.cursor((e.mode||0)|t.IterMode.IncludeAnonymous);;){let e=!1;if(a.from<=i&&a.to>=o&&(a.type.isAnonymous||!1!==n(a))){if(a.firstChild())continue;e=!0}for(;e&&r&&!a.type.isAnonymous&&r(a),!a.nextSibling();){if(!a.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:A(l.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new p(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new p(l.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:o,maxBufferLength:a=n,reused:s=[],minRepeatType:l=o.types.length}=e,u=Array.isArray(r)?new h(r,r.length):r,c=o.types,d=0,f=0;function g(e,t,n,r,i){let{id:p,start:h,end:E,size:O}=u,S=f;for(;O<0;){if(u.next(),-1==O){let t=s[p];return n.push(t),void r.push(h-e)}if(-3==O)return void(d=p);if(-4==O)return void(f=p);throw new RangeError(`Unrecognized record size: ${O}`)}let T,C,k=c[p],P=h-e;if(E-h<=a&&(C=_(u.pos-t,i))){let t=new Uint16Array(C.size-C.skip),n=u.pos-C.size,r=t.length;for(;u.pos>n;)r=w(C.start,t,r);T=new m(t,E-C.start,o),P=C.start-e}else{let e=u.pos-O;u.next();let t=[],n=[],r=p>=l?p:-1,o=0,i=E;for(;u.pos>e;)r>=0&&u.id==r&&u.size>=0?(u.end<=i-a&&(v(t,n,h,o,u.end,i,r,S),o=t.length,i=u.end),u.next()):g(h,e,t,n,r);if(r>=0&&o>0&&o<t.length&&v(t,n,h,o,h,i,r,S),t.reverse(),n.reverse(),r>-1&&o>0){let e=y(k);T=A(k,t,n,0,t.length,0,E-h,e,e)}else T=b(k,t,n,E-h,S-E)}n.push(T),r.push(P)}function y(e){return(t,n,r)=>{let o,a,s=0,l=t.length-1;if(l>=0&&(o=t[l])instanceof p){if(!l&&o.type==e&&o.length==r)return o;(a=o.prop(i.lookAhead))&&(s=n[l]+o.length+a)}return b(e,t,n,r,s)}}function v(e,t,n,r,i,a,s,l){let u=[],c=[];for(;e.length>r;)u.push(e.pop()),c.push(t.pop()+n-i);e.push(b(o.types[s],u,c,a-i,l-a)),t.push(i-n)}function b(e,t,n,r,o=0,a){if(d){let e=[i.contextHash,d];a=a?[e].concat(a):[e]}if(o>25){let e=[i.lookAhead,o];a=a?[e].concat(a):[e]}return new p(e,t,n,r,a)}function _(e,t){let n=u.fork(),r=0,o=0,i=0,s=n.end-a,c={size:0,start:0,skip:0};e:for(let a=n.pos-e;n.pos>a;){let e=n.size;if(n.id==t&&e>=0){c.size=r,c.start=o,c.skip=i,i+=4,r+=4,n.next();continue}let u=n.pos-e;if(e<0||u<a||n.start<s)break;let d=n.id>=l?4:0,f=n.start;for(n.next();n.pos>u;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=l&&(d+=4);n.next()}o=f,r+=e,i+=d}return(t<0||r==e)&&(c.size=r,c.start=o,c.skip=i),c.size>4?c:void 0}function w(e,t,n){let{id:r,start:o,end:i,size:a}=u;if(u.next(),a>=0&&r<l){let s=n;if(a>4){let r=u.pos-(a-4);for(;u.pos>r;)n=w(e,t,n)}t[--n]=s,t[--n]=i-e,t[--n]=o-e,t[--n]=r}else-3==a?d=r:-4==a&&(f=r);return n}let E=[],O=[];for(;u.pos>0;)g(e.start||0,e.bufferStart||0,E,O,-1);let S=null!==(t=e.length)&&void 0!==t?t:E.length?O[0]+E[0].length:0;return new p(c[e.topID],E.reverse(),O.reverse(),S)}(e)}}p.empty=new p(l.none,[],[],0);class h{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new h(this.buffer,this.index)}}class m{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return l.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,n,r,o){let{buffer:i}=this,a=-1;for(let s=e;s!=t&&!(g(o,r,i[s+1],i[s+2])&&(a=s,n>0));s=i[s+3]);return a}slice(e,t,n,r){let o=this.buffer,i=new Uint16Array(t-e);for(let a=e,s=0;a<t;)i[s++]=o[a++],i[s++]=o[a++]-n,i[s++]=o[a++]-n,i[s++]=o[a++]-e;return new m(i,r-n,this.set)}}function g(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function y(e,t){let n=e.childBefore(t);for(;n;){let t=n.lastChild;if(!t||t.to!=n.to)break;t.type.isError&&t.from==t.to?(e=n,n=t.prevSibling):n=t}return e}function v(e,n,r,o){for(var i;e.from==e.to||(r<1?e.from>=n:e.from>n)||(r>-1?e.to<=n:e.to<n);){let t=!o&&e instanceof b&&e.index<0?null:e.parent;if(!t)return e;e=t}let a=o?0:t.IterMode.IgnoreOverlays;if(o)for(let t=e,s=t.parent;s;t=s,s=t.parent)t instanceof b&&t.index<0&&(null===(i=s.enter(n,r,a))||void 0===i?void 0:i.from)!=t.from&&(e=s);for(;;){let t=e.enter(n,r,a);if(!t)return e;e=t}}class b{constructor(e,t,n,r){this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,o,a=0){for(let s=this;;){for(let{children:l,positions:u}=s._tree,c=n>0?l.length:-1;e!=c;e+=n){let c=l[e],d=u[e]+s.from;if(g(o,r,d,d+c.length))if(c instanceof m){if(a&t.IterMode.ExcludeBuffers)continue;let i=c.findChild(0,c.buffer.length,n,r-d,o);if(i>-1)return new O(new E(s,c,e,d),null,i)}else if(a&t.IterMode.IncludeAnonymous||!c.type.isAnonymous||T(c)){let l;if(!(a&t.IterMode.IgnoreMounts)&&c.props&&(l=c.prop(i.mounted))&&!l.overlay)return new b(l.tree,d,e,s);let u=new b(c,d,e,s);return a&t.IterMode.IncludeAnonymous||!u.type.isAnonymous?u:u.nextChild(n<0?c.children.length-1:0,n,r,o)}}if(a&t.IterMode.IncludeAnonymous||!s.type.isAnonymous)return null;if(e=s.index>=0?s.index+n:n<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let o;if(!(r&t.IterMode.IgnoreOverlays)&&(o=this._tree.prop(i.mounted))&&o.overlay){let t=e-this.from;for(let{from:e,to:r}of o.overlay)if((n>0?e<=t:e<t)&&(n<0?r>=t:r>t))return new b(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new S(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return v(this,e,t,!1)}resolveInner(e,t=0){return v(this,e,t,!0)}enterUnfinishedNodesBefore(e){return y(this,e)}getChild(e,t=null,n=null){let r=_(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return _(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return w(this,e)}}function _(e,t,n,r){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=n)for(;!o.type.is(n);)if(!o.nextSibling())return i;for(;;){if(null!=r&&o.type.is(r))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==r?i:[]}}function w(e,t,n=t.length-1){for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class E{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class O{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new O(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&t.IterMode.ExcludeBuffers)return null;let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return i<0?null:new O(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new O(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new O(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new S(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let i=n.buffer[this.index+1],a=n.buffer[this.index+2];e.push(n.slice(r,o,i,a)),t.push(0)}return new p(this.type,e,t,this.to-this.from)}resolve(e,t=0){return v(this,e,t,!1)}resolveInner(e,t=0){return v(this,e,t,!0)}enterUnfinishedNodesBefore(e){return y(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let r=_(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return _(this,e,t,n)}get node(){return this}matchContext(e){return w(this,e)}}class S{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof b)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof b?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?!(r&t.IterMode.ExcludeBuffers)&&this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&t.IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&t.IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(o.buffer.buffer[e+3]<this.index)return!1;({index:n,parent:r}=o)}else({index:n,_parent:r}=this._tree);for(;r;({index:n,_parent:r}=r))if(n>-1)for(let o=n+e,i=e<0?-1:r._tree.children.length;o!=i;o+=e){let e=r._tree.children[o];if(this.mode&t.IterMode.IncludeAnonymous||e instanceof m||!e.type.isAnonymous||T(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=o+1;break e}r=this.stack[--o]}for(let r=n;r<this.stack.length;r++)t=new O(this.buffer,t,this.stack[r]);return this.bufferNode=new O(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return w(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return w(this.node,e,r);let i=n[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}}function T(e){return e.children.some((e=>e instanceof m||!e.type.isAnonymous||T(e)))}const C=new WeakMap;function k(e,t){if(!e.isAnonymous||t instanceof m||t.type!=e)return 1;let n=C.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof p)){n=1;break}n+=k(e,r)}C.set(t,n)}return n}function A(e,t,n,r,o,i,a,s,l){let u=0;for(let p=r;p<o;p++)u+=k(e,t[p]);let c=Math.ceil(1.5*u/8),d=[],f=[];return function t(n,r,o,a,s){for(let u=o;u<a;){let o=u,p=r[u],h=k(e,n[u]);for(u++;u<a;u++){let t=k(e,n[u]);if(h+t>=c)break;h+=t}if(u==o+1){if(h>c){let e=n[o];t(e.children,e.positions,0,e.children.length,r[o]+s);continue}d.push(n[o])}else{let t=r[u-1]+n[u-1].length-p;d.push(A(e,n,r,o,u,p,t,null,l))}f.push(p+s-i)}}(t,n,r,o,0),(s||l)(d,f,a)}class P{constructor(e,t,n,r,o=!1,i=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new P(0,e.length,e,0,!1,n)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],o=1,i=e.length?e[0]:null;for(let a=0,s=0,l=0;;a++){let u=a<t.length?t[a]:null,c=u?u.fromA:1e9;if(c-s>=n)for(;i&&i.from<c;){let t=i;if(s>=t.from||c<=t.to||l){let e=Math.max(t.from,s)-l,n=Math.min(t.to,c)-l;t=e>=n?null:new P(e,n,t.tree,t.offset+l,a>0,!!u)}if(t&&r.push(t),i.to>c)break;i=o<e.length?e[o++]:null}if(!u)break;s=u.toA,l=u.toA-u.toB}return r}}class x{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}class I{constructor(e,t,n,r,o){this.parser=e,this.parse=t,this.overlay=n,this.target=r,this.ranges=o}}class R{constructor(e,t,n,r,o,i,a){this.parser=e,this.predicate=t,this.mounts=n,this.index=r,this.start=o,this.target=i,this.prev=a,this.depth=0,this.ranges=[]}}const D=new i({perNode:!0});class j{constructor(e,t,n,r,o){this.nest=t,this.input=n,this.fragments=r,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new p(e.type,e.children,e.positions,e.length,e.propValues.concat([[D,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[i.mounted.id]=new a(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new F(this.fragments),n=null,r=null,i=new S(new b(this.baseTree,this.ranges[0].from,0,null),t.IterMode.IncludeAnonymous|t.IterMode.IgnoreMounts);e:for(let t,a;null==this.stoppedAt||i.from<this.stoppedAt;){let s,l=!0;if(e.hasNode(i)){if(n){let e=n.mounts.find((e=>e.frag.from<=i.from&&e.frag.to>=i.to&&e.mount.overlay));if(e)for(let t of e.mount.overlay){let r=t.from+e.pos,o=t.to+e.pos;r>=i.from&&o<=i.to&&!n.ranges.some((e=>e.from<o&&e.to>r))&&n.ranges.push({from:r,to:o})}}l=!1}else if(r&&(a=N(r.ranges,i.from,i.to)))l=2!=a;else if(!i.type.isAnonymous&&i.from<i.to&&(t=this.nest(i,this.input))){i.tree||M(i);let a=e.findMounts(i.from,t.parser);if("function"==typeof t.overlay)n=new R(t.parser,t.overlay,a,this.inner.length,i.from,i.tree,n);else{let e=U(this.ranges,t.overlay||[new o(i.from,i.to)]);e.length&&this.inner.push(new I(t.parser,t.parser.startParse(this.input,W(a,e),e),t.overlay?t.overlay.map((e=>new o(e.from-i.from,e.to-i.from))):null,i.tree,e)),t.overlay?e.length&&(r={ranges:e,depth:0,prev:r}):l=!1}}else n&&(s=n.predicate(i))&&(!0===s&&(s=new o(i.from,i.to)),s.from<s.to&&n.ranges.push(s));if(l&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let e=U(this.ranges,n.ranges);e.length&&this.inner.splice(n.index,0,new I(n.parser,n.parser.startParse(this.input,W(n.mounts,e),e),n.ranges.map((e=>new o(e.from-n.start,e.to-n.start))),n.target,e)),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function N(e,t,n){for(let r of e){if(r.from>=n)break;if(r.to>t)return r.from<=t&&r.to>=n?2:1}return 0}function L(e,t,n,r,o,i){if(t<n){let a=e.buffer[t+1],s=e.buffer[n-2];r.push(e.slice(t,n,a,s)),o.push(a-i)}}function M(e){let{node:t}=e,n=0;do{e.parent(),n++}while(!e.tree);let r=0,o=e.tree,i=0;for(;i=o.positions[r]+e.from,!(i<=t.from&&i+o.children[r].length>=t.to);r++);let a=o.children[r],s=a.buffer;o.children[r]=function e(n,r,o,l,u){let c=n;for(;s[c+2]+i<=t.from;)c=s[c+3];let d=[],f=[];L(a,n,c,d,f,l);let h=s[c+1],m=s[c+2],g=h+i==t.from&&m+i==t.to&&s[c]==t.type.id;return d.push(g?t.toTree():e(c+4,s[c+3],a.set.types[s[c]],h,m-h)),f.push(h-l),L(a,s[c+3],r,d,f,l),new p(o,d,f,u)}(0,s.length,l.none,0,a.length);for(let l=0;l<=n;l++)e.childAfter(t.from)}class B{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(t.IterMode.IncludeAnonymous|t.IterMode.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,t.IterMode.IgnoreOverlays|t.IterMode.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof p))break;t=t.children[0]}return!1}}class F{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=null!==(t=n.tree.prop(D))&&void 0!==t?t:n.to,this.inner=new B(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(D))&&void 0!==e?e:t.to,this.inner=new B(t.tree,-t.offset)}}findMounts(e,t){var n;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let o=null===(n=e.tree)||void 0===n?void 0:n.prop(i.mounted);if(o&&o.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let n=this.fragments[t];if(n.from>=e.to)break;n.tree==this.curFrag.tree&&r.push({frag:n,pos:e.from-n.offset,mount:o})}}}return r}}function U(e,t){let n=null,r=t;for(let i=1,a=0;i<e.length;i++){let s=e[i-1].to,l=e[i].from;for(;a<r.length;a++){let e=r[a];if(e.from>=l)break;e.to<=s||(n||(r=n=t.slice()),e.from<s?(n[a]=new o(e.from,s),e.to>l&&n.splice(a+1,0,new o(l,e.to))):e.to>l?n[a--]=new o(l,e.to):n.splice(a--,1))}}return r}function H(e,t,n,r){let i=0,a=0,s=!1,l=!1,u=-1e9,c=[];for(;;){let d=i==e.length?1e9:s?e[i].to:e[i].from,f=a==t.length?1e9:l?t[a].to:t[a].from;if(s!=l){let e=Math.max(u,n),t=Math.min(d,f,r);e<t&&c.push(new o(e,t))}if(u=Math.min(d,f),1e9==u)break;d==u&&(s?(s=!1,i++):s=!0),f==u&&(l?(l=!1,a++):l=!0)}return c}function W(e,t){let n=[];for(let{pos:r,mount:i,frag:a}of e){let e=r+(i.overlay?i.overlay[0].from:0),s=e+i.tree.length,l=Math.max(a.from,e),u=Math.min(a.to,s);if(i.overlay){let s=H(t,i.overlay.map((e=>new o(e.from+r,e.to+r))),l,u);for(let t=0,r=l;;t++){let o=t==s.length,l=o?u:s[t].from;if(l>r&&n.push(new P(r,l,i.tree,-e,a.from>=r,a.to<=l)),o)break;r=s[t].to}}else n.push(new P(l,u,i.tree,-e,a.from>=e,a.to<=s))}return n}t.DefaultBufferLength=n,t.MountedTree=a,t.NodeProp=i,t.NodeSet=u,t.NodeType=l,t.NodeWeakMap=class{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof O?this.setBuffer(e.context.buffer,e.index,t):e instanceof b&&this.map.set(e.tree,t)}get(e){return e instanceof O?this.getBuffer(e.context.buffer,e.index):e instanceof b?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},t.Parser=class{startParse(e,t,n){return"string"==typeof e&&(e=new x(e)),n=n?n.length?n.map((e=>new o(e.from,e.to))):[new o(0,0)]:[new o(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}},t.Tree=p,t.TreeBuffer=m,t.TreeCursor=S,t.TreeFragment=P,t.parseMixed=function(e){return(t,n,r,o)=>new j(t,e,n,r,o)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(180));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,o(n(181)).default)((0,r.default)("spritelab_locale"),"spritelab");t.default=i,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(137),o=n(136),i=n(1500),a=n(632),s=n(137),l=n(885),u=n(884),c=n(1365),d=p(n(13)),f=p(n(1346));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=(0,o.getStore)().getState().animationList;if(!t||0===t.orderedKeys.length)return console.warn("No sprites available"),[["sprites missing","null"]];var n=t.orderedKeys.filter((function(n){var r=(t.propsByKey[n].categories||[]).includes("backgrounds");return e?r:!r})).map((function(e){var n=t.propsByKey[e];return n.sourceUrl?[n.sourceUrl,'"'.concat(n.name,'"')]:[(0,l.animationSourceUrl)(e,n,(0,o.getStore)().getState().pageConstants.channelId),'"'.concat(n.name,'"')]}));return 0===n.length?[["sprites missing","null"]]:n}function v(){return y(!1)}function b(){return y(!0)}var _=["#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff","#ff8800","#8800ff","#00ff88"],w={sprites:v,customInputTypes:{locationPicker:{addInput:function(e,t,n,o){o.appendField("".concat(n.label,"(0, 0)"),"".concat(n.name,"_LABEL"));var s=o.getFieldRow(),l=s[s.length-1],u=document.createElementNS(r.SVG_NS,"tspan");u.style.fontFamily="FontAwesome",u.textContent="";var c=new Blockly.FieldButton(u,(function(e){(0,i.getLocation)((function(e){e&&c.setValue(JSON.stringify(e))}))}),t.getHexColour(),(function(e){if(e)try{var t=JSON.parse(e);l.setValue("".concat(n.label,"(").concat(t.x,", ").concat(a.APP_HEIGHT-t.y,")"))}catch(r){}}));o.appendField(c,n.name)},generateCode:function(e,t){return"(".concat(e.getFieldValue(t.name),")")}},locationVariableDropdown:{addInput:function(e,t,n,r){t.getVars=function(){return g({},Blockly.BlockValueType.LOCATION,[t.getFieldValue(n.name)])},t.renameVar=function(e,r){Blockly.Names.equals(e,t.getFieldValue(n.name))&&t.setTitleValue(r,n.name)},t.removeVar=function(e){Blockly.Names.equals(e,t.getFieldValue(n.name))&&t.dispose(!0,!0)},r.appendField(n.label).appendField(Blockly.Msg.VARIABLES_GET_TITLE).appendField(new Blockly.FieldVariable(Blockly.Msg.VARIABLES_SET_ITEM,null,null,Blockly.BlockValueType.LOCATION,null),n.name).appendField(Blockly.Msg.VARIABLES_GET_TAIL)},generateCode:function(e,t){return Blockly.JavaScript.translateVarName(e.getFieldValue(t.name))}},soundPicker:{addInput:function(e,t,n,r){var o=function(e){t.setTitleValue(e,n.name)};r.appendField(n.label).appendField(new Blockly.FieldDropdown([["Choose","Choose"]],(function(){dashboard.assets.showAssetManager(o,"audio",null,{libraryOnly:!0})})),n.name)},generateCode:function(e,t){return"'".concat(e.getFieldValue(t.name),"'")}},costumePicker:{addInput:function(e,t,n,r){var i;(0,o.getStore)().getState().pageConstants&&(0,o.getStore)().getState().pageConstants.showAnimationMode&&(i=[{text:d.default.costumeMode(),action:function(){(0,o.getStore)().dispatch((0,u.changeInterfaceMode)(a.P5LabInterfaceMode.ANIMATION))}}]),r.appendField(n.label).appendField(new Blockly.FieldImageDropdown(v,32,32,i),n.name)},generateCode:function(e,t){return e.getFieldValue(t.name)}},backgroundPicker:{addInput:function(e,t,n,r){var i;(0,o.getStore)().getState().pageConstants&&(0,o.getStore)().getState().pageConstants.showAnimationMode&&(i=[{text:d.default.more(),action:function(){(0,o.getStore)().dispatch((0,c.showBackground)(c.Goal.NEW_ANIMATION))}}]),r.appendField(n.label).appendField(new Blockly.FieldImageDropdown(b,40,40,i),n.name)},generateCode:function(e,t){return e.getFieldValue(t.name)}},spritePointer:{addInput:function(e,t,n,r){if(0===Object.keys(f.default).length)t.shortString=" ",t.longString=" ";else switch(t.type){case"gamelab_clickedSpritePointer":t.shortString=f.default.clicked(),t.longString=f.default.clickedSprite();break;case"gamelab_newSpritePointer":t.shortString=f.default.new(),t.longString=f.default.newSprite();break;case"gamelab_subjectSpritePointer":t.shortString=f.default.subject(),t.longString=f.default.subjectSprite();break;case"gamelab_objectSpritePointer":t.shortString=f.default.object(),t.longString=f.default.objectSprite();break;default:t.shortString="",t.longString=""}t.thumbnailSize=32,r.appendField(t.longString).appendField(new Blockly.FieldImage("",1,t.thumbnailSize),n.name)},generateCode:function(e,t){switch(e.type){case"gamelab_clickedSpritePointer":return"{id: extraArgs.clickedSprite}";case"gamelab_newSpritePointer":return"{id: extraArgs.newSprite}";case"gamelab_subjectSpritePointer":return"{id: extraArgs.subjectSprite}";case"gamelab_objectSpritePointer":return"{id: extraArgs.objectSprite}";default:return}}},spritePicker:{addInput:function(e,t,n,r){t.getVars=function(){return g({},Blockly.BlockValueType.SPRITE,[t.getFieldValue(n.name)])},t.renameVar=function(e,r){Blockly.Names.equals(e,t.getFieldValue(n.name))&&t.setTitleValue(r,n.name)},t.removeVar=function(e){Blockly.Names.equals(e,t.getFieldValue(n.name))&&t.dispose(!0,!0)},t.superSetTitleValue=t.setTitleValue,t.setTitleValue=function(e,r){r===n.name&&t.blockSpace.isFlyout&&(e=Blockly.Variables.generateUniqueName(e)),t.superSetTitleValue(e,r)},r.appendField(n.label).appendField(new Blockly.FieldVariable(null,null,null,Blockly.BlockValueType.SPRITE,d.default.sprite()),n.name)},generateCode:function(e,t){return"{name: '".concat(Blockly.JavaScript.translateVarName(e.getFieldValue(t.name)),"'}")}},limitedColourPicker:{addInput:function(e,t,n,r){var o={colours:_,columns:3};r.appendField(n.label).appendField(new Blockly.FieldColour("#ff0000",void 0,o),"VAL")},generateCode:function(e,t){return"'".concat(e.getFieldValue(t.name),"'")}},variableNamePicker:{addInputRow:function(e,t,n){return t.appendValueInput(n.name)},generateCode:function(e,t){var n=e.getInput(t.name);if(n){var r=n.connection.targetBlock();if(r&&"variables_get"===r.type)return"'".concat(Blockly.JavaScript.blockToCode(r)[0],"'")}return""}}},install:function(e,t){var n=e.getGenerator(),r=Blockly.behaviorEditor=new Blockly.FunctionEditor({FUNCTION_HEADER:d.default.behaviorEditorHeader(),FUNCTION_NAME_LABEL:d.default.behaviorEditorLabel(),FUNCTION_DESCRIPTION_LABEL:d.default.behaviorEditorDescription()},"behavior_definition",g({},Blockly.BlockValueType.SPRITE,"sprite_parameter_get"),!1,[Blockly.BlockValueType.NUMBER,Blockly.BlockValueType.STRING,Blockly.BlockValueType.COLOUR,Blockly.BlockValueType.BOOLEAN,Blockly.BlockValueType.SPRITE,Blockly.BlockValueType.LOCATION]);Blockly.Blocks.sprite_variables_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.appendDummyInput().appendField(Blockly.Msg.VARIABLES_GET_TITLE).appendField(Blockly.disableVariableEditing?e:new Blockly.FieldVariable(Blockly.Msg.VARIABLES_SET_ITEM,null,null,Blockly.BlockValueType.SPRITE,d.default.sprite()),"VAR").appendField(Blockly.Msg.VARIABLES_GET_TAIL),this.setStrictOutput(!0,Blockly.BlockValueType.SPRITE),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},getVars:function(){return Blockly.Variables.getVars.bind(this)(Blockly.BlockValueType.SPRITE)},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setTitleValue(t,"VAR")},removeVar:Blockly.Blocks.variables_get.removeVar},n.sprite_variables_get=function(){return["{name: '".concat(Blockly.JavaScript.translateVarName(this.getFieldValue("VAR")),"'}"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.Variables.registerGetter(Blockly.BlockValueType.SPRITE,"sprite_variables_get"),Blockly.Blocks.sprite_parameter_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.appendDummyInput().appendField(Blockly.Msg.VARIABLES_GET_TITLE).appendField(e,"VAR").appendField(Blockly.Msg.VARIABLES_GET_TAIL),this.setStrictOutput(!0,Blockly.BlockValueType.SPRITE),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},renameVar:function(e,t){r.isOpen()&&(r.renameParameter(e,t),r.refreshParamsEverywhere())},removeVar:Blockly.Blocks.variables_get.removeVar},n.sprite_parameter_get=n.variables_get,Blockly.Blocks.gamelab_behavior_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),Blockly.cdoUtils.setHSV(this,136,.84,.8);var t=this.appendDummyInput().appendField(e,"VAR").appendField(Blockly.Msg.VARIABLES_GET_TAIL),n=Blockly.useModalFunctionEditor;if(window.appOptions&&appOptions.level.toolbox&&!appOptions.readonlyWorkspace&&!Blockly.hasCategories&&(n=!1),n){var r=new Blockly.FieldIcon(Blockly.Msg.FUNCTION_EDIT);Blockly.cdoUtils.bindBrowserEvent(r.fieldGroup_,"mousedown",this,this.openEditor),t.appendField(r)}this.setStrictOutput(!0,Blockly.BlockValueType.BEHAVIOR),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP),this.currentParameterNames_=[]},openEditor:function(e){e.stopPropagation(),r.openEditorForFunction(this,this.getTitle_("VAR").id)},getVars:function(){return{}},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setTitleValue(t,"VAR")},renameProcedure:function(e,t,n){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&(this.setTitleValue(t,"VAR"),n&&(this.getTitle_("VAR").id=t))},getCallName:function(){return this.getFieldValue("VAR")},setProcedureParameters:function(e,t,n){Blockly.Blocks.procedures_callnoreturn.setProcedureParameters.call(this,e.slice(1),t&&t.slice(1),n&&n.slice(1))},mutationToDom:function(){for(var e=document.createElement("mutation"),t=0;t<this.currentParameterNames_.length;t++){var n=document.createElement("arg");n.setAttribute("name",this.currentParameterNames_[t]),this.currentParameterTypes_[t]&&n.setAttribute("type",this.currentParameterTypes_[t]),e.appendChild(n)}return e},domToMutation:function(e){this.currentParameterNames_=[],this.currentParameterTypes_=[];var t,n=h(e.childNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;"arg"===r.nodeName.toLowerCase()&&(this.currentParameterNames_.push(r.getAttribute("name")),this.currentParameterTypes_.push(r.getAttribute("type")))}}catch(o){n.e(o)}finally{n.f()}this.setProcedureParameters([null].concat(this.currentParameterNames_),[null].concat(this.currentParameterNames_),[null].concat(this.currentParameterTypes_))}},n.gamelab_behavior_get=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitle_("VAR").id,Blockly.Procedures.NAME_TYPE),t=[],n=0;n<this.currentParameterNames_.length;n++)t[n]=Blockly.JavaScript.valueToCode(this,"ARG"+n,Blockly.JavaScript.ORDER_COMMA)||"null";return["new Behavior(".concat(e,", [").concat(t.join(", "),"])"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.Blocks.behavior_definition=Blockly.Block.createProcedureDefinitionBlock({initPostScript:function(e){e.setHSV(136,.84,.8),e.parameterNames_=[d.default.thisSprite()],e.parameterTypes_=[Blockly.BlockValueType.SPRITE],e.setUserVisible(!1)},overrides:{getVars:function(e){return{}},callType_:"gamelab_behavior_get"}}),n.behavior_definition=n.procedures_defnoreturn,Blockly.Procedures.DEFINITION_BLOCK_TYPES.push("behavior_definition"),Blockly.Variables.registerGetter(Blockly.BlockValueType.BEHAVIOR,"gamelab_behavior_get"),t&&t.level&&t.level.editBlocks===s.TOOLBOX_EDIT_MODE||Blockly.Flyout.configure(Blockly.BlockValueType.BEHAVIOR,{initialize:function(e,t){r&&!r.isOpen()&&e.addButtonToFlyout_(t,d.default.createBlocklyBehavior(),r.openWithNewFunction.bind(r))},addDefaultVar:!1}),delete e.Blocks.procedures_defreturn,delete e.Blocks.procedures_ifreturn}};t.default=w,e.exports=t.default},,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalFunctions=void 0;var n={randomNumber:function(e,t){return void 0===t&&(t=e,e=0),Math.floor(Math.random()*(~~t-~~e+1))+~~e},getTime:function(){return(new Date).getTime()},promptNum:function(e){var t;do{t=Number(window.prompt(e))}while(isNaN(t));return t}};t.globalFunctions=n},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if(t.type===a){var n=(0,r.bisect)(t.hints,(function(e){return-1!==t.hintsUsedIds.indexOf(e.hintId)})),i=o(n,2),c=i[0],d=i[1];return Object.assign({},e,{unseenHints:e.unseenHints.concat(d),seenHints:e.seenHints.concat(c)})}if(t.type===s){var f=Object.assign({},e.unseenHints[0],{alreadySeen:!0});return Object.assign({},e,{unseenHints:e.unseenHints.slice(1),seenHints:e.seenHints.concat([f])})}if(t.type===l){var p=e.seenHints.filter((function(e){return"contextual"!==e.hintType||t.hints.some((function(t){return e.hintId===t.hintId}))})),h=t.hints.filter((function(t){return e.seenHints.every((function(e){return t.hintId!==e.hintId}))})),m=e.unseenHints.filter((function(e){return"contextual"!==e.hintType})),g=h.filter((function(e){return!e.alreadySeen})).concat(m),y=p.concat(h.filter((function(e){return e.alreadySeen})));return Object.assign({},e,{unseenHints:g,seenHints:y})}return e},t.showNextHint=t.enqueueHints=t.displayMissingBlockHints=void 0;var r=n(33);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a="authoredHints/ENQUEUE_HINTS",s="authoredHints/SHOW_NEXT_HINT",l="authoredHints/DISPLAY_MISSING_BLOCK_HINTS",u={seenHints:[],unseenHints:[]};t.enqueueHints=function(e,t){return{type:a,hints:e,hintsUsedIds:t}};t.showNextHint=function(){return{type:s}};t.displayMissingBlockHints=function(e){return{type:l,hints:e}}},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setAppLoaded=t.setAppLoadStarted=t.default=void 0;var i="app/SET_APP_LOAD_STARTED",a="app/SET_APP_LOADED",s={appLoadStarted:!1,appLoaded:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return t.type===i?r(r({},e),{},{appLoadStarted:!0}):t.type===a?r(r({},e),{},{appLoaded:!0}):e};t.setAppLoadStarted=function(){return{type:i}};t.setAppLoaded=function(){return{type:a}}},(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.analogRead=function(e,t){return n(null,"analogRead",{pin:e,callback:t})},t.analogWrite=function(e,t){return n(null,"analogWrite",{pin:e,value:t})},t.boardConnected=function(){return n(null,"boardConnected")},t.createButton=function(e){return n(null,"createButton",{pin:e})},t.createCapacitiveTouchSensor=function(e){return n(null,"createCapacitiveTouchSensor",{pin:e})},t.createLed=function(e){return n(null,"createLed",{pin:e})},t.digitalRead=function(e,t){return n(null,"digitalRead",{pin:e,callback:t})},t.digitalWrite=function(e,t){return n(null,"digitalWrite",{pin:e,value:t})},t.injectExecuteCmd=function(e){n=e},t.onBoardEvent=function(e,t,r){return n(null,"onBoardEvent",{component:e,event:t,callback:r})},t.pinMode=function(e,t){return n(null,"pinMode",{pin:e,mode:t})}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;if(t.type===o)return Object.keys(t.props).forEach((function(n){if(!i.has(n))throw new Error('Property "'.concat(n,'" may not be set using the ').concat(t.type," action."));if(e[n]!==a[n]&&e[n]!==t.props[n])throw new Error("Can't change value of key \"".concat(n,'".'))})),r.assign({},e,t.props);return e},t.setPageConstants=function(e){return{type:o,props:e}};var r=n(53),o="pageConstants/SET_PAGE_CONSTANTS",i=new Set(["skinId","showNextHint","ttsShortInstructionsUrl","ttsLongInstructionsUrl","assetUrl","canHaveFeedbackReviewState","exampleSolutions","isViewingAsInstructorInTraining","channelId","codeOwnersName","hasDataMode","hasDesignMode","isChallengeLevel","isEmbedView","isResponsive","isIframeEmbed","isReadOnlyWorkspace","isCodeReviewing","isViewingOwnProject","hasBackgroundMusic","displayNotStartedBanner","displayOldVersionBanner","isShareView","isProjectLevel","isSubmittable","isSubmitted","noInstructionsWhenCollapsed","puzzleNumber","lessonTotal","showDebugButtons","showDebugConsole","showDebugWatch","showDebugSlider","debugConsoleDisabled","showMakerToggle","locale","hasContainedLevels","isDroplet","isBlockly","isBramble","isMinecraft","runButtonText","visualizationHasPadding","visualizationInWorkspace","hideCoordinateOverlay","hideSource","hideRunButton","hideResetButton","playspacePhoneFrame","noVisualization","pinWorkspaceToBottom","smallStaticAvatar","failureAvatar","aniGifURL","inputOutputTable","showAnimationMode","startInAnimationTab","allAnimationsSingleFrame","nonResponsiveVisualizationColumnWidth","is13Plus","isSignedIn","isEditingStartSources","userId","isK1","textToSpeechEnabled","documentationUrl","appType","nextLevelUrl","isProjectTemplateLevel","showProjectTemplateWorkspaceIcon","serverLevelId","serverProjectLevelId","serverScriptId","exportApp","widgetMode","librariesEnabled","validationEnabled","aiEnabled","aiModelId","aiModelName"]),a={assetUrl:function(){}}},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;if(t.type===i){var n=t.displayingShareControls;return r(r({},e),{},{displayingFeedback:!0,displayingShareControls:n})}if(t.type===a)return r(r({},e),{},{displayingFeedback:!1});if(t.type===l){var o=t.blockLimit;return r(r({},e),{},{blockLimit:o})}if(t.type===u){var d=t.isChallenge,f=t.isPerfect,p=t.blocksUsed,h=t.displayFunometer,m=t.studentCode,g=t.feedbackImage;return r(r({},e),{},{isChallenge:d,isPerfect:f,blocksUsed:p,displayFunometer:h,studentCode:m,feedbackImage:g})}if(t.type===s){var y=t.achievements;return r(r({},e),{},{achievements:y})}return e},t.showFeedback=t.setFeedbackData=t.setBlockLimit=t.setAchievements=t.hideFeedback=void 0;var i="feedback/show_feedback",a="feedback/hide_feedback",s="feedback/set_achievemnts",l="feedback/set_block_limit",u="feedback/set_data",c={displayingFeedback:!1,displayingCode:!1,displayingShareControls:!1,isChallenge:!1,isPerfect:!0,blocksUsed:0,blockLimit:void 0,achievements:[],displayFunometer:!0,studentCode:{message:"",code:""},feedbackImage:null};t.showFeedback=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:i,displayingShareControls:e}};t.hideFeedback=function(){return{type:a}};t.setBlockLimit=function(e){return{type:l,blockLimit:e}};t.setFeedbackData=function(e){return r({type:u},e)};t.setAchievements=function(e){return{type:s,achievements:e}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketMessageType=t.UserTestResultSignalType=t.TheaterSignalType=t.TheaterExceptionType=t.TestStatus=t.StatusMessageType=t.SoundExceptionType=t.STATUS_MESSAGE_PREFIX=t.NeighborhoodSignalType=t.NeighborhoodExceptionType=t.MediaExceptionType=t.JavabuilderExceptionType=t.InputMessageType=t.InputMessage=t.ExecutionType=t.CsaViewMode=t.CompileStatus=t.AuthorizerSignalType=void 0;var r=n(33);t.CsaViewMode={NEIGHBORHOOD:"neighborhood",CONSOLE:"console",THEATER:"theater"};t.WebSocketMessageType={NEIGHBORHOOD:"NEIGHBORHOOD",THEATER:"THEATER",SYSTEM_OUT:"SYSTEM_OUT",EXCEPTION:"EXCEPTION",DEBUG:"DEBUG",STATUS:"STATUS",TEST_RESULT:"TEST_RESULT",AUTHORIZER:"AUTHORIZER",CONNECTED:"CONNECTED"};t.JavabuilderExceptionType={CLASS_NOT_FOUND:"CLASS_NOT_FOUND",COMPILER_ERROR:"COMPILER_ERROR",CONNECTION_POOL_SHUT_DOWN:"CONNECTION_POOL_SHUT_DOWN",FILE_NOT_FOUND:"FILE_NOT_FOUND",ILLEGAL_METHOD_ACCESS:"ILLEGAL_METHOD_ACCESS",INTERNAL_COMPILER_EXCEPTION:"INTERNAL_COMPILER_EXCEPTION",INTERNAL_EXCEPTION:"INTERNAL_EXCEPTION",INTERNAL_RUNTIME_EXCEPTION:"INTERNAL_RUNTIME_EXCEPTION",INVALID_CLASS:"INVALID_CLASS",INVALID_JAVA_FILE_NAME:"INVALID_JAVA_FILE_NAME",INVALID_MAIN_METHOD:"INVALID_MAIN_METHOD",JAVA_EXTENSION_MISSING:"JAVA_EXTENSION_MISSING",LOW_DISK_SPACE:"LOW_DISK_SPACE",MISSING_PROJECT_FILE_NAME:"MISSING_PROJECT_FILE_NAME",NO_FILES_TO_COMPILE:"NO_FILES_TO_COMPILE",NO_MAIN_METHOD:"NO_MAIN_METHOD",RUNTIME_ERROR:"RUNTIME_ERROR",TEMP_DIRECTORY_CLEANUP_ERROR:"TEMP_DIRECTORY_CLEANUP_ERROR",TWO_MAIN_METHODS:"TWO_MAIN_METHODS",UNKNOWN_ERROR:"UNKNOWN_ERROR"};t.NeighborhoodSignalType={MOVE:"MOVE",INITIALIZE_PAINTER:"INITIALIZE_PAINTER",PAINT:"PAINT",REMOVE_PAINT:"REMOVE_PAINT",TAKE_PAINT:"TAKE_PAINT",HIDE_PAINTER:"HIDE_PAINTER",SHOW_PAINTER:"SHOW_PAINTER",TURN_LEFT:"TURN_LEFT",HIDE_BUCKETS:"HIDE_BUCKETS",SHOW_BUCKETS:"SHOW_BUCKETS",DONE:"DONE"};var o=(0,r.makeEnum)("INVALID_GRID","INVALID_DIRECTION","GET_SQUARE_FAILED","INVALID_COLOR","INVALID_LOCATION","INVALID_MOVE","INVALID_PAINT_LOCATION");t.NeighborhoodExceptionType=o;t.TheaterSignalType={AUDIO_URL:"AUDIO_URL",VISUAL_URL:"VISUAL_URL",GET_IMAGE:"GET_IMAGE"};t.StatusMessageType={COMPILING:"COMPILING",COMPILATION_SUCCESSFUL:"COMPILATION_SUCCESSFUL",RUNNING:"RUNNING",GENERATING_RESULTS:"GENERATING_RESULTS",GENERATING_PROGRESS:"GENERATING_PROGRESS",SENDING_VIDEO:"SENDING_VIDEO",TIMEOUT_WARNING:"TIMEOUT_WARNING",TIMEOUT:"TIMEOUT",EXITED:"EXITED",RUNNING_VALIDATION:"RUNNING_VALIDATION",RUNNING_PROJECT_TESTS:"RUNNING_PROJECT_TESTS",NO_TESTS_FOUND:"NO_TESTS_FOUND"};t.InputMessageType={SYSTEM_IN:"SYSTEM_IN",THEATER:"THEATER"};t.InputMessage={UPLOAD_SUCCESS:"UPLOAD_SUCCESS",UPLOAD_ERROR:"UPLOAD_ERROR"};var i=(0,r.makeEnum)("INVALID_AUDIO_FILE_FORMAT","MISSING_AUDIO_DATA");t.SoundExceptionType=i;var a=(0,r.makeEnum)("IMAGE_LOAD_ERROR");t.MediaExceptionType=a;var s=(0,r.makeEnum)("DUPLICATE_PLAY_COMMAND","INVALID_SHAPE","VIDEO_TOO_LONG","VIDEO_TOO_LARGE");t.TheaterExceptionType=s;var l=(0,r.makeEnum)("NONE","LOADING","SUCCESS","ERROR");t.CompileStatus=l;t.STATUS_MESSAGE_PREFIX="[JAVALAB]";t.ExecutionType={RUN:"RUN",TEST:"TEST"};t.UserTestResultSignalType={TEST_STATUS:"TEST_STATUS",STATUS_DETAILS:"STATUS_DETAILS"};t.TestStatus={SUCCESSFUL:"SUCCESSFUL",FAILED:"FAILED",ABORTED:"ABORTED"};t.AuthorizerSignalType={TOKEN_USED:"TOKEN_USED",NEAR_LIMIT:"NEAR_LIMIT",USER_BLOCKED:"USER_BLOCKED",CLASSROOM_BLOCKED:"CLASSROOM_BLOCKED"}},,(e,t,n)=>{var r=n(1),o=n(36),i=n(33),a=n(1022);function s(e,t){t.isSignedIn||i.trySetLocalStorage("is13Plus","true"),e&&function(e){var t=localStorage.getItem("dataAlerts");t||(t="[]");var n=JSON.parse(t);n.push(e),localStorage.setItem("dataAlerts",JSON.stringify(n))}(t.channelId),t.onWarningsComplete&&t.onWarningsComplete()}t.checkSharedAppWarnings=function(e){var t=e.hasDataAPIs&&e.hasDataAPIs();t&&e.isTooYoung&&(e.onTooYoung?e.onTooYoung():i.navigateToHref("/too_young"));var n,l,u=t&&!e.isSignedIn&&"true"!==localStorage.getItem("is13Plus"),c=t&&!0!==e.isOwner&&(n=e.channelId,!((l=localStorage.getItem("dataAlerts"))&&-1!==JSON.parse(l).indexOf(n)));return o.render(r.createElement(a,{showStoreDataAlert:!!c,promptForAge:!!u,handleClose:function(){return s(c,e)},handleTooYoung:function(){i.trySetLocalStorage("is13Plus","false"),e.onTooYoung?e.onTooYoung():i.navigateToHref("/too_young")}}),document.body.appendChild(document.createElement("div")))}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTeacherPanel=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=document.createElement("div");u.setAttribute("id","teacher-panel-container"),i.default.render(o.default.createElement(r.Provider,{store:e},o.default.createElement(s.default,null,o.default.createElement(a.default,{unitName:n,pageType:l,scriptId:t}))),u),document.body.appendChild(u)};var r=n(27),o=l(n(1)),i=l(n(36)),a=l(n(1385)),s=l(n(1009));function l(e){return e&&e.__esModule?e:{default:e}}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1366),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SongTitlesToArtistTwitterHandle=void 0;t.SongTitlesToArtistTwitterHandle={backtoyou_selenagomez:"SelenaGomez",bornthisway_ladygaga:"ladygaga",callmemaybe_carlyraejepsen:"CarlyRaeJepsen",cantfeelmyface_theweeknd:"TheWeeknd",cantholdus_macklemore:"Macklemore",cheapthrills_sia:"Sia",countrygirl_lukebryan:"LukeBryanOnline",dancinginthedark_brucespringsteen:"Springsteen",heyya_outkast:"Outkast",iliketomoveit_william:"iamwill",getintothegroove_madonna:"Madonna",levelup_ciara:"Ciara",macarena_losdelrio:"LosDelRioMusic",migente_jbalvin:"JBalvin",needyounow_ladya:"LadyA",notearslefttocry_arianagrande:"ArianaGrande",shapeofyou_edsheeran:"EdSheeran",somebodylikeyou_keithurban:"KeithUrban",sorry_justinbieber:"JustinBieber",summer_calvinharris:"CalvinHarris",takeonme_aha:"Aha_Com",isawthesign_aceofbase:"AceofBase",thunder_imaginedragons:"ImagineDragons",canttouchthis_mchammer:"MCHammer",uptownfunk_brunomars:"BrunoMars",vivalavida_coldplay:"Coldplay",wakemeup_aviciialoeblacc:"AloeBlacc",wecantstop_mileycyrus:"MileyCyrus",wenospeakamericano_yolandabecool:"YolandaBeCool",ymca_villagepeople:"VillagePeople",firework_katyperry:"KatyPerry",calma_pedrocapo:"PedroCapo",highhopes_panicatthedisco:"PanicAtTheDisco",ificanthaveyou_shawnmendes:"ShawnMendes",introtoshamstep_47SOUL:"47soulofficial",kidzbop_ificanthaveyou_shawnmendes:"KIDZBOP",neverreallyover_katyperry:"KatyPerry",occidentalview_francescogabbani:"FrankGabbani",oldtownroadremix_lilnasx:"LilNasX",oldtownroadremix_lilnasx_long:"LilNasX",starships_nickiminaj:"NICKIMINAJ",sucker_jonasbrothers:"JonasBrothers",dancemonkey_tonesandi:"tonesandimusic",dernieredanse_indila:"Indila",dontstartnow_dualipa:"DUALIPA",euphoria_loreen:"LOREEN_TALHAOUI",ilkadimisenat_kenandogulu:"kenandogulu",jerusalema_masterkg:"MasterKGsa",odetocode_brendandominicpaolini:"CodeWeekEU",rainonme_ladygagaftarianagrande:"ladygaga",savagelove_jasonderulo:"jasonderulo",sayso_dojacat:"DojaCat",aire_jessejoy:"jesseyjoy",despedidaycierre_vanesamartin:"vanesamartin_",jazzy_beats:"codeorg",synthesize:"codeorg",onedance_drake:"Drake",elprestamo_maluma:"Maluma",despacito_luisfonsi:"LuisFonsi",tunaktunaktun_dalermehndi:"DalerMehndi",sapescommejamias_maitregims:"MaitreGIMS",lesercitodelselfie_takagi:"TakagiBeatz",gangnamstyle_psy:"Psy_Oppa",sophia_alvarosoler:"AsolerMusic",danzakuduro_donomar:"DONOMAR",cestlavie_khaled:"Khaled_Officiel",occidentaliskarma_francescogabbani:"FrankGabbani",isthatforme_anitta:"Anitta",showdaspoderosas_anitta:"Anitta",janti_muratboz:"MuratBoz",gee_girlsgen:"GirlsGeneration",growingpains_alessiacara:"AlessiaCara",astronautintheocean_maskedwolf:"MaskedWolfMusic",good4u_oliviarodrigo:"OliviaRodrigo",heatwaves_glassanimals:"GlassAnimals",levitating_dualipa:"DUALIPA",stay_thekidlaroi:"TheKidLaroi",watermelonsugar_harrystyles:"Harry_Styles",higherpower_coldplay:"Coldplay","2beloved_lizzo":"Lizzo",asitwas_harrystyles:"Harry_Styles",breakmysoul_beyonce:"Beyonce",sunflower_postmaloneftswaelee:"PostMalone",sunroof_nickyoureanddazy:"Nicky_Youre",taconesrojos_sebastianyatra:"SebastianYatra",wedonttalkaboutbruno_encanto:"EncantoMovie"}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressDetailToggle=void 0;var r=b(n(2)),o=b(n(1)),i=b(n(842)),a=b(n(20)),s=n(493),l=n(27),u=b(n(13)),c=b(n(1219)),d=b(n(1220)),f=b(n(1221)),p=b(n(1222)),h=b(n(1223)),m=b(n(1224)),g=b(n(1225)),y=b(n(1226)),v=b(n(131));function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={teal:{summaryActive:c.default,summaryInactive:d.default,detailActive:f.default,detailInactive:p.default},purple:{summaryActive:h.default,summaryInactive:m.default,detailActive:g.default,detailInactive:y.default}},S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(_(t=e.call.apply(e,[this].concat(r))||this),"onChange",(function(){var e=!t.props.isSummaryView;t.recordEvent(e),t.props.setIsSummaryView(e)})),E(_(t),"recordEvent",(function(e){v.default.putRecord({study:"progress-detail-toggle",study_group:t.props.toggleStudyGroup,event:e?"see-summary":"see-detail"},{includeUserId:!0})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n),r.prototype.render=function(){var e=this.props,t=e.whiteBorder,n=e.isSummaryView,r=e.hasGroups,s=e.isPlc,l=this.props.activeColor;l||(l=!s&&r?a.default.purple:a.default.cyan);var c=l===a.default.purple?O.purple:O.teal;return o.default.createElement(i.default,{selected:n?"summary":"detail",activeColor:l,onChange:this.onChange},o.default.createElement("button",{type:"button",value:"summary",style:t?T.whiteBorder:void 0},o.default.createElement("img",{src:n?c.summaryActive:c.summaryInactive,style:T.icon,alt:u.default.summaryView()})),o.default.createElement("button",{type:"button",value:"detail",style:t?T.whiteBorder:void 0,className:"uitest-toggle-detail"},o.default.createElement("img",{src:n?c.detailInactive:c.detailActive,style:T.icon,alt:u.default.detailView()})))},r}(o.default.Component);E(S,"propTypes",{activeColor:r.default.string,whiteBorder:r.default.bool,toggleStudyGroup:r.default.string,isPlc:r.default.bool.isRequired,isSummaryView:r.default.bool.isRequired,hasGroups:r.default.bool.isRequired,setIsSummaryView:r.default.func.isRequired});var T={whiteBorder:{borderWidth:1,borderStyle:"solid",borderColor:a.default.white},icon:{fontSize:20,paddingLeft:3,paddingRight:3,paddingTop:6,paddingBottom:3,opacity:1}},C=S;t.UnconnectedProgressDetailToggle=C;var k=(0,l.connect)((function(e){return{isPlc:!!e.progress.deeperLearningCourse,isSummaryView:e.progress.isSummaryView,hasGroups:(0,s.hasGroups)(e.progress)}}),{setIsSummaryView:s.setIsSummaryView})(S);t.default=k},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=t.UnconnectedProgressTable=void 0;var r=d(n(2)),o=d(n(1)),i=n(27),a=n(493),s=d(n(1227)),l=d(n(851)),u=d(n(1410)),c=n(197);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p={hidden:{display:"none"}};t.styles=p;var h,m,g,y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var i=r.prototype;return i.componentDidMount=function(){$(".container.main").css({width:"initial",maxWidth:1100,paddingLeft:80,paddingRight:80})},i.render=function(){var e=this.props,t=e.isSummaryView,n=e.isPlc,r=e.groupedLessons,i=e.minimal;return 1!==r.length||r[0].lessonGroup.userFacing?o.default.createElement("div",null,r.map((function(e){return o.default.createElement(u.default,{key:e.lessonGroup.displayName,isPlc:n,groupedLesson:e,isSummaryView:t})}))):o.default.createElement("div",null,o.default.createElement("div",{style:t?{}:p.hidden},o.default.createElement(s.default,{groupedLesson:r[0],minimal:i})),o.default.createElement("div",{style:t?p.hidden:{}},o.default.createElement(l.default,{groupedLesson:r[0]})))},r}(o.default.Component);h=y,m="propTypes",g={isPlc:r.default.bool.isRequired,isSummaryView:r.default.bool.isRequired,groupedLessons:r.default.arrayOf(c.groupedLessonsType).isRequired,minimal:r.default.bool},m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g;var v=y;t.UnconnectedProgressTable=v;var b=(0,i.connect)((function(e){return{isPlc:e.progress.deeperLearningCourse,isSummaryView:e.progress.isSummaryView,groupedLessons:(0,a.groupedLessons)(e.progress)}}))(y);t.default=b},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedHiddenForSectionToggle=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(74)),a=l(n(13)),s=n(27);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props,t=e.hidden,n=e.disabled,r=e.onChange,s=e.isRtl,l=c(c(c({},h.main),n&&h.disabled),s?h.reverseButtons:null);return o.default.createElement("div",{style:l,className:"uitest-togglehidden"},o.default.createElement(i.default,{__useDeprecatedTag:!0,onClick:function(){return!n&&r("visible")},text:a.default.visible(),color:i.default.ButtonColor.gray,disabled:!t,icon:"eye",style:c(c({},h.button),h.leftButton)}),o.default.createElement(i.default,{__useDeprecatedTag:!0,onClick:function(){return!n&&r("hidden")},text:a.default.hidden(),color:i.default.ButtonColor.gray,disabled:t,icon:"eye-slash",style:c(c({},h.button),h.rightButton)}))},r}(o.default.Component);f(p,"propTypes",{hidden:r.default.bool.isRequired,disabled:r.default.bool,onChange:r.default.func.isRequired,isRtl:r.default.bool});var h={main:{wrap:"nowrap",marginTop:5,marginLeft:15,marginRight:15},disabled:{opacity:.5},button:{display:"inline-block",paddingLeft:0,paddingRight:0,boxSizing:"border-box",width:"50%"},leftButton:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0},reverseButtons:{display:"flex",flexDirection:"row-reverse"}},m=p;t.UnconnectedHiddenForSectionToggle=m;var g=(0,s.connect)((function(e){return{isRtl:e.isRtl}}))(p);t.default=g},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Goal=void 0,t.addSelectedAnimation=C,t.beginUpload=function(e){return{type:b,filename:e}},t.default=function(e,t){if(e=e||O,t.type===g)return e.visible?e:r.default.assign({},O,{visible:!0,goal:t.goal,isBackground:!1,isSpriteLab:t.isSpriteLab});if(t.type===y)return e.visible?e:r.default.assign({},O,{visible:!0,goal:t.goal,isBackground:!0,isSpriteLab:!0});if(t.type===v)return O;if(t.type===b)return r.default.assign({},e,{uploadInProgress:!0,uploadFilename:t.filename});if(t.type===_)return r.default.assign({},e,{uploadInProgress:!1,uploadError:t.status});if(t.type===w)return f(f({},e),{},{selectedAnimations:f(f({},e.selectedAnimations),{},p({},t.animation.sourceUrl,t.animation))});if(t.type===E){var n=f({},e.selectedAnimations);return delete n[t.animation.sourceUrl],f(f({},e),{},{selectedAnimations:n})}return e},t.handleUploadComplete=function(e){return u.default.putRecord({study:"animation-library",study_group:"control-2020",event:"upload",data_json:JSON.stringify({size:e.size})}),function(t,n){var i=n().animationPicker,s=i.goal,l=i.uploadFilename,u=e.filename.replace(/\.png$/i,""),c=a.animations.basePath(u+".png");!function(e,t,n){var r=new Image;r.addEventListener("load",(function(){t({sourceSize:{x:r.width,y:r.height},frameSize:{x:r.width,y:r.height},frameCount:1,frameDelay:4})})),r.addEventListener("error",n),r.src=e}(c,(function(n){var i=r.default.assign({},n,{name:l,sourceUrl:c,size:e.size,version:e.versionId});s===m.NEW_ANIMATION?t((0,o.addAnimation)(u,i)):s===m.NEW_FRAME&&t((0,o.appendCustomFrames)(i)),t(S())}),(function(){t(T(h.animationPicker_failedToParseImage()))}))}},t.handleUploadError=T,t.hide=S,t.pickLibraryAnimation=function(e){return u.default.putRecord({study:"sprite-use",study_group:"before-update-v2",event:"select-sprite",data_json:JSON.stringify({name:e.name,sourceUrl:e.sourceUrl})}),function(t,n){var r=n().animationPicker.goal,i=n().animationPicker.selectedAnimations;r===m.NEW_ANIMATION?i[e.sourceUrl]?t(k(e)):t(C(e)):r===m.NEW_FRAME&&t((0,o.appendLibraryFrames)(e))}},t.pickNewAnimation=function(){return function(e,t){var n=t(),r=n.animationPicker.goal;r===m.NEW_ANIMATION?(n.interfaceMode!==l.P5LabInterfaceMode.ANIMATION&&e((0,s.changeInterfaceMode)(l.P5LabInterfaceMode.ANIMATION)),e((0,o.addBlankAnimation)())):r===m.NEW_FRAME&&e((0,o.appendBlankFrame)()),e(S())}},t.removeSelectedAnimation=k,t.saveSelectedAnimations=function(){return function(e,t){var n=Object.values(t().animationPicker.selectedAnimations),r=t().animationPicker.isSpriteLab;n.map((function(t){e((0,o.addLibraryAnimation)(t,r))})),e(S())}},t.show=function(e,t){if(-1===[m.NEW_ANIMATION,m.NEW_FRAME].indexOf(e))throw new TypeError("Must provide a valid goal");return{type:g,goal:e,isSpriteLab:t}},t.showBackground=function(e){if(e!==m.NEW_ANIMATION)throw new TypeError("Must provide a valid goal");return{type:y,goal:e}};var r=c(n(53)),o=n(885),i=n(33),a=n(449),s=n(884),l=n(632),u=c(n(131));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n(13),m=(0,i.makeEnum)("NEW_ANIMATION","NEW_FRAME");t.Goal=m;var g="AnimationPicker/SHOW",y="AnimationPicker/SHOW_BACKGROUND",v="AnimationPicker/HIDE",b="AnimationPicker/BEGIN_UPLOAD",_="AnimationPicker/HANDLE_UPLOAD_ERROR",w="AnimationPicker/SELECT_ANIMATION",E="AnimationPicker/REMOVE_ANIMATION",O={visible:!1,goal:null,uploadInProgress:!1,uploadFilename:null,uploadError:null,isSpriteLab:!1,isBackground:!1,selectedAnimations:{}};function S(){return{type:v}}function T(e){return{type:_,status:e}}function C(e){return{type:w,animation:e}}function k(e){return{type:E,animation:e}}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,".progress-bubble.enabled{transition:background-color .2s ease-out,border-color .2s ease-out,color .2s ease-out}.progress-bubble.enabled:hover{text-decoration:none;color:#fff !important;border-color:#ffa400 !important;background-color:#ffa400 !important}a.progress-bubble-link{display:inline-block}a.progress-bubble-link:hover{text-decoration:none}table.progress-legend{margin-top:60px;margin-bottom:20px}table.progress-legend:nth-of-type(2){margin-top:0}table.progress-legend:only-of-type{width:100%}.progress-legend{text-align:center}.progress-legend td{padding:10px}.progress-legend tr{border:2px solid #e7e8ea;background-color:#fff}.progress-legend thead{color:#5b6770}.progress-legend thead tr{background-color:#e7e8ea}.progress-legend thead tr:first-of-type{background-color:#fff;border:none}.progress-legend thead tr:first-of-type td{font-weight:bold;font-size:18px}.progress-legend thead tr div:nth-of-type(2){font-size:10px}.progress-legend tbody td:first-of-type{border-inline-end:2px solid #e7e8ea}.progress-legend div{display:flex;align-items:center;justify-content:center}.progress-legend .level-details{padding:10px 0;white-space:nowrap}.progress-legend .level-details div:nth-of-type(2){padding-top:16px}.progress-legend .level-details i{margin-inline-end:5px}.progress-legend .end-border{border-inline-end:2px solid #e7e8ea}","",{version:3,sources:["webpack://./src/templates/progress/styles.scss","webpack://./../shared/css/color.scss"],names:[],mappings:"AAGE,yBACE,qFACE,CAGF,+BACE,oBAAA,CACA,qBAAA,CACA,+BAAA,CACA,mCAAA,CAKN,uBACE,oBAAA,CACA,6BACE,oBAAA,CAIJ,sBACE,eAAA,CACA,kBAAA,CACA,qCACE,YAAA,CAEF,mCACE,UAAA,CAGJ,iBACE,iBAAA,CACA,oBACE,YAAA,CAEF,oBACE,wBAAA,CACA,qBCtBI,CDwBN,uBACE,aC/BO,CDgCP,0BACE,wBC9BU,CD+BV,wCACE,qBC7BA,CD8BA,WAAA,CACA,2CACE,gBAAA,CACA,cAAA,CAGJ,6CACE,cAAA,CAKJ,wCACE,mCAAA,CAGJ,qBACE,YAAA,CACA,kBAAA,CACA,sBAAA,CAEF,gCACE,cAAA,CACA,kBAAA,CACA,mDACE,gBAAA,CAEF,kCACE,qBAAA,CAGJ,6BACE,mCAAA",sourcesContent:['@import "color.scss";\n\n.progress-bubble {\n  &.enabled {\n    transition:\n      background-color 0.2s ease-out,\n      border-color 0.2s ease-out,\n      color 0.2s ease-out;\n    &:hover {\n      text-decoration: none;\n      color: $white !important;\n      border-color: $level_current !important;\n      background-color: $level_current !important;\n    }\n  }\n}\n\na.progress-bubble-link {\n  display: inline-block;\n  &:hover {\n    text-decoration: none;\n  }\n}\n\ntable.progress-legend {\n  margin-top: 60px;\n  margin-bottom: 20px;\n  &:nth-of-type(2) {\n    margin-top: 0;\n  }\n  &:only-of-type {\n    width: 100%;\n  }\n}\n.progress-legend {\n  text-align: center;\n  td {\n    padding: 10px;\n  }\n  tr {\n    border: 2px solid $lightest_gray;\n    background-color: $white;\n  }\n  thead {\n    color: $charcoal;\n    tr {\n      background-color: $lightest_gray;\n      &:first-of-type {\n        background-color: $white;\n        border: none;\n        td {\n          font-weight: bold;\n          font-size: 18px;\n        }\n      }\n      div:nth-of-type(2) {\n        font-size: 10px;\n      }\n    }\n  }\n  tbody {\n    td:first-of-type {\n      border-inline-end: 2px solid $lightest_gray;\n    }\n  }\n  div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .level-details {\n    padding: 10px 0;\n    white-space: nowrap;\n    div:nth-of-type(2) {\n      padding-top: 16px;\n    }\n    i {\n      margin-inline-end: 5px;\n    }\n  }\n  .end-border {\n    border-inline-end: 2px solid $lightest_gray;\n  }\n}\n',"// colors from https://www.dropbox.com/s/ycjiwt8vxlmv2ih/Code.org_stylesheet_v2_09.05.13.pdf\n\n// Please keep this file simple; it should only contain color definitions\n//   and aliases.  Variables defined in this file are exported to\n//   apps/src/color.js during the apps build process.\n\n$black: #000;\n$background_black: #121416;\n$dark_gray: #2D3139;\n$darkest_gray: #272822;\n$dark_slate_gray: #282c34;\n$darkest_slate_gray: #25292d;\n$dark_charcoal: #4d575f;\n$charcoal: #5b6770;\n$light_gray: #949ca2;\n$lighter_gray: #c6cacd;\n$lightest_gray: #e7e8ea;\n$background_gray: #f2f2f2;\n$dimgray: #696969;\n$white: #fff;\n$default_blue: #3670b3;\n\n$dark_teal: #0094a3;\n$teal: #00adbc;\n$applab_button_teal: #1abc9c;\n$light_teal: #59cad3;\n$lightish_teal: #80d6de;\n$lighter_teal: #a6e3e8;\n$lightest_teal: #d9f3f5;\n\n$dark_purple: #5c3f7f;\n$purple: #7665a0;\n$light_purple: #a69bc1;\n$lighter_purple: #cfc9de;\n$lightest_purple: #ebe8f1;\n\n$cyan: #0094ca;\n$light_cyan: #59b9dc;\n$lighter_cyan: #a6daed;\n$lightest_cyan: #d9eff7;\n$almost_white_cyan: #f5fcff;\n\n$orange: #ffa400;\n$light_orange: #ffc459;\n$lighter_orange: #ffe0a6;\n$lightest_orange: #fff2d9;\n$dark_orange: #ff8600;\n\n$green: #b9bf15;\n$light_green: #d1d567;\n$lighter_green: #e7e9ad;\n$lightest_green: #f5f5dc;\n$highlight_green: #8afc9b;\n\n$yellow: #ffb81d;\n$light_yellow: #ffdb74;\n$lighter_yellow: #ffebb5;\n$lightest_yellow: #fff7df;\n\n$goldenrod: #daa520;\n\n$header_text: $white;\n$bkgnd_color: $teal;\n$inset_color: $lighter_gray;\n$dark_color: $purple;\n$hdr_color: $purple;\n\n// Some extra colors.\n$red: #c00;\n$lightest_red: #fcc;\n$dark_red: #d62911;\n$realgreen: #008000;\n$realyellow: #ff0;\n$mustardyellow: #efcd1c;\n$twitter_blue: #00aced;\n$facebook_blue: #3b5998;\n$microsoft_blue: #2a5cb2;\n$dark_blue: #00647f;\n$google_red: #a5201a;\n$blockly_flyout_gray: #ddd;\n$default_text: #333;\n$border_gray: #bbb;\n$border_light_gray: #d8d8d8;\n$table_header: #ececec;\n$table_light_row: #fcfcfc;\n$table_dark_row: #f4f4f4;\n\n// Progress colors.\n$level_submitted: $purple;\n$level_perfect: rgb(14, 190, 14);\n$level_passed: rgb(159, 212, 159);\n$level_attempted: $realyellow;\n$level_not_tried: #fefefe;\n$level_current: $orange;\n$level_review_rejected: $red;\n$level_review_accepted: rgb(11, 142, 11); // TODO: $level_passed;\n$assessment: $cyan;\n$workspace_running_background: #e5e5e5;\n\n// Experimental Sprite Lab validation colors.\n$dark_purple: #682A77;\n$bright_green: #0ebe0e;\n$neon_pink: #e9118f;\n\n// Links (used in apps).\n$link_color: #0596ce;\n\n// Shadow.\n$shadow: rgba(0, 0, 0, 0.3);\n\n// Colors that are taken from bootstrap, and not necessarily part of our core theme.\n$bootstrap_button_blue: #337ab7;\n$bootstrap_button_red: #d9534f;\n$bootstrap_error_background: #f2dede;\n$bootstrap_error_text: #b94a48;\n$bootstrap_error_border: #ebccd1;\n$bootstrap_warning_background: #fcf8e3;\n$bootstrap_warning_text: #c09853;\n$bootstrap_warning_border: #faebcc;\n$bootstrap_border_color: #cccccc;\n$bootstrap_success_background: #dff0d8;\n$bootstrap_success_text: #468847;\n$bootstrap_success_border: #d6e9c6;\n\n// Colors taken from droplet, not part of our core theme.\n$droplet_light_green: #d3e965;\n$droplet_blue: #64b5f6;\n$droplet_bright_blue: #19c3e1;\n$droplet_yellow: #fff176;\n$droplet_orange: #ffb74d;\n$droplet_red: #f78183;\n$droplet_cyan: #4dd0e1;\n$droplet_pink: #f57ac6;\n$droplet_purple: #bb77c7;\n$droplet_green: #68d995;\n$droplet_white: $white;\n\n// Oceans: deep blue background.\n$oceans_deep_blue: rgb(2, 0, 28);\n$music_black: #000\n"],sourceRoot:""}]);const s=a},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,"@keyframes react-loading-skeleton {\n    100% {\n        transform: translateX(100%);\n    }\n}\n\n.react-loading-skeleton {\n    --base-color: #ebebeb;\n    --highlight-color: #f5f5f5;\n    --animation-duration: 1.5s;\n    --animation-direction: normal;\n    --pseudo-element-display: block; /* Enable animation */\n\n    background-color: var(--base-color);\n\n    width: 100%;\n    border-radius: 0.25rem;\n    display: inline-flex;\n    line-height: 1;\n\n    position: relative;\n    overflow: hidden;\n    z-index: 1; /* Necessary for overflow: hidden to work correctly in Safari */\n}\n\n.react-loading-skeleton::after {\n    content: ' ';\n    display: var(--pseudo-element-display);\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    background-repeat: no-repeat;\n    background-image: linear-gradient(\n        90deg,\n        var(--base-color),\n        var(--highlight-color),\n        var(--base-color)\n    );\n    transform: translateX(-100%);\n\n    animation-name: react-loading-skeleton;\n    animation-direction: var(--animation-direction);\n    animation-duration: var(--animation-duration);\n    animation-timing-function: ease-in-out;\n    animation-iteration-count: infinite;\n}\n","",{version:3,sources:["webpack://./node_modules/react-loading-skeleton/dist/skeleton.css"],names:[],mappings:"AAAA;IACI;QACI,2BAA2B;IAC/B;AACJ;;AAEA;IACI,qBAAqB;IACrB,0BAA0B;IAC1B,0BAA0B;IAC1B,6BAA6B;IAC7B,+BAA+B,EAAE,qBAAqB;;IAEtD,mCAAmC;;IAEnC,WAAW;IACX,sBAAsB;IACtB,oBAAoB;IACpB,cAAc;;IAEd,kBAAkB;IAClB,gBAAgB;IAChB,UAAU,EAAE,+DAA+D;AAC/E;;AAEA;IACI,YAAY;IACZ,sCAAsC;IACtC,kBAAkB;IAClB,MAAM;IACN,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,4BAA4B;IAC5B;;;;;KAKC;IACD,4BAA4B;;IAE5B,sCAAsC;IACtC,+CAA+C;IAC/C,6CAA6C;IAC7C,sCAAsC;IACtC,mCAAmC;AACvC",sourcesContent:["@keyframes react-loading-skeleton {\n    100% {\n        transform: translateX(100%);\n    }\n}\n\n.react-loading-skeleton {\n    --base-color: #ebebeb;\n    --highlight-color: #f5f5f5;\n    --animation-duration: 1.5s;\n    --animation-direction: normal;\n    --pseudo-element-display: block; /* Enable animation */\n\n    background-color: var(--base-color);\n\n    width: 100%;\n    border-radius: 0.25rem;\n    display: inline-flex;\n    line-height: 1;\n\n    position: relative;\n    overflow: hidden;\n    z-index: 1; /* Necessary for overflow: hidden to work correctly in Safari */\n}\n\n.react-loading-skeleton::after {\n    content: ' ';\n    display: var(--pseudo-element-display);\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    background-repeat: no-repeat;\n    background-image: linear-gradient(\n        90deg,\n        var(--base-color),\n        var(--highlight-color),\n        var(--base-color)\n    );\n    transform: translateX(-100%);\n\n    animation-name: react-loading-skeleton;\n    animation-direction: var(--animation-direction);\n    animation-duration: var(--animation-duration);\n    animation-timing-function: ease-in-out;\n    animation-iteration-count: infinite;\n}\n"],sourceRoot:""}]);const s=a},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(u(t=e.call.apply(e,[this].concat(r))||this),"commentChanged",(function(e){t.props.onCommentChange(e.target.value)})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),o.prototype.render=function(){var e=!this.props.isEditable&&p.readOnly;return r.default.createElement("textarea",{id:"ui-test-feedback-input",style:l(l({},p.textInput),e),onChange:this.commentChanged,placeholder:this.props.placeholderText,value:this.props.comment,readOnly:!this.props.isEditable})},o}(r.default.Component);d(f,"propTypes",{isEditable:o.default.bool,comment:o.default.string,placeholderText:o.default.string,onCommentChange:o.default.func});var p={textInput:{marginTop:0,marginBottom:8,display:"block",width:"90%",fontSize:12},readOnly:{backgroundColor:i.default.lightest_cyan},h1:{color:i.default.charcoal,marginTop:0,marginBottom:8,fontSize:18,lineHeight:"18px",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal"}},h=f;t.default=h,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=c(n(2)),a=c(n(20)),s=c(n(13)),l=c(n(1766)),u=n(1296);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=["performanceLevel1","performanceLevel2","performanceLevel3","performanceLevel4"],y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this.props,t=e.rubric,n=e.performance,r=e.isEditable,i=e.onRubricChange,a=!r&&!n,u=r||!!n;return o.default.createElement("div",{style:v.performanceArea},o.default.createElement("div",{style:v.keyConceptArea},o.default.createElement("h1",{style:v.h1},s.default.rubricKeyConceptHeader()),o.default.createElement("p",{style:v.keyConcepts},t.keyConcept)),o.default.createElement("div",{style:v.rubricArea},o.default.createElement("h1",{style:v.h1}," ",s.default.rubric()," "),o.default.createElement("form",{style:v.form},g.map((function(e){return o.default.createElement(l.default,{key:e,showFeedbackInputAreas:u,expandByDefault:a||n===e,rubricLevel:e,rubricValue:t[e],disabledMode:!r,onChange:i,currentlyChecked:n===e})})))))},r}(o.Component);p=y,h="propTypes",m={rubric:u.rubricShape,performance:i.default.string,isEditable:i.default.bool,onRubricChange:i.default.func},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var v={performanceArea:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"0px 16px 8px 16px"},keyConceptArea:{marginRight:28,flexBasis:"40%"},h1:{color:a.default.charcoal,fontSize:18,lineHeight:"18px",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal"},keyConcepts:{fontSize:12,color:a.default.charcoal,margin:0},rubricArea:{flexBasis:"60%"},form:{margin:0}},b=y;t.default=b,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=n(1297),a=(o=n(2))&&o.__esModule?o:{default:o},s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),l=n(1417);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f(c(t=e.call.apply(e,[this].concat(r))||this),"onThumbnailClick",(function(){var e=t.props.video;t.props.onClick&&t.props.onClick(),t.props.openInNewTab?window.open(e.src,"_blank","noopener,noreferrer"):(0,i.showVideoDialog)({src:e.src,name:e.name,key:e.key,download:e.download,thumbnail:e.thumbnail,enable_fallback:e.enable_fallback,autoplay:e.autoplay},!0)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props.video;return s.default.createElement("a",{style:h.videoLink,onClick:this.onThumbnailClick},s.default.createElement("img",{style:h.videoThumbnail,src:e.thumbnail,alt:e.name}),s.default.createElement("span",null,e.name))},r}(s.Component);t.default=p,f(p,"propTypes",{video:l.videoDataShape,onClick:a.default.func,openInNewTab:a.default.bool});var h={videoLink:{display:"inline-block",margin:8,fontWeight:"bold",fontSize:16,lineHeight:"25px",cursor:"pointer"},videoThumbnail:{borderRadius:5,height:40,width:"auto",marginRight:8}};e.exports=t.default},,,,(e,t,n)=>{"use strict";var r=n(610),o=n(774);t.defineForAce=function(e,t,n,i){ace.define("ace/mode/javascript_codeorg",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/javascript_highlight_rules","ace/worker/worker_client","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/config","ace/lib/net","ace/ext/searchbox"],(function(a,s,l){var u=a("ace/lib/oop"),c=a("ace/mode/javascript").Mode,d=a("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,f=a("ace/worker/worker_client"),p=f.WorkerClient;window.Worker||(p=f.UIWorkerClient,window.Worker=p);var h=a("./matching_brace_outdent").MatchingBraceOutdent,m=a("./behaviour/cstyle").CstyleBehaviour,g=a("./folding/cstyle").FoldMode,y=function(){this.HighlightRules=d,this.$outdent=new h,this.$behaviour=new m,this.foldingRules=new g};u.inherits(y,c),function(){this.$highlightRules=new d,this.$highlightRules.$keywordList=[],this.createWorker=function(a){var s=new p(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");s.attachToDocument(a.getDocument());var l={"-W041":!1,eqeqeq:!1,unused:!0,undef:!0,maxerr:1e3,predef:{},exported:{}};return(0,r.getAllAvailableDropletBlocks)(e).forEach((function(e){e.block||e.modeOptionName&&"*"===e.modeOptionName[0]||-1!==e.func.indexOf(".")||(l.predef[e.func]=!1)})),e.additionalPredefValues&&e.additionalPredefValues.forEach((function(e){l.predef[e]=!1})),t&&t.forEach((function(e){l.exported[e]=!1})),o.attachToSession(a,n),s.send("changeOptions",[l]),s.on("jslint",(function(e){o.setJSLintAnnotations(e,i)})),s.on("terminate",(function(){a.clearAnnotations()})),s},this.cleanup=function(){o.detachFromSession()}}.call(y.prototype),s.Mode=y}))}},e=>{var t=[{original:/Assignment in conditional expression/,replacement:"For conditionals, use the comparison operator (===) to check if two things are equal."},{original:/(.*)\sis defined but never used./,replacement:"$1 is defined, but it's not called in your program."},{original:/(.*)\sis not defined./,replacement:"$1 hasn't been declared yet."},{original:/Expected an identifier and instead saw (.*)\s\(a reserved word\)./,applab_replacement:"$1 is a reserved word in App Lab. Use a different variable name.",gamelab_replacement:"$1 is a reserved word in Game Lab. Use a different variable name."},{original:/'setup' is defined, but it's not called in your program./,replacement:"'setup' is a function that already exists in Game Lab. Consider giving this function a different name."}];e.exports.processResults=function(e,n){e.data.forEach((function(e){"info"===e.type&&(e.type="warning"),t.forEach((function(t){var r;t.original.test(e.text)&&(r=t.replacement?t.replacement:"Applab"===n?t.applab_replacement:t.gamelab_replacement,e.text=e.text.replace(t.original,r))}))}))}},(e,t)=>{"use strict";function n(e){return(e|=0)<10?"0".concat(e):"".concat(Math.min(e,99))}function r(){function e(e,t){return new Promise((function(n,r){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="arraybuffer",o.onload=function(){n(WebAssembly.instantiate(o.response,t))},o.onerror=r,o.send()}))}var t=null,n=5242880;function r(e){var t=n;return n+=e,t}function o(e){postMessage({type:"internal-error",data:e})}var i=null,a=null,s=null;onmessage=function(n){var l=n.data;switch(l.type){case"init":var u=l.data,c=u.wasmURL,d=u.shimURL;Promise.resolve().then((function(){var e,n;return self.WebAssembly&&(e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),n=new WebAssembly.Module(e),0===new WebAssembly.Instance(n,{}).exports.test(4))&&delete self.WebAssembly,self.WebAssembly||importScripts(d),{memory:t=new WebAssembly.Memory({initial:256,maximum:256}),pow:Math.pow,exit:o,powf:Math.pow,exp:Math.exp,sqrtf:Math.sqrt,cos:Math.cos,log:Math.log,sin:Math.sin,sbrk:r}})).then((function(t){return function(t,n){if(!WebAssembly.instantiateStreaming)return e(t,n);var r=fetch(t,{credentials:"same-origin"});return WebAssembly.instantiateStreaming(r,n).catch((function(r){if(r.message&&r.message.indexOf("Argument 0 must be provided and must be a Response")>0)return e(t,n);throw r}))}(c,{env:t})})).then((function(e){i=e.instance.exports,postMessage({type:"init",data:null})})).catch((function(e){postMessage({type:"init-error",data:e.toString()})}));break;case"start":if(!function(e){if(!(a=i.vmsg_init(e)))return!1;var n=new Uint32Array(t.buffer,a,1)[0];return s=new Float32Array(t.buffer,n),!0}(l.data))return postMessage({type:"error",data:"vmsg_init"});break;case"data":if(!function(e){return s.set(e),i.vmsg_encode(a,e.length)>=0}(l.data))return postMessage({type:"error",data:"vmsg_encode"});break;case"stop":var f=function(){if(i.vmsg_flush(a)<0)return null;var e=new Uint32Array(t.buffer,a+4,1)[0],n=new Uint32Array(t.buffer,a+8,1)[0],r=new Uint8Array(t.buffer,e,n),o=new Blob([r],{type:"audio/mpeg"});return i.vmsg_free(a),a=null,s=null,o}();if(!f)return postMessage({type:"error",data:"vmsg_flush"});postMessage({type:"stop",data:f})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Recorder=t.Form=void 0,t.record=s;var o=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.wasmURL=new URL(e.wasmURL||"/static/js/vmsg.wasm",location).href,this.shimURL=new URL(e.shimURL||"/static/js/wasm-polyfill.js",location).href,this.onStop=t,this.pitch=e.pitch||0,this.stream=null,this.audioCtx=null,this.gainNode=null,this.pitchFX=null,this.encNode=null,this.worker=null,this.workerURL=null,this.blob=null,this.blobURL=null,this.resolve=null,this.reject=null,Object.seal(this)}var t=e.prototype;return t.close=function(){this.encNode&&this.encNode.disconnect(),this.encNode&&(this.encNode.onaudioprocess=null),this.stream&&this.stopTracks(),this.audioCtx&&this.audioCtx.close(),this.worker&&this.worker.terminate(),this.workerURL&&URL.revokeObjectURL(this.workerURL),this.blobURL&&URL.revokeObjectURL(this.blobURL)},t.initAudio=function(){var e=this;return(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?function(e){return navigator.mediaDevices.getUserMedia(e)}:function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})({audio:!0}).then((function(t){e.stream=t;var n=e.audioCtx=new(window.AudioContext||window.webkitAudioContext),r=n.createMediaStreamSource(t),o=e.gainNode=(n.createGain||n.createGainNode).call(n);o.gain.value=1,r.connect(o);var i=e.pitchFX=new f(n);i.setPitchOffset(e.pitch);var a=e.encNode=(n.createScriptProcessor||n.createJavaScriptNode).call(n,0,1,1);i.output.connect(a),o.connect(0===e.pitch?a:i.input)}))},t.initWorker=function(){var e=this;if(!this.stream)throw new Error("missing audio initialization");var t=new Blob(["(",r.toString(),")()"],{type:"application/javascript"}),n=this.workerURL=URL.createObjectURL(t),o=this.worker=new Worker(n),i=this.wasmURL,a=this.shimURL;return o.postMessage({type:"init",data:{wasmURL:i,shimURL:a}}),new Promise((function(t,n){o.onmessage=function(r){var o=r.data;switch(o.type){case"init":t();break;case"init-error":n(new Error(o.data));break;case"error":case"internal-error":console.error("Worker error:",o.data),e.reject&&e.reject(o.data);break;case"stop":e.blob=o.data,e.blobURL=URL.createObjectURL(o.data),e.onStop&&e.onStop(),e.resolve&&e.resolve(e.blob)}}}))},t.init=function(){return this.initAudio().then(this.initWorker.bind(this))},t.startRecording=function(){var e=this;if(!this.stream)throw new Error("missing audio initialization");if(!this.worker)throw new Error("missing worker initialization");this.blob=null,this.blobURL&&URL.revokeObjectURL(this.blobURL),this.blobURL=null,this.resolve=null,this.reject=null,this.worker.postMessage({type:"start",data:this.audioCtx.sampleRate}),this.encNode.onaudioprocess=function(t){var n=t.inputBuffer.getChannelData(0);e.worker.postMessage({type:"data",data:n})},this.encNode.connect(this.audioCtx.destination)},t.stopRecording=function(){var e=this;if(!this.stream)throw new Error("missing audio initialization");if(!this.worker)throw new Error("missing worker initialization");return this.encNode.disconnect(),this.encNode.onaudioprocess=null,this.stopTracks(),this.worker.postMessage({type:"stop",data:null}),new Promise((function(t,n){e.resolve=t,e.reject=n}))},t.stopTracks=function(){this.stream.getTracks&&this.stream.getTracks().forEach((function(e){return e.stop()}))},e}();t.Recorder=o;var i=function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.recorder=new o(t,this.onStop.bind(this)),this.resolve=n,this.reject=r,this.backdrop=null,this.popup=null,this.recordBtn=null,this.stopBtn=null,this.timer=null,this.audio=null,this.saveBtn=null,this.tid=0,this.start=0,Object.seal(this),this.recorder.initAudio().then((function(){return e.drawInit()})).then((function(){return e.recorder.initWorker()})).then((function(){return e.drawAll()})).catch((function(t){return e.drawError(t)}))}var t=e.prototype;return t.drawInit=function(){var e=this;if(!this.backdrop){var t=this.backdrop=document.createElement("div");t.className="vmsg-backdrop",t.addEventListener("click",(function(){return e.close(null)}));var n=this.popup=document.createElement("div");n.className="vmsg-popup",n.addEventListener("click",(function(e){return e.stopPropagation()}));var r=document.createElement("div");r.className="vmsg-progress";for(var o=0;o<3;o++){var i=document.createElement("div");i.className="vmsg-progress-dot",r.appendChild(i)}n.appendChild(r),t.appendChild(n),document.body.appendChild(t)}},t.drawTime=function(e){var t=Math.round(e/1e3);this.timer.textContent=n(t/60)+":"+n(t%60)},t.drawAll=function(){var e=this;this.drawInit(),this.clearAll();var t=document.createElement("div");t.className="vmsg-record-row",this.popup.appendChild(t);var n=this.recordBtn=document.createElement("button");n.className="vmsg-button vmsg-record-button",n.textContent="●",n.addEventListener("click",(function(){return e.startRecording()})),t.appendChild(n);var r=this.stopBtn=document.createElement("button");r.className="vmsg-button vmsg-stop-button",r.style.display="none",r.textContent="■",r.addEventListener("click",(function(){return e.stopRecording()})),t.appendChild(r);var o=this.audio=new Audio;o.autoplay=!0;var i=this.timer=document.createElement("span");i.className="vmsg-timer",i.addEventListener("click",(function(){o.paused?e.recorder.blobURL&&(o.src=e.recorder.blobURL):o.pause()})),this.drawTime(0),t.appendChild(i);var a=this.saveBtn=document.createElement("button");a.className="vmsg-button vmsg-save-button",a.textContent="✓",a.disabled=!0,a.addEventListener("click",(function(){return e.close(e.recorder.blob)})),t.appendChild(a);var s=document.createElement("div");s.className="vmsg-slider-wrapper vmsg-gain-slider-wrapper";var l=document.createElement("input");l.className="vmsg-slider vmsg-gain-slider",l.setAttribute("type","range"),l.min=0,l.max=2,l.step=.2,l.value=1,l.onchange=function(){var t=+l.value;e.recorder.gainNode.gain.value=t},s.appendChild(l),this.popup.appendChild(s);var u=document.createElement("div");u.className="vmsg-slider-wrapper vmsg-pitch-slider-wrapper";var c=document.createElement("input");c.className="vmsg-slider vmsg-pitch-slider",c.setAttribute("type","range"),c.min=-1,c.max=1,c.step=.2,c.value=this.recorder.pitch,c.onchange=function(){var t=+c.value;e.recorder.pitchFX.setPitchOffset(t),e.recorder.gainNode.disconnect(),e.recorder.gainNode.connect(0===t?e.recorder.encNode:e.recorder.pitchFX.input)},u.appendChild(c),this.popup.appendChild(u)},t.drawError=function(e){console.error(e),this.drawInit(),this.clearAll();var t=document.createElement("div");t.className="vmsg-error",t.textContent=e.toString(),this.popup.appendChild(t)},t.clearAll=function(){this.popup&&(this.popup.innerHTML="")},t.close=function(e){this.audio&&this.audio.pause(),this.tid&&clearTimeout(this.tid),this.recorder.close(),this.backdrop.remove(),e?this.resolve(e):this.reject(new Error("No record made"))},t.onStop=function(){this.recordBtn.style.display="",this.stopBtn.style.display="none",this.stopBtn.disabled=!1,this.saveBtn.disabled=!1},t.startRecording=function(){this.audio.pause(),this.start=Date.now(),this.updateTime(),this.recordBtn.style.display="none",this.stopBtn.style.display="",this.saveBtn.disabled=!0,this.recorder.startRecording()},t.stopRecording=function(){clearTimeout(this.tid),this.tid=0,this.stopBtn.disabled=!0,this.recorder.stopRecording()},t.updateTime=function(){var e=this;this.drawTime(Date.now()-this.start),this.tid=setTimeout((function(){return e.updateTime()}),300)},e}();t.Form=i;var a=!1;function s(e){return new Promise((function(t,n){if(a)throw new Error("Record form is already opened");a=!0,new i(e,t,n)})).then((function(e){return a=!1,e}),(function(e){throw a=!1,e}))}var l={Recorder:o,Form:i,record:s};t.default=l;var u=.05,c=.1;function d(e,t,n,r){for(var o=t*e.sampleRate,i=o+(t-2*n)*e.sampleRate,a=e.createBuffer(1,i,e.sampleRate),s=a.getChannelData(0),l=0;l<o;++l)s[l]=r?(o-l)/i:l/o;for(l=o;l<i;++l)s[l]=0;return a}function f(e){this.context=e;var t=(e.createGain||e.createGainNode).call(e),n=(e.createGain||e.createGainNode).call(e);this.input=t,this.output=n;var r=e.createBufferSource(),o=e.createBufferSource(),i=e.createBufferSource(),a=e.createBufferSource();this.shiftDownBuffer=d(e,c,u,!1),this.shiftUpBuffer=d(e,c,u,!0),r.buffer=this.shiftDownBuffer,o.buffer=this.shiftDownBuffer,i.buffer=this.shiftUpBuffer,a.buffer=this.shiftUpBuffer,r.loop=!0,o.loop=!0,i.loop=!0,a.loop=!0;var s=(e.createGain||e.createGainNode).call(e),l=(e.createGain||e.createGainNode).call(e),f=(e.createGain||e.createGainNode).call(e);f.gain.value=0;var p=(e.createGain||e.createGainNode).call(e);p.gain.value=0,r.connect(s),o.connect(l),i.connect(f),a.connect(p);var h=(e.createGain||e.createGainNode).call(e),m=(e.createGain||e.createGainNode).call(e),g=(e.createDelay||e.createDelayNode).call(e),y=(e.createDelay||e.createDelayNode).call(e);s.connect(h),l.connect(m),f.connect(h),p.connect(m),h.connect(g.delayTime),m.connect(y.delayTime);var v=e.createBufferSource(),b=e.createBufferSource(),_=function(e,t,n){for(var r=t*e.sampleRate,o=r+(t-2*n)*e.sampleRate,i=e.createBuffer(1,o,e.sampleRate),a=i.getChannelData(0),s=n*e.sampleRate,l=s,u=r-s,c=0;c<r;++c){var d;d=c<l?Math.sqrt(c/s):c>=u?Math.sqrt(1-(c-u)/s):1,a[c]=d}for(c=r;c<o;++c)a[c]=0;return i}(e,c,u);v.buffer=_,b.buffer=_,v.loop=!0,b.loop=!0;var w=(e.createGain||e.createGainNode).call(e),E=(e.createGain||e.createGainNode).call(e);w.gain.value=0,E.gain.value=0,v.connect(w.gain),b.connect(E.gain),t.connect(g),t.connect(y),g.connect(w),y.connect(E),w.connect(n),E.connect(n);var O=e.currentTime+.05,S=O+c-u;r.start(O),o.start(S),i.start(O),a.start(S),v.start(O),b.start(S),this.mod1=r,this.mod2=o,this.mod1Gain=s,this.mod2Gain=l,this.mod3Gain=f,this.mod4Gain=p,this.modGain1=h,this.modGain2=m,this.fade1=v,this.fade2=b,this.mix1=w,this.mix2=E,this.delay1=g,this.delay2=y,this.setDelay(.1)}f.prototype.setDelay=function(e){this.modGain1.gain.setTargetAtTime(.5*e,0,.01),this.modGain2.gain.setTargetAtTime(.5*e,0,.01)},f.prototype.setPitchOffset=function(e){e>0?(this.mod1Gain.gain.value=0,this.mod2Gain.gain.value=0,this.mod3Gain.gain.value=1,this.mod4Gain.gain.value=1):(this.mod1Gain.gain.value=1,this.mod2Gain.gain.value=1,this.mod3Gain.gain.value=0,this.mod4Gain.gain.value=0),this.setDelay(.1*Math.abs(e))}},(e,t,n)=>{e.exports=n(1380)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1381),a=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l={nFrequencyBars:255,onAnalysed:null},u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.config=Object.assign({},l,n),this.audioContext=t,this.audioInput=null,this.realAudioInput=null,this.inputPoint=null,this.audioRecorder=null,this.rafID=null,this.analyserContext=null,this.recIndex=0,this.stream=null,this.updateAnalysers=this.updateAnalysers.bind(this)}return o(e,[{key:"init",value:function(e){var t=this;return new Promise((function(n){t.inputPoint=t.audioContext.createGain(),t.stream=e,t.realAudioInput=t.audioContext.createMediaStreamSource(e),t.audioInput=t.realAudioInput,t.audioInput.connect(t.inputPoint),t.analyserNode=t.audioContext.createAnalyser(),t.analyserNode.fftSize=2048,t.inputPoint.connect(t.analyserNode),t.audioRecorder=new a.default(t.inputPoint);var r=t.audioContext.createGain();r.gain.value=0,t.inputPoint.connect(r),r.connect(t.audioContext.destination),t.updateAnalysers(),n()}))}},{key:"start",value:function(){var e=this;return new Promise((function(t,n){e.audioRecorder?(e.audioRecorder.clear(),e.audioRecorder.record(),t(e.stream)):n("Not currently recording")}))}},{key:"stop",value:function(){var e=this;return new Promise((function(t){e.audioRecorder.stop(),e.audioRecorder.getBuffer((function(n){e.audioRecorder.exportWAV((function(e){return t({buffer:n,blob:e})}))}))}))}},{key:"updateAnalysers",value:function(){if(this.config.onAnalysed){requestAnimationFrame(this.updateAnalysers);var e=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(e);for(var t=new Array(255),n=0,r=void 0,o=0;o<255;o+=1)0!==(r=Math.floor(e[o])-Math.floor(e[o])%5)&&(n=o),t[o]=r;this.config.onAnalysed({data:t,lineTo:n})}}},{key:"setOnAnalysed",value:function(e){this.config.onAnalysed=e}}]),e}();u.download=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio";a.default.forceDownload(e,t+".wav")},t.default=u},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1205),a=(r=i)&&r.__esModule?r:{default:r};var s={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},l=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=Object.assign({},s,n),this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},this.context=t.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(e){if(r.recording){for(var t=[],n=0;n<r.config.numChannels;n++)t.push(e.inputBuffer.getChannelData(n));r.worker.postMessage({command:"record",buffer:t})}},t.connect(this.node),this.node.connect(this.context.destination);this.worker=new a.default((function(){var e=0,t=[],n=void 0,r=void 0;function o(){for(var e=0;e<r;e++)t[e]=[]}function i(e,t){for(var n=new Float32Array(t),r=0,o=0;o<e.length;o++)n.set(e[o],r),r+=e[o].length;return n}function a(e,t,n){for(var r=0;r<n.length;r+=1)e.setUint8(t+r,n.charCodeAt(r))}this.onmessage=function(s){switch(s.data.command){case"init":!function(e){n=e.sampleRate,r=e.numChannels,o()}(s.data.config);break;case"record":!function(n){for(var o=0;o<r;o++)t[o].push(n[o]);e+=n[0].length}(s.data.buffer);break;case"exportWAV":!function(o){for(var s=[],l=0;l<r;l++)s.push(i(t[l],e));var u=void 0;u=2===r?function(e,t){var n=e.length+t.length,r=new Float32Array(n),o=0,i=0;for(;o<n;)r[o++]=e[i],r[o++]=t[i],i++;return r}(s[0],s[1]):s[0];var c=(f=u,p=new ArrayBuffer(44+2*f.length),h=new DataView(p),a(h,0,"RIFF"),h.setUint32(4,36+2*f.length,!0),a(h,8,"WAVE"),a(h,12,"fmt "),h.setUint32(16,16,!0),h.setUint16(20,1,!0),h.setUint16(22,r,!0),h.setUint32(24,n,!0),h.setUint32(28,4*n,!0),h.setUint16(32,2*r,!0),h.setUint16(34,16,!0),a(h,36,"data"),h.setUint32(40,2*f.length,!0),function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var o=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,o<0?32768*o:32767*o,!0)}}(h,44,f),h),d=new Blob([c],{type:o});var f,p,h;this.postMessage({command:"exportWAV",data:d})}(s.data.type);break;case"getBuffer":!function(){for(var n=[],o=0;o<r;o++)n.push(i(t[o],e));this.postMessage({command:"getBuffer",data:n})}();break;case"clear":e=0,t=[],o()}}}),{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(e){var t=r.callbacks[e.data.command].pop();"function"==typeof t&&t(e.data.data)}}return o(e,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(e){if(!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(e,t){if(t=t||this.config.mimeType,!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",type:t})}}]),e}();l.forceDownload=function(e,t){var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var r=window.URL.createObjectURL(e);n.href=r,n.download=t,n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)},t.default=l},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=(r=i)&&r.__esModule?r:{default:r},s=n(1383);var l={position:"relative"},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRef=n.setRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidUpdate",value:function(e){!e.active&&this.props.active&&(0,s.confetti)(this.container,this.props.config)}},{key:"setRef",value:function(e){this.container=e}},{key:"render",value:function(){return a.default.createElement("div",{className:this.props.className,style:l,ref:this.setRef})}}]),t}(i.Component);t.default=u},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confetti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object.assign({},i,a(t)),l=s.elementCount,u=s.colors,c=s.width,d=s.height,f=s.perspective,p=s.angle,h=s.spread,m=s.startVelocity,g=s.decay,y=s.dragFriction,v=s.duration,b=s.stagger,_=s.random;e.style.perspective=f;var w=n(e,l,u,c,d),E=w.map((function(e){return{element:e,physics:r(p,h,m,_)}}));return o(e,E,y,g,v,b)};function n(e,t,n,r,o){return Array.from({length:t}).map((function(t,i){var a=document.createElement("div"),s=n[i%n.length];return a.style["background-color"]=s,a.style.width=r,a.style.height=o,a.style.position="absolute",a.style.willChange="transform, opacity",a.style.visibility="hidden",e.appendChild(a),a}))}function r(e,t,n,r){var o=e*(Math.PI/180),i=t*(Math.PI/180);return{x:0,y:0,z:0,wobble:10*r(),wobbleSpeed:.1+.1*r(),velocity:.5*n+r()*n,angle2D:-o+(.5*i-r()*i),angle3D:-Math.PI/4+r()*(Math.PI/2),tiltAngle:r()*Math.PI,tiltAngleSpeed:.1+.3*r()}}function o(e,t,n,r,o,i){var a=void 0;return new Promise((function(s){requestAnimationFrame((function l(u){a||(a=u);var c=u-a,d=a===u?0:(u-a)/o;t.slice(0,Math.ceil(c/i)).forEach((function(e){!function(e,t,n,r){e.physics.x+=Math.cos(e.physics.angle2D)*e.physics.velocity,e.physics.y+=Math.sin(e.physics.angle2D)*e.physics.velocity,e.physics.z+=Math.sin(e.physics.angle3D)*e.physics.velocity,e.physics.wobble+=e.physics.wobbleSpeed,r?e.physics.velocity*=r:e.physics.velocity-=e.physics.velocity*n,e.physics.y+=3,e.physics.tiltAngle+=e.physics.tiltAngleSpeed;var o=e.physics,i=o.x,a=o.y,s=o.z,l=o.tiltAngle,u=o.wobble,c="translate3d("+(i+10*Math.cos(u))+"px, "+(a+10*Math.sin(u))+"px, "+s+"px) rotate3d(1, 1, 1, "+l+"rad)";e.element.style.visibility="visible",e.element.style.transform=c,e.element.style.opacity=1-t}(e,d,n,r)})),u-a<o?requestAnimationFrame(l):(t.forEach((function(t){if(t.element.parentNode===e)return e.removeChild(t.element)})),s())}))}))}var i={angle:90,spread:45,startVelocity:45,elementCount:50,width:"10px",height:"10px",perspective:"",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"],duration:3e3,stagger:0,dragFriction:.1,random:Math.random};function a(e){return!e.stagger&&e.delay&&(e.stagger=e.delay),e}},(e,t)=>{var n=/^\s*$/,r=/\*\/$/,o=/^\/\*/;t.findFunctionAndParamNumber=function(e,t){var i,a,s=[],l=0,u=new(0,ace.require("./token_iterator").TokenIterator)(e.session,t.row,t.column),c=u.getCurrentToken();if(0===t.column)c=u.stepBackward();else if(c&&c.type.match(/^comment/)){if(!("comment.doc"===c.type||c.value.match(o)))return null;var d=c.value.match(r),f=c.start+c.value.length===t.column;if(!(d&&f))return null}for(;c;){switch(c.type){case"paren.rparen":for(var p=c.value.split(),h=p.length-1;h>=0;h--){var m=p[h];s.push(m)}break;case"paren.lparen":for(var g=c.value.split(),y=g.length-1;y>=0;y--){var v=g[y];if(0===s.length&&"("===v){var b,_=u.stepBackward().value,w=u.stepBackward();return w&&"."===w.value&&(b=u.stepBackward().value+"."+_,_="*."+_),{funcName:_,fullFuncName:b,currentParameterIndex:l}}var E=s.pop();if(!E||{"}":"{",")":"(","]":"["}[E]!==v)return null}break;case"punctuation.operator":if(0===s.length){if(c.value.includes(";"))return null;c.value.includes(",")&&(l+=(i=c.value,a=",",i.split(a).length-1))}break;case"comment":case"comment.doc":break;case"text":if(0!==s.length||c.value.match(n))break;return null;default:if(0===s.length&&0===l)return null}c=u.stepBackward()}return null}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedTeacherPanel=void 0;var r=T(n(1)),o=T(n(2)),i=n(27),a=T(n(1028)),s=T(n(1213)),l=T(n(1386)),u=T(n(59)),c=n(759),d=n(420),f=n(908),p=n(468),h=T(n(1029)),m=n(859),g=T(n(1030)),y=T(n(74)),v=T(n(13)),b=T(n(131)),_=n(493),w=n(33),E=n(388),O=n(858),S=n(1387);function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return x(A(t=e.call.apply(e,[this].concat(r))||this),"loadInitialData",(function(){(0,S.getStudentsForSection)().then((function(e){e&&t.props.setStudentsForCurrentSection(e.id,e.students)})),(0,S.queryLockStatus)(t.props.scriptId).then((function(e){var n=e.teacherSections,r=e.sectionLockStatus;if("script_overview"!==t.props.pageType){t.props.setSections(n);var o=(0,E.queryParams)("section_id");o&&t.props.selectSection(o)}t.props.setSectionLockStatus(r)}))})),x(A(t),"logToFirehose",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props.selectedSection&&t.props.selectedSection.id,o=k({section_id:r,page_type:t.props.pageType},n);b.default.putRecord({study:"teacher_panel",event:e,data_json:JSON.stringify(o)})})),x(A(t),"onSelectUser",(function(e,n){t.logToFirehose("select_student",{select_type:n});var r=t.props.pageType===p.pageTypes.scriptOverview;t.props.selectUser(e,r)})),x(A(t),"getSelectedUserId",(function(){var e=(0,E.queryParams)("user_id");return e?parseInt(e,10):null})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,P(t,n);var i=o.prototype;return i.componentDidMount=function(){var e=(0,E.queryParams)("viewAs")||d.ViewType.Instructor;this.props.viewAs!==e&&this.props.setViewType(e),this.loadInitialData()},i.UNSAFE_componentWillReceiveProps=function(e){var t,n;this.props.pageType!==p.pageTypes.scriptOverview&&(null===(t=e.selectedSection)||void 0===t?void 0:t.id)!==(null===(n=this.props.selectedSection)||void 0===n?void 0:n.id)&&this.props.loadLevelsWithProgress()},i.render=function(){var e=this,t=this.props,n=t.viewAs,o=t.hasSections,i=t.sectionsAreLoaded,c=t.selectedSection,f=t.unitHasLockableLessons,b=t.unlockedLessonNames,_=t.students,w=t.unitName,E=t.levelsWithProgress,O=t.pageType,S=t.teacherId,T=t.exampleSolutions,C=this.getSelectedUserId(),k=c&&c.id,A=n===d.ViewType.Instructor&&!(null==_||!_.length)&&O!==p.pageTypes.scriptOverview,P=n===d.ViewType.Instructor&&(null==T?void 0:T.length)>0,x=o&&f&&n===d.ViewType.Instructor;return r.default.createElement(a.default,{logToFirehose:this.logToFirehose},r.default.createElement("h3",null,v.default.teacherPanel()),r.default.createElement("div",{style:R.scrollable},r.default.createElement(l.default,{logToFirehose:this.logToFirehose}),A&&r.default.createElement(g.default,{students:_,onSelectUser:function(t){return e.onSelectUser(t,"iterator")},selectedUserId:C,teacherId:S,levelsWithProgress:E}),P&&r.default.createElement("div",{style:R.exampleSolutions},T.map((function(e,t){return r.default.createElement(y.default,{__useDeprecatedTag:!0,key:t,text:v.default.exampleSolution({number:t+1}),color:"blue",href:e,target:"_blank",rel:"noopener noreferrer"})}))),!i&&r.default.createElement("div",{style:R.text},v.default.loading()),i&&o&&r.default.createElement("div",{style:R.sectionInfo},r.default.createElement("div",null,v.default.viewingSection()),r.default.createElement(s.default,{style:{margin:"0px 10px"},reloadOnChange:!0,logToFirehose:function(){return e.logToFirehose("select_section")}}),c&&r.default.createElement("a",{href:(0,m.teacherDashboardUrl)(c.id),target:"_blank",rel:"noopener noreferrer",style:R.teacherDashboardLink,onClick:function(){return e.logToFirehose("select_teacher_dashboard")}},v.default.teacherDashboard())),x&&r.default.createElement("div",null,r.default.createElement("div",{style:R.text},v.default.selectSectionInstructions()),b.length>0&&r.default.createElement("div",null,r.default.createElement("div",{style:R.text},r.default.createElement(u.default,{icon:"exclamation-triangle",style:R.exclamation}),r.default.createElement("div",{style:R.dontForget},v.default.dontForget())),r.default.createElement("div",{style:R.text},v.default.lockFollowing(),r.default.createElement("ul",null,b.map((function(e,t){return r.default.createElement("li",{key:t},e)})))))),n===d.ViewType.Instructor&&(_||[]).length>0&&r.default.createElement(h.default,{levelsWithProgress:E,students:_,onSelectUser:function(t){return e.onSelectUser(t,"select_specific")},selectedUserId:C,sectionId:k,unitName:w})))},o}(r.default.Component);x(I,"propTypes",{scriptId:o.default.number,unitName:o.default.string,pageType:o.default.oneOf([p.pageTypes.level,p.pageTypes.scriptOverview,p.pageTypes.lessonExtras]),viewAs:o.default.oneOf(Object.values(d.ViewType)).isRequired,hasSections:o.default.bool.isRequired,sectionsAreLoaded:o.default.bool.isRequired,selectedSection:o.default.shape({id:o.default.number.isRequired,name:o.default.string.isRequired}),unitHasLockableLessons:o.default.bool.isRequired,unlockedLessonNames:o.default.arrayOf(o.default.string).isRequired,students:o.default.arrayOf(O.studentShape),levelsWithProgress:o.default.arrayOf(O.levelWithProgress),loadLevelsWithProgress:o.default.func.isRequired,teacherId:o.default.number,exampleSolutions:o.default.array,selectUser:o.default.func.isRequired,setStudentsForCurrentSection:o.default.func.isRequired,setSections:o.default.func.isRequired,setSectionLockStatus:o.default.func.isRequired,selectSection:o.default.func.isRequired,setViewType:o.default.func.isRequired});var R={scrollable:{overflowY:"auto",overflowX:"hidden",maxHeight:"90%"},text:{margin:10},exclamation:{color:"red"},dontForget:{display:"inline",marginLeft:10,fontSize:16,fontFamily:'"Gotham 7r", sans-serif'},sectionHeader:{margin:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},exampleSolutions:{textAlign:"center",margin:5},sectionInfo:{textAlign:"center",padding:"5px 0px"},teacherDashboardLink:{fontSize:11}},D=I;t.UnconnectedTeacherPanel=D;var j=(0,i.connect)((function(e){var t,n,r=e.lessonLock,o=r.lessonsBySectionId,i=r.lockableAuthorized,a=r.lockableAuthorizedLoaded,s=e.teacherSections,l=s.selectedSectionId,u=s.sectionsAreLoaded,d=s.sectionIds,f=o[l],p=(0,c.fullyLockedLessonMapping)(e.lessonLock.lessonsBySectionId[l]),h=Object.keys(f||{}).filter((function(e){return!p[e]})),m={};null===(t=e.progress.lessons)||void 0===t||t.forEach((function(e){m[e.id]=e.name}));var g=a&&i&&(0,_.hasLockableLessons)(e.progress);return{viewAs:e.viewAs,hasSections:d.length>0,sectionsAreLoaded:u,unitHasLockableLessons:g,selectedSection:e.teacherSections.sections[l],unlockedLessonNames:h.map((function(e){return m[e]})),students:e.teacherSections.selectedStudents,levelsWithProgress:e.teacherPanel.levelsWithProgress,isLoadingLevelsWithProgress:e.teacherPanel.isLoadingLevelsWithProgress,teacherId:e.currentUser.userId,exampleSolutions:null===(n=e.pageConstants)||void 0===n?void 0:n.exampleSolutions}}),(function(e){return{loadLevelsWithProgress:function(){return e((0,f.loadLevelsWithProgress)())},selectUser:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,E.updateQueryParam)("user_id",t),(0,E.updateQueryParam)("version"),n?e((0,_.queryUserProgress)(t)):(0,w.reload)()},setStudentsForCurrentSection:function(t,n){e((0,p.setStudentsForCurrentSection)(t,n))},setSections:function(t){e((0,p.setSections)(t))},setSectionLockStatus:function(t){e((0,c.setSectionLockStatus)(t))},selectSection:function(t){return e((0,p.selectSection)(t))},setViewType:function(t){return e((0,d.setViewType)(t))}}}))(I);t.default=j},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedViewAsToggle=void 0;var r=d(n(32)),o=d(n(2)),i=d(n(1)),a=n(27),s=d(n(13)),l=d(n(842)),u=n(420),c=n(388);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return h(f(t=e.call.apply(e,[this].concat(o))||this),"toggleHideAsStudent",(function(e){(0,r.default)(".hide-as-student").toggle(e===u.ViewType.Instructor)})),h(f(t),"onChange",(function(e){var n=t.props,r=n.changeViewType,o=n.logToFirehose;(0,c.updateQueryParam)("viewAs",e),r(e),o&&o("toggle_view",{view_type:e})})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var a=o.prototype;return a.componentDidMount=function(){this.toggleHideAsStudent(this.props.viewAs)},a.componentWillReceiveProps=function(e){e.viewAs!==this.props.viewAs&&this.toggleHideAsStudent(e.viewAs)},a.render=function(){var e=this.props.viewAs;return i.default.createElement("div",{className:"non-scrollable-wrapper",style:g.main},i.default.createElement("div",{style:g.viewAs},s.default.viewPageAs()),i.default.createElement("div",{style:g.toggleGroup},i.default.createElement(l.default,{selected:e,onChange:this.onChange},i.default.createElement("button",{type:"button",className:"uitest-viewAsStudent",value:u.ViewType.Participant},s.default.student()),i.default.createElement("button",{type:"button",className:"uitest-viewAsTeacher",value:u.ViewType.Instructor},s.default.teacher()))))},o}(i.default.Component);h(m,"propTypes",{viewAs:o.default.oneOf(Object.values(u.ViewType)).isRequired,changeViewType:o.default.func.isRequired,logToFirehose:o.default.func});var g={main:{textAlign:"center"},viewAs:{fontSize:16,margin:10},toggleGroup:{margin:10}},y=m;t.UnconnectedViewAsToggle=y;var v=(0,a.connect)((function(e){return{viewAs:e.viewAs}}),(function(e){return{changeViewType:function(t){e((0,u.changeViewType)(t))}}}))(y);t.default=v},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.queryLockStatus=t.getStudentsForSection=void 0;var o=n(388);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,a)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}var l=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.queryParams)("section_id"),n="/api/teacher_panel_section",t&&(n+="?section_id=".concat(t)),e.prev=3,e.next=6,fetch(n,{credentials:"same-origin"});case 6:if(200!==(r=e.sent).status){e.next=9;break}return e.abrupt("return",r.json());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();t.getStudentsForSection=l;var u=function(){var e=s(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/lock_status?script_id=".concat(t),{credentials:"same-origin"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,o=Object.values(r).map((function(e){return{id:e.section_id,name:e.section_name}})),e.abrupt("return",{teacherSections:o,sectionLockStatus:r});case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();t.queryLockStatus=u},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProjectInfo=void 0;var r,o=h(n(2)),i=h(n(1)),a=n(27),s=h(n(1033)),l=h(n(1038)),u=h(n(1039)),c=h(n(1040)),d=n(857),f=h(n(727)),p=h(n(32));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(g(r={},d.possibleHeaders.project,s.default),g(r,d.possibleHeaders.minimalProject,l.default),g(r,d.possibleHeaders.projectBacked,u.default),g(r,d.possibleHeaders.levelBuilderSave,c.default),r),v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var o=r.prototype;return o.getFullWidth=function(){var e=(0,p.default)(this.refs.projectInfo);return e.length>0?e.width():0},o.setDesiredWidth=function(){this.props.setDesiredWidth&&this.props.setDesiredWidth(this.getFullWidth())},o.componentDidMount=function(){this.setDesiredWidth()},o.componentDidUpdate=function(){this.setDesiredWidth()},o.onChangedWidth=function(){this.setDesiredWidth()},o.render=function(){var e=this;if(!this.props.currentHeader)return null;var t=this.getFullWidth(),n=this.props.width<t?this.props.isRtl?f.default.left:f.default.right:null,r=y[this.props.currentHeader];return i.default.createElement("div",{style:b.headerContainer},i.default.createElement("div",{className:"project_info",ref:"projectInfo",style:b.projectInfo},i.default.createElement(r,{onChangedWidth:function(){return e.onChangedWidth()}})),i.default.createElement("div",{className:"vignette",style:n}))},r}(i.default.Component);g(v,"propTypes",{currentHeader:o.default.oneOf(Object.values(d.possibleHeaders)),width:o.default.number,setDesiredWidth:o.default.func,isRtl:o.default.bool});var b={headerContainer:{position:"relative",overflow:"hidden",height:38},projectInfo:{position:"absolute"}},_=v;t.UnconnectedProjectInfo=_;var w=(0,a.connect)((function(e){return{currentHeader:e.header.currentHeader}}))(v);t.default=w},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedRetryProjectSaveDialog=void 0;var o=h(n(20)),i=h(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),s=n(27),l=h(n(13)),u=n(492),c=h(n(143)),d=h(n(394)),f=h(n(74));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(t=e.call.apply(e,[this].concat(r))||this),"handleClick",(function(){t.props.projectUpdatedStatus!==u.projectUpdatedStatuses.saving&&t.props.onTryAgain()})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),r.prototype.render=function(){var e=this.props.projectUpdatedStatus===u.projectUpdatedStatuses.saving;return a.default.createElement(c.default,{isOpen:this.props.isOpen,uncloseable:!0,hideCloseButton:!0,style:b.dialog,useUpdatedStyles:!0},a.default.createElement("h2",{className:"retry-save-title"},l.default.retryProjectSaveDialogHeader()),a.default.createElement("div",{style:{marginBottom:10}},l.default.retryProjectSaveDialogBody()),a.default.createElement(d.default,{rightAlign:!0},a.default.createElement(f.default,{__useDeprecatedTag:!0,text:l.default.retryProjectSaveDialogButton(),onClick:this.handleClick,color:f.default.ButtonColor.orange,className:"no-mc",isPending:e,pendingText:l.default.retryProjectSavePending(),id:"try-again-save-button"})))},r}(a.Component);t.UnconnectedRetryProjectSaveDialog=v,y(v,"propTypes",{projectUpdatedStatus:i.default.oneOf(Object.values(u.projectUpdatedStatuses)),isOpen:i.default.bool,onTryAgain:i.default.func.isRequired});var b={dialog:{color:o.default.default_text,fontSize:15,paddingLeft:20,paddingRight:20,paddingBottom:20}},_=(0,s.connect)((function(e){return{projectUpdatedStatus:e.project.projectUpdatedStatus,isOpen:e.project.showTryAgainDialog}}),(function(e){return{onTryAgain:function(){e((0,u.retryProjectSave)())}}}))(v);t.default=_},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlocksXml=function(e){for(var t,n=(0,r.parseElement)(e),o=0;t=n.childNodes[o];o++)"block"===t.nodeName.toLowerCase()&&c(t);return(0,r.serialize)(n)};var r=n(534);function o(e,t){for(var n,r=0;n=e.childNodes[r];r++)if(n.nodeName.toLowerCase()===t)return n}function i(e,t){for(var n,r=0;n=e.childNodes[r];r++)if("title"===n.nodeName.toLowerCase()&&n.getAttribute("name")===t)return n}var a=["bricks","cobblestone","dirt","grass","gravel","ice","logAcacia","logBirch","logJungle","logOak","logSpruce","planksAcacia","planksBirch","planksJungle","planksOak","planksSpruce","rails","sand","sandstone","snow","stone","wool_blue","wool_magenta","wool_orange","wool_pink","wool_red","wool_yellow"],s=Object.freeze({0:"forward",1:"right",2:"back",3:"left"}),l=Object.freeze({bricks:"brick_block",clayHardened:"hardened_clay",oreCoal:"coal_ore",oreDiamond:"diamond_ore",oreEmerald:"emerald_ore",oreGold:"gold_ore",oreIron:"iron_ore",oreLapis:"lapis_ore",oreRedstone:"redstone_ore",deadBush:"deadbush",netherBrick:"netherbrick",quartzOre:"ore_quartz",topSnow:"snow_layer",dirtCoarse:"dirt",farmlandWet:"dirt",lava:"dirt",water:"dirt",grassPath:"dirt",snowyGrass:"dirt",tnt:"dirt",tree:"dirt",wool:"dirt",logAcacia:"log2,0",logBirch:"log,2",logJungle:"log,3",logOak:"log",logSpruce:"log,1",planksAcacia:"planks,4",planksBirch:"planks,2",planksJungle:"planks,3",planksOak:"planks",planksSpruce:"planks,1"}),u=Object.freeze({craft_moveForward:function(e){var t=o(e,"next");return'\n      <block type="craft_move">\n        <title name="DIR">forward</title>\n        '.concat(t?(0,r.serialize)(t):"","\n      </block>\n    ")},craft_moveBackward:function(e){var t=o(e,"next");return'\n      <block type="craft_move">\n        <title name="DIR">back</title>\n        '.concat(t?(0,r.serialize)(t):"","\n      </block>\n    ")},craft_placeBlock:function(e){var t=o(e,"next"),n=o(e,"title").textContent,i=a.indexOf(n)+1||1;return'\n      <block type="craft_place" inline="false">\n        <title name="DIR">down</title>\n        <value name="SLOTNUM">\n          <block type="math_number">\n            <title name="NUM">'.concat(i,"</title>\n          </block>\n        </value>\n        ").concat(t?(0,r.serialize)(t):"","\n      </block>\n    ")},craft_placeBlockDirection:function(e){var t=o(e,"next"),n=i(e,"TYPE").textContent,l=i(e,"DIR").textContent,u=a.indexOf(n)+1||1;return'\n      <block type="craft_place" inline="false">\n        <title name="DIR">'.concat(s[l],'</title>\n        <value name="SLOTNUM">\n          <block type="math_number">\n            <title name="NUM">').concat(u,"</title>\n          </block>\n        </value>\n        ").concat(t?(0,r.serialize)(t):"","\n      </block>\n    ")},craft_destroyBlock:function(e){var t=o(e,"next");return'\n      <block type="craft_destroy">\n        <title name="DIR">forward</title>\n        '.concat(t?(0,r.serialize)(t):"","\n      </block>\n    ")},craft_ifBlockAhead:function(e){var t=o(e,"statement"),n=o(e,"next"),i=o(e,"title");t&&t.setAttribute("name","DO0");var a=i.textContent;return l[a]&&(a=l[a]),'\n      <block type="controls_if" inline="false">\n        <value name="IF0">\n          <block type="logic_compare" inline="true">\n            <title name="OP">EQ</title>\n            <value name="A">\n              <block type="craft_inspect">\n                <title name="DIR">forward</title>\n              </block>\n            </value>\n            <value name="B">\n              <block type="craft_getnameof" inline="false">\n                <value name="ITEM">\n                  <block type="craft_block">\n                    <title name="BLOCK">'.concat(a,"</title>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n        ").concat(t?(0,r.serialize)(t):"","\n        ").concat(n?(0,r.serialize)(n):"","\n      </block>\n    ")}});function c(e){for(var t,n=e.getAttribute("type"),r=0;t=e.childNodes[r];r++)"next"!==t.nodeName.toLowerCase()&&"statement"!==t.nodeName.toLowerCase()||!t.childNodes.length||c(t.childNodes[0]);if(u[n]){var o=u[n](e),i=(new DOMParser).parseFromString(o,"text/xml").firstChild;e.parentNode.replaceChild(i,e)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareProject=function(e){dashboard.project.saveIfSourcesChanged().then((function(){var t=document.getElementById("project-share-dialog");t||((t=document.createElement("div")).setAttribute("id","project-share-dialog"),document.body.appendChild(t));var n,d=dashboard.project.getStandaloneApp(),f=dashboard.project.getSelectedSong(),p=(0,l.getStore)().getState().pageConstants;if("dance"===d){var h="true"===sessionStorage.getItem("ad_anon_over13");n=p.is13Plus||!p.isSignedIn&&h}else n=p.is13Plus||!p.isSignedIn;var m=!!appOptions.isSignedIn&&c.AllPublishableProjectTypes.includes(d);o.default.render(r.default.createElement(s.Provider,{store:(0,l.getStore)()},r.default.createElement(a.default,{isProjectLevel:!!dashboard.project.isProjectLevel(),allowSignedOutShare:"dance"===d,shareUrl:e,selectedSong:f,thumbnailUrl:dashboard.project.getThumbnailUrl(),isAbusive:dashboard.project.exceedsAbuseThreshold(),canPrint:"artist"===d,canPublish:m,isPublished:dashboard.project.isPublished(),channelId:dashboard.project.getCurrentId(),appType:d,onClickPopup:i.default,canShareSocial:n,userSharingDisabled:appOptions.userSharingDisabled})),t),(0,l.getStore)().dispatch((0,u.showShareDialog)())}))};var r=d(n(1)),o=d(n(36)),i=d(n(1005)),a=d(n(1392)),s=n(27),l=n(136),u=n(626),c=n(385);function d(e){return e&&e.__esModule?e:{default:e}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedShareDialog=void 0;var o=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=n(491),l=f(n(1393)),u=f(n(1398)),c=["signInState","isProjectLevel","allowSignedOutShare"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m,g,y,v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e=this.props,t=e.signInState,n=e.isProjectLevel,r=e.allowSignedOutShare,o=p(e,c);return t===s.SignInState.SignedIn||n||r?i.default.createElement(l.default,o):i.default.createElement(u.default,null)},r}(i.Component);m=v,g="propTypes",y={signInState:o.default.oneOf(Object.values(s.SignInState)),isProjectLevel:o.default.bool.isRequired,allowSignedOutShare:o.default.bool,selectedSong:o.default.string},g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y;var b=v;t.UnconnectedShareDialog=b;var _=(0,a.connect)((function(e){return{signInState:e.currentUser.signInState}}))(v);t.default=_},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedShareAllowedDialog=void 0;var o=P(n(2)),i=P(n(1)),a=n(27),s=P(n(143)),l=P(n(803)),u=P(n(1035)),c=P(n(817)),d=P(n(848)),f=P(n(20)),p=A(n(751)),h=A(n(632)),m=n(1360),g=n(626),y=P(n(1214)),v=n(754),b=P(n(1016)),_=n(33),w=P(n(13)),E=P(n(131)),O=P(n(1394)),S=P(n(867)),T=P(n(750)),C=P(n(59));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function P(e){return e&&e.__esModule?e:{default:e}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){window.dashboard&&E.default.putRecord({study:"finish-dialog-share",study_group:"v1",event:"project-share",project_id:dashboard.project&&dashboard.project.getCurrentId(),data_string:e},{includeUserId:!0})}function L(e,t){return function(){try{N(t)}finally{e.apply(this,arguments)}}}function M(e,t){var n=new Image;n.onabort=function(){return t(!1)},n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e+(e.indexOf("?")<0?"?":"&")+"__cacheBust="+Math.random()}var B=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j(R(t=e.call.apply(e,[this].concat(r))||this),"state",{showSendToPhone:!1,showAdvancedOptions:!1,exporting:!1,exportError:null,isTwitterAvailable:!1,isFacebookAvailable:!1,replayVideoUnavailable:!1,hasBeenCopied:!1}),j(R(t),"replayVideoNotFound",(function(){t.setState({replayVideoUnavailable:!0})})),j(R(t),"sharingDisabled",(function(){return t.props.userSharingDisabled&&["applab","gamelab","weblab"].includes(t.props.appType)})),j(R(t),"close",(function(){N("close"),t.props.onClose(),t.setState({replayVideoUnavailable:!1})})),j(R(t),"showSendToPhone",(function(e){t.setState({showSendToPhone:!0,showAdvancedOptions:!1}),e.preventDefault()})),j(R(t),"print",(function(e){e.preventDefault(),(0,_.createHiddenPrintWindow)(t.props.thumbnailUrl)})),j(R(t),"showAdvancedOptions",(function(){t.setState({showSendToPhone:!1,showAdvancedOptions:!0})})),j(R(t),"publish",(function(){t.props.onShowPublishDialog(t.props.channelId,t.props.appType)})),j(R(t),"unpublish",(function(){t.props.onUnpublish(t.props.channelId)})),j(R(t),"copy",(function(){(0,T.default)(t.props.shareUrl,(function(){return t.setState({hasBeenCopied:!0})}))})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n);var o=r.prototype;return o.componentDidMount=function(){var e=this;this.props.canShareSocial&&(M("https://facebook.com/favicon.ico",(function(t){return e.setState({isFacebookAvailable:t})})),M("https://twitter.com/favicon.ico",(function(t){return e.setState({isTwitterAvailable:t})})))},o.componentDidUpdate=function(e,t,n){this.props.isOpen&&!e.isOpen&&(N("open"),this.setState({hasBeenCopied:!1}))},o.render=function(){var e,t="modal-content";this.props.icon?e=i.default.createElement("img",{className:"modal-image",src:this.props.icon}):t+=" no-modal-icon";var n,r="applab"===this.props.appType||"gamelab"===this.props.appType,o=m.SongTitlesToArtistTwitterHandle[this.props.selectedSong],a=!!this.props.thumbnailUrl,f=a?this.props.thumbnailUrl:"/blockly/media/projects/project_default.png",g="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(this.props.shareUrl),v=o?"Check out the dance I made featuring @".concat(o," on @codeorg!"):"Check out what I made on @codeorg!",_="Coldplay"===o?["codeplay","HourOfCode"]:["HourOfCode"],E="https://twitter.com/intent/tweet?text="+encodeURIComponent(v)+"&url="+encodeURIComponent(this.props.shareUrl)+"&hashtags=".concat(_.join("%2C"))+"&related=codeorg",T=!this.props.canShareSocial&&r;"applab"===this.props.appType?n={iframeHeight:p.APP_HEIGHT+140,iframeWidth:p.APP_WIDTH+32+40}:"gamelab"===this.props.appType&&(n={iframeHeight:h.APP_HEIGHT+357,iframeWidth:h.APP_WIDTH+40});var k=this.props,A=k.canPrint,P=k.canPublish,x=k.isPublished;return i.default.createElement("div",null,i.default.createElement(s.default,{style:F.modal,isOpen:this.props.isOpen,handleClose:this.close,hideBackdrop:this.props.hideBackdrop},this.sharingDisabled()&&i.default.createElement("div",{style:{position:"relative"}},i.default.createElement("div",{style:{paddingRight:10}},i.default.createElement("p",null,w.default.sharingBlockedByTeacher())),i.default.createElement("div",{style:{clear:"both",height:40}},i.default.createElement("button",{type:"button",id:"continue-button",style:{position:"absolute",right:0,bottom:0,margin:0},onClick:this.close},w.default.dialogOK()))),!this.sharingDisabled()&&i.default.createElement("div",null,e,i.default.createElement("div",{id:"project-share",className:t,style:{position:"relative"}},i.default.createElement("p",{className:"dialog-title"},w.default.shareTitle()),this.props.isAbusive&&i.default.createElement(c.default,{i18n:{tos:w.default.tosLong({url:"http://code.org/tos"}),contact_us:w.default.contactUs({url:"https://support.code.org/hc/en-us/requests/new?&description=".concat(encodeURIComponent("Abuse error for project at url: ".concat(this.props.shareUrl)))})},className:"alert-error",style:F.abuseStyle,textStyle:F.abuseTextStyle}),T&&i.default.createElement("p",{style:F.shareWarning},w.default.shareU13Warning()),i.default.createElement("div",{style:{clear:"both"}},i.default.createElement("div",{style:F.thumbnail},i.default.createElement("img",{style:F.thumbnailImg,src:f})),i.default.createElement("div",null,i.default.createElement("button",{type:"button",id:"sharing-dialog-copy-button",style:I(I(I({},F.button),F.copyButton),this.state.hasBeenCopied&&F.copyButtonLight),onClick:L(this.copy,"copy"),value:this.props.shareUrl},i.default.createElement(C.default,{icon:"clipboard",style:{fontSize:16}}),i.default.createElement("span",{style:{paddingLeft:10}},w.default.copyLinkToProject())),i.default.createElement(y.default,{style:I(I({},F.button),{},{marginBottom:8}),onError:this.replayVideoNotFound}))),i.default.createElement("div",{className:"social-buttons"},i.default.createElement("a",{id:"sharing-phone",href:"",onClick:L(this.showSendToPhone,"send-to-phone")},i.default.createElement(C.default,{icon:"mobile-phone",style:{fontSize:36}}),i.default.createElement("span",null,w.default.sendToPhone())),P&&!x&&i.default.createElement("button",{type:"button",id:"share-dialog-publish-button",style:a?F.button:F.buttonDisabled,onClick:L(this.publish,"publish"),disabled:!a,className:"no-mc"},w.default.publish()),P&&x&&i.default.createElement(l.default,{id:"share-dialog-unpublish-button",isPending:this.props.isUnpublishPending,onClick:this.unpublish,pendingText:w.default.unpublishPending(),style:F.button,text:w.default.unpublish(),className:"no-mc"}),A&&a&&i.default.createElement("a",{href:"#",onClick:L(this.print,"print")},i.default.createElement(C.default,{icon:"print",style:{fontSize:26}}),i.default.createElement("span",null,w.default.print())),this.props.canShareSocial&&!this.props.isUnpublishPending&&i.default.createElement("span",null,this.state.isFacebookAvailable&&i.default.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer",onClick:L(this.props.onClickPopup.bind(this),"facebook")},i.default.createElement(C.default,{icon:"facebook"})),this.state.isTwitterAvailable&&i.default.createElement("a",{href:E,target:"_blank",rel:"noopener noreferrer",onClick:L(this.props.onClickPopup.bind(this),"twitter")},i.default.createElement(C.default,{icon:"twitter"})))),this.state.showSendToPhone&&i.default.createElement("div",null,i.default.createElement("div",{style:F.sendToPhoneContainer},i.default.createElement("div",{style:F.sendToPhoneLeft},i.default.createElement(d.default,{channelId:this.props.channelId,appType:this.props.appType,isLegacyShare:!1})),i.default.createElement("div",{style:F.sendToPhoneRight},i.default.createElement("label",null,w.default.scanQRCode()),i.default.createElement(S.default,{value:this.props.shareUrl+"?qr=true",size:90}))),i.default.createElement("div",{style:{clear:"both"}})),P&&!x&&!a&&i.default.createElement("div",{style:{clear:"both",marginTop:10}},i.default.createElement("span",{style:{fontSize:12},className:"thumbnail-warning"},w.default.thumbnailWarning())),this.state.replayVideoUnavailable&&i.default.createElement("div",{style:{clear:"both",marginTop:10}},i.default.createElement("span",{style:{fontSize:12},className:"thumbnail-warning"},w.default.downloadReplayVideoButtonError())),i.default.createElement("div",{style:{clear:"both",marginTop:40}},r&&i.default.createElement(u.default,{shareUrl:this.props.shareUrl,exportApp:this.props.exportApp,expanded:this.state.showAdvancedOptions,onExpand:this.showAdvancedOptions,channelId:this.props.channelId,embedOptions:n}))))),i.default.createElement(b.default,null),i.default.createElement(O.default,{channelId:this.props.channelId}))},r}(i.default.Component);j(B,"propTypes",{exportApp:o.default.func,icon:o.default.string,shareUrl:o.default.string.isRequired,selectedSong:o.default.string,thumbnailUrl:o.default.string,isAbusive:o.default.bool.isRequired,isOpen:o.default.bool.isRequired,canPrint:o.default.bool,canPublish:o.default.bool.isRequired,isPublished:o.default.bool.isRequired,isUnpublishPending:o.default.bool.isRequired,channelId:o.default.string.isRequired,appType:o.default.string.isRequired,onClickPopup:o.default.func.isRequired,onClose:o.default.func.isRequired,onShowPublishDialog:o.default.func.isRequired,onUnpublish:o.default.func.isRequired,hideBackdrop:s.default.propTypes.hideBackdrop,canShareSocial:o.default.bool.isRequired,userSharingDisabled:o.default.bool});var F={modal:{width:720,marginLeft:-360},abuseStyle:{border:"1px solid",borderRadius:10,padding:10,marginBottom:20},abuseTextStyle:{color:"#b94a48",fontSize:14},shareWarning:{color:f.default.red,fontSize:13,fontWeight:"bold"},button:{backgroundColor:f.default.purple,borderWidth:0,color:f.default.white,fontSize:"larger",paddingTop:12.5,paddingBottom:12.5,paddingLeft:10,paddingRight:10,marginTop:0,marginBottom:0,marginLeft:0,marginRight:8,verticalAlign:"top"},buttonDisabled:{backgroundColor:f.default.gray,borderWidth:0,color:f.default.white,fontSize:"larger",paddingTop:12.5,paddingBottom:12.5,paddingLeft:10,paddingRight:10,marginTop:0,marginBottom:0,marginLeft:0,marginRight:8,verticalAlign:"top"},copyButton:{paddingTop:12.5,paddingBottom:12.5,marginBottom:5},copyButtonLight:{backgroundColor:f.default.light_purple},thumbnail:{float:"left",marginRight:10,width:125,height:125,overflow:"hidden",borderRadius:2,border:"1px solid rgb(187,187,187)",backgroundColor:f.default.white,position:"relative"},thumbnailImg:{position:"absolute",left:"50%",top:"50%",width:"100%",height:"auto",transform:"translate(-50%,-50%)",msTransform:"translate(-50%,-50%)",WebkitTransform:"translate(-50%,-50%)"},sendToPhoneContainer:{width:"100%",marginTop:15},sendToPhoneLeft:{float:"left",width:"70%",paddingRight:20,boxSizing:"border-box"},sendToPhoneRight:{float:"right",width:"30%"}},U=B;t.UnconnectedShareAllowedDialog=U;var H=(0,a.connect)((function(e){return{exportApp:e.pageConstants.exportApp,isOpen:e.shareDialog.isOpen,isUnpublishPending:e.shareDialog.isUnpublishPending}}),(function(e){return{onClose:function(){return e((0,g.hideShareDialog)())},onShowPublishDialog:function(t,n){e((0,g.hideShareDialog)()),e((0,v.showPublishDialog)(t,n))},onUnpublish:function(t){e((0,g.unpublishProject)(t))}}}))(B);t.default=H},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnpublishSuccessDisplay=t.UnconnectedLibraryCreationDialog=t.LoadingDisplay=t.ErrorDisplay=t.DialogState=void 0;var o=T(n(1)),i=T(n(2)),a=T(n(53)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(635)),l=n(27),u=n(626),c=T(n(13)),d=T(n(1e3)),f=n(763),p=T(n(427)),h=T(n(1036)),m=T(n(1395)),g=T(n(1397)),y=T(n(1037)),v=T(n(807)),b=n(136),_=n(33),w=T(n(74)),E=T(n(750)),O=T(n(806));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function C(){C=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(i,a,s,l){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,l(v,"constructor",h),l(h,"constructor",p),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function k(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,s,"next",e)}function s(e){k(i,r,o,a,s,"throw",e)}a(void 0)}))}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=c.default.copyId(),j={LOADING:"loading",DONE_LOADING:"done_loading",PUBLISHED:"published",UNPUBLISHED:"unpublished",SHARE_TEACHER_LIBRARIES:"share_teacher_libraries",CODE_PROFANITY:"code_profanity",ERROR:"error"};t.DialogState=j;var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return R(P(t=e.call.apply(e,[this].concat(r))||this),"state",{dialogState:j.LOADING,libraryName:"",libraryDetails:{},libraryClientApi:new v.default(t.props.channelId),errorMessage:"",copyButtonText:D}),R(P(t),"onOpen",(function(){(0,y.default)(t.state.libraryClientApi,(function(e){return t.setState({dialogState:j.ERROR,errorMessage:e})}),t.onLibraryLoaded)})),R(P(t),"onLibraryLoaded",function(){var e=A(C().mark((function e(n){var r,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={dialogState:j.DONE_LOADING,libraryDetails:n},e.prev=1,e.next=4,(0,_.findProfanity)(n.librarySource);case 4:(o=e.sent)&&o.length>0?t.setState({dialogState:j.CODE_PROFANITY,errorMessage:c.default.libraryCodeProfanity({profanityCount:o.length,profaneWords:o.join(", ")})}):t.setState(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.setState(r);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),R(P(t),"handleClose",(function(){t.setState({dialogState:j.LOADING}),t.props.onClose()})),R(P(t),"displayPublisherSubtitle",(function(){var e=t.state.libraryDetails,n=t.props.channelId,r=a.default.debounce((function(){(0,E.default)(n),t.setState({copyButtonText:c.default.copied()}),window.setInterval((function(){return t.setState({copyButtonText:D})}),3e3)}),3e3,{leading:!0});return o.default.createElement("div",{style:F.info},e&&e.alreadyPublished&&o.default.createElement("div",{style:F.idInfo},o.default.createElement(O.default,{markdown:c.default.libraryExportId({channelId:n})}),o.default.createElement(w.default,{text:t.state.copyButtonText,color:w.default.ButtonColor.blue,style:F.copyBtn,onClick:r})),c.default.libraryExportSubtitle())})),R(P(t),"displayPublisherContent",(function(){var e=t.state,n=e.libraryDetails,r=e.libraryClientApi;return o.default.createElement(g.default,{onPublishSuccess:function(e){return t.setState({dialogState:j.PUBLISHED,libraryName:e})},onUnpublishSuccess:function(){return t.setState({dialogState:j.UNPUBLISHED})},onShareTeacherLibrary:t.onShareTeacherLibrary(),libraryDetails:n,libraryClientApi:r})})),R(P(t),"onShareTeacherLibrary",(function(){return t.isTeacher()?function(){return t.setState({dialogState:j.SHARE_TEACHER_LIBRARIES})}:void 0})),t}x(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!1===e.dialogIsOpen&&!0===this.props.dialogIsOpen&&this.onOpen()},n.isTeacher=function(){return"teacher"===(0,b.getStore)().getState().currentUser.userType},n.render=function(){var e,t,n=this.state,r=n.dialogState,i=n.libraryName,a=n.errorMessage,l=this.props,u=l.dialogIsOpen,p=l.channelId,g=l.onClose;switch(r){case j.LOADING:t=o.default.createElement(M,null);break;case j.PUBLISHED:t=o.default.createElement(h.default,{libraryName:i,channelId:p});break;case j.UNPUBLISHED:t=o.default.createElement(B,null);break;case j.ERROR:t=o.default.createElement(L,{message:a});break;case j.DONE_LOADING:e=this.displayPublisherSubtitle(),t=this.displayPublisherContent();break;case j.SHARE_TEACHER_LIBRARIES:t=o.default.createElement(m.default,{onCancel:g});break;case j.CODE_PROFANITY:t=o.default.createElement(L,{message:a});break;default:t=o.default.createElement(L,{message:c.default.libraryCreatorError()})}var y=r===j.SHARE_TEACHER_LIBRARIES?c.default.manageYourLibraries():c.default.libraryExportTitle();return o.default.createElement(s.default,{isOpen:u,handleClose:this.handleClose,useUpdatedStyles:!0,style:{width:800}},o.default.createElement(s.Body,null,o.default.createElement(d.default,null,o.default.createElement("div",{style:F.libraryBoundary},o.default.createElement(f.Heading1,null,y),e,t))))},t}(o.default.Component);R(N,"propTypes",{channelId:i.default.string.isRequired,dialogIsOpen:i.default.bool.isRequired,onClose:i.default.func.isRequired});var L=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props.message;return o.default.createElement("div",null,e)},t}(o.default.Component);t.ErrorDisplay=L,R(L,"propTypes",{message:i.default.string.isRequired});var M=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return o.default.createElement("div",{style:F.centerContent},o.default.createElement(p.default,null))},t}(o.default.Component);t.LoadingDisplay=M;var B=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement(f.Heading2,null,o.default.createElement("b",null,c.default.libraryUnPublishTitle())),o.default.createElement("p",null,c.default.libraryUnPublishExplanation()))},t}(o.default.Component);t.UnpublishSuccessDisplay=B;var F={libraryBoundary:{padding:10,width:"90%"},centerContent:{display:"flex",justifyContent:"center"},info:{fontSize:12,fontStyle:"italic",lineHeight:1.2},idInfo:{marginBottom:10},copyBtn:{margin:"0 15px",":hover":{cursor:"copy"}}},U=N;t.UnconnectedLibraryCreationDialog=U;var H=(0,l.connect)((function(e){return{dialogIsOpen:e.shareDialog.libraryDialogIsOpen}}),(function(e){return{onClose:function(){e((0,u.hideLibraryCreationDialog)())}}}))(N);t.default=H},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShareTeacherLibraries=void 0;var r=h(n(1)),o=h(n(2)),i=n(27),a=h(n(1011)),s=h(n(849)),l=h(n(427)),u=h(n(74)),c=h(n(20)),d=h(n(13)),f=n(468),p=n(898);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return w(b(t=e.call.apply(e,[this].concat(o))||this),"state",{selectedSections:[],selectedLibraryId:null,sharedSections:[]}),w(b(t),"assignLibrary",(function(){var e=t.state,n=e.selectedSections,r=e.selectedLibraryId;(0,t.props.updateProjectLibrary)(r,{sharedWith:n.map((function(e){return e.id}))}),t.setState({sharedSections:y(n)})})),w(b(t),"onChooseOption",(function(e){var n=t.props,r=n.personalProjectsList,o=n.sections,i=e.target.value,a=r.find((function(e){return e.channel===i})),s=a&&a.sharedWith?o.filter((function(e){return a.sharedWith.includes(e.id)})):[];t.setState({selectedLibraryId:i,sharedSections:s,selectedSections:y(s)})})),w(b(t),"displaySharedSections",(function(){var e=t.state.sharedSections;return 0===e.length?r.default.createElement("p",null,d.default.libraryNotShared()):r.default.createElement("div",null,r.default.createElement("p",null,d.default.librarySharedSections()),r.default.createElement("ul",null,e.map((function(e){return r.default.createElement("li",{key:e.id},e.name)}))))})),w(b(t),"onSelectAll",(function(e){var n=t.props.sections;e?t.setState({selectedSections:n}):t.setState({selectedSections:[]})})),w(b(t),"onSectionSelected",(function(e){var n=t.props.sections;t.setState((function(t){return t.selectedSections.find((function(t){return t.id===e}))?t.selectedSections=t.selectedSections.filter((function(t){return t.id!==e})):t.selectedSections.push(n.find((function(t){return t.id===e}))),t}))})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,_(t,n);var i=o.prototype;return i.componentDidMount=function(){var e=this.props,t=e.setPersonalProjects,n=e.asyncLoadSectionData;t(),n()},i.render=function(){var e=this,t=this.props,n=t.sections,o=t.personalProjectsList,i=t.onCancel,c=t.loadingFinished,f=this.state,p=f.selectedSections,h=f.selectedLibraryId,m=o.filter((function(e){return e.libraryName})).map((function(e){return{name:e.name,id:e.channel}})),y=n.map((function(e){return g(g({},e),{},{isChecked:!!p.find((function(t){return t.id===e.id}))})}));return r.default.createElement("div",{style:O.container},c?r.default.createElement("div",null,r.default.createElement("p",null,d.default.shareTeacherLibraryDescription()),r.default.createElement(a.default,{rowData:y,onRowChecked:function(t){return e.onSectionSelected(t)},options:m,onChooseOption:this.onChooseOption,onSelectAll:function(t){return e.onSelectAll(t)},optionsDescriptionText:d.default.libraryName()+":",tableDescriptionText:d.default.selectAssignedLibrarySections()},h?r.default.createElement("div",null,r.default.createElement(s.default,{channelId:h}),r.default.createElement("p",{style:O.libraryCopierLabel},d.default.shareLibraryAccess()),r.default.createElement("div",null,this.displaySharedSections())):r.default.createElement("p",null,d.default.selectLibraryForOptions())),r.default.createElement("div",{style:O.footer},r.default.createElement(u.default,{__useDeprecatedTag:!0,onClick:i,color:u.default.ButtonColor.gray,text:d.default.closeDialog()}),r.default.createElement(u.default,{__useDeprecatedTag:!0,disabled:!h,onClick:this.assignLibrary,text:d.default.shareLibraryButton()}))):r.default.createElement(l.default,null))},o}(r.default.Component);t.ShareTeacherLibraries=E,w(E,"propTypes",{onCancel:o.default.func.isRequired,sections:o.default.arrayOf(o.default.shape({name:o.default.string.isRequired,id:o.default.number.isRequired})).isRequired,personalProjectsList:o.default.array.isRequired,asyncLoadSectionData:o.default.func.isRequired,setPersonalProjects:o.default.func.isRequired,updateProjectLibrary:o.default.func.isRequired,loadingFinished:o.default.bool.isRequired});var O={container:{fontSize:13,lineHeight:"18px",color:c.default.dark_charcoal},footer:{display:"flex",flexFlow:"row",justifyContent:"space-between",margin:2,paddingTop:10},libraryCopierLabel:{color:c.default.purple,marginBottom:10,fontStyle:"italic"}},S=(0,i.connect)((function(e){return{personalProjectsList:e.projects.personalProjectsList.projects||[],sections:(0,f.sectionsNameAndId)(e.teacherSections),loadingFinished:e.teacherSections.asyncLoadComplete}}),{asyncLoadSectionData:f.asyncLoadSectionData,setPersonalProjects:p.setPersonalProjects,updateProjectLibrary:p.updateProjectLibrary})(E);t.default=S},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PublishState=void 0;var o=p(n(1)),i=p(n(2)),a=p(n(53)),s=p(n(809)),l=p(n(13)),u=p(n(20)),c=n(763),d=p(n(74)),f=n(33);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(m=v);var b=h.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,l(b,"constructor",h),l(h,"constructor",p),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),l(b,s,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,s,"next",e)}function s(e){y(i,r,o,a,s,"throw",e)}a(void 0)}))}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={DEFAULT:"default",ERROR_PUBLISH:"error_publish",INVALID_INPUT:"invalid_input",PROFANE_INPUT:"profane_input",TOO_LONG:"too_long",ERROR_UNPUBLISH:"error_unpublish"};t.PublishState=E;var O=function(e){var t,n;function r(t){var n;w(b(n=e.call(this,t)||this),"setLibraryName",(function(e){var t=n.state.libraryName,r=s.default.sanitizeName(e.target.value);r!==t&&n.setState({libraryName:r})})),w(b(n),"getFunctionsToPublish",(function(){var e=n.state.selectedFunctions;return(n.props.libraryDetails.sourceFunctionList||[]).filter((function(t){return e[t.functionName]}))})),w(b(n),"validateAndPublish",v(g().mark((function e(){var t,r,o,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,r=t.libraryDescription,o=t.libraryName,r&&n.getFunctionsToPublish().length>0){e.next=4;break}return n.setState({publishState:E.INVALID_INPUT}),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,f.findProfanity)("".concat(o," ").concat(r));case 7:(i=e.sent)&&i.length>0?n.setState({publishState:E.PROFANE_INPUT,profaneWords:i}):n.publish(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.publish();case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))),w(b(n),"publish",(function(){var e=n.state,t=e.libraryDescription,r=e.libraryName,o=n.props.libraryDetails.librarySource,i=n.props,a=i.libraryClientApi,l=i.onPublishSuccess,u=s.default.createLibraryJson(o,n.getFunctionsToPublish(),r,t);a.publish(u,(function(e){console.warn("Error publishing library: ".concat(e)),e.message.includes("httpStatusCode: 413")?n.setState({publishState:E.TOO_LONG}):n.setState({publishState:E.ERROR_PUBLISH})}),(function(e){dashboard.project.setLibraryDetails({libraryName:r,libraryDescription:t,publishing:!0,latestLibraryVersion:e&&e.versionId}),l(r)}))})),w(b(n),"displayNameInput",(function(){var e=n.state.libraryName;return o.default.createElement("div",null,o.default.createElement("input",{style:S.textInput,type:"text",value:e,onChange:n.setLibraryName,onBlur:function(e){return n.setState({libraryName:s.default.suggestName(e.target.value)})}}),o.default.createElement("div",{style:S.info},l.default.libraryNameRequirements()))})),w(b(n),"resetErrorMessage",(function(){var e=n.state,t=e.libraryDescription,r=e.selectedFunctions,o=e.publishState;t&&Object.values(r).find((function(e){return e}))&&o===E.INVALID_INPUT&&n.setState({publishState:E.DEFAULT})})),w(b(n),"displayDescription",(function(){var e=n.state.libraryDescription;return o.default.createElement("textarea",{id:"ui-test-library-description",rows:"2",cols:"200",style:m(m({},S.textInput),S.description),placeholder:l.default.libraryDescriptionPlaceholder(),value:e,onChange:function(e){n.setState({libraryDescription:e.target.value},n.resetErrorMessage)}})})),w(b(n),"hasComment",(function(e){return(e.comment||"").length>0})),w(b(n),"duplicateFunction",(function(e){var t=n.props.libraryDetails.sourceFunctionList,r=e.functionName;return t.filter((function(e){return e.functionName===r})).length>1})),w(b(n),"isFunctionValid",(function(e){return n.hasComment(e)&&!n.duplicateFunction(e)})),w(b(n),"boxChecked",(function(e){if(n.isFunctionValid(e)){var t=e.functionName;n.setState((function(e){return e.selectedFunctions[t]=!e.selectedFunctions[t],e}),n.resetErrorMessage)}})),w(b(n),"displayFunctions",(function(){var e=n.state.selectedFunctions;return n.props.libraryDetails.sourceFunctionList.map((function(t){var r=t.functionName,i=t.comment,s=e[r]||!1,u=a.default.uniqueId("".concat(r,"-"));return o.default.createElement("div",{key:r},o.default.createElement("div",{style:S.functionSelector},o.default.createElement("input",{style:S.largerCheckbox,type:"checkbox",id:u,disabled:!n.isFunctionValid(t),name:r,checked:s,onChange:function(){return n.boxChecked(t)}}),o.default.createElement("label",{htmlFor:u,style:S.functionLabel},r)),!n.hasComment(t)&&o.default.createElement("p",{style:S.alert},l.default.libraryExportNoCommentError()),n.duplicateFunction(t)&&o.default.createElement("p",{style:S.alert},l.default.libraryExportDuplicationFunctionError()),o.default.createElement("pre",{style:S.textInput},i))}))})),w(b(n),"displayError",(function(){var e,t=n.state,r=t.publishState,i=t.profaneWords;switch(r){case E.INVALID_INPUT:e=l.default.libraryPublishInvalid();break;case E.PROFANE_INPUT:e=l.default.libraryDetailsProfanity({profanityCount:i.length,profaneWords:i.join(", ")});break;case E.ERROR_PUBLISH:e=l.default.libraryPublishFail();break;case E.TOO_LONG:e=l.default.libraryTooLongFail();break;case E.ERROR_UNPUBLISH:e=l.default.libraryUnPublishFail();break;default:return}return o.default.createElement("div",null,o.default.createElement("p",{style:S.alert},e))})),w(b(n),"unpublish",(function(){var e=n.props,t=e.libraryClientApi,r=e.onUnpublishSuccess;t.delete((function(){dashboard.project.setLibraryDetails({libraryName:void 0,libraryDescription:void 0,publishing:!1,latestLibraryVersion:-1}),r()}),(function(e){console.warn("Error unpublishing library: ".concat(e)),n.setState({publishState:E.ERROR_UNPUBLISH})}))})),w(b(n),"allFunctionsSelected",(function(){var e=n.props.libraryDetails.sourceFunctionList,t=n.state.selectedFunctions,r=!0;return e.forEach((function(e){!t[e.functionName]&&n.isFunctionValid(e)&&(r=!1)})),r})),w(b(n),"toggleAllFunctionsSelected",(function(){if(n.allFunctionsSelected())n.setState({selectedFunctions:{}});else{var e=n.props.libraryDetails.sourceFunctionList,t={};e.forEach((function(e){n.isFunctionValid(e)&&(t[e.functionName]=!0)})),n.setState({selectedFunctions:t})}}));var r=t.libraryDetails.selectedFunctions,i={};return t.libraryDetails.sourceFunctionList.forEach((function(e){r[e.functionName]&&n.isFunctionValid(e)&&(i[e.functionName]=!0)})),n.state={publishState:E.DEFAULT,libraryName:s.default.suggestName(t.libraryDetails.libraryName),libraryDescription:t.libraryDetails.libraryDescription,selectedFunctions:i,profaneWords:null},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,_(t,n),r.prototype.render=function(){var e=this.props.libraryDetails.alreadyPublished,t=this.props.onShareTeacherLibrary,n=a.default.uniqueId("func-select-all-");return o.default.createElement("div",null,o.default.createElement(c.Heading2,null,l.default.libraryName()),this.displayNameInput(),o.default.createElement(c.Heading2,null,l.default.description()),this.displayDescription(),o.default.createElement(c.Heading2,null,l.default.catProcedures()),o.default.createElement("div",{style:S.functionSelector},o.default.createElement("input",{style:S.largerCheckbox,type:"checkbox",id:n,checked:this.allFunctionsSelected(),onChange:this.toggleAllFunctionsSelected}),o.default.createElement("label",{htmlFor:n,style:S.selectAllFunctionsLabel},l.default.selectAllFunctions())),this.displayFunctions(),o.default.createElement("div",{style:S.info},l.default.libraryFunctionRequirements()),o.default.createElement("div",{style:{position:"relative"}},o.default.createElement(d.default,{__useDeprecatedTag:!0,id:"ui-test-publish-library",style:{marginTop:20},onClick:this.validateAndPublish,text:e?l.default.update():l.default.publish()}),t&&o.default.createElement(d.default,{__useDeprecatedTag:!0,id:"ui-test-manage-libraries",style:{marginTop:20,marginLeft:10},onClick:t,text:l.default.manageLibraries(),color:d.default.ButtonColor.gray}),e&&o.default.createElement(d.default,{__useDeprecatedTag:!0,id:"ui-test-unpublish-library",style:S.unpublishButton,onClick:this.unpublish,text:l.default.unpublish(),color:d.default.ButtonColor.red})),this.displayError())},r}(o.default.Component);t.default=O,w(O,"propTypes",{onPublishSuccess:i.default.func.isRequired,onUnpublishSuccess:i.default.func.isRequired,libraryDetails:i.default.object.isRequired,libraryClientApi:i.default.object.isRequired,onShareTeacherLibrary:i.default.func});var S={alert:{color:u.default.red,width:"90%",paddingTop:8,fontStyle:"italic"},functionSelector:{display:"flex",alignItems:"center",margin:"10px 10px 10px 0"},largerCheckbox:{width:20,height:20},selectAllFunctionsLabel:{margin:0,fontSize:20,fontFamily:'"Gotham 5r", sans-serif'},functionLabel:{margin:0,fontSize:20},info:{fontSize:12,fontStyle:"italic",lineHeight:1.2},textInput:{fontSize:14,padding:6,color:u.default.dimgray},description:{width:"98%",resize:"vertical"},unpublishButton:{right:0,marginTop:20,position:"absolute"}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedShareDisallowedDialog=void 0;var o=p(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=p(n(143)),l=p(n(20)),u=p(n(74)),c=p(n(13)),d=n(626);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m,g,y,v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){return i.default.createElement(s.default,{useUpdatedStyles:!0,isOpen:this.props.isOpen,handleClose:this.props.hideShareDialog},i.default.createElement("div",{style:b.container},i.default.createElement("div",{style:b.heading},c.default.createAccountToShare()),i.default.createElement("div",{style:b.middle},c.default.createAccountToShareDescription()),i.default.createElement("div",{style:b.bottom},i.default.createElement(u.default,{__useDeprecatedTag:!0,onClick:this.props.hideShareDialog,text:c.default.cancel(),color:u.default.ButtonColor.gray}),i.default.createElement(u.default,{__useDeprecatedTag:!0,href:"/users/sign_up?user_return_to=".concat(location.pathname),text:c.default.createAccount(),color:u.default.ButtonColor.orange}))))},r}(i.Component);m=v,g="propTypes",y={isOpen:o.default.bool.isRequired,hideShareDialog:o.default.func.isRequired},g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y;var b={container:{margin:20,color:l.default.charcoal},heading:{fontSize:16,fontFamily:"'Gotham 5r', sans-serif"},middle:{marginTop:20,marginBottom:20,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:l.default.lighter_gray,display:"flex"},bottom:{display:"flex",justifyContent:"space-between"}},_=v;t.UnconnectedShareDisallowedDialog=_;var w=(0,a.connect)((function(e){return{isOpen:e.shareDialog.isOpen}}),{hideShareDialog:d.hideShareDialog})(v);t.default=w},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedLessonProgress=void 0;var o=m(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=m(n(20)),l=m(n(1042)),u=n(493),c=m(n(644)),d=n(197),f=n(385),p=m(n(32));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var o=r.prototype;return o.getFullWidth=function(){var e=(0,p.default)(this.refs.fullProgressInner);return e.length>0?e.width():0},o.setDesiredWidth=function(){this.props.setDesiredWidth&&this.props.setDesiredWidth(this.getFullWidth())},o.componentDidMount=function(){this.setDesiredWidth()},o.componentDidUpdate=function(){this.setDesiredWidth()},o.shouldComponentUpdate=function(e){for(var t=0;t<this.props.levels.length;t++){var n=this.props.levels[t].status!==e.levels[t].status,r=this.props.levels[t].teacherFeedbackReviewState!==e.levels[t].teacherFeedbackReviewState;if(n||r)return!0}return this.props.width!==e.width},o.getFullProgressOffset=function(){if(this.refs.currentLevel&&this.props.width){var e=this.getFullWidth(),t=this.props.width,n=(0,p.default)(this.refs.currentLevel).position().left;if(e>t){var r=t/2-n-17,o=w.headerVignetteLeftRight;return r+e<t&&(r=t-e,o=w.headerVignetteLeft),r>0&&(r=0,o=w.headerVignetteRight),{headerFullProgressOffset:r,vignetteStyle:y(y({},w.headerVignette),o)}}}return{headerFullProgressOffset:0,vignetteStyle:null}},o.isBonusComplete=function(){return this.props.levels.some((function(e){return e.bonus&&e.status===f.LevelStatus.perfect}))},o.isOnBonusLevel=function(){var e=this.props,t=e.isLessonExtras,n=e.levels,r=e.currentLevelId;return t||n.some((function(e){return e.id===r&&e.bonus}))},o.render=function(){var e=this.props,t=e.currentPageNumber,n=e.lessonExtrasUrl,r=e.lessonName,o=this.props.levels;o=o.filter((function(e){return!e.bonus}));var a=this.getFullProgressOffset(),s=a.headerFullProgressOffset,u=a.vignetteStyle,d=this.isOnBonusLevel();return i.default.createElement("div",{className:"react_stage",style:w.container},i.default.createElement("div",{className:"full_progress_outer",style:y(y({},w.outer),{},{left:s})},i.default.createElement("div",{className:"full_progress_inner",ref:"fullProgressInner",style:w.inner},o.map((function(e,n){var o=e.isCurrentLevel;return o&&e.kind===f.LevelKind.assessment&&(o=t===e.pageNumber),i.default.createElement("div",{key:n,ref:o?"currentLevel":null,style:y(y({},w.inner),e.isUnplugged&&o&&w.pillContainer)},i.default.createElement(c.default,{level:e,disabled:!1,smallBubble:!o,lessonName:r}))})),n&&i.default.createElement("div",{ref:d?"currentLevel":null},i.default.createElement(l.default,{lessonExtrasUrl:n,isPerfect:this.isBonusComplete(),isSelected:d})))),i.default.createElement("div",{className:"vignette",style:u}))},r}(i.Component);b(_,"propTypes",{levels:o.default.arrayOf(d.levelWithProgressType).isRequired,lessonName:o.default.string,lessonExtrasUrl:o.default.string,isLessonExtras:o.default.bool,width:o.default.number,setDesiredWidth:o.default.func,currentPageNumber:o.default.number,currentLevelId:o.default.string});var w={container:{backgroundColor:s.default.lightest_gray,border:"1px solid ".concat(s.default.lighter_gray),borderRadius:5,height:40,position:"relative",overflow:"hidden"},outer:{position:"absolute",paddingLeft:4,paddingRight:4,height:"100%",whiteSpace:"nowrap"},inner:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},headerVignette:{width:"100%",height:"100%",position:"absolute",pointerEvents:"none"},headerVignetteLeftRight:{background:"linear-gradient(to right, rgba(231, 232, 234, 1) 0%, rgba(231, 232, 234, 0) 20px, rgba(231, 232, 234, 0) calc(100% - 20px), rgba(231, 232, 234, 1) 100%)"},headerVignetteLeft:{background:"linear-gradient(to right, rgba(231, 232, 234, 1) 0%, rgba(231, 232, 234, 0) 20px"},headerVignetteRight:{background:"linear-gradient(to right, rgba(231, 232, 234, 0) calc(100% - 20px), rgba(231, 232, 234, 1) 100%)"},spacer:{marginRight:"auto"},lessonTrophyContainer:{border:0,borderRadius:20,paddingLeft:8,paddingRight:0,minWidth:350,marginLeft:48},pillContainer:{paddingTop:4,paddingBottom:4}},E=_;t.UnconnectedLessonProgress=E;var O=(0,a.connect)((function(e){return{levels:(0,u.levelsForLessonId)(e.progress,e.progress.currentLessonId),lessonExtrasUrl:(0,u.lessonExtrasUrl)(e.progress,e.progress.currentLessonId),isLessonExtras:e.progress.isLessonExtras,currentPageNumber:e.progress.currentPageNumber,currentLevelId:e.progress.currentLevelId}}))(_);t.default=O},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedMiniView=void 0;var r=c(n(2)),o=c(n(1)),i=n(27),a=c(n(1044)),s=n(493),l=c(n(1362)),u=c(n(1014));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t,n=e.isSummaryView,r=e.hasGroups,i=e.scriptName,s=e.hasFullProgress,c=e.selectedSectionId,d=e.minimal;return t=s?o.default.createElement("div",{className:"mini-view",style:f(f({},!r&&!n&&m.detailView),r&&m.groupView)},o.default.createElement(l.default,{minimal:d}),o.default.createElement(u.default,null)):o.default.createElement("div",{className:"loading",style:{height:d?100:400}}),o.default.createElement("div",null,!d&&o.default.createElement(a.default,{scriptName:i,selectedSectionId:c}),t)}h.propTypes={minimal:r.default.bool,isSummaryView:r.default.bool.isRequired,hasGroups:r.default.bool.isRequired,scriptName:r.default.string.isRequired,hasFullProgress:r.default.bool.isRequired,selectedSectionId:r.default.number};var m={detailView:{margin:10},groupView:{margin:20}},g=h;t.UnconnectedMiniView=g;var y=(0,i.connect)((function(e){return{isSummaryView:e.progress.isSummaryView,scriptName:e.progress.scriptName,hasFullProgress:e.progress.hasFullProgress,hasGroups:(0,s.hasGroups)(e.progress),selectedSectionId:e.teacherSections.selectedSectionId}}))(h);t.default=y},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=t.UnconnectedSummaryProgressRow=void 0;var r=g(n(2)),o=g(n(1)),i=g(n(20)),a=g(n(382)),s=g(n(814)),l=g(n(59)),u=n(197),c=n(420),d=g(n(829)),f=g(n(53)),p=g(n(13)),h=n(27),m=n(467);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=e.dark,n=e.lesson,r=e.levels,i=e.lessonIsHiddenForStudents,u=e.lessonIsLockedForUser,h=e.lessonIsLockedForAllStudents,m=e.viewAs;if(i&&m===c.ViewType.Participant)return null;var g=u(n,r,m),y=h(n.id),b=g||y,_=n.name;n.lessonNumber&&(_=n.lessonNumber+". "+_);var E=i||b,O=f.default.uniqueId(),S=f.default.uniqueId();return o.default.createElement("tr",{id:"summary-progress-row-".concat(n.lessonNumber),className:"uitest-summary-progress-row",style:v(v({},t?w.darkRow:w.lightRow),E&&w.dashedBorder)},o.default.createElement("td",{style:v(v({},w.col1),g&&w.fadedCol)},o.default.createElement("div",{style:w.colText},i&&o.default.createElement(l.default,{icon:"eye-slash",style:w.icon}),n.lockable&&o.default.createElement("span",{"data-tip":!0,"data-for":S},o.default.createElement(l.default,{icon:b?"lock":"unlock",style:v(v({},w.icon),!b&&w.unlockedIcon)}),!b&&m===c.ViewType.Instructor&&o.default.createElement(a.default,{id:S,role:"tooltip",wrapper:"span",effect:"solid"},p.default.lockAssessmentLong())),o.default.createElement("span",{"data-tip":!0,"data-for":O,"aria-describedby":O},_,o.default.createElement(a.default,{id:O,role:"tooltip",wrapper:"span",effect:"solid"},n.name)))),o.default.createElement("td",{style:v(v({},w.col2),g&&w.fadedCol)},0===r.length?p.default.lessonContainsNoLevels():o.default.createElement(s.default,{levels:r,disabled:g,style:n.isFocusArea?w.focusAreaMargin:void 0,lessonName:n.name}),n.isFocusArea&&o.default.createElement(d.default,null)))}_.propTypes={dark:r.default.bool.isRequired,lesson:u.lessonType.isRequired,levels:r.default.arrayOf(u.levelWithProgressType).isRequired,viewAs:r.default.oneOf(Object.keys(c.ViewType)),lessonIsHiddenForStudents:r.default.bool.isRequired,lessonIsLockedForUser:r.default.func.isRequired,lessonIsLockedForAllStudents:r.default.func.isRequired};var w={lightRow:{backgroundColor:i.default.table_light_row},darkRow:{backgroundColor:i.default.table_dark_row},dashedBorder:{borderStyle:"dashed",borderWidth:2},col1:{width:200,minWidth:200,maxWidth:200,lineHeight:"52px",color:i.default.charcoal,letterSpacing:-.11,whiteSpace:"nowrap",paddingLeft:20,paddingRight:20,borderRightWidth:1,borderRightColor:i.default.border_light_gray,borderRightStyle:"solid"},col2:{position:"relative",width:"100%",paddingLeft:20,paddingRight:20},fadedCol:{opacity:.6},colText:{color:i.default.charcoal,fontFamily:'"Gotham 5r", sans-serif',fontSize:12,overflow:"hidden",textOverflow:"ellipsis"},icon:{marginRight:5,fontSize:12,color:i.default.cyan},unlockedIcon:{color:i.default.orange},focusAreaMargin:{marginRight:130},opaque:{opacity:1}};t.styles=w;var E=_;t.UnconnectedSummaryProgressRow=E;var O=(0,h.connect)((function(e,t){return{viewAs:e.viewAs,lessonIsHiddenForStudents:!(0,m.lessonIsVisible)(t.lesson,e,c.ViewType.Participant),lessonIsLockedForUser:function(t,n,r){return(0,m.lessonIsLockedForUser)(t,n,e,r)},lessonIsLockedForAllStudents:function(t){return(0,m.lessonIsLockedForAllStudents)(t,e)}}}))(_);t.default=O},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressLesson=void 0;var r=b(n(2)),o=b(n(1)),i=n(27),a=b(n(1012)),s=b(n(59)),l=b(n(20)),u=n(197),c=n(420),d=b(n(131)),f=b(n(13)),p=n(467),h=b(n(1404)),m=b(n(829)),g=b(n(382)),y=b(n(53)),v=b(n(74));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){var t,n;function r(t){var n;return S(E(n=e.call(this,t)||this),"toggleCollapsed",(function(){return n.setState({collapsed:!n.state.collapsed})})),S(E(n),"onClickStudentLessonPlan",(function(){d.default.putRecord({study:"script_overview_actions",study_group:"student_lesson_plan",event:"open_student_lesson_plan",data_json:JSON.stringify({lesson_id:n.props.lesson.id,script_id:n.props.scriptId})},{includeUserId:!0})})),n.state={collapsed:t.viewAs!==c.ViewType.Instructor&&t.currentLessonId!==t.lesson.id},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,O(t,n);var i=r.prototype;return i.UNSAFE_componentWillReceiveProps=function(e){e.currentLessonId!==this.props.currentLessonId&&this.setState({collapsed:this.state.collapsed&&e.currentLessonId!==this.props.lesson.id})},i.render=function(){var e=this.props,t=e.lesson,n=e.levels,r=e.viewAs,i=e.isVisible,l=e.hiddenForStudents,u=e.isLockedForUser,d=e.isLockedForAllStudents,p=e.selectedSectionId,b=e.isRtl;if(!i)return null;var _=u||d,E=t.lessonNumber?f.default.lessonNumbered({lessonNumber:t.lessonNumber,lessonName:t.name}):t.name,O=b?C.caretRTL:C.caret,S=this.state.collapsed?"caret-right":"caret-down",T=y.default.uniqueId(),k=r===c.ViewType.Instructor?t.description_teacher:t.description_student,A=n[0]&&n[0].url,P=t.lockable&&r===c.ViewType.Instructor&&this.props.lockableAuthorizedLoaded&&!this.props.lockableAuthorized;return o.default.createElement("div",{id:"progress-lesson-".concat(t.lessonNumber),className:"uitest-progress-lesson",style:w(w({},C.outer),(l||_)&&C.hiddenOrLocked)},o.default.createElement("div",{style:w(w({},C.main),(l&&r===c.ViewType.Participant||u)&&C.translucent)},o.default.createElement("div",{style:w(w({},C.heading),{marginBottom:this.state.collapsed?0:15})},o.default.createElement("div",{style:C.headingText,onClick:this.toggleCollapsed},o.default.createElement(s.default,{icon:S,style:O}),l&&o.default.createElement(s.default,{icon:"eye-slash",style:C.icon}),t.lockable&&this.props.lockStatusLoaded&&o.default.createElement("span",{"data-tip":!0,"data-for":T},o.default.createElement(s.default,{icon:_?"lock":"unlock",style:w(w({},C.icon),!_&&C.unlockedIcon)}),!_&&r===c.ViewType.Instructor&&o.default.createElement(g.default,{id:T,role:"tooltip",wrapper:"span",effect:"solid"},f.default.lockAssessmentLong())),o.default.createElement("span",null,E)),r===c.ViewType.Participant&&t.student_lesson_plan_html_url&&o.default.createElement("span",{style:C.buttonStyle},o.default.createElement(v.default,{__useDeprecatedTag:!0,className:"ui-test-lesson-resources",href:t.student_lesson_plan_html_url,text:f.default.lessonResources(),icon:"file-text",color:"purple",target:"_blank",onClick:this.onClickStudentLessonPlan}))),P&&o.default.createElement("div",{style:C.notAuthorizedWarning},f.default.unverifiedTeacherLockWarning(),o.default.createElement("a",{style:C.learnMoreLink,href:"https://support.code.org/hc/en-us/articles/115001550131-Becoming-a-verified-teacher-CS-Principles-and-CS-Discoveries-only-"},f.default.learnMoreWithPeriod())),!this.state.collapsed&&o.default.createElement(a.default,{description:k,levels:n,disabled:u,selectedSectionId:p,lessonName:t.name})),r===c.ViewType.Instructor&&!this.props.isMiniView&&o.default.createElement(h.default,{lesson:t,lessonUrl:A,onClickStudentLessonPlan:this.onClickStudentLessonPlan}),t.isFocusArea&&o.default.createElement(m.default,null))},r}(o.default.Component);S(T,"propTypes",{lesson:u.lessonType.isRequired,levels:r.default.arrayOf(u.levelWithProgressType).isRequired,scriptId:r.default.number,currentLessonId:r.default.number,viewAs:r.default.oneOf(Object.values(c.ViewType)).isRequired,isVisible:r.default.bool.isRequired,hiddenForStudents:r.default.bool.isRequired,isLockedForUser:r.default.bool.isRequired,selectedSectionId:r.default.number,lockableAuthorized:r.default.bool,lockableAuthorizedLoaded:r.default.bool.isRequired,isLockedForAllStudents:r.default.bool.isRequired,isRtl:r.default.bool,isMiniView:r.default.bool,lockStatusLoaded:r.default.bool.isRequired});var C={outer:{position:"relative",display:"table",width:"100%",height:"100%",background:l.default.lightest_gray,borderColor:l.default.border_gray,borderStyle:"solid",borderRadius:2,borderWidth:1,marginTop:3,marginBottom:15,marginLeft:3,marginRight:3},main:{padding:20},heading:{fontSize:18,fontFamily:'"Gotham 5r", sans-serif',display:"flex",alignItems:"center"},headingText:{cursor:"pointer",flexGrow:1},buttonStyle:{marginLeft:"auto"},hiddenOrLocked:{borderStyle:"dashed",borderWidth:4,marginTop:0,marginBottom:12,marginLeft:0,marginRight:0},translucent:{opacity:.6},caret:{marginRight:10},caretRTL:{marginLeft:10},icon:{marginRight:5,fontSize:18,color:l.default.cyan},unlockedIcon:{color:l.default.orange},notAuthorizedWarning:{color:l.default.red,fontFamily:'"Gotham 5r", sans-serif',fontStyle:"italic",marginTop:10},learnMoreLink:{marginLeft:5}},k=T;t.UnconnectedProgressLesson=k;var A=(0,i.connect)((function(e,t){return{currentLessonId:e.progress.currentLessonId,viewAs:e.viewAs,lockableAuthorized:e.lessonLock.lockableAuthorized,lockableAuthorizedLoaded:e.lessonLock.lockableAuthorizedLoaded,isVisible:(0,p.lessonIsVisible)(t.lesson,e,e.viewAs),hiddenForStudents:!(0,p.lessonIsVisible)(t.lesson,e,c.ViewType.Participant),isLockedForUser:(0,p.lessonIsLockedForUser)(t.lesson,t.levels,e,e.viewAs),isLockedForAllStudents:(0,p.lessonIsLockedForAllStudents)(t.lesson.id,e),selectedSectionId:e.teacherSections.selectedSectionId,scriptId:e.progress.scriptId,isRtl:e.isRtl,isMiniView:e.progress.isMiniView,lockStatusLoaded:e.progress.unitProgressHasLoaded&&e.lessonLock.lessonsBySectionIdLoaded}}))(T);t.default=A},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressPill=void 0;var o=v(n(1)),i=v(n(2)),a=v(n(103)),s=v(n(59)),l=v(n(20)),u=n(197),c=n(642),d=n(388),f=n(467),p=n(27),h=n(621),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(882)),g=n(808);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,E(t,n);var i=r.prototype;return i.getUrl=function(){var e=this.props,t=e.levels,n=e.disabled,r=e.selectedSectionId,o=e.onSingleLevelClick;if(!n&&!o&&1===t.length){var i=(0,d.queryParams)("user_id");return(0,g.getBubbleUrl)(t[0].url,i,r)}},i.getTooltipProps=function(){var e=this.props.tooltip,t={};if(e){var n=e.props.tooltipId;t["data-tip"]=!0,t["data-for"]=n,t["aria-describedby"]=n}return t},i.render=function(){var e=this.props,t=e.levels,n=e.icon,r=e.text,i=e.tooltip,a=e.disabled,l=e.progressStyle,u=e.isRtl,d=e.onSingleLevelClick,p=t[0],y=t.length>1,v=this.getUrl(),_=y||a||v?void 0:function(){return d(p)},E=w(w(w({},T.levelPill),(v||_)&&c.hoverStyle),!y&&(0,c.levelProgressStyle)(p.status,p.kind)),O=u?T.iconMarginRTL:T.iconMargin,S=this.getTooltipProps(),C=p.teacherFeedbackReviewState===h.ReviewStates.keepWorking,k=!y&&(C||(0,f.isLevelAssessment)(p)),A=l?T.textProgressStyle:T.text;return o.default.createElement("a",{href:v,style:{textDecoration:"none"},className:"uitest-ProgressPill",onClick:_},o.default.createElement("div",b({},S,{style:E}),n&&o.default.createElement(s.default,{icon:n}),r&&o.default.createElement("div",{className:"ProgressPillTextAndIcon",style:w(w({},A),n&&O)},r),i,k&&o.default.createElement(m.default,{badgeType:C?m.BadgeType.keepWorking:m.BadgeType.assessment,bubbleSize:g.BubbleSize.full,bubbleShape:g.BubbleShape.pill})))},r}(o.default.Component);O(S,"propTypes",{levels:i.default.arrayOf(u.levelWithProgressType),icon:i.default.string,text:i.default.string,tooltip:i.default.element,disabled:i.default.bool,selectedSectionId:i.default.number,progressStyle:i.default.bool,onSingleLevelClick:i.default.func,isRtl:i.default.bool});var T={levelPill:{textAlign:"center",justifyContent:"center",borderWidth:2,borderStyle:"solid",borderColor:l.default.lighter_gray,color:l.default.charcoal,display:"flex",fontSize:16,fontFamily:'"Gotham 5r", sans-serif',borderRadius:20,paddingLeft:10,paddingRight:10,paddingTop:6,paddingBottom:6,minWidth:70,lineHeight:"18px",marginTop:3,marginBottom:3,position:"relative"},text:{display:"inline-block",fontFamily:'"Gotham 5r", sans-serif',letterSpacing:-.12},textProgressStyle:{display:"inline-block",fontFamily:'"Gotham 5r", sans-serif',fontSize:12,letterSpacing:-.12,width:120,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},iconMargin:{marginLeft:10},iconMarginRTL:{marginRight:10}},C=S;t.UnconnectedProgressPill=C;var k=(0,p.connect)((function(e){return{isRtl:e.isRtl}}))((0,a.default)(S));t.default=k},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressLessonTeacherInfo=void 0;var r=g(n(2)),o=g(n(1)),i=n(27),a=g(n(13)),s=n(197),l=g(n(1363)),u=g(n(1045)),c=n(761),d=n(977),f=g(n(74)),p=g(n(1013)),h=g(n(131)),m=g(n(1049));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var b,_,w,E=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).onClickHiddenToggle=n.onClickHiddenToggle.bind(y(n)),n.firehoseData=n.firehoseData.bind(y(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var i=r.prototype;return i.onClickHiddenToggle=function(e){var t=this.props,n=t.unitName,r=t.section,o=t.lesson;(0,t.toggleHiddenLesson)(n,r&&r.id.toString()||"",o.id,"hidden"===e),h.default.putRecord({study:"hidden-lessons",study_group:"v0",event:e,data_json:JSON.stringify(this.firehoseData())},{includeUserId:!0})},i.firehoseData=function(){var e=this.props,t=e.unitName,n=e.section,r=e.lesson;return{script_name:t,section_id:n&&n.id,lesson_id:r.id,lesson_name:r.name}},i.render=function(){var e=this.props,t=e.section,n=e.unitAllowsHiddenLessons,r=e.hiddenLessonState,i=e.hasNoSections,s=e.lockableAuthorized,d=e.unitId,h=e.lesson,g=t&&t.id.toString()||"",y=t&&n&&!i,v=n&&(0,c.isLessonHiddenForSection)(r,g,h.id),b=t&&t.code&&parseInt(t.code.substring(2))||null,_=h.lessonStartUrl+"?login_required=true";return h.lesson_plan_html_url||h.lockable&&!i||_||y?o.default.createElement(p.default,null,h.lesson_plan_html_url&&o.default.createElement("div",{style:O.buttonContainer},o.default.createElement(f.default,{__useDeprecatedTag:!0,href:h.lesson_plan_html_url,text:a.default.viewLessonPlan(),icon:"file-text",color:"blue",target:"_blank",style:O.button})),h.student_lesson_plan_html_url&&o.default.createElement("div",{style:O.buttonContainer},o.default.createElement(f.default,{__useDeprecatedTag:!0,href:h.student_lesson_plan_html_url,text:a.default.studentResources(),icon:"file-text",color:"purple",target:"_blank",style:O.button,onClick:this.props.onClickStudentLessonPlan})),h.lockable&&s&&!i&&o.default.createElement(u.default,{unitId:d,lessonId:h.id,isHidden:!!v}),h.lessonStartUrl&&!(h.lockable&&!s)&&o.default.createElement("div",{style:O.buttonContainer},o.default.createElement(m.default,{lessonUrl:_,lessonTitle:h.name,courseid:b,analyticsData:JSON.stringify(this.firehoseData()),buttonStyle:O.button})),h.lesson_feedback_url&&o.default.createElement("div",{style:O.buttonContainer},o.default.createElement(f.default,{__useDeprecatedTag:!0,href:h.lesson_feedback_url,text:a.default.rateThisLesson(),icon:"bar-chart",color:f.default.ButtonColor.gray,target:"_blank",style:O.button,className:"rate-lesson-button"})),y&&o.default.createElement(l.default,{hidden:!!v,onChange:this.onClickHiddenToggle})):null},r}(o.default.Component);b=E,_="propTypes",w={lesson:s.lessonType.isRequired,onClickStudentLessonPlan:r.default.func,section:d.sectionShape,unitAllowsHiddenLessons:r.default.bool.isRequired,hiddenLessonState:r.default.object.isRequired,unitId:r.default.number.isRequired,unitName:r.default.string.isRequired,hasNoSections:r.default.bool.isRequired,toggleHiddenLesson:r.default.func.isRequired,lockableAuthorized:r.default.bool},_ in b?Object.defineProperty(b,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[_]=w;var O={buttonContainer:{marginTop:5,marginLeft:15,marginRight:15},button:{width:"100%",paddingLeft:0,paddingRight:0}},S=E;t.UnconnectedProgressLessonTeacherInfo=S;var T=(0,i.connect)((function(e){return{section:e.teacherSections.sections[e.teacherSections.selectedSectionId],unitAllowsHiddenLessons:e.hiddenLesson.hideableLessonsAllowed||!1,hiddenLessonState:e.hiddenLesson,unitId:e.progress.scriptId,unitName:e.progress.scriptName,lockableAuthorized:e.lessonLock.lockableAuthorized,hasNoSections:e.teacherSections.sectionsAreLoaded&&0===e.teacherSections.sectionIds.length}}),(function(e){return{toggleHiddenLesson:function(t,n,r,o){e((0,c.toggleHiddenLesson)(t,n,r,o))}}}))(E);t.default=T},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedLessonLockDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=_(n(2)),a=n(27),s=_(n(32)),l=_(n(143)),u=_(n(1406)),c=n(759),d=_(n(20)),f=_(n(13)),p=_(n(1213)),h=n(468),m=n(859),g=n(1228),y=_(n(1046)),v=_(n(1047)),b=_(n(53));function _(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(i,a,s,l){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,l(v,"constructor",h),l(h,"constructor",p),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function O(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,s,"next",e)}function s(e){O(i,r,o,a,s,"throw",e)}a(void 0)}))}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.unitId,n=e.lessonId,r=e.handleClose,i=e.selectedSectionId,a=e.refetchSectionLockStatus,c=e.lessonIsHidden,d=(0,g.useGetLockState)(t,n,i),_=d.loading,w=d.serverLockState,O=A((0,o.useState)([]),2),T=O[0],k=O[1],P=A((0,o.useState)(!1),2),x=P[0],R=P[1],D=A((0,o.useState)(null),2),j=D[0],N=D[1];(0,o.useEffect)((function(){return k(w)}),[w]);var L=function(e){k((function(t){return t.map((function(t){return C(C({},t),{},{lockStatus:e})}))}))},M=function(){return L(g.LockStatus.Editable)},B=function(){return L(g.LockStatus.Locked)},F=function(){return L(g.LockStatus.ReadonlyAnswers)},U=function(){var e=(0,m.teacherDashboardUrl)(i,"/assessments");window.open(e,"_blank","noopener,noreferrer")},H=function(e,t){k((function(n){return n.map((function(n,r){return r!==e?n:C(C({},n),{},{lockStatus:t})}))}))},W=function(){var e=S(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.default.isEqual(w,T)?r():q();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=S(E().mark((function e(){var n,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),N(null),n=(0,s.default)('meta[name="csrf-token"]').attr("content"),e.next=5,(0,g.saveLockState)(w,T,n);case 5:if(!(o=e.sent).ok){e.next=12;break}return e.next=9,a(i,t);case 9:r(),e.next=13;break;case 12:o.json().then((function(e){R(!1),e.error?N(f.default.errorSavingLockStatusWithMessage({errorMessage:e.error})):N(f.default.errorSavingLockStatus())}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=i!==h.NO_SECTION,V=z?{}:I.hidden,G={maxHeight:.8*window.innerHeight-100};return o.default.createElement(l.default,{isOpen:!0,handleClose:r},o.default.createElement("div",{style:C(C({},I.main),G)},o.default.createElement("div",null,o.default.createElement("span",{style:I.title},f.default.assessmentSteps()),o.default.createElement(p.default,{style:{marginLeft:10},requireSelection:z})),c&&o.default.createElement("div",{style:I.hiddenError},f.default.hiddenAssessmentWarning()),o.default.createElement(o.default.Fragment,null,o.default.createElement("table",{style:V},o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",null,"1. ",f.default.allowEditingInstructions()),o.default.createElement("td",null,o.default.createElement("button",{type:"button",style:u.default.orangeButton,onClick:M},f.default.allowEditing()))),o.default.createElement("tr",null,o.default.createElement("td",null,"2. ",f.default.lockStageInstructions()),o.default.createElement("td",null,o.default.createElement("button",{type:"button",style:u.default.orangeButton,onClick:B},f.default.lockStage()))),o.default.createElement("tr",null,o.default.createElement("td",null,"3. ",f.default.showAnswersInstructions()),o.default.createElement("td",null,o.default.createElement("button",{type:"button",style:u.default.orangeButton,onClick:F},f.default.showAnswers()))),o.default.createElement("tr",null,o.default.createElement("td",null,"4. ",f.default.relockStageInstructions()),o.default.createElement("td",null,o.default.createElement("button",{type:"button",style:u.default.orangeButton,onClick:B},f.default.relockStage()))),o.default.createElement("tr",null,o.default.createElement("td",null,"5. ",f.default.reviewResponses()),o.default.createElement("td",null,o.default.createElement("button",{type:"button",style:u.default.whiteButton,onClick:U},f.default.viewSection()))))),o.default.createElement("div",{style:C(C({},I.descriptionText),V)},f.default.autolock())),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{style:C(C({},I.title),V)},f.default.studentControl()),o.default.createElement("div",{style:C(C({},I.descriptionText),V)},f.default.studentLockStateInstructions()),o.default.createElement("table",{id:"ui-test-student-table",style:C(C({},I.studentTable),V)},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{style:I.headerRow},f.default.student()),o.default.createElement("th",{style:I.headerRow},f.default.locked()),o.default.createElement("th",{style:I.headerRow},f.default.editable()),o.default.createElement("th",{style:I.headerRow},f.default.answersVisible()))),o.default.createElement("tbody",null,_?o.default.createElement(v.default,{numRows:5,numCols:4}):T.map((function(e,t){var n=e.name,r=e.lockStatus;return o.default.createElement(y.default,{key:t,index:t,name:n,lockStatus:r,handleRadioChange:H})})))))),o.default.createElement("div",{style:I.buttonContainer},j&&o.default.createElement("span",{style:I.saveError},j),o.default.createElement("button",{type:"button",style:u.default.baseButton,onClick:r},f.default.dialogCancel()),o.default.createElement("button",{type:"button",style:C(C({},u.default.blueButton),V),onClick:W,disabled:x},x?f.default.saving():f.default.save())))}x.propTypes={unitId:i.default.number.isRequired,lessonId:i.default.number.isRequired,handleClose:i.default.func.isRequired,lessonIsHidden:i.default.bool,selectedSectionId:i.default.number,refetchSectionLockStatus:i.default.func.isRequired};var I={main:{marginTop:20,marginBottom:10,marginLeft:20,marginRight:20,color:d.default.charcoal,whiteSpace:"normal",overflowY:"scroll",textAlign:"left"},title:{color:d.default.teal,fontSize:20,fontWeight:900,marginTop:15,marginBottom:15},headerRow:{borderWidth:1,borderStyle:"solid",borderColor:d.default.teal,backgroundColor:d.default.teal,padding:10,fontSize:"100%",fontFamily:'"Gotham 4r", sans-serif',fontWeight:"bold"},descriptionText:{marginTop:10,marginBottom:10},studentTable:{width:"100%"},buttonContainer:{textAlign:"right",marginRight:15},hidden:{display:"none"},saveError:{color:d.default.red,fontStyle:"italic",marginRight:10},hiddenError:{color:d.default.red,fontStyle:"italic",marginBottom:10}},R=x;t.UnconnectedLessonLockDialog=R;var D=(0,a.connect)((function(e){return{selectedSectionId:e.teacherSections.selectedSectionId}}),(function(e){return{refetchSectionLockStatus:function(t,n){e((0,c.refetchSectionLockStatus)(t,n))}}}))(x);t.default=D},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createOutline=void 0;var r,o=(r=n(20))&&r.__esModule?r:{default:r};t.createOutline=function(e){return"\n    ".concat(e," 0 1px,\n    ").concat(e," 1px 1px,\n    ").concat(e," 1px 0px,\n    ").concat(e," 1px -1px,\n    ").concat(e," 0 -1px,\n    ").concat(e," -1px -1px,\n    ").concat(e," -1px 0,\n    ").concat(e," -1px 1px")};var i={fontSize:14,paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,whiteSpace:"nowrap"},a={baseButton:i,blueButton:Object.assign({},i,{backgroundColor:o.default.cyan,color:o.default.white}),orangeButton:Object.assign({},i,{backgroundColor:o.default.orange,color:o.default.white}),whiteButton:Object.assign({},i,{backgroundColor:o.default.white,color:o.default.dark_charcoal,borderColor:o.default.lighter_gray})};t.default=a},(e,t,n)=>{"use strict";var r=["count","wrapper","className","containerClassName","containerTestId","circle","style"],o=["children"];function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e){return e&&"object"===d(e)&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p=f(n(1)),h=p.default.createContext({});t.SkeletonTheme=function(e){var t=e.children,n=c(e,o);return p.default.createElement(h.Provider,{value:n},t)},t.default=function(e){for(var t,n,o,a=e.count,s=void 0===a?1:a,u=e.wrapper,d=e.className,f=e.containerClassName,m=e.containerTestId,g=e.circle,y=void 0!==g&&g,v=e.style,b=c(e,r),_=p.default.useContext(h),w=l({},b),E=0,O=Object.entries(b);E<O.length;E++){var S=i(O[E],2),T=S[0];void 0===S[1]&&delete w[T]}var C=l(l(l({},_),w),{},{circle:y}),k=l(l({},v),function(e){var t=e.baseColor,n=e.highlightColor,r=e.width,o=e.height,i=e.borderRadius,a=e.circle,s=e.direction,l=e.duration,u=e.enableAnimation,c=void 0===u||u,d={};return"rtl"===s&&(d["--animation-direction"]="reverse"),"number"==typeof l&&(d["--animation-duration"]="".concat(l,"s")),c||(d["--pseudo-element-display"]="none"),"string"!=typeof r&&"number"!=typeof r||(d.width=r),"string"!=typeof o&&"number"!=typeof o||(d.height=o),"string"!=typeof i&&"number"!=typeof i||(d.borderRadius=i),a&&(d.borderRadius="50%"),void 0!==t&&(d["--base-color"]=t),void 0!==n&&(d["--highlight-color"]=n),d}(C)),A="react-loading-skeleton";d&&(A+=" ".concat(d));for(var P=null!==(t=C.inline)&&void 0!==t&&t,x=[],I=Math.ceil(s),R=0;R<I;R++){var D=k;if(I>s&&R===I-1){var j=null!==(n=D.width)&&void 0!==n?n:"100%",N=s%1,L="number"==typeof j?j*N:"calc(".concat(j," * ").concat(N,")");D=l(l({},D),{},{width:L})}var M=p.default.createElement("span",{className:A,style:D,key:R},"‌");P?x.push(M):x.push(p.default.createElement(p.default.Fragment,{key:R},M,p.default.createElement("br",null)))}return p.default.createElement("span",{className:f,"data-testid":m,"aria-live":"polite","aria-busy":null===(o=C.enableAnimation)||void 0===o||o},u?x.map((function(e,t){return p.default.createElement(u,{key:t},e)})):x)}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1367),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSendLessonDialog=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=m(n(2)),s=m(n(13)),l=m(n(131)),u=m(n(143)),c=m(n(74)),d=m(n(394)),f=m(n(750)),p=n(1017),h=m(n(1050));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var v,b,_,w=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).onCopyLink=n.onCopyLink.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n.state={showLinkCopied:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var i=r.prototype;return i.onCopyLink=function(){var e=this;(0,f.default)(this.props.lessonUrl),this.setState({showLinkCopied:!0}),setTimeout((function(){e.setState({showLinkCopied:!1})}),4e3),l.default.putRecord({study:"copy-lesson-link-button",study_group:"v0",event,data_json:this.props.analyticsData},{includeUserId:!0})},i.renderCopyToClipboardRow=function(){return o.default.createElement("div",{style:E.row},o.default.createElement(c.default,{id:"uitest-copy-button",text:"",icon:"link",iconStyle:E.buttonIcon,color:c.default.ButtonColor.blue,style:E.button,onClick:this.onCopyLink}),o.default.createElement("span",{style:E.buttonLabel},this.state.showLinkCopied?s.default.sendLessonLinkCopied():s.default.sendLessonCopyLink()))},i.renderShareToGoogleRow=function(){return o.default.createElement("div",{style:E.row},o.default.createElement(h.default,{theme:"classic",height:E.button.height,url:this.props.lessonUrl,itemtype:"assignment",title:this.props.lessonTitle,courseid:this.props.courseid,analyticsData:this.props.analyticsData}))},i.render=function(){return o.default.createElement(u.default,{isOpen:this.props.isOpen,handleClose:this.props.handleClose,style:E.dialog,useUpdatedStyles:!0},o.default.createElement("h2",null,s.default.sendLessonTitle()),o.default.createElement("div",{style:E.detailsLine},s.default.sendLessonDetails()," ",o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.code.org/hc/en-us/articles/360051654691"},s.default.learnMore())),this.renderCopyToClipboardRow(),this.props.showGoogleButton&&this.renderShareToGoogleRow(),o.default.createElement(d.default,null,o.default.createElement(c.default,{text:s.default.done(),onClick:this.props.handleClose,color:c.default.ButtonColor.gray})))},r}(o.Component);v=w,b="propTypes",_={isOpen:a.default.bool,handleClose:a.default.func,lessonUrl:a.default.string.isRequired,lessonTitle:a.default.string,courseid:a.default.number,analyticsData:a.default.string,showGoogleButton:a.default.bool},b in v?Object.defineProperty(v,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[b]=_;var E={dialog:{textAlign:"left",paddingLeft:20,paddingRight:20,paddingBottom:20},detailsLine:{marginBottom:32},row:{marginTop:8,marginBottom:8},button:{width:48,height:48,margin:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,paddingLeft:0,paddingRight:0},buttonIcon:{margin:0,fontSize:24},buttonLabel:{paddingLeft:16}},O=w;t.UnconnectedSendLessonDialog=O;var S=(0,i.connect)((function(e){return{showGoogleButton:(0,p.canShowGoogleShareButton)(e)}}))(w);t.default=S},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedLessonGroup=void 0;var r=y(n(1)),o=y(n(2)),i=y(n(103)),a=n(27),s=y(n(851)),l=y(n(1227)),u=y(n(59)),c=n(197),d=y(n(20)),f=y(n(1051)),p=y(n(131)),h=n(467),m=n(420),g=y(n(852));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _(v(t=e.call.apply(e,[this].concat(r))||this),"state",{collapsed:!1,lessonGroupInfoDialogOpen:!1}),_(v(t),"toggleCollapsed",(function(){return t.setState({collapsed:!t.state.collapsed})})),_(v(t),"openLessonGroupInfoDialog",(function(){t.setState({collapsed:!t.state.collapsed,lessonGroupInfoDialogOpen:!0}),p.default.putRecord({study:"unit_overview_page",study_group:"lesson_group",event:"view_lesson_group_info",data_json:JSON.stringify({script_id:t.props.scriptId,lesson_group_id:t.props.groupedLesson.lessonGroup.id})},{includeUserId:!0})})),_(v(t),"closeLessonGroupInfoDialog",(function(){t.setState({lessonGroupInfoDialogOpen:!1})})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n),o.prototype.render=function(){var e=this.props,t=e.isSummaryView,n=e.isPlc,o=e.viewAs,i=e.isRtl,a=e.hasVisibleLesson,c=this.props.groupedLesson.lessonGroup,d=c.description,p=c.bigQuestions,h=c.displayName,y=i?E.headingTextRTL:E.headingText,v=t?l.default:s.default;if(!a&&o===m.ViewType.Participant)return null;var b=d||p;return r.default.createElement("div",{style:E.main,className:"lesson-group"},r.default.createElement("div",{style:[E.header,n&&E.headerBlue,this.state.collapsed&&E.bottom],onClick:this.toggleCollapsed},r.default.createElement(u.default,{icon:this.state.collapsed?"caret-right":"caret-down"}),r.default.createElement("span",{style:y},h),b&&r.default.createElement("span",null,r.default.createElement(u.default,{icon:"info-circle",style:E.lessonGroupInfo,onClick:this.openLessonGroupInfoDialog}),r.default.createElement("div",{className:"print-only"},r.default.createElement(g.default,{description:d,bigQuestions:p})),r.default.createElement(f.default,{isOpen:this.state.lessonGroupInfoDialogOpen,displayName:h,bigQuestions:p,description:d,closeDialog:this.closeLessonGroupInfoDialog}))),!this.state.collapsed&&r.default.createElement("div",{style:[E.contents,n&&E.contentsBlue,E.bottom]},r.default.createElement(v,{groupedLesson:this.props.groupedLesson})))},o}(r.default.Component);_(w,"propTypes",{groupedLesson:c.groupedLessonsType.isRequired,isPlc:o.default.bool.isRequired,isSummaryView:o.default.bool.isRequired,scriptId:o.default.number,hasVisibleLesson:o.default.bool.isRequired,viewAs:o.default.oneOf(Object.values(m.ViewType)).isRequired,isRtl:o.default.bool});var E={main:{marginBottom:20},header:{padding:20,backgroundColor:d.default.purple,fontSize:18,fontFamily:'"Gotham 5r", sans-serif',color:"white",borderTopLeftRadius:4,borderTopRightRadius:4,cursor:"pointer"},headerBlue:{backgroundColor:d.default.cyan},headingText:{marginLeft:10},headingTextRTL:{marginRight:10},contents:{backgroundColor:d.default.lighter_purple,padding:20},contentsBlue:{backgroundColor:d.default.lightest_cyan},bottom:{borderBottomLeftRadius:4,borderBottomRightRadius:4},lessonGroupInfo:{padding:10}},O=w;t.UnconnectedLessonGroup=O;var S=(0,a.connect)((function(e,t){return{scriptId:e.progress.scriptId,viewAs:e.viewAs,isRtl:e.isRtl,hasVisibleLesson:t.groupedLesson.lessons.some((function(t){return(0,h.lessonIsVisible)(t,e,e.viewAs)}))}}))((0,i.default)(w));t.default=S},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.InstructionsDialog=h,t.default=void 0;var o=p(n(1)),i=p(n(2)),a=n(27),s=p(n(13)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(815)),u=p(n(853)),c=p(n(854)),d=n(622);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return o.default.createElement(l.default,{isOpen:e.isOpen,title:o.default.createElement("h1",{style:g.title},e.title),body:e.imgOnly&&e.imgUrl?o.default.createElement("div",{style:g.imgContainer},o.default.createElement(u.default,{src:e.imgUrl})):o.default.createElement(c.default,{instructions:e.instructions,imgURL:e.imgUrl,isBlockly:e.isBlockly,inTopPane:!1}),renderFooter:function(){return o.default.createElement(l.FooterButton,{type:"confirm",text:s.default.dialogOK(),onClick:e.handleClose})},handleClose:e.handleClose,type:"simple"})}h.propTypes={title:i.default.string.isRequired,isOpen:i.default.bool,imgOnly:i.default.bool,imgUrl:i.default.string,instructions:i.default.string,isBlockly:i.default.bool,handleClose:i.default.func.isRequired};var m=(0,a.connect)((function(e){return{isOpen:e.instructionsDialog.open,imgOnly:e.instructionsDialog.imgOnly,imgUrl:e.instructionsDialog.imgUrl||e.pageConstants.aniGifURL,instructions:e.instructions.longInstructions||e.instructions.shortInstructions,isBlockly:e.pageConstants.isBlockly}}),(function(e){return{handleClose:function(){return e((0,d.closeDialog)())}}}))(h);t.default=m;var g={title:{fontSize:24},imgContainer:{display:"flex",justifyContent:"center"}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a.map((function(t){return t(e)})).filter((function(e){return e.isAchieved})).sort((function(e,t){return e.isAchieved&&!t.isAchieved?-1:!e.isAchieved&&t.isAchieved?1:0}))},t.puzzleComplete=s,t.usingHints=l;var r=i(n(13)),o=i(n(818));function i(e){return e&&e.__esModule?e:{default:e}}var a=[s,l];function s(e){return{isAchieved:!0,message:r.default.puzzleCompleted(),successIconUrl:""}}function l(e){var t,n,i=o.default.currentOpenedHintCount(e.pageConstants.serverLevelId);return 0===i?(t=r.default.withoutHints(),n=!0):1===i?(t=r.default.usingOneHint(),n=!0):(t=r.default.usingHints(),n=!1),{isAchieved:n,message:t,successIconUrl:"",failureIconUrl:""}}},(e,t,n)=>{"use strict";var r,o,i=n(1298).parseType,a=function(e){return new Date(1e3*e-20828448e5)},s=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},l=function(e){var t,n,r=new DataView(e.buffer,e.byteOffset,e.byteLength),o=[];for(t=0;t+4<e.length;t+=n)if(n=r.getUint32(t),t+=4,n<=0)o.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:o.push("slice_layer_without_partitioning_rbsp");break;case 5:o.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:o.push("sei_rbsp");break;case 7:o.push("seq_parameter_set_rbsp");break;case 8:o.push("pic_parameter_set_rbsp");break;case 9:o.push("access_unit_delimiter_rbsp");break;default:o.push("UNKNOWN NAL - "+e[t]&31)}return o},u={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:r(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,r,o,i=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(r=6,o=0;o<s;o++)n=i.getUint16(r),r+=2,a.sps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;for(t=e[r],r++,o=0;o<t;o++)n=i.getUint16(r),r+=2,a.pps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:i(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)n.compatibleBrands.push(i(e.subarray(r,r+4))),r+=4;return n},dinf:function(e){return{boxes:r(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:r(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:i(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:l(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,o={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===o.version?(r+=4,o.creationTime=a(n.getUint32(r)),r+=8,o.modificationTime=a(n.getUint32(r)),r+=4,o.timescale=n.getUint32(r),r+=8,o.duration=n.getUint32(r)):(o.creationTime=a(n.getUint32(r)),r+=4,o.modificationTime=a(n.getUint32(r)),r+=4,o.timescale=n.getUint32(r),r+=4,o.duration=n.getUint32(r)),r+=4,t=n.getUint16(r),o.language+=String.fromCharCode(96+(t>>10)),o.language+=String.fromCharCode(96+((992&t)>>5)),o.language+=String.fromCharCode(96+(31&t)),o},mdia:function(e){return{boxes:r(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:r(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=r(e.subarray(28))[0]),n},moof:function(e){return{boxes:r(e)}},moov:function(e){return{boxes:r(e)}},mvex:function(e){return{boxes:r(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(t.getUint32(n)),n+=8,r.modificationTime=a(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=8,r.duration=t.getUint32(n)):(r.creationTime=a(t.getUint32(n)),n+=4,r.modificationTime=a(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=4,r.duration=t.getUint32(n)),n+=4,r.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=t.getUint32(n),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},o=n.getUint16(22);for(t=24;o;t+=12,o--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return r},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:r(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},o=n.getUint32(4);for(t=8;o;t+=4,o--)r.chunkOffsets.push(n.getUint32(t));return r},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=n.getUint32(4),o={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;r;t+=12,r--)o.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return o},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:r(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)r.entries.push(n.getUint32(t));return r},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},o=n.getUint32(4);for(t=8;o;t+=8,o--)r.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return r},styp:function(e){return u.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},o=1&r.flags[2],i=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,o&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),i&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!o&&c&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(t.getUint32(n)),n+=8,r.modificationTime=a(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=8,r.duration=t.getUint32(n)):(r.creationTime=a(t.getUint32(n)),n+=4,r.modificationTime=a(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=4,r.duration=t.getUint32(n)),n+=4,n+=8,r.layer=t.getUint16(n),n+=2,r.alternateGroup=t.getUint16(n),n+=2,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,r.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.height=t.getUint16(n)+t.getUint16(n+2)/16,r},traf:function(e){return{boxes:r(e)}},trak:function(e){return{boxes:r(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),o=1&n.flags[2],i=4&n.flags[2],a=1&n.flags[1],l=2&n.flags[1],u=4&n.flags[1],c=8&n.flags[1],d=r.getUint32(4),f=8;for(o&&(n.dataOffset=r.getInt32(f),f+=4),i&&d&&(t={flags:s(e.subarray(f,f+4))},f+=4,a&&(t.duration=r.getUint32(f),f+=4),l&&(t.size=r.getUint32(f),f+=4),c&&(t.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(t),d--);d--;)t={},a&&(t.duration=r.getUint32(f),f+=4),l&&(t.size=r.getUint32(f),f+=4),u&&(t.flags=s(e.subarray(f,f+4)),f+=4),c&&(t.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};r=function(e){for(var t,n,r,o,a,s=0,l=[],c=new ArrayBuffer(e.length),d=new Uint8Array(c),f=0;f<e.length;++f)d[f]=e[f];for(t=new DataView(c);s<e.byteLength;)n=t.getUint32(s),r=i(e.subarray(s+4,s+8)),o=n>1?s+n:e.byteLength,(a=(u[r]||function(e){return{data:e}})(e.subarray(s+8,o))).size=n,a.type=r,l.push(a),s=o;return l},o=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map((function(e,r){return n+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var r=n+"  "+t+": ",o=e[t];if(o instanceof Uint8Array||o instanceof Uint32Array){var i=Array.prototype.slice.call(new Uint8Array(o.buffer,o.byteOffset,o.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return i?1===i.length?r+"<"+i.join("").slice(1)+">":r+"<\n"+i.map((function(e){return n+"  "+e})).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(o,null,2).split("\n").map((function(e,t){return 0===t?e:n+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+o(e.boxes,t+1):"")})).join("\n")},e.exports={inspect:r,textify:o,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun,parseSidx:u.sidx}},e=>{"use strict";e.exports={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,o=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=o,n.payload=e.subarray(t,t+o);break}t+=o,r=0,o=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,r,o,i,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)i={type:3&t[(o=3*n)+2],pts:e},4&t[o+2]&&(i.ccData=t[o+3]<<8|t[o+4],a.push(i));return a},discardEmulationPreventionBytes:function(e){for(var t,n,r=e.byteLength,o=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=r-o.length,n=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),n[i]=e[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},e=>{"use strict";var t=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,o,i;if(n=e[t])if(2===arguments.length)for(o=n.length,r=0;r<o;++r)n[r].call(this,arguments[1]);else{for(i=[],r=arguments.length,r=1;r<arguments.length;++r)i.push(arguments[r]);for(o=n.length,r=0;r<o;++r)n[r].apply(this,i)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)},e.exports=t},e=>{"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoDataShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({src:o.default.string.isRequired,name:o.default.string,key:o.default.string,download:o.default.string,thumbnail:o.default.string,enable_fallback:o.default.bool,autoplay:o.default.bool});t.videoDataShape=i},(e,t,n)=>{"use strict";var r=n(195),o=n(1419),i=n(1420),a="mixins";e.exports=function(e,t,n){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var o=u.hasOwnProperty(n)?u[n]:null;return i("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var u=n[s],f=r.hasOwnProperty(s);if(d(f,s),c.hasOwnProperty(s))c[s](e,u);else{var p=l.hasOwnProperty(s);if("function"==typeof u&&!p&&!f&&!1!==n.autobind)o.push(s,u),r[s]=u;else if(f){var g=l[s];i(p&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?r[s]=h(r[s],u):"DEFINE_MANY"===g&&(r[s]=m(r[s],u))}else r[s]=u}}}else;}function p(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return p(o,n),p(o,r),o}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var y={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return r(_.prototype,e.prototype,b),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=g(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,t)),f(t,y),f(t,e),f(t,v),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},e=>{"use strict";e.exports={}},e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.codeReviewTimelineElementType=t.UnconnectedCodeReviewTimelineElement=void 0;var r=f(n(1)),o=f(n(2)),i=n(27),a=n(749),s=f(n(59)),l=f(n(20)),u=f(n(596)),c=n(33),d=n(388);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={CREATED:"created",COMMIT:"commit",CODE_REVIEW:"codeReview"};t.codeReviewTimelineElementType=g;var y=function(e){var t=e.type,n=e.isLast,o=e.projectVersionId,i=e.viewAsCodeReviewer,a=e.children,s=(0,d.queryParams)();s.version=o;var f=location.origin+location.pathname+(0,c.stringifyQueryParams)(s),p=!i&&!!o;return t===g.CREATED?r.default.createElement("div",{style:O.element},r.default.createElement("div",{style:O.eyeColumn}),r.default.createElement("div",{style:O.timeline},r.default.createElement(b,{color:l.default.purple}),!n&&r.default.createElement(_,{height:"40px",marginRight:"-1.5px"})),r.default.createElement("div",{style:h(h({},O.child),O.createdText)},u.default.created())):t===g.COMMIT?r.default.createElement("div",{style:O.element},r.default.createElement("div",{style:O.eyeColumn},p&&r.default.createElement(v,{versionHref:f})),r.default.createElement("div",{style:O.timeline},r.default.createElement(b,{color:l.default.dark_charcoal,hasCheck:!0}),!n&&r.default.createElement(_,{height:"calc(100% - ".concat(E,"px")})),r.default.createElement("div",{style:h({},O.commitChild)},a)):t===g.CODE_REVIEW?r.default.createElement("div",{style:O.element},r.default.createElement("div",{style:h(h({},O.eyeColumn),O.reviewEye)},p&&r.default.createElement(v,{versionHref:f})),r.default.createElement("div",{style:O.codeReviewTimeline},r.default.createElement("div",null,a),!n&&r.default.createElement(_,{height:"40px",marginLeft:"15px"}))):void 0};y.propTypes={type:o.default.oneOf(Object.values(g)).isRequired,isLast:o.default.bool,projectVersionId:o.default.string,children:o.default.node};var v=function(e){var t=e.versionHref;return r.default.createElement(a.TextLink,{href:t,icon:r.default.createElement(s.default,{icon:"eye",title:"preview",style:O.eyeIcon}),openInNewTab:!0})};v.propTypes={versionHref:o.default.string};var b=function(e){var t=e.color,n=e.hasCheck;return r.default.createElement("div",{style:h(h({},O.dot),{},{background:t})},n&&r.default.createElement(s.default,{icon:"check",style:O.check}))};b.propTypes={color:o.default.string.isRequired,hasCheck:o.default.bool};var _=function(e){var t=e.height,n=e.marginRight,o=void 0===n?"0px":n,i=e.marginLeft,a={borderLeft:w,height:t,marginRight:o,marginLeft:void 0===i?"0px":i};return r.default.createElement("div",{style:a})};_.propTypes={height:o.default.string.isRequired,marginRight:o.default.string,marginLeft:o.default.string};var w="3px solid ".concat(l.default.charcoal),E=20,O={element:{display:"flex"},eyeColumn:{width:"21px"},eyeIcon:{color:l.default.light_gray,fontSize:"20px"},reviewEye:{marginTop:"20px"},timeline:{display:"flex",flexDirection:"column",margin:"0 10px 0 16px",alignItems:"center"},codeReviewTimeline:{display:"flex",flexDirection:"column",marginLeft:"11px",width:"100%"},dot:{width:E,height:E,borderRadius:"50%",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},check:{color:l.default.white,paddingTop:"2px"},createdText:{fontFamily:'"Gotham 5r", sans-serif',fontStyle:"italic"},commitChild:{padding:"0 0 25px 20px",marginLeft:"-20px"}},S=y;t.UnconnectedCodeReviewTimelineElement=S;var T=(0,i.connect)((function(e){return{viewAsCodeReviewer:e.pageConstants.isCodeReviewing}}))(y);t.default=T},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChromeVersion=i,t.gtChrome33=function(){return i()>=33},t.isChrome=function(){return!!window.chrome},t.isChromeOS=a,t.isCodeOrgBrowser=function(){return!!window.MakerBridge},t.isLinux=function(){return/^Linux/.test(navigator.platform)&&!a()},t.isOSX=function(){return/^Mac/.test(navigator.platform)},t.isWindows=function(){return/^Win/.test(navigator.platform)},t.serialPortType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a()?e?o.default:o.default.SerialPort:SerialPort};var r,o=(r=n(1821))&&r.__esModule?r:{default:r};function i(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}function a(){return/\bCrOS\b/.test(navigator.userAgent)}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.selectAnimation=function(e){return{type:o,animationKey:e}},t.setColumnSizes=function(e){return{type:i,sizes:e}};var r=n(462),o="AnimationTab/SELECT_ANIMATION",i="AnimationTab/SET_COLUMN_SIZES",a=(0,r.combineReducers)({columnSizes:function(e,t){if(e=e||[150,void 0],t.type===i)return t.sizes;return e},selectedAnimation:function(e,t){if(e=e||"",t.type===o)return t.animationKey;return e}});t.default=a},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.announcementShape=t.addAnnouncement=t.VisibilityType=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type===a)return e.concat({key:t.key,notice:t.notice,details:t.details,link:t.link,type:t.announcementType,visibility:t.visibilityType,dismissible:t.dismissible,buttonText:t.buttonText});return e};var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(1251);var a="announcements/ADD_ANNOUNCEMENT";t.addAnnouncement=function(e){var t=e.key,n=e.notice,r=e.details,o=e.link,i=e.type,s=e.visibility,l=e.dismissible,u=e.buttonText;return{type:a,key:t,notice:n,details:r,link:o,announcementType:i,visibilityType:s,dismissible:l,buttonText:u}};var s={teacher:"Teacher-only",student:"Student-only",teacherAndStudent:"Teacher and student"};t.VisibilityType=s;var l=o.default.shape({key:o.default.string,notice:o.default.string.isRequired,details:o.default.string.isRequired,link:o.default.string.isRequired,type:o.default.oneOf(Object.values(i.NotificationType)).isRequired,visibility:o.default.oneOf(Object.values(s)),dismissible:o.default.bool,buttonText:o.default.string});t.announcementShape=l},,,,,,,,,,,,,,,,,(e,t,n)=>{var r={"./af":1079,"./af.js":1079,"./ar":1080,"./ar-dz":1081,"./ar-dz.js":1081,"./ar-kw":1082,"./ar-kw.js":1082,"./ar-ly":1083,"./ar-ly.js":1083,"./ar-ma":1084,"./ar-ma.js":1084,"./ar-sa":1085,"./ar-sa.js":1085,"./ar-tn":1086,"./ar-tn.js":1086,"./ar.js":1080,"./az":1087,"./az.js":1087,"./be":1088,"./be.js":1088,"./bg":1089,"./bg.js":1089,"./bm":1090,"./bm.js":1090,"./bn":1091,"./bn.js":1091,"./bo":1092,"./bo.js":1092,"./br":1093,"./br.js":1093,"./bs":1094,"./bs.js":1094,"./ca":1095,"./ca.js":1095,"./cs":1096,"./cs.js":1096,"./cv":1097,"./cv.js":1097,"./cy":1098,"./cy.js":1098,"./da":1099,"./da.js":1099,"./de":1100,"./de-at":1101,"./de-at.js":1101,"./de-ch":1102,"./de-ch.js":1102,"./de.js":1100,"./dv":1103,"./dv.js":1103,"./el":1104,"./el.js":1104,"./en-au":1105,"./en-au.js":1105,"./en-ca":1106,"./en-ca.js":1106,"./en-gb":1107,"./en-gb.js":1107,"./en-ie":1108,"./en-ie.js":1108,"./en-il":1109,"./en-il.js":1109,"./en-nz":1110,"./en-nz.js":1110,"./eo":1111,"./eo.js":1111,"./es":1112,"./es-do":1113,"./es-do.js":1113,"./es-us":1114,"./es-us.js":1114,"./es.js":1112,"./et":1115,"./et.js":1115,"./eu":1116,"./eu.js":1116,"./fa":1117,"./fa.js":1117,"./fi":1118,"./fi.js":1118,"./fo":1119,"./fo.js":1119,"./fr":1120,"./fr-ca":1121,"./fr-ca.js":1121,"./fr-ch":1122,"./fr-ch.js":1122,"./fr.js":1120,"./fy":1123,"./fy.js":1123,"./gd":1124,"./gd.js":1124,"./gl":1125,"./gl.js":1125,"./gom-latn":1126,"./gom-latn.js":1126,"./gu":1127,"./gu.js":1127,"./he":1128,"./he.js":1128,"./hi":1129,"./hi.js":1129,"./hr":1130,"./hr.js":1130,"./hu":1131,"./hu.js":1131,"./hy-am":1132,"./hy-am.js":1132,"./id":1133,"./id.js":1133,"./is":1134,"./is.js":1134,"./it":1135,"./it.js":1135,"./ja":1136,"./ja.js":1136,"./jv":1137,"./jv.js":1137,"./ka":1138,"./ka.js":1138,"./kk":1139,"./kk.js":1139,"./km":1140,"./km.js":1140,"./kn":1141,"./kn.js":1141,"./ko":1142,"./ko.js":1142,"./ky":1143,"./ky.js":1143,"./lb":1144,"./lb.js":1144,"./lo":1145,"./lo.js":1145,"./lt":1146,"./lt.js":1146,"./lv":1147,"./lv.js":1147,"./me":1148,"./me.js":1148,"./mi":1149,"./mi.js":1149,"./mk":1150,"./mk.js":1150,"./ml":1151,"./ml.js":1151,"./mn":1152,"./mn.js":1152,"./mr":1153,"./mr.js":1153,"./ms":1154,"./ms-my":1155,"./ms-my.js":1155,"./ms.js":1154,"./mt":1156,"./mt.js":1156,"./my":1157,"./my.js":1157,"./nb":1158,"./nb.js":1158,"./ne":1159,"./ne.js":1159,"./nl":1160,"./nl-be":1161,"./nl-be.js":1161,"./nl.js":1160,"./nn":1162,"./nn.js":1162,"./pa-in":1163,"./pa-in.js":1163,"./pl":1164,"./pl.js":1164,"./pt":1165,"./pt-br":1166,"./pt-br.js":1166,"./pt.js":1165,"./ro":1167,"./ro.js":1167,"./ru":1168,"./ru.js":1168,"./sd":1169,"./sd.js":1169,"./se":1170,"./se.js":1170,"./si":1171,"./si.js":1171,"./sk":1172,"./sk.js":1172,"./sl":1173,"./sl.js":1173,"./sq":1174,"./sq.js":1174,"./sr":1175,"./sr-cyrl":1176,"./sr-cyrl.js":1176,"./sr.js":1175,"./ss":1177,"./ss.js":1177,"./sv":1178,"./sv.js":1178,"./sw":1179,"./sw.js":1179,"./ta":1180,"./ta.js":1180,"./te":1181,"./te.js":1181,"./tet":1182,"./tet.js":1182,"./tg":1183,"./tg.js":1183,"./th":1184,"./th.js":1184,"./tl-ph":1185,"./tl-ph.js":1185,"./tlh":1186,"./tlh.js":1186,"./tr":1187,"./tr.js":1187,"./tzl":1188,"./tzl.js":1188,"./tzm":1189,"./tzm-latn":1190,"./tzm-latn.js":1190,"./tzm.js":1189,"./ug-cn":1191,"./ug-cn.js":1191,"./uk":1192,"./uk.js":1192,"./ur":1193,"./ur.js":1193,"./uz":1194,"./uz-latn":1195,"./uz-latn.js":1195,"./uz.js":1194,"./vi":1196,"./vi.js":1196,"./x-pseudo":1197,"./x-pseudo.js":1197,"./yo":1198,"./yo.js":1198,"./zh-cn":1199,"./zh-cn.js":1199,"./zh-hk":1200,"./zh-hk.js":1200,"./zh-tw":1201,"./zh-tw.js":1201};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=1443},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(767)),s=d(n(53)),l=d(n(13)),u=d(n(138));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(0,a.default)((function(){return Promise.all([n.e(4),n.e(6),n.e(8)]).then(n.t.bind(n,1704,23))})),g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"state",{knownValue:null,knownLabel:null}),h(f(t),"constructSchoolOption",(function(e){return{value:e.nces_id.toString(),label:"".concat(e.name," - ").concat(e.city,", ").concat(e.state," ").concat(e.zip),school:e}})),h(f(t),"constructSchoolNotFoundOption",(function(){return{value:"-1",label:l.default.schoolNotFound()}})),h(f(t),"debouncedSearch",s.default.debounce((function(e,n){var r="/dashboardapi/v1/schoolsearch/".concat(encodeURIComponent(e),"/40")+(u.default.isEnabled(u.default.SCHOOL_AUTOCOMPLETE_DROPDOWN_NEW_SEARCH)?"/useNewSearch":"");fetch(r,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.ok?e.json():[]})).then((function(e){var n=e.filter(t.props.schoolFilter).map((function(e){return t.constructSchoolOption(e)}));return n.unshift(t.constructSchoolNotFoundOption()),{options:n}})).then((function(e){return n(null,e)})).catch((function(e){return n(e,null)}))}),200)),h(f(t),"getOptions",(function(e){if(0===e.length&&t.props.value){if("-1"===t.props.value)return Promise.resolve({options:[t.constructSchoolNotFoundOption()]});var n="/dashboardapi/v1/schools/".concat(t.props.value);return fetch(n).then((function(e){return e.ok?e.json():[]})).then((function(e){return{options:[t.constructSchoolOption(e)]}}))}return e.length<4?Promise.resolve():new Promise((function(n,r){t.debouncedSearch(e,(function(e,t){e?r(e):n(t)}))}))})),h(f(t),"onChange",(function(e){e&&t.setState({knownValue:e.value,knownLabel:e.label}),t.props.onChange(e)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){var e;return e=this.props.schoolDropdownOption?this.props.schoolDropdownOption:this.props.value===this.state.knownValue?{value:this.props.value,label:this.state.knownLabel}:this.props.value,i.default.createElement(m,{id:"nces_school",name:this.props.fieldName,async:!0,loadOptions:this.getOptions,cache:!1,filterOption:function(){return!0},value:e,onChange:this.onChange,placeholder:l.default.searchForSchool(),searchPromptText:l.default.searchForSchoolPrompt(),disabled:this.props.disabled})},r}(i.Component);t.default=g,h(g,"propTypes",{onChange:o.default.func.isRequired,value:o.default.string,fieldName:o.default.string,schoolDropdownOption:o.default.object,schoolFilter:o.default.func,disabled:o.default.bool}),h(g,"defaultProps",{fieldName:"nces_school_s",schoolFilter:function(){return!0}}),e.exports=t.default},,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Z_INDEX=void 0;var r=l(n(1)),o=l(n(2)),i=l(n(103)),a=n(643),s=n(27);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}t.Z_INDEX=1020;var c,d,f,p={position:"fixed",top:0,left:0,height:"100%",width:"100%",opacity:.4,backgroundColor:"black",zIndex:1020},h={opacity:.8},m=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),o.prototype.render=function(){return this.props.visible?r.default.createElement("div",{id:"overlay",onClick:this.props.hide,style:[p,this.props.isMinecraft&&h]}):null},o}(r.default.Component);c=m,d="propTypes",f={visible:o.default.bool,hide:o.default.func,isMinecraft:o.default.bool},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var g=(0,s.connect)((function(e){return{visible:e.instructions.overlayVisible,isMinecraft:!!e.pageConstants.isMinecraft}}),(function(e){return{hide:function(){e((0,a.hideOverlay)())}}}))((0,i.default)(m));t.default=g},,(e,t)=>{var n="ErrorDialogStack/REPORT_ERROR",r="ErrorDialogStack/DISMISS_ERROR";t.default=function(e,t){switch(e=e||[],t.type){case n:return[{message:t.message,error_type:t.error_type,error_cause:t.error_cause}].concat(e);case r:return e.length>0?e.slice(1):e;default:return e}},t.reportError=function(e,t,r){return{type:n,message:e,error_type:t,error_cause:r}},t.dismissError=function(){return{type:r}}},,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(165)),s=c(n(20)),l=c(n(13));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props.content;return e?i.default.createElement("div",{style:g.container},i.default.createElement("div",{style:g.header},l.default.forTeachersOnly()),i.default.createElement("div",{style:g.content},i.default.createElement(a.default,{markdown:e}))):null},r}(i.Component);t.default=m,f=m,p="propTypes",h={content:o.default.string},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g={container:{margin:20,borderWidth:5,borderStyle:"solid",borderColor:s.default.cyan,backgroundColor:s.default.lightest_cyan,borderRadius:5},header:{color:s.default.white,backgroundColor:s.default.cyan,padding:5,fontSize:18,fontFamily:'"Gotham 7r", sans-serif'},content:{padding:10}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=n(27),a=l(n(143)),s=n(622);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){var e=this;return o.default.createElement(a.default,{handleClose:function(){return e.props.closeDialog()},isOpen:this.props.isOpen,useUpdatedStyles:!0},o.default.createElement("img",{src:this.props.imgUrl}))},r}(o.default.Component);c=p,d="propTypes",f={closeDialog:r.default.func.isRequired,imgUrl:r.default.string,isOpen:r.default.bool.isRequired},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var h=(0,i.connect)((function(e){return{isOpen:e.instructionsDialog.open,imgUrl:e.instructionsDialog.imgUrl}}),{closeDialog:s.closeDialog})(p);t.default=h,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(n(1)),o=a(n(2)),i=a(n(634));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.example,n=e.programmingEnvironmentName,o=r.default.createElement(r.default.Fragment,null,t.name&&r.default.createElement("h3",null,t.name),t.description&&r.default.createElement(i.default,{markdown:t.description}),t.code&&r.default.createElement(i.default,{markdown:t.code}));if(t.app){if("codeFromCodeField"===t.app_display_type){var a=t.app.endsWith("embed")?t.app:t.app+"/embed";return r.default.createElement("div",{style:d.example},r.default.createElement("div",{style:{flexGrow:1}},o),r.default.createElement("div",{style:p[n]},r.default.createElement("iframe",{src:a,style:l(l({},d.embeddedApp),f[n])}),t.image&&r.default.createElement("img",{src:t.image})))}var s=t.app.endsWith("embed_app_and_code")?t.app:t.app+"/embed_app_and_code";return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("div",null,o,r.default.createElement("iframe",{src:s,style:{width:"100%",height:Number(t.embed_app_with_code_height)||310}})),t.image&&r.default.createElement("img",{src:t.image}))}return r.default.createElement("div",null,o,t.image&&r.default.createElement("img",{src:t.image}))}c.propTypes={example:o.default.object,programmingEnvironmentName:o.default.string};var d={example:{display:"flex",gap:20},embeddedApp:{border:0,transformOrigin:"0 0"}},f={applab:{width:375,height:620,transform:"scale(0.7)"},gamelab:{width:450,height:781,transform:"scale(0.5)"}},p={applab:{width:"280px",height:"450px",paddingTop:"10px"},gamelab:{width:"240px",height:"400px",paddingTop:"20px"}};e.exports=t.default},,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(143)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(2)),s=c(n(20)),l=n(990);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){var e=this.props,t=e.className,n=e.isOpen,r=e.handleClose,a=e.handleConfirm,s=e.displayTheme,u=e.message,c=e.confirmButtonText,d=e.closeButtonText,p=e.showSpinner,h=e.disableButtons;return i.default.createElement(o.default,{bodyClassName:t,isOpen:n,handleClose:r,style:f(f({},g.dialog),s===l.DisplayTheme.DARK&&g.darkDialog),useUpdatedStyles:!0,hideCloseButton:!0},i.default.createElement("div",{style:s===l.DisplayTheme.DARK?g.darkDialog:{}},i.default.createElement("div",{style:g.message},u),i.default.createElement("div",{style:g.buttons},p&&i.default.createElement("i",{className:"fa fa-spin fa-spinner",style:g.spinner}),d&&i.default.createElement("button",{type:"button",style:f(f({},g.button),s===l.DisplayTheme.DARK?g.darkButton:g.lightCancel),onClick:r,disabled:h},d),c&&i.default.createElement("button",{type:"button",style:f(f({},g.button),s===l.DisplayTheme.DARK?g.darkButton:g.lightConfirm),onClick:a,disabled:h},c))))},r}(i.Component);t.default=m,h(m,"propTypes",{className:a.default.string,isOpen:a.default.bool.isRequired,displayTheme:a.default.oneOf(Object.values(l.DisplayTheme)).isRequired,handleConfirm:a.default.func,handleClose:a.default.func,message:a.default.any,confirmButtonText:a.default.string,closeButtonText:a.default.string,showSpinner:a.default.bool,disableButtons:a.default.bool});var g={dialog:{textAlign:"left",padding:20,color:s.default.black,width:500},darkDialog:{backgroundColor:s.default.dark_slate_gray,color:s.default.white},buttons:{display:"flex",justifyContent:"flex-end",paddingBottom:"10px"},button:{textAlign:"center",padding:"5px 16px 5px 16px",fontSize:14},darkButton:{backgroundColor:s.default.darkest_gray,color:"white"},lightConfirm:{backgroundColor:s.default.orange,color:s.default.white},lightCancel:{backgroundColor:s.default.lightest_gray,color:s.default.black},message:{whiteSpace:"normal",lineHeight:"18px",padding:12},spinner:{textAlign:"center",fontSize:16,padding:"10px"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(2)),i=s(n(103)),a=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=s(n(452)).default["resize-bar-width"],f=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{dragging:!1,dragStart:0,dragExtraHeight:0}),c(l(t),"showResizeCursor",(function(e){var n=e?t.props.vertical?"ew-resize":"ns-resize":"default";document.body.style.cursor=n})),c(l(t),"onMouseDown",(function(e){if(!e.button||0===e.button){e.stopPropagation(),e.cancelable&&e.preventDefault();var n=e.pageX||e.touches&&e.touches[0].pageX,r=e.pageY||e.touches&&e.touches[0].pageY,o=t.props.resizeItemTop()+t.props.position-(t.props.vertical?n:r);t.setState({dragging:!0,dragStart:t.props.vertical?n:r,dragExtraHeight:o}),t.showResizeCursor(!0)}})),c(l(t),"onMouseUp",(function(e){e.stopPropagation(),e.cancelable&&e.preventDefault(),t.setState({dragging:!1}),t.showResizeCursor(!1)})),c(l(t),"onMouseMove",(function(e){if(e.stopPropagation(),e.cancelable&&e.preventDefault(),t.state.dragging){var n=void 0!==e.pageX?e.pageX:e.touches&&e.touches[0].pageX,r=void 0!==e.pageY?e.pageY:e.touches&&e.touches[0].pageY,o=(t.props.vertical?n:r)-t.props.resizeItemTop()+t.state.dragExtraHeight;t.props.onResize(o)}})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var i=o.prototype;return i.componentDidMount=function(){this.resizerRef.addEventListener("mousedown",this.onMouseDown),this.resizerRef.addEventListener("mouseup",this.onMouseUp),this.resizerRef.addEventListener("mousemove",this.onMouseMove),this.resizerRef.addEventListener("touchstart",this.onMouseDown),this.resizerRef.addEventListener("touchend",this.onMouseUp),this.resizerRef.addEventListener("touchmove",this.onMouseMove)},i.componentWillUnmount=function(){this.resizerRef.removeEventListener("mousedown",this.onMouseDown),this.resizerRef.removeEventListener("mouseup",this.onMouseUp),this.resizerRef.removeEventListener("mousemove",this.onMouseMove),this.resizerRef.removeEventListener("touchstart",this.onMouseDown),this.resizerRef.removeEventListener("touchend",this.onMouseUp),this.resizerRef.removeEventListener("touchmove",this.onMouseMove)},i.componentDidUpdate=function(e,t){!t.dragging&&this.state.dragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):t.dragging&&!this.state.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},i.render=function(){var e,t,n,o=this;return this.props.vertical?(e=[p.mainVertical,{left:this.props.position-d},this.props.style],t=p.ellipsisVertical,n="fa fa-ellipsis-v"):(e=[p.main,{top:this.props.position-d},this.props.style],t=p.ellipsis,n="fa fa-ellipsis-h"),r.default.createElement("div",{id:"ui-test-resizer",style:e,ref:function(e){return o.resizerRef=e}},r.default.createElement("div",{style:t,className:n}))},o}(r.default.Component);c(f,"propTypes",{resizeItemTop:o.default.func.isRequired,position:o.default.number.isRequired,onResize:o.default.func.isRequired,style:o.default.object,vertical:o.default.bool});var p={main:{position:"absolute",height:d,left:0,right:0,cursor:"ns-resize"},mainVertical:{position:"absolute",width:d,top:0,bottom:0,cursor:"ew-resize"},ellipsis:{width:"100%",color:a.default.lighter_gray,fontSize:24,textAlign:"center",whiteSpace:"nowrap",lineHeight:d+"px",paddingTop:1},ellipsisVertical:{width:"100%",color:a.default.lighter_gray,fontSize:24,textAlign:"center",whiteSpace:"nowrap",lineHeight:d+"px",top:"50%",position:"absolute",transform:"translateY(-50%)"}},h=(0,i.default)(f);t.default=h,e.exports=t.default},(e,t,n)=>{"use strict";t.ZP=t.Ix=t.cn=t.d0=t.Wj=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(1)),i=s(n(36)),a=n(734);n(826);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";var u="exited";t.Wj=u;var c="entering";t.d0=c;var d="entered";t.cn=d;var f="exiting";t.Ix=f;var p=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var o,i=n.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=u,r.appearStatus=c):o=d:o=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:o},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==d&&(t=c):n!==c&&n!==d||(t=f)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:c},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},r}(o.default.Component);function h(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var m=(0,a.polyfill)(p);t.ZP=m},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STANDARD_PADDING=t.MenuBubble=t.MenuBreak=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=c(n(2)),a=c(n(103)),s=n(811),l=c(n(13)),u=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=u.default.white,v=u.default.light_gray,b=20;t.STANDARD_PADDING=b;var _={position:"absolute",zIndex:20,border:"1px solid ".concat(v),backgroundColor:y,borderRadius:2,boxShadow:"3px 3px 3px gray",textAlign:"left",maxWidth:300},w={position:"absolute",bottom:"100%",left:b,marginLeft:-7,borderTopWidth:0,borderBottomWidth:12,borderLeftWidth:7,borderRightWidth:7,borderStyle:"solid",borderColor:"transparent transparent ".concat(v," transparent")},E=m(m({},w),{},{bottom:"calc(100% - 2px)",borderColor:"transparent transparent ".concat(y," transparent")}),O=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this;return this.props.isOpen&&o.default.createElement(s.PortalWithState,{closeOnOutsideClick:!0,closeOnEsc:!0,onClose:this.props.onClose,defaultOpen:this.props.isOpen},(function(t){t.openPortal,t.closePortal,t.isOpen;var n=t.portal;return o.default.createElement("div",null,n(o.default.createElement(T,{targetPoint:e.props.targetPoint,offset:e.props.offset,className:e.props.className,showTail:e.props.showTail,style:e.props.style},e.props.children)))}))},t}(o.Component);t.default=O,g(O,"propTypes",{targetPoint:i.default.shape({top:i.default.number.isRequired,left:i.default.number.isRequired}).isRequired,offset:i.default.shape({x:i.default.number.isRequired,y:i.default.number.isRequired}),children:i.default.any,className:i.default.string,isOpen:i.default.bool,onClose:i.default.func,showTail:i.default.bool,style:i.default.object});var S=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.renderMenuItems=function(){var e=this.props.children;Array.isArray(e)&&(e=e.filter((function(e){return e})));var t=o.Children.count(e);return 0===t?o.default.createElement("div",null,o.default.createElement("em",null,l.default.noMenuItemsAvailable())):o.default.createElement("div",null,o.Children.map(e,(function(e,n){return e?o.default.cloneElement(e,{first:0===n,last:n===t-1}):e})))},n.render=function(){var e=this.props,t=e.targetPoint,n=e.className,r=this.props.offset?this.props.offset.y:12,i=this.props.offset?this.props.offset.x:-20,a=m(m(m(m({},_),this.props.style),t),{},{marginTop:r,marginLeft:i});return o.default.createElement("div",{style:a,className:n},this.renderMenuItems(),this.props.showTail&&o.default.createElement("span",{style:w}),this.props.showTail&&o.default.createElement("span",{style:E}))},t}(o.Component);g(S,"propTypes",{targetPoint:i.default.shape({top:i.default.number.isRequired,left:i.default.number.isRequired}).isRequired,offset:i.default.shape({x:i.default.number.isRequired,y:i.default.number.isRequired}),children:i.default.any,className:i.default.string,showTail:i.default.bool,style:i.default.object});var T=(0,a.default)(S);t.MenuBubble=T;var C=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e={borderTop:"1px solid "+u.default.lighter_gray,marginTop:10,marginBottom:10,marginLeft:b,marginRight:b};return o.default.createElement("div",{style:e})},t}(o.Component);t.MenuBreak=C;var k=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.first,n=e.last,r=e.onClick,i=e.children,a=e.href,s=e.openInNewTab,l=e.className,c=e.style,d="pop-up-menu-item",f=l?"".concat(d," ").concat(l):d;if(!a&&!r)throw new Error("Expect at least one of href/onClick");var p=m(m({},{marginTop:t?15:void 0,marginBottom:n?15:void 0,paddingTop:5,paddingBottom:5,paddingLeft:b,paddingRight:b,cursor:"pointer",":hover":{backgroundColor:u.default.lightest_gray}}),c),h={color:this.props.color?this.props.color:u.default.dark_charcoal,textDecoration:"none",fontFamily:"'Gotham 4r', sans-serif"},g=s?"_blank":"";return o.default.createElement("div",{style:p},this.props.href&&o.default.createElement("a",{className:f,href:a,style:m(m({},h),{display:"block"}),target:g},i),!this.props.href&&o.default.createElement("div",{className:f,style:h,onClick:r},i))},t}(o.Component);g(k,"propTypes",{children:i.default.node.isRequired,onClick:i.default.func,href:i.default.string,first:i.default.bool,last:i.default.bool,color:i.default.string,openInNewTab:i.default.bool,className:i.default.string,style:i.default.object}),O.Item=(0,a.default)(k)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZipCode=t.isPercent=t.isInt=t.isEmail=void 0;var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;t.isEmail=function(e){return n.test(e)};var r=/^\d{5}([\W-]?\d{4})?$/;t.isZipCode=function(e){return r.test(e)};t.isInt=function(e){var t=e.replace(/,/g,"");return parseInt(t,10).toString()===t};t.isPercent=function(e){var t=parseFloat(e);return 0<=t&&t<=100}},,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedTopInstructions=t.TabType=void 0;var o=U(n(32)),i=F(n(1)),a=U(n(36)),s=U(n(2)),l=U(n(103)),u=U(n(9)),c=n(27),d=U(n(53)),f=U(n(1456)),p=U(n(1503)),h=U(n(1507)),m=U(n(1508)),g=U(n(1509)),y=U(n(1773)),v=U(n(1496)),b=n(643),_=U(n(20)),w=U(n(452)),E=U(n(755)),O=U(n(854)),S=U(n(1576)),T=U(n(1479)),C=n(420),k=U(n(169)),A=U(n(1522)),P=U(n(131)),x=n(594),I=F(n(1792)),R=U(n(1532)),D=n(1450),j=U(n(74)),N=U(n(13)),L=U(n(1795)),M=n(388);function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function U(e){return e&&e.__esModule?e:{default:e}}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=w.default["workspace-headers-height"],K=w.default["resize-bar-width"],Y=K+60,X={INSTRUCTIONS:"instructions",RESOURCES:"resources",COMMENTS:"comments",DOCUMENTATION:"documentation",REVIEW:"review",TEACHER_ONLY:"teacher-only"};t.TabType=X;var J={instructionsBody:{backgroundColor:"#646464"},headerBar:{color:_.default.white,backgroundColor:"#3b3b3b"}},Z=function(e){var t,n;function r(t){var n;G(z(n=e.call(this,t)||this),"forceTabResizeToMaxHeight",(function(){n.state.tabSelected===X.COMMENTS&&n.props.setInstructionsRenderedHeight(n.adjustMaxNeededHeight())})),G(z(n),"getItemTop",(function(){return n.topInstructions.getBoundingClientRect().top})),G(z(n),"handleHeightResize",(function(e){var t=Math.max(Y,e);t=Math.min(t,n.props.maxHeight),n.props.setInstructionsRenderedHeight(t)})),G(z(n),"refForSelectedTab",(function(){var e;return(G(e={},X.INSTRUCTIONS,n.instructions),G(e,X.RESOURCES,n.helpTab),G(e,X.COMMENTS,n.commentTab),G(e,X.DOCUMENTATION,n.documentationTab),G(e,X.REVIEW,n.reviewTab),G(e,X.TEACHER_ONLY,n.teacherOnlyTab),e)[n.state.tabSelected]})),G(z(n),"adjustMaxNeededHeight",(function(){var e=n.props,t=e.hidden,r=e.shortInstructions,i=e.longInstructions,s=e.hasContainedLevels,l=e.maxNeededHeight,u=e.setInstructionsMaxHeightNeeded;if(t||!(0,x.hasInstructions)(r,i,s))return 0;var c=n.refForSelectedTab();if(c){var d=(0,o.default)(a.default.findDOMNode(c)).outerHeight(!0)+$+K;return l!==d&&u(d),d}return 0})),G(z(n),"handleClickCollapser",(function(){var e=n.props,t=e.toggleInstructionsCollapsed,r=e.isCollapsed,o=e.noInstructionsWhenCollapsed,i=e.expandedHeight;t();var a=r?"expand-instructions":"collapse-instructions";n.recordEvent(a,{data_json:JSON.stringify({csfStyleInstructions:!o})});var s=!r&&o?$:i;n.props.setInstructionsRenderedHeight(s)})),G(z(n),"handleDocumentationClick",(function(){window.open(n.props.documentationUrl,"_blank","noopener,noreferrer").focus()})),G(z(n),"handleTabClick",(function(e){n.scrollToTopOfTab(),n.setState({tabSelected:e},(function(){n.scrollToTopOfTab(),n.adjustMaxNeededHeight()}))})),G(z(n),"handleHelpTabClick",(function(){n.handleTabClick(X.RESOURCES),n.recordEvent("click-help-and-tips-tab")})),G(z(n),"handleCommentTabClick",(function(){n.scrollToTopOfTab(),n.state.tabSelected!==X.COMMENTS&&n.incrementFeedbackVisitCount(),n.recordEvent("click-feedback-tab"),n.setState({tabSelected:X.COMMENTS},(function(){n.forceTabResizeToMaxHeight(),n.scrollToTopOfTab()}))})),G(z(n),"handleTeacherOnlyTabClick",(function(){n.handleTabClick(X.TEACHER_ONLY),n.recordEvent("click-teacher-only-tab")})),G(z(n),"scrollToTopOfTab",(function(){document.getElementById("scroll-container").scrollTop=0})),G(z(n),"incrementFeedbackVisitCount",d.default.debounce((function(){var e=n.state.latestFeedback;!n.state.teacherViewingStudentWork&&e&&I.incrementVisitCount(e.id,n.state.token)}),5e3,{leading:!0}));var r=k.default.parse(window.location.search).user_id;n.isViewingAsStudent=n.props.viewAs===C.ViewType.Participant,n.isViewingAsTeacher=n.props.viewAs===C.ViewType.Instructor;var i=!!(0,M.queryParams)("user_id"),s=n.isViewingAsTeacher&&n.props.readOnlyWorkspace&&i;return n.state={tabSelected:n.props.initialSelectedTab||(s&&n.props.noInstructionsWhenCollapsed?X.COMMENTS:X.INSTRUCTIONS),latestFeedback:null,rubric:null,studentId:r,teacherViewingStudentWork:s,fetchingData:!0,token:null},n.instructions=null,n.helpTab=null,n.commentTab=null,n.documentationTab=null,n.reviewTab=null,n.teacherOnlyTab=null,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,V(t,n);var s=r.prototype;return s.componentDidMount=function(){var e=this,t=this.props,n=t.user,r=t.serverLevelId,o=t.serverScriptId,i=t.dynamicInstructions,a=this.state.studentId;if(window.addEventListener("resize",this.adjustMaxNeededHeight),!i){var s=this.adjustMaxNeededHeight(),l=Math.round(.22*window.innerHeight);this.props.setInstructionsRenderedHeight(Math.min(s,l))}var u=[];this.isViewingAsStudent&&n&&r&&o&&u.push(I.getTeacherFeedbackForStudent(n,r,o).done((function(t,n,r){t[0]&&(t[0].comment||t[0].performance||t[0].review_state)&&(e.setState({latestFeedback:t[0],tabSelected:X.COMMENTS,token:r.getResponseHeader("csrf-token")}),e.incrementFeedbackVisitCount())}))),r&&u.push(I.getRubric(r).done((function(t){e.setState({rubric:t})}))),this.state.teacherViewingStudentWork&&n&&r&&a&&o&&u.push(I.getTeacherFeedbackForTeacher(a,r,n,o).done((function(t,n,r){e.setState({latestFeedback:204===r.status?null:t,token:r.getResponseHeader("csrf-token")})}))),Promise.all(u).then((function(){e.setState({fetchingData:!1},e.forceTabResizeToMaxHeight)})).catch((function(e){e.responseText?console.log("Promise Rejection while getting instructions: "+e.responseText):console.log(e)}))},s.componentWillUnmount=function(){window.removeEventListener("resize",this.adjustMaxNeededHeight)},s.UNSAFE_componentWillReceiveProps=function(e){!e.isCollapsed&&e.height<Y&&e.height<e.maxHeight&&!e.hidden&&(0,x.hasInstructions)(e.shortInstructions,e.longInstructions,e.hasContainedLevels)&&this.props.setInstructionsRenderedHeight(Math.min(e.maxHeight,Y))},s.recordEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=q({study:"top-instructions",event:e},t);P.default.putRecord(n)},s.setInstructionsRef=function(e){this.instructions=e},s.renderInstructions=function(e){var t=this,n=this.props,r=n.longInstructions,o=n.dynamicInstructions,a=n.dynamicInstructionsKey,s=n.hasContainedLevels,l=n.isEmbedView,u=n.isBlockly,c=n.noInstructionsWhenCollapsed,d=this.state,f=d.teacherViewingStudentWork,p=d.tabSelected;return s?i.default.createElement("div",null,i.default.createElement(h.default,{ref:function(e){return t.setInstructionsRef(e)},hidden:p!==X.INSTRUCTIONS}),!this.props.inLessonPlan&&p===X.INSTRUCTIONS&&i.default.createElement(L.default,{teacherViewingStudentWork:this.state.teacherViewingStudentWork})):e&&p===X.INSTRUCTIONS?i.default.createElement(A.default,{setInstructionsRef:function(e){return t.setInstructionsRef(e)},handleClickCollapser:this.handleClickCollapser,adjustMaxNeededHeight:this.adjustMaxNeededHeight,isEmbedView:l,teacherViewingStudentWork:f}):p===X.INSTRUCTIONS?o?i.default.createElement(S.default,{ref:function(e){return t.setInstructionsRef(e)},dynamicInstructions:o,dynamicInstructionsKey:a,setInstructionsRenderedHeight:function(e){t.props.setInstructionsRenderedHeight(e)}}):i.default.createElement(O.default,{ref:function(e){return t.setInstructionsRef(e)},instructions:r,onResize:this.adjustMaxNeededHeight,inTopPane:!0,isBlockly:u,noInstructionsWhenCollapsed:c}):void 0},s.render=function(){var e=this,t=this.props,n=t.hidden,r=t.shortInstructions,o=t.longInstructions,a=t.dynamicInstructions,s=t.dynamicInstructionsKey,l=t.overlayVisible,c=t.hasContainedLevels,d=t.exampleSolutions,h=t.isViewingAsInstructorInTraining,b=t.noInstructionsWhenCollapsed,_=t.noVisualization,w=t.isRtl,O=t.height,S=t.isEmbedView,C=t.levelVideos,k=t.mapReference,A=t.referenceLinks,P=t.isMinecraft,I=t.teacherMarkdown,D=t.isCollapsed,L=t.hasBackgroundMusic,M=t.user,B=t.mainStyle,F=t.containerStyle,U=t.resizable,W=t.documentationUrl,q=t.ttsLongInstructionsUrl,z=t.standalone,V=t.displayDocumentationTab,G=t.displayReviewTab,$=t.explicitHeight,Y=this.state,Z=Y.latestFeedback,ee=Y.teacherViewingStudentWork,te=Y.rubric,ne=Y.tabSelected,re=Y.fetchingData,oe=Y.token,ie=!b,ae=!ie,se=[w?Q.mainRtl:Q.main,B,{height:$||O-K},_&&Q.noViz,S&&Q.embedView,a&&l&&Q.dynamicInstructionsWithOverlay],le=[ie&&!c&&ne===X.INSTRUCTIONS?Q.csfBody:F||Q.body,P&&J.instructionsBody,ne===X.REVIEW&&Q.commitAndReview],ue=k||A&&A.length>0,ce=C&&C.length>0||ue,de=!!te||ee||this.isViewingAsStudent&&!!Z,fe=ne===X.TEACHER_ONLY||ne===X.COMMENTS&&ee;if(n||!(0,x.hasInstructions)(r,o,c))return i.default.createElement("div",null);var pe={isMinecraft:P,ttsLongInstructionsUrl:q,hasContainedLevels:c,exampleSolutions:d,isViewingAsInstructorInTraining:h,isRtl:w,documentationUrl:W,teacherMarkdown:I,isEmbedView:S,isCollapsed:D,hasBackgroundMusic:L,dynamicInstructions:a,dynamicInstructionsKey:s};return i.default.createElement("div",{style:se,className:(0,u.default)({"editor-column":!z}),ref:function(t){return e.topInstructions=t}},i.default.createElement(R.default,H({teacherOnly:fe,tabSelected:ne,isCSDorCSP:ae,displayHelpTab:ce,displayFeedback:de,levelHasRubric:!!te,displayDocumentationTab:V,displayReviewTab:G,isViewingAsTeacher:this.isViewingAsTeacher,hasBackgroundMusic:L,fetchingData:re,handleDocumentationClick:this.handleDocumentationClick,handleInstructionTabClick:function(){return e.handleTabClick(X.INSTRUCTIONS)},handleHelpTabClick:this.handleHelpTabClick,handleCommentTabClick:this.handleCommentTabClick,handleDocumentationTabClick:function(){return e.handleTabClick(X.DOCUMENTATION)},handleReviewTabClick:function(){return e.handleTabClick(X.REVIEW)},handleTeacherOnlyTabClick:this.handleTeacherOnlyTabClick,collapsible:this.props.collapsible,handleClickCollapser:this.handleClickCollapser},pe)),i.default.createElement("div",{style:[D&&ae&&E.default.hidden]},i.default.createElement("div",{style:le,id:"scroll-container"},this.renderInstructions(ie),ne===X.RESOURCES&&i.default.createElement(g.default,{ref:function(t){return e.helpTab=t},videoData:C?C[0]:[],mapReference:k,referenceLinks:A,openReferenceLinksInNewTab:this.props.openReferenceLinksInNewTab}),!re&&i.default.createElement(p.default,{teacherViewingStudentWork:ee,visible:ne===X.COMMENTS,rubric:te,innerRef:function(t){return e.commentTab=t},latestFeedback:Z,token:oe,serverScriptId:this.props.serverScriptId,serverLevelId:this.props.serverLevelId,teacher:M}),ne===X.DOCUMENTATION&&i.default.createElement(y.default,{ref:function(t){return e.documentationTab=t}}),ne===X.REVIEW&&i.default.createElement(v.default,{ref:function(t){return e.reviewTab=t},onLoadComplete:this.forceTabResizeToMaxOrAvailableHeight}),ne===X.TEACHER_ONLY&&d.length>0&&i.default.createElement("div",{style:Q.exampleSolutions},d.map((function(t,n){return i.default.createElement(j.default,{__useDeprecatedTag:!0,key:n,text:N.default.exampleSolution({number:n+1}),color:j.default.ButtonColor.blue,href:t,target:"_blank",rel:"noopener noreferrer",ref:function(t){return e.teacherOnlyTab=t},style:Q.exampleSolutionButton})}))),(this.isViewingAsTeacher||h)&&(c||I)&&i.default.createElement("div",null,c&&i.default.createElement(m.default,{ref:function(t){return e.teacherOnlyTab=t},hidden:ne!==X.TEACHER_ONLY}),ne===X.TEACHER_ONLY&&i.default.createElement(f.default,{ref:function(t){return e.teacherOnlyTab=t},content:I}))),!S&&U&&!a&&i.default.createElement(T.default,{resizeItemTop:this.getItemTop,position:O,onResize:this.handleHeightResize})))},r}(i.Component);G(Z,"propTypes",{isEmbedView:s.default.bool.isRequired,hasContainedLevels:s.default.bool,exampleSolutions:s.default.array,isViewingAsInstructorInTraining:s.default.bool,height:s.default.number.isRequired,expandedHeight:s.default.number,maxNeededHeight:s.default.number,maxHeight:s.default.number.isRequired,longInstructions:s.default.string,dynamicInstructions:s.default.object,dynamicInstructionsKey:s.default.string,overlayVisible:s.default.bool,ttsLongInstructionsUrl:s.default.string,isCollapsed:s.default.bool.isRequired,noVisualization:s.default.bool.isRequired,toggleInstructionsCollapsed:s.default.func,setInstructionsRenderedHeight:s.default.func.isRequired,setInstructionsMaxHeightNeeded:s.default.func.isRequired,documentationUrl:s.default.string,levelVideos:s.default.array,mapReference:s.default.string,referenceLinks:s.default.array,openReferenceLinksInNewTab:s.default.bool,viewAs:s.default.oneOf(Object.keys(C.ViewType)),readOnlyWorkspace:s.default.bool,serverLevelId:s.default.number,serverScriptId:s.default.number,user:s.default.number,noInstructionsWhenCollapsed:s.default.bool.isRequired,teacherMarkdown:s.default.string,hidden:s.default.bool.isRequired,shortInstructions:s.default.string,isMinecraft:s.default.bool.isRequired,isBlockly:s.default.bool.isRequired,isRtl:s.default.bool.isRequired,hasBackgroundMusic:s.default.bool.isRequired,mainStyle:s.default.object,containerStyle:s.default.object,resizable:s.default.bool,setAllowInstructionsResize:s.default.func,collapsible:s.default.bool,displayDocumentationTab:s.default.bool,displayReviewTab:s.default.bool,initialSelectedTab:s.default.oneOf(Object.values(X)),standalone:s.default.bool,explicitHeight:s.default.number,inLessonPlan:s.default.bool}),G(Z,"defaultProps",{resizable:!0,collapsible:!0,inLessonPlan:!1});var Q={main:{position:"absolute",marginLeft:15,top:0,right:0},mainRtl:{position:"absolute",marginRight:15,top:0,left:0},noViz:{left:0,right:0,marginRight:0,marginLeft:0},body:{backgroundColor:"white",paddingLeft:10,paddingRight:10,position:"absolute",top:$,bottom:0,left:0,right:0,overflowY:"scroll"},csfBody:{backgroundColor:"#ddd",position:"absolute",top:$,bottom:0,left:0,right:0,overflow:"hidden"},commitAndReview:{backgroundColor:_.default.background_gray,position:"absolute",top:$,bottom:0,left:0,right:0,overflowY:"auto"},embedView:{height:void 0,bottom:0},title:{textAlign:"center",height:$,lineHeight:$+"px"},dynamicInstructionsWithOverlay:{zIndex:D.Z_INDEX+1},exampleSolutions:{marginTop:10},exampleSolutionButton:{marginLeft:20}},ee=(0,l.default)(Z);t.UnconnectedTopInstructions=ee;var te=(0,c.connect)((function(e){return{isEmbedView:e.pageConstants.isEmbedView,hasContainedLevels:e.pageConstants.hasContainedLevels,isMinecraft:!!e.pageConstants.isMinecraft,isBlockly:!!e.pageConstants.isBlockly,height:e.instructions.renderedHeight,expandedHeight:e.instructions.expandedHeight,maxNeededHeight:e.instructions.maxNeededHeight,maxHeight:Math.min(e.instructions.maxAvailableHeight,e.instructions.maxNeededHeight),longInstructions:e.instructions.longInstructions,ttsLongInstructionsUrl:e.pageConstants.ttsLongInstructionsUrl,noVisualization:e.pageConstants.noVisualization,isCollapsed:e.instructions.isCollapsed,documentationUrl:e.pageConstants.documentationUrl,levelVideos:e.instructions.levelVideos,mapReference:e.instructions.mapReference,referenceLinks:e.instructions.referenceLinks,viewAs:e.viewAs,readOnlyWorkspace:e.pageConstants.isReadOnlyWorkspace,serverLevelId:e.pageConstants.serverLevelId,serverScriptId:e.pageConstants.serverScriptId,user:e.pageConstants.userId,noInstructionsWhenCollapsed:e.instructions.noInstructionsWhenCollapsed,teacherMarkdown:e.instructions.teacherMarkdown,hidden:e.pageConstants.isShareView,shortInstructions:e.instructions.shortInstructions,isRtl:e.isRtl,hasBackgroundMusic:!!e.pageConstants.hasBackgroundMusic,dynamicInstructions:(0,b.getDynamicInstructions)(e.instructions),dynamicInstructionsKey:e.instructions.dynamicInstructionsKey,overlayVisible:e.instructions.overlayVisible,exampleSolutions:e.pageConstants&&e.pageConstants.exampleSolutions||[],isViewingAsInstructorInTraining:e.pageConstants&&e.pageConstants.isViewingAsInstructorInTraining||!1}}),(function(e){return{toggleInstructionsCollapsed:function(){e((0,b.toggleInstructionsCollapsed)())},setInstructionsRenderedHeight:function(t){e((0,b.setInstructionsRenderedHeight)(t))},setInstructionsMaxHeightNeeded:function(t){e((0,b.setInstructionsMaxHeightNeeded)(t))},setAllowInstructionsResize:function(t){e((0,b.setAllowInstructionsResize)(t))}}}),null,{withRef:!0})((0,l.default)(Z));t.default=te},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DropdownButton=void 0;var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(2)),s=d(n(74)),l=d(n(1263)),u=d(n(9)),c=d(n(1774));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(o=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v(g(t=e.call.apply(e,[this].concat(r))||this),"state",{dropdownOpen:!1}),v(g(t),"expandDropdown",(function(){t.setState({dropdownOpen:!0})})),v(g(t),"collapseDropdown",(function(){t.setState({dropdownOpen:!1})})),v(g(t),"handleClickOutside",(function(){t.state.dropdownOpen&&t.collapseDropdown()})),v(g(t),"toggleDropdown",(function(){t.state.dropdownOpen?t.collapseDropdown():(t.expandDropdown(),t.props.onClick&&t.props.onClick())})),v(g(t),"onClickChild",(function(e,n){"no-navigation"!==n.className&&t.collapseDropdown(),n.onClick&&n.onClick(e)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),r.prototype.render=function(){var e=this,t=this.props,n=t.text,r=t.color,o=t.size,a=this.state.dropdownOpen;return i.default.createElement("div",{className:c.default.main},i.default.createElement(s.default,{__useDeprecatedTag:!0,text:n,size:o,onClick:this.toggleDropdown,icon:a?"caret-up":"caret-down",iconClassName:c.default.icon,color:r,className:this.props.className},this.props.customText&&i.default.createElement("div",{className:c.default.main},this.props.customText)),a&&i.default.createElement("div",{className:c.default.dropdown,ref:function(t){return e.dropdownList=t}},this.props.children.map((function(t,n){return i.default.createElement("a",p({},t.props,{onClick:function(n){return e.onClickChild(n,t.props)},key:n,className:(0,u.default)(t.props.className,c.default.anchor,n>0&&c.default.nonFirstAnchor),style:m({},t.props.style)}))}))))},r}(i.Component),v(o,"propTypes",{text:a.default.string,customText:a.default.node,color:a.default.oneOf(Object.values(s.default.ButtonColor)).isRequired,size:a.default.string,onClick:a.default.func,className:a.default.string,children:function(e){i.default.Children.map(e.children,(function(e){if("a"!==e.type)throw new Error("only accepts children of type <a/>");if(!e.props.href&&!e.props.onClick)throw new Error("each child must have an href or onclick")}))}}),o);t.DropdownButton=b;var _=(0,l.default)(b);t.default=_},,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i={courses:o.default.arrayOf(o.default.shape({title:o.default.string.isRequired,description:o.default.string.isRequired,link:o.default.string.isRequired})),topCourse:o.default.shape({assignableName:o.default.string.isRequired,linkToOverview:o.default.string.isRequired,linkToLesson:o.default.string.isRequired,lessonName:o.default.string.isRequired}),sections:o.default.arrayOf(o.default.shape({name:o.default.string.isRequired,teacherName:o.default.string.isRequired,linkToProgress:o.default.string.isRequired,assignedTitle:o.default.string.isRequired,linkToAssigned:o.default.string.isRequired,numberOfStudents:o.default.number.isRequired,linkToStudents:o.default.string.isRequired,login_type:o.default.string,code:o.default.string.isRequired})),teacherAnnouncement:o.default.shape({heading:o.default.string.isRequired,buttonText:o.default.string.isRequired,description:o.default.string.isRequired,link:o.default.string.isRequired,image:o.default.string.isRequired,type:o.default.string,id:o.default.string.isRequired}),specialAnnouncement:o.default.shape({id:o.default.string,image:o.default.string.isRequired,title:o.default.string.isRequired,body:o.default.string.isRequired,buttonId:o.default.string,buttonUrl:o.default.string.isRequired,buttonText:o.default.string.isRequired,buttonId2:o.default.string,buttonUrl2:o.default.string,buttonText2:o.default.string,backgroundColor:o.default.string})};t.default=i,e.exports=t.default},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VIEWING_CODE_REVIEW_URL_PARAM=t.UnconnectedCommitsAndReviewTab=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=v(n(2)),a=n(27),s=v(n(20)),l=v(n(596)),u=v(n(427)),c=n(420),d=v(n(1571)),f=v(n(1515)),p=v(n(1516)),h=v(n(74)),m=n(1264),g=v(n(450)),y=v(n(1290));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){S=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d={};function f(){}function p(){}function h(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,i)&&(m=y);var v=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(i,a,s,l){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,l(v,"constructor",h),l(h,"constructor",p),p.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function T(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.VIEWING_CODE_REVIEW_URL_PARAM="viewingCodeReview";var x=function(e){var t=e.channelId,n=e.serverLevelId,r=e.serverProjectLevelId,i=e.serverScriptId,a=e.viewAsCodeReviewer,s=e.viewAsTeacher,c=e.userIsTeacher,m=e.codeReviewEnabled,v=e.locale,b=e.isReadOnlyWorkspace,w=e.setIsReadOnlyWorkspace,O=e.setHasOpenCodeReview,T=e.isCommitSaveInProgress,A=e.hasCommitSaveError,P=k((0,o.useState)(!1),2),x=P[0],I=P[1],R=k((0,o.useState)(null),2),j=R[0],N=R[1],L=k((0,o.useState)([]),2),M=L[0],B=L[1],F=k((0,o.useState)(null),2),U=F[0],H=F[1],W=k((0,o.useState)(null),2),q=W[0],z=W[1],V=k((0,o.useState)(!1),2),G=V[0],$=V[1],K=(0,o.useMemo)((function(){return new d.default(t,n,r,i,v)}),[t,n,r,i,v]);(0,o.useEffect)((function(){Y()}),[Y]),(0,o.useEffect)((function(){T||A||Y()}),[T,A,Y]);var Y=(0,o.useCallback)(C(S().mark((function e(){var t,n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,K.getInitialTimelineData();case 4:t=e.sent,n=t.timelineData,r=t.openReview,B(n),N(r),O(!!r),H(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),H(!0);case 17:I(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),[K,O]),X=function(){var e=C(S().mark((function e(t,n){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.getReviewablePeers();case 3:r=e.sent,t(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=C(S().mark((function e(t,n,r,o){var i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.submitNewCodeReviewComment(t,n);case 3:i=e.sent,N(E(E({},j),{},{comments:[].concat(_(j.comments),[i])})),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),Z=function(){var e=C(S().mark((function e(t,n,r,o){var i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.toggleResolveComment(t,n);case 3:i=e.sent,r(i),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),o();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),Q=function(){var e=C(S().mark((function e(t,n,r){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.deleteCodeReviewComment(t);case 3:n(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),r();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){var e=C(S().mark((function e(t,n){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.closeReview(j.id);case 3:r=e.sent,B([].concat(_(M),[r])),N(null),w(!1),O(!1),t(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),n();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=C(S().mark((function e(){var t,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(!0),e.next=4,g.default.save(!0);case 4:return t=g.default.getCurrentSourceVersionId(),e.next=7,K.openNewCodeReview(t);case 7:n=e.sent,O(!0),N(n),w(!0),z(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),z(!0);case 18:$(!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return t?x?o.default.createElement("div",{style:D.loadingContainer},o.default.createElement(u.default,{size:"large"})):o.default.createElement("div",{style:D.reviewsContainer},o.default.createElement("div",{style:D.header},o.default.createElement("div",{style:D.navigator},m&&!s&&o.default.createElement(f.default,{viewPeerList:!a,loadPeers:X,dropdownText:l.default.youHaveProjectsToReview(),teacherAccountViewingAsParticipant:c&&!s})),o.default.createElement("div",{style:D.refreshButtonContainer},o.default.createElement(h.default,{key:"refresh",icon:"refresh",text:l.default.refresh(),onClick:Y,color:h.default.ButtonColor.blue,style:D.refreshButtonStyle,className:"review-refresh-button"}))),U?o.default.createElement(y.default,null):o.default.createElement(o.default.Fragment,null,o.default.createElement(p.default,{timelineData:[].concat(_(M),_(j?[j]:[])),addCodeReviewComment:J,closeReview:ee,toggleResolveComment:Z,deleteCodeReviewComment:Q}),!j&&!b&&o.default.createElement("div",{style:D.timelineAligned},o.default.createElement(h.default,{className:"uitest-open-code-review",icon:"comment",onClick:te,text:l.default.startReview(),color:h.default.ButtonColor.blue,disabled:!m||G}),q&&o.default.createElement(y.default,null)),!m&&o.default.createElement("div",{style:E(E({},D.timelineAligned),D.reviewDisabledMsg)},l.default.codeReviewDisabledMessage()))):o.default.createElement("div",{style:E(E({},D.reviewsContainer),D.messageText)},l.default.noCodeReviewUntilStudentEditsCode())},I=x;t.UnconnectedCommitsAndReviewTab=I;var R=(0,a.connect)((function(e){return{codeReviewEnabled:e.instructions.codeReviewEnabledForLevel,viewAsCodeReviewer:e.pageConstants.isCodeReviewing,viewAsTeacher:e.viewAs===c.ViewType.Instructor,userIsTeacher:"teacher"===e.currentUser.userType,channelId:e.pageConstants.channelId,serverLevelId:e.pageConstants.serverLevelId,serverProjectLevelId:e.pageConstants.serverProjectLevelId,serverScriptId:e.pageConstants.serverScriptId,locale:e.pageConstants.locale,isReadOnlyWorkspace:e.javalab.isReadOnlyWorkspace,isCommitSaveInProgress:e.javalab.isCommitSaveInProgress,hasCommitSaveError:e.javalab.hasCommitSaveError}}),(function(e){return{setIsReadOnlyWorkspace:function(t){return e((0,m.setIsReadOnlyWorkspace)(t))},setHasOpenCodeReview:function(t){return e((0,m.setHasOpenCodeReview)(t))}}}))(x);t.default=R,x.propTypes={codeReviewEnabled:i.default.bool,viewAsCodeReviewer:i.default.bool.isRequired,viewAsTeacher:i.default.bool,userIsTeacher:i.default.bool,channelId:i.default.string,serverLevelId:i.default.number,serverProjectLevelId:i.default.number,serverScriptId:i.default.number,locale:i.default.string,isReadOnlyWorkspace:i.default.bool,setIsReadOnlyWorkspace:i.default.func.isRequired,setHasOpenCodeReview:i.default.func.isRequired,isCommitSaveInProgress:i.default.bool,hasCommitSaveError:i.default.bool};var D={loadingContainer:{display:"flex",margin:"25px",justifyContent:"center"},reviewsContainer:{margin:"0px 5px 25px 16px"},header:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",margin:"5px 0"},refreshButtonContainer:{margin:"5px 0"},navigator:{margin:"5px 0"},messageText:{fontSize:13,margin:"15px 5px 25px 16px",color:s.default.light_gray},refreshButtonStyle:{fontSize:13,margin:0},timelineAligned:{marginLeft:"30px"},reviewDisabledMsg:{padding:"12px 6px",fontStyle:"italic",color:s.default.charcoal,lineHeight:"22px"}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1345);let o=0;class i{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=o++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new i([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new s;return t=>t.modified.indexOf(e)>-1?t:s.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let a=0;class s{constructor(){this.instances=[],this.id=a++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,o=n.modified,r.length==o.length&&r.every(((e,t)=>e==o[t])));var r,o}));if(n)return n;let r=[],o=new i(r,e,t);for(let i of t)i.instances.push(o);let a=l(t);for(let i of e.set)for(let e of a)r.push(s.get(i,e));return o}}function l(e){let t=[e];for(let n=0;n<e.length;n++)for(let r of l(e.slice(0,n).concat(e.slice(n+1))))t.push(r);return t}const u=new r.NodeProp;class c{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function d(e,t){let n=Object.create(null);for(let i of e)if(Array.isArray(i.tag))for(let e of i.tag)n[e.id]=i.class;else n[i.tag.id]=i.class;let{scope:r,all:o=null}=t||{};return{style:e=>{let t=o;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function f(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}class p{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,o,i){let{type:a,from:s,to:l}=e;if(s>=n||l<=t)return;a.isTop&&(i=this.highlighters.filter((e=>!e.scope||e.scope(a))));let c=o,d=a.prop(u),p=!1;for(;d;){if(!d.context||e.matchContext(d.context)){let e=f(i,d.tags);e&&(c&&(c+=" "),c+=e,1==d.mode?o+=(o?" ":"")+e:0==d.mode&&(p=!0));break}d=d.next}if(this.startSpan(e.from,c),p)return;let h=e.tree&&e.tree.prop(r.NodeProp.mounted);if(h&&h.overlay){let r=e.node.enter(h.overlay[0].from+s,1),a=this.highlighters.filter((e=>!e.scope||e.scope(h.tree.type))),u=e.firstChild();for(let d=0,f=s;;d++){let p=d<h.overlay.length?h.overlay[d]:null,m=p?p.from+s:l,g=Math.max(t,f),y=Math.min(n,m);if(g<y&&u)for(;e.from<y&&(this.highlightRange(e,g,y,o,i),this.startSpan(Math.min(n,e.to),c),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+s,f>t&&(this.highlightRange(r.cursor(),Math.max(t,p.from+s),Math.min(n,f),o,a),this.startSpan(f,c))}u&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,o,i),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}const h=i.define,m=h(),g=h(),y=h(g),v=h(g),b=h(),_=h(b),w=h(b),E=h(),O=h(E),S=h(),T=h(),C=h(),k=h(C),A=h(),P={comment:m,lineComment:h(m),blockComment:h(m),docComment:h(m),name:g,variableName:h(g),typeName:y,tagName:h(y),propertyName:v,attributeName:h(v),className:h(g),labelName:h(g),namespace:h(g),macroName:h(g),literal:b,string:_,docString:h(_),character:h(_),attributeValue:h(_),number:w,integer:h(w),float:h(w),bool:h(b),regexp:h(b),escape:h(b),color:h(b),url:h(b),keyword:S,self:h(S),null:h(S),atom:h(S),unit:h(S),modifier:h(S),operatorKeyword:h(S),controlKeyword:h(S),definitionKeyword:h(S),moduleKeyword:h(S),operator:T,derefOperator:h(T),arithmeticOperator:h(T),logicOperator:h(T),bitwiseOperator:h(T),compareOperator:h(T),updateOperator:h(T),definitionOperator:h(T),typeOperator:h(T),controlOperator:h(T),punctuation:C,separator:h(C),bracket:k,angleBracket:h(k),squareBracket:h(k),paren:h(k),brace:h(k),content:E,heading:O,heading1:h(O),heading2:h(O),heading3:h(O),heading4:h(O),heading5:h(O),heading6:h(O),contentSeparator:h(E),list:h(E),quote:h(E),emphasis:h(E),strong:h(E),link:h(E),monospace:h(E),strikethrough:h(E),inserted:h(),deleted:h(),changed:h(),invalid:h(),meta:A,documentMeta:h(A),annotation:h(A),processingInstruction:h(A),definition:i.defineModifier(),constant:i.defineModifier(),function:i.defineModifier(),standard:i.defineModifier(),local:i.defineModifier(),special:i.defineModifier()},x=d([{tag:P.link,class:"tok-link"},{tag:P.heading,class:"tok-heading"},{tag:P.emphasis,class:"tok-emphasis"},{tag:P.strong,class:"tok-strong"},{tag:P.keyword,class:"tok-keyword"},{tag:P.atom,class:"tok-atom"},{tag:P.bool,class:"tok-bool"},{tag:P.url,class:"tok-url"},{tag:P.labelName,class:"tok-labelName"},{tag:P.inserted,class:"tok-inserted"},{tag:P.deleted,class:"tok-deleted"},{tag:P.literal,class:"tok-literal"},{tag:P.string,class:"tok-string"},{tag:P.number,class:"tok-number"},{tag:[P.regexp,P.escape,P.special(P.string)],class:"tok-string2"},{tag:P.variableName,class:"tok-variableName"},{tag:P.local(P.variableName),class:"tok-variableName tok-local"},{tag:P.definition(P.variableName),class:"tok-variableName tok-definition"},{tag:P.special(P.variableName),class:"tok-variableName2"},{tag:P.definition(P.propertyName),class:"tok-propertyName tok-definition"},{tag:P.typeName,class:"tok-typeName"},{tag:P.namespace,class:"tok-namespace"},{tag:P.className,class:"tok-className"},{tag:P.macroName,class:"tok-macroName"},{tag:P.propertyName,class:"tok-propertyName"},{tag:P.operator,class:"tok-operator"},{tag:P.comment,class:"tok-comment"},{tag:P.meta,class:"tok-meta"},{tag:P.invalid,class:"tok-invalid"},{tag:P.punctuation,class:"tok-punctuation"}]);t.Tag=i,t.classHighlighter=x,t.highlightTree=function(e,t,n,r=0,o=e.length){let i=new p(r,Array.isArray(t)?t:[t],n);i.highlightRange(e.cursor(),r,o,"",i.highlighters),i.flush(o)},t.styleTags=function(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){o=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let a=n.length-1,s=n[a];if(!s)throw new RangeError("Invalid path: "+e);let l=new c(r,o,a>0?n.slice(0,a):null);t[s]=l.sort(t[s])}}return u.add(t)},t.tagHighlighter=d,t.tags=P},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMuteCookie=t.removeMuteCookie=t.muteCookieWithLevel=t.muteCookieValue=void 0;var r,o=(r=n(179))&&r.__esModule?r:{default:r};var i="mute_music";t.muteCookieWithLevel=function(e){return e.muteMusic||"true"===o.default.get("mute_music")};t.muteCookieValue=function(){return!!o.default.get("mute_music")};t.setMuteCookie=function(){o.default.set(i,"true",{expires:30,path:"/"})};t.removeMuteCookie=function(){o.default.remove(i,{path:"/"})}},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelLocationSelection=function(){return{type:r.CANCEL_LOCATION_SELECTION}},t.default=function(e,t){switch(e=e||{mode:o.LocationPickerMode.IDLE},t.type){case r.REQUEST_LOCATION:return s(s({},e),{},{mode:o.LocationPickerMode.SELECTING,lastSelection:void 0,requestTime:Date.now()});case r.CANCEL_LOCATION_SELECTION:return s(s({},e),{},{mode:o.LocationPickerMode.IDLE,lastSelection:void 0});case r.SELECT_LOCATION:return s(s({},e),{},{mode:o.LocationPickerMode.IDLE,lastSelection:t.value});case r.UPDATE_LOCATION:return s(s({},e),{},{mode:o.LocationPickerMode.SELECTING,lastSelection:t.value});default:return e}},t.getLocation=function(e,t){e=e||function(){},t=t||function(){};var n=(0,i.getStore)();n.dispatch(u());var r=n.subscribe((function(){var i=n.getState();i.locationPicker.mode===o.LocationPickerMode.SELECTING?e(i.locationPicker.lastSelection):(t(i.locationPicker.lastSelection),r())}))},t.isPickingLocation=function(e){return e.mode===o.LocationPickerMode.SELECTING},t.requestLocation=u,t.selectLocation=function(e){return{type:r.SELECT_LOCATION,value:e}},t.updateLocation=function(e){return{type:r.UPDATE_LOCATION,value:e}};var r=n(884),o=n(1309),i=n(136);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return{type:r.REQUEST_LOCATION}}},,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(1765)),i=l(n(1770)),a=n(1296),s=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.teacherViewingStudentWork,n=e.visible,a=e.rubric,s=e.latestFeedback,l=e.token,u=e.serverScriptId,c=e.serverLevelId,d=e.teacher,f=e.innerRef,p=!(t||!a&&!s);return r.default.createElement("div",null,t&&r.default.createElement(o.default,{visible:n,rubric:a,latestFeedback:s,token:l,ref:f,serverScriptId:u,serverLevelId:c,teacher:d}),p&&r.default.createElement(i.default,{visible:n,rubric:a,ref:f,latestFeedback:s}))};u.propTypes={teacherViewingStudentWork:s.default.bool.isRequired,visible:s.default.bool.isRequired,rubric:a.rubricShape,serverScriptId:s.default.number,serverLevelId:s.default.number,teacher:s.default.number,latestFeedback:a.teacherFeedbackShape,token:s.default.string,innerRef:s.default.func};var c=u;t.default=c,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=c(n(2)),a=c(n(13)),s=c(n(20)),l=c(n(382)),u=n(621);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(t){var n;return h(f(n=e.call(this,t)||this),"checkbox",null),h(f(n),"setCheckboxState",(function(){n.state.reviewState===u.ReviewStates.awaitingReview?n.checkbox.indeterminate=!0:n.checkbox.checked=n.state.reviewState===u.ReviewStates.keepWorking})),h(f(n),"onCheckboxChange",(function(){var e=n.getNextReviewState();n.setState({reviewState:e},n.setCheckboxState),n.props.onReviewStateChange(e)})),n.state={reviewState:t.latestReviewState},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var i=r.prototype;return i.componentDidMount=function(){this.setCheckboxState()},i.getNextReviewState=function(){return this.state.reviewState===u.ReviewStates.awaitingReview?u.ReviewStates.completed:this.state.reviewState===u.ReviewStates.keepWorking?this.props.latestReviewState?u.ReviewStates.completed:null:u.ReviewStates.keepWorking},i.getTooltipText=function(){return this.props.latestReviewState===u.ReviewStates.awaitingReview?a.default.teacherFeedbackAwaitingReviewTooltip():a.default.teacherFeedbackKeepWorkingTooltip()},i.render=function(){var e=this;return o.default.createElement("div",{style:g.keepWorking,"data-tip":!0,"data-place":"bottom","data-for":"keep-working-tooltip"},o.default.createElement("input",{id:"keep-working",ref:function(t){return e.checkbox=t},type:"checkbox",style:g.checkbox,onChange:this.onCheckboxChange}),o.default.createElement("label",{htmlFor:"keep-working",style:g.label},o.default.createElement("span",{style:g.keepWorkingText},a.default.keepWorking()),this.props.latestReviewState===u.ReviewStates.awaitingReview&&o.default.createElement("span",{style:g.awaitingReviewText},a.default.waitingForTeacherReviewLabel())),o.default.createElement(l.default,{id:"keep-working-tooltip",role:"tooltip",effect:"solid"},o.default.createElement("div",{style:g.tooltipContent},this.getTooltipText())))},r}(o.Component);h(m,"propTypes",{latestReviewState:i.default.oneOf(Object.keys(u.ReviewStates)),onReviewStateChange:i.default.func});var g={keepWorking:{display:"inline-flex",margin:"0 20px"},checkbox:{width:"16px",height:"16px",marginTop:"2px"},label:{fontSize:"13px",color:s.default.charcoal,margin:"0 8px"},keepWorkingText:{fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold"},awaitingReviewText:{fontStyle:"italic",margin:"0 3px"},tooltipContent:{maxWidth:"250px"}},y=m;t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=d(n(2)),a=d(n(59)),s=d(n(141)),l=d(n(20)),u=d(n(13)),c=d(n(1289));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var i=r.prototype;return i.getFriendlyDate=function(e){var t=(0,s.default)(),n=(0,s.default)(e),r=t.diff(n,"days");return 0===r?u.default.today():1===r?u.default.yesterday():n.format("l")},i.renderTeacherViewStudentUpdated=function(){var e=this.props.latestFeedback.student_last_updated,t=h(h({},v.timeTeacher),v.timeTeacherStudentSeen),n=this.getFriendlyDate(e);return o.default.createElement("div",{style:t,id:"ui-test-feedback-time"},u.default.lastUpdatedByStudent(),o.default.createElement("span",{style:c.default.timestamp}," ".concat(n)))},i.renderTeacherViewStudentSeen=function(){var e=this.props.latestFeedback.student_seen_feedback,t=h(h({},v.timeTeacher),v.timeTeacherStudentSeen),n=this.getFriendlyDate(e);return o.default.createElement("div",{style:t,id:"ui-test-feedback-time"},o.default.createElement(a.default,{icon:"check",className:"fa-check",style:v.checkboxIcon}),u.default.seenByStudent(),o.default.createElement("span",{style:c.default.timestamp}," ".concat(n)))},i.renderTeacherViewStudentNotSeen=function(){var e=this.props.latestFeedback.created_at,t=this.getFriendlyDate(e);return o.default.createElement("div",{style:v.timeTeacher,id:"ui-test-feedback-time"},u.default.lastUpdatedCurrentTeacher(),o.default.createElement("span",{style:c.default.timestamp}," ".concat(t)))},i.render=function(){var e=this.props.latestFeedback;return e?e.student_last_updated&&e.student_last_updated>e.created_at?this.renderTeacherViewStudentUpdated():this.props.latestFeedback.student_seen_feedback?this.renderTeacherViewStudentSeen():this.renderTeacherViewStudentNotSeen():null},r}(o.Component);g(y,"propTypes",{latestFeedback:i.default.object.isRequired});var v={checkboxIcon:{color:"#25c23c"},timeTeacher:{paddingLeft:8,fontStyle:"italic",fontSize:12,color:l.default.cyan},timeTeacherStudentSeen:{color:"#25c23c"}},b=y;t.default=b,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(13)),a=n(882),s=n(621),l=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var l=o.prototype;return l.renderCompleted=function(){return r.default.createElement("div",{style:m.studentReviewState},i.default.reviewedComplete())},l.renderKeepWorking=function(){return r.default.createElement("div",{style:m.studentReviewState},r.default.createElement(a.KeepWorkingBadge,{style:m.keepWorkingBadge}),r.default.createElement("span",{style:m.keepWorking},i.default.keepWorking()))},l.renderAwaitingReview=function(){return r.default.createElement("div",{style:m.studentReviewState},r.default.createElement(a.KeepWorkingBadge,{style:m.keepWorkingBadge}),r.default.createElement("span",null,i.default.waitingForTeacherReview()))},l.render=function(){var e=this.props.latestReviewState;return e===s.ReviewStates.completed?this.renderCompleted():e===s.ReviewStates.awaitingReview?this.renderAwaitingReview():e===s.ReviewStates.keepWorking?this.renderKeepWorking():null},o}(r.default.Component);d=h,f="propTypes",p={latestReviewState:o.default.oneOf(Object.keys(s.ReviewStates))},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var m={studentReviewState:{margin:"0 15px",display:"flex",alignItems:"center",color:l.default.dimgray,fontSize:12,fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold"},keepWorkingBadge:{fontSize:8,marginRight:5},keepWorking:{color:l.default.red}},g=h;t.default=g,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=u(n(36)),s=u(n(790));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var o=r.prototype;return o.componentDidMount=function(){var e=$(a.default.findDOMNode(this));$("#containedLevel0").appendTo(e)},o.render=function(){return i.default.createElement("div",{style:this.props.hidden?m.hidden:null},i.default.createElement(s.default,{style:m.main}))},r}(i.Component);d=h,f="propTypes",p={hidden:o.default.bool},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var m={main:{marginBottom:"10px"},hidden:{display:"none"}},g=h;t.default=g,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=u(n(36)),s=u(n(790));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var o=r.prototype;return o.componentDidMount=function(){var e=$(a.default.findDOMNode(this));$("#containedLevelAnswer0").appendTo(e)},o.render=function(){return i.default.createElement("div",{style:this.props.hidden?m.hidden:null},i.default.createElement(s.default,null))},r}(i.Component);d=h,f="propTypes",p={hidden:o.default.bool},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var m={hidden:{display:"none"}},g=h;t.default=g,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(1372)),s=n(1417),l=c(n(1513));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this;return i.default.createElement("div",{style:g.referenceArea},this.props.videoData&&i.default.createElement(a.default,{video:this.props.videoData,openInNewTab:this.props.openReferenceLinksInNewTab}),this.props.mapReference&&i.default.createElement(l.default,{highlight:!0,icon:"map",reference:this.props.mapReference,openReferenceInNewTab:this.props.openReferenceLinksInNewTab}),this.props.referenceLinks&&this.props.referenceLinks.map((function(t,n){return i.default.createElement(l.default,{key:n,icon:"book",reference:t,openReferenceInNewTab:e.props.openReferenceLinksInNewTab})})))},r}(i.Component);t.default=m,f=m,p="propTypes",h={videoData:s.videoDataShape,mapReference:o.default.string,referenceLinks:o.default.array,openReferenceLinksInNewTab:o.default.bool},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g={referenceArea:{marginTop:20}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=f(n(74)),s=f(n(13)),l=f(n(143)),u=f(n(394)),c=n(735);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(p(t=e.call.apply(e,[this].concat(r))||this),"state",{open:!1}),g(p(t),"open",(function(){return t.setState({open:!0})})),g(p(t),"close",(function(){return t.setState({open:!1})})),t}return h(t,e),t.prototype.render=function(){return i.default.createElement("div",null,i.default.createElement(v,{isDialogOpen:this.state.open,handleClose:this.close}),!this.props.inDialog&&i.default.createElement("span",null,"|  "),i.default.createElement("a",{className:"ui-test-fallback-player-caption-dialog-link",onClick:this.open,style:b.link},s.default.fallbackVideoClosedCaptioningLink()))},t}(i.default.Component);t.default=y,g(y,"propTypes",{inDialog:o.default.bool});var v=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){return i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:this.props.isDialogOpen,style:b.dialog,handleClose:this.props.handleClose},i.default.createElement("h2",{className:"ui-test-fallback-player-caption-dialog"},s.default.fallbackVideoClosedCaptioningDialogHeading()),i.default.createElement("div",null,s.default.fallbackVideoClosedCaptioningDialogBody()),i.default.createElement("div",{style:b.dialogLinkContainer},i.default.createElement("a",{style:b.dialogLink,href:(0,c.pegasus)("/educate/it"),target:"_blank",rel:"noopener noreferrer"},s.default.fallbackVideoClosedCaptioningDialogBodyLink())),i.default.createElement(u.default,null,i.default.createElement(a.default,{__useDeprecatedTag:!0,className:"ui-test-fallback-player-caption-dialog-close",text:s.default.fallbackVideoClosedCaptioningDialogClose(),onClick:this.props.handleClose,color:a.default.ButtonColor.orange})))},t}(i.Component);g(v,"propTypes",{isDialogOpen:o.default.bool.isRequired,handleClose:o.default.func});var b={link:{cursor:"pointer"},dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20,textAlign:"left",fontFamily:'"Gotham 4r", sans-serif'},dialogLinkContainer:{marginTop:20},dialogLink:{color:"#005580"}};e.exports=t.default},function(e){var t,n,r,o,i;t=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,i={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var o=i.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return o.path=i.normalizePath(o.path),i.buildURLFromParts(o)}var a=i.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=i.normalizePath(a.path),i.buildURLFromParts(a)):t;var s=i.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=i.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?i.normalizePath(a.path):a.path),i.buildURLFromParts(u)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=i},e=>{e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(1514)),a=n(735);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{title:null}),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var s=r.prototype;return s.componentDidMount=function(){var e=this;(0,a.metaTagDescription)(this.props.reference).then((function(t){return e.setState({title:t})}))},s.render=function(){return o.default.createElement(i.default,{highlight:this.props.highlight,icon:this.props.icon,text:this.state.title?this.state.title:this.props.reference,reference:this.props.reference,openReferenceInNewTab:this.props.openReferenceInNewTab})},r}(o.default.Component);t.default=d,c(d,"propTypes",{highlight:r.default.bool,icon:r.default.string.isRequired,reference:r.default.string.isRequired,openReferenceInNewTab:r.default.bool}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(103)),a=u(n(20)),s=u(n(59)),l=u(n(753));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"state",{dialogSelected:!1}),h(f(t),"selectResource",(function(e){e.shiftKey||e.metaKey||e.altKey||(e.preventDefault(),t.props.openReferenceInNewTab?window.open(t.props.reference,"_blank","noopener,noreferrer"):(new l.default({body:$("<iframe>").addClass("instructions-container").width("100%").attr("src",t.props.reference),autoResizeScrollableElement:".instructions-container",id:"block-documentation-lightbox"}).show(),$(".instructions-container").load((function(){$(".instructions-container").contents().find("body").css({overflow:"auto"})}))))})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),o.prototype.render=function(){var e=this.props,t=e.icon,n=e.text,o=e.highlight,i=d(d({},g.commonIcon),o?g.mapIcon:g.resourceIcon),a=d(d({},g.commonThumbnail),o&&g.mapThumbnail);return r.default.createElement("div",null,r.default.createElement("div",{style:g.resourceStyle,onClick:this.selectResource},r.default.createElement("span",{style:a},r.default.createElement(s.default,{icon:t,style:i,title:n})),r.default.createElement("a",{href:this.props.reference,style:g.textLink},n)))},o}(r.default.Component);h(m,"propTypes",{highlight:o.default.bool,icon:o.default.string.isRequired,text:o.default.string.isRequired,reference:o.default.string.isRequired,openReferenceInNewTab:o.default.bool});var g={textLink:{display:"inline-block",margin:8,fontWeight:"bold",fontSize:16,lineHeight:"25px",cursor:"pointer",maxWidth:"90%"},mapThumbnail:{backgroundColor:a.default.teal},commonThumbnail:{borderRadius:5,paddingLeft:26,paddingRight:26,paddingTop:16,paddingBottom:9},commonIcon:{fontSize:22},mapIcon:{color:a.default.white},resourceIcon:{color:a.default.teal},resourceStyle:{margin:8}},y=(0,i.default)(m);t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=f(n(2)),a=f(n(1486)),s=f(n(74)),l=f(n(596)),u=f(n(427)),c=n(33),d=n(1496);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.viewPeerList,n=e.loadPeers,r=e.teacherAccountViewingAsParticipant,i=h((0,o.useState)([]),2),f=i[0],p=i[1],m=h((0,o.useState)(!1),2),g=m[0],v=m[1],b=h((0,o.useState)(!1),2),_=b[0],w=b[1],E=function(){var e=(0,c.currentLocation)().origin+(0,c.currentLocation)().pathname+"?".concat(d.VIEWING_CODE_REVIEW_URL_PARAM,"=true");return r&&(e+="&viewAs=Participant"),e},O=function(e){p(e),w(!1)},S=function(){v(!0),w(!1)};return t?o.default.createElement("div",{style:y.container},o.default.createElement(a.default,{text:l.default.youHaveProjectsToReview(),color:s.default.ButtonColor.gray,onClick:function(){w(!0),n(O,S)},className:"peer-dropdown-button"},_?[o.default.createElement("a",{key:"loading",onClick:function(){}},o.default.createElement(u.default,{size:"medium"}))]:g||!Array.isArray(f)?[o.default.createElement("a",{key:"error",onClick:function(){}},l.default.errorLoadingClassmates())]:0===f.length?[o.default.createElement("a",{key:"no-reviews",onClick:function(){},className:"code-review-no-peers"},l.default.noOtherReviews())]:f.map((function(e){return o.default.createElement("a",{key:e.ownerId,onClick:function(){var t;(t=e.ownerId)&&(0,c.navigateToHref)(E()+"&user_id=".concat(t))},className:"code-review-peer-link"},e.ownerName)})))):o.default.createElement(s.default,{text:l.default.returnToMyProject(),color:s.default.ButtonColor.gray,icon:"caret-left",size:s.default.ButtonSize.default,iconStyle:y.backToProjectIcon,onClick:function(){(0,c.navigateToHref)(E())},style:y.backToProjectButton})};g.propTypes={viewPeerList:i.default.bool,loadPeers:i.default.func,teacherAccountViewingAsParticipant:i.default.bool};var y={container:{display:"flex"},backToProjectIcon:{fontSize:24,position:"relative",top:3},backToProjectButton:{margin:0,paddingTop:0}},v=g;t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(1)),i=d(n(2)),a=p(n(1421)),s=d(n(1517)),l=d(n(1775)),u=n(1299),c=n(1571);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}var h=function(e){var t=e.timelineData,n=e.addCodeReviewComment,r=e.closeReview,i=e.toggleResolveComment,u=e.deleteCodeReviewComment,d=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]),o.default.createElement("div",{style:g.wrapper},o.default.createElement(a.default,{type:a.codeReviewTimelineElementType.CREATED,isLast:0===t.length}),t.map((function(e,a){var d=a===t.length-1;return e.timelineElementType===c.timelineElementType.commit?o.default.createElement(s.default,{key:"commit-".concat(e.projectVersion),commit:e,isLastElementInTimeline:d}):e.timelineElementType===c.timelineElementType.review?o.default.createElement(l.default,{key:"review-".concat(e.id),review:e,isLastElementInTimeline:d,addCodeReviewComment:n,closeReview:r,toggleResolveComment:i,deleteCodeReviewComment:u}):void 0})),o.default.createElement("div",{ref:d}))};h.propTypes={timelineData:i.default.arrayOf(i.default.oneOfType([u.reviewShape,u.commitShape])),addCodeReviewComment:i.default.func.isRequired,closeReview:i.default.func.isRequired,toggleResolveComment:i.default.func.isRequired,deleteCodeReviewComment:i.default.func.isRequired};var m=h;t.default=m;var g={wrapper:{margin:"10px 0"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(1)),i=d(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1421)),s=d(n(141)),l=d(n(596)),u=n(1299);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.commit,n=e.isLastElementInTimeline,r=t.createdAt,i=t.comment,u=t.projectVersion,c=(0,s.default)(r).format("M/D/YYYY [at] h:mm A");return o.default.createElement(a.default,{type:a.codeReviewTimelineElementType.COMMIT,isLast:n,projectVersionId:u},o.default.createElement("div",{style:h.wrapper,className:"uitest-code-review-timeline-commit"},o.default.createElement("div",{style:h.header},l.default.commit()),o.default.createElement("div",{style:h.date},c),o.default.createElement("div",null,i)))};f.propTypes={commit:u.commitShape,isLastElementInTimeline:i.default.bool};var p=f;t.default=p;var h={wrapper:{fontStyle:"italic",marginBottom:"10px"},header:{fontFamily:'"Gotham 5r", sans-serif'},date:{fontSize:"12px",marginBottom:"10px",lineHeight:"12px"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=p(n(2)),a=n(1779),s=n(1572),l=p(n(59)),u=p(n(74)),c=p(n(20)),d=p(n(596)),f=p(n(1290));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(1785);var y=function(e){var t,n,r=e.addCodeReviewComment,i=(0,o.useCallback)((function(e){return o.default.createElement(_,e)}),[]),c=(0,o.useCallback)((function(e){return o.default.createElement(w,e)}),[]),p=(0,o.useMemo)((function(){return(0,a.withReact)((0,s.createEditor)())}),[]),h=m((0,o.useState)(""),2),g=h[0],y=h[1],b=m((0,o.useState)(!1),2),O=b[0],T=b[1],C=m((0,o.useState)(null),2),k=C[0],A=C[1],P=function e(t){if(s.Text.isText(t))return t.text;var n=t.children.map((function(t){return e(t)})).join("");switch(t.type){case"code_block":return"```\n".concat(n,"\n```\n");case"paragraph":return"".concat(n,"\n");default:return n}},x=function(){s.Transforms.delete(p,{at:{anchor:s.Editor.start(p,[]),focus:s.Editor.end(p,[])}}),T(!1)},I=function(e){e.profanityFoundError?A(e.profanityFoundError):A(null),T(!0)};return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{style:S.textareaWrapper},o.default.createElement(a.Slate,{editor:p,value:E,onChange:function(e){var t=e.map((function(e){return P(e)})).join("");y(t)}},o.default.createElement("div",{style:S.buttonsArea},o.default.createElement("div",{role:"button",style:S.codeButton,onMouseDown:function(e){e.preventDefault(),v(p,"code_block")}},o.default.createElement(l.default,{icon:"code"}))),o.default.createElement(a.Editable,{renderElement:i,renderLeaf:c,placeholder:d.default.addACommentToReview(),className:"editable-text-area",spellCheck:!0,autoFocus:!0}))),o.default.createElement("div",{style:S.submit},O&&o.default.createElement(f.default,{messageText:k,style:S.error}),o.default.createElement(u.default,{className:"code-review-comment-submit",disabled:(t=g,n=t.match(/```([^]+)```([^]+)/),n&&3===n.length?0===n[1].trim().length&&0===n[2].trim().length:0===t.trim().length),onClick:function(){r(g,x,I)},text:d.default.submit(),color:u.default.ButtonColor.orange,style:S.submitButton})))},v=function(e,t){b(e,t)?s.Transforms.unwrapNodes(e,{match:function(e){return e.type===t},split:!0}):s.Transforms.wrapNodes(e,{type:t,children:[]})},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type",r=e.selection;if(!r)return!1;var o=Array.from(s.Editor.nodes(e,{at:s.Editor.unhangRange(e,r),match:function(e){return!s.Editor.isEditor(e)&&s.Element.isElement(e)&&e[n]===t}})),i=m(o,1),a=i[0];return!!a},_=function(e){var t=e.attributes,n=e.children;return"code_block"===e.element.type?o.default.createElement("pre",t,o.default.createElement("code",null,n)):o.default.createElement("p",t,n)};_.propTypes={attributes:i.default.object,children:i.default.node,element:i.default.object};var w=function(e){var t=e.attributes,n=e.children;return o.default.createElement("span",t,n)};w.propTypes={attributes:i.default.object,children:i.default.node};var E=[{type:"paragraph",children:[{text:""}]}];y.propTypes={addCodeReviewComment:i.default.func.isRequired};var O=y;t.default=O;var S={textareaWrapper:{border:"1px solid ".concat(c.default.light_teal),borderRadius:"5px"},codeButton:{padding:"5px"},buttonsArea:{borderBottom:"1px solid ".concat(c.default.light_gray),margin:"0 5px"},submit:{display:"flex",alignItems:"end",flexDirection:"column"},submitButton:{marginTop:"10px"},error:{marginTop:"8px"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(n(2)),i=m(n(1)),a=n(449),s=m(n(450)),l=m(n(131)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(33)),c=m(n(13)),d=m(n(815)),f=m(n(74)),p=m(n(20));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="main.json",E=function(e){var t,n;function r(t){var n;return _(v(n=e.call(this,t)||this),"onVersionListReceived",(function(e){n.setState({versions:JSON.parse(e.responseText),showSpinner:!1})})),_(v(n),"onAjaxFailure",(function(){n.setState({statusMessage:c.default.versionHistory_ajaxFailure()})})),_(v(n),"onRestoreSuccess",(function(){u.reload()})),_(v(n),"onChooseVersion",(function(e){a.sources.restorePreviousFileVersion(w,e,n.onRestoreSuccess,n.onAjaxFailure),n.setState({showSpinner:!0})})),_(v(n),"onConfirmClearPuzzle",(function(){n.setState({confirmingClearPuzzle:!0})})),_(v(n),"onCancelClearPuzzle",(function(){n.setState({confirmingClearPuzzle:!1})})),_(v(n),"onClearPuzzle",(function(){n.setState({showSpinner:!0}),l.default.putRecord({study:"project-data-integrity",study_group:"v4",event:"clear-puzzle",project_id:s.default.getCurrentId(),data_json:JSON.stringify({isOwner:s.default.isOwner(),currentUrl:window.location.href,shareUrl:s.default.getShareUrl(),isProjectTemplateLevel:n.props.isProjectTemplateLevel,currentSourceVersionId:s.default.getCurrentSourceVersionId()})},{includeUserId:!0}),n.props.handleClearPuzzle().then((function(){return s.default.save(!0)})).then((function(){return u.reload()}))})),n.state={versions:null,statusMessage:"",showSpinner:!0,confirmingClearPuzzle:!1,isOpen:!0},a.sources.ajax("GET","".concat(w,"/versions"),n.onVersionListReceived,n.onAjaxFailure,null,["with_comments=true"]),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n),r.prototype.render=function(){var e,t,n=this,r=[];if(this.state.statusMessage)e=c.default.versionHistory_header(),t=i.default.createElement("div",{style:S.defaultBody},this.state.statusMessage);else if(this.state.showSpinner)e=c.default.versionHistory_header(),t=i.default.createElement("div",{style:y(y({},{margin:"1em 0",textAlign:"center"}),S.defaultBody)},i.default.createElement("i",{className:"fa fa-spinner fa-spin",style:{fontSize:"32px"}}));else if(this.state.confirmingClearPuzzle)e=c.default.versionHistory_clearProgress_header(),t=i.default.createElement("div",{style:S.defaultBody},i.default.createElement("p",null,c.default.versionHistory_clearProgress_prompt()),this.props.isProjectTemplateLevel&&i.default.createElement("p",{className:"template-level-warning"},c.default.versionHistory_clearProgress_templateLevelWarning())),r=[i.default.createElement(f.default,{key:"confirmClearProgress",style:{marginLeft:0},onClick:this.onClearPuzzle,color:f.default.ButtonColor.red,text:c.default.versionHistory_clearProgress_confirm()}),i.default.createElement(f.default,{key:"cancelClearProgress",style:{float:"right"},onClick:this.onCancelClearPuzzle,color:f.default.ButtonColor.gray,text:c.default.versionHistory_clearProgress_cancel()})];else{e=c.default.versionHistory_header();var o=this.state.versions.map((function(e,t){return i.default.createElement(O,{key:e.versionId,versionId:e.versionId,lastModified:new Date(e.lastModified),isLatest:e.isLatest,comment:e.comment,onChoose:function(){return n.onChooseVersion(e.versionId)},rowColor:t%2==0?p.default.background_gray:null})})),a=this.state.versions.length%2==0?p.default.lightest_gray:null;t=i.default.createElement("div",{style:{margin:10}},i.default.createElement("div",{style:S.versionHistoryBody},i.default.createElement("table",{style:{width:"100%"}},i.default.createElement("tbody",null,o,i.default.createElement("tr",{style:{backgroundColor:a}},i.default.createElement("td",null,i.default.createElement("p",{style:S.label},c.default.versionHistory_initialVersion_label())),i.default.createElement("td",{width:"250",style:{textAlign:"right"}},i.default.createElement(f.default,{onClick:this.onConfirmClearPuzzle,style:{float:"right"},text:c.default.versionHistory_clearProgress_confirm(),color:f.default.ButtonColor.red})))))))}return i.default.createElement(d.default,{isOpen:this.props.isOpen,title:e,body:t,handleClose:this.props.onClose,hideFooter:0===r.length,renderFooter:function(){return r}})},r}(i.default.Component);function O(e){var t;t=e.isLatest?i.default.createElement(f.default,{color:f.default.ButtonColor.gray,text:c.default.current(),onClick:e.onChoose,disabled:!0,style:{cursor:"default"}}):[i.default.createElement(f.default,{key:"preview",icon:"eye",iconClassName:"f-eye",href:location.origin+location.pathname+"?version="+e.versionId,target:"_blank",color:f.default.ButtonColor.gray,text:c.default.preview(),__useDeprecatedTag:!0,style:{verticalAlign:"middle"}}),i.default.createElement(f.default,{key:"restore",onClick:e.onChoose,text:c.default.restore(),color:f.default.ButtonColor.teal})];var n,r=e.comment?c.default.committedVersionLabel:c.default.autosaveVersionLabel;return i.default.createElement("tr",{style:{backgroundColor:e.rowColor}},i.default.createElement("td",null,i.default.createElement("p",{style:e.comment?y(y({},S.label),{},{fontWeight:"bold"}):S.label},r({timestamp:(n=e.lastModified,n.toLocaleString?n.toLocaleString():n.toString())})),e.comment&&i.default.createElement("p",{style:S.comment},e.comment)),i.default.createElement("td",{width:"275",style:{textAlign:"right"}},t))}t.default=E,_(E,"propTypes",{handleClearPuzzle:o.default.func.isRequired,isProjectTemplateLevel:o.default.bool.isRequired,onClose:o.default.func.isRequired,isOpen:o.default.bool.isRequired}),O.propTypes={versionId:o.default.string.isRequired,lastModified:o.default.instanceOf(Date).isRequired,isLatest:o.default.bool,comment:o.default.string,onChoose:o.default.func,rowColor:o.default.string};var S={label:{margin:"10px 0 10px 10px",fontSize:14,color:p.default.charcoal},comment:{margin:"0 0 10px 10px",fontStyle:"italic",fontSize:14,color:p.default.charcoal},versionHistoryBody:{overflowY:"auto",maxHeight:300,margin:"1em 0"},defaultBody:{color:p.default.charcoal}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(2)),a=u(n(143)),s=u(n(20)),l=n(990);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(t){var n;return h(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call(this,t)||this),"onKeyDown",(function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n.props.handleSave(n.textInput.value))})),n.textInput=null,n.setTextInputRef=function(e){n.textInput=e},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var i=r.prototype;return i.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this.textInput.setSelectionRange(0,0)},i.render=function(){var e=this,t=this.props,n=t.isOpen,r=t.handleClose,i=t.handleSave,s=t.inputLabel,u=t.saveButtonText,c=t.displayTheme,d=t.errorMessage,p=t.filename;return o.default.createElement(a.default,{isOpen:n,handleClose:r,style:f(f({},g.dialog),c===l.DisplayTheme.DARK&&g.darkDialog),useUpdatedStyles:!0,hideCloseButton:!0},o.default.createElement("label",{htmlFor:"filenameInput",style:f(f({},g.label),c===l.DisplayTheme.DARK&&g.darkDialog)},s),o.default.createElement("div",{style:f(f({},g.dialogContent),c===l.DisplayTheme.DARK&&g.darkDialog)},o.default.createElement("input",{type:"text",name:"filenameInput",defaultValue:p,ref:this.setTextInputRef,style:f(f({},g.dialogInput),c===l.DisplayTheme.DARK&&g.darkDialog),onKeyDown:this.onKeyDown,autoFocus:!0}),o.default.createElement("div",null,o.default.createElement("button",{type:"button",style:f(f({},g.button),c===l.DisplayTheme.DARK?g.darkButton:g.lightSave),onClick:function(){return i(e.textInput.value)}},u),o.default.createElement("button",{type:"button",style:f(f({},g.button),c===l.DisplayTheme.DARK?g.darkButton:g.lightCancel),onClick:r},"Cancel"))),d&&o.default.createElement("div",{style:c===l.DisplayTheme.DARK?g.darkErrorMessage:g.errorMessage},d))},r}(o.Component);t.default=m,h(m,"propTypes",{isOpen:i.default.bool.isRequired,handleClose:i.default.func.isRequired,handleSave:i.default.func.isRequired,inputLabel:i.default.string.isRequired,saveButtonText:i.default.string.isRequired,displayTheme:i.default.oneOf(Object.values(l.DisplayTheme)).isRequired,errorMessage:i.default.string,filename:i.default.string});var g={dialog:{textAlign:"left",padding:20,color:s.default.black,width:500},darkDialog:{backgroundColor:s.default.dark_slate_gray,color:s.default.white},dialogContent:{display:"flex",alignItems:"center",justifyContent:"space-between"},dialogInput:{margin:0},button:{width:100,textAlign:"center",padding:6},darkButton:{backgroundColor:s.default.darkest_gray,color:"white"},lightSave:{backgroundColor:s.default.cyan,color:s.default.white},lightCancel:{backgroundColor:s.default.light_gray,color:s.default.black},label:{marginBottom:0},errorMessage:{color:s.default.red},darkErrorMessage:{backgroundColor:s.default.dark_slate_gray,color:s.default.lightest_red}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=l(n(1)),o=l(n(2)),i=l(n(596)),a=l(n(20)),s=n(1575);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.file,n=e.onToggleFile;return r.default.createElement("div",{style:c.fileRow},r.default.createElement("div",{style:c.fileLabelContainer},r.default.createElement("label",{htmlFor:"commit-".concat(t.name),style:c.fileLabel},t.name),t.hasConflictingName&&r.default.createElement("div",{style:c.fileNameConflictWarning},i.default.backpackFileNameConflictWarning())),r.default.createElement("input",{id:"commit-".concat(t.name),type:"checkbox",checked:t.commit,onChange:function(){return n(t.name)},style:c.checkbox}))}u.propTypes={file:o.default.shape(s.fileShape).isRequired,onToggleFile:o.default.func.isRequired};var c={fileRow:{display:"flex",justifyContent:"space-between",padding:8,paddingBottom:4,borderBottom:"1px solid ".concat(a.default.lightest_gray)},fileLabelContainer:{display:"flex",flexDirection:"column"},fileLabel:{flexGrow:2,color:a.default.default_text},fileNameConflictWarning:{color:a.default.default_text,fontStyle:"italic",fontSize:12},checkbox:{width:18,height:18}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(1)),o=m(n(2)),i=n(27),a=m(n(1523)),s=n(1450),l=n(33),u=n(594),c=m(n(788)),d=m(n(452)),f=m(n(1788)),p=m(n(1789)),h=m(n(1790));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=n(643),E=d.default["workspace-headers-height"],O=d.default["resize-bar-width"],S={body:{backgroundColor:"#646464"}},T=function(e){var t,n;function o(t){var n;return _(v(n=e.call(this,t)||this),"getMinInstructionsHeight",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.collapsed;return e||n.props.overlayVisible||n.props.isEmbedView?Math.min(n.getMiddleColHeight(),n.props.maxHeight):0})),_(v(n),"getScrollTarget",(function(){return n.instructions.parentElement})),_(v(n),"dismissHintPrompt",(function(){n.setState({promptForHint:!1})})),_(v(n),"shouldDisplayHintPrompt",(function(){return n.state&&n.state.promptForHint&&!n.props.collapsed})),_(v(n),"hasShortAndLongInstructions",(function(){var e=!!n.props.shortInstructions,t=(0,l.levenshtein)(n.props.longInstructions,n.props.shortInstructions);return e&&!(t<=10)&&!!n.props.longInstructions})),_(v(n),"requestHint",(function(){n.setState({promptForHint:!0}),n.props.collapsed&&n.props.handleClickCollapser()})),_(v(n),"setRightColWidth",(function(e){e!==n.state.rightColWidth&&n.setState({rightColWidth:e||0})})),_(v(n),"setLeftColWidth",(function(e){e!==n.state.leftColWidth&&n.setState({leftColWidth:e||0})})),_(v(n),"setRightColHeight",(function(e){e!==n.state.rightColHeight&&n.setState({rightColHeight:e||0})})),_(v(n),"setLeftColHeight",(function(e){e!==n.state.leftColHeight&&n.setState({leftColHeight:e||0})})),n.state={rightColWidth:0,rightColHeight:0,leftColWidth:0,leftColHeight:0,promptForHint:!1,displayScrollButtons:!0},n.debouncedAdjustRenderedHeight=(0,c.default)(n.adjustRenderedHeight,300),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var i=o.prototype;return i.componentDidMount=function(){this.props.teacherViewingStudentWork&&this.props.hideOverlay()},i.adjustRenderedHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.getMinHeight(e.collapsed),n=this.getMaxHeight(),r=Math.max(Math.min(e.height,n),t);r!==e.height&&this.props.setInstructionsRenderedHeight(r)},i.UNSAFE_componentWillReceiveProps=function(e){this.adjustRenderedHeight(e)},i.UNSAFE_componentWillUpdate=function(e){!this.props.feedback&&e.feedback&&(this.setState({promptForHint:!1}),e.collapsed&&this.props.handleClickCollapser())},i.componentDidUpdate=function(){this.setCanScrollInstructions(),this.debouncedAdjustRenderedHeight(),this.props.adjustMaxNeededHeight()},i.setCanScrollInstructions=function(){var e=this.getScrollTarget(),t=e.scrollHeight>e.clientHeight;t!==this.state.displayScrollButtons&&this.setState({displayScrollButtons:t})},i.getMinHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collapsed,t=this.state,n=t.leftColHeight,r=t.rightColHeight,o=this.getMinInstructionsHeight(e);return Math.max(n,o,r)+this.contentWrapperHeight()},i.getMarginsHeight=function(){return(0,u.getOuterHeight)(this.instructionsCsfWrapper,!0)-(0,u.getOuterHeight)(this.instructionsCsfWrapper,!1)},i.contentWrapperHeight=function(){return this.getMarginsHeight()+E+O},i.getMaxHeight=function(){var e=this.state,t=e.leftColHeight,n=e.rightColHeight;return Math.max(t,this.getMiddleColHeight(),n)+this.contentWrapperHeight()},i.getMiddleColHeight=function(){return this.instructions?(0,u.getOuterHeight)(this.instructions,!0):0},i.setInstructionsRef=function(e){this.instructions=null==e?void 0:e.getWrappedInstance().instructions,this.props.setInstructionsRef&&this.props.setInstructionsRef(e)},i.render=function(){var e=this,t=y(y(y(y({},C.main),{height:this.props.height-E}),this.props.noVisualization&&C.noViz),this.props.overlayVisible&&C.withOverlay),n={container:y(y({},C.body),this.props.isMinecraft&&S.body),left:this.props.isRtl?C.leftColRtl:C.leftCol},o=this.hasShortAndLongInstructions();return r.default.createElement("div",{style:t,ref:function(t){return e.instructionsCsfWrapper=t}},r.default.createElement(a.default,{styles:n,leftColWidth:this.state.leftColWidth,rightColWidth:this.state.rightColWidth,height:this.props.height-E-O},r.default.createElement(f.default,{requestHint:this.requestHint,setColWidth:this.setLeftColWidth,setColHeight:this.setLeftColHeight}),r.default.createElement(h.default,{ref:function(t){return e.setInstructionsRef(t)},dismissHintPrompt:this.dismissHintPrompt,shouldDisplayHintPrompt:this.shouldDisplayHintPrompt,adjustMaxNeededHeight:this.props.adjustMaxNeededHeight,promptForHint:this.state.promptForHint,getMinInstructionsHeight:this.getMinInstructionsHeight,hasShortAndLongInstructions:o}),r.default.createElement(p.default,{promptForHint:this.state.promptForHint,displayScrollButtons:this.state.displayScrollButtons,getScrollTarget:this.getScrollTarget,handleClickCollapser:this.props.handleClickCollapser,setColWidth:this.setRightColWidth,setColHeight:this.setRightColHeight,shouldDisplayHintPrompt:this.shouldDisplayHintPrompt,hasShortAndLongInstructions:o})))},o}(r.default.Component);_(T,"propTypes",{teacherViewingStudentWork:o.default.bool,handleClickCollapser:o.default.func,adjustMaxNeededHeight:o.default.func,overlayVisible:o.default.bool,isMinecraft:o.default.bool.isRequired,noVisualization:o.default.bool,hideOverlay:o.default.func.isRequired,isRtl:o.default.bool.isRequired,isEmbedView:o.default.bool,hints:o.default.arrayOf(o.default.shape({hintId:o.default.string.isRequired,markdown:o.default.string.isRequired,block:o.default.object,video:o.default.string})).isRequired,collapsed:o.default.bool.isRequired,shortInstructions:o.default.string,longInstructions:o.default.string,feedback:o.default.shape({message:o.default.string.isRequired,isFailure:o.default.bool}),height:o.default.number.isRequired,maxHeight:o.default.number.isRequired,setInstructionsRenderedHeight:o.default.func.isRequired,setInstructionsRef:o.default.func}),_(T,"defaultProps",{noVisualization:!1});var C={main:{position:"relative",top:0,right:0},withOverlay:{zIndex:s.Z_INDEX+1},noViz:{left:0,right:0,marginRight:0,marginLeft:0},body:{backgroundColor:"#ddd",width:"100%"},leftCol:{position:"absolute",bottom:O,left:0,marginLeft:0},leftColRtl:{position:"absolute",bottom:O,right:0,marginRight:0}},k=(0,i.connect)((function(e){return{overlayVisible:e.instructions.overlayVisible,isMinecraft:!!e.pageConstants.isMinecraft,isRtl:e.isRtl,noVisualization:e.pageConstants.noVisualization,feedback:e.instructions.feedback,collapsed:e.instructions.isCollapsed,hints:e.authoredHints.seenHints,height:e.instructions.renderedHeight,maxHeight:Math.min(e.instructions.maxAvailableHeight,e.instructions.maxNeededHeight),shortInstructions:e.instructions.shortInstructions,longInstructions:e.instructions.longInstructions}}),(function(e){return{hideOverlay:function(){e(w.hideOverlay())},setInstructionsRenderedHeight:function(t){e(w.setInstructionsRenderedHeight(t))}}}),null,{withRef:!0})(T);t.default=k,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=n(27);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){var t=e.isRtl,n=e.styles,o=e.leftColWidth,i=e.rightColWidth,a=e.height,s=e.children,u={container:{paddingLeft:t?i:o,paddingRight:t?o:i,float:t?"right":"left",width:"100%",boxSizing:"border-box"},middle:{width:"100%",position:"relative",float:t?"right":"left",height:a,marginRight:t?void 0:-300,paddingRight:t?void 0:300,marginLeft:t?-300:void 0,paddingLeft:t?300:void 0,overflowY:"scroll"},left:{position:"relative",float:t?"right":"left",width:o,right:o,marginLeft:t?0:"-100%",marginRight:t?"-100%":0},right:{position:"relative",float:t?"right":"left",width:i,marginRight:t?0:-i,marginLeft:t?-i:0}};return r.default.createElement("div",{style:l(l({},u.container),n.container)},r.default.createElement("div",{style:l(l({},u.middle),n.middle)},s[1]),r.default.createElement("div",{style:l(l({},u.left),n.left)},s[0]),r.default.createElement("div",{style:l(l({},u.right),n.right)},s[2]))};c.propTypes={styles:o.default.object,leftColWidth:o.default.number,rightColWidth:o.default.number,height:o.default.number,isRtl:o.default.bool.isRequired,children:o.default.node,customProp:function(e){if(3!==e.children.length)throw new Error("ThreeColumns expects exactly 3 children, got "+e.children.length)}};var d=(0,i.connect)((function(e){return{isRtl:e.isRtl}}))(c);t.default=d,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var s,l,u,c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),r.prototype.render=function(){return o.default.createElement("img",{src:this.props.src,id:"prompt-icon",style:d.main})},r}(o.default.Component);t.default=c,s=c,l="propTypes",u={src:r.default.string.isRequired},l in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u;var d={main:{maxWidth:50,marginLeft:5}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(902)),a=n(27);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{shouldAnimate:!1}),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){var t=e.unseenHints.length>this.getCount();this.setState({shouldAnimate:t})},a.getCount=function(){return this.props.unseenHints.length},a.render=function(){return o.default.createElement("div",{id:"lightbulb"},o.default.createElement(i.default,{count:this.getCount(),isMinecraft:this.props.isMinecraft,lit:this.getCount()>0,shouldAnimate:this.state.shouldAnimate}))},r}(o.default.Component);c(d,"propTypes",{unseenHints:r.default.arrayOf(r.default.object),isMinecraft:r.default.bool});var f=(0,a.connect)((function(e){return{isMinecraft:!!e.pageConstants.isMinecraft,unseenHints:e.authoredHints.unseenHints}}))(d);t.default=f,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=c(n(2)),a=c(n(103)),s=c(n(20)),l=c(n(59)),u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){return o.default.createElement("button",{type:"button",style:[y.collapseButton,this.props.style],id:"toggleButton",onClick:this.props.onClick},this.props.isMinecraft?o.default.createElement("img",{src:"/blockly/media/1x1.gif",className:[this.props.collapsed?"more-btn":"less-btn","toggle26"].join(" ")}):o.default.createElement(l.default,{icon:this.props.collapsed?"chevron-circle-down":"chevron-circle-up",style:this.props.isRtl?y.collapseIconRtl:y.collapseIcon}),o.default.createElement("div",{style:{display:"inline-block",userSelect:"none"}},o.default.createElement("div",{style:{display:"grid"}},o.default.createElement("div",{style:{opacity:this.props.collapsed?1:0,gridRow:1,gridColumn:1}},u.default.more()),o.default.createElement("div",{style:{opacity:this.props.collapsed?0:1,gridRow:1,gridColumn:1}},u.default.less()))))},r}(o.Component);p=g,h="propTypes",m={style:i.default.object,isRtl:i.default.bool.isRequired,onClick:i.default.func.isRequired,collapsed:i.default.bool.isRequired,isMinecraft:i.default.bool.isRequired},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={collapseButton:{backgroundColor:s.default.cyan,color:s.default.white,whiteSpace:"nowrap"},collapseIcon:{marginRight:5},collapseIconRtl:{marginLeft:5}},v=(0,a.default)(g);t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(103)),i=c(n(1)),a=c(n(20)),s=c(n(59)),l=n(422),u=n(594);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=0,m=1,g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(d(t=e.call.apply(e,[this].concat(r))||this),"scrollStartUp",(function(){t.scrollStart(h)})),p(d(t),"scrollStartDown",(function(){t.scrollStart(m)})),p(d(t),"scrollStop",(function(){t.unbindMouseUp(),clearTimeout(t.scrollTimeout),clearInterval(t.scrollInterval),t.unbindMouseUp=null,t.scrollTimeout=null,t.scrollInterval=null})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var o=r.prototype;return o.getMargin=function(){return this.props.isMinecraft?0:5},o.getMinHeight=function(){return(0,u.getOuterHeight)(this.scrollUp,!0)+(0,u.getOuterHeight)(this.scrollDown,!0)+2*this.getMargin()},o.scrollStart=function(e){var t=this.props.getScrollTarget(),n=100;e===h&&(n*=-1),(0,u.scrollBy)(t,n),this.scrollTimeout=setTimeout(function(){this.scrollInterval=setInterval(function(){var n=2;e===h&&(n*=-1),(0,u.scrollBy)(t,n,!1)}.bind(this),10)}.bind(this),500),this.unbindMouseUp=(0,l.addMouseUpTouchEvent)(document,this.scrollStop)},o.render=function(){var e=this,t=this.props.isMinecraft?this.props.height>50:this.props.height>20,n=this.props.isMinecraft?this.props.height>100:this.props.height>60,r={opacity:this.props.visible?1:0,top:0,margin:"0 0 3px 0",left:n?"50%":25,transform:"translateX(-50%)"},o={opacity:this.props.visible?1:0,bottom:5,right:n?"50%":25,transform:"translateX(50%)"},a={width:40},l={height:this.props.height},u=this.props.isMinecraft?i.default.createElement("button",{type:"button",className:"arrow",ref:function(t){e.scrollUp=t},key:"scrollUp",onMouseDown:this.scrollStartUp,style:[y.all,r,a]},i.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"scroll-up-btn"})):i.default.createElement("div",{ref:function(t){e.scrollUp=t},key:"scrollUp",onMouseDown:this.scrollStartUp,style:[y.all,y.arrowGlyph,r]},i.default.createElement(s.default,{icon:"caret-up",style:{lineHeight:"22px",pointerEvents:"none"}})),c=this.props.isMinecraft?i.default.createElement("button",{type:"button",className:"arrow",ref:function(t){e.scrollDown=t},key:"scrollDown",onMouseDown:this.scrollStartDown,style:[y.all,o,a]},i.default.createElement("img",{src:"/blockly/media/1x1.gif",className:"scroll-down-btn"})):i.default.createElement("div",{ref:function(t){e.scrollDown=t},className:"uitest-scroll-button-down",key:"scrollDown",onMouseDown:this.scrollStartDown,style:[y.all,y.arrowGlyph,o]},i.default.createElement(s.default,{icon:"caret-down",style:{lineHeight:"22px",pointerEvents:"none"}}));return t&&i.default.createElement("div",{style:[l,this.props.style]},u,c)},r}(i.default.Component);p(g,"propTypes",{style:r.default.object,visible:r.default.bool.isRequired,height:r.default.number.isRequired,getScrollTarget:r.default.func.isRequired,isMinecraft:r.default.bool.isRequired});var y={all:{position:"absolute",transition:"opacity 200ms",margin:0},arrowGlyph:{fontSize:50,color:a.default.purple,cursor:"pointer"}},v=(0,o.default)(g);t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(2)),i=u(n(103)),a=u(n(20)),s=u(n(1069)),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.onConfirm,n=e.onDismiss,o=e.borderColor,i=e.isMinecraft,u=e.skinId,c=e.textToSpeechEnabled,d={common:{color:"white",minWidth:100},yes:{backgroundColor:a.default.orange,borderColor:a.default.orange},no:{backgroundColor:a.default.green,borderColor:a.default.green}},f=l.default.hintPromptInline();return r.default.createElement(s.default,{borderColor:o,ttsMessage:f,isMinecraft:i,skinId:u,textToSpeechEnabled:c},r.default.createElement("p",null,f),r.default.createElement("button",{type:"button",onClick:t,style:[d.common,d.yes]},l.default.yes()),r.default.createElement("button",{type:"button",onClick:n,style:[d.common,d.no]},l.default.no()))};c.propTypes={borderColor:o.default.string,onConfirm:o.default.func.isRequired,onDismiss:o.default.func.isRequired,isMinecraft:o.default.bool.isRequired,skinId:o.default.string.isRequired,textToSpeechEnabled:o.default.bool};var d=(0,i.default)(c);t.default=d,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(2)),i=s(n(103)),a=n(27);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.isRtl,n=e.color,o=e.background,i={svg:{position:"absolute",left:t?void 0:-24,right:t?-24:void 0,bottom:5},polyline:{stroke:n=n||"none",strokeWidth:1,fill:o=o||"white"}};return r.default.createElement("svg",{height:"30",width:"30",style:i.svg},r.default.createElement("polyline",{points:t?"5,25 25,25 5,5":"25,25 5,25 25,5",style:i.polyline,strokeDasharray:"3,3"}))};l.propTypes={color:o.default.string,background:o.default.string,isRtl:o.default.bool.isRequired};var u=(0,a.connect)((function(e){return{isRtl:e.isRtl}}))((0,i.default)(l));t.default=u,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=d(n(36)),a=d(n(2)),s=d(n(103)),l=d(n(1069)),u=n(594),c=d(n(165));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var h,m,g,y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var a=r.prototype;return a.componentDidMount=function(){(0,u.convertXmlToBlockly)(i.default.findDOMNode(this))},a.render=function(){var e=this.props,t=e.borderColor,n=e.extra,r=e.message,i=e.styles;return o.default.createElement(l.default,{borderColor:t,ttsMessage:r,isMinecraft:this.props.isMinecraft,skinId:this.props.skinId,textToSpeechEnabled:this.props.textToSpeechEnabled},o.default.createElement("div",{className:"uitest-topInstructions-inline-feedback"},o.default.createElement(c.default,{markdown:r})),n&&o.default.createElement("p",{style:i.message},n))},r}(o.Component);h=y,m="propTypes",g={borderColor:a.default.string,extra:a.default.string,message:a.default.string.isRequired,styles:a.default.object,isMinecraft:a.default.bool,skinId:a.default.string,textToSpeechEnabled:a.default.bool},m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g;var v=(0,s.default)(y);t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l(a(t=e.call.apply(e,[this].concat(r))||this),"state",{height:100,blockSpace:void 0}),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var i=r.prototype;return i.componentDidMount=function(){if(!document.body.contains(this.container))return new Error("ReadOnlyBlockSpace component MUST be rendered into a container that already exists in the DOM");var e=Blockly.BlockSpace.createReadOnlyBlockSpace(this.container,this.props.block,{noScrolling:!0,rtl:this.props.isRtl}),t=e.getMetrics(),n=t.contentHeight+t.contentTop;this.setState({height:n,blockSpace:e})},i.componentDidUpdate=function(){this.state.blockSpace&&Blockly.cdoUtils.workspaceSvgResize(this.state.blockSpace)},i.render=function(){var e=this,t={maxHeight:this.state.height,paddingBottom:10};return o.default.createElement("div",{className:"block-space",ref:function(t){e.container=t},style:t})},r}(o.default.Component);t.default=u,l(u,"propTypes",{block:r.default.object.isRequired,isRtl:r.default.bool}),e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=y(n(32)),i=y(n(1)),a=y(n(2)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(998)),l=y(n(1533)),u=y(n(1794)),c=y(n(1539)),d=y(n(1577)),f=n(1485),p=y(n(13)),h=y(n(20)),m=y(n(452));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=e.teacherOnly,n=e.tabSelected,r=e.isCSDorCSP,a=e.displayHelpTab,h=e.displayFeedback,m=e.levelHasRubric,g=e.displayDocumentationTab,y=e.displayReviewTab,v=e.isViewingAsTeacher,_=e.hasBackgroundMusic,w=e.fetchingData,O=e.handleDocumentationClick,S=e.handleInstructionTabClick,T=e.handleHelpTabClick,C=e.handleCommentTabClick,k=e.handleDocumentationTabClick,A=e.handleReviewTabClick,P=e.handleTeacherOnlyTabClick,x=e.handleClickCollapser,I=e.isMinecraft,R=e.dynamicInstructions,D=e.ttsLongInstructionsUrl,j=e.hasContainedLevels,N=e.isRtl,L=e.documentationUrl,M=e.teacherMarkdown,B=e.exampleSolutions,F=e.isViewingAsInstructorInTraining,U=e.isEmbedView,H=e.isCollapsed,W=e.collapsible,q=j&&(0,o.default)("#containedLevelAnswer0").length>0,z=b(b(b({},E.collapserIcon.showHideButton),N?E.collapserIcon.showHideButtonRtl:E.collapserIcon.showHideButtonLtr),t&&E.collapserIcon.teacherOnlyColor);return i.default.createElement(s.default,{hasFocus:!1,teacherOnly:t,isMinecraft:I},i.default.createElement("div",{style:E.paneHeaderOverride},n===f.TabType.INSTRUCTIONS&&D&&(j||r)&&i.default.createElement(d.default,{src:D,style:b(b({},E.audio),N?E.audioRTL:E.audioLTR),autoplayTriggerElementId:"codeApp"}),L&&n!==f.TabType.COMMENTS&&i.default.createElement(s.PaneButton,{iconClass:"fa fa-book",label:p.default.documentation(),isRtl:N,headerHasFocus:!1,onClick:O,isMinecraft:I,style:E.documentationButton}),i.default.createElement("div",{style:b(b({},E.helpTabs),N?E.helpTabsRtl:E.helpTabsLtr)},i.default.createElement(l.default,{className:"uitest-instructionsTab",onClick:S,selected:n===f.TabType.INSTRUCTIONS,text:p.default.instructions(),teacherOnly:t,isMinecraft:I,isRtl:N}),r&&a&&i.default.createElement(l.default,{className:"uitest-helpTab",onClick:T,selected:n===f.TabType.RESOURCES,text:p.default.helpTips(),teacherOnly:t,isMinecraft:I,isRtl:N}),r&&h&&(!w||t)&&i.default.createElement(l.default,{className:"uitest-feedback",onClick:C,selected:n===f.TabType.COMMENTS,text:m?p.default.rubric():p.default.feedback(),teacherOnly:t,isMinecraft:I,isRtl:N}),g&&i.default.createElement(l.default,{onClick:k,selected:n===f.TabType.DOCUMENTATION,text:p.default.documentation(),teacherOnly:t,isMinecraft:I,isRtl:N}),y&&i.default.createElement(l.default,{className:"uitest-reviewTab",onClick:A,selected:n===f.TabType.REVIEW,text:p.default.review(),teacherOnly:t,isMinecraft:I,isRtl:N}),(v||F)&&(M||q||B.length>0)&&i.default.createElement(l.default,{className:"uitest-teacherOnlyTab",onClick:P,selected:n===f.TabType.TEACHER_ONLY,text:p.default.teacherOnly(),teacherOnly:t,isMinecraft:I,isRtl:N})),_&&i.default.createElement(u.default,{className:"uitest-mute-music-button",isMinecraft:I,isRtl:N}),W&&!U&&(r||j)&&!R&&i.default.createElement(c.default,{id:"ui-test-collapser",isCollapsed:H,onClick:x,style:z})))}var E={paneHeaderOverride:{color:h.default.default_text,display:"flex",width:"100%",justifyContent:"space-between"},audioRTL:{wrapper:{order:5}},audio:{button:{height:24,marginTop:"3px",marginBottom:"3px"},buttonImg:{lineHeight:"24px",fontSize:15,paddingLeft:12}},audioLTR:{wrapper:{order:5}},helpTabs:{paddingTop:6,width:"100%",boxSizing:"border-box",display:"flex",minWidth:100},helpTabsLtr:{paddingLeft:30},helpTabsRtl:{paddingRight:30},collapserIcon:{showHideButton:{position:"absolute",top:0,margin:0,cursor:"pointer",lineHeight:m.default["workspace-headers-height"]+"px",fontSize:18,":hover":{cursor:"pointer",color:h.default.white}},showHideButtonLtr:{left:8},showHideButtonRtl:{right:8},teacherOnlyColor:{color:h.default.lightest_cyan,":hover":{cursor:"pointer",color:h.default.default_text}}},documentationButton:{order:4,whiteSpace:"nowrap",minWidth:"fit-content"}};w.propTypes={teacherOnly:a.default.bool,tabSelected:a.default.string.isRequired,isCSDorCSP:a.default.bool,displayHelpTab:a.default.bool,displayFeedback:a.default.bool,levelHasRubric:a.default.bool,displayDocumentationTab:a.default.bool,displayReviewTab:a.default.bool,isViewingAsTeacher:a.default.bool,hasBackgroundMusic:a.default.bool.isRequired,fetchingData:a.default.bool,handleDocumentationClick:a.default.func.isRequired,handleInstructionTabClick:a.default.func.isRequired,handleHelpTabClick:a.default.func.isRequired,handleCommentTabClick:a.default.func.isRequired,handleDocumentationTabClick:a.default.func.isRequired,handleReviewTabClick:a.default.func.isRequired,handleTeacherOnlyTabClick:a.default.func.isRequired,handleClickCollapser:a.default.func.isRequired,isMinecraft:a.default.bool.isRequired,dynamicInstructions:a.default.object,ttsLongInstructionsUrl:a.default.string,hasContainedLevels:a.default.bool,isRtl:a.default.bool.isRequired,documentationUrl:a.default.string,teacherMarkdown:a.default.string,exampleSolutions:a.default.array,isViewingAsInstructorInTraining:a.default.bool,isEmbedView:a.default.bool.isRequired,isCollapsed:a.default.bool.isRequired,collapsible:a.default.bool.isRequired};var O=w;t.default=O,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=l(n(20));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={text:{color:a.default.white},highlighted:{color:a.default.white},highlightedWrapper:{borderBottom:"2px solid "+a.default.white}},h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=c(c(c({},m.tabWrapper),this.props.isRtl?m.tabRtl:m.tab),this.props.selected?this.props.teacherOnly?m.teacherHighlightedWrapper:this.props.isMinecraft?p.highlightedWrapper:m.highlightedWrapper:this.props.teacherOnly?m.teacherText:{}),t=c(c({},this.props.style),this.props.selected?this.props.teacherOnly?m.teacherHighlighted:this.props.isMinecraft?p.highlighted:m.highlighted:this.props.teacherOnly?m.teacherText:this.props.isMinecraft?p.text:m.text);return i.default.createElement("div",{style:e},i.default.createElement("a",{className:this.props.className,onClick:this.props.onClick,style:t,title:this.props.text},this.props.text))},r}(i.Component);t.default=h,f(h,"propTypes",{className:o.default.string,selected:o.default.bool,onClick:o.default.func.isRequired,style:o.default.object,text:o.default.string.isRequired,teacherOnly:o.default.bool,isMinecraft:o.default.bool,isRtl:o.default.bool});var m={tab:{marginRight:5,paddingLeft:10,paddingRight:10,paddingBottom:4,fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},tabRtl:{marginLeft:5,paddingLeft:10,paddingRight:10,paddingBottom:4,fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},tabWrapper:{overflow:"hidden",textOverflow:"ellipsis"},text:{color:a.default.charcoal},teacherText:{color:a.default.lightest_cyan},highlighted:{color:a.default.default_text},highlightedWrapper:{borderBottom:"2px solid "+a.default.default_text},teacherHighlighted:{color:a.default.white},teacherHighlightedWrapper:{color:a.default.lightest_cyan,borderBottom:"2px solid "+a.default.lightest_cyan}};e.exports=t.default},,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={fontSize:18,fontWeight:400};function d(e){var t=e.id,n=e.isCollapsed,o=e.onClick,a=e.collapsedIconClass,s=e.expandedIconClass,u=e.style,d=e.className,f=n?a:s;return r.default.createElement("i",{id:t,onClick:o,role:"button",className:(0,i.default)(f+" fa",d),style:l(l({},u),c)})}d.propTypes={id:o.default.string,onClick:o.default.func,isCollapsed:o.default.bool.isRequired,collapsedIconClass:o.default.string,expandedIconClass:o.default.string,style:o.default.object,className:o.default.string},d.defaultProps={collapsedIconClass:"fa-chevron-circle-down",expandedIconClass:"fa-chevron-circle-up",style:{}};var f=d;t.default=f,e.exports=t.default},,,,,,,,,,,(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},(e,t,n)=>{var r,o=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},i=n(1772);"undefined"!=typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"])||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=r},e=>{e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(o){r=o}return[r,n]}},(e,t,n)=>{"use strict";var r=n(1554),o=n(1555),i=n(1556),a=n(101);function s(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function l(e,t,n){return u(t=s(e,t,n))}function u(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,o){t||(t=!0,e.callback(n,r,o))};function r(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML;return null}(c),y)try{e=JSON.parse(e)}catch(t){}return e}function o(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function a(){if(!u){var t;clearTimeout(d),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var o=v,a=null;return 0!==t?(o={body:r(),statusCode:t,method:p,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(o.headers=i(c.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,o,o.body)}}var s,u,c=e.xhr||null;c||(c=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var d,f=c.url=e.uri||e.url,p=c.method=e.method||"GET",h=e.body||e.data,m=c.headers=e.headers||{},g=!!e.sync,y=!1,v={body:void 0,headers:{},statusCode:0,method:p,url:f,rawRequest:c};if("json"in e&&!1!==e.json&&(y=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(a,0)},c.onload=a,c.onerror=o,c.onprogress=function(){},c.onabort=function(){u=!0},c.ontimeout=o,c.open(p,f,!g,e.username,e.password),g||(c.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(d=setTimeout((function(){if(!u){u=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}}),e.timeout)),c.setRequestHeader)for(s in m)m.hasOwnProperty(s)&&c.setRequestHeader(s,m[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(h||null),c}e.exports=l,l.XMLHttpRequest=r.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),u(n)}}))},(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},e=>{e.exports=function(e){var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var n,r={},o=t(e).split("\n"),i=0;i<o.length;i++){var a=o[i],s=a.indexOf(":"),l=t(a.slice(0,s)).toLowerCase(),u=t(a.slice(s+1));void 0===r[l]?r[l]=u:(n=r[l],"[object Array]"===Object.prototype.toString.call(n)?r[l].push(u):r[l]=[r[l],u])}return r}},(e,t,n)=>{var r=n(1558),o=e.exports={WebVTT:n(1559),VTTCue:n(1560),VTTRegion:n(1561)};r.vttjs=o,r.WebVTT=o.WebVTT;var i=o.VTTCue,a=o.VTTRegion,s=r.VTTCue,l=r.VTTRegion;o.shim=function(){r.VTTCue=i,r.VTTRegion=a},o.restore=function(){r.VTTCue=s,r.VTTRegion=l},r.VTTCue||o.shim()},(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},e=>{var t=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function n(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=t(null)}function i(e,t,n,r){var o=r?e.split(r):[e];for(var i in o)if("string"==typeof o[i]){var a=o[i].split(n);if(2===a.length)t(a[0],a[1])}}function a(e,t,a){var s=e;function l(){var t=r(e);if(null===t)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=l(),u(),"--\x3e"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),u(),t.endTime=l(),u(),function(e,t){var n=new o;i(e,(function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),i=o[0];n.integer(e,i),n.percent(e,i)&&n.set("snapToLines",!1),n.alt(e,i,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}n.prototype=t(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var s={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={v:"title",lang:"lang"},c={rt:"ruby"};function d(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function o(e){return s[e]}function i(e){for(;v=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(v[0],o);return e}function a(e,t){return!c[t.localName]||c[t.localName]===e.localName}function d(t,n){var r=l[t];if(!r)return null;var o=e.document.createElement(r);o.localName=r;var i=u[t];return i&&n&&(o[i]=n.trim()),o}for(var f,p=e.document.createElement("div"),h=p,m=[];null!==(f=n());)if("<"!==f[0])h.appendChild(e.document.createTextNode(i(f)));else{if("/"===f[1]){m.length&&m[m.length-1]===f.substr(2).replace(">","")&&(m.pop(),h=h.parentNode);continue}var g,y=r(f.substr(1,f.length-2));if(y){g=e.document.createProcessingInstruction("timestamp",y),h.appendChild(g);continue}var v=f.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=d(v[1],v[3])))continue;if(!a(h,g))continue;v[2]&&(g.className=v[2].substr(1).replace("."," ")),m.push(v[1]),h.appendChild(g),h=g}return p}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(e){for(var t=0;t<f.length;t++){var n=f[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function h(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?(e.length=0,i[0]):n}return"ruby"===t.tagName?o(e):t.childNodes?(r(e,t),o(e)):void 0}for(r(t,e);n=o(t);)for(var i=0;i<n.length;i++)if(p(n.charCodeAt(i)))return"rtl";return"ltr"}function m(){}function g(e,t,n){m.call(this),this.cue=t,this.cueDiv=d(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:h(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var o=0;switch(t.positionAlign){case"start":o=t.position;break;case"middle":o=t.position-t.size/2;break;case"end":o=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,n,r,o;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,o=e.div.offsetTop;var i=(i=e.div.childNodes)&&(i=i[0])&&i.getClientRects&&i.getClientRects();e=e.div.getBoundingClientRect(),t=i?Math.max(i[0]&&i[0].height||0,e.height/i.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function v(e,t,n,r){var o=new y(t),i=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&r++;return-1*++r}(i),s=[];if(i.snapToLines){var l;switch(i.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=o.lineHeight,c=u*Math.round(a),d=n[l]+u,f=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),a<0&&(c+=""===i.vertical?n.height:n.width,s=s.reverse()),o.move(f,c)}else{var p=o.lineHeight/n.height*100;switch(i.lineAlign){case"middle":a-=p/2;break;case"end":a-=p}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],o=new y(t)}var h=function(e,t){for(var o,i=new y(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(o=new y(e),a=l),e=new y(i)}return o||i}(o,s);t.move(h.toCSSCompatValues(n))}function b(){}m.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},m.prototype.formatStyle=function(e,t){return 0===e?0:e+t},g.prototype=t(m.prototype),g.prototype.constructor=g,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},b.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},b.convertCueToDOMTree=function(e,t){return e&&t?d(e,t):null};b.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var o=[],i=y.getSimpleBoxPosition(r),a={font:Math.round(.05*i.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new g(e,s,a),r.appendChild(n.div),v(0,n,i,o),s.displayState=n.div,o.push(y.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},b.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},b.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function s(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function l(e){e.match(/X-TIMESTAMP-MAP/)?i(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new o;i(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",r(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):i(e,(function(e,n){if("Region"===e)!function(e){var n=new o;if(i(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new o;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(u=s()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new n(n.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:u=s(),t.state){case"HEADER":/:/.test(u)?l(u):u||(t.state="ID");continue;case"NOTE":u||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){t.state="NOTE";break}if(!u)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===u.indexOf("--\x3e")){t.cue.id=u;continue}case"CUE":try{a(u,t.cue,t.regionList)}catch(p){t.reportOrThrowError(p),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var f=-1!==u.indexOf("--\x3e");if(!u||f&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=u;continue;case"BADCUE":u||(t.state="ID");continue}}}catch(p){t.reportOrThrowError(p),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new n(n.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=b},e=>{var t={"":1,lr:1,rl:1},n={start:1,middle:1,end:1,left:1,right:1};function r(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function o(e,n,o){this.hasBeenReset=!1;var i="",a=!1,s=e,l=n,u=o,c=null,d="",f=!0,p="auto",h="start",m=50,g="middle",y=50,v="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");d=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=o},e=>{var t={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,r=3,o=0,i=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");r=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");i=e}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");o=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");l=n}}})}},(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},(e,t,n)=>{"use strict";var r=n(1414).discardEmulationPreventionBytes,o=n(1565).CaptionStream,i=n(1298),a=n(1413),s=function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(n<o.size)return o;n-=o.size}return null},l=function(e,t){var n=i.findBox(e,["moof","traf"]),o=i.findBox(e,["mdat"]),l={},u=[];return o.forEach((function(e,t){var r=n[t];u.push({mdat:e,traf:r})})),u.forEach((function(e){var n,o,u=e.mdat,c=e.traf,d=i.findBox(c,["tfhd"]),f=a.parseTfhd(d[0]),p=f.trackId,h=i.findBox(c,["tfdt"]),m=h.length>0?a.parseTfdt(h[0]).baseMediaDecodeTime:0,g=i.findBox(c,["trun"]);t===p&&g.length>0&&(n=function(e,t,n){var r=t,o=n.defaultSampleDuration||0,i=n.defaultSampleSize||0,s=n.trackId,l=[];return e.forEach((function(e){var t=a.parseTrun(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=o),void 0===e.size&&(e.size=i),e.trackId=s,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration})),l=l.concat(t)})),l}(g,m,f),o=function(e,t,n){var o,i,a,l,u=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(i=0;i+4<e.length;i+=a)if(a=u.getUint32(i),i+=4,!(a<=0)&&6==(31&e[i])){var d=e.subarray(i+1,i+1+a),f=s(i,t);o={nalUnitType:"sei_rbsp",size:a,data:d,escapedRBSP:r(d),trackId:n},f?(o.pts=f.pts,o.dts=f.dts,l=f):(o.pts=l.pts,o.dts=l.dts),c.push(o)}return c}(u,n,p),l[p]||(l[p]=[]),l[p]=l[p].concat(o))})),l};e.exports=function(){var e,t,n,r,i,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new o,s=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],r=a[n];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return s=function(e,t,n){return null===t?null:{seiNals:l(e,t)[t],timescale:n}}(e,n,r),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},(e,t,n)=>{"use strict";var r=n(1415),o=n(1414),i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new c(0,0),new c(0,1),new c(1,0),new c(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};i.prototype=new r,i.prototype.push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=o.parseSei(e.escapedRBSP)).payloadType===o.USER_DATA_REGISTERED_ITU_T_T35&&(n=o.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=o.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},i.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},i.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},i.prototype.flush=function(){return this.flushStream("flush")},i.prototype.partialFlush=function(){return this.flushStream("partialFlush")},i.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},i.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},i.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},i.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},i.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var e=[],t=15;t--;)e.push("");return e},c=function(e,t){c.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,o,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,o=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=u();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=u()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,o))i=s((r=(3&r)<<8)|o),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(r,o))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=s((r=(3&r)<<8)|o),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(r,o))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&o)&&this.addFormatting(e.pts,["i"]),1==(1&o)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,o))this.column_+=3&o;else if(this.isPAC(r,o)){var a=l.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&o&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(o)&&14==(14&o)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===o&&(o=null),i=s(r),i+=s(o),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};c.prototype=new r,c.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},c.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},c.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},c.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},c.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},c.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},c.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},c.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},c.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},c.prototype.isNormalChar=function(e){return e>=32&&e<=127},c.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=u(),this.displayed_=u()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},c.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},c.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},c.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},c.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},c.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},c.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:i,Cea608Stream:c}},(e,t,n)=>{"use strict";var r=n(1416),o=n(1567).handleRollover,i={};i.ts=n(1568),i.aac=n(1569);var a=n(1570).ONE_SECOND_IN_TS,s=188,l=71,u=function(e,t,n){for(var r,o,a,u,c=0,d=s,f=!1;d<=e.byteLength;)if(e[c]!==l||e[d]!==l&&d!==e.byteLength)c++,d++;else{if(r=e.subarray(c,d),"pes"===i.ts.parseType(r,t.pid))o=i.ts.parsePesType(r,t.table),a=i.ts.parsePayloadUnitStartIndicator(r),"audio"===o&&a&&(u=i.ts.parsePesTime(r))&&(u.type="audio",n.audio.push(u),f=!0);if(f)break;c+=s,d+=s}for(c=(d=e.byteLength)-s,f=!1;c>=0;)if(e[c]!==l||e[d]!==l&&d!==e.byteLength)c--,d--;else{if(r=e.subarray(c,d),"pes"===i.ts.parseType(r,t.pid))o=i.ts.parsePesType(r,t.table),a=i.ts.parsePayloadUnitStartIndicator(r),"audio"===o&&a&&(u=i.ts.parsePesTime(r))&&(u.type="audio",n.audio.push(u),f=!0);if(f)break;c-=s,d-=s}},c=function(e,t,n){for(var r,o,a,u,c,d,f,p=0,h=s,m=!1,g={data:[],size:0};h<e.byteLength;)if(e[p]!==l||e[h]!==l)p++,h++;else{if(r=e.subarray(p,h),"pes"===i.ts.parseType(r,t.pid))if(o=i.ts.parsePesType(r,t.table),a=i.ts.parsePayloadUnitStartIndicator(r),"video"===o&&(a&&!m&&(u=i.ts.parsePesTime(r))&&(u.type="video",n.video.push(u),m=!0),!n.firstKeyFrame)){if(a&&0!==g.size){for(c=new Uint8Array(g.size),d=0;g.data.length;)f=g.data.shift(),c.set(f,d),d+=f.byteLength;if(i.ts.videoPacketContainsKeyFrame(c)){var y=i.ts.parsePesTime(c);y?(n.firstKeyFrame=y,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}g.size=0}g.data.push(r),g.size+=r.byteLength}if(m&&n.firstKeyFrame)break;p+=s,h+=s}for(p=(h=e.byteLength)-s,m=!1;p>=0;)if(e[p]!==l||e[h]!==l)p--,h--;else{if(r=e.subarray(p,h),"pes"===i.ts.parseType(r,t.pid))o=i.ts.parsePesType(r,t.table),a=i.ts.parsePayloadUnitStartIndicator(r),"video"===o&&a&&(u=i.ts.parsePesTime(r))&&(u.type="video",n.video.push(u),m=!0);if(m)break;p-=s,h-=s}},d=function(e){var t={pid:null,table:null},n={};for(var o in function(e,t){for(var n,r=0,o=s;o<e.byteLength;)if(e[r]!==l||e[o]!==l)r++,o++;else{switch(n=e.subarray(r,o),i.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=i.ts.parsePat(n));break;case"pmt":t.table||(t.table=i.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=s,o+=s}}(e,t),t.table){if(t.table.hasOwnProperty(o))switch(t.table[o]){case r.H264_STREAM_TYPE:n.video=[],c(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],u(e,t,n),0===n.audio.length&&delete n.audio}}return n};e.exports={inspect:function(e,t){var n;return n=i.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,o=null,s=null,l=0,u=0;e.length-u>=3;){switch(i.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){n=!0;break}if((l=i.aac.parseId3TagSize(e,u))>e.length){n=!0;break}null===s&&(t=e.subarray(u,u+l),s=i.aac.parseAacTimestamp(t)),u+=l;break;case"audio":if(e.length-u<7){n=!0;break}if((l=i.aac.parseAdtsSize(e,u))>e.length){n=!0;break}null===o&&(t=e.subarray(u,u+l),o=i.aac.parseSampleRate(t)),r++,u+=l;break;default:u++}if(n)return null}if(null===o||null===s)return null;var c=a/o;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*c,pts:s+1024*r*c}]}}(e):d(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=o(e.dts,n),e.pts=o(e.pts,n),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a}))}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=o(e.dts,r),e.pts=o(e.pts,r),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=o(i.dts,r),i.pts=o(i.pts,r),i.dtsTime=i.dts/a,i.ptsTime=i.dts/a}}}(n,t),n):null},parseAudioPes_:u}},(e,t,n)=>{"use strict";var r=n(1415),o="shared",i=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},a=function(e){var t,n;a.prototype.init.call(this),this.type_=e||o,this.push=function(e){this.type_!==o&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};a.prototype=new r,e.exports={TimestampRolloverStream:a,handleRollover:i}},(e,t,n)=>{"use strict";var r=n(1416),o=function(e){var t=31&e[1];return t<<=8,t|=e[2]},i=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=o(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=i(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=i(e),r=4+a(e);if(n&&(r+=e[r]+1),1&e[r+5]){var o;o=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<o;){var l=r+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:i,parsePesType:function(e,t){switch(t[o(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!i(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),n=e.subarray(t),r=0,o=0,i=!1;o<n.byteLength-3;o++)if(1===n[o+2]){r=o+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}o+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[o+3])&&(i=!0);do{r++}while(1!==n[r]&&r<n.length);o=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[o+3])&&(i=!0),o=r-2,r+=3;break;default:r+=3}return n=n.subarray(o),r-=o,o=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[o+3])&&(i=!0),i}}},e=>{"use strict";var t=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],n=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var n=0;n+5<e.length;){if(255===e[n]&&240==(246&e[n+1]))return t[(60&e[n+2])>>>2];n++}return null},parseAacTimestamp:function(e){var t,r,o;t=10,64&e[5]&&(t+=4,t+=n(e.subarray(10,14)));do{if((r=n(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){o=e.subarray(t+10,t+r+10);for(var i=0;i<o.byteLength;i++)if(0===o[i]){var a=unescape(function(e,t,n){var r,o="";for(r=t;r<n;r++)o+="%"+("00"+e[r].toString(16)).slice(-2);return o}(o,0,i));if("com.apple.streaming.transportStreamTimestamp"===a){var s=o.subarray(i+1),l=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return l*=4,l+=3&s[7]}break}}t+=10,t+=r}while(t<e.byteLength);return null}}},e=>{var t,n,r,o,i,a,s,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},r=function(e){return e/l},o=function(e,t){return e/t},i=function(e,n){return t(o(e,n))},a=function(e,t){return n(r(e),t)},s=function(e,t,n){return r(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:o,audioTsToVideoTs:i,videoTsToAudioTs:a,metadataTsToSeconds:s}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.timelineElementType=t.default=void 0;var o,i=n(33),a=(o=n(596))&&o.__esModule?o:{default:o};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};l(g,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,l(b,"constructor",m),l(m,"constructor",h),h.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),l(b,s,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={review:"review",commit:"commit"};t.timelineElementType=m;var g=function(){function e(e,t,n,r,o){var i=this;h(this,"getInitialTimelineData",p(u().mark((function e(){var t,n,r,o,a,s,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.getCodeReviews(),i.getCommits()]);case 2:return t=e.sent,n=c(t,2),r=n[0],o=n[1],a=[],s=null,r.forEach((function(e){e.timelineElementType=m.review,e.isOpen?s=e:a.push(e)})),l=o.map((function(e){return e.timelineElementType=m.commit,e})),(d=a.concat(l)).sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),e.abrupt("return",{timelineData:d,openReview:s});case 13:case"end":return e.stop()}}),e)})))),this.channelId=e,this.levelId=t,this.projectLevelId=n,this.scriptId=r,this.locale=o}var t=e.prototype;return t.getReviewablePeers=function(){return $.ajax({url:"/code_reviews/peers_with_open_reviews",type:"GET",data:{scriptId:this.scriptId,projectLevelId:this.projectLevelId||this.levelId}})},t.getCodeReviews=function(){var e=this;return new Promise((function(t,n){$.ajax({url:"/code_reviews",type:"GET",data:{channelId:e.channelId}}).done((function(n,r,o){e.token=o.getResponseHeader("csrf-token"),t(n)})).fail((function(e){return n(e)}))}))},t.getCommits=function(){return $.ajax({url:"/project_commits/".concat(this.channelId),type:"GET"})},t.submitNewCodeReviewComment=function(e,t){var n=this;return new Promise((function(r,o){(0,i.findProfanity)(e,n.locale,n.token).done((function(i){(null==i?void 0:i.length)>0?o({profanityFoundError:a.default.commentProfanityFound({wordCount:i.length,words:i.join(", ")})}):$.ajax({url:"/code_review_comments",type:"POST",headers:{"X-CSRF-Token":n.token},data:{codeReviewId:t,comment:e}}).done((function(e){return r(e)})).fail((function(e){return o(e)}))})).fail((function(e){return o(e)}))}))},t.toggleResolveComment=function(e,t){var n=this;return new Promise((function(r,o){$.ajax({url:"/code_review_comments/".concat(e),type:"PATCH",headers:{"X-CSRF-Token":n.token},data:{isResolved:t}}).done((function(e){return r(e)})).fail((function(e){return o(e)}))}))},t.deleteCodeReviewComment=function(e){return $.ajax({url:"/code_review_comments/".concat(e),type:"DELETE",headers:{"X-CSRF-Token":this.token}})},t.closeReview=function(e){var t=this;return new Promise((function(n,r){$.ajax({url:"/code_reviews/".concat(e),type:"PATCH",headers:{"X-CSRF-Token":t.token},data:{isClosed:!0}}).done((function(e){return n(l(l({},e),{},{timelineElementType:m.review}))})).fail((function(e){return r(e)}))}))},t.openNewCodeReview=function(e){var t=this;return new Promise((function(n,r){$.ajax({url:"/code_reviews",type:"POST",headers:{"X-CSRF-Token":t.token},data:{channelId:t.channelId,scriptId:t.scriptId,levelId:t.levelId,projectLevelId:t.projectLevelId||t.levelId,version:e}}).done((function(e){return n(l(l({},e),{},{timelineElementType:m.review}))})).fail((function(e){return r(e)}))}))},e}();t.default=g},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createEditor=t.Transforms=t.Text=t.Span=t.Scrubber=t.RangeRef=t.Range=t.PointRef=t.Point=t.PathRef=t.Path=t.Operation=t.Node=t.Location=t.Element=t.Editor=void 0;var o=n(1780),i=n(1781);function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(C([])));v&&v!==t&&n.call(v,i)&&(g=v);var b=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,a,s,l){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,u(b,"constructor",m),u(m,"constructor",h),h.displayName=u(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,_=new WeakMap;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.createEditor=function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},onChange:function(){},apply:function(t){var n,r=c(ae.pathRefs(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;ye.transform(o,t)}}catch(C){r.e(C)}finally{r.f()}var i,a=c(ae.pointRefs(e));try{for(a.s();!(i=a.n()).done;){var s=i.value;we.transform(s,t)}}catch(C){a.e(C)}finally{a.f()}var l,u=c(ae.rangeRefs(e));try{for(u.s();!(l=u.n()).done;){var d=l.value;Te.transform(d,t)}}catch(C){u.e(C)}finally{u.f()}var f,p,y=h.get(e)||[],v=m.get(e)||new Set,b=function(e){if(e){var t=e.join(",");p.has(t)||(p.add(t),f.push(e))}};if(ge.operationCanTransformPath(t)){f=[],p=new Set;var _,w=c(y);try{for(w.s();!(_=w.n()).done;){var E=_.value;b(ge.transform(E,t))}}catch(C){w.e(C)}finally{w.f()}}else f=y,p=v;var S,T=c(O(t));try{for(T.s();!(S=T.n()).done;){b(S.value)}}catch(C){T.e(C)}finally{T.f()}h.set(e,f),m.set(e,p),Xe.transform(e,t),e.operations.push(t),ae.normalize(e),"set_selection"===t.type&&(e.marks=null),g.get(e)||(g.set(e,!0),Promise.resolve().then((function(){g.set(e,!1),e.onChange(),e.operations=[]})))},addMark:function(t,n){var r=e.selection;if(r)if(Se.isExpanded(r))Xe.setNodes(e,u({},t,n),{match:De.isText,split:!0});else{var o=E(E({},ae.marks(e)||{}),{},u({},t,n));e.marks=o,g.get(e)||e.onChange()}},deleteBackward:function(t){var n=e.selection;n&&Se.isCollapsed(n)&&Xe.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var n=e.selection;n&&Se.isCollapsed(n)&&Xe.delete(e,{unit:t})},deleteFragment:function(t){var n=e.selection;n&&Se.isExpanded(n)&&Xe.delete(e,{reverse:"backward"===t})},getFragment:function(){var t=e.selection;return t?fe.fragment(e,t):[]},insertBreak:function(){Xe.splitNodes(e,{always:!0})},insertSoftBreak:function(){Xe.splitNodes(e,{always:!0})},insertFragment:function(t){Xe.insertFragment(e,t)},insertNode:function(t){Xe.insertNodes(e,t)},insertText:function(t){var n=e.selection,r=e.marks;if(n){if(r){var o=E({text:t},r);Xe.insertNodes(e,o)}else Xe.insertText(e,t);e.marks=null}},normalizeNode:function(t){var n=l(t,2),r=n[0],o=n[1];if(!De.isText(r))if(ee.isElement(r)&&0===r.children.length){Xe.insertNodes(e,{text:""},{at:o.concat(0),voids:!0})}else for(var i=!ae.isEditor(r)&&(ee.isElement(r)&&(e.isInline(r)||0===r.children.length||De.isText(r.children[0])||e.isInline(r.children[0]))),a=0,s=0;s<r.children.length;s++,a++){var u=fe.get(e,o);if(!De.isText(u)){var c=r.children[s],d=u.children[a-1],f=s===r.children.length-1;if((De.isText(c)||ee.isElement(c)&&e.isInline(c))!==i)Xe.removeNodes(e,{at:o.concat(a),voids:!0}),a--;else if(ee.isElement(c)){if(e.isInline(c))if(null!=d&&De.isText(d)){if(f){Xe.insertNodes(e,{text:""},{at:o.concat(a+1),voids:!0}),a++}}else{Xe.insertNodes(e,{text:""},{at:o.concat(a),voids:!0}),a++}}else null!=d&&De.isText(d)&&(De.equals(c,d,{loose:!0})?(Xe.mergeNodes(e,{at:o.concat(a),voids:!0}),a--):""===d.text?(Xe.removeNodes(e,{at:o.concat(a-1),voids:!0}),a--):""===c.text&&(Xe.removeNodes(e,{at:o.concat(a),voids:!0}),a--))}}},removeMark:function(t){var n=e.selection;if(n)if(Se.isExpanded(n))Xe.unsetNodes(e,t,{match:De.isText,split:!0});else{var r=E({},ae.marks(e)||{});delete r[t],e.marks=r,g.get(e)||e.onChange()}}};return e};var O=function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return ge.levels(t);case"insert_node":var n=e.node,r=e.path,o=ge.levels(r),i=De.isText(n)?[]:Array.from(fe.nodes(n),(function(e){var t=l(e,2)[1];return r.concat(t)}));return[].concat(s(o),s(i));case"merge_node":var a=e.path,u=ge.ancestors(a),d=ge.previous(a);return[].concat(s(u),[d]);case"move_node":var f=e.path,p=e.newPath;if(ge.equals(f,p))return[];var h,m=[],g=[],y=c(ge.ancestors(f));try{for(y.s();!(h=y.n()).done;){var v=h.value,b=ge.transform(v,e);m.push(b)}}catch(I){y.e(I)}finally{y.f()}var _,w=c(ge.ancestors(p));try{for(w.s();!(_=w.n()).done;){var E=_.value,O=ge.transform(E,e);g.push(O)}}catch(I){w.e(I)}finally{w.f()}var S=g[g.length-1],T=p[p.length-1],C=S.concat(T);return[].concat(m,g,[C]);case"remove_node":var k=e.path;return s(ge.ancestors(k));case"split_node":var A=e.path,P=ge.levels(A),x=ge.next(A);return[].concat(s(P),[x]);default:return[]}};function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var T,C=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!n,o=n?D(e):e,i=T.None,a=T.None,s=0,u=null,d=c(o);try{for(d.s();!(t=d.n()).done;){var f=t.value,p=f.codePointAt(0);if(!p)break;var h=V(f,p),m=r?[a,h]:[h,i],g=l(m,2);if(i=g[0],a=g[1],G(i,T.ZWJ)&&G(a,T.ExtPict)&&!X(r?e.substring(0,s):e.substring(0,e.length-s)))break;if(G(i,T.RI)&&G(a,T.RI)&&!(u=null!==u?!u:!!r||Z(e.substring(0,e.length-s))))break;if(i!==T.None&&a!==T.None&&K(i,a))break;s+=f.length}}catch(y){d.e(y)}finally{d.f()}return s||1},k=/\s/,A=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,P=/['\u2018\u2019]/,x=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var o=C(e,t),i=I(e,o,t),a=l(i,2),s=a[0],u=a[1];if(R(s,u,t))r=!0,n+=o;else{if(r)break;n+=o}e=u}return n},I=function(e,t,n){if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},R=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(k.test(t))return!1;if(P.test(t)){var o=C(n,r),i=I(n,o,r),a=l(i,2),s=a[0],u=a[1];if(e(s,u,r))return!0}return!A.test(t)},D=a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.length-1,r=0;case 2:if(!(r<t.length)){e.next=16;break}if(o=t.charAt(n-r),!N(o.charCodeAt(0))){e.next=11;break}if(i=t.charAt(n-r-1),!j(i.charCodeAt(0))){e.next=11;break}return e.next=9,i+o;case 9:return r++,e.abrupt("continue",13);case 11:return e.next=13,o;case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})),j=function(e){return e>=55296&&e<=56319},N=function(e){return e>=56320&&e<=57343};!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(T||(T={}));var L=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,M=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,B=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,F=/^[\u1100-\u115F\uA960-\uA97C]$/,U=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,H=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,W=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,q=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,z=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,V=function(e,t){var n=T.Any;return-1!==e.search(L)&&(n|=T.Extend),8205===t&&(n|=T.ZWJ),t>=127462&&t<=127487&&(n|=T.RI),-1!==e.search(M)&&(n|=T.Prepend),-1!==e.search(B)&&(n|=T.SpacingMark),-1!==e.search(F)&&(n|=T.L),-1!==e.search(U)&&(n|=T.V),-1!==e.search(H)&&(n|=T.T),-1!==e.search(W)&&(n|=T.LV),-1!==e.search(q)&&(n|=T.LVT),-1!==e.search(z)&&(n|=T.ExtPict),n};function G(e,t){return 0!=(e&t)}var $=[[T.L,T.L|T.V|T.LV|T.LVT],[T.LV|T.V,T.V|T.T],[T.LVT|T.T,T.T],[T.Any,T.Extend|T.ZWJ],[T.Any,T.SpacingMark],[T.Prepend,T.Any],[T.ZWJ,T.ExtPict],[T.RI,T.RI]];function K(e,t){return-1===$.findIndex((function(n){return G(e,n[0])&&G(t,n[1])}))}var Y=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,X=function(e){return-1!==e.search(Y)},J=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Z=function(e){var t=e.match(J);return null!==t&&t[0].length/2%2==1},Q=function(e){return(0,o.isPlainObject)(e)&&fe.isNodeList(e.children)&&!ae.isEditor(e)},ee={isAncestor:function(e){return(0,o.isPlainObject)(e)&&fe.isNodeList(e.children)},isElement:Q,isElementList:function(e){return Array.isArray(e)&&e.every((function(e){return ee.isElement(e)}))},isElementProps:function(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Q(e)&&e[n]===t},matches:function(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}};t.Element=ee;var te=["text"],ne=["text"];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=new WeakMap,ae={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.voids,r=void 0!==n&&n,o=t.mode,i=void 0===o?"lowest":o,a=t.at,s=void 0===a?e.selection:a,u=t.match;if(s){var d,f=ae.path(e,s),p="lowest"===i,h=c(ae.levels(e,{at:f,voids:r,match:u,reverse:p}));try{for(h.s();!(d=h.n()).done;){var m=l(d.value,2),g=m[0],y=m[1];if(!De.isText(g)&&!ge.equals(f,y))return[g,y]}}catch(v){h.e(v)}finally{h.f()}}},addMark:function(e,t,n){e.addMark(t,n)},after:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ae.point(e,t,{edge:"end"}),a=ae.end(e,[]),s={anchor:i,focus:a},l=o.distance,u=void 0===l?1:l,d=0,f=c(ae.positions(e,oe(oe({},o),{},{at:s})));try{for(f.s();!(r=f.n()).done;){var p=r.value;if(d>u)break;0!==d&&(n=p),d++}}catch(h){f.e(h)}finally{f.f()}return n},before:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ae.start(e,[]),a=ae.point(e,t,{edge:"start"}),s={anchor:i,focus:a},l=o.distance,u=void 0===l?1:l,d=0,f=c(ae.positions(e,oe(oe({},o),{},{at:s,reverse:!0})));try{for(f.s();!(r=f.n()).done;){var p=r.value;if(d>u)break;0!==d&&(n=p),d++}}catch(h){f.e(h)}finally{f.f()}return n},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unit,r=void 0===n?"character":n;e.deleteBackward(r)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unit,r=void 0===n?"character":n;e.deleteForward(r)},deleteFragment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.direction,r=void 0===n?"forward":n;e.deleteFragment(r)},edges:function(e,t){return[ae.start(e,t),ae.end(e,t)]},end:function(e,t){return ae.point(e,t,{edge:"end"})},first:function(e,t){var n=ae.path(e,t,{edge:"start"});return ae.node(e,n)},fragment:function(e,t){var n=ae.range(e,t),r=fe.fragment(e,n);return r},hasBlocks:function(e,t){return t.children.some((function(t){return ae.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return De.isText(t)||ae.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return De.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertSoftBreak:function(e){e.insertSoftBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return ee.isElement(t)&&!e.isInline(t)},isEditor:function(e){if(!(0,o.isPlainObject)(e))return!1;var t=ie.get(e);if(void 0!==t)return t;var n="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||(0,o.isPlainObject)(e.marks))&&(null===e.selection||Se.isRange(e.selection))&&fe.isNodeList(e.children)&&me.isOperationList(e.operations);return ie.set(e,n),n},isEnd:function(e,t,n){var r=ae.end(e,n);return _e.equals(t,r)},isEdge:function(e,t,n){return ae.isStart(e,t,n)||ae.isEnd(e,t,n)},isEmpty:function(e,t){var n=t.children,r=l(n,1)[0];return 0===n.length||1===n.length&&De.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:function(e,t){return ee.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=y.get(e);return void 0===t||t},isStart:function(e,t,n){if(0!==t.offset)return!1;var r=ae.start(e,n);return _e.equals(t,r)},isVoid:function(e,t){return ee.isElement(t)&&e.isVoid(t)},last:function(e,t){var n=ae.path(e,t,{edge:"end"});return ae.node(e,n)},leaf:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ae.path(e,t,n),o=fe.leaf(e,r);return[o,r]},levels:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,u,d,f,p,h,m,g,y,v,b,_;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:{},o=r.at,i=void 0===o?e.selection:o,s=r.reverse,u=void 0!==s&&s,d=r.voids,f=void 0!==d&&d,null==(p=r.match)&&(p=function(){return!0}),i){n.next=6;break}return n.abrupt("return");case 6:h=[],m=ae.path(e,i),g=c(fe.levels(e,m)),n.prev=9,g.s();case 11:if((y=g.n()).done){n.next=20;break}if(v=l(y.value,2),b=v[0],_=v[1],p(b,_)){n.next=15;break}return n.abrupt("continue",18);case 15:if(h.push([b,_]),f||!ae.isVoid(e,b)){n.next=18;break}return n.abrupt("break",20);case 18:n.next=11;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(9),g.e(n.t0);case 25:return n.prev=25,g.f(),n.finish(25);case 28:return u&&h.reverse(),n.delegateYield(h,"t1",30);case 30:case"end":return n.stop()}}),n,null,[[9,22,25,28]])}))()},marks:function(e){var t=e.marks,n=e.selection;if(!n)return null;if(t)return t;if(Se.isExpanded(n)){var r=l(ae.nodes(e,{match:De.isText}),1)[0];return r?S(l(r,1)[0],te):{}}var o=n.anchor,i=o.path,a=l(ae.leaf(e,i),1)[0];if(0===o.offset){var s=ae.previous(e,{at:i,match:De.isText}),u=ae.above(e,{match:function(t){return ae.isBlock(e,t)}});if(s&&u){var c=l(s,2),d=c[0],f=c[1],p=l(u,2)[1];ge.isAncestor(p,f)&&(a=d)}}return S(a,ne)},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,o=t.voids,i=void 0!==o&&o,a=t.match,s=t.at,u=void 0===s?e.selection:s;if(u){var c=ae.after(e,u,{voids:i});if(c){var d=ae.last(e,[]),f=l(d,2),p=f[1],h=[c.path,p];if(ge.isPath(u)&&0===u.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(ge.isPath(u)){var m=ae.parent(e,u),g=l(m,1),y=g[0];a=function(e){return y.children.includes(e)}}else a=function(){return!0};var v=ae.nodes(e,{at:h,match:a,mode:r,voids:i}),b=l(v,1),_=b[0];return _}}},node:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ae.path(e,t,n),o=fe.get(e,r);return[o,r]},nodes:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,u,d,f,p,h,m,g,y,v,b,_,w,E,O,S,T,C,k,A,P,x,I;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:{},o=r.at,i=void 0===o?e.selection:o,s=r.mode,u=void 0===s?"all":s,d=r.universal,f=void 0!==d&&d,p=r.reverse,h=void 0!==p&&p,m=r.voids,g=void 0!==m&&m,(y=r.match)||(y=function(){return!0}),i){n.next=6;break}return n.abrupt("return");case 6:le.isSpan(i)?(v=i[0],b=i[1]):(_=ae.path(e,i,{edge:"start"}),w=ae.path(e,i,{edge:"end"}),v=h?w:_,b=h?_:w),E=fe.nodes(e,{reverse:h,from:v,to:b,pass:function(t){var n=l(t,1)[0];return!g&&ae.isVoid(e,n)}}),O=[],T=c(E),n.prev=10,T.s();case 12:if((C=T.n()).done){n.next=37;break}if(k=l(C.value,2),A=k[0],P=k[1],x=S&&0===ge.compare(P,S[1]),"highest"!==u||!x){n.next=17;break}return n.abrupt("continue",35);case 17:if(y(A,P)){n.next=23;break}if(!f||x||!De.isText(A)){n.next=22;break}return n.abrupt("return");case 22:return n.abrupt("continue",35);case 23:if("lowest"!==u||!x){n.next=26;break}return S=[A,P],n.abrupt("continue",35);case 26:if(!(I="lowest"===u?S:[A,P])){n.next=34;break}if(!f){n.next=32;break}O.push(I),n.next=34;break;case 32:return n.next=34,I;case 34:S=[A,P];case 35:n.next=12;break;case 37:n.next=42;break;case 39:n.prev=39,n.t0=n.catch(10),T.e(n.t0);case 42:return n.prev=42,T.f(),n.finish(42);case 45:if("lowest"!==u||!S){n.next=52;break}if(!f){n.next=50;break}O.push(S),n.next=52;break;case 50:return n.next=52,S;case 52:if(!f){n.next=54;break}return n.delegateYield(O,"t1",54);case 54:case"end":return n.stop()}}),n,null,[[10,39,42,45]])}))()},normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force,r=void 0!==n&&n,o=function(e){return h.get(e)||[]},i=function(e){return m.get(e)||new Set},a=function(e){var t=o(e).pop(),n=t.join(",");return i(e).delete(n),t};if(ae.isNormalizing(e)){if(r){var s=Array.from(fe.nodes(e),(function(e){return l(e,2)[1]})),u=new Set(s.map((function(e){return e.join(",")})));h.set(e,s),m.set(e,u)}0!==o(e).length&&ae.withoutNormalizing(e,(function(){var t,n=c(o(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(fe.has(e,r)){var i=ae.node(e,r),s=l(i,2),u=s[0];s[1];ee.isElement(u)&&0===u.children.length&&e.normalizeNode(i)}}}catch(m){n.e(m)}finally{n.f()}for(var d=42*o(e).length,f=0;0!==o(e).length;){if(f>d)throw new Error("\n            Could not completely normalize the editor after ".concat(d," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var p=a(e);if(fe.has(e,p)){var h=ae.node(e,p);e.normalizeNode(h)}f++}}))}},parent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ae.path(e,t,n),o=ge.parent(r),i=ae.node(e,o);return i},path:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,o=n.edge;if(ge.isPath(t))if("start"===o){var i=fe.first(e,t),a=l(i,2),s=a[1];t=s}else if("end"===o){var u=fe.last(e,t),c=l(u,2),d=c[1];t=d}return Se.isRange(t)&&(t="start"===o?Se.start(t):"end"===o?Se.end(t):ge.common(t.anchor.path,t.focus.path)),_e.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath:function(e,t){return fe.has(e,t)},pathRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,o=void 0===r?"forward":r,i={current:t,affinity:o,unref:function(){var t=i.current;return ae.pathRefs(e).delete(i),i.current=null,t}},a=ae.pathRefs(e);return a.add(i),i},pathRefs:function(e){var t=v.get(e);return t||(t=new Set,v.set(e,t)),t},point:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.edge,o=void 0===r?"start":r;if(ge.isPath(t)){var i;if("end"===o){var a=fe.last(e,t),s=l(a,2),u=s[1];i=u}else{var c=fe.first(e,t),d=l(c,2),f=d[1];i=f}var p=fe.get(e,i);if(!De.isText(p))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(t,"] because it has no ").concat(o," text node."));return{path:i,offset:"end"===o?p.text.length:0}}if(Se.isRange(t)){var h=Se.edges(t),m=l(h,2),g=m[0],y=m[1];return"start"===o?g:y}return t},pointRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,o=void 0===r?"forward":r,i={current:t,affinity:o,unref:function(){var t=i.current;return ae.pointRefs(e).delete(i),i.current=null,t}},a=ae.pointRefs(e);return a.add(i),i},pointRefs:function(e){var t=b.get(e);return t||(t=new Set,b.set(e,t)),t},positions:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,u,d,f,p,h,m,g,y,v,b,_,w,E,O,S,T,k,A,P,R,D,j,N,L,M;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(M=function(e,t,n){return"character"===t?C(e,n):"word"===t?x(e,n):"line"===t||"block"===t?e.length:1},r=t.length>1&&void 0!==t[1]?t[1]:{},o=r.at,i=void 0===o?e.selection:o,s=r.unit,u=void 0===s?"offset":s,d=r.reverse,f=void 0!==d&&d,p=r.voids,h=void 0!==p&&p,i){n.next=5;break}return n.abrupt("return");case 5:m=ae.range(e,i),g=Se.edges(m),y=l(g,2),v=y[0],b=y[1],_=f?b:v,w=!1,E="",O=0,S=0,T=0,k=c(ae.nodes(e,{at:i,reverse:f,voids:h})),n.prev=14,k.s();case 16:if((A=k.n()).done){n.next=51;break}if(P=l(A.value,2),R=P[0],D=P[1],!ee.isElement(R)){n.next=26;break}if(h||!e.isVoid(R)){n.next=23;break}return n.next=22,ae.start(e,D);case 22:return n.abrupt("continue",49);case 23:if(!e.isInline(R)){n.next=25;break}return n.abrupt("continue",49);case 25:ae.hasInlines(e,R)&&(j=ge.isAncestor(D,b.path)?b:ae.end(e,D),N=ge.isAncestor(D,v.path)?v:ae.start(e,D),E=ae.string(e,{anchor:N,focus:j},{voids:h}),w=!0);case 26:if(!De.isText(R)){n.next=49;break}if((L=ge.equals(D,_.path))?(S=f?_.offset:R.text.length-_.offset,T=_.offset):(S=R.text.length,T=f?S:0),!L&&!w&&"offset"!==u){n.next=33;break}return n.next=32,{path:D,offset:T};case 32:w=!1;case 33:if(0!==O){n.next=39;break}if(""!==E){n.next=37;break}return n.abrupt("break",49);case 37:O=M(E,u,f),E=I(E,O,f)[1];case 39:if(T=f?T-O:T+O,!((S-=O)<0)){n.next=44;break}return O=-S,n.abrupt("break",49);case 44:return O=0,n.next=47,{path:D,offset:T};case 47:n.next=33;break;case 49:n.next=16;break;case 51:n.next=56;break;case 53:n.prev=53,n.t0=n.catch(14),k.e(n.t0);case 56:return n.prev=56,k.f(),n.finish(56);case 59:case"end":return n.stop()}}),n,null,[[14,53,56,59]])}))()},previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,o=t.voids,i=void 0!==o&&o,a=t.match,s=t.at,u=void 0===s?e.selection:s;if(u){var c=ae.before(e,u,{voids:i});if(c){var d=ae.first(e,[]),f=l(d,2),p=f[1],h=[c.path,p];if(ge.isPath(u)&&0===u.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(ge.isPath(u)){var m=ae.parent(e,u),g=l(m,1),y=g[0];a=function(e){return y.children.includes(e)}}else a=function(){return!0};var v=ae.nodes(e,{reverse:!0,at:h,match:a,mode:r,voids:i}),b=l(v,1),_=b[0];return _}}},range:function(e,t,n){return Se.isRange(t)&&!n?t:{anchor:ae.start(e,t),focus:ae.end(e,n||t)}},rangeRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,o=void 0===r?"forward":r,i={current:t,affinity:o,unref:function(){var t=i.current;return ae.rangeRefs(e).delete(i),i.current=null,t}},a=ae.rangeRefs(e);return a.add(i),i},rangeRefs:function(e){var t=_.get(e);return t||(t=new Set,_.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},setNormalizing:function(e,t){y.set(e,t)},start:function(e,t){return ae.point(e,t,{edge:"start"})},string:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.voids,i=void 0!==o&&o,a=ae.range(e,t),s=Se.edges(a),u=l(s,2),d=u[0],f=u[1],p="",h=c(ae.nodes(e,{at:a,match:De.isText,voids:i}));try{for(h.s();!(n=h.n()).done;){var m=l(n.value,2),g=m[0],y=m[1],v=g.text;ge.equals(y,f.path)&&(v=v.slice(0,f.offset)),ge.equals(y,d.path)&&(v=v.slice(d.offset)),p+=v}}catch(b){h.e(b)}finally{h.f()}return p},unhangRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.voids,o=void 0!==r&&r,i=Se.edges(t),a=l(i,2),s=a[0],u=a[1];if(0!==s.offset||0!==u.offset||Se.isCollapsed(t))return t;var d,f=ae.above(e,{at:u,match:function(t){return ae.isBlock(e,t)}}),p=f?f[1]:[],h=ae.start(e,s),m={anchor:h,focus:u},g=!0,y=c(ae.nodes(e,{at:m,match:De.isText,reverse:!0,voids:o}));try{for(y.s();!(d=y.n()).done;){var v=l(d.value,2),b=v[0],_=v[1];if(g)g=!1;else if(""!==b.text||ge.isBefore(_,p)){u={path:_,offset:b.text.length};break}}}catch(w){y.e(w)}finally{y.f()}return{anchor:s,focus:u}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ae.above(e,oe(oe({},t),{},{match:function(t){return ae.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var n=ae.isNormalizing(e);ae.setNormalizing(e,!1);try{t()}finally{ae.setNormalizing(e,n)}ae.normalize(e)}};t.Editor=ae;var se={isLocation:function(e){return ge.isPath(e)||_e.isPoint(e)||Se.isRange(e)}};t.Location=se;var le={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(ge.isPath)}};t.Span=le;var ue=["children"],ce=["text"],de=new WeakMap,fe={ancestor:function(e,t){var n=fe.get(e,t);if(De.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(ke.stringify(n)));return n},ancestors:function(e,t){var n=arguments;return a().mark((function r(){var o,i,s,l,u,d;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=n.length>2&&void 0!==n[2]?n[2]:{},i=c(ge.ancestors(t,o)),r.prev=2,i.s();case 4:if((s=i.n()).done){r.next=12;break}return l=s.value,u=fe.ancestor(e,l),d=[u,l],r.next=10,d;case 10:r.next=4;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(2),i.e(r.t0);case 17:return r.prev=17,i.f(),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[2,14,17,20]])}))()},child:function(e,t){if(De.isText(e))throw new Error("Cannot get the child of a text node: ".concat(ke.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(ke.stringify(e)));return n},children:function(e,t){var n=arguments;return a().mark((function r(){var o,i,s,l,u,c,d,f;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=n.length>2&&void 0!==n[2]?n[2]:{},i=o.reverse,s=void 0!==i&&i,l=fe.ancestor(e,t),u=l.children,c=s?u.length-1:0;case 5:if(!(s?c>=0:c<u.length)){r.next=13;break}return d=fe.child(l,c),f=t.concat(c),r.next=10,[d,f];case 10:c=s?c-1:c+1,r.next=5;break;case 13:case"end":return r.stop()}}),r)}))()},common:function(e,t,n){var r=ge.common(t,n);return[fe.get(e,r),r]},descendant:function(e,t){var n=fe.get(e,t);if(ae.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(ke.stringify(n)));return n},descendants:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,u,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.length>1&&void 0!==t[1]?t[1]:{},o=c(fe.nodes(e,r)),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=11;break}if(s=l(i.value,2),u=s[0],0===(d=s[1]).length){n.next=9;break}return n.next=9,[u,d];case 9:n.next=4;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),o.e(n.t0);case 16:return n.prev=16,o.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,13,16,19]])}))()},elements:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,u,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.length>1&&void 0!==t[1]?t[1]:{},o=c(fe.nodes(e,r)),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=11;break}if(s=l(i.value,2),u=s[0],d=s[1],!ee.isElement(u)){n.next=9;break}return n.next=9,[u,d];case 9:n.next=4;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),o.e(n.t0);case 16:return n.prev=16,o.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,13,16,19]])}))()},extractProps:function(e){return ee.isAncestor(e)?S(e,ue):S(e,ce)},first:function(e,t){for(var n=t.slice(),r=fe.get(e,n);r&&!De.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(e,t){if(De.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(ke.stringify(e)));return(0,i.produce)({children:e.children},(function(e){var n,r=l(Se.edges(t),2),o=r[0],i=r[1],a=fe.nodes(e,{reverse:!0,pass:function(e){var n=l(e,2)[1];return!Se.includes(t,n)}}),s=c(a);try{for(s.s();!(n=s.n()).done;){var u=l(n.value,2)[1];if(!Se.includes(t,u)){var d=fe.parent(e,u),f=u[u.length-1];d.children.splice(f,1)}if(ge.equals(u,i.path)){var p=fe.leaf(e,u);p.text=p.text.slice(0,i.offset)}if(ge.equals(u,o.path)){var h=fe.leaf(e,u);h.text=h.text.slice(o.offset)}}}catch(m){s.e(m)}finally{s.f()}ae.isEditor(e)&&(e.selection=null)})).children},get:function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(De.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(ke.stringify(e)));n=n.children[o]}return n},has:function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(De.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode:function(e){return De.isText(e)||ee.isElement(e)||ae.isEditor(e)},isNodeList:function(e){if(!Array.isArray(e))return!1;var t=de.get(e);if(void 0!==t)return t;var n=e.every((function(e){return fe.isNode(e)}));return de.set(e,n),n},last:function(e,t){for(var n=t.slice(),r=fe.get(e,n);r&&!De.isText(r)&&0!==r.children.length;){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf:function(e,t){var n=fe.get(e,t);if(!De.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(ke.stringify(n)));return n},levels:function(e,t){var n=arguments;return a().mark((function r(){var o,i,s,l,u;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=n.length>2&&void 0!==n[2]?n[2]:{},i=c(ge.levels(t,o)),r.prev=2,i.s();case 4:if((s=i.n()).done){r.next=11;break}return l=s.value,u=fe.get(e,l),r.next=9,[u,l];case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),i.e(r.t0);case 16:return r.prev=16,i.f(),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[2,13,16,19]])}))()},matches:function(e,t){return ee.isElement(e)&&ee.isElementProps(t)&&ee.matches(e,t)||De.isText(e)&&De.isTextProps(t)&&De.matches(e,t)},nodes:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,l,u,c,d,f,p,h,m,g;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.length>1&&void 0!==t[1]?t[1]:{},o=r.pass,i=r.reverse,s=void 0!==i&&i,l=r.from,u=void 0===l?[]:l,c=r.to,d=new Set,f=[],p=e;case 6:if(!c||!(s?ge.isBefore(f,c):ge.isAfter(f,c))){n.next=9;break}return n.abrupt("break",37);case 9:if(d.has(p)){n.next=12;break}return n.next=12,[p,f];case 12:if(d.has(p)||De.isText(p)||0===p.children.length||null!=o&&!1!==o([p,f])){n.next=19;break}return d.add(p),h=s?p.children.length-1:0,ge.isAncestor(f,u)&&(h=u[f.length]),f=f.concat(h),p=fe.get(e,f),n.abrupt("continue",6);case 19:if(0!==f.length){n.next=21;break}return n.abrupt("break",37);case 21:if(s){n.next=27;break}if(m=ge.next(f),!fe.has(e,m)){n.next=27;break}return f=m,p=fe.get(e,f),n.abrupt("continue",6);case 27:if(!s||0===f[f.length-1]){n.next=32;break}return g=ge.previous(f),f=g,p=fe.get(e,f),n.abrupt("continue",6);case 32:f=ge.parent(f),p=fe.get(e,f),d.add(p),n.next=6;break;case 37:case"end":return n.stop()}}),n)}))()},parent:function(e,t){var n=ge.parent(t),r=fe.get(e,n);if(De.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:function(e){return De.isText(e)?e.text:e.children.map(fe.string).join("")},texts:function(e){var t=arguments;return a().mark((function n(){var r,o,i,s,u,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.length>1&&void 0!==t[1]?t[1]:{},o=c(fe.nodes(e,r)),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=11;break}if(s=l(i.value,2),u=s[0],d=s[1],!De.isText(u)){n.next=9;break}return n.next=9,[u,d];case 9:n.next=4;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),o.e(n.t0);case 16:return n.prev=16,o.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,13,16,19]])}))()}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Node=fe;var me={isNodeOperation:function(e){return me.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!(0,o.isPlainObject)(e))return!1;switch(e.type){case"insert_node":case"remove_node":return ge.isPath(e.path)&&fe.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&ge.isPath(e.path);case"merge_node":return"number"==typeof e.position&&ge.isPath(e.path)&&(0,o.isPlainObject)(e.properties);case"move_node":return ge.isPath(e.path)&&ge.isPath(e.newPath);case"set_node":return ge.isPath(e.path)&&(0,o.isPlainObject)(e.properties)&&(0,o.isPlainObject)(e.newProperties);case"set_selection":return null===e.properties&&Se.isRange(e.newProperties)||null===e.newProperties&&Se.isRange(e.properties)||(0,o.isPlainObject)(e.properties)&&(0,o.isPlainObject)(e.newProperties);case"split_node":return ge.isPath(e.path)&&"number"==typeof e.position&&(0,o.isPlainObject)(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&e.every((function(e){return me.isOperation(e)}))},isSelectionOperation:function(e){return me.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return me.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return he(he({},e),{},{type:"remove_node"});case"insert_text":return he(he({},e),{},{type:"remove_text"});case"merge_node":return he(he({},e),{},{type:"split_node",path:ge.previous(e.path)});case"move_node":var t=e.newPath,n=e.path;if(ge.equals(t,n))return e;if(ge.isSibling(n,t))return he(he({},e),{},{path:t,newPath:n});var r=ge.transform(n,e),o=ge.transform(ge.next(n),e);return he(he({},e),{},{path:r,newPath:o});case"remove_node":return he(he({},e),{},{type:"insert_node"});case"remove_text":return he(he({},e),{},{type:"insert_text"});case"set_node":var i=e.properties,a=e.newProperties;return he(he({},e),{},{properties:a,newProperties:i});case"set_selection":var s=e.properties,l=e.newProperties;return he(he({},e),{},null==s?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:s}:{properties:l,newProperties:s});case"split_node":return he(he({},e),{},{type:"merge_node",path:ge.next(e.path)})}}};t.Operation=me;var ge={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=ge.levels(e,t);return o=r?o.slice(1):o.slice(0,-1)},common:function(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r];if(o!==t[r])break;n.push(o)}return n},compare:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter:function(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],a=t[n];return ge.equals(r,o)&&i>a},endsAt:function(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return ge.equals(r,o)},endsBefore:function(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],a=t[n];return ge.equals(r,o)&&i<a},equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},hasPrevious:function(e){return e[e.length-1]>0},isAfter:function(e,t){return 1===ge.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===ge.compare(e,t)},isBefore:function(e,t){return-1===ge.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===ge.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===ge.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===ge.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===ge.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&ge.equals(n,r)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=[],i=0;i<=e.length;i++)o.push(e.slice(0,i));return r&&o.reverse(),o},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath:function(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!ge.isAncestor(t,e)&&!ge.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.produce)(e,(function(r){var o=n.affinity,i=void 0===o?"forward":o;if(e&&0!==(null==e?void 0:e.length)){if(null===r)return null;switch(t.type){case"insert_node":var a=t.path;(ge.equals(a,r)||ge.endsBefore(a,r)||ge.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var s=t.path;if(ge.equals(s,r)||ge.isAncestor(s,r))return null;ge.endsBefore(s,r)&&(r[s.length-1]-=1);break;case"merge_node":var l=t.path,u=t.position;ge.equals(l,r)||ge.endsBefore(l,r)?r[l.length-1]-=1:ge.isAncestor(l,r)&&(r[l.length-1]-=1,r[l.length]+=u);break;case"split_node":var c=t.path,d=t.position;if(ge.equals(c,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else ge.endsBefore(c,r)?r[c.length-1]+=1:ge.isAncestor(c,r)&&e[c.length]>=d&&(r[c.length-1]+=1,r[c.length]-=d);break;case"move_node":var f=t.path,p=t.newPath;if(ge.equals(f,p))return;if(ge.isAncestor(f,r)||ge.equals(f,r)){var h=p.slice();return ge.endsBefore(f,p)&&f.length<p.length&&(h[f.length-1]-=1),h.concat(r.slice(f.length))}ge.isSibling(f,p)&&(ge.isAncestor(p,r)||ge.equals(p,r))?ge.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:ge.endsBefore(p,r)||ge.equals(p,r)||ge.isAncestor(p,r)?(ge.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):ge.endsBefore(f,r)&&(ge.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1)}}}))}};t.Path=ge;var ye={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=ge.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.PathRef=ye;var _e={compare:function(e,t){var n=ge.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:function(e,t){return 1===_e.compare(e,t)},isBefore:function(e,t){return-1===_e.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&ge.equals(e.path,t.path)},isPoint:function(e){return(0,o.isPlainObject)(e)&&"number"==typeof e.offset&&ge.isPath(e.path)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.produce)(e,(function(e){if(null===e)return null;var r=n.affinity,o=void 0===r?"forward":r,i=e.path,a=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=ge.transform(i,t,n);break;case"insert_text":ge.equals(t.path,i)&&(t.offset<a||t.offset===a&&"forward"===o)&&(e.offset+=t.text.length);break;case"merge_node":ge.equals(t.path,i)&&(e.offset+=t.position),e.path=ge.transform(i,t,n);break;case"remove_text":ge.equals(t.path,i)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(ge.equals(t.path,i)||ge.isAncestor(t.path,i))return null;e.path=ge.transform(i,t,n);break;case"split_node":if(ge.equals(t.path,i)){if(t.position===a&&null==o)return null;(t.position<a||t.position===a&&"forward"===o)&&(e.offset-=t.position,e.path=ge.transform(i,t,be(be({},n),{},{affinity:"forward"})))}else e.path=ge.transform(i,t,n)}}))}};t.Point=_e;var we={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=_e.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};t.PointRef=we;var Ee=["anchor","focus"];function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Se={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=e.anchor,i=e.focus;return Se.isBackward(e)===r?[o,i]:[i,o]},end:function(e){var t=l(Se.edges(e),2)[1];return t},equals:function(e,t){return _e.equals(e.anchor,t.anchor)&&_e.equals(e.focus,t.focus)},includes:function(e,t){if(Se.isRange(t)){if(Se.includes(e,t.anchor)||Se.includes(e,t.focus))return!0;var n=l(Se.edges(e),2),r=n[0],o=n[1],i=l(Se.edges(t),2),a=i[0],s=i[1];return _e.isBefore(r,a)&&_e.isAfter(o,s)}var u=l(Se.edges(e),2),c=u[0],d=u[1],f=!1,p=!1;return _e.isPoint(t)?(f=_e.compare(t,c)>=0,p=_e.compare(t,d)<=0):(f=ge.compare(t,c.path)>=0,p=ge.compare(t,d.path)<=0),f&&p},intersection:function(e,t){var n=S(e,Ee),r=l(Se.edges(e),2),o=r[0],i=r[1],a=l(Se.edges(t),2),s=a[0],u=a[1],c=_e.isBefore(o,s)?s:o,d=_e.isBefore(i,u)?i:u;return _e.isBefore(d,c)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:c,focus:d},n)},isBackward:function(e){var t=e.anchor,n=e.focus;return _e.isAfter(t,n)},isCollapsed:function(e){var t=e.anchor,n=e.focus;return _e.equals(t,n)},isExpanded:function(e){return!Se.isCollapsed(e)},isForward:function(e){return!Se.isBackward(e)},isRange:function(e){return(0,o.isPlainObject)(e)&&_e.isPoint(e.anchor)&&_e.isPoint(e.focus)},points:function(e){return a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[e.anchor,"anchor"];case 2:return t.next=4,[e.focus,"focus"];case 4:case"end":return t.stop()}}),t)}))()},start:function(e){var t=l(Se.edges(e),1)[0];return t},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.produce)(e,(function(e){if(null===e)return null;var r,o,i=n.affinity,a=void 0===i?"inward":i;if("inward"===a){var s=Se.isCollapsed(e);Se.isForward(e)?(r="forward",o=s?r:"backward"):(r="backward",o=s?r:"forward")}else"outward"===a?Se.isForward(e)?(r="backward",o="forward"):(r="forward",o="backward"):(r=a,o=a);var l=_e.transform(e.anchor,t,{affinity:r}),u=_e.transform(e.focus,t,{affinity:o});if(!l||!u)return null;e.anchor=l,e.focus=u}))}};t.Range=Se;var Te={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=Se.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};t.RangeRef=Te;var Ce=void 0,ke={setScrubber:function(e){Ce=e},stringify:function(e){return JSON.stringify(e,Ce)}};t.Scrubber=ke;var Ae=function e(t,n){for(var r in t){var i=t[r],a=n[r];if((0,o.isPlainObject)(i)&&(0,o.isPlainObject)(a)){if(!e(i,a))return!1}else if(Array.isArray(i)&&Array.isArray(a)){if(i.length!==a.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!==a[s])return!1}else if(i!==a)return!1}for(var l in n)if(void 0===t[l]&&void 0!==n[l])return!1;return!0},Pe=["text"],xe=["anchor","focus"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={equals:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.loose,o=void 0!==r&&r;function i(e){return S(e,Pe)}return Ae(o?i(e):e,o?i(t):t)},isText:function(e){return(0,o.isPlainObject)(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&e.every((function(e){return De.isText(e)}))},isTextProps:function(e){return void 0!==e.text},matches:function(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations:function(e,t){var n,r=[Re({},e)],o=c(t);try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=S(a,xe),u=l(Se.edges(a),2),d=u[0],f=u[1],p=[],h=0,m=c(r);try{for(m.s();!(i=m.n()).done;){var g=i.value,y=g.text.length,v=h;if(h+=y,d.offset<=v&&f.offset>=h)Object.assign(g,s),p.push(g);else if(d.offset!==f.offset&&(d.offset===h||f.offset===v)||d.offset>h||f.offset<v||f.offset===v&&0!==v)p.push(g);else{var b=g,_=void 0,w=void 0;if(f.offset<h){var E=f.offset-v;w=Re(Re({},b),{},{text:b.text.slice(E)}),b=Re(Re({},b),{},{text:b.text.slice(0,E)})}if(d.offset>v){var O=d.offset-v;_=Re(Re({},b),{},{text:b.text.slice(0,O)}),b=Re(Re({},b),{},{text:b.text.slice(O)})}Object.assign(b,s),_&&p.push(_),p.push(b),w&&p.push(w)}}}catch(T){m.e(T)}finally{m.f()}r=p}}catch(T){o.e(T)}finally{o.f()}return r}};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Text=De;var Le=["text"],Me=["children"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue={insertNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae.withoutNormalizing(e,(function(){var r=n.hanging,o=void 0!==r&&r,i=n.voids,a=void 0!==i&&i,s=n.mode,u=void 0===s?"lowest":s,d=n.at,f=n.match,p=n.select;if(fe.isNode(t)&&(t=[t]),0!==t.length){var h=l(t,1)[0];if(d||(d=e.selection?e.selection:e.children.length>0?ae.end(e,[]):[0],p=!0),null==p&&(p=!1),Se.isRange(d))if(o||(d=ae.unhangRange(e,d)),Se.isCollapsed(d))d=d.anchor;else{var m=l(Se.edges(d),2)[1],g=ae.pointRef(e,m);Xe.delete(e,{at:d}),d=g.unref()}if(_e.isPoint(d)){null==f&&(f=De.isText(h)?function(e){return De.isText(e)}:e.isInline(h)?function(t){return De.isText(t)||ae.isInline(e,t)}:function(t){return ae.isBlock(e,t)});var y=l(ae.nodes(e,{at:d.path,match:f,mode:u,voids:a}),1)[0];if(!y)return;var v=l(y,2)[1],b=ae.pathRef(e,v),_=ae.isEnd(e,d,v);Xe.splitNodes(e,{at:d,match:f,mode:u,voids:a});var w=b.unref();d=_?ge.next(w):w}var E=ge.parent(d),O=d[d.length-1];if(a||!ae.void(e,{at:E})){var S,T=c(t);try{for(T.s();!(S=T.n()).done;){var C=S.value,k=E.concat(O);O++,e.apply({type:"insert_node",path:k,node:C}),d=ge.next(d)}}catch(P){T.e(P)}finally{T.f()}if(d=ge.previous(d),p){var A=ae.end(e,d);A&&Xe.select(e,A)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae.withoutNormalizing(e,(function(){var n=t.at,r=void 0===n?e.selection:n,o=t.mode,i=void 0===o?"lowest":o,a=t.voids,s=void 0!==a&&a,u=t.match;if(null==u&&(u=ge.isPath(r)?qe(e,r):function(t){return ae.isBlock(e,t)}),r)for(var c=ae.nodes(e,{at:r,match:u,mode:i,voids:s}),d=0,f=Array.from(c,(function(t){var n=l(t,2)[1];return ae.pathRef(e,n)}));d<f.length;d++){var p=f[d].unref();if(p.length<2)throw new Error("Cannot lift node at a path [".concat(p,"] because it has a depth of less than `2`."));var h=l(ae.node(e,ge.parent(p)),2),m=h[0],g=h[1],y=p[p.length-1],v=m.children.length;if(1===v){var b=ge.next(g);Xe.moveNodes(e,{at:p,to:b,voids:s}),Xe.removeNodes(e,{at:g,voids:s})}else if(0===y)Xe.moveNodes(e,{at:p,to:g,voids:s});else if(y===v-1){var _=ge.next(g);Xe.moveNodes(e,{at:p,to:_,voids:s})}else{var w=ge.next(p),E=ge.next(g);Xe.splitNodes(e,{at:w,voids:s}),Xe.moveNodes(e,{at:p,to:E,voids:s})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae.withoutNormalizing(e,(function(){var n=t.match,r=t.at,o=void 0===r?e.selection:r,i=t.hanging,a=void 0!==i&&i,s=t.voids,u=void 0!==s&&s,c=t.mode,d=void 0===c?"lowest":c;if(o){if(null==n)if(ge.isPath(o)){var f=l(ae.parent(e,o),1)[0];n=function(e){return f.children.includes(e)}}else n=function(t){return ae.isBlock(e,t)};if(!a&&Se.isRange(o)&&(o=ae.unhangRange(e,o)),Se.isRange(o))if(Se.isCollapsed(o))o=o.anchor;else{var p=l(Se.edges(o),2)[1],h=ae.pointRef(e,p);Xe.delete(e,{at:o}),o=h.unref(),null==t.at&&Xe.select(e,o)}var m=l(ae.nodes(e,{at:o,match:n,voids:u,mode:d}),1)[0],g=ae.previous(e,{at:o,match:n,voids:u,mode:d});if(m&&g){var y=l(m,2),v=y[0],b=y[1],_=l(g,2),w=_[0],E=_[1];if(0!==b.length&&0!==E.length){var O,T,C=ge.next(E),k=ge.common(b,E),A=ge.isSibling(b,E),P=Array.from(ae.levels(e,{at:b}),(function(e){return l(e,1)[0]})).slice(k.length).slice(0,-1),x=ae.above(e,{at:b,mode:"highest",match:function(t){return P.includes(t)&&He(e,t)}}),I=x&&ae.pathRef(e,x[1]);if(De.isText(v)&&De.isText(w)){var R=S(v,Le);T=w.text.length,O=R}else{if(!ee.isElement(v)||!ee.isElement(w))throw new Error("Cannot merge the node at path [".concat(b,"] with the previous sibling because it is not the same kind: ").concat(ke.stringify(v)," ").concat(ke.stringify(w)));R=S(v,Me);T=w.children.length,O=R}A||Xe.moveNodes(e,{at:b,to:C,voids:u}),I&&Xe.removeNodes(e,{at:I.current,voids:u}),ee.isElement(w)&&ae.isEmpty(e,w)||De.isText(w)&&""===w.text&&0!==E[E.length-1]?Xe.removeNodes(e,{at:E,voids:u}):e.apply({type:"merge_node",path:C,position:T,properties:O}),I&&I.unref()}}}}))},moveNodes:function(e,t){ae.withoutNormalizing(e,(function(){var n=t.to,r=t.at,o=void 0===r?e.selection:r,i=t.mode,a=void 0===i?"lowest":i,s=t.voids,u=void 0!==s&&s,c=t.match;if(o){null==c&&(c=ge.isPath(o)?qe(e,o):function(t){return ae.isBlock(e,t)});for(var d=ae.pathRef(e,n),f=ae.nodes(e,{at:o,match:c,mode:a,voids:u}),p=0,h=Array.from(f,(function(t){var n=l(t,2)[1];return ae.pathRef(e,n)}));p<h.length;p++){var m=h[p].unref(),g=d.current;0!==m.length&&e.apply({type:"move_node",path:m,newPath:g}),d.current&&ge.isSibling(g,m)&&ge.isAfter(g,m)&&(d.current=ge.next(d.current))}d.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae.withoutNormalizing(e,(function(){var n=t.hanging,r=void 0!==n&&n,o=t.voids,i=void 0!==o&&o,a=t.mode,s=void 0===a?"lowest":a,u=t.at,c=void 0===u?e.selection:u,d=t.match;if(c){null==d&&(d=ge.isPath(c)?qe(e,c):function(t){return ae.isBlock(e,t)}),!r&&Se.isRange(c)&&(c=ae.unhangRange(e,c));for(var f=ae.nodes(e,{at:c,match:d,mode:s,voids:i}),p=0,h=Array.from(f,(function(t){var n=l(t,2)[1];return ae.pathRef(e,n)}));p<h.length;p++){var m=h[p].unref();if(m){var g=l(ae.node(e,m),1)[0];e.apply({type:"remove_node",path:m,node:g})}}}}))},setNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae.withoutNormalizing(e,(function(){var r=n.match,o=n.at,i=void 0===o?e.selection:o,a=n.compare,s=n.merge,u=n.hanging,d=void 0!==u&&u,f=n.mode,p=void 0===f?"lowest":f,h=n.split,m=void 0!==h&&h,g=n.voids,y=void 0!==g&&g;if(i){if(null==r&&(r=ge.isPath(i)?qe(e,i):function(t){return ae.isBlock(e,t)}),!d&&Se.isRange(i)&&(i=ae.unhangRange(e,i)),m&&Se.isRange(i)){if(Se.isCollapsed(i)&&ae.leaf(e,i.anchor)[0].text.length>0)return;var v=ae.rangeRef(e,i,{affinity:"inward"}),b=l(Se.edges(i),2),_=b[0],w=b[1],E="lowest"===p?"lowest":"highest",O=ae.isEnd(e,w,w.path);Xe.splitNodes(e,{at:w,match:r,mode:E,voids:y,always:!O});var S=ae.isStart(e,_,_.path);Xe.splitNodes(e,{at:_,match:r,mode:E,voids:y,always:!S}),i=v.unref(),null==n.at&&Xe.select(e,i)}a||(a=function(e,t){return e!==t});var T,C=c(ae.nodes(e,{at:i,match:r,mode:p,voids:y}));try{for(C.s();!(T=C.n()).done;){var k=l(T.value,2),A=k[0],P=k[1],x={},I={};if(0!==P.length){var R=!1;for(var D in t)"children"!==D&&"text"!==D&&a(t[D],A[D])&&(R=!0,A.hasOwnProperty(D)&&(x[D]=A[D]),s?null!=t[D]&&(I[D]=s(A[D],t[D])):null!=t[D]&&(I[D]=t[D]));R&&e.apply({type:"set_node",path:P,properties:x,newProperties:I})}}}catch(j){C.e(j)}finally{C.f()}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,o=t.voids,i=void 0!==o&&o,a=t.match,s=t.at,u=void 0===s?e.selection:s,d=t.height,f=void 0===d?0:d,p=t.always,h=void 0!==p&&p;if(null==a&&(a=function(t){return ae.isBlock(e,t)}),Se.isRange(u)&&(u=We(e,u)),ge.isPath(u)){var m=u,g=ae.point(e,m),y=l(ae.parent(e,m),1)[0];a=function(e){return e===y},f=g.path.length-m.length+1,u=g,h=!0}if(u){var v,b=ae.pointRef(e,u,{affinity:"backward"});try{var _=l(ae.nodes(e,{at:u,match:a,mode:r,voids:i}),1)[0];if(!_)return;var w=ae.void(e,{at:u,mode:"highest"});if(!i&&w){var E=l(w,2),O=E[0],S=E[1];if(ee.isElement(O)&&e.isInline(O)){var T=ae.after(e,S);if(!T){var C=ge.next(S);Xe.insertNodes(e,{text:""},{at:C,voids:i}),T=ae.point(e,C)}u=T,h=!0}f=u.path.length-S.length+1,h=!0}v=ae.pointRef(e,u);var k,A=u.path.length-f,P=l(_,2)[1],x=u.path.slice(0,A),I=0===f?u.offset:u.path[A]+0,R=c(ae.levels(e,{at:x,reverse:!0,voids:i}));try{for(R.s();!(k=R.n()).done;){var D=l(k.value,2),j=D[0],N=D[1],L=!1;if(N.length<P.length||0===N.length||!i&&ae.isVoid(e,j))break;var M=b.current,B=ae.isEnd(e,M,N);if(h||!b||!ae.isEdge(e,M,N)){L=!0;var F=fe.extractProps(j);e.apply({type:"split_node",path:N,position:I,properties:F})}I=N[N.length-1]+(L||B?1:0)}}catch(W){R.e(W)}finally{R.f()}if(null==t.at){var U=v.current||ae.end(e,[]);Xe.select(e,U)}}finally{var H;b.unref(),null===(H=v)||void 0===H||H.unref()}}}))},unsetNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r,o={},i=c(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;o[a]=null}}catch(s){i.e(s)}finally{i.f()}Xe.setNodes(e,o,n)},unwrapNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,o=t.split,i=void 0!==o&&o,a=t.voids,s=void 0!==a&&a,u=t.at,d=void 0===u?e.selection:u,f=t.match;if(d){null==f&&(f=ge.isPath(d)?qe(e,d):function(t){return ae.isBlock(e,t)}),ge.isPath(d)&&(d=ae.range(e,d));var p,h=Se.isRange(d)?ae.rangeRef(e,d):null,m=ae.nodes(e,{at:d,match:f,mode:r,voids:s}),g=function(t){var n=t.unref(),r=l(ae.node(e,n),1)[0],o=ae.range(e,n);i&&h&&(o=Se.intersection(h.current,o)),Xe.liftNodes(e,{at:o,match:function(e){return ee.isAncestor(r)&&r.children.includes(e)},voids:s})},y=c(Array.from(m,(function(t){var n=l(t,2)[1];return ae.pathRef(e,n)})).reverse());try{for(y.s();!(p=y.n()).done;){g(p.value)}}catch(v){y.e(v)}finally{y.f()}h&&h.unref()}}))},wrapNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae.withoutNormalizing(e,(function(){var r=n.mode,o=void 0===r?"lowest":r,i=n.split,a=void 0!==i&&i,s=n.voids,u=void 0!==s&&s,c=n.match,d=n.at,f=void 0===d?e.selection:d;if(f){if(null==c&&(c=ge.isPath(f)?qe(e,f):e.isInline(t)?function(t){return ae.isInline(e,t)||De.isText(t)}:function(t){return ae.isBlock(e,t)}),a&&Se.isRange(f)){var p=l(Se.edges(f),2),h=p[0],m=p[1],g=ae.rangeRef(e,f,{affinity:"inward"});Xe.splitNodes(e,{at:m,match:c,voids:u}),Xe.splitNodes(e,{at:h,match:c,voids:u}),f=g.unref(),null==n.at&&Xe.select(e,f)}for(var y=0,v=Array.from(ae.nodes(e,{at:f,match:e.isInline(t)?function(t){return ae.isBlock(e,t)}:function(e){return ae.isEditor(e)},mode:"lowest",voids:u}));y<v.length;y++){var b=l(v[y],2)[1],_=Se.isRange(f)?Se.intersection(f,ae.range(e,b)):f;if(_){var w=Array.from(ae.nodes(e,{at:_,match:c,mode:o,voids:u}));if(w.length>0)if("continue"===function(){var n=w[0],r=w[w.length-1],o=l(n,2)[1],i=l(r,2)[1];if(0===o.length&&0===i.length)return"continue";var a=ge.equals(o,i)?ge.parent(o):ge.common(o,i),s=ae.range(e,o,i),c=l(ae.node(e,a),1)[0],d=a.length+1,f=ge.next(i.slice(0,d)),p=Fe(Fe({},t),{},{children:[]});Xe.insertNodes(e,p,{at:f,voids:u}),Xe.moveNodes(e,{at:s,match:function(e){return ee.isAncestor(c)&&c.children.includes(e)},to:f.concat(0),voids:u})}())continue}}}}))}},He=function e(t,n){if(ee.isElement(n)){var r=n;return!!ae.isVoid(t,n)||1===r.children.length&&e(t,r.children[0])}return!ae.isEditor(n)},We=function(e,t){if(Se.isCollapsed(t))return t.anchor;var n=l(Se.edges(t),2)[1],r=ae.pointRef(e,n);return Xe.delete(e,{at:t}),r.unref()},qe=function(e,t){var n=l(ae.node(e,t),1)[0];return function(e){return e===n}};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge={collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.edge,r=void 0===n?"anchor":n,o=e.selection;if(o)if("anchor"===r)Xe.select(e,o.anchor);else if("focus"===r)Xe.select(e,o.focus);else if("start"===r){var i=Se.edges(o),a=l(i,1),s=a[0];Xe.select(e,s)}else if("end"===r){var u=Se.edges(o),c=l(u,2),d=c[1];Xe.select(e,d)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selection,r=t.distance,o=void 0===r?1:r,i=t.unit,a=void 0===i?"character":i,s=t.reverse,l=void 0!==s&&s,u=t.edge,c=void 0===u?null:u;if(n){"start"===c&&(c=Se.isBackward(n)?"focus":"anchor"),"end"===c&&(c=Se.isBackward(n)?"anchor":"focus");var d=n.anchor,f=n.focus,p={distance:o,unit:a},h={};if(null==c||"anchor"===c){var m=l?ae.before(e,d,p):ae.after(e,d,p);m&&(h.anchor=m)}if(null==c||"focus"===c){var g=l?ae.before(e,f,p):ae.after(e,f,p);g&&(h.focus=g)}Xe.setSelection(e,h)}},select:function(e,t){var n=e.selection;if(t=ae.range(e,t),n)Xe.setSelection(e,t);else{if(!Se.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(ke.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.selection,o=n.edge,i=void 0===o?"both":o;if(r){"start"===i&&(i=Se.isBackward(r)?"focus":"anchor"),"end"===i&&(i=Se.isBackward(r)?"anchor":"focus");var a=r.anchor,s=r.focus,l="anchor"===i?a:s;Xe.setSelection(e,u({},"anchor"===i?"anchor":"focus",Ve(Ve({},l),t)))}},setSelection:function(e,t){var n=e.selection,r={},o={};if(n){for(var i in t)("anchor"===i&&null!=t.anchor&&!_e.equals(t.anchor,n.anchor)||"focus"===i&&null!=t.focus&&!_e.equals(t.focus,n.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}}},$e={delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae.withoutNormalizing(e,(function(){var n=t.reverse,r=void 0!==n&&n,o=t.unit,i=void 0===o?"character":o,a=t.distance,s=void 0===a?1:a,u=t.voids,d=void 0!==u&&u,f=t.at,p=void 0===f?e.selection:f,h=t.hanging,m=void 0!==h&&h;if(p){if(Se.isRange(p)&&Se.isCollapsed(p)&&(p=p.anchor),_e.isPoint(p)){var g=ae.void(e,{at:p,mode:"highest"});if(!d&&g){p=l(g,2)[1]}else{var y={unit:i,distance:s};p={anchor:p,focus:r?ae.before(e,p,y)||ae.start(e,[]):ae.after(e,p,y)||ae.end(e,[])},m=!0}}if(ge.isPath(p))Xe.removeNodes(e,{at:p,voids:d});else if(!Se.isCollapsed(p)){if(!m){var v=l(Se.edges(p),2)[1],b=ae.end(e,[]);_e.equals(v,b)||(p=ae.unhangRange(e,p,{voids:d}))}var _=l(Se.edges(p),2),w=_[0],E=_[1],O=ae.above(e,{match:function(t){return ae.isBlock(e,t)},at:w,voids:d}),S=ae.above(e,{match:function(t){return ae.isBlock(e,t)},at:E,voids:d}),T=O&&S&&!ge.equals(O[1],S[1]),C=ge.equals(w.path,E.path),k=d?null:ae.void(e,{at:w,mode:"highest"}),A=d?null:ae.void(e,{at:E,mode:"highest"});if(k){var P=ae.before(e,w);P&&O&&ge.isAncestor(O[1],P.path)&&(w=P)}if(A){var x=ae.after(e,E);x&&S&&ge.isAncestor(S[1],x.path)&&(E=x)}var I,R,D=[],j=c(ae.nodes(e,{at:p,voids:d}));try{for(j.s();!(R=j.n()).done;){var N=R.value,L=l(N,2),M=L[0],B=L[1];I&&0===ge.compare(B,I)||(!d&&ae.isVoid(e,M)||!ge.isCommon(B,w.path)&&!ge.isCommon(B,E.path))&&(D.push(N),I=B)}}catch(oe){j.e(oe)}finally{j.f()}var F=Array.from(D,(function(t){var n=l(t,2)[1];return ae.pathRef(e,n)})),U=ae.pointRef(e,w),H=ae.pointRef(e,E);if(!C&&!k){var W=U.current,q=l(ae.leaf(e,W),1)[0],z=W.path,V=w.offset,G=q.text.slice(V);G.length>0&&e.apply({type:"remove_text",path:z,offset:V,text:G})}for(var $=0,K=F;$<K.length;$++){var Y=K[$].unref();Xe.removeNodes(e,{at:Y,voids:d})}if(!A){var X=H.current,J=l(ae.leaf(e,X),1)[0],Z=X.path,Q=C?w.offset:0,ee=J.text.slice(Q,E.offset);ee.length>0&&e.apply({type:"remove_text",path:Z,offset:Q,text:ee})}!C&&T&&H.current&&U.current&&Xe.mergeNodes(e,{at:H.current,hanging:!0,voids:d});var te=U.unref(),ne=H.unref(),re=r?te||ne:ne||te;null==t.at&&re&&Xe.select(e,re)}}}))},insertFragment:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae.withoutNormalizing(e,(function(){var r=n.hanging,o=void 0!==r&&r,i=n.voids,a=void 0!==i&&i,s=n.at,u=void 0===s?e.selection:s;if(t.length&&u){if(Se.isRange(u))if(o||(u=ae.unhangRange(e,u)),Se.isCollapsed(u))u=u.anchor;else{var d=l(Se.edges(u),2)[1];if(!a&&ae.void(e,{at:d}))return;var f=ae.pointRef(e,d);Xe.delete(e,{at:u}),u=f.unref()}else ge.isPath(u)&&(u=ae.start(e,u));if(a||!ae.void(e,{at:u})){var p=ae.above(e,{at:u,match:function(t){return ae.isInline(e,t)},mode:"highest",voids:a});if(p){var h=l(p,2)[1];if(ae.isEnd(e,u,h))u=ae.after(e,h);else if(ae.isStart(e,u,h)){u=ae.before(e,h)}}var m,g=l(ae.above(e,{match:function(t){return ae.isBlock(e,t)},at:u,voids:a}),2)[1],y=ae.isStart(e,u,g),v=ae.isEnd(e,u,g),b=y&&v,_=!y||y&&v,w=!v,E=l(fe.first({children:t},[]),2)[1],O=l(fe.last({children:t},[]),2)[1],S=[],T=function(t){var n=l(t,2),r=n[0],o=n[1];return!(0===o.length)&&(!!b||!(_&&ge.isAncestor(o,E)&&ee.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(w&&ge.isAncestor(o,O)&&ee.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))},C=c(fe.nodes({children:t},{pass:T}));try{for(C.s();!(m=C.n()).done;){var k=m.value;T(k)&&S.push(k)}}catch(G){C.e(G)}finally{C.f()}for(var A=[],P=[],x=[],I=!0,R=!1,D=0,j=S;D<j.length;D++){var N=l(j[D],1)[0];ee.isElement(N)&&!e.isInline(N)?(I=!1,R=!0,P.push(N)):I?A.push(N):x.push(N)}var L=l(ae.nodes(e,{at:u,match:function(t){return De.isText(t)||ae.isInline(e,t)},mode:"highest",voids:a}),1),M=l(L[0],2)[1],B=ae.isStart(e,u,M),F=ae.isEnd(e,u,M),U=ae.pathRef(e,v?ge.next(g):g),H=ae.pathRef(e,F?ge.next(M):M),W=ae.pathRef(e,g);Xe.splitNodes(e,{at:u,match:function(t){return R?ae.isBlock(e,t):De.isText(t)||ae.isInline(e,t)},mode:R?"lowest":"highest",voids:a});var q=ae.pathRef(e,!B||B&&F?ge.next(M):M);if(Xe.insertNodes(e,A,{at:q.current,match:function(t){return De.isText(t)||ae.isInline(e,t)},mode:"highest",voids:a}),b&&P.length&&Xe.delete(e,{at:W.unref(),voids:a}),Xe.insertNodes(e,P,{at:U.current,match:function(t){return ae.isBlock(e,t)},mode:"lowest",voids:a}),Xe.insertNodes(e,x,{at:H.current,match:function(t){return De.isText(t)||ae.isInline(e,t)},mode:"highest",voids:a}),!n.at){var z;z=x.length>0?ge.previous(H.current):P.length>0?ge.previous(U.current):ge.previous(q.current);var V=ae.end(e,z);Xe.select(e,V)}q.unref(),U.unref(),H.unref()}}}))},insertText:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae.withoutNormalizing(e,(function(){var r=n.voids,o=void 0!==r&&r,i=n.at,a=void 0===i?e.selection:i;if(a){if(ge.isPath(a)&&(a=ae.range(e,a)),Se.isRange(a))if(Se.isCollapsed(a))a=a.anchor;else{var s=Se.end(a);if(!o&&ae.void(e,{at:s}))return;var l=Se.start(a),u=ae.pointRef(e,l),c=ae.pointRef(e,s);Xe.delete(e,{at:a,voids:o});var d=u.unref(),f=c.unref();a=d||f,Xe.setSelection(e,{anchor:a,focus:a})}if(o||!ae.void(e,{at:a})){var p=a,h=p.path,m=p.offset;t.length>0&&e.apply({type:"insert_text",path:h,offset:m,text:t})}}}))}};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=Ye(Ye(Ye(Ye({},{transform:function(e,t){e.children=(0,i.createDraft)(e.children);var n=e.selection&&(0,i.createDraft)(e.selection);try{n=function(e,t,n){switch(n.type){case"insert_node":var r=n.path,o=n.node,i=fe.parent(e,r),a=r[r.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(a,0,o),t){var u,d=c(Se.points(t));try{for(d.s();!(u=d.n()).done;){var f=l(u.value,2),p=f[0];t[f[1]]=_e.transform(p,n)}}catch(Je){d.e(Je)}finally{d.f()}}break;case"insert_text":var h=n.path,m=n.offset,g=n.text;if(0===g.length)break;var y=fe.leaf(e,h),v=y.text.slice(0,m),b=y.text.slice(m);if(y.text=v+g+b,t){var _,w=c(Se.points(t));try{for(w.s();!(_=w.n()).done;){var E=l(_.value,2),O=E[0];t[E[1]]=_e.transform(O,n)}}catch(Je){w.e(Je)}finally{w.f()}}break;case"merge_node":var S=n.path,T=fe.get(e,S),C=ge.previous(S),k=fe.get(e,C),A=fe.parent(e,S),P=S[S.length-1];if(De.isText(T)&&De.isText(k))k.text+=T.text;else{if(De.isText(T)||De.isText(k))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(S,"] to nodes of different interfaces: ").concat(ke.stringify(T)," ").concat(ke.stringify(k)));var x;(x=k.children).push.apply(x,s(T.children))}if(A.children.splice(P,1),t){var I,R=c(Se.points(t));try{for(R.s();!(I=R.n()).done;){var D=l(I.value,2),j=D[0];t[D[1]]=_e.transform(j,n)}}catch(Je){R.e(Je)}finally{R.f()}}break;case"move_node":var N=n.path,L=n.newPath;if(ge.isAncestor(N,L))throw new Error("Cannot move a path [".concat(N,"] to new path [").concat(L,"] because the destination is inside itself."));var M=fe.get(e,N),B=fe.parent(e,N),F=N[N.length-1];B.children.splice(F,1);var U=ge.transform(N,n),H=fe.get(e,ge.parent(U)),W=U[U.length-1];if(H.children.splice(W,0,M),t){var q,z=c(Se.points(t));try{for(z.s();!(q=z.n()).done;){var V=l(q.value,2),G=V[0];t[V[1]]=_e.transform(G,n)}}catch(Je){z.e(Je)}finally{z.f()}}break;case"remove_node":var $=n.path,K=$[$.length-1];if(fe.parent(e,$).children.splice(K,1),t){var Y,X=c(Se.points(t));try{for(X.s();!(Y=X.n()).done;){var J=l(Y.value,2),Z=J[0],Q=J[1],ee=_e.transform(Z,n);if(null!=t&&null!=ee)t[Q]=ee;else{var te,ne=void 0,re=void 0,oe=c(fe.texts(e));try{for(oe.s();!(te=oe.n()).done;){var ie=l(te.value,2),ae=ie[0],se=ie[1];if(-1!==ge.compare(se,$)){re=[ae,se];break}ne=[ae,se]}}catch(Je){oe.e(Je)}finally{oe.f()}var le=!1;ne&&re&&(le=ge.equals(re[1],$)?!ge.hasPrevious(re[1]):ge.common(ne[1],$).length<ge.common(re[1],$).length),ne&&!le?(Z.path=ne[1],Z.offset=ne[0].text.length):re?(Z.path=re[1],Z.offset=0):t=null}}}catch(Je){X.e(Je)}finally{X.f()}}break;case"remove_text":var ue=n.path,ce=n.offset,de=n.text;if(0===de.length)break;var pe=fe.leaf(e,ue),he=pe.text.slice(0,ce),me=pe.text.slice(ce+de.length);if(pe.text=he+me,t){var ye,ve=c(Se.points(t));try{for(ve.s();!(ye=ve.n()).done;){var be=l(ye.value,2),we=be[0];t[be[1]]=_e.transform(we,n)}}catch(Je){ve.e(Je)}finally{ve.f()}}break;case"set_node":var Ee=n.path,Oe=n.properties,Te=n.newProperties;if(0===Ee.length)throw new Error("Cannot set properties on the root node!");var Ce=fe.get(e,Ee);for(var Ae in Te){if("children"===Ae||"text"===Ae)throw new Error('Cannot set the "'.concat(Ae,'" property of nodes!'));var Pe=Te[Ae];null==Pe?delete Ce[Ae]:Ce[Ae]=Pe}for(var xe in Oe)Te.hasOwnProperty(xe)||delete Ce[xe];break;case"set_selection":var Ie=n.newProperties;if(null==Ie)t=Ie;else{if(null==t){if(!Se.isRange(Ie))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(ke.stringify(Ie)," when there is no current selection."));t=Ne({},Ie)}for(var Re in Ie){var je=Ie[Re];if(null==je){if("anchor"===Re||"focus"===Re)throw new Error('Cannot remove the "'.concat(Re,'" selection property'));delete t[Re]}else t[Re]=je}}break;case"split_node":var Le=n.path,Me=n.position,Be=n.properties;if(0===Le.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Le,"] because the root node cannot be split."));var Fe,Ue=fe.get(e,Le),He=fe.parent(e,Le),We=Le[Le.length-1];if(De.isText(Ue)){var qe=Ue.text.slice(0,Me),ze=Ue.text.slice(Me);Ue.text=qe,Fe=Ne(Ne({},Be),{},{text:ze})}else{var Ve=Ue.children.slice(0,Me),Ge=Ue.children.slice(Me);Ue.children=Ve,Fe=Ne(Ne({},Be),{},{children:Ge})}if(He.children.splice(We+1,0,Fe),t){var $e,Ke=c(Se.points(t));try{for(Ke.s();!($e=Ke.n()).done;){var Ye=l($e.value,2),Xe=Ye[0];t[Ye[1]]=_e.transform(Xe,n)}}catch(Je){Ke.e(Je)}finally{Ke.f()}}}return t}(e,n,t)}finally{e.children=(0,i.finishDraft)(e.children),e.selection=n?(0,i.isDraft)(n)?(0,i.finishDraft)(n):n:null}}}),Ue),Ge),$e);t.Transforms=Xe},e=>{"use strict";e.exports=function(e){if(e=String(e||""),r.test(e))return"rtl";if(o.test(e))return"ltr";return"neutral"};var t="֑-߿יִ-﷽ﹰ-ﻼ",n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=new RegExp("^[^"+n+"]*["+t+"]"),o=new RegExp("^[^"+t+"]*["+n+"]")},(e,t)=>{var n="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),r="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},i=t.StyleModule=function(e,t){this.rules=[];var n=(t||{}).finish;function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,a){var s=[],l=/^@(\w+)\b/.exec(e[0]),u=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(var c in t){var d=t[c];if(/&/.test(c))o(c.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),d,i);else if(d&&"object"==typeof d){if(!l)throw new RangeError("The value of a property ("+c+") should be a primitive value.");o(r(c),d,s,u)}else null!=d&&s.push(c.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+d+";")}(s.length||u)&&i.push((!n||l||a?e:e.map(n)).join(", ")+" {"+s.join(" ")+"}")}for(var i in e)o(r(i),e[i],this.rules)};i.prototype.getRules=function(){return this.rules.join("\n")},i.newName=function(){var e=o[n]||1;return o[n]=e+1,"ͼ"+e.toString(36)},i.mount=function(e,t){(e[r]||new s(e)).mount(Array.isArray(t)?t:[t])};var a=null,s=function(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(a)return e.adoptedStyleSheets=[a.sheet].concat(e.adoptedStyleSheets),e[r]=a;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),a=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");var t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[r]=this};s.prototype.mount=function(e){for(var t=this.sheet,n=0,r=0,o=0;o<e.length;o++){var i=e[o],a=this.modules.indexOf(i);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),-1==a){if(this.modules.splice(r++,0,i),t)for(var s=0;s<i.rules.length;s++)t.insertRule(i.rules[s],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=i.rules.length,r++}}if(!t){for(var l="",u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+"\n";this.styleTag.textContent=l}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p,t.fileShape=void 0;var r=l(n(1)),o=l(n(2)),i=l(n(596)),a=l(n(20)),s=l(n(1521));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={name:o.default.string.isRequired,commit:o.default.bool.isRequired,hasConflictingName:o.default.bool.isRequired};t.fileShape=f;function p(e){var t=e.files,n=e.notes,o=e.onToggleFile,a=e.onChangeNotes,l=e.showSaveToBackpackSection;return r.default.createElement("div",null,r.default.createElement("label",{htmlFor:"commit-notes",style:c(c({},h.bold),h.notes)},i.default.commitNotes()),r.default.createElement("textarea",{id:"commit-notes",placeholder:i.default.commitNotesPlaceholder(),onChange:function(e){return a(e.target.value)},style:h.textarea,value:n}),l&&r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{style:c(c({},h.bold),h.filesHeader)},i.default.saveToBackpack()),t.map((function(e){return r.default.createElement(s.default,{file:e,onToggleFile:o,key:e.name})}))))}p.propTypes={files:o.default.arrayOf(o.default.shape(f)).isRequired,notes:o.default.string,onToggleFile:o.default.func.isRequired,onChangeNotes:o.default.func.isRequired,showSaveToBackpackSection:o.default.bool};var h={bold:{fontFamily:'"Gotham 5r", sans-serif',color:a.default.dark_charcoal},filesHeader:{fontSize:14,backgroundColor:a.default.lightest_gray,padding:8},notes:{paddingTop:16},textarea:{width:"98%",height:75,resize:"none"}}},(e,t,n)=>{"use strict";var r=d(n(2)),o=d(n(1)),i=d(n(36)),a=d(n(903)),s=d(n(13)),l=d(n(452)),u=d(n(165)),c=d(n(53));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=l.default["workspace-headers-height"],v=l.default["resize-bar-width"],b=function(e){var t,n;function r(t){var n;return g(h(n=e.call(this,t)||this),"state",{dynamicInstructionsHeight:null}),g(h(n),"updateLayout",(function(){var e=0;n.props.dynamicInstructions&&Object.keys(n.props.dynamicInstructions).forEach((function(t){var r=$(i.default.findDOMNode(n.dynamicInstructionsRefs[t])).outerHeight(!0);r>e&&(e=r)})),n.props.setInstructionsRenderedHeight&&n.props.setInstructionsRenderedHeight(e+y+v+20)})),n.dynamicInstructionsRefs={},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var l=r.prototype;return l.componentDidMount=function(){this.updateLayout(),this.updateLayoutListener=c.default.throttle(this.updateLayout,200),window.addEventListener("resize",this.updateLayoutListener)},l.componentWillUnmount=function(){window.removeEventListener("resize",this.updateLayoutListener)},l.render=function(){var e=this,t=this.props.dynamicInstructions[this.props.dynamicInstructionsKey]||" ";return o.default.createElement("div",null,o.default.createElement(a.default,{title:s.default.instructions(),text:t}),o.default.createElement("div",{style:p(p({},_.container),{},{height:this.state.dynamicInstructionsHeight})},Object.keys(this.props.dynamicInstructions).map((function(t){return o.default.createElement("div",{style:p(p({},_.instruction),{},{opacity:t===e.props.dynamicInstructionsKey?1:0}),key:t},o.default.createElement("div",{className:"dynamic-instructions-markdown",ref:function(n){return e.dynamicInstructionsRefs[t]=n}},o.default.createElement(u.default,{markdown:e.props.dynamicInstructions[t],openExternalLinksInNewTab:!0})))}))))},r}(o.default.Component);g(b,"propTypes",{dynamicInstructions:r.default.object,dynamicInstructionsKey:r.default.string,setInstructionsRenderedHeight:r.default.func});var _={container:{position:"relative",marginTop:10,marginRight:50},instruction:{position:"absolute",top:0}};e.exports=b},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatelessInlineAudio=void 0;var r=d(n(204)),o=d(n(2)),i=d(n(103)),a=d(n(1)),s=n(27),l=d(n(142)),u=d(n(20)),c=d(n(131));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={en_us:{VOICE:"sharon22k",SPEED:180,SHAPE:100},es_es:{VOICE:"ines22k",SPEED:180,SHAPE:100},es_mx:{VOICE:"rosa22k",SPEED:180,SHAPE:100},it_it:{VOICE:"vittorio22k",SPEED:180,SHAPE:100},pt_br:{VOICE:"marcia22k",SPEED:180,SHAPE:100}},g=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","pointerup","touchend","keydown","keyup"],y=function(e){var t,n;function o(t){var n;return h(f(n=e.call(this,t)||this),"state",{audio:void 0,playing:!1,error:!1,hover:!1,loaded:!1,autoplayed:!1}),h(f(n),"toggleAudio",(function(){n.state.playing?n.pauseAudio():n.playAudio()})),h(f(n),"toggleHover",(function(){n.setState({hover:!n.state.hover})})),n.autoplayAudio=n.autoplayAudio.bind(f(n)),n.autoplayTriggerElement=null,n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var i=o.prototype;return i.componentDidMount=function(){if(this.getAudioElement(),this.props.ttsAutoplayEnabled&&!this.state.autoplayed){var e=this.props.autoplayTriggerElementId;this.autoplayTriggerElement=e?document.getElementById(e):document,this.playAudio()}},i.UNSAFE_componentWillUpdate=function(e){if(this.props.src!==e.src||this.props.message!==e.message){var t=this.state.audio;t&&(t.pause(),t.removeAttribute("src"),t.load()),this.setState({audio:void 0,playing:!1,error:!1})}},i.getAudioElement=function(){var e=this;if(this.state.audio)return this.state.audio;var t=this.getAudioSrc(),n=new Audio(t);return n.load(),n.addEventListener("canplay",(function(){e.setState({loaded:!0})})),n.addEventListener("ended",(function(t){e.setState({playing:!1,autoplayed:e.props.ttsAutoplayEnabled})})),n.addEventListener("error",(function(t){(0,l.default)("InlineAudio","error",t.target.error.code),e.setState({playing:!1,error:!0})})),this.setState({audio:n}),(0,l.default)("InlineAudio","getAudioElement",t),n},i.isLocaleSupported=function(){return m.hasOwnProperty(this.props.locale)},i.getAudioSrc=function(){if(this.props.src)return this.props.src;if(this.props.message&&m[this.props.locale]){var e=m[this.props.locale],t="".concat(e.VOICE,"/").concat(e.SPEED,"/").concat(e.SHAPE),n=this.props.message.replace('"???"',"the question marks"),o=(0,r.default)(n).toString(),i="".concat(o,"/").concat(encodeURIComponent(n),".mp3");return"".concat("https://tts.code.org","/").concat(t,"/").concat(i)}},i.recordPlayEvent=function(){c.default.putRecord({study:"tts-play",study_group:"v1",event:"play",data_string:this.props.src,data_json:JSON.stringify({userId:this.props.userId,puzzleNumber:this.props.puzzleNumber,src:this.props.src,csfStyleInstructions:this.props.isOnCSFPuzzle})})},i.addAudioAutoplayTrigger=function(){var e=this;g.forEach((function(t){e.autoplayTriggerElement.addEventListener(t,e.autoplayAudio)}))},i.removeAudioAutoplayTrigger=function(){var e=this;g.forEach((function(t){e.autoplayTriggerElement.removeEventListener(t,e.autoplayAudio)}))},i.playAudio=function(){var e=this;return this.getAudioElement().play().then((function(){e.setState({playing:!0}),e.recordPlayEvent()})).catch((function(t){var n=e.props.ttsAutoplayEnabled&&!e.state.autoplayed;if(!(t instanceof DOMException&&n))throw t;e.addAudioAutoplayTrigger()}))},i.autoplayAudio=function(){var e=this;this.playAudio().then((function(){return e.removeAudioAutoplayTrigger()}))},i.pauseAudio=function(){this.getAudioElement().pause(),this.setState({playing:!1})},i.render=function(){return this.props.textToSpeechEnabled&&!this.state.error&&this.state.loaded&&this.isLocaleSupported()&&this.getAudioSrc()?a.default.createElement("div",{className:"inline-audio",style:[v.wrapper,this.props.style&&this.props.style.wrapper],onMouseOver:this.toggleHover,onMouseOut:this.toggleHover,onClick:this.toggleAudio},a.default.createElement("div",{style:[v.button,v.volumeButton,this.props.style&&this.props.style.button,this.state.hover&&v.hover],id:"volume"},a.default.createElement("i",{className:"fa fa-volume-up",style:[v.buttonImg,this.props.style&&this.props.style.buttonImg]})),a.default.createElement("div",{className:"playPause",style:[v.button,v.playPauseButton,this.props.style&&this.props.style.button,this.state.hover&&v.hover]},a.default.createElement("i",{className:this.state.playing?"fa fa-pause":"fa fa-play",style:[v.buttonImg,this.props.style&&this.props.style.buttonImg]}))):null},o}(a.default.Component);h(y,"propTypes",{assetUrl:o.default.func.isRequired,locale:o.default.string,textToSpeechEnabled:o.default.bool,src:o.default.string,message:o.default.string,style:o.default.object,ttsAutoplayEnabled:o.default.bool,autoplayTriggerElementId:o.default.string,puzzleNumber:o.default.number,userId:o.default.number,isOnCSFPuzzle:o.default.bool});var v={error:{display:"inline-block",marginLeft:10,marginBottom:0,padding:"5px 10px"},wrapper:{marginLeft:"3px",marginRight:"3px",display:"flex"},button:{cursor:"pointer",float:"left",backgroundColor:u.default.lightest_purple,border:"none",outline:"none",width:33,boxSizing:"border-box"},volumeButton:{borderRadius:"4px 0px 0px 4px"},playPauseButton:{borderRadius:"0px 4px 4px 0px"},buttonImg:{opacity:1,float:"left",paddingRight:8,paddingLeft:8,color:"#4d575f"},hover:{backgroundColor:u.default.cyan}};y.defaultProps={ttsAutoplayEnabled:!1};var b=(0,i.default)(y);t.StatelessInlineAudio=b;var _=(0,s.connect)((function(e){return{assetUrl:e.pageConstants.assetUrl,textToSpeechEnabled:e.pageConstants.textToSpeechEnabled||e.pageConstants.isK1,locale:e.pageConstants.locale,userId:e.pageConstants.userId,puzzleNumber:e.pageConstants.puzzleNumber,isOnCSFPuzzle:!e.instructions.noInstructionsWhenCollapsed,ttsAutoplayEnabled:e.instructions.ttsAutoplayEnabledForLevel}}))(b);t.default=_},,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=d(n(1)),o=d(n(2)),i=d(n(634)),a=d(n(1458)),s=d(n(1626)),l=d(n(1899)),u=d(n(13)),c=d(n(1627));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t,n,o,d,f=e.programmingClass,p=e.programmingEnvironmentName,h=e.programmingEnvironmentLanguage,m=e.includeMethodSummary,g=e.isSmallWindow;return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("h1",null,f.name),f.category&&r.default.createElement("div",null,r.default.createElement("strong",null,"".concat(u.default.category(),":")),r.default.createElement("span",{style:{backgroundColor:f.color,marginLeft:10,padding:"5px 10px"}},f.category)),!!f.content&&r.default.createElement("div",{style:{paddingTop:20}},r.default.createElement(i.default,{markdown:f.content.trim(),expandableImages:!0})),(null===(t=f.examples)||void 0===t?void 0:t.length)>0&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.examples()),f.examples.map((function(e,t){return r.default.createElement(a.default,{key:t,example:e,programmingEnvironmentName:p})}))),!!f.syntax&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.syntaxHeader()),r.default.createElement(i.default,{markdown:"`".concat(f.syntax,"`"),expandableImages:!0})),!!f.tips&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.tipsHeader()),r.default.createElement(i.default,{markdown:f.tips.trim(),expandableImages:!0})),!!f.externalDocumentation&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.additionalInformationHeader()),r.default.createElement(i.default,{markdown:u.default.additionalInformationText({externalDocumentationUrl:f.externalDocumentation.trim()})})),(null===(n=f.fields)||void 0===n?void 0:n.length)>0&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.fields()),r.default.createElement(s.default,{fields:f.fields})),(null===(o=f.methods)||void 0===o?void 0:o.length)>0&&m&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.methods()),r.default.createElement(c.default,{methods:f.methods})),(null===(d=f.methods)||void 0===d?void 0:d.length)>0&&r.default.createElement("div",null,r.default.createElement("h2",null,u.default.methodDetails()),f.methods.map((function(e){return r.default.createElement(l.default,{key:e.key,method:e,programmingEnvironmentName:p,programmingEnvironmentLanguage:h,isSmallWindow:g})}))))}var p=o.default.shape({name:o.default.string,category:o.default.string.isRequired,color:o.default.oneOfType([o.default.array,o.default.string]),externalDocumentation:o.default.string,content:o.default.string,syntax:o.default.string,tips:o.default.string});f.propTypes={programmingClass:p.isRequired,programmingEnvironmentName:o.default.string,programmingEnvironmentLanguage:o.default.string,includeMethodSummary:o.default.bool,isSmallWindow:o.default.bool},e.exports=t.default},,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=d(n(452)),s=d(n(59)),l=d(n(20)),u=d(n(2)),c=d(n(103));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=a.default["content-width"],y=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,n=e.link,r=e.linkText,i=e.description,a=e.isRtl,s=e.responsiveSize,l=e.hideBottomMargin,u="lg"===s&&n&&r,c="lg"!==s&&n&&r,d=b.boxResponsive,f=l?"":b.bottomMargin;return o.default.createElement("div",{style:[d,f]},(t||n&&r)&&o.default.createElement("div",{style:b.headingBox},o.default.createElement("div",{style:a?b.headingTextRtl:b.headingText},t),u&&o.default.createElement(v,{link:n,linkText:r,isRtl:a})),i&&o.default.createElement("div",{style:b.description},i),o.default.createElement("div",{style:b.children},o.default.Children.map(this.props.children,(function(e,t){return o.default.createElement("div",{key:t},e)}))),c&&o.default.createElement("div",{style:b.standaloneLinkBox},o.default.createElement(v,{link:n,linkText:r,isRtl:a,bottom:!0})),o.default.createElement("div",{style:b.clear}))},t}(o.Component);m(y,"propTypes",{children:u.default.oneOfType([u.default.node,u.default.arrayOf(u.default.node)]),heading:u.default.string,linkText:u.default.string,link:u.default.string,isRtl:u.default.bool.isRequired,description:u.default.string,responsiveSize:u.default.oneOf(["lg","md","sm","xs"]).isRequired,hideBottomMargin:u.default.bool});var v=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e,t=this.props,n=t.link,r=t.linkText,i=t.isRtl,a=t.bottom;e=i?a?b.linkBoxRtlBottom:b.linkBoxRtl:a?b.linkBoxBottom:b.linkBox;var l=i?"chevron-left":"chevron-right";return o.default.createElement("div",{style:e},o.default.createElement("a",{href:n},i&&o.default.createElement(s.default,{icon:l,style:b.chevronRtl}),o.default.createElement("div",{style:b.linkToViewAll},r)),o.default.createElement("a",{href:n,style:{textDecoration:"none"}},!i&&o.default.createElement(s.default,{icon:l,style:b.chevron})))},t}(o.Component);m(v,"propTypes",{linkText:u.default.string.isRequired,link:u.default.string.isRequired,isRtl:u.default.bool.isRequired,bottom:u.default.bool});var b={box:{width:g},boxResponsive:{width:"100%"},bottomMargin:{marginBottom:60},headingBox:{paddingRight:10,paddingTop:10,paddingBottom:20,overflow:"hidden",zIndex:2,position:"relative"},headingText:{fontFamily:"Gotham 4r",fontSize:24,lineHeight:"26px",color:l.default.charcoal,float:"left",paddingRight:20},headingTextRtl:{fontFamily:"Gotham 4r",fontSize:24,lineHeight:"26px",color:l.default.charcoal,float:"right",paddingLeft:20},standaloneLinkBox:{paddingTop:10,position:"relative",clear:"both"},linkBox:{display:"inline",position:"absolute",bottom:20,right:0},linkBoxRtl:{display:"inline",float:"left",paddingLeft:10,position:"absolute",bottom:20,left:0},linkBoxBottom:{display:"inline",left:0},linkBoxRtlBottom:{display:"inline",right:0},description:{fontSize:14,lineHeight:"22px",fontFamily:"Gotham 4r",zIndex:2,color:l.default.charcoal,width:"100%",marginTop:-10,marginBottom:10,clear:"both"},linkToViewAll:{color:l.default.teal,fontSize:14,fontFamily:"Gotham 4r",marginTop:-2,display:"inline"},chevron:{display:"inline",color:l.default.teal,fontSize:10,fontWeight:"bold",marginLeft:15},chevronRtl:{display:"inline",color:l.default.teal,fontSize:10,fontWeight:"bold",marginRight:15},children:{justifyContent:"space-between",flexWrap:"wrap"},clear:{clear:"both"}},_=(0,i.connect)((function(e){return{responsiveSize:e.responsive.responsiveSize,isRtl:e.isRtl}}))((0,c.default)(y));t.default=_,e.exports=t.default},,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var o=p(n(1)),i=p(n(2)),a=p(n(634)),s=p(n(13)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(630)),u=p(n(59)),c=p(n(20)),d=n(786);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){return e?o.default.createElement("div",{style:b.requiredCheck},o.default.createElement(u.default,{icon:"check"})):null};function v(e){var t=e.parameters,n=e.programmingEnvironmentLanguage,r=e.isSmallWindow,i="java"===n,u=d.tableLayoutStyles.cell;r&&(u=m(m({},u),b.smallCell));var c=[{property:"name",header:{label:s.default.name(),props:{style:m(m(m({},d.tableLayoutStyles.headerCell),b.headerCell),{},{width:"15%"})}},cell:{props:{style:u}}},{property:"type",header:{label:s.default.type(),props:{style:m(m(m({},d.tableLayoutStyles.headerCell),b.headerCell),{},{width:"15%"})}},cell:{props:{style:u}}},{property:"required",header:{label:s.default.requiredQuestion(),props:{style:m(m(m({},d.tableLayoutStyles.headerCell),b.headerCell),{},{width:"15%"},i&&{display:"none"})}},cell:{formatters:[y],props:{style:m(m({},u),i&&{display:"none"})}}},{property:"description",header:{label:s.default.description(),props:{style:m(m(m({},d.tableLayoutStyles.headerCell),b.headerCell),{},{width:"55%"})}},cell:{formatters:[function(e){if(e){var t=r?"0px 0px 0px 5px":10;return o.default.createElement("div",{style:{padding:t}},o.default.createElement(a.default,{markdown:e}))}return null}],props:{style:u}}}];return o.default.createElement(l.Provider,{style:m(m({},d.tableLayoutStyles.table),b.table),columns:c},o.default.createElement(l.Header,null),o.default.createElement(l.Body,{rows:t,rowKey:"name"}))}v.propTypes={parameters:i.default.arrayOf(i.default.object),programmingEnvironmentLanguage:i.default.string,isSmallWindow:i.default.bool};var b={headerCell:{backgroundColor:c.default.teal,color:c.default.white},requiredCheck:{textAlign:"center"},table:{width:"100%"},smallCell:{padding:5,fontSize:13}};e.exports=t.default},,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1345),i=n(1303),a=n(1302),s=n(1497),l=n(1574);const u=new o.NodeProp;function c(e){return i.Facet.define({combine:e?t=>t.concat(e):void 0})}class d{constructor(e,t,n=[]){this.data=e,i.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(i.EditorState.prototype,"tree",{get(){return h(this)}}),this.parser=t,this.extension=[S.of(this),i.EditorState.languageData.of(((e,t,n)=>e.facet(f(e,t,n))))].concat(n)}isActiveAt(e,t,n=-1){return f(e,t,n)==this.data}findRegions(e){let t=e.facet(S);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(u)==this.data)return void n.push({from:t,to:t+e.length});let i=e.prop(o.NodeProp.mounted);if(i){if(i.tree.prop(u)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(i.overlay){let e=n.length;if(r(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof o.Tree&&r(i,e.positions[n]+t)}};return r(h(e),0),n}get allowsNesting(){return!0}}function f(e,t,n){let r=e.facet(S);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let a=h(e).topNode;a;a=a.enter(t,n,o.IterMode.ExcludeBuffers))i=a.type.prop(u)||i;return i}d.setState=i.StateEffect.define();class p extends d{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=c(e.languageData);return new p(t,e.parser.configure({props:[u.add((e=>e.isTop?t:void 0))]}))}configure(e){return new p(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function h(e){let t=e.field(d.state,!1);return t?t.tree:o.Tree.empty}function m(e,t,n=50){var r;let o=null===(r=e.field(d.state,!1))||void 0===r?void 0:r.context;return o&&(o.isDone(t)||o.work(n,t))?o.tree:null}class g{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let y=null;class v{constructor(e,t,n=[],r,o,i,a,s){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=i,this.skipped=a,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new v(e,t,[],o.Tree.empty,0,n,[],null)}startParse(){return this.parser.startParse(new g(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=o.Tree.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(o.TreeFragment.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(o.TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=y;y=this;try{return e()}finally{y=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=b(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:i,viewport:a,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,o)=>t.push({fromA:e,toA:n,fromB:r,toB:o}))),n=o.TreeFragment.applyChanges(n,t),r=o.Tree.empty,i=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new v(this.parser,t,n,r,i,a,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:t,to:r}=this.skipped[n];t<e.to&&r>e.from&&(this.fragments=b(this.fragments,t,r),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends o.Parser{createParse(t,n,r){let i=r[0].from,a=r[r.length-1].to;return{parsedPos:i,advance(){let t=y;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=a,new o.Tree(o.NodeType.none,[],[],a-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return y}}function b(e,t,n){return o.TreeFragment.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class _{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new _(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=v.create(e.facet(S).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new _(n)}}d.state=i.StateField.define({create:_.init,update(e,t){for(let n of t.effects)if(n.is(d.setState))return n.value;return t.startState.facet(S)!=t.state.facet(S)?_.init(t.state):e.apply(t)}});let w=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(w=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const E="undefined"!=typeof navigator&&(null===(r=navigator.scheduling)||void 0===r?void 0:r.isInputPending)?()=>navigator.scheduling.isInputPending():null,O=a.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(d.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(d.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=w(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(d.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!E?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&n.doc.length>r+1e3,s=o.context.work((()=>E&&E()||Date.now()>i),r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(s||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:d.setState.of(new _(o.context))})),this.chunkBudget>0&&(!s||a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>a.logException(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),S=i.Facet.define({combine:e=>e.length?e[0]:null,enables:[d.state,O]});class T{constructor(e,t,n,r,o,i){this.name=e,this.alias=t,this.extensions=n,this.filename=r,this.loadFunc=o,this.support=i,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((e=>this.support=e),(e=>{throw this.loading=null,e})))}static of(e){let{load:t,support:n}=e;if(!t){if(!n)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(n)}return new T(e.name,(e.alias||[]).concat(e.name).map((e=>e.toLowerCase())),e.extensions||[],e.filename,t,n)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let n=/\.([^.]+)$/.exec(t);if(n)for(let r of e)if(r.extensions.indexOf(n[1])>-1)return r;return null}static matchLanguageName(e,t,n=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some((e=>e==t)))return r;if(n)for(let r of e)for(let e of r.alias){let n=t.indexOf(e);if(n>-1&&(e.length>2||!/\w/.test(t[n-1])&&!/\w/.test(t[n+e.length])))return r}return null}}const C=i.Facet.define(),k=i.Facet.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function A(e){let t=e.facet(k);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function P(e,t){let n="",r=e.tabSize;if(9==e.facet(k).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(let o=0;o<t;o++)n+=" ";return n}function x(e,t){e instanceof i.EditorState&&(e=new I(e));for(let r of e.state.facet(C)){let n=r(e,t);if(null!=n)return n}let n=h(e.state);return n?function(e,t,n){return j(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,n,t):null}class I{constructor(e,t={}){this.state=e,this.options=t,this.unit=A(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),i=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return i>-1&&(o+=i-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,t=e.length){return i.countColumn(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const R=new o.NodeProp;function D(e){let t=e.type.prop(R);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(o.NodeProp.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>B(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?N:null}function j(e,t,n){for(;e;e=e.parent){let r=D(e);if(r)return r(L.create(n,t,e))}return null}function N(){return 0}class L extends I{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}static create(e,t,n){return new L(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(M(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?j(e,this.pos,this.base):0}}function M(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function B(e,t,n,r,o){let i=e.textAfter,a=i.match(/^\s*/)[0].length,s=r&&i.slice(a,a+r.length)==r||o==e.pos+a,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),a=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let s=n.to;;){let e=t.childAfter(s);if(!e||e==r)return null;if(!e.type.isSkipped)return e.from<a?n:null;s=e.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}const F=i.Facet.define(),U=new o.NodeProp;function H(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function W(e,t,n){for(let r of e.facet(F)){let o=r(e,t,n);if(o)return o}return function(e,t,n){let r=h(e);if(r.length<n)return null;let o=null;for(let i=r.resolveInner(n);i;i=i.parent){if(i.to<=n||i.from>n)continue;if(o&&i.from<t)break;let a=i.type.prop(U);if(a&&(i.to<r.length-50||r.length==e.doc.length||!H(i))){let r=a(i,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(o=r)}}return o}(e,t,n)}function q(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const z=i.StateEffect.define({map:q}),V=i.StateEffect.define({map:q});function G(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const $=i.StateField.define({create:()=>a.Decoration.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(z)&&!Y(e,n.value.from,n.value.to)?e=e.update({add:[ae.range(n.value.from,n.value.to)]}):n.is(V)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>a.EditorView.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],o=e[n++];if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(ae.range(r,o))}return a.Decoration.set(t,!0)}});function K(e,t,n){var r;let o=null;return null===(r=e.field($,!1))||void 0===r||r.between(t,n,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function Y(e,t,n){let r=!1;return e.between(t,t,((e,o)=>{e==t&&o==n&&(r=!0)})),r}function X(e,t){return e.field($,!1)?t:t.concat(i.StateEffect.appendConfig.of(ie()))}const J=e=>{for(let t of G(e)){let n=W(e.state,t.from,t.to);if(n)return e.dispatch({effects:X(e.state,[z.of(n),Q(e,n)])}),!0}return!1},Z=e=>{if(!e.state.field($,!1))return!1;let t=[];for(let n of G(e)){let r=K(e.state,n.from,n.to);r&&t.push(V.of(r),Q(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function Q(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return a.EditorView.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${o}.`)}const ee=e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let o=e.lineBlockAt(r),i=W(t,o.from,o.to);i&&n.push(z.of(i)),r=(i?e.lineBlockAt(i.to):o).to+1}return n.length&&e.dispatch({effects:X(e.state,n)}),!!n.length},te=e=>{let t=e.state.field($,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(V.of({from:e,to:t}))})),e.dispatch({effects:n}),!0},ne=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:J},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Z},{key:"Ctrl-Alt-[",run:ee},{key:"Ctrl-Alt-]",run:te}],re={placeholderDOM:null,placeholderText:"…"},oe=i.Facet.define({combine:e=>i.combineConfig(e,re)});function ie(e){let t=[$,ue];return e&&t.push(oe.of(e)),t}const ae=a.Decoration.replace({widget:new class extends a.WidgetType{toDOM(e){let{state:t}=e,n=t.facet(oe),r=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=K(e.state,n.from,n.to);r&&e.dispatch({effects:V.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}}}),se={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class le extends a.GutterMarker{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const ue=a.EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ce{constructor(e,t){let n;function r(e){let t=l.StyleModule.newName();return(n||(n=Object.create(null)))["."+t]=e,t}const o="string"==typeof t.all?t.all:t.all?r(t.all):void 0,i=t.scope;this.scope=i instanceof d?e=>e.prop(u)==i.data:i?e=>e==i:void 0,this.style=s.tagHighlighter(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:o}).style,this.module=n?new l.StyleModule(n):null,this.themeType=t.themeType}static define(e,t){return new ce(e,t||{})}}const de=i.Facet.define(),fe=i.Facet.define({combine:e=>e.length?[e[0]]:null});function pe(e){let t=e.facet(de);return t.length?t:e.facet(fe)}const he=i.Prec.high(a.ViewPlugin.fromClass(class{constructor(e){this.markCache=Object.create(null),this.tree=h(e.state),this.decorations=this.buildDeco(e,pe(e.state))}update(e){let t=h(e.state),n=pe(e.state),r=n!=pe(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return a.Decoration.none;let n=new i.RangeSetBuilder;for(let{from:r,to:o}of e.visibleRanges)s.highlightTree(this.tree,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=a.Decoration.mark({class:r})))}),r,o);return n.finish()}},{decorations:e=>e.decorations})),me=ce.define([{tag:s.tags.meta,color:"#7a757a"},{tag:s.tags.link,textDecoration:"underline"},{tag:s.tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:s.tags.emphasis,fontStyle:"italic"},{tag:s.tags.strong,fontWeight:"bold"},{tag:s.tags.strikethrough,textDecoration:"line-through"},{tag:s.tags.keyword,color:"#708"},{tag:[s.tags.atom,s.tags.bool,s.tags.url,s.tags.contentSeparator,s.tags.labelName],color:"#219"},{tag:[s.tags.literal,s.tags.inserted],color:"#164"},{tag:[s.tags.string,s.tags.deleted],color:"#a11"},{tag:[s.tags.regexp,s.tags.escape,s.tags.special(s.tags.string)],color:"#e40"},{tag:s.tags.definition(s.tags.variableName),color:"#00f"},{tag:s.tags.local(s.tags.variableName),color:"#30a"},{tag:[s.tags.typeName,s.tags.namespace],color:"#085"},{tag:s.tags.className,color:"#167"},{tag:[s.tags.special(s.tags.variableName),s.tags.macroName],color:"#256"},{tag:s.tags.definition(s.tags.propertyName),color:"#00c"},{tag:s.tags.comment,color:"#940"},{tag:s.tags.invalid,color:"#f00"}]),ge=a.EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ye="()[]{}",ve=i.Facet.define({combine:e=>i.combineConfig(e,{afterCursor:!0,brackets:ye,maxScanDistance:1e4,renderMatch:we})}),be=a.Decoration.mark({class:"cm-matchingBracket"}),_e=a.Decoration.mark({class:"cm-nonmatchingBracket"});function we(e){let t=[],n=e.matched?be:_e;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Ee=[i.StateField.define({create:()=>a.Decoration.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(ve);for(let o of t.state.selection.ranges){if(!o.empty)continue;let e=Se(t.state,o.head,-1,r)||o.head>0&&Se(t.state,o.head-1,1,r)||r.afterCursor&&(Se(t.state,o.head,1,r)||o.head<t.state.doc.length&&Se(t.state,o.head+1,-1,r));e&&(n=n.concat(r.renderMatch(e,t.state)))}return a.Decoration.set(n,!0)},provide:e=>a.EditorView.decorations.from(e)}),ge];function Oe(e,t,n){let r=e.prop(t<0?o.NodeProp.openedBy:o.NodeProp.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function Se(e,t,n,r={}){let o=r.maxScanDistance||1e4,i=r.brackets||ye,a=h(e),s=a.resolveInner(t,n);for(let l=s;l;l=l.parent){let r=Oe(l.type,n,i);if(r&&l.from<l.to)return Te(e,t,n,l,r,i)}return function(e,t,n,r,o,i,a){let s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?t-1:t,to:n>0?t+1:t},c=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let f=0;!c.next().done&&f<=i;){let e=c.value;n<0&&(f+=e.length);let i=t+f*n;for(let t=n>0?0:e.length-1,s=n>0?e.length:-1;t!=s;t+=n){let s=a.indexOf(e[t]);if(!(s<0||r.resolveInner(i+t,1).type!=o))if(s%2==0==n>0)d++;else{if(1==d)return{start:u,end:{from:i+t,to:i+t+1},matched:s>>1==l>>1};d--}}n>0&&(f+=e.length)}return c.done?{start:u,matched:!1}:null}(e,t,n,a,s.type,o,i)}function Te(e,t,n,r,o,i){let a=r.parent,s={from:r.from,to:r.to},l=0,u=null==a?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==l&&o.indexOf(u.type.name)>-1&&u.from<u.to)return{start:s,end:{from:u.from,to:u.to},matched:!0};if(Oe(u.type,n,i))l++;else if(Oe(u.type,-n,i)){if(0==l)return{start:s,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1};l--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:s,matched:!1}}function Ce(e,t,n,r=0,o=0){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);let i=o;for(let a=r;a<t;a++)9==e.charCodeAt(a)?i+=n-i%n:i++;return i}class ke{constructor(e,t,n){this.string=e,this.tabSize=t,this.indentUnit=n,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e instanceof RegExp?e.test(n):e(n)),t)return++this.pos,n}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ce(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){return Ce(this.string,null,this.tabSize)}match(e,t,n){if("string"==typeof e){let r=e=>n?e.toLowerCase():e;return r(this.string.substr(this.pos,e.length))==r(e)?(!1!==t&&(this.pos+=e.length),!0):null}{let n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}}current(){return this.string.slice(this.start,this.pos)}}function Ae(e){if("object"!=typeof e)return e;let t={};for(let n in e){let r=e[n];t[n]=r instanceof Array?r.slice():r}return t}class Pe extends d{constructor(e){let t,n=c(e.languageData),r={token:(i=e).token,blankLine:i.blankLine||(()=>{}),startState:i.startState||(()=>!0),copyState:i.copyState||Ae,indent:i.indent||(()=>null),languageData:i.languageData||{},tokenTable:i.tokenTable||je};var i;super(n,new class extends o.Parser{createParse(e,n,r){return new Re(t,e,n,r)}},[C.of(((e,t)=>this.getIndent(e,t)))]),this.topNode=function(e){let t=o.NodeType.define({id:Ne.length,name:"Document",props:[u.add((()=>e))]});return Ne.push(t),t}(n),t=this,this.streamParser=r,this.stateAfter=new o.NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new Fe(r.tokenTable):Ue}static define(e){return new Pe(e)}getIndent(e,t){let n=h(e.state),r=n.resolve(t);for(;r&&r.type!=this.topNode;)r=r.parent;if(!r)return null;let o,i,a=xe(this,n,0,r.from,t);if(a?(i=a.state,o=a.pos+1):(i=this.streamParser.startState(e.unit),o=0),t-o>1e4)return null;for(;o<t;){let n=e.state.doc.lineAt(o),r=Math.min(t,n.to);if(n.length){let t=new ke(n.text,e.state.tabSize,e.unit);for(;t.pos<r-n.from;)De(this.streamParser.token,t,i)}else this.streamParser.blankLine(i,e.unit);if(r==t)break;o=n.to+1}let{text:s}=e.lineAt(t);return this.streamParser.indent(i,/^\s*(.*)/.exec(s)[1],e)}get allowsNesting(){return!1}}function xe(e,t,n,r,i){let a=n>=r&&n+t.length<=i&&t.prop(e.stateAfter);if(a)return{state:e.streamParser.copyState(a),pos:n+t.length};for(let s=t.children.length-1;s>=0;s--){let a=t.children[s],l=n+t.positions[s],u=a instanceof o.Tree&&l<i&&xe(e,a,l,r,i);if(u)return u}return null}function Ie(e,t,n,r,i){if(i&&n<=0&&r>=t.length)return t;i||t.type!=e.topNode||(i=!0);for(let a=t.children.length-1;a>=0;a--){let s,l=t.positions[a],u=t.children[a];if(l<r&&u instanceof o.Tree){if(!(s=Ie(e,u,n-l,r-l,i)))break;return i?new o.Tree(t.type,t.children.slice(0,a).concat(s),t.positions.slice(0,a+1),l+s.length):s}}return null}class Re{constructor(e,t,n,r){this.lang=e,this.input=t,this.fragments=n,this.ranges=r,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=r[r.length-1].to;let i=v.get(),a=r[0].from,{state:s,tree:l}=function(e,t,n,r){for(let o of t){let t,r=o.from+(o.openStart?25:0),i=o.to-(o.openEnd?25:0),a=r<=n&&i>n&&xe(e,o.tree,0-o.offset,n,i);if(a&&(t=Ie(e,o.tree,n+o.offset,a.pos+o.offset,!1)))return{state:a.state,tree:t}}return{state:e.streamParser.startState(r?A(r):4),tree:o.Tree.empty}}(e,n,a,null==i?void 0:i.state);this.state=s,this.parsedPos=this.chunkStart=a+l.length;for(let o=0;o<l.children.length;o++)this.chunks.push(l.children[o]),this.chunkPos.push(l.positions[o]);i&&this.parsedPos<i.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(A(i.state)),i.skipUntilInView(this.parsedPos,i.viewport.from),this.parsedPos=i.viewport.from),this.moveRangeIndex()}advance(){let e=v.get(),t=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),n=Math.min(t,this.chunkStart+2048);for(e&&(n=Math.min(n,e.viewport.to));this.parsedPos<n;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)"\n"==t&&(t="");else{let e=t.indexOf("\n");e>-1&&(t=t.slice(0,e))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),n=e+t.length;for(let r=this.rangeIndex;;){let e=this.ranges[r].to;if(e>=n)break;if(t=t.slice(0,e-(n-t.length)),r++,r==this.ranges.length)break;let o=this.ranges[r].from,i=this.lineAfter(o);t+=i,n=o+i.length}return{line:t,end:n}}skipGapsTo(e,t,n){for(;;){let r=this.ranges[this.rangeIndex].to,o=e+t;if(n>0?r>o:r>=o)break;t+=this.ranges[++this.rangeIndex].from-r}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,n,r,o){if(this.ranges.length>1){t+=o=this.skipGapsTo(t,o,1);let e=this.chunk.length;n+=o=this.skipGapsTo(n,o,-1),r+=this.chunk.length-e}return this.chunk.push(e,t,n,r),o}parseLine(e){let{line:t,end:n}=this.nextLine(),r=0,{streamParser:o}=this.lang,i=new ke(t,e?e.state.tabSize:4,e?A(e.state):2);if(i.eol())o.blankLine(this.state,i.indentUnit);else for(;!i.eol();){let e=De(o.token,i,this.state);if(e&&(r=this.emitToken(this.lang.tokenTable.resolve(e),this.parsedPos+i.start,this.parsedPos+i.pos,4,r)),i.start>1e4)break}this.parsedPos=n,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=o.Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Le,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new o.Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new o.Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function De(e,t,n){t.start=t.pos;for(let r=0;r<10;r++){let r=e(t,n);if(t.pos>t.start)return r}throw new Error("Stream parser failed to advance stream.")}const je=Object.create(null),Ne=[o.NodeType.none],Le=new o.NodeSet(Ne),Me=[],Be=Object.create(null);for(let[qe,ze]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Be[qe]=We(je,ze);class Fe{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Be)}resolve(e){return e?this.table[e]||(this.table[e]=We(this.extra,e)):0}}const Ue=new Fe(je);function He(e,t){Me.indexOf(e)>-1||(Me.push(e),console.warn(t))}function We(e,t){let n=null;for(let o of t.split(".")){let t=e[o]||s.tags[o];t?"function"==typeof t?n?n=t(n):He(o,`Modifier ${o} used at start of tag`):n?He(o,`Tag ${o} used as modifier`):n=t:He(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let r=t.replace(/ /g,"_"),i=o.NodeType.define({id:Ne.length,name:r,props:[s.styleTags({[r]:n})]});return Ne.push(i),i.id}t.HighlightStyle=ce,t.IndentContext=I,t.LRLanguage=p,t.Language=d,t.LanguageDescription=T,t.LanguageSupport=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}},t.ParseContext=v,t.StreamLanguage=Pe,t.StringStream=ke,t.TreeIndentContext=L,t.bracketMatching=function(e={}){return[ve.of(e),Ee]},t.codeFolding=ie,t.continuedIndent=function({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}},t.defaultHighlightStyle=me,t.defineLanguageFacet=c,t.delimitedIndent=function({closing:e,align:t=!0,units:n=1}){return r=>B(r,t,n,e)},t.ensureSyntaxTree=m,t.flatIndent=e=>e.baseIndent,t.foldAll=ee,t.foldCode=J,t.foldEffect=z,t.foldGutter=function(e={}){let t=Object.assign(Object.assign({},se),e),n=new le(t,!0),r=new le(t,!1),o=a.ViewPlugin.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(S)!=e.state.facet(S)||e.startState.field($,!1)!=e.state.field($,!1)||h(e.startState)!=h(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new i.RangeSetBuilder;for(let o of e.viewportLineBlocks){let i=K(e.state,o.from,o.to)?r:W(e.state,o.from,o.to)?n:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:s}=t;return[o,a.gutter({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||i.RangeSet.empty},initialSpacer:()=>new le(t,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(e,t,n)=>{if(s.click&&s.click(e,t,n))return!0;let r=K(e.state,t.from,t.to);if(r)return e.dispatch({effects:V.of(r)}),!0;let o=W(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:z.of(o)}),!0)}})}),ie()]},t.foldInside=function(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null},t.foldKeymap=ne,t.foldNodeProp=U,t.foldService=F,t.foldState=$,t.foldable=W,t.foldedRanges=function(e){return e.field($,!1)||i.RangeSet.empty},t.forceParsing=function(e,t=e.viewport.to,n=100){let r=m(e.state,t,n);return r!=h(e.state)&&e.dispatch({}),!!r},t.getIndentUnit=A,t.getIndentation=x,t.highlightingFor=function(e,t,n){let r=pe(e),o=null;if(r)for(let i of r)if(!i.scope||n&&i.scope(n)){let e=i.style(t);e&&(o=o?o+" "+e:e)}return o},t.indentNodeProp=R,t.indentOnInput=function(){return i.EditorState.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,o=n.lineAt(r);if(r>o.from+200)return e;let i=n.sliceString(o.from,r);if(!t.some((e=>e.test(i))))return e;let{state:a}=e,s=-1,l=[];for(let{head:u}of a.selection.ranges){let e=a.doc.lineAt(u);if(e.from==s)continue;s=e.from;let t=x(a,e.from);if(null==t)continue;let n=/^\s*/.exec(e.text)[0],r=P(a,t);n!=r&&l.push({from:e.from,to:e.from+n.length,insert:r})}return l.length?[e,{changes:l,sequential:!0}]:e}))},t.indentRange=function(e,t,n){let r=Object.create(null),o=new I(e,{overrideIndentation:e=>{var t;return null!==(t=r[e])&&void 0!==t?t:-1}}),i=[];for(let a=t;a<=n;){let t=e.doc.lineAt(a);a=t.to+1;let n=x(o,t.from);if(null==n)continue;/\S/.test(t.text)||(n=0);let s=/^\s*/.exec(t.text)[0],l=P(e,n);s!=l&&(r[t.from]=n,i.push({from:t.from,to:t.from+s.length,insert:l}))}return e.changes(i)},t.indentService=C,t.indentString=P,t.indentUnit=k,t.language=S,t.languageDataProp=u,t.matchBrackets=Se,t.syntaxHighlighting=function(e,t){let n,r=[he];return e instanceof ce&&(e.module&&r.push(a.EditorView.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?r.push(fe.of(e)):n?r.push(de.computeN([a.EditorView.darkTheme],(t=>t.facet(a.EditorView.darkTheme)==("dark"==n)?[e]:[]))):r.push(de.of(e)),r},t.syntaxParserRunning=function(e){var t;return(null===(t=e.plugin(O))||void 0===t?void 0:t.isWorking())||!1},t.syntaxTree=h,t.syntaxTreeAvailable=function(e,t=e.doc.length){var n;return(null===(n=e.field(d.state,!1))||void 0===n?void 0:n.context.isDone(t))||!1},t.unfoldAll=te,t.unfoldCode=Z,t.unfoldEffect=V},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1702),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var o=f(n(1)),i=f(n(2)),a=f(n(634)),s=f(n(13)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(630)),u=f(n(20)),c=n(786);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){return e?o.default.createElement("div",{style:{padding:10}},o.default.createElement(a.default,{markdown:e})):null};function y(e){var t=e.fields,n=[{property:"type",header:{label:s.default.type(),props:{style:h(h(h({},c.tableLayoutStyles.headerCell),v.headerCell),{},{width:"15%"})}},cell:{props:{style:c.tableLayoutStyles.cell}}},{property:"name",header:{label:s.default.name(),props:{style:h(h(h({},c.tableLayoutStyles.headerCell),v.headerCell),{},{width:"15%"})}},cell:{props:{style:c.tableLayoutStyles.cell}}},{property:"description",header:{label:s.default.description(),props:{style:h(h(h({},c.tableLayoutStyles.headerCell),v.headerCell),{},{width:"55%"})}},cell:{formatters:[g],props:{style:c.tableLayoutStyles.cell}}}];return o.default.createElement(l.Provider,{style:h(h({},c.tableLayoutStyles.table),v.table),columns:n},o.default.createElement(l.Header,null),o.default.createElement(l.Body,{rows:t,rowKey:"name"}))}y.propTypes={fields:i.default.arrayOf(i.default.object)};var v={headerCell:{backgroundColor:u.default.teal,color:u.default.white},table:{width:"100%"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=l(n(1)),o=l(n(2)),i=l(n(634)),a=l(n(20)),s=n(786);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.methods;return r.default.createElement("table",{style:c(c({},s.tableLayoutStyles.table),{},{width:"100%"})},r.default.createElement("tbody",null,t.map((function(e){return r.default.createElement("tr",{key:e.key},r.default.createElement("td",{style:p.method},r.default.createElement("h3",null,r.default.createElement("a",{onClick:function(){return $("#method-".concat(e.key))[0].scrollIntoView()},"aria-label":"link to details",style:p.methodLink},e.name)),e.content&&r.default.createElement(i.default,{markdown:e.content})))}))))}f.propTypes={methods:o.default.arrayOf(o.default.object).isRequired};var p={method:{borderStyle:"solid",borderWidth:1,borderColor:a.default.lighter_gray,padding:5},methodLink:{cursor:"pointer"}};e.exports=t.default},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(1426),s=d(n(1251)),l=d(n(13)),u=n(420);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"filteredAnnouncements",(function(){var e=t.props.viewAs;return t.props.announcements.filter((function(n){return t.isVisible(e,n)}))})),h(f(t),"isVisible",(function(e,t){return t.visibility===a.VisibilityType.teacherAndStudent||e===u.ViewType.Instructor&&(t.visibility===a.VisibilityType.teacher||void 0===t.visibility)||e===u.ViewType.Participant&&t.visibility===a.VisibilityType.student})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){var e=this;return i.default.createElement("div",null,this.filteredAnnouncements().map((function(t,n){return i.default.createElement(s.default,{key:n,type:t.type,notice:t.notice,details:t.details,buttonText:void 0===t.buttonText?l.default.learnMore():t.buttonText,buttonLink:t.link,dismissible:void 0===t.dismissible||t.dismissible,width:e.props.width,firehoseAnalyticsData:e.props.firehoseAnalyticsData})})))},r}(i.Component);t.default=m,h(m,"propTypes",{announcements:o.default.arrayOf(a.announcementShape).isRequired,width:o.default.oneOfType([o.default.number,o.default.string]),viewAs:o.default.oneOf(Object.values(u.ViewType)).isRequired,firehoseAnalyticsData:o.default.object}),e.exports=t.default},,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedStudioAppWrapper=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(1915)),a=c(n(1916)),s=c(n(1917)),l=n(27),u=c(n(1918));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var l=r.prototype;return l.requiresLandscape=function(){return!(this.props.isEmbedView||this.props.isShareView)},l.render=function(){return o.default.createElement("div",null,o.default.createElement(i.default,null),o.default.createElement(a.default,null),this.requiresLandscape()&&o.default.createElement(s.default,{assetUrl:this.props.assetUrl}),o.default.createElement(u.default,null),this.props.children,o.default.createElement("div",{className:"clear"}))},r}(o.default.Component);f=m,p="propTypes",h={assetUrl:r.default.func.isRequired,isEmbedView:r.default.bool.isRequired,isShareView:r.default.bool.isRequired,children:r.default.node},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g=m;t.UnconnectedStudioAppWrapper=g;var y=(0,l.connect)((function(e){return{assetUrl:e.pageConstants.assetUrl,isEmbedView:e.pageConstants.isEmbedView,isShareView:e.pageConstants.isShareView}}))(m);t.default=y},,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedTwoColumnActionBlock=t.TwoColumnActionBlock=t.SpecialAnnouncementActionBlock=t.LocalClassActionBlock=t.CscInfoActionBlock=t.AdministratorResourcesActionBlock=void 0;var o=p(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=p(n(20)),l=p(n(74)),u=p(n(13)),c=n(735),d=p(n(1494));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.isRtl,r=e.responsiveSize,o=e.imageUrl,a=e.imageExtra,s=e.heading,u=e.subHeading,c=e.subHeadingSmallFont,d=e.description,f=e.buttons,p=e.backgroundColor,h=e.marginBottom,m=void 0===h?"60px":h,y=n?"right":"left",v="lg"===r?"50%":"100%",b=g(g({},C.textItem),{},{backgroundColor:p||C.textItem.backgroundColor});return i.default.createElement("div",{id:t,style:C.container},s&&i.default.createElement("div",{style:C.heading},s),i.default.createElement("div",{style:C.container},"lg"===r&&i.default.createElement("div",{style:{float:y,width:v}},i.default.createElement("img",{src:o,style:C.image,alt:s}),a),i.default.createElement("div",{style:{float:y,width:v}},i.default.createElement("div",{style:b},u&&i.default.createElement("div",{style:c?C.subHeadingSmallFont:C.subHeading,id:"two-column-action-block--sub-heading"},u),i.default.createElement("div",{style:C.description},d),f.map((function(e,t){return i.default.createElement("span",{key:t},i.default.createElement(l.default,{__useDeprecatedTag:!0,href:e.url,color:l.default.ButtonColor.gray,text:e.text,target:e.target,id:e.id,onClick:e.onClick}),"     ")}))))),i.default.createElement("div",{style:g(g({},C.clear),{},{marginBottom:m})}))},t}(i.Component);t.UnconnectedTwoColumnActionBlock=_,b(_,"propTypes",{id:o.default.string,isRtl:o.default.bool.isRequired,responsiveSize:o.default.oneOf(["lg","md","sm","xs"]).isRequired,imageUrl:o.default.string.isRequired,imageExtra:o.default.node,heading:o.default.string,subHeading:o.default.string,subHeadingSmallFont:o.default.bool,description:o.default.string.isRequired,buttons:o.default.arrayOf(o.default.shape({url:o.default.string.isRequired,text:o.default.string.isRequired,target:o.default.string,id:o.default.string})),backgroundColor:o.default.string,marginBottom:o.default.string});var w=(0,a.connect)((function(e){return{responsiveSize:e.responsive.responsiveSize,isRtl:e.isRtl}}))(_);t.TwoColumnActionBlock=w;var E=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props.showHeading?u.default.findLocalClassHeading():"";return i.default.createElement(w,{imageUrl:(0,c.pegasus)("/shared/images/fill-540x300/misc/beyond-local-map.png"),heading:e,subHeading:u.default.findLocalClassSubheading(),description:u.default.findLocalClassDescription(),buttons:[{url:(0,c.pegasus)("/learn/local"),text:u.default.findLocalClassButton()}]})},t}(i.Component);t.LocalClassActionBlock=E,b(E,"propTypes",{showHeading:o.default.bool.isRequired});var O=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return i.default.createElement(w,{imageUrl:(0,c.pegasus)("/images/fill-540x300/2015AR/newcsteacherstrained.png"),heading:u.default.administratorResourcesHeading(),description:u.default.administratorResourcesDescription(),buttons:[{id:"your_school_professional_learning",url:(0,c.pegasus)("/educate/professional-learning"),text:u.default.yourSchoolProfessionalLearningProgramsButton()},{id:"your_school_administrators",url:(0,c.pegasus)("/administrators"),text:u.default.yourSchoolAdminButton()}]})},t}(i.Component);t.AdministratorResourcesActionBlock=O;var S=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return i.default.createElement(w,{imageUrl:"/shared/images/fit-970/banners/csc-banner.png",heading:u.default.courseInfoCscHeading(),description:u.default.courseInfoCscDescription(),buttons:[{id:"course_info_csc",url:(0,c.pegasus)("/educate/csc"),text:u.default.learnMore()}]})},t}(i.Component);t.CscInfoActionBlock=S;var T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(h(t=e.call.apply(e,[this].concat(r))||this),"state",{buttonList:t.createButtonList()}),t}y(t,e);var n=t.prototype;return n.createButtonList=function(){var e=[],t=this.props.announcement;return e.push({id:t.buttonId?t.buttonId:"special-announcement-btn-1",url:t.buttonUrl,text:t.buttonText}),t.buttonUrl2&&t.buttonText2&&e.push({id:t.buttonId2?t.buttonId2:"special-announcement-btn-2",url:t.buttonUrl2,text:t.buttonText2}),e},n.render=function(){var e=this.props.announcement;return i.default.createElement(w,{imageUrl:(0,c.pegasus)(e.image),subHeading:e.title,description:e.body,buttons:this.state.buttonList,backgroundColor:e.backgroundColor,marginBottom:this.props.marginBottom})},t}(i.Component);t.SpecialAnnouncementActionBlock=T,b(T,"propTypes",{announcement:d.default.specialAnnouncement,marginBottom:o.default.string});var C={heading:{paddingRight:5,paddingTop:10,paddingBottom:20,fontSize:24,lineHeight:"26px",fontFamily:"Gotham 4r",color:s.default.charcoal},textItem:{backgroundColor:s.default.teal,padding:25,minHeight:281,boxSizing:"border-box"},subHeading:{paddingRight:0,paddingBottom:20,fontSize:27,lineHeight:1.2,fontFamily:'"Gotham 7r", sans-serif',color:s.default.white},subHeadingSmallFont:{paddingRight:0,paddingBottom:20,fontSize:25,lineHeight:1.2,fontFamily:'"Gotham 7r", sans-serif',color:s.default.white},image:{width:485,minHeight:260,height:281},description:{paddingRight:10,paddingBottom:20,fontSize:14,fontFamily:"Gotham 4r",lineHeight:"22px",color:s.default.white},clear:{clear:"both"},container:{width:"100%",position:"relative"}}},,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JavalabEditorDialog=t.DEFAULT_FILE_NAME=void 0,t.UnconnectedJavalabEditorDialogManager=v,t.default=void 0;var r=m(n(53)),o=m(n(1)),i=m(n(2)),a=n(27),s=n(33),l=m(n(596)),u=m(n(1519)),c=m(n(1478)),d=m(n(1520)),f=m(n(1787)),p=n(990),h=n(1264);function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,s.makeEnum)("RENAME_FILE","DELETE_FILE","CREATE_FILE","COMMIT_FILES","VERSION_HISTORY");t.JavalabEditorDialog=g;var y=".java";function v(e){var t=e.onDeleteFile,n=e.filenameToDelete,r=e.onRenameFile,i=e.filenameToRename,a=e.onCreateFile,s=e.onCommitCode,p=e.handleClearPuzzle,h=e.isProjectTemplateLevel,m=e.newFileError,v=e.clearNewFileError,b=e.renameFileError,_=e.clearRenameFileError,w=e.editorOpenDialogName,E=e.closeEditorDialog,O=e.commitDialogFileNames,S=e.displayTheme;return o.default.createElement(o.default.Fragment,null,o.default.createElement(c.default,{isOpen:w===g.DELETE_FILE,handleConfirm:t,handleClose:E,message:l.default.deleteFileConfirmation({filename:n}),displayTheme:S,confirmButtonText:l.default.delete(),closeButtonText:l.default.cancel()}),o.default.createElement(d.default,{isOpen:w===g.RENAME_FILE,handleClose:function(){E(),_()},filename:i,handleSave:r,displayTheme:S,inputLabel:l.default.renameFile(),saveButtonText:l.default.rename(),errorMessage:b}),o.default.createElement(d.default,{isOpen:w===g.CREATE_FILE,handleClose:function(){E(),v()},handleSave:a,displayTheme:S,inputLabel:l.default.createNewFile(),saveButtonText:l.default.create(),errorMessage:m,filename:y}),o.default.createElement(f.default,{isOpen:w===g.COMMIT_FILES,files:O,handleClose:E,handleCommit:s}),w===g.VERSION_HISTORY&&o.default.createElement(u.default,{handleClearPuzzle:p,isProjectTemplateLevel:h,onClose:E,isOpen:w===g.VERSION_HISTORY}))}t.DEFAULT_FILE_NAME=y,v.propTypes={onDeleteFile:i.default.func.isRequired,filenameToDelete:i.default.string,onRenameFile:i.default.func.isRequired,filenameToRename:i.default.string,onCreateFile:i.default.func.isRequired,commitDialogFileNames:i.default.arrayOf(i.default.string).isRequired,onCommitCode:i.default.func.isRequired,handleClearPuzzle:i.default.func.isRequired,isProjectTemplateLevel:i.default.bool.isRequired,newFileError:i.default.string,clearNewFileError:i.default.func.isRequired,renameFileError:i.default.string,clearRenameFileError:i.default.func.isRequired,editorOpenDialogName:i.default.oneOf(Object.values(g)),closeEditorDialog:i.default.func.isRequired,displayTheme:i.default.oneOf(Object.values(p.DisplayTheme))};var b=(0,a.connect)((function(e){return{editorOpenDialogName:e.javalab.editorOpenDialogName,displayTheme:e.javalab.displayTheme,newFileError:e.javalab.newFileError,renameFileError:e.javalab.renameFileError,commitDialogFileNames:r.default.filter(Object.keys(e.javalab.sources),(function(t){return e.javalab.sources[t].isVisible&&!e.javalab.sources[t].isValidation}))}}),(function(e){return{closeEditorDialog:function(){return e((0,h.closeEditorDialog)())},clearNewFileError:function(){return e((0,h.clearNewFileError)())},clearRenameFileError:function(){return e((0,h.clearRenameFileError)())}}}))(v);t.default=b},,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(1444)),s=c(n(13)),l=n(1695);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},y={display:"table",width:"100%"},v={display:"flex"},b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(p(t=e.call.apply(e,[this].concat(r))||this),"schoolDropdown",void 0),m(p(t),"sendToParent",(function(e){t.props.setField("nces",e)})),m(p(t),"bindDropdown",(function(e){t.schoolDropdown=e})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var o=r.prototype;return o.handleSchoolNotFoundCheckbox=function(e){e.target.checked?this.props.setField("nces",this.schoolDropdown.constructSchoolNotFoundOption()):this.props.setField("nces",this.props.schoolDropdownOption)},o.render=function(){var e=this.props,t=e.showRequiredIndicator,n=e.singleLineLayout,r=e.includeSchoolNotFoundCheckbox,o=f(f({},l.styles.question),n&&g),u=f({},n&&y),c=this.props.showErrorMsg&&!this.props.value&&!this.props.schoolDropdownOption,d=!!("-1"===this.props.value||this.props.schoolDropdownOption&&"-1"===this.props.schoolDropdownOption.value),p=i.default.createElement("div",{style:l.styles.errors},s.default.censusRequiredSelect());return i.default.createElement("div",null,i.default.createElement("div",{style:u},i.default.createElement("div",{style:o},n?s.default.school():s.default.schoolName(),t&&i.default.createElement("span",{style:l.styles.asterisk}," *"),!n&&c&&p),i.default.createElement(a.default,{ref:this.bindDropdown,value:this.props.value,fieldName:this.props.fieldName,onChange:this.sendToParent,schoolDropdownOption:this.props.schoolDropdownOption,schoolFilter:this.props.schoolFilter,disabled:this.props.disabled}),r&&i.default.createElement("label",{style:v},i.default.createElement("input",{id:"schoolNotFoundCheckbox",type:"checkbox",onChange:this.handleSchoolNotFoundCheckbox.bind(this),checked:d}),i.default.createElement("span",{style:l.styles.checkboxOption},s.default.schoolNotFoundCheckboxLabel()))),n&&c&&p)},r}(i.Component);t.default=b,m(b,"propTypes",{setField:o.default.func,showErrorMsg:o.default.bool,value:o.default.string,fieldName:o.default.string,singleLineLayout:o.default.bool,showRequiredIndicator:o.default.bool,schoolDropdownOption:o.default.object,schoolFilter:o.default.func,disabled:o.default.bool,includeSchoolNotFoundCheckbox:o.default.bool}),m(b,"defaultProps",{showRequiredIndicator:!0,includeSchoolNotFoundCheckbox:!0}),e.exports=t.default},,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lightTheme=t.lightMode=t.darkTheme=t.darkMode=t.darkHighlightStyle=t.MIN_FONT_SIZE_PX=t.MAX_FONT_SIZE_PX=t.FONT_SIZE_INCREMENT_PX=t.DEFAULT_FONT_SIZE_PX=void 0;var r,o=n(1302),i=(r=n(20))&&r.__esModule?r:{default:r},a=n(1616),s=n(1497);var l="#e06c75",u="#7d8799",c="#d19a66",d="#21252b",f="#2c313a",p="#528bff",h=o.EditorView.theme({"&":{color:i.default.lighter_gray,backgroundColor:i.default.darkest_slate_gray},".cm-content":{caretColor:p},"&.cm-focused .cm-cursor":{borderLeftColor:p},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:d,color:i.default.lighter_gray},".cm-panels button":{color:i.default.lightest_gray},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:i.default.dark_gray},".cm-selectionMatch":{backgroundColor:"#aafe661a"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:i.default.darkest_slate_gray,color:u,border:"none"},".cm-activeLineGutter":{backgroundColor:f},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid #181a1f",backgroundColor:d},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:f,color:i.default.lighter_gray}},".cm-textfield":{color:i.default.lightest_gray}},{dark:!0});t.darkTheme=h;var m=a.HighlightStyle.define([{tag:s.tags.keyword,color:"#c678dd"},{tag:[s.tags.name,s.tags.deleted,s.tags.character,s.tags.propertyName,s.tags.macroName,s.tags.definition(s.tags.name)],color:l},{tag:[s.tags.function(s.tags.variableName),s.tags.labelName],color:"#61afef"},{tag:[s.tags.color,s.tags.constant(s.tags.name),s.tags.standard(s.tags.name)],color:c},{tag:[s.tags.separator],color:i.default.lighter_gray},{tag:[s.tags.typeName,s.tags.className,s.tags.number,s.tags.changed,s.tags.annotation,s.tags.modifier,s.tags.self,s.tags.namespace],color:"#e5c07b"},{tag:[s.tags.operator,s.tags.operatorKeyword,s.tags.url,s.tags.escape,s.tags.regexp,s.tags.link,s.tags.special(s.tags.string)],color:"#56b6c2"},{tag:[s.tags.meta,s.tags.comment],color:u},{tag:s.tags.strong,fontWeight:"bold"},{tag:s.tags.emphasis,fontStyle:"italic"},{tag:s.tags.strikethrough,textDecoration:"line-through"},{tag:s.tags.link,color:u,textDecoration:"underline"},{tag:s.tags.heading,fontWeight:"bold",color:l},{tag:[s.tags.atom,s.tags.bool,s.tags.special(s.tags.variableName)],color:c},{tag:[s.tags.processingInstruction,s.tags.string,s.tags.inserted],color:"#98c379"},{tag:s.tags.invalid,color:"#ffffff"}]);t.darkHighlightStyle=m;var g=[h,(0,a.syntaxHighlighting)(m)];t.darkMode=g;var y=o.EditorView.theme({"&":{backgroundColor:i.default.white},".cm-gutters":{backgroundColor:i.default.white}},{dark:!1});t.lightTheme=y;var v=[y,(0,a.syntaxHighlighting)(a.defaultHighlightStyle)];t.lightMode=v;t.DEFAULT_FONT_SIZE_PX=13;t.MIN_FONT_SIZE_PX=13;t.MAX_FONT_SIZE_PX=68;t.FONT_SIZE_INCREMENT_PX=5},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileMetadataForEditor=void 0,t.getDefaultFileContents=function(e,t){var n="";e.toLowerCase().endsWith(".java")&&(t===r.CsaViewMode.NEIGHBORHOOD?n="import org.code.neighborhood.*;\n":t===r.CsaViewMode.THEATER&&(n="import org.code.theater.*;\nimport org.code.media.*;\n"));return n},t.updateAllSourceFileOrders=t.isJavaFile=t.getTabKey=void 0;var r=n(1355);var o=function(e){return"file-".concat(e)};t.getTabKey=o;t.fileMetadataForEditor=function(e,t){var n={},r=[],i=[],a=0,s=!0;Object.keys(e).forEach((function(l){if(e[l].isVisible||t){var u=o(a);n[u]=l;var c=e[l].tabOrder;Number.isInteger(c)&&void 0===r[c]?r[c]=u:s=!1,i.push(u),a++}})),r=r.filter((function(e){return void 0!==e})),s||(r=i);var l=r.length>0?r[0]:null;return{fileMetadata:n,orderedTabKeys:r,activeTabKey:l,lastTabKeyIndex:r.length-1}};t.updateAllSourceFileOrders=function(e,t,n){for(var r=0;r<n.length;r++){e[t[n[r]]].tabOrder=r}return e};t.isJavaFile=function(e){return e.endsWith(".java")}},,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyUnsubmitDialog=t.LegacyTooFewDialog=t.LegacySuccessDialog=t.LegacyStartOverDialog=t.LegacySingleLevelGroupDialog=t.LegacyMatchErrorDialog=t.LegacyMatchAngiGifDialog=t.LegacyInstructionsDialog=t.LegacyErrorDialog=t.LegacyContractMatchErrorDialog=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(13)),a=l(n(790)),s=l(n(165));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.id,n=e.title,r=e.body;return o.default.createElement(a.default,{id:t},o.default.createElement("div",{className:"modal-content no-modal-icon"},o.default.createElement("p",{className:"dialog-title"},n),o.default.createElement("p",{className:"dialog-body"},r),o.default.createElement("button",{type:"button",id:"cancel-button",style:{float:"left"}},i.default.cancel()),o.default.createElement("button",{type:"button",id:"ok-button",style:{float:"right"}},i.default.okay())))};t.LegacySingleLevelGroupDialog=u,u.propTypes={id:r.default.string.isRequired,title:r.default.string.isRequired,body:r.default.string.isRequired};var c=o.default.createElement(u,{id:"unsubmit-dialogcontent",title:i.default.unsubmitAssessment(),body:i.default.submittableUnsubmit()});t.LegacyUnsubmitDialog=c;t.LegacyMatchAngiGifDialog=function(){return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},o.default.createElement("p",{className:"dialog-title"},i.default.instructions()),o.default.createElement("p",null,i.default.dragBlocksToMatch()),o.default.createElement("div",{className:"aniGif example-image",style:{overflow:"hidden"}},o.default.createElement("img",{src:"/script_assets/images/matching_ani.gif"})),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.LegacyTooFewDialog=function(){return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},o.default.createElement("p",{className:"dialog-title"},i.default.tooFewTitle()),o.default.createElement("p",null,i.default.tooFewBody()),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};var d=function(e){var t=e.text;return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon"},o.default.createElement("p",{className:"dialog-title"},i.default.incorrectAnswer()),o.default.createElement("p",null,t),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.LegacyContractMatchErrorDialog=d,d.propTypes={text:r.default.string};t.LegacyMatchErrorDialog=function(){return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},o.default.createElement("p",{className:"dialog-title"},i.default.incorrectSolution()),o.default.createElement("p",null,i.default.incorrectSolutionBody()),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.LegacyErrorDialog=function(){return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},o.default.createElement("p",{className:"dialog-title"},i.default.incorrectAnswer()),o.default.createElement("p",null,i.default.incorrectAnswerBody()),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.LegacyStartOverDialog=function(){return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},o.default.createElement("p",{className:"dialog-title"},i.default.startOverTitle()),o.default.createElement("p",null,i.default.startOverBody()),o.default.createElement("div",{id:"buttons"},o.default.createElement("button",{type:"button",id:"cancel-button"},i.default.cancel()),o.default.createElement("button",{type:"button",id:"ok-button",className:"btn-danger",style:{float:"right"}},i.default.startOver()))))};var f=function(e){var t=e.title,n=e.markdown;return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon markdown-instructions-container"},o.default.createElement("p",{className:"dialog-title"},t),o.default.createElement("p",null),o.default.createElement("div",{className:"instructions-markdown scrollable-element"},o.default.createElement(s.default,{markdown:n})),o.default.createElement("div",{id:"buttons"},o.default.createElement("button",{type:"button",id:"ok-button",style:{float:"right"}},i.default.ok()))))};t.LegacyInstructionsDialog=f,f.propTypes={title:r.default.string.isRequired,markdown:r.default.string.isRequired};var p=function(e){var t=e.title,n=e.body;return o.default.createElement(a.default,null,o.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},o.default.createElement("p",{className:"dialog-title"},t),o.default.createElement("p",null,n),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.LegacySuccessDialog=p,p.propTypes={title:r.default.string.isRequired,body:r.default.string.isRequired}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tipShape=t.studentLessonShape=t.standardShape=t.scriptLevelShape=t.navigationLessonShape=t.levelShape=t.lessonShape=t.activityShape=t.activitySectionShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({id:o.default.string.isRequired,name:o.default.string.isRequired,icon:o.default.string,isUnplugged:o.default.bool,isConceptLevel:o.default.bool,conceptDifficulty:o.default.string,concepts:o.default.string,skin:o.default.string,videoKey:o.default.string});t.levelShape=i;var a=o.default.shape({id:o.default.string.isRequired,activeId:o.default.string.isRequired,levels:o.default.arrayOf(i).isRequired,expand:o.default.bool,kind:o.default.string,bonus:o.default.bool,assessment:o.default.bool,challenge:o.default.bool,isViewingAsInstructorInTraining:o.default.bool});t.scriptLevelShape=a;var s=o.default.shape({key:o.default.string.isRequired,type:o.default.string.isRequired,markdown:o.default.string.isRequired});t.tipShape=s;var l=o.default.shape({key:o.default.string.isRequired,position:o.default.number.isRequired,displayName:o.default.string.isRequired,duration:o.default.oneOfType([o.default.number,o.default.oneOf([""])]),remarks:o.default.bool,progressionName:o.default.string,scriptLevels:o.default.arrayOf(a).isRequired,text:o.default.string.isRequired,tips:o.default.arrayOf(s).isRequired});t.activitySectionShape=l;var u=o.default.shape({key:o.default.string.isRequired,displayName:o.default.string,position:o.default.number.isRequired,duration:o.default.oneOfType([o.default.number,o.default.oneOf([""])]).isRequired,activitySections:o.default.arrayOf(l)});t.activityShape=u;var c=o.default.shape({unit:o.default.shape({lessonGroups:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,displayName:o.default.string.isRequired,userFacing:o.default.bool.isRequired,lessons:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,position:o.default.number.isRequired,displayName:o.default.string.isRequired,link:o.default.string.isRequired})).isRequired})).isRequired}).isRequired,id:o.default.number.isRequired,position:o.default.number.isRequired,key:o.default.string.isRequired,duration:o.default.number.isRequired,displayName:o.default.string.isRequired,overview:o.default.string.isRequired,purpose:o.default.string.isRequired,preparation:o.default.string.isRequired,resources:o.default.object,vocabularies:o.default.arrayOf(o.default.object).isRequired,programmingExpressions:o.default.arrayOf(o.default.object).isRequired,objectives:o.default.arrayOf(o.default.object).isRequired,assessmentOpportunities:o.default.string,lessonPlanPdfUrl:o.default.string,courseVersionStandardsUrl:o.default.string});t.lessonShape=c;var d=o.default.shape({unit:o.default.shape({lessonGroups:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,displayName:o.default.string.isRequired,userFacing:o.default.bool.isRequired,lessons:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,position:o.default.number.isRequired,displayName:o.default.string.isRequired,link:o.default.string.isRequired})).isRequired})).isRequired}).isRequired,id:o.default.number.isRequired,position:o.default.number.isRequired,key:o.default.string.isRequired,displayName:o.default.string.isRequired,overview:o.default.string.isRequired,resources:o.default.arrayOf(o.default.object),vocabularies:o.default.arrayOf(o.default.object).isRequired,programmingExpressions:o.default.arrayOf(o.default.object).isRequired,studentLessonPlanPdfUrl:o.default.string});t.studentLessonShape=d;var f=o.default.shape({id:o.default.number.isRequired,key:o.default.string.isRequired,unit:o.default.shape({lessonGroups:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,displayName:o.default.string.isRequired,userFacing:o.default.bool.isRequired,lessons:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,position:o.default.number.isRequired,displayName:o.default.string.isRequired,link:o.default.string.isRequired})).isRequired})).isRequired}).isRequired});t.navigationLessonShape=f;var p=o.default.shape({frameworkName:o.default.string.isRequired,parentCategoryShortcode:o.default.string,parentCategoryDescription:o.default.string,categoryShortcode:o.default.string.isRequired,categoryDescription:o.default.string.isRequired,shortcode:o.default.string.isRequired,description:o.default.string.isRequired});t.standardShape=p},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r,o=(r=n(20))&&r.__esModule?r:{default:r};var i={formHeading:{marginTop:20},checkboxLine:{marginTop:20,marginLeft:38},clickable:{cursor:"pointer"},question:{fontSize:16,fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,paddingTop:10,paddingBottom:5},pledgeBox:{marginBottom:20,marginTop:20},pledge:{fontSize:18,fontFamily:'"Gotham 7r", sans-serif',color:o.default.charcoal,paddingBottom:10,paddingTop:10,marginLeft:18},share:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal},otherCS:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,marginRight:20,marginLeft:20},existingInaccuracy:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,marginRight:20,marginLeft:20},existingInaccuracyTooltip:{width:270},option:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,float:"left",width:"80%",marginRight:20,marginLeft:20},dropdown:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,height:30,width:120,marginLeft:18,marginTop:5},shareDropdown:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,height:30,width:50,marginLeft:5,marginTop:5},schoolNotFoundDropdown:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,height:30,marginTop:5,width:250},wideDropdown:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,height:30},dropdownBox:{width:"100%"},options:{marginLeft:18},checkboxOption:{fontFamily:'"Gotham 4r", sans-serif',color:o.default.charcoal,marginLeft:20},input:{height:40,width:250,fontFamily:'"Gotham 4r", sans-serif',padding:5},inputInline:{height:25,width:390,fontFamily:'"Gotham 4r", sans-serif',padding:5,maxWidth:"80%"},textArea:{height:100,width:"100%",fontFamily:'"Gotham 4r", sans-serif',padding:5},firstQuestion:{paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10,marginTop:10},grayQuestion:{background:o.default.background_gray,padding:15,borderTop:"1px solid gray",borderBottom:"1px solid gray"},errors:{fontSize:14,fontFamily:'"Gotham 4r", sans-serif',color:o.default.red,paddingTop:5,paddingBottom:5},asterisk:{fontSize:20,fontFamily:'"Gotham 5r", sans-serif',color:o.default.red},leftMargin:{leftMargin:20},field:{float:"left",height:"80px",width:"450px"},clear:{width:"100%",clear:"both"}};t.styles=i},,(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,'/*\nBasis for this CSS from:\nhttps://weblog.west-wind.com/posts/2015/Feb/26/Using-FontAwesome-Fonts-for-HTML-Radio-Buttons-and-Checkboxes\n*/\n\ninput[type=radio].with-font {\n    border: 0;\n    clip: rect(0 0 0 0);\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n}\ninput[type=radio].with-font ~ label:before {\n    font-family: FontAwesome;\n    display: inline-block;\n    content: "\\f1db";  /* fa-circle-thin */\n    font-size: 18px;\n    color: black;\n    width: 15px;\n    height: 15px;\n    text-align: center;\n    vertical-align: bottom;\n}\ninput[type=radio].with-font:checked ~ label:before  {\n    font-family: FontAwesome;\n    display:inline-block;\n    content: "\\f058";  /* fa-check-circle */\n    font-size: 18px;\n    color: #0094ca;\n    width: 15px;\n    height: 15px;\n    line-height: 16px;\n    background-color: white;\n    text-align: center;\n    border-radius: 60%;\n}\n\nlabel.hidden-label-checked-radio-button {\n    margin: 0px;\n    width: 16px;\n    height: 16px;\n    line-height: 16px;\n}',"",{version:3,sources:["webpack://./src/lib/ui/checkedRadioButton.css"],names:[],mappings:"AAAA;;;CAGC;;AAED;IACI,SAAS;IACT,mBAAmB;IACnB,UAAU;IACV,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,UAAU;IACV,kBAAkB;AACtB;AACA;IACI,wBAAwB;IACxB,qBAAqB;IACrB,gBAAgB,GAAG,mBAAmB;IACtC,eAAe;IACf,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,sBAAsB;AAC1B;AACA;IACI,wBAAwB;IACxB,oBAAoB;IACpB,gBAAgB,GAAG,oBAAoB;IACvC,eAAe;IACf,cAAc;IACd,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,uBAAuB;IACvB,kBAAkB;IAClB,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,WAAW;IACX,YAAY;IACZ,iBAAiB;AACrB",sourcesContent:['/*\nBasis for this CSS from:\nhttps://weblog.west-wind.com/posts/2015/Feb/26/Using-FontAwesome-Fonts-for-HTML-Radio-Buttons-and-Checkboxes\n*/\n\ninput[type=radio].with-font {\n    border: 0;\n    clip: rect(0 0 0 0);\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n}\ninput[type=radio].with-font ~ label:before {\n    font-family: FontAwesome;\n    display: inline-block;\n    content: "\\f1db";  /* fa-circle-thin */\n    font-size: 18px;\n    color: black;\n    width: 15px;\n    height: 15px;\n    text-align: center;\n    vertical-align: bottom;\n}\ninput[type=radio].with-font:checked ~ label:before  {\n    font-family: FontAwesome;\n    display:inline-block;\n    content: "\\f058";  /* fa-check-circle */\n    font-size: 18px;\n    color: #0094ca;\n    width: 15px;\n    height: 15px;\n    line-height: 16px;\n    background-color: white;\n    text-align: center;\n    border-radius: 60%;\n}\n\nlabel.hidden-label-checked-radio-button {\n    margin: 0px;\n    width: 16px;\n    height: 16px;\n    line-height: 16px;\n}'],sourceRoot:""}]);const s=a},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,'.xSp4qMTUCSLVozGpkaPv{display:inline-block}.gUuTPmlmV1emqZ7zDD3D{font-size:24px;position:relative;top:3px}.E9bCXarLTBa83fXKjFwj{border:1px solid #5b6770;position:absolute;z-index:1000}.jg30kvwWVYqWqj8ecMQU,a.jg30kvwWVYqWqj8ecMQU,a:link.jg30kvwWVYqWqj8ecMQU,a:visited.jg30kvwWVYqWqj8ecMQU{padding:10px;color:#5b6770;background-color:#fff;font-family:"Gotham 5r",sans-serif;display:block;text-decoration:none;line-height:20px;transition:background-color .2s ease-out}.jg30kvwWVYqWqj8ecMQU:hover,a.jg30kvwWVYqWqj8ecMQU:hover,a:link.jg30kvwWVYqWqj8ecMQU:hover,a:visited.jg30kvwWVYqWqj8ecMQU:hover{background-color:#e7e8ea;cursor:pointer;text-decoration:none}.TJNR7cVrzLQrolR1UX8g{border-top:1px solid #5b6770}',"",{version:3,sources:["webpack://./src/templates/dropdown-button.module.scss","webpack://./../shared/css/color.scss"],names:[],mappings:"AAEA,sBACE,oBAAA,CAGF,sBACE,cAAA,CAGA,iBAAA,CACA,OAAA,CAGF,sBACE,wBAAA,CACA,iBAAA,CAEA,YAAA,CAGF,wGAIE,YAAA,CACA,aCbS,CDcT,qBCRM,CDSN,kCAAA,CACA,aAAA,CACA,oBAAA,CACA,gBAAA,CACA,wCAAA,CAEA,gIACE,wBCnBY,CDoBZ,cAAA,CAEA,oBAAA,CAIJ,sBACE,4BAAA",sourcesContent:['@import "color.scss";\n\n.main {\n  display: inline-block;\n}\n\n.icon {\n  font-size: 24px;\n  // we want our icon text to be a different size than our button text, which\n  // requires we manually offset to get it centered properly\n  position: relative;\n  top: 3px;\n}\n\n.dropdown {\n  border: 1px solid $charcoal;\n  position: absolute;\n  // without this, this will be below some content, such as ProgressBubble.\n  z-index: 1000;\n}\n\n.anchor,\na.anchor,\na:link.anchor,\na:visited.anchor {\n  padding: 10px;\n  color: $charcoal;\n  background-color: $white;\n  font-family: "Gotham 5r", sans-serif;\n  display: block;\n  text-decoration: none;\n  line-height: 20px;\n  transition: background-color 0.2s ease-out;\n\n  &:hover {\n    background-color: $lightest_gray;\n    cursor: pointer;\n    // Overwrite site-wide application.css a:hover.\n    text-decoration: none;\n  }\n}\n\n.nonFirstAnchor {\n  border-top: 1px solid $charcoal;\n}\n',"// colors from https://www.dropbox.com/s/ycjiwt8vxlmv2ih/Code.org_stylesheet_v2_09.05.13.pdf\n\n// Please keep this file simple; it should only contain color definitions\n//   and aliases.  Variables defined in this file are exported to\n//   apps/src/color.js during the apps build process.\n\n$black: #000;\n$background_black: #121416;\n$dark_gray: #2D3139;\n$darkest_gray: #272822;\n$dark_slate_gray: #282c34;\n$darkest_slate_gray: #25292d;\n$dark_charcoal: #4d575f;\n$charcoal: #5b6770;\n$light_gray: #949ca2;\n$lighter_gray: #c6cacd;\n$lightest_gray: #e7e8ea;\n$background_gray: #f2f2f2;\n$dimgray: #696969;\n$white: #fff;\n$default_blue: #3670b3;\n\n$dark_teal: #0094a3;\n$teal: #00adbc;\n$applab_button_teal: #1abc9c;\n$light_teal: #59cad3;\n$lightish_teal: #80d6de;\n$lighter_teal: #a6e3e8;\n$lightest_teal: #d9f3f5;\n\n$dark_purple: #5c3f7f;\n$purple: #7665a0;\n$light_purple: #a69bc1;\n$lighter_purple: #cfc9de;\n$lightest_purple: #ebe8f1;\n\n$cyan: #0094ca;\n$light_cyan: #59b9dc;\n$lighter_cyan: #a6daed;\n$lightest_cyan: #d9eff7;\n$almost_white_cyan: #f5fcff;\n\n$orange: #ffa400;\n$light_orange: #ffc459;\n$lighter_orange: #ffe0a6;\n$lightest_orange: #fff2d9;\n$dark_orange: #ff8600;\n\n$green: #b9bf15;\n$light_green: #d1d567;\n$lighter_green: #e7e9ad;\n$lightest_green: #f5f5dc;\n$highlight_green: #8afc9b;\n\n$yellow: #ffb81d;\n$light_yellow: #ffdb74;\n$lighter_yellow: #ffebb5;\n$lightest_yellow: #fff7df;\n\n$goldenrod: #daa520;\n\n$header_text: $white;\n$bkgnd_color: $teal;\n$inset_color: $lighter_gray;\n$dark_color: $purple;\n$hdr_color: $purple;\n\n// Some extra colors.\n$red: #c00;\n$lightest_red: #fcc;\n$dark_red: #d62911;\n$realgreen: #008000;\n$realyellow: #ff0;\n$mustardyellow: #efcd1c;\n$twitter_blue: #00aced;\n$facebook_blue: #3b5998;\n$microsoft_blue: #2a5cb2;\n$dark_blue: #00647f;\n$google_red: #a5201a;\n$blockly_flyout_gray: #ddd;\n$default_text: #333;\n$border_gray: #bbb;\n$border_light_gray: #d8d8d8;\n$table_header: #ececec;\n$table_light_row: #fcfcfc;\n$table_dark_row: #f4f4f4;\n\n// Progress colors.\n$level_submitted: $purple;\n$level_perfect: rgb(14, 190, 14);\n$level_passed: rgb(159, 212, 159);\n$level_attempted: $realyellow;\n$level_not_tried: #fefefe;\n$level_current: $orange;\n$level_review_rejected: $red;\n$level_review_accepted: rgb(11, 142, 11); // TODO: $level_passed;\n$assessment: $cyan;\n$workspace_running_background: #e5e5e5;\n\n// Experimental Sprite Lab validation colors.\n$dark_purple: #682A77;\n$bright_green: #0ebe0e;\n$neon_pink: #e9118f;\n\n// Links (used in apps).\n$link_color: #0596ce;\n\n// Shadow.\n$shadow: rgba(0, 0, 0, 0.3);\n\n// Colors that are taken from bootstrap, and not necessarily part of our core theme.\n$bootstrap_button_blue: #337ab7;\n$bootstrap_button_red: #d9534f;\n$bootstrap_error_background: #f2dede;\n$bootstrap_error_text: #b94a48;\n$bootstrap_error_border: #ebccd1;\n$bootstrap_warning_background: #fcf8e3;\n$bootstrap_warning_text: #c09853;\n$bootstrap_warning_border: #faebcc;\n$bootstrap_border_color: #cccccc;\n$bootstrap_success_background: #dff0d8;\n$bootstrap_success_text: #468847;\n$bootstrap_success_border: #d6e9c6;\n\n// Colors taken from droplet, not part of our core theme.\n$droplet_light_green: #d3e965;\n$droplet_blue: #64b5f6;\n$droplet_bright_blue: #19c3e1;\n$droplet_yellow: #fff176;\n$droplet_orange: #ffb74d;\n$droplet_red: #f78183;\n$droplet_cyan: #4dd0e1;\n$droplet_pink: #f57ac6;\n$droplet_purple: #bb77c7;\n$droplet_green: #68d995;\n$droplet_white: $white;\n\n// Oceans: deep blue background.\n$oceans_deep_blue: rgb(2, 0, 28);\n$music_black: #000\n"],sourceRoot:""}]),a.locals={main:"xSp4qMTUCSLVozGpkaPv",icon:"gUuTPmlmV1emqZ7zDD3D",dropdown:"E9bCXarLTBa83fXKjFwj",anchor:"jg30kvwWVYqWqj8ecMQU",nonFirstAnchor:"TJNR7cVrzLQrolR1UX8g"};const s=a},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,".comment-content>*{margin:0}.comment-content pre{background-color:rgba(255,255,255,.5)}","",{version:3,sources:["webpack://./src/templates/instructions/codeReviewV2/comment.scss"],names:[],mappings:"AACE,mBACE,QAAA,CAIF,qBACE,qCAAA",sourcesContent:[".comment-content {\n  & > * {\n    margin: 0;\n  }\n\n  // gray background for block formatted code comments\n  pre {\n    background-color: rgb(255 255 255 / 0.5);\n  }\n}\n"],sourceRoot:""}]);const s=a},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,".editable-text-area{min-height:40px !important;padding:10px 8px}","",{version:3,sources:["webpack://./src/templates/instructions/codeReviewV2/codeReviewCommentEditor.scss"],names:[],mappings:"AAAA,oBACE,0BAAA,CACA,gBAAA",sourcesContent:[".editable-text-area {\n  min-height: 40px !important;\n  padding: 10px 8px;\n}\n"],sourceRoot:""}]);const s=a},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,'.AoieFC7EOdtsyXNsagXC{text-align:center;white-space:nowrap;overflow-x:hidden;height:30px;line-height:30px}.E65uU5qEZjZEq7MK8tJT{cursor:pointer;float:right;overflow:hidden;background-color:#a69bc1;margin:3px 3px 3px 0;height:24px;border-radius:4px;font-family:"Gotham 5r",sans-serif;line-height:18px}.E65uU5qEZjZEq7MK8tJT:hover{background-color:#0094ca}.usfO5pFKjeV5csg3oC10{float:left;margin-left:3px;margin-right:0}.VHDFDmLMOEgrydxkIIDv{background-color:#606060;color:#bfbfbf;border:none}.VHDFDmLMOEgrydxkIIDv:hover{background-color:#606060;color:#fff}.zpT9cHiUgSri57oRZk4t{background-color:#ebe8f1}.GTS49KjtevL5_bXShiTn{background-color:#fff;color:#7665a0}.GTS49KjtevL5_bXShiTn:hover{color:#fff}.uczC6ZjJaePu7JIloAnp{background-color:#949ca2;cursor:default}.MB2ONvfbyRx0gsYylO5w{padding:0 12px 0 12px}.iRF8ZYuvutIrsdN7hQK7{line-height:24px;padding-right:8px;font-size:15px;font-weight:bold}.VsqnwqAEZ4innZAFL1Ug{padding-right:0;padding-left:8px}.wV9d5oC3tWBSsa8FuqSk{padding-right:0;padding-left:0}',"",{version:3,sources:["webpack://./src/templates/pane-header.module.scss","webpack://./../shared/css/style-constants.scss","webpack://./../shared/css/color.scss"],names:[],mappings:"AAGA,sBACE,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,WCHyB,CDIzB,gBCJyB,CDO3B,sBACE,cAAA,CACA,WAAA,CACA,eAAA,CACA,wBEiBa,CFhBb,oBAAA,CACA,WAAA,CACA,iBAAA,CACA,kCAAA,CACA,gBAAA,CACA,4BACE,wBEcG,CFXL,sBACE,UAAA,CACA,eAAA,CACA,cAAA,CAGF,sBACE,wBAAA,CACA,aAAA,CACA,WAAA,CACA,4BACE,wBAAA,CACA,UElBE,CFsBN,sBACE,wBERc,CFWhB,sBACE,qBE3BI,CF4BJ,aEhBK,CFiBL,4BACE,UE9BE,CFkCN,sBACE,wBExCS,CFyCT,cAAA,CAGF,sBACE,qBAAA,CAGF,sBACE,gBAAA,CACA,iBAAA,CACA,cAAA,CACA,gBAAA,CAGF,sBACE,eAAA,CACA,gBAAA,CAGF,sBACE,eAAA,CACA,cAAA",sourcesContent:['@use "color.scss";\n@use "style-constants.scss";\n\n.paneSection {\n  text-align: center;\n  white-space: nowrap;\n  overflow-x: hidden;\n  height: style-constants.$workspace-headers-height;\n  line-height: style-constants.$workspace-headers-height;\n}\n\n.headerButton {\n  cursor: pointer;\n  float: right;\n  overflow: hidden;\n  background-color: color.$light_purple;\n  margin: 3px 3px 3px 0;\n  height: 24px;\n  border-radius: 4px;\n  font-family: "Gotham 5r", sans-serif;\n  line-height: 18px;\n  &:hover {\n    background-color: color.$cyan;\n  }\n\n  &Rtl {\n    float: left;\n    margin-left: 3px;\n    margin-right: 0;\n  }\n\n  &Minecraft {\n    background-color: #606060;\n    color: #bfbfbf;\n    border: none;\n    &:hover {\n      background-color: #606060;\n      color: color.$white;\n    }\n  }\n\n  &Unfocused {\n    background-color: color.$lightest_purple;\n  }\n\n  &Pressed {\n    background-color: color.$white;\n    color: color.$purple;\n    &:hover {\n      color: color.$white;\n    }\n  }\n\n  &Disabled {\n    background-color: color.$light_gray;\n    cursor: default;\n  }\n\n  &Span {\n    padding: 0 12px 0 12px;\n  }\n\n  &Icon {\n    line-height: 24px;\n    padding-right: 8px;\n    font-size: 15px;\n    font-weight: bold;\n  }\n\n  &IconRtl {\n    padding-right: 0;\n    padding-left: 8px;\n  }\n\n  &IconOrLabelHidden {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n',"// Common styles and measures accessible from all stylesheets\n\n// Height of workspace headers (above actual blockly/droplet space, beneath\n// site header)\n$workspace-headers-height: 30px;\n\n// Width of horizontal and vertical resize bars\n$resize-bar-width: 13px;\n\n// Opacity of elements that are dragged out to be deleted\n$delete-opacity: 0.5;\n\n// Width of pegasus content as of 2017 redesign\n$content-width: 970px;\n","// colors from https://www.dropbox.com/s/ycjiwt8vxlmv2ih/Code.org_stylesheet_v2_09.05.13.pdf\n\n// Please keep this file simple; it should only contain color definitions\n//   and aliases.  Variables defined in this file are exported to\n//   apps/src/color.js during the apps build process.\n\n$black: #000;\n$background_black: #121416;\n$dark_gray: #2D3139;\n$darkest_gray: #272822;\n$dark_slate_gray: #282c34;\n$darkest_slate_gray: #25292d;\n$dark_charcoal: #4d575f;\n$charcoal: #5b6770;\n$light_gray: #949ca2;\n$lighter_gray: #c6cacd;\n$lightest_gray: #e7e8ea;\n$background_gray: #f2f2f2;\n$dimgray: #696969;\n$white: #fff;\n$default_blue: #3670b3;\n\n$dark_teal: #0094a3;\n$teal: #00adbc;\n$applab_button_teal: #1abc9c;\n$light_teal: #59cad3;\n$lightish_teal: #80d6de;\n$lighter_teal: #a6e3e8;\n$lightest_teal: #d9f3f5;\n\n$dark_purple: #5c3f7f;\n$purple: #7665a0;\n$light_purple: #a69bc1;\n$lighter_purple: #cfc9de;\n$lightest_purple: #ebe8f1;\n\n$cyan: #0094ca;\n$light_cyan: #59b9dc;\n$lighter_cyan: #a6daed;\n$lightest_cyan: #d9eff7;\n$almost_white_cyan: #f5fcff;\n\n$orange: #ffa400;\n$light_orange: #ffc459;\n$lighter_orange: #ffe0a6;\n$lightest_orange: #fff2d9;\n$dark_orange: #ff8600;\n\n$green: #b9bf15;\n$light_green: #d1d567;\n$lighter_green: #e7e9ad;\n$lightest_green: #f5f5dc;\n$highlight_green: #8afc9b;\n\n$yellow: #ffb81d;\n$light_yellow: #ffdb74;\n$lighter_yellow: #ffebb5;\n$lightest_yellow: #fff7df;\n\n$goldenrod: #daa520;\n\n$header_text: $white;\n$bkgnd_color: $teal;\n$inset_color: $lighter_gray;\n$dark_color: $purple;\n$hdr_color: $purple;\n\n// Some extra colors.\n$red: #c00;\n$lightest_red: #fcc;\n$dark_red: #d62911;\n$realgreen: #008000;\n$realyellow: #ff0;\n$mustardyellow: #efcd1c;\n$twitter_blue: #00aced;\n$facebook_blue: #3b5998;\n$microsoft_blue: #2a5cb2;\n$dark_blue: #00647f;\n$google_red: #a5201a;\n$blockly_flyout_gray: #ddd;\n$default_text: #333;\n$border_gray: #bbb;\n$border_light_gray: #d8d8d8;\n$table_header: #ececec;\n$table_light_row: #fcfcfc;\n$table_dark_row: #f4f4f4;\n\n// Progress colors.\n$level_submitted: $purple;\n$level_perfect: rgb(14, 190, 14);\n$level_passed: rgb(159, 212, 159);\n$level_attempted: $realyellow;\n$level_not_tried: #fefefe;\n$level_current: $orange;\n$level_review_rejected: $red;\n$level_review_accepted: rgb(11, 142, 11); // TODO: $level_passed;\n$assessment: $cyan;\n$workspace_running_background: #e5e5e5;\n\n// Experimental Sprite Lab validation colors.\n$dark_purple: #682A77;\n$bright_green: #0ebe0e;\n$neon_pink: #e9118f;\n\n// Links (used in apps).\n$link_color: #0596ce;\n\n// Shadow.\n$shadow: rgba(0, 0, 0, 0.3);\n\n// Colors that are taken from bootstrap, and not necessarily part of our core theme.\n$bootstrap_button_blue: #337ab7;\n$bootstrap_button_red: #d9534f;\n$bootstrap_error_background: #f2dede;\n$bootstrap_error_text: #b94a48;\n$bootstrap_error_border: #ebccd1;\n$bootstrap_warning_background: #fcf8e3;\n$bootstrap_warning_text: #c09853;\n$bootstrap_warning_border: #faebcc;\n$bootstrap_border_color: #cccccc;\n$bootstrap_success_background: #dff0d8;\n$bootstrap_success_text: #468847;\n$bootstrap_success_border: #d6e9c6;\n\n// Colors taken from droplet, not part of our core theme.\n$droplet_light_green: #d3e965;\n$droplet_blue: #64b5f6;\n$droplet_bright_blue: #19c3e1;\n$droplet_yellow: #fff176;\n$droplet_orange: #ffb74d;\n$droplet_red: #f78183;\n$droplet_cyan: #4dd0e1;\n$droplet_pink: #f57ac6;\n$droplet_purple: #bb77c7;\n$droplet_green: #68d995;\n$droplet_white: $white;\n\n// Oceans: deep blue background.\n$oceans_deep_blue: rgb(2, 0, 28);\n$music_black: #000\n"],sourceRoot:""}]),a.locals={paneSection:"AoieFC7EOdtsyXNsagXC",headerButton:"E65uU5qEZjZEq7MK8tJT",headerButtonRtl:"usfO5pFKjeV5csg3oC10",headerButtonMinecraft:"VHDFDmLMOEgrydxkIIDv",headerButtonUnfocused:"zpT9cHiUgSri57oRZk4t",headerButtonPressed:"GTS49KjtevL5_bXShiTn",headerButtonDisabled:"uczC6ZjJaePu7JIloAnp",headerButtonSpan:"MB2ONvfbyRx0gsYylO5w",headerButtonIcon:"iRF8ZYuvutIrsdN7hQK7",headerButtonIconRtl:"VsqnwqAEZ4innZAFL1Ug",headerButtonIconOrLabelHidden:"wV9d5oC3tWBSsa8FuqSk"};const s=a},(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,".w50SAzm7PI8sC3Giy7ix{display:none}.f31XfAP_xkeHPJNAhV_J{height:30px;background-color:#7665a0;color:#fff;overflow-y:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xAZuQT7dhqVzvMzgkSSW{background-color:#cfc9de;color:#4d575f}.mPRhwueMvvFeSmojyl_9{background-color:#0094ca;color:#d9eff7}.TXoozqDEcTSrcfV6Ke5p{color:#4d575f}.icTzlAYsC35csRpfL7zc{background-color:#3b3b3b;color:#fff}.V33k3Ni01_bB2eyDSCKk{padding-top:5px;padding-bottom:5px;font-size:14px}.ZljiNLc0on1YgtuzgE7V{color:#000;margin-bottom:10px;position:relative;cursor:pointer}","",{version:3,sources:["webpack://./src/common-styles.module.scss","webpack://./../shared/css/style-constants.scss","webpack://./../shared/css/color.scss"],names:[],mappings:"AAKA,sBACE,YAAA,CAGF,sBACE,WCNyB,CDOzB,wBEoBO,CFnBP,UEOM,CFNN,iBAAA,CACA,wBAAA,CACA,qBAAA,CACA,oBAAA,CACA,gBAAA,CAEA,sBACE,wBEaa,CFZb,aETY,CFahB,sBACE,wBEUK,CFTL,aEYc,CFThB,sBACE,aEnBc,CFsBhB,sBACE,wBAAA,CACA,UEjBM,CFoBR,sBACE,eAAA,CACA,kBAAA,CACA,cAAA,CAKF,sBACE,UE1CM,CF2CN,kBAAA,CACA,iBAAA,CACA,cAAA",sourcesContent:['// As we move from inline css to css modules we are temporarily duplicating commonStyles.js into this css module.\n// Any changes in one should be made in the other to apply to all components.\n@use "color.scss";\n@use "style-constants.scss";\n\n.hidden {\n  display: none;\n}\n\n.purpleHeader {\n  height: style-constants.$workspace-headers-height;\n  background-color: color.$purple;\n  color: color.$white;\n  overflow-y: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  &Unfocused {\n    background-color: color.$lighter_purple;\n    color: color.$dark_charcoal;\n  }\n}\n\n.teacherBlueHeader {\n  background-color: color.$cyan;\n  color: color.$lightest_cyan;\n}\n\n.teacherHeaderUnfocused {\n  color: color.$dark_charcoal;\n}\n\n.minecraftHeader {\n  background-color: #3b3b3b;\n  color: color.$white;\n}\n\n.button {\n  padding-top: 5px;\n  padding-bottom: 5px;\n  font-size: 14px;\n}\n\n// Div contain instructions; either below visualization or in top instructions\n// May not need a common location once everything is in top instructions\n.bubble {\n  color: color.$black;\n  margin-bottom: 10px;\n  position: relative;\n  cursor: pointer;\n}\n',"// Common styles and measures accessible from all stylesheets\n\n// Height of workspace headers (above actual blockly/droplet space, beneath\n// site header)\n$workspace-headers-height: 30px;\n\n// Width of horizontal and vertical resize bars\n$resize-bar-width: 13px;\n\n// Opacity of elements that are dragged out to be deleted\n$delete-opacity: 0.5;\n\n// Width of pegasus content as of 2017 redesign\n$content-width: 970px;\n","// colors from https://www.dropbox.com/s/ycjiwt8vxlmv2ih/Code.org_stylesheet_v2_09.05.13.pdf\n\n// Please keep this file simple; it should only contain color definitions\n//   and aliases.  Variables defined in this file are exported to\n//   apps/src/color.js during the apps build process.\n\n$black: #000;\n$background_black: #121416;\n$dark_gray: #2D3139;\n$darkest_gray: #272822;\n$dark_slate_gray: #282c34;\n$darkest_slate_gray: #25292d;\n$dark_charcoal: #4d575f;\n$charcoal: #5b6770;\n$light_gray: #949ca2;\n$lighter_gray: #c6cacd;\n$lightest_gray: #e7e8ea;\n$background_gray: #f2f2f2;\n$dimgray: #696969;\n$white: #fff;\n$default_blue: #3670b3;\n\n$dark_teal: #0094a3;\n$teal: #00adbc;\n$applab_button_teal: #1abc9c;\n$light_teal: #59cad3;\n$lightish_teal: #80d6de;\n$lighter_teal: #a6e3e8;\n$lightest_teal: #d9f3f5;\n\n$dark_purple: #5c3f7f;\n$purple: #7665a0;\n$light_purple: #a69bc1;\n$lighter_purple: #cfc9de;\n$lightest_purple: #ebe8f1;\n\n$cyan: #0094ca;\n$light_cyan: #59b9dc;\n$lighter_cyan: #a6daed;\n$lightest_cyan: #d9eff7;\n$almost_white_cyan: #f5fcff;\n\n$orange: #ffa400;\n$light_orange: #ffc459;\n$lighter_orange: #ffe0a6;\n$lightest_orange: #fff2d9;\n$dark_orange: #ff8600;\n\n$green: #b9bf15;\n$light_green: #d1d567;\n$lighter_green: #e7e9ad;\n$lightest_green: #f5f5dc;\n$highlight_green: #8afc9b;\n\n$yellow: #ffb81d;\n$light_yellow: #ffdb74;\n$lighter_yellow: #ffebb5;\n$lightest_yellow: #fff7df;\n\n$goldenrod: #daa520;\n\n$header_text: $white;\n$bkgnd_color: $teal;\n$inset_color: $lighter_gray;\n$dark_color: $purple;\n$hdr_color: $purple;\n\n// Some extra colors.\n$red: #c00;\n$lightest_red: #fcc;\n$dark_red: #d62911;\n$realgreen: #008000;\n$realyellow: #ff0;\n$mustardyellow: #efcd1c;\n$twitter_blue: #00aced;\n$facebook_blue: #3b5998;\n$microsoft_blue: #2a5cb2;\n$dark_blue: #00647f;\n$google_red: #a5201a;\n$blockly_flyout_gray: #ddd;\n$default_text: #333;\n$border_gray: #bbb;\n$border_light_gray: #d8d8d8;\n$table_header: #ececec;\n$table_light_row: #fcfcfc;\n$table_dark_row: #f4f4f4;\n\n// Progress colors.\n$level_submitted: $purple;\n$level_perfect: rgb(14, 190, 14);\n$level_passed: rgb(159, 212, 159);\n$level_attempted: $realyellow;\n$level_not_tried: #fefefe;\n$level_current: $orange;\n$level_review_rejected: $red;\n$level_review_accepted: rgb(11, 142, 11); // TODO: $level_passed;\n$assessment: $cyan;\n$workspace_running_background: #e5e5e5;\n\n// Experimental Sprite Lab validation colors.\n$dark_purple: #682A77;\n$bright_green: #0ebe0e;\n$neon_pink: #e9118f;\n\n// Links (used in apps).\n$link_color: #0596ce;\n\n// Shadow.\n$shadow: rgba(0, 0, 0, 0.3);\n\n// Colors that are taken from bootstrap, and not necessarily part of our core theme.\n$bootstrap_button_blue: #337ab7;\n$bootstrap_button_red: #d9534f;\n$bootstrap_error_background: #f2dede;\n$bootstrap_error_text: #b94a48;\n$bootstrap_error_border: #ebccd1;\n$bootstrap_warning_background: #fcf8e3;\n$bootstrap_warning_text: #c09853;\n$bootstrap_warning_border: #faebcc;\n$bootstrap_border_color: #cccccc;\n$bootstrap_success_background: #dff0d8;\n$bootstrap_success_text: #468847;\n$bootstrap_success_border: #d6e9c6;\n\n// Colors taken from droplet, not part of our core theme.\n$droplet_light_green: #d3e965;\n$droplet_blue: #64b5f6;\n$droplet_bright_blue: #19c3e1;\n$droplet_yellow: #fff176;\n$droplet_orange: #ffb74d;\n$droplet_red: #f78183;\n$droplet_cyan: #4dd0e1;\n$droplet_pink: #f57ac6;\n$droplet_purple: #bb77c7;\n$droplet_green: #68d995;\n$droplet_white: $white;\n\n// Oceans: deep blue background.\n$oceans_deep_blue: rgb(2, 0, 28);\n$music_black: #000\n"],sourceRoot:""}]),a.locals={hidden:"w50SAzm7PI8sC3Giy7ix",purpleHeader:"f31XfAP_xkeHPJNAhV_J",purpleHeaderUnfocused:"xAZuQT7dhqVzvMzgkSSW",teacherBlueHeader:"mPRhwueMvvFeSmojyl_9",teacherHeaderUnfocused:"TXoozqDEcTSrcfV6Ke5p",minecraftHeader:"icTzlAYsC35csRpfL7zc",button:"V33k3Ni01_bB2eyDSCKk",bubble:"ZljiNLc0on1YgtuzgE7V"};const s=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedEditableTeacherFeedback=t.EditableTeacherFeedback=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=w(n(13)),s=w(n(74)),l=w(n(2)),u=w(n(169)),c=w(n(1370)),d=w(n(1504)),f=w(n(1505)),p=w(n(1371)),h=n(1296),m=n(621),g=w(n(131)),y=n(493),v=n(908),b=n(1769),_=w(n(1289));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C="NoError",k="Load",A="Save",P=function(e){var t,n;function r(t){var n;T(O(n=e.call(this,t)||this),"componentDidMount",(function(){window.addEventListener("beforeunload",n.onUnload)})),T(O(n),"onUnload",(function(e){n.didFeedbackChange()&&(e.preventDefault(),e.returnValue=a.default.feedbackNotSavedWarning())})),T(O(n),"onCommentChange",(function(e){n.setState({comment:e})})),T(O(n),"onReviewStateChange",(function(e){var t=n.getLatestReviewState();n.setState({reviewState:e,reviewStateUpdated:t!==e})})),T(O(n),"onRubricChange",(function(e){e===n.state.performance?n.setState({performance:null}):n.setState({performance:e})})),T(O(n),"onSubmitFeedback",(function(){n.setState({submitting:!0});var e={comment:n.state.comment,review_state:n.state.reviewState,student_id:n.studentId,script_id:n.props.serverScriptId,level_id:n.props.serverLevelId,teacher_id:n.props.teacher,performance:n.state.performance,analytics_section_id:n.props.selectedSectionId};(0,b.updateTeacherFeedback)(e,n.props.token).done((function(e){n.state.reviewStateUpdated&&(n.recordReviewStateUpdated(),n.props.updateUserProgress(n.studentId)),n.setState({latestFeedback:e,reviewStateUpdated:!1,submitting:!1,errorState:C})})).fail((function(){n.setState({errorState:A,submitting:!1})}))})),T(O(n),"didFeedbackChange",(function(){var e=n.state,t=e.latestFeedback,r=e.comment,o=e.performance,i=e.reviewStateUpdated;if(t){var a=r!==t.comment,s=o!==t.performance;return a||s||i}return!!r.length||!!o||i})),n.studentId=u.default.parse(window.location.search).user_id,n.onRubricChange=n.onRubricChange.bind(O(n));var r=n.props.latestFeedback;return n.state={comment:(null==r?void 0:r.comment)||"",performance:(null==r?void 0:r.performance)||null,latestFeedback:r,reviewState:(null==r?void 0:r.review_state)||null,reviewStateUpdated:!1,submitting:!1,errorState:C},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n);var i=r.prototype;return i.componentWillUnmount=function(){window.removeEventListener("beforeunload",this.onUnload)},i.recordReviewStateUpdated=function(){g.default.putRecord({study:"teacher_feedback",study_group:"V0",event:"keep_working",data_json:JSON.stringify({student_id:this.studentId,script_id:this.props.serverScriptId,level_id:this.props.serverLevelId,old_state:this.getLatestReviewState(),new_state:this.state.reviewState,section_id:this.props.selectedSectionId})},{includeUserId:!0})},i.renderError=function(e){return o.default.createElement("span",null,o.default.createElement("i",{className:"fa fa-warning",style:x.errorIcon}),e)},i.getLatestReviewState=function(){var e=this.state.latestFeedback;return(null!=e&&e.is_awaiting_teacher_review?m.ReviewStates.awaitingReview:null==e?void 0:e.review_state)||null},i.renderSubmitFeedbackButton=function(){var e=this.state,t=e.latestFeedback,n=e.submitting,r=e.errorState,i=this.props.verifiedInstructor,l=t?a.default.update():a.default.saveAndShare(),u=!this.didFeedbackChange()||n||r===k||!i;return o.default.createElement("div",{style:x.button},o.default.createElement(s.default,{id:"ui-test-submit-feedback",text:l,onClick:this.onSubmitFeedback,color:s.default.ButtonColor.blue,disabled:u}),r===A&&this.renderError(a.default.feedbackSaveError()))},i.render=function(){var e=this.props,t=e.verifiedInstructor,n=e.rubric,r=e.visible,i=this.state,s=i.comment,l=i.performance,u=i.latestFeedback,h=i.errorState,m=t?a.default.feedbackPlaceholder():a.default.feedbackPlaceholderNonVerified(),g=null!=u&&u.comment?u.comment:m;return r?o.default.createElement("div",null,h===k&&this.renderError(a.default.feedbackLoadError()),n&&o.default.createElement(p.default,{rubric:n,performance:l,isEditable:!0,onRubricChange:this.onRubricChange}),o.default.createElement("div",{style:_.default.commentAndFooter},o.default.createElement("div",{style:_.default.header},o.default.createElement("h1",{style:_.default.h1}," ",a.default.feedbackCommentAreaHeader()," "),this.props.canHaveFeedbackReviewState&&o.default.createElement(d.default,{latestReviewState:this.getLatestReviewState(),onReviewStateChange:this.onReviewStateChange})),o.default.createElement(c.default,{isEditable:!0,comment:s,placeholderText:g,onCommentChange:this.onCommentChange}),o.default.createElement("div",{style:_.default.footer},this.renderSubmitFeedbackButton(),!!u&&o.default.createElement(f.default,{latestFeedback:u})))):null},r}(o.Component);t.EditableTeacherFeedback=P,T(P,"propTypes",{rubric:h.rubricShape,visible:l.default.bool.isRequired,serverScriptId:l.default.number,serverLevelId:l.default.number,teacher:l.default.number,latestFeedback:h.teacherFeedbackShape,token:l.default.string,verifiedInstructor:l.default.bool,selectedSectionId:l.default.number,updateUserProgress:l.default.func.isRequired,canHaveFeedbackReviewState:l.default.bool});var x={button:{fontWeight:"bold"},errorIcon:{color:"red",margin:10}},I=P;t.UnconnectedEditableTeacherFeedback=I;var R=(0,i.connect)((function(e){var t;return{verifiedInstructor:e.verifiedInstructor&&e.verifiedInstructor.isVerified,selectedSectionId:null===(t=e.teacherSections)||void 0===t?void 0:t.selectedSectionId,canHaveFeedbackReviewState:e.pageConstants&&e.pageConstants.canHaveFeedbackReviewState}}),(function(e){return{updateUserProgress:function(t){e((0,y.queryUserProgress)(t)),e((0,v.loadLevelsWithProgress)())}}}))(P);t.default=R},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnwrappedRubricField=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=f(n(2)),a=f(n(20)),s=f(n(103)),l=n(1767),u=f(n(382)),c=f(n(53)),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={performanceLevel1:d.default.rubricLevelOneHeader(),performanceLevel2:d.default.rubricLevelTwoHeader(),performanceLevel3:d.default.rubricLevelThreeHeader(),performanceLevel4:d.default.rubricLevelFourHeader()},y=function(e){var t,n;function r(t){var n;return m(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call(this,t)||this),"updateToggle",(function(e){e.preventDefault(),n.setState({detailsOpen:!n.state.detailsOpen})})),n.state={detailsOpen:n.props.expandByDefault},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e=this.props.currentlyChecked?v.performanceLevelHeaderSelected:v.performanceLevelHeader,t=c.default.uniqueId();return o.default.createElement("div",{style:v.rubricPerformanceHeaders},o.default.createElement("div",{style:e,"data-tip":!0,"data-for":t,"aria-describedby":t},this.props.showFeedbackInputAreas&&o.default.createElement(l.CheckedRadioButton,{id:"rubric-input-".concat(this.props.rubricLevel),value:this.props.rubricLevel,checked:this.props.currentlyChecked,onRadioButtonChange:this.props.onChange,disabledMode:this.props.disabledMode}),o.default.createElement("details",{id:"rubric-details-".concat(this.props.rubricLevel),style:v.detailsArea,open:this.state.detailsOpen,onClick:this.updateToggle},o.default.createElement("summary",{style:v.rubricHeader},g[this.props.rubricLevel]),o.default.createElement("p",{style:v.rubricDetails},this.props.rubricValue))),o.default.createElement(u.default,{id:t,role:"tooltip",wrapper:"div",effect:"solid",disable:this.state.detailsOpen},o.default.createElement("div",{style:v.tooltip},this.props.rubricValue)))},r}(o.Component);m(y,"propTypes",{showFeedbackInputAreas:i.default.bool,rubricLevel:i.default.oneOf(Object.keys(g)).isRequired,rubricValue:i.default.string.isRequired,disabledMode:i.default.bool,onChange:i.default.func,currentlyChecked:i.default.bool,expandByDefault:i.default.bool});var v={rubricLevelHeaders:{width:"100%"},detailsArea:{width:"100%",paddingTop:2},rubricHeader:{fontSize:12,marginLeft:10,color:a.default.black,fontFamily:'"Gotham 5r", sans-serif',outline:"none",background:"none"},performanceLevelHeader:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"0px 8px",padding:4,borderRadius:4,border:"solid 1px ".concat(a.default.white),":hover":{border:"solid 1px ".concat(a.default.light_cyan)}},performanceLevelHeaderSelected:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"0px 8px",padding:4,backgroundColor:a.default.lightest_cyan,borderRadius:4,border:"solid 1px ".concat(a.default.white),":hover":{border:"solid 1px ".concat(a.default.light_cyan)}},tooltip:{maxWidth:200,lineHeight:"20px",whiteSpace:"normal"},rubricDetails:{paddingLeft:23,paddingTop:5,fontSize:12,margin:0}},b=y;t.UnwrappedRubricField=b;var _=(0,s.default)(y);t.default=_},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckedRadioButton=void 0;var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=(o=n(2))&&o.__esModule?o:{default:o};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1768);var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"handleChange",(function(e){t.props.onRadioButtonChange(e.target.value)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){return i.default.createElement("div",null,i.default.createElement("input",{type:"radio",className:"with-font",id:this.props.id,value:this.props.value,checked:this.props.checked,onChange:this.handleChange,disabled:this.props.disabledMode}),i.default.createElement("label",{htmlFor:this.props.id,className:"hidden-label-checked-radio-button"}))},r}(i.Component);t.CheckedRadioButton=d,c(d,"propTypes",{id:a.default.string,disabledMode:a.default.bool,checked:a.default.bool.isRequired,value:a.default.string.isRequired,onRadioButtonChange:a.default.func})},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1697),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTeacherFeedback=function(e,t){return o.default.ajax({url:"/api/v1/teacher_feedbacks",method:"POST",contentType:"application/json;charset=UTF-8",dataType:"json",data:JSON.stringify({teacher_feedback:e}),headers:{"X-CSRF-Token":t}}).done((function(e){return e}))};var r,o=(r=n(32))&&r.__esModule?r:{default:r}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReadonlyTeacherFeedback=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=m(n(13)),a=m(n(2)),s=m(n(20)),l=m(n(1370)),u=m(n(1371)),c=n(1296),d=n(621),f=m(n(1506)),p=m(n(141)),h=m(n(1289));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var v,b,_,w=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var a=r.prototype;return a.getLatestReviewState=function(){var e=this.props.latestFeedback;return(null!=e&&e.is_awaiting_teacher_review?d.ReviewStates.awaitingReview:null==e?void 0:e.review_state)||null},a.renderLastUpdated=function(){var e=this.props.latestFeedback.created_at,t=p.default.min((0,p.default)(),(0,p.default)(e)).fromNow();return o.default.createElement("div",{style:E.timeStudent,id:"ui-test-feedback-time"},i.default.lastUpdated(),t&&o.default.createElement("span",{style:h.default.timestamp}," ".concat(t)))},a.render=function(){var e=this.props,t=e.rubric,n=e.visible,r=e.latestFeedback;return n?o.default.createElement("div",null,t&&o.default.createElement(u.default,{rubric:t,performance:(null==r?void 0:r.performance)||null,isEditable:!1}),!!r&&o.default.createElement("div",{style:h.default.commentAndFooter},o.default.createElement("div",{style:h.default.header},o.default.createElement("h1",{style:h.default.h1}," ",i.default.feedbackCommentAreaHeader()," "),o.default.createElement(f.default,{latestReviewState:this.getLatestReviewState()})),!!r.comment&&o.default.createElement(l.default,{isEditable:!1,comment:r.comment}),o.default.createElement("div",{style:h.default.footer},this.renderLastUpdated()))):null},r}(o.Component);t.ReadonlyTeacherFeedback=w,v=w,b="propTypes",_={rubric:c.rubricShape,visible:a.default.bool.isRequired,latestFeedback:c.teacherFeedbackShape},b in v?Object.defineProperty(v,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[b]=_;var E={timeStudent:{fontStyle:"italic",fontSize:12,color:s.default.cyan}},O=w;t.default=O},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Al});var r=n(1550),o=n.n(r),i=n(1551),a=n.n(i),s=n(1552),l=n.n(s),u=n(429),c=n.n(u),d=n(1553),f=n.n(d),p=n(1557),h=n.n(p),m=n(1511),g=n.n(m),y=n(1562),v=n.n(y);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var w=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t,n,r,o=this.listeners[e];if(o)if(2===arguments.length)for(n=o.length,t=0;t<n;++t)o[t].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=o.length,t=0;t<n;++t)o[t].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),E=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return _(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(w),O=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},o=n.length;o--;)""!==n[o]&&((t=/([^=]*)=(.*)/.exec(n[o]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},S=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}_(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var o=0;o<r.customParsers.length;o++)if(r.customParsers[o].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var i=O(t[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var a=i.BYTERANGE.split("@"),s=a[0],l=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),l&&(n.byterange.offset=parseInt(l,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=O(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=O(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=O(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=O(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,o=e.dataParser,i=e.segment;"function"!=typeof o&&(o=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:o(e),customType:r,segment:i}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(w);function T(e){for(var t=v().atob(e||""),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var C=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new E,t.parseStream=new S,t.lineStream.pipe(t.parseStream);var n,r,o=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),i=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",(function(e){var t,c;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:T(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,u=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(a.attributes||(a.attributes={}),b(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(c={default:/yes/i.test(e.attributes.DEFAULT)}).default?c.autoselect=!0:c.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(c.language=e.attributes.LANGUAGE),e.attributes.URI&&(c.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(c.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(c.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(c.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=c}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}}[e.tagType]||s).call(o)},uri:function(){a.uri=e.uri,i.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=u,n&&(a.map=n),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(o)})),t}_(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(w),k=n(1563),A=n.n(k),P=function(e){return!!e&&"object"==typeof e},x=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):P(t[r])&&P(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},I=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},R=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},D="INVALID_NUMBER_OF_PERIOD",j="DASH_EMPTY_MANIFEST",N="DASH_INVALID_XML",L="NO_BASE_URL",M="SEGMENT_TIME_UNSPECIFIED",B="UNSUPPORTED_UTC_TIMING_SCHEME";"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var F,U,H=(F=function(e,t){var n,r,o,i,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=r.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+i.path;u.path=a.normalizePath(d)}else u.path=s.path,i.params||(u.params=s.params,i.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a},F(U={exports:{}},U.exports),U.exports),W=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=H.buildAbsoluteURL(A().location.href,e)),H.buildAbsoluteURL(e,t))},q=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,o=void 0===r?"":r,i=e.range,a=void 0===i?"":i,s=e.indexRange,l=void 0===s?"":s,u={uri:o,resolvedUri:W(n||"",o)};if(a||l){var c=(a||l).split("-"),d=parseInt(c[0],10),f=parseInt(c[1],10);u.byterange={length:f-d+1,offset:d}}return u},z={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,o=e.sourceDuration;return{start:0,end:Math.ceil(o/(t/r))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,o=e.timescale,i=void 0===o?1:o,a=e.duration,s=e.start,l=void 0===s?0:s,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,f=void 0===d?1/0:d,p=(t+n)/1e3,h=r+l,m=p+c-h,g=Math.ceil(m*i/a),y=Math.floor((p-h-f)*i/a),v=Math.floor((p-h)*i/a);return{start:Math.max(0,y),end:Math.min(g,v)}}},V=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,o=e.timescale,i=void 0===o?1:o,a=e.sourceDuration,s=z[n](e),l=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t,n){var r=e.duration,o=e.timescale,i=void 0===o?1:o,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:r/i,timeline:a,time:n*r}}}(e));if("static"===n){var u=l.length-1;l[u].duration=a-r/i*u}return l},G=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,o=e.sourceDuration,i=e.timescale,a=void 0===i?1:i,s=e.indexRange,l=void 0===s?"":s,u=e.duration;if(!t)throw new Error(L);var c=q({baseUrl:t,source:r.sourceURL,range:r.range}),d=q({baseUrl:t,source:t,indexRange:l});if(d.map=c,u){var f=V(e);f.length&&(d.duration=f[0].duration,d.timeline=f[0].timeline)}else o&&(d.duration=o/a,d.timeline=0);return d.number=0,[d]},$=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,i=e.timeline||0,a=e.sidx.byterange,s=a.offset+a.length,l=t.timescale,u=t.references.filter((function(e){return 1!==e.referenceType})),c=[],d=s+t.firstOffset,f=0;f<u.length;f++){var p=t.references[f],h=p.referencedSize,m=p.subsegmentDuration,g=G({baseUrl:n,timescale:l,timeline:i,periodIndex:i,duration:m,sourceDuration:o,indexRange:d+"-"+(d+h-1)})[0];r&&(g.map=r),c.push(g),d+=h}return e.segments=c,e},K=function(e){var t;return(t=e.reduce((function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");return e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},Y=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var r=e[n];if(r.sidx){var o=r.sidx.uri+"-"+(a=r.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),i=t[o]&&t[o].sidx;r.sidx&&i&&$(r,i,r.sidx.resolvedUri)}}var a,s;return e},X=function(e){var t,n=e.attributes,r=e.segments,o=e.sidx,i={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),o&&(i.sidx=o),i},J=function(e){var t,n=e.attributes,r=e.segments,o=e.sidx,i={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),o&&(i.sidx=o),i},Z=function(e,t){var n;if(void 0===t&&(t={}),!e.length)return{};var r=e[0].attributes,o=r.sourceDuration,i=r.minimumUpdatePeriod,a=void 0===i?0:i,s=K(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}))).map(J),l=K(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}))),u=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:o,playlists:Y(s,t),minimumUpdatePeriod:1e3*a};return l.length&&(c.mediaGroups.AUDIO.audio=function(e,t){var n;void 0===t&&(t={});var r=e.reduce((function(e,r){var o=r.attributes.role&&r.attributes.role.value||"",i=r.attributes.lang||"",a="main";if(i){var s=o?" ("+o+")":"";a=""+r.attributes.lang+s}return e[a]&&e[a].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth||(e[a]={language:i,autoselect:!0,default:"main"===o,playlists:Y([X(r)],t),uri:""},void 0===n&&"main"===o&&((n=r).default=!0)),e}),{});return n||(r[Object.keys(r)[0]].default=!0),r}(l,t)),u.length&&(c.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r,o,i,a,s=n.attributes.lang||"text";return e[s]||(e[s]={language:s,default:!1,autoselect:!1,playlists:Y([(r=n,i=r.attributes,a=r.segments,void 0===a&&(a=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:(o={NAME:i.id,BANDWIDTH:i.bandwidth},o["PROGRAM-ID"]=1,o),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:a,mediaSequence:a.length?a[0].number:1})],t),uri:""}),e}),{})}(u,t)),c},Q=function(e,t,n){var r=e.NOW,o=e.clientOffset,i=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,l=e.start,u=void 0===l?0:l,c=e.minimumUpdatePeriod,d=(r+o)/1e3+(void 0===c?0:c)-(i+u);return Math.ceil((d*s-t)/n)},ee=function(e,t){for(var n=e.type,r=void 0===n?"static":n,o=e.minimumUpdatePeriod,i=void 0===o?0:o,a=e.media,s=void 0===a?"":a,l=e.sourceDuration,u=e.timescale,c=void 0===u?1:u,d=e.startNumber,f=void 0===d?1:d,p=e.periodIndex,h=[],m=-1,g=0;g<t.length;g++){var y=t[g],v=y.d,b=y.r||0,_=y.t||0;m<0&&(m=_),_&&_>m&&(m=_);var w=void 0;if(b<0){var E=g+1;w=E===t.length?"dynamic"===r&&i>0&&s.indexOf("$Number$")>0?Q(e,m,v):(l*c-m)/v:(t[E].t-m)/v}else w=b+1;for(var O=f+h.length+w,S=f+h.length;S<O;)h.push({number:S,duration:v/c,time:m,timeline:p}),m+=v,S++}return h},te=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ne=function(e,t){return e.replace(te,function(e){return function(t,n,r,o){if("$$"===t)return"$";if(void 0===e[n])return t;var i=""+e[n];return"RepresentationID"===n?i:(o=r?parseInt(o,10):1,i.length>=o?i:""+new Array(o-i.length+1).join("0")+i)}}(t))},re=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,o=void 0===r?{sourceURL:"",range:""}:r,i=q({baseUrl:e.baseUrl,source:ne(o.sourceURL,n),range:o.range}),a=function(e,t){return e.duration||t?e.duration?V(e):ee(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t);return a.map((function(t){n.Number=t.number,n.Time=t.time;var r=ne(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:W(e.baseUrl||"",r),map:i,number:t.number}}))},oe=function(e,t){var n=e.duration,r=e.segmentUrls,o=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error(M);var i,a=o.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,o=void 0===r?{}:r,i=q({baseUrl:n,source:o.sourceURL,range:o.range}),a=q({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=i,a}(e,t)}));return n&&(i=V(e)),t&&(i=ee(e,t)),i.map((function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},ie=function(e){var t,n,r=e.attributes,o=e.segmentInfo;o.template?(n=re,t=x(r,o.template)):o.base?(n=G,t=x(r,o.base)):o.list&&(n=oe,t=x(r,o.list));var i={attributes:r};if(!n)return i;var a=n(t,o.timeline);if(t.duration){var s=t,l=s.duration,u=s.timescale,c=void 0===u?1:u;t.duration=l/c}else a.length?t.duration=a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return i.attributes=t,i.segments=a,o.base&&t.indexRange&&(i.sidx=a[0],i.segments=[]),i},ae=function(e,t){return R(e.childNodes).filter((function(e){return e.tagName===t}))},se=function(e){return e.textContent.trim()},le=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(o||0)+86400*parseFloat(i||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},ue={mediaPresentationDuration:function(e){return le(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return le(e)},timeShiftBufferDepth:function(e){return le(e)},start:function(e){return le(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?le(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},ce=function(e){return e&&e.attributes?R(e.attributes).reduce((function(e,t){var n=ue[t.name]||ue.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}};var de={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},fe=function(e,t){return t.length?I(e.map((function(e){return t.map((function(t){return W(e,se(t))}))}))):e},pe=function(e){var t=ae(e,"SegmentTemplate")[0],n=ae(e,"SegmentList")[0],r=n&&ae(n,"SegmentURL").map((function(e){return x({tag:"SegmentURL"},ce(e))})),o=ae(e,"SegmentBase")[0],i=n||t,a=i&&ae(i,"SegmentTimeline")[0],s=n||o||t,l=s&&ae(s,"Initialization")[0],u=t&&ce(t);u&&l?u.initialization=l&&ce(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,timeline:a&&ae(a,"S").map((function(e){return ce(e)})),list:n&&x(ce(n),{segmentUrls:r,initialization:ce(l)}),base:o&&x(ce(o),{initialization:ce(l)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},he=function(e){return e.reduce((function(e,t){var n=ce(t),r=de[n.schemeIdUri];if(r){e[r]={attributes:n};var o=ae(t,"cenc:pssh")[0];if(o){var i=se(o),a=i&&function(e){for(var t=A().atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(i);e[r].pssh=a}}return e}),{})},me=function(e,t,n){return function(r){var o=ce(r),i=fe(t,ae(r,"BaseURL")),a=ae(r,"Role")[0],s={role:ce(a)},l=x(e,o,s),u=he(ae(r,"ContentProtection"));Object.keys(u).length&&(l=x(l,{contentProtection:u}));var c=pe(r),d=ae(r,"Representation"),f=x(n,c);return I(d.map(function(e,t,n){return function(r){var o=ae(r,"BaseURL"),i=fe(t,o),a=x(e,ce(r)),s=pe(r);return i.map((function(e){return{segmentInfo:x(n,s),attributes:x(a,{baseUrl:e})}}))}}(l,i,f)))}},ge=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,o=void 0===r?"":r,i=n.NOW,a=void 0===i?Date.now():i,s=n.clientOffset,l=void 0===s?0:s,u=ae(e,"Period");if(!u.length)throw new Error(D);var c=ce(e),d=fe([o],ae(e,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=a,c.clientOffset=l,I(u.map(function(e,t){return function(n,r){var o=fe(t,ae(n,"BaseURL")),i=ce(n),a=parseInt(i.id,10),s=A().isNaN(a)?r:a,l=x(e,{periodIndex:s}),u=ae(n,"AdaptationSet"),c=pe(n);return I(u.map(me(l,o,c)))}}(c,d)))},ye=function(e){if(""===e)throw new Error(j);var t=(new(A().DOMParser)).parseFromString(e,"application/xml"),n=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(N);return n},ve=function(e,t){return void 0===t&&(t={}),Z(ge(ye(e),t).map(ie),t.sidxMapping)},be=function(e){return function(e){var t=ae(e,"UTCTiming")[0];if(!t)return null;var n=ce(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(B)}return n}(ye(e))},_e=n(1413),we=n.n(_e),Ee=n(1298),Oe=n.n(Ee),Se=n(1564),Te=n.n(Se),Ce=n(1566),ke=n.n(Ce);var Ae=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xe=null,Ie=function(){function e(t){Ae(this,e),xe||(xe=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],o=n[4],i=void 0,a=void 0,s=void 0,l=[],u=[],c=void 0,d=void 0,f=void 0,p=void 0,h=void 0;for(i=0;i<256;i++)u[(l[i]=i<<1^283*(i>>7))^i]=i;for(a=s=0;!r[a];a^=c||1,s=u[s]||1)for(f=(f=s^s<<1^s<<2^s<<3^s<<4)>>8^255&f^99,r[a]=f,o[f]=a,h=16843009*l[d=l[c=l[a]]]^65537*d^257*c^16843008*a,p=257*l[f]^16843008*f,i=0;i<4;i++)t[i][a]=p=p<<24^p>>>8,n[i][f]=h=h<<24^h>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),n[i]=n[i].slice(0);return e}()),this._tables=[[xe[0][0].slice(),xe[0][1].slice(),xe[0][2].slice(),xe[0][3].slice(),xe[0][4].slice()],[xe[1][0].slice(),xe[1][1].slice(),xe[1][2].slice(),xe[1][3].slice(),xe[1][4].slice()]];var n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=this._tables[0][4],l=this._tables[1],u=t.length,c=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(i=t.slice(0),a=[],this._key=[i,a],n=u;n<4*u+28;n++)o=i[n-1],(n%u==0||8===u&&n%u==4)&&(o=s[o>>>24]<<24^s[o>>16&255]<<16^s[o>>8&255]<<8^s[255&o],n%u==0&&(o=o<<8^o>>>24^c<<24,c=c<<1^283*(c>>7))),i[n]=i[n-u]^o;for(r=0;n;r++,n--)o=i[3&r?n:n-4],a[r]=n<=4||r<4?o:l[0][s[o>>>24]]^l[1][s[o>>16&255]]^l[2][s[o>>8&255]]^l[3][s[255&o]]}return e.prototype.decrypt=function(e,t,n,r,o,i){var a=this._key[1],s=e^a[0],l=r^a[1],u=n^a[2],c=t^a[3],d=void 0,f=void 0,p=void 0,h=a.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],b=y[1],_=y[2],w=y[3],E=y[4];for(m=0;m<h;m++)d=v[s>>>24]^b[l>>16&255]^_[u>>8&255]^w[255&c]^a[g],f=v[l>>>24]^b[u>>16&255]^_[c>>8&255]^w[255&s]^a[g+1],p=v[u>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&l]^a[g+2],c=v[c>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&u]^a[g+3],g+=4,s=d,l=f,u=p;for(m=0;m<4;m++)o[(3&-m)+i]=E[s>>>24]<<24^E[l>>16&255]<<16^E[u>>8&255]<<8^E[255&c]^a[g++],d=s,s=l,l=u,u=c,c=d},e}(),Re=function(){function e(){Ae(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),i=t.length,a=0;a<i;++a)t[a].apply(this,o)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),De=function(e){function t(){Ae(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,Re));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(Re),je=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},Ne=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),o=new Ie(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),a=new Int32Array(i.buffer),s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0;for(s=n[0],l=n[1],u=n[2],c=n[3],m=0;m<r.length;m+=4)d=je(r[m]),f=je(r[m+1]),p=je(r[m+2]),h=je(r[m+3]),o.decrypt(d,f,p,h,a,m),a[m]=je(a[m]^s),a[m+1]=je(a[m+1]^l),a[m+2]=je(a[m+2]^u),a[m+3]=je(a[m+3]^c),s=d,l=f,u=p,c=h;return i},Le=function(){function e(t,n,r,o){Ae(this,e);var i=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new De,this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+i),n,r,s)),l=i;l<a.length;l+=i)r=new Uint32Array([je(a[l-4]),je(a[l-3]),je(a[l-2]),je(a[l-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+i),n,r,s));this.asyncStream_.push((function(){var e;o(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,r){return function(){var o=Ne(e,t,n);r.set(o,e.byteOffset)}},Pe(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),Me="7.6.6",Be=[];var Fe=function e(t){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n("log",r,t)};return n=function(e,t){return function(n,r,i){var a=t.levels[r],s=new RegExp("^("+a+")$");if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),Be&&Be.push([].concat(i)),o().console){var l=o().console[n];l||"debug"!==n||(l=o().console.info||o().console.log),l&&a&&s.test(n)&&l[Array.isArray(i)?"apply":"call"](o().console,i)}}}(t,i),i.createLogger=function(n){return e(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(i.history=function(){return Be?[].concat(Be):[]}).filter=function(e){return(Be||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},i.history.clear=function(){Be&&(Be.length=0)},i.history.disable=function(){null!==Be&&(Be.length=0,Be=null)},i.history.enable=function(){null===Be&&(Be=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("debug",r,t)},i}("VIDEOJS"),Ue=Fe.createLogger,He=Object.prototype.toString,We=function(e){return Ve(e)?Object.keys(e):[]};function qe(e,t){We(e).forEach((function(n){return t(e[n],n)}))}function ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach((function(t){t&&qe(t,(function(t,n){e[n]=t}))})),e)}function Ve(e){return!!e&&"object"==typeof e}function Ge(e){return Ve(e)&&"[object Object]"===He.call(e)&&e.constructor===Object}function $e(e,t){if(!e||!t)return"";if("function"==typeof o().getComputedStyle){var n=o().getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function Ke(e){return"string"==typeof e&&/\S/.test(e)}function Ye(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function Xe(){return a()===o().document}function Je(e){return Ve(e)&&1===e.nodeType}function Ze(){try{return o().parent!==o().self}catch(e){return!0}}function Qe(e){return function(t,n){if(!Ke(t))return a()[e](null);Ke(n)&&(n=a().querySelector(n));var r=Je(n)?n:a();return r[e]&&r[e](t)}}function et(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var o=a().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Fe.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),o.setAttribute(e,n)):"textContent"===e?tt(o,n):o[e]=n})),Object.getOwnPropertyNames(n).forEach((function(e){o.setAttribute(e,n[e])})),r&&_t(o,r),o}function tt(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function nt(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function rt(e,t){return Ye(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function ot(e,t){return e.classList?e.classList.add(t):rt(e,t)||(e.className=(e.className+" "+t).trim()),e}function it(e,t){return e.classList?e.classList.remove(t):(Ye(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function at(e,t,n){var r=rt(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?ot(e,t):it(e,t),e}function st(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function lt(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,o=r.length-1;o>=0;o--){var i=r[o].name,a=r[o].value;"boolean"!=typeof e[i]&&-1===n.indexOf(","+i+",")||(a=null!==a),t[i]=a}return t}function ut(e,t){return e.getAttribute(t)}function ct(e,t,n){e.setAttribute(t,n)}function dt(e,t){e.removeAttribute(t)}function ft(){a().body.focus(),a().onselectstart=function(){return!1}}function pt(){a().onselectstart=function(){return!0}}function ht(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat($e(e,"height"))),n.width||(n.width=parseFloat($e(e,"width"))),n}}function mt(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=a().documentElement,r=a().body,i=n.clientLeft||r.clientLeft||0,s=o().pageXOffset||r.scrollLeft,l=t.left+s-i,u=n.clientTop||r.clientTop||0,c=o().pageYOffset||r.scrollTop,d=t.top+c-u;return{left:Math.round(l),top:Math.round(d)}}function gt(e,t){var n={},r=mt(e),o=e.offsetWidth,i=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+i)/i)),n.x=Math.max(0,Math.min(1,(u-s)/o)),n}function yt(e){return Ve(e)&&3===e.nodeType}function vt(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function bt(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),Je(e)||yt(e)?e:"string"==typeof e&&/\S/.test(e)?a().createTextNode(e):void 0})).filter((function(e){return e}))}function _t(e,t){return bt(t).forEach((function(t){return e.appendChild(t)})),e}function wt(e,t){return _t(vt(e),t)}function Et(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Ot,St=Qe("querySelector"),Tt=Qe("querySelectorAll"),Ct=Object.freeze({isReal:Xe,isEl:Je,isInFrame:Ze,createEl:et,textContent:tt,prependTo:nt,hasClass:rt,addClass:ot,removeClass:it,toggleClass:at,setAttributes:st,getAttributes:lt,getAttribute:ut,setAttribute:ct,removeAttribute:dt,blockTextSelection:ft,unblockTextSelection:pt,getBoundingClientRect:ht,findPosition:mt,getPointerPosition:gt,isTextNode:yt,emptyEl:vt,normalizeContent:bt,appendContent:_t,insertContent:wt,isSingleLeftClick:Et,$:St,$$:Tt}),kt=!1,At=function(){if(Xe()&&!1!==Ot.options.autoSetup){var e=Array.prototype.slice.call(a().getElementsByTagName("video")),t=Array.prototype.slice.call(a().getElementsByTagName("audio")),n=Array.prototype.slice.call(a().getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var o=0,i=r.length;o<i;o++){var s=r[o];if(!s||!s.getAttribute){Pt(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Ot(s)}else kt||Pt(1)}};function Pt(e,t){t&&(Ot=t),o().setTimeout(At,e)}function xt(){kt=!0,o().removeEventListener("load",xt)}Xe()&&("complete"===a().readyState?xt():o().addEventListener("load",xt));var It,Rt=function(e){var t=a().createElement("style");return t.className=e,t},Dt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},jt=3;function Nt(){return jt++}o().WeakMap||(It=function(){function e(){this.vdata="vdata"+Math.floor(o().performance&&o().performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||Nt();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];Fe("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Lt=o().WeakMap?new WeakMap:new It;function Mt(e,t){if(Lt.has(e)){var n=Lt.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Lt.delete(e)}}function Bt(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function Ft(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||o().event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||a()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var s=a().documentElement,l=a().body;e.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Ut=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Ut=!0}});o().addEventListener("test",null,e),o().removeEventListener("test",null,e)}catch(t){}}();var Ht=["touchstart","touchmove"];function Wt(e,t,n){if(Array.isArray(t))return Bt(Wt,e,t,n);Lt.has(e)||Lt.set(e,{});var r=Lt.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Nt()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=Ft(t);var o=r.handlers[t.type];if(o)for(var i=o.slice(0),a=0,s=i.length;a<s&&!t.isImmediatePropagationStopped();a++)try{i[a].call(e,t,n)}catch(l){Fe.error(l)}}}),1===r.handlers[t].length)if(e.addEventListener){var o=!1;Ut&&Ht.indexOf(t)>-1&&(o={passive:!0}),e.addEventListener(t,r.dispatcher,o)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function qt(e,t,n){if(Lt.has(e)){var r=Lt.get(e);if(r.handlers){if(Array.isArray(t))return Bt(qt,e,t,n);var o=function(e,t){r.handlers[t]=[],Mt(e,t)};if(void 0!==t){var i=r.handlers[t];if(i)if(n){if(n.guid)for(var a=0;a<i.length;a++)i[a].guid===n.guid&&i.splice(a--,1);Mt(e,t)}else o(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&o(e,s)}}}function zt(e,t,n){var r=Lt.has(e)?Lt.get(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Ft(t),r.dispatcher&&r.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles)zt.call(null,o,t,n);else if(!o&&!t.defaultPrevented&&t.target&&t.target[t.type]){Lt.has(t.target)||Lt.set(t.target,{});var i=Lt.get(t.target);t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)}return!t.defaultPrevented}function Vt(e,t,n){if(Array.isArray(t))return Bt(Vt,e,t,n);var r=function r(){qt(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Nt(),Wt(e,t,r)}function Gt(e,t,n){var r=function r(){qt(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Nt(),Wt(e,t,r)}var $t,Kt=Object.freeze({fixEvent:Ft,on:Wt,off:qt,trigger:zt,one:Vt,any:Gt}),Yt=30,Xt=function(e,t,n){t.guid||(t.guid=Nt());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},Jt=function(e,t){var n=o().performance.now();return function(){var r=o().performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},Zt=function(){};Zt.prototype.allowedEvents_={},Zt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Wt(this,e,t),this.addEventListener=n},Zt.prototype.addEventListener=Zt.prototype.on,Zt.prototype.off=function(e,t){qt(this,e,t)},Zt.prototype.removeEventListener=Zt.prototype.off,Zt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Vt(this,e,t),this.addEventListener=n},Zt.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Gt(this,e,t),this.addEventListener=n},Zt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=Ft(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),zt(this,e)},Zt.prototype.dispatchEvent=Zt.prototype.trigger,Zt.prototype.queueTrigger=function(e){var t=this;$t||($t=new Map);var n=e.type||e,r=$t.get(this);r||(r=new Map,$t.set(this,r));var i=r.get(n);r.delete(n),o().clearTimeout(i);var a=o().setTimeout((function(){0===r.size&&(r=null,$t.delete(t)),t.trigger(e)}),0);r.set(n,a)};var Qt=function(e){return e instanceof Zt||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},en=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},tn=function(e){if(!e.nodeName&&!Qt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},nn=function(e){if(!en(e))throw new Error("Invalid event type; must be a non-empty string or array.")},rn=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},on=function(e,t){var n,r,o,i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return i?(n=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],o=t[1]):(n=t[0],r=t[1],o=t[2]),tn(n),nn(r),rn(o),{isTargetingSelf:i,target:n,type:r,listener:o=Xt(e,o)}},an=function(e,t,n,r){tn(e),e.nodeName?Kt[t](e,n,r):e[t](n,r)},sn={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=on(this,n),i=o.isTargetingSelf,a=o.target,s=o.type,l=o.listener;if(an(a,"on",s,l),!i){var u=function(){return e.off(a,s,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,an(this,"on","dispose",u),an(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=on(this,n),i=o.isTargetingSelf,a=o.target,s=o.type,l=o.listener;if(i)an(a,"one",s,l);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];l.apply(null,r)};u.guid=l.guid,an(a,"one",s,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=on(this,n),i=o.isTargetingSelf,a=o.target,s=o.type,l=o.listener;if(i)an(a,"any",s,l);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];l.apply(null,r)};u.guid=l.guid,an(a,"any",s,u)}},off:function(e,t,n){if(!e||en(e))qt(this.eventBusEl_,e,t);else{var r=e,o=t;tn(r),nn(o),rn(n),n=Xt(this,n),this.off("dispose",n),r.nodeName?(qt(r,o,n),qt(r,"dispose",n)):Qt(r)&&(r.off(o,n),r.off("dispose",n))}},trigger:function(e,t){return zt(this.eventBusEl_,e,t)}};function ln(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=et("span",{className:"vjs-event-bus"});return ze(e,sn),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),o().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var un={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),qe(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&Qt(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function cn(e,t){return ze(e,un),e.state=ze({},e.state,t),"function"==typeof e.handleStateChanged&&Qt(e)&&e.on("statechanged",e.handleStateChanged),e}var dn=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},fn=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function pn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&qe(t,(function(t,n){Ge(t)?(Ge(e[n])||(e[n]={}),e[n]=pn(e[n],t)):e[n]=t}))})),e}var hn=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=pn({},this.options_),t=this.options_=pn(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Nt()}var i;this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&ln(this,{eventBusKey:this.el_?"el_":null}),cn(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},o().Set||(i=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}()),this.setTimeoutIds_=o().Set?new Set:new i,this.setIntervalIds_=o().Set?new Set:new i,this.rafIds_=o().Set?new Set:new i,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Lt.has(this.el_)&&Lt.delete(this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=pn(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return et(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),i=o&&o[r],a=r&&r.split("-")[0],s=o&&o[a],l=n;return i&&i[e]?l=i[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],o=r;return void 0===r&&(o=e),o}))),l},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.addChild=function(t,n,r){var o,i;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof t){i=fn(t);var a=n.componentClass||i;n.name=i;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;o=new s(this.player_||this,n)}else o=t;if(o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(r,0,o),o.parentComponent_=this,"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(i=i||o.name&&fn(o.name()))&&(this.childNameIndex_[i]=o,this.childNameIndex_[dn(i)]=o),"function"==typeof o.el&&o.el()){var l=this.contentEl().children[r]||null;this.contentEl().insertBefore(o.el(),l)}return o},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[fn(e.name())]=null,this.childNameIndex_[dn(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,o=this.options_,i=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var r,o;return"string"==typeof e?o=n[r=e]||t.options_[r]||{}:(r=e.name,o=e),{name:r,opts:o}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||fn(t.name));return n&&!i.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==o[n]&&(r=o[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var i=t.addChild(n,r);i&&(t[n]=i)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return St(e,t||this.contentEl())},t.$$=function(e,t){return Tt(e,t||this.contentEl())},t.hasClass=function(e){return rt(this.el_,e)},t.addClass=function(e){ot(this.el_,e)},t.removeClass=function(e){it(this.el_,e)},t.toggleClass=function(e,t){at(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return ut(this.el_,e)},t.setAttribute=function(e,t){ct(this.el_,e,t)},t.removeAttribute=function(e){dt(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],o=r.indexOf("px");return-1!==o?parseInt(r.slice(0,o),10):parseInt(this.el_["offset"+fn(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=$e(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+fn(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=o().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,o=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+o*o)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(n=null,!0===e)&&(o().performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=Xt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=Xt(this,e),this.clearTimersOnDispose_(),n=o().setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),o().clearTimeout(e)),e},t.setInterval=function(e,t){e=Xt(this,e),this.clearTimersOnDispose_();var n=o().setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),o().clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Xt(this,e),t=o().requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),o().cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],r=t[1];e[n].forEach(e[r],e)})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,o=e.getComponent("Tech"),i=o&&o.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!a)throw r=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=fn(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[dn(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function mn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function gn(e,t){return gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gn(e,t)}function yn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vn(e,t,n){return vn=yn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&gn(o,n.prototype),o},vn.apply(null,arguments)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}hn.prototype.supportsRaf_="function"==typeof o().requestAnimationFrame&&"function"==typeof o().cancelAnimationFrame,hn.registerComponent("Component",hn);var _n,wn=o().navigator&&o().navigator.userAgent||"",En=/AppleWebKit\/([\d.]+)/i.exec(wn),On=En?parseFloat(En.pop()):null,Sn=/iPad/i.test(wn),Tn=/iPhone/i.test(wn)&&!Sn,Cn=/iPod/i.test(wn),kn=Tn||Sn||Cn,An=(_n=wn.match(/OS (\d+)_/i))&&_n[1]?_n[1]:null,Pn=/Android/i.test(wn),xn=function(){var e=wn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),In=Pn&&xn<5&&On<537,Rn=/Firefox/i.test(wn),Dn=/Edge/i.test(wn),jn=!Dn&&(/Chrome/i.test(wn)||/CriOS/i.test(wn)),Nn=function(){var e=wn.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Ln=function(){var e=/MSIE\s(\d+)\.\d/.exec(wn),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(wn)&&/rv:11.0/.test(wn)&&(t=11),t}(),Mn=/Safari/i.test(wn)&&!jn&&!Pn&&!Dn,Bn=(Mn||kn)&&!jn,Fn=/Windows/i.test(wn),Un=Xe()&&("ontouchstart"in o()||o().navigator.maxTouchPoints||o().DocumentTouch&&o().document instanceof o().DocumentTouch),Hn=Object.freeze({IS_IPAD:Sn,IS_IPHONE:Tn,IS_IPOD:Cn,IS_IOS:kn,IOS_VERSION:An,IS_ANDROID:Pn,ANDROID_VERSION:xn,IS_NATIVE_ANDROID:In,IS_FIREFOX:Rn,IS_EDGE:Dn,IS_CHROME:jn,CHROME_VERSION:Nn,IE_VERSION:Ln,IS_SAFARI:Mn,IS_ANY_SAFARI:Bn,IS_WINDOWS:Fn,TOUCH_ENABLED:Un});function Wn(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function qn(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Wn.bind(null,"start",0,e),end:Wn.bind(null,"end",1,e)}}function zn(e,t){return Array.isArray(e)?qn(e):void 0===e||void 0===t?qn():qn([[e,t]])}function Vn(e,t){var n,r,o=0;if(!t)return 0;e&&e.length||(e=zn(0,0));for(var i=0;i<e.length;i++)n=e.start(i),(r=e.end(i))>t&&(r=t),o+=r-n;return o/t}for(var Gn,$n={prefixed:!0},Kn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Yn=Kn[0],Xn=0;Xn<Kn.length;Xn++)if(Kn[Xn][1]in a()){Gn=Kn[Xn];break}if(Gn){for(var Jn=0;Jn<Gn.length;Jn++)$n[Yn[Jn]]=Gn[Jn];$n.prefixed=Gn[0]!==Yn[0]}function Zn(e){if(e instanceof Zn)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Ve(e)&&("number"==typeof e.code&&(this.code=e.code),ze(this,e)),this.message||(this.message=Zn.defaultMessages[this.code]||"")}Zn.prototype.code=0,Zn.prototype.message="",Zn.prototype.status=null,Zn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Zn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Qn=0;Qn<Zn.errorTypes.length;Qn++)Zn[Zn.errorTypes[Qn]]=Qn,Zn.prototype[Zn.errorTypes[Qn]]=Qn;function er(e){return null!=e&&"function"==typeof e.then}function tr(e){er(e)&&e.then(null,(function(e){}))}var nr=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},rr=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=nr(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(nr))},or=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},ir=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=et("div",{className:"vjs-modal-dialog-content"},{role:"document"}),r.descEl_=et("p",{className:"vjs-modal-dialog-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),tt(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),wt(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},n.empty=function(){this.trigger("beforemodalempty"),vt(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=a().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),c().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(c().isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),o=0;o<n.length;o++)if(r===n[o]){t=o;break}a().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof o().HTMLAnchorElement||e instanceof o().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof o().HTMLInputElement||e instanceof o().HTMLSelectElement||e instanceof o().HTMLTextAreaElement||e instanceof o().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof o().HTMLIFrameElement||e instanceof o().HTMLObjectElement||e instanceof o().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(hn);ir.prototype.options_={pauseOnOpen:!0,temporary:!0},hn.registerComponent("ModalDialog",ir);var ar=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(bn(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}mn(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var o=this[n];if(o.id===e){t=o;break}}return t},t}(Zt);for(var sr in ar.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},ar.prototype.allowedEvents_)ar.prototype["on"+sr]=null;var lr=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},ur=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){lr(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}mn(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&lr(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,lr(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(ar),cr=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},dr=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){cr(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(bn(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}mn(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&cr(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,cr(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(ar),fr=function(e){function t(){return e.apply(this,arguments)||this}mn(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(ar),pr=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),hr=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)o.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var o=this[n];if(o.id===e){t=o;break}}return t},e}(),mr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},gr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},yr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vr={disabled:"disabled",hidden:"hidden",showing:"showing"},br=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+Nt(),kind:t.kind||"",label:t.label||"",language:t.language||""},o=function(e){Object.defineProperty(bn(n),e,{get:function(){return r[e]},set:function(){}})};for(var i in r)o(i);return n}return mn(t,e),t}(Zt),_r=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=a().createElement("a");n.href=e;var r,i=""===n.host&&"file:"!==n.protocol;i&&((r=a().createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),a().body.appendChild(r));for(var s={},l=0;l<t.length;l++)s[t[l]]=n[t[l]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=o().location.protocol),i&&a().body.removeChild(r),s},wr=function(e){if(!e.match(/^https?:\/\//)){var t=a().createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Er=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},Or=function(e){var t=o().location,n=_r(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},Sr=Object.freeze({parseUrl:_r,getAbsoluteURL:wr,getFileExtension:Er,isCrossOrigin:Or}),Tr=function(e,t){var n=new(o().WebVTT.Parser)(o(),o().vttjs,o().WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(o().console&&o().console.groupCollapsed&&o().console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return Fe.error(e)})),o().console&&o().console.groupEnd&&o().console.groupEnd()),n.flush()},Cr=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=pn(t,{kind:yr[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=vr[r.mode]||"disabled",a=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[];var s=new hr(n.cues_),l=new hr(n.activeCues_),u=!1,c=Xt(bn(n),(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==i&&n.tech_.ready((function(){n.tech_.on("timeupdate",c)}),!0),Object.defineProperties(bn(n),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return i},set:function(e){var t=this;vr[e]&&("disabled"!==(i=e)?this.tech_.ready((function(){t.tech_.on("timeupdate",c)}),!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var o=this.cues[n];(o.startTime<=e&&o.endTime>=e||o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e)&&t.push(o)}if(u=!1,t.length!==this.activeCues_.length)u=!0;else for(var i=0;i<t.length;i++)-1===this.activeCues_.indexOf(t[i])&&(u=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function(){}}}),r.src?(n.src=r.src,function(e,t){var n={uri:e},r=Or(e);r&&(n.cors=r),f()(n,Xt(this,(function(e,n,r){if(e)return Fe.error(e,n);t.loaded_=!0,"function"!=typeof o().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return Tr(r,t);Fe.error("vttjs failed to load, stopping trying to process "+t.src)})):Tr(r,t)})))}(r.src,bn(n))):n.loaded_=!0,n}mn(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(o().vttjs&&!(e instanceof o().vttjs.VTTCue)){for(var n in t=new(o().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(br);Cr.prototype.allowedEvents_={cuechange:"cuechange"};var kr=function(e){function t(t){var n;void 0===t&&(t={});var r=pn(t,{kind:gr[t.kind]||""});n=e.call(this,r)||this;var o=!1;return Object.defineProperty(bn(n),"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return mn(t,e),t}(br),Ar=function(e){function t(t){var n;void 0===t&&(t={});var r=pn(t,{kind:mr[t.kind]||""});n=e.call(this,r)||this;var o=!1;return Object.defineProperty(bn(n),"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return mn(t,e),t}(br),Pr=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var o=new Cr(t);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(bn(n),{readyState:{get:function(){return r}},track:{get:function(){return o}}}),r=0,o.addEventListener("loadeddata",(function(){r=2,n.trigger({type:"load",target:bn(n)})})),n}return mn(t,e),t}(Zt);Pr.prototype.allowedEvents_={load:"load"},Pr.NONE=0,Pr.LOADING=1,Pr.LOADED=2,Pr.ERROR=3;var xr={audio:{ListClass:ur,TrackClass:kr,capitalName:"Audio"},video:{ListClass:dr,TrackClass:Ar,capitalName:"Video"},text:{ListClass:fr,TrackClass:Cr,capitalName:"Text"}};Object.keys(xr).forEach((function(e){xr[e].getterName=e+"Tracks",xr[e].privateName=e+"Tracks_"}));var Ir={remoteText:{ListClass:fr,TrackClass:Cr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:pr,TrackClass:Pr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Rr=pn(xr,Ir);Ir.names=Object.keys(Ir),xr.names=Object.keys(xr),Rr.names=[].concat(Ir.names).concat(xr.names);var Dr=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),Rr.names.forEach((function(e){var n=Rr[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new Rr.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}mn(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Xt(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return zn(0,0)},n.bufferedPercent=function(){return Vn(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(xr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var o=n[r];"text"===e&&t.removeRemoteTextTrack(o),n.removeTrack(o)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Zn(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?zn(0,0):zn()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;xr.names.forEach((function(t){var n=xr[t],r=function(){e.trigger(t+"trackchange")},o=e[n.getterName]();o.addEventListener("removetrack",r),o.addEventListener("addtrack",r),e.on("dispose",(function(){o.removeEventListener("removetrack",r),o.removeEventListener("addtrack",r)}))}))},n.addWebVttScript_=function(){var e=this;if(!o().WebVTT)if(a().body.contains(this.el())){if(!this.options_["vtt.js"]&&Ge(h())&&Object.keys(h()).length>0)return void this.trigger("vttjsloaded");var t=a().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),o().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},o=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",o),this.addWebVttScript_();var i=function(){return e.trigger("texttrackchange")},a=function(){i();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",i),"showing"===n.mode&&n.addEventListener("cuechange",i)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",o),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",i)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,o){void 0===o&&(o={});var i=e.textTracks();o.kind=t,n&&(o.label=n),r&&(o.language=r),o.tech=e;var a=new Rr.text.TrackClass(o);return i.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=pn(e,{tech:this});return new Ir.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Fe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||o().Promise;if(e)return e.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=fn(e),t.techs_[e]=n,t.techs_[dn(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=fn(e),o()&&o().videojs&&o().videojs[e]?(Fe.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),o().videojs[e]):void 0)},t}(hn);Rr.names.forEach((function(e){var t=Rr[e];Dr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Dr.prototype.featuresVolumeControl=!0,Dr.prototype.featuresMuteControl=!0,Dr.prototype.featuresFullscreenResize=!1,Dr.prototype.featuresPlaybackRate=!1,Dr.prototype.featuresProgressEvents=!1,Dr.prototype.featuresSourceset=!1,Dr.prototype.featuresTimeupdateEvents=!1,Dr.prototype.featuresNativeTextTracks=!1,Dr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],o=0;o<r.length;o++)if(n=r[o].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],o=0;o<r.length;o++)if(r[o].canHandleSource(t,n))return r[o];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Fe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},hn.registerComponent("Tech",Dr),Dr.registerTech("Tech",Dr),Dr.defaultTechOrder_=[];var jr={},Nr={},Lr={};function Mr(e,t,n){e.setTimeout((function(){return qr(t,jr[t.type],n,e)}),1)}function Br(e,t,n,r){void 0===r&&(r=null);var o="call"+fn(n),i=e.reduce(Wr(o),r),a=i===Lr,s=a?null:t[n](i);return function(e,t,n,r){for(var o=e.length-1;o>=0;o--){var i=e[o];i[t]&&i[t](r,n)}}(e,n,s,a),s}var Fr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},Ur={setCurrentTime:1,setVolume:1},Hr={play:1,pause:1};function Wr(e){return function(t,n){return t===Lr?Lr:n[e]?n[e](t):t}}function qr(e,t,n,r,o,i){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===i&&(i=!1);var a=t,s=a[0],l=a.slice(1);if("string"==typeof s)qr(e,jr[s],n,r,o,i);else if(s){var u=function(e,t){var n=Nr[e.id()],r=null;if(null==n)return r=t(e),Nr[e.id()]=[[t,r]],r;for(var o=0;o<n.length;o++){var i=n[o],a=i[0],s=i[1];a===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}(r,s);if(!u.setSource)return o.push(u),qr(e,l,n,r,o,i);u.setSource(ze({},e),(function(t,a){if(t)return qr(e,l,n,r,o,i);o.push(u),qr(a,e.type===a.type?l:jr[a.type],n,r,o,i)}))}else l.length?qr(e,l,n,r,o,i):i?n(e,o):qr(e,jr["*"],n,r,o,!0)}var zr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Vr=function(e){void 0===e&&(e="");var t=Er(e);return zr[t.toLowerCase()]||""},Gr=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Ve(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[$r({src:t})]:Ve(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[$r(t)]:[];return t};function $r(e){if(!e.type){var t=Vr(e.src);t&&(e.type=t)}return e}var Kr=function(e){function t(t,n,r){var o,i=pn({createEl:!1},n);if(o=e.call(this,t,i,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var l=fn(s[a]),u=Dr.getTech(l);if(l||(u=hn.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return o}return mn(t,e),t}(hn);hn.registerComponent("MediaLoader",Kr);var Yr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).emitTapEvents(),r.enable(),r}mn(t,e);var n=t.prototype;return n.createEl=function(t,n,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=ze({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&Fe.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=ze({role:"button"},r),this.tabIndex_=n.tabIndex;var o=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=et("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,tt(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){},n.handleKeyDown=function(t){c().isEventKey(t,"Space")||c().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(hn);hn.registerComponent("ClickableComponent",Yr);var Xr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),t.on("posterchange",Xt(bn(r),r.update)),r}mn(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return et("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?tr(this.player_.play()):this.player_.pause())},t}(Yr);hn.registerComponent("PosterImage",Xr);var Jr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Zr(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Qr(e,t,n){try{e.style[t]=n}catch(r){return}}var eo=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=Xt(bn(i),i.updateDisplay);return t.on("loadstart",Xt(bn(i),i.toggleDisplay)),t.on("texttrackchange",a),t.on("loadedmetadata",Xt(bn(i),i.preselectTrack)),t.ready(Xt(bn(i),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",a),t.on("playerresize",a),o().addEventListener("orientationchange",a),t.on("dispose",(function(){return o().removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),i}mn(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},o=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage,a=0;a<o.length;a++){var s=o[a];i&&i.enabled&&i.language&&i.language===s.language&&s.kind in r?s.kind===i.kind?n=s:n||(n=s):i&&!i.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof o().WebVTT&&o().WebVTT.processCues(o(),[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var o=e[r];"showing"===o.mode&&n.push(o)}this.updateForTrack(n)}else{for(var i=null,a=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?i=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):i&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var i=n[r];if(i){var a=i.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Qr(a.firstChild,"color",Zr(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Qr(a.firstChild,"backgroundColor",Zr(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Qr(a,"backgroundColor",Zr(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var s=o().parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Jr[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof o().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.activeCues.length;++i)t.push(r.activeCues[i]);o().WebVTT.processCues(o(),t,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],l=0;l<s.activeCues.length;++l){var u=s.activeCues[l].displayState;ot(u,"vjs-text-track-cue"),ot(u,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(hn);hn.registerComponent("TextTrackDisplay",eo);var to=function(e){function t(){return e.apply(this,arguments)||this}return mn(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=et("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),o=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(r),o},t}(hn);hn.registerComponent("LoadingSpinner",to);var no=function(e){function t(){return e.apply(this,arguments)||this}mn(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=ze({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=ze({type:"button"},n);var r=hn.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return Fe.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),hn.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){c().isEventKey(t,"Space")||c().isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Yr);hn.registerComponent("Button",no);var ro=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return tr(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var o=function(){return r.focus()};er(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(no);ro.prototype.controlText_="Play Video",hn.registerComponent("BigPlayButton",ro);var oo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){c().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(no);hn.registerComponent("CloseButton",oo);var io=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),n.replay&&r.on(t,"ended",r.handleEnded),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(no);io.prototype.controlText_="Play",hn.registerComponent("PlayToggle",io);var ao=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),o=Math.floor(e/3600),i=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=r=n="-"),(o=o>0||a>0?o+":":"")+(r=((o||i>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},so=ao;function lo(e,t){return void 0===t&&(t=e),so(e,t)}var uo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).throttledUpdateContent=Jt(Xt(bn(r),r.updateContent),Yt),r.on(t,"timeupdate",r.throttledUpdateContent),r}mn(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=et("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=a().createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(e){return lo(e)},n.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(e){},t}(hn);uo.prototype.labelText_="Time",uo.prototype.controlText_="Time",hn.registerComponent("TimeDisplay",uo);var co=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"ended",r.handleEnded),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(uo);co.prototype.labelText_="Current Time",co.prototype.controlText_="Current Time",hn.registerComponent("CurrentTimeDisplay",co);var fo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.throttledUpdateContent),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(uo);fo.prototype.labelText_="Duration",fo.prototype.controlText_="Duration",hn.registerComponent("DurationDisplay",fo);var po=function(e){function t(){return e.apply(this,arguments)||this}return mn(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(hn);hn.registerComponent("TimeDivider",po);var ho=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.throttledUpdateContent),r.on(t,"ended",r.handleEnded),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(et("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){"number"==typeof this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(uo);ho.prototype.labelText_="Remaining Time",ho.prototype.controlText_="Remaining Time",hn.registerComponent("RemainingTimeDisplay",ho);var mo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}mn(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=et("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(hn);hn.registerComponent("LiveDisplay",mo);var go=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}mn(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=et("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(no);go.prototype.controlText_="Seek to live, currently playing live",hn.registerComponent("SeekToLive",go);var yo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}mn(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=ze({tabIndex:0},n),r=ze({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||jn||e.preventDefault(),ft(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;pt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style,o=this.vertical()?"height":"width";return r[o]!==n&&(r[o]=n),e}}},n.calculateDistance=function(e){var t=gt(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){c().isEventKey(t,"Left")||c().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):c().isEventKey(t,"Right")||c().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(hn);hn.registerComponent("Slider",yo);var vo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",r.update),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this.player_.liveTracker,n=this.player_.buffered(),r=t&&t.isLive()?t.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),i=this.partEls_,a=this.$(".vjs-control-text-loaded-percentage"),s=function(e,t,n){var r=e/t||0;return r=100*(r>=1?1:r),n&&(r=r.toFixed(2)),r+"%"};this.el_.style.width=s(o,r),tt(a,s(o,r,!0));for(var l=0;l<n.length;l++){var u=n.start(l),c=n.end(l),d=i[l];d||(d=this.el_.appendChild(et()),i[l]=d),d.style.left=s(u,o),d.style.width=s(c-u,o)}for(var f=i.length;f>n.length;f--)this.el_.removeChild(i[f-1]);i.length=n.length},t}(hn);hn.registerComponent("LoadProgressBar",vo);var bo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Jt(Xt(bn(r),r.update),Yt),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=ht(this.el_),o=ht(this.player_.el()),i=e.width*t;if(o&&r){var a=e.left-o.left+i,s=e.width-i+(o.right-e.right),l=r.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>r.width&&(l=r.width),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){tt(this.el_,e)},n.updateTime=function(e,t,n,r){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var i,a=o.player_.duration();if(o.player_.liveTracker&&o.player_.liveTracker.isLive()){var s=o.player_.liveTracker.liveWindow(),l=s-t*s;i=(l<1?"":"-")+lo(l,s)}else i=lo(n,a);o.update(e,t,i),r&&r()}))},t}(hn);hn.registerComponent("TimeTooltip",bo);var _o=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Jt(Xt(bn(r),r.update),Yt),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(hn);_o.prototype.options_={children:[]},kn||Pn||_o.prototype.options_.children.push("timeTooltip"),hn.registerComponent("PlayProgressBar",_o);var wo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Jt(Xt(bn(r),r.update),Yt),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left=e.width*t+"px"}))},t}(hn);wo.prototype.options_={children:["timeTooltip"]},hn.registerComponent("MouseTimeDisplay",wo);var Eo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}mn(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update=Jt(Xt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a()&&"visibilityState"in a()&&this.on(a(),"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){a().hidden?this.disableInterval_(e):(this.enableInterval_(),this.requestAnimationFrame(this.update))},n.enableInterval_=function(){var e=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval((function(){e.requestAnimationFrame(e.update)}),30)},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.clearInterval(this.updateInterval)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(e,t){var n=this.player_.liveTracker,r=this.player_.duration();n&&n.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[lo(e,r),lo(r,r)],"{1} of {2}")),this.bar&&this.bar.update(ht(this.el_),t)},n.update=function(t){if(null!==this.el().offsetParent){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(e){this.update_(this.player_.duration(),1)},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e>=1?1:e||0},n.handleMouseDown=function(t){Et(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(Et(e)){var t,n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){var o=r.seekableStart(),i=r.liveCurrentTime();if((t=o+n*r.liveWindow())>=i&&(t=i),t<=o&&(t=o+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&tr(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(c().isEventKey(t,"Space")||c().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(c().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(c().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(c()(t))){t.preventDefault(),t.stopPropagation();var n=10*(c().codes[c()(t)]-c().codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else c().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):c().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},t}(yo);Eo.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},kn||Pn||Eo.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),hn.registerComponent("SeekBar",Eo);var Oo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=Jt(Xt(bn(r),r.handleMouseMove),Yt),r.throttledHandleMouseSeek=Jt(Xt(bn(r),r.handleMouseSeek),Yt),r.enable(),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),o=ht(r),i=gt(r,e).x;i>1?i=1:i<0&&(i=0),n&&n.update(o,i)}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(hn);Oo.prototype.options_={children:["seekBar"]},hn.registerComponent("ProgressControl",Oo);var So=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],r.handlePictureInPictureChange),a().pictureInPictureEnabled||r.disable(),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(no);So.prototype.controlText_="Picture-in-Picture",hn.registerComponent("PictureInPictureToggle",So);var To=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",r.handleFullscreenChange),!1===a()[t.fsApi_.fullscreenEnabled]&&r.disable(),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(no);To.prototype.controlText_="Fullscreen",hn.registerComponent("FullscreenToggle",To);var Co=function(e){function t(){return e.apply(this,arguments)||this}return mn(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(hn);hn.registerComponent("VolumeLevel",Co);var ko=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready((function(){return r.updateARIAAttributes()})),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Et(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){Et(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(yo);ko.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},ko.prototype.playerEvent="volumechange",hn.registerComponent("VolumeBar",ko);var Ao=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Ge(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(bn(r=e.call(this,t,n)||this),t),r.throttledHandleMouseMove=Jt(Xt(bn(r),r.handleMouseMove),Yt),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}mn(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(hn);Ao.prototype.options_={children:["volumeBar"]},hn.registerComponent("VolumeControl",Ao);var Po=function(e){function t(t,n){var r;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(bn(r=e.call(this,t,n)||this),t),r.on(t,["loadstart","volumechange"],r.update),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;kn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)it(this.el_,"vjs-vol-"+n);ot(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(no);Po.prototype.controlText_="Mute",hn.registerComponent("MuteToggle",Po);var xo=function(e){function t(t,n){var r;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||Ge(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).on(t,["loadstart"],r.volumePanelState_),r.on(r.muteToggle,"keyup",r.handleKeyPress),r.on(r.volumeControl,"keyup",r.handleVolumeControlKeyUp),r.on("keydown",r.handleKeyPress),r.on("mouseover",r.handleMouseOver),r.on("mouseout",r.handleMouseOut),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}mn(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){c().isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),Wt(a(),"keyup",Xt(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),qt(a(),"keyup",Xt(this,this.handleKeyPress))},n.handleKeyPress=function(e){c().isEventKey(e,"Esc")&&this.handleMouseOut()},t}(hn);xo.prototype.options_={children:["muteToggle","volumeControl"]},hn.registerComponent("VolumePanel",xo);var Io=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=Xt(bn(r),r.handleBlur),r.boundHandleTapClick_=Xt(bn(r),r.handleTapClick),r}mn(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof hn&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof hn&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=et(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Wt(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||a().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){c().isEventKey(e,"Left")||c().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(c().isEventKey(e,"Right")||c().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(hn);hn.registerComponent("Menu",Io);var Ro=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new no(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var o=no.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+o,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),Wt(a(),"keyup",Xt(bn(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}mn(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new Io(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=et("li",{className:"vjs-menu-title",innerHTML:fn(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new hn(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+no.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),qt(a(),"keyup",Xt(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){c().isEventKey(e,"Esc")||c().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),c().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(c().isEventKey(e,"Up")||c().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(c().isEventKey(e,"Esc")||c().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(c().isEventKey(e,"Esc")||c().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),c().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),kn&&Ze())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(hn);hn.registerComponent("MenuButton",Ro);var Do=function(e){function t(t,n){var r,o=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!o)return bn(r);var i=Xt(bn(r),r.update);return o.addEventListener("removetrack",i),o.addEventListener("addtrack",i),r.player_.on("ready",i),r.player_.on("dispose",(function(){o.removeEventListener("removetrack",i),o.removeEventListener("addtrack",i)})),r}return mn(t,e),t}(Ro);hn.registerComponent("TrackButton",Do);var jo=["Tab","Esc","Up","Down","Right","Left"],No=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}mn(t,e);var n=t.prototype;return n.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",ze({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},n.handleKeyDown=function(t){jo.some((function(e){return c().isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Yr);hn.registerComponent("MenuItem",No);var Lo=function(e){function t(t,n){var r,i=n.track,s=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,(r=e.call(this,t,n)||this).track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var l,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(bn(r),t)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(bn(r),t)};(t.on(["loadstart","texttrackchange"],u),s.addEventListener("change",u),s.addEventListener("selectedlanguagechange",c),r.on("dispose",(function(){t.off(["loadstart","texttrackchange"],u),s.removeEventListener("change",u),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange)&&r.on(["tap","click"],(function(){if("object"!=typeof o().Event)try{l=new(o().Event)("change")}catch(e){}l||(l=a().createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(l)}));return r.handleTracksChange(),r}mn(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var o=0;o<r.length;o++){var i=r[o];-1!==this.kinds.indexOf(i.kind)&&(i===n?"showing"!==i.mode&&(i.mode="showing"):"disabled"!==i.mode&&(i.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(No);hn.registerComponent("TextTrackMenuItem",Lo);var Mo=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}mn(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,o=t.length;r<o;r++){var i=t[r];if(this.options_.kinds.indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,o=t.length;r<o;r++){var i=t[r];if(["captions","descriptions","subtitles"].indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Lo);hn.registerComponent("OffTextTrackMenuItem",Mo);var Bo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return mn(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=Lo),this.label_&&(n=this.label_+" off"),e.push(new Mo(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<r.length;o++){var i=r[o];if(this.kinds_.indexOf(i.kind)>-1){var a=new t(this.player_,{track:i,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+i.kind+"-menu-item"),e.push(a)}}return e},t}(Do);hn.registerComponent("TextTrackButton",Bo);var Fo=function(e){function t(t,n){var r,o=n.track,i=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=a&&a<i.endTime,(r=e.call(this,t,n)||this).track=o,r.cue=i,o.addEventListener("cuechange",Xt(bn(r),r.update)),r}mn(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(No);hn.registerComponent("ChaptersTrackMenuItem",Fo);var Uo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(fn(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var o=t[n],i=new Fo(this.player_,{track:this.track_,cue:o});e.push(i)}return e},t}(Bo);Uo.prototype.kind_="chapters",Uo.prototype.controlText_="Chapters",hn.registerComponent("ChaptersButton",Uo);var Ho=function(e){function t(t,n,r){var o;o=e.call(this,t,n,r)||this;var i=t.textTracks(),a=Xt(bn(o),o.handleTracksChange);return i.addEventListener("change",a),o.on("dispose",(function(){i.removeEventListener("change",a)})),o}mn(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,o=t.length;r<o;r++){var i=t[r];if(i.kind!==this.kind_&&"showing"===i.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Bo);Ho.prototype.kind_="descriptions",Ho.prototype.controlText_="Descriptions",hn.registerComponent("DescriptionsButton",Ho);var Wo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Bo);Wo.prototype.kind_="subtitles",Wo.prototype.controlText_="Subtitles",hn.registerComponent("SubtitlesButton",Wo);var qo=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return mn(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Lo);hn.registerComponent("CaptionSettingsMenuItem",qo);var zo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new qo(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Bo);zo.prototype.kind_="captions",zo.prototype.controlText_="Captions",hn.registerComponent("CaptionsButton",zo);var Vo=function(e){function t(){return e.apply(this,arguments)||this}return mn(t,e),t.prototype.createEl=function(t,n,r){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,ze({innerHTML:o},n),r)},t}(Lo);hn.registerComponent("SubsCapsMenuItem",Vo);var Go=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(fn(r.label_)),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new qo(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Vo)},t}(Bo);Go.prototype.kinds_=["captions","subtitles"],Go.prototype.controlText_="Subtitles",hn.registerComponent("SubsCapsButton",Go);var $o=function(e){function t(t,n){var r,o=n.track,i=t.audioTracks();n.label=o.label||o.language||"Unknown",n.selected=o.enabled,(r=e.call(this,t,n)||this).track=o,r.addClass("vjs-"+o.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(bn(r),t)};return i.addEventListener("change",a),r.on("dispose",(function(){i.removeEventListener("change",a)})),r}mn(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,ze({innerHTML:o},n),r)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var o=n[r];o.enabled=o===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(No);hn.registerComponent("AudioTrackMenuItem",$o);var Ko=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new $o(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(Do);Ko.prototype.controlText_="Audio Track",hn.registerComponent("AudioTrackButton",Ko);var Yo=function(e){function t(t,n){var r,o=n.rate,i=parseFloat(o,10);return n.label=o,n.selected=1===i,n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=o,r.rate=i,r.on(t,"ratechange",r.update),r}mn(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(No);Yo.prototype.contentElType="button",hn.registerComponent("PlaybackRateMenuItem",Yo);var Xo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}mn(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=et("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new Io(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Yo(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],o=0;o<n.length;o++)if(n[o]>t){r=n[o];break}this.player().playbackRate(r)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Ro);Xo.prototype.controlText_="Playback Rate",hn.registerComponent("PlaybackRateMenuButton",Xo);var Jo=function(e){function t(){return e.apply(this,arguments)||this}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(hn);hn.registerComponent("Spacer",Jo);var Zo=function(e){function t(){return e.apply(this,arguments)||this}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(Jo);hn.registerComponent("CustomControlSpacer",Zo);var Qo=function(e){function t(){return e.apply(this,arguments)||this}return mn(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(hn);Qo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in a()&&Qo.prototype.options_.children.splice(Qo.prototype.options_.children.length-1,0,"pictureInPictureToggle"),hn.registerComponent("ControlBar",Qo);var ei=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",r.open),r}mn(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(ir);ei.prototype.options_=pn(ir.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),hn.registerComponent("ErrorDisplay",ei);var ti="vjs-text-track-settings",ni=["#000","Black"],ri=["#00F","Blue"],oi=["#0FF","Cyan"],ii=["#0F0","Green"],ai=["#F0F","Magenta"],si=["#F00","Red"],li=["#FFF","White"],ui=["#FF0","Yellow"],ci=["1","Opaque"],di=["0.5","Semi-Transparent"],fi=["0","Transparent"],pi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ni,li,si,ii,ri,ui,ai,oi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ci,di,fi]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[li,ni,si,ii,ri,ui,ai,oi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ci,di]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[fi,di,ci]}};function hi(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}pi.windowColor.options=pi.backgroundColor.options;var mi=function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=Xt(bn(r),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=et("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),qe(pi,(function(e){r.on(r.$(e.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}mn(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var o=pi[e],i=o.id.replace("%s",this.id_),a=[t,i].join(" ").trim();return["<"+n+' id="'+i+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(o.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(o.options.map((function(e){var t=i+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',r.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return et("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return et("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return et("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e=this;return function(e,t,n){return void 0===n&&(n=0),We(e).reduce((function(n,r){return t(n,e[r],r)}),n)}(pi,(function(t,n,r){var o,i,a=(o=e.$(n.selector),i=n.parser,hi(o.options[o.options.selectedIndex].value,i));return void 0!==a&&(t[r]=a),t}),{})},n.setValues=function(e){var t=this;qe(pi,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(hi(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},n.setDefaults=function(){var e=this;qe(pi,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(o().localStorage.getItem(ti))}catch(t){Fe.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?o().localStorage.setItem(ti,JSON.stringify(e)):o().localStorage.removeItem(ti)}catch(t){Fe.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(ir);hn.registerComponent("TextTrackSettings",mi);var gi=function(e){function t(t,n){var r,i=n.ResizeObserver||o().ResizeObserver;null===n.ResizeObserver&&(i=!1);var a=pn({createEl:!i,reportTouchActivity:!1},n);return(r=e.call(this,t,a)||this).ResizeObserver=n.ResizeObserver||o().ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var i;void 0===r&&(r=o());var a=function(){var o=this,a=arguments,s=function(){i=null,s=null,n||e.apply(o,a)};!i&&n&&e.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,t)};return a.cancel=function(){r.clearTimeout(i),i=null},a}((function(){r.resizeHandler()}),100,!1,bn(r)),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){qt(this,"resize",e),qt(this,"unload",t),t=null};Wt(r.el_.contentWindow,"unload",t),Wt(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}mn(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(hn);hn.registerComponent("ResizeManager",gi);var yi=function(e){function t(t,n){var r,o=pn({createEl:!1},n);return(r=e.call(this,t,o)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),Ln&&"hidden"in a()&&"visibilityState"in a()&&r.on(a(),"visibilitychange",r.handleVisibilityChange),r}mn(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(a().hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),n=2*this.seekableIncrement_+.07;return e!==1/0&&e-n>=t},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t,n,r,o=this.seekableEnd();o!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(o-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=(t=this.seekableIncrementList_,n=Math.floor(t.length/2),r=[].concat(t).sort((function(e,t){return e-t})),t.length%2!=0?r[n]:(r[n-1]+r[n])/2))),this.pastSeekEnd_=0,this.lastSeekEnd_=o,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(hn);hn.registerComponent("LiveTracker",yi);var vi=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],o="";if(!n.length)return!1;for(var i=0;i<n.length;i++){var a=n[i].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(o=r[0]),e.triggerSourceset(o),!0)},bi=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=a().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=a().createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",o().Element.prototype.appendChild.call(this,n),this.innerHTML}}),_i=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},wi=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return _i([e.el(),o().HTMLMediaElement.prototype,o().Element.prototype,bi],"innerHTML")}(e),i=function(n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=n.apply(t,o);return vi(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))})),Object.defineProperty(t,"innerHTML",pn(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},Ei=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?wr(o().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return o().Element.prototype.setAttribute.call(this,"src",e),e}}),Oi=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return _i([e.el(),o().HTMLMediaElement.prototype,Ei],"src")}(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",pn(n,{set:function(r){var o=n.set.call(t,r);return e.triggerSourceset(t.src),o}})),t.setAttribute=function(n,o){var i=r.call(t,n,o);return/src/i.test(n)&&e.triggerSourceset(t.src),i},t.load=function(){var n=i.call(t);return vi(e)||(e.triggerSourceset(""),wi(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):vi(e)||wi(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Si=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o=t.source,i=!1;if(o&&(r.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(o):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var a=r.el_.childNodes,s=a.length,l=[];s--;){var u=a[s];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),i||r.el_.hasAttribute("crossorigin")||!Or(u.src)||(i=!0)):l.push(u))}for(var c=0;c<l.length;c++)r.el_.removeChild(l[c])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&i&&Fe.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(Un||Tn||In)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}mn(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Oi(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var o=e[r];"disabled"===o.track.mode&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=xr[e],r=this.el()[n.getterName],o=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var i={change:function(e){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(e){o.addTrack(e.track)},removetrack:function(e){o.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<o.length;t++){for(var n=!1,i=0;i<r.length;i++)if(r[i]===o[t]){n=!0;break}n||e.push(o[t])}for(;e.length;)o.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=i,Object.keys(i).forEach((function(e){var n=i[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;xr.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=a().createElement("video");var r=pn({},this.options_.tag&&lt(this.options_.tag));Un&&!0===this.options_.nativeControlsForTouch||delete r.controls,st(e,ze(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&ct(e,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],i=0;i<o.length;i++){var s=o[i],l=this.options_[s];void 0!==l&&(l?ct(e,s,s):dt(e,s),e[s]=l)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var o=["loadstart"];o.push("loadedmetadata"),e.readyState>=2&&o.push("loadeddata"),e.readyState>=3&&o.push("canplay"),e.readyState>=4&&o.push("canplaythrough"),this.ready((function(){o.forEach((function(e){this.trigger(e)}),this)}))}},n.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){Fe(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&Pn&&jn&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=o().navigator&&o().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){e.pause(),e.webkitEnterFullScreen()}),0)):e.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=a().createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),o().performance&&"function"==typeof o().performance.now?e.creationTime=o().performance.now():o().performance&&o().performance.timing&&"number"==typeof o().performance.timing.navigationStart&&(e.creationTime=o().Date.now()-o().performance.timing.navigationStart),e},t}(Dr);if(Xe()){Si.TEST_VID=a().createElement("video");var Ti=a().createElement("track");Ti.kind="captions",Ti.srclang="en",Ti.label="English",Si.TEST_VID.appendChild(Ti)}Si.isSupported=function(){try{Si.TEST_VID.volume=.5}catch(e){return!1}return!(!Si.TEST_VID||!Si.TEST_VID.canPlayType)},Si.canPlayType=function(e){return Si.TEST_VID.canPlayType(e)},Si.canPlaySource=function(e,t){return Si.canPlayType(e.type)},Si.canControlVolume=function(){try{var e=Si.TEST_VID.volume;return Si.TEST_VID.volume=e/2+.1,e!==Si.TEST_VID.volume}catch(t){return!1}},Si.canMuteVolume=function(){try{var e=Si.TEST_VID.muted;return Si.TEST_VID.muted=!e,Si.TEST_VID.muted?ct(Si.TEST_VID,"muted","muted"):dt(Si.TEST_VID,"muted"),e!==Si.TEST_VID.muted}catch(t){return!1}},Si.canControlPlaybackRate=function(){if(Pn&&jn&&Nn<58)return!1;try{var e=Si.TEST_VID.playbackRate;return Si.TEST_VID.playbackRate=e/2+.1,e!==Si.TEST_VID.playbackRate}catch(t){return!1}},Si.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(a().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(a().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(a().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(a().createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Si.supportsNativeTextTracks=function(){return Bn||kn&&jn},Si.supportsNativeVideoTracks=function(){return!(!Si.TEST_VID||!Si.TEST_VID.videoTracks)},Si.supportsNativeAudioTracks=function(){return!(!Si.TEST_VID||!Si.TEST_VID.audioTracks)},Si.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Si.prototype.featuresVolumeControl=Si.canControlVolume(),Si.prototype.featuresMuteControl=Si.canMuteVolume(),Si.prototype.featuresPlaybackRate=Si.canControlPlaybackRate(),Si.prototype.featuresSourceset=Si.canOverrideAttributes(),Si.prototype.movingMediaElementInDOM=!kn,Si.prototype.featuresFullscreenResize=!0,Si.prototype.featuresProgressEvents=!0,Si.prototype.featuresTimeupdateEvents=!0,Si.prototype.featuresNativeTextTracks=Si.supportsNativeTextTracks(),Si.prototype.featuresNativeVideoTracks=Si.supportsNativeVideoTracks(),Si.prototype.featuresNativeAudioTracks=Si.supportsNativeAudioTracks();var Ci=Si.TEST_VID&&Si.TEST_VID.constructor.prototype.canPlayType,ki=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Si.patchCanPlayType=function(){xn>=4&&!Rn&&!jn&&(Si.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&ki.test(e)?"maybe":Ci.call(this,e)})},Si.unpatchCanPlayType=function(){var e=Si.TEST_VID.constructor.prototype.canPlayType;return Si.TEST_VID.constructor.prototype.canPlayType=Ci,e},Si.patchCanPlayType(),Si.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},Si.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Si.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Si.prototype["set"+fn(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(e){Si.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(e){Si.prototype["set"+fn(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Si.prototype[e]=function(){return this.el_[e]()}})),Dr.withSourceHandlers(Si),Si.nativeSourceHandler={},Si.nativeSourceHandler.canPlayType=function(e){try{return Si.TEST_VID.canPlayType(e)}catch(t){return""}},Si.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Si.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Er(e.src);return Si.nativeSourceHandler.canPlayType("video/"+n)}return""},Si.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Si.nativeSourceHandler.dispose=function(){},Si.registerSourceHandler(Si.nativeSourceHandler),Dr.registerTech("Html5",Si);var Ai=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Pi={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},xi=["tiny","xsmall","small","medium","large","xlarge","huge"],Ii={};xi.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Ii[e]="vjs-layout-"+t}));var Ri={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Di=function(e){function t(n,r,o){var i;if(n.id=n.id||r.id||"vjs_video_"+Nt(),(r=ze(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(lt(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}if((i=e.call(this,null,r,o)||this).boundDocumentFullscreenChange_=Xt(bn(i),i.documentFullscreenChange_),i.boundFullWindowOnEscKey_=Xt(bn(i),i.fullWindowOnEscKey),i.log=Ue(i.id_),i.fsApi_=$n,i.isPosterFromTech_=!1,i.queuedCallbacks_=[],i.isReady_=!1,i.hasStarted_=!1,i.userActive_=!1,!i.options_||!i.options_.techOrder||!i.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(i.tag=n,i.tagAttributes=n&&lt(n),i.language(i.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach((function(e){l[e.toLowerCase()]=r.languages[e]})),i.languages_=l}else i.languages_=t.prototype.options_.languages;i.resetCache_(),i.poster_=r.poster||"",i.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),i.changingSrc_=!1,i.playCallbacks_=[],i.playTerminatedQueue_=[],n.hasAttribute("autoplay")?i.autoplay(!0):i.autoplay(i.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!=typeof i[e])throw new Error('plugin "'+e+'" does not exist')})),i.scrubbing_=!1,i.el_=i.createEl(),ln(bn(i),{eventBusKey:"el_"}),i.fluid_&&i.on("playerreset",i.updateStyleEl_);var u=pn(i.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){i[e](r.plugins[e])})),i.options_.playerOptions=u,i.middleware_=[],i.initChildren(),i.isAudio("audio"===n.nodeName.toLowerCase()),i.controls()?i.addClass("vjs-controls-enabled"):i.addClass("vjs-controls-disabled"),i.el_.setAttribute("role","region"),i.isAudio()?i.el_.setAttribute("aria-label",i.localize("Audio Player")):i.el_.setAttribute("aria-label",i.localize("Video Player")),i.isAudio()&&i.addClass("vjs-audio"),i.flexNotSupported_()&&i.addClass("vjs-no-flex"),Un&&i.addClass("vjs-touch-enabled"),kn||i.addClass("vjs-workinghover"),t.players[i.id_]=bn(i);var c=Me.split(".")[0];return i.addClass("vjs-v"+c),i.userActive(!0),i.reportUserActivity(),i.one("play",i.listenForUserActivity_),i.on("stageclick",i.handleStageClick_),i.on("keydown",i.handleKeyDown),i.breakpoints(i.options_.breakpoints),i.responsive(i.options_.responsive),i}mn(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),qt(a(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),qt(a(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Nr[this.id()]=null,Rr.names.forEach((function(e){var t=Rr[e],r=n[t.getterName]();r&&r.off&&r.off()})),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var s=lt(n);if(i){for(t=this.el_=n,n=this.tag=a().createElement("video");t.children.length;)n.appendChild(t.firstChild);rt(t,"video-js")||ot(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(r){}}))}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(Ln||jn&&Fn)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(e){i&&"class"===e||t.setAttribute(e,s[e]),i&&n.setAttribute(e,s[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==o().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Rt("vjs-styles-dimensions");var l=St(".vjs-styles-defaults"),u=St("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=n.getElementsByTagName("a"),d=0;d<c.length;d++){var f=c.item(d);ot(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),nt(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?Fe.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,Qt(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Qt(t=function(){this.on("playerreset",this.updateStyleEl_)})?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==o().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Dt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(a>=0&&(l.width=a),s>=0&&(l.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=fn(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Dr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var i={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Rr.names.forEach((function(e){var t=Rr[e];i[t.getterName]=n[t.privateName]})),ze(i,this.options_[r]),ze(i,this.options_[o]),ze(i,this.options_[e.toLowerCase()]),this.tag&&(i.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime);var a=Dr.getTech(e);if(!a)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new a(i),this.tech_.ready(Xt(this,this.handleTechReady_),!0),or(this.textTracksJson_||[],this.tech_),Ai.forEach((function(e){n.on(n.tech_,e,n["handleTech"+fn(e)+"_"])})),Object.keys(Pi).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Pi[e]+"_"].bind(n),event:t}):n["handleTech"+Pi[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||nt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Rr.names.forEach((function(t){var n=Rr[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=rr(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&Fe.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(er(r))return r.catch(n)};if("any"===e&&!0!==this.muted()?er(n=this.play())&&(n=n.catch(r)):n="muted"===e&&!0!==this.muted()?r():this.play(),er(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),o=0;o<r.length;o++){var i=r[o];if(i.type&&i.src&&i.src===t)return i.type}return Vr(t)}(this,t)),this.cache_.source=pn({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),o=[],i=this.$$("source"),a=[],s=0;s<i.length;s++){var l=lt(i[s]);o.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!r.length?this.cache_.sources=o:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,o=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(o)&&(!this.lastSource_||this.lastSource_.tech!==o&&this.lastSource_.player!==r)&&(n=function(){}),n(o),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Fe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){Et(e)&&this.controls_&&(this.paused()?tr(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=this.el(),n=a()[this.fsApi_.fullscreenElement]===t;!n&&t.matches?n=t.matches(":"+this.fsApi_.fullscreen):!n&&t.msMatchesSelector&&(n=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n),!1===this.isFullscreen()&&qt(a(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},n.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in Ur)return function(e,t,n,r){return t[n](e.reduce(Wr(n),r))}(this.middleware_,this.tech_,e,t);if(e in Hr)return Br(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw Fe(n),n}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Fr)return function(e,t,n){return e.reduceRight(Wr(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Hr)return Br(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Fe("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Fe("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Fe(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||o().Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=tr),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!Bn&&!kn||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||zn(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=zn(0,0)),e},n.bufferedPercent=function(){return Vn(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,void this.toggleFullscreenClass_()):!!this.isFullscreen_},n.requestFullscreen=function(e){var t;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(Wt(a(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),tr(this.el_[this.fsApi_.requestFullscreen](t))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?tr(a()[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a().documentElement.style.overflow,Wt(a(),"keydown",this.boundFullWindowOnEscKey_),a().documentElement.style.overflow="hidden",ot(a().body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){c().isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,qt(a(),"keydown",this.boundFullWindowOnEscKey_),a().documentElement.style.overflow=this.docOrigOverflow,it(a().body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in a())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in a())return a().exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return c().isEventKey(e,"f")}:n,o=t.muteKey,i=void 0===o?function(e){return c().isEventKey(e,"m")}:o,s=t.playPauseKey,l=void 0===s?function(e){return c().isEventKey(e,"k")||c().isEventKey(e,"Space")}:s;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var u=hn.getComponent("FullscreenToggle");!1!==a()[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else if(i.call(this,e)){e.preventDefault(),e.stopPropagation(),hn.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(l.call(this,e)){e.preventDefault(),e.stopPropagation(),hn.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var o=r[n],i=Dr.getTech(o);if(i||(i=hn.getComponent(o)),i){if(i.isSupported()&&(t=i.canPlayType(e)))return t}else Fe.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map((function(e){return[e,Dr.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(Fe.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},i=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return t=this.options_.sourceOrder?o(e,r,function(e){return function(t,n){return e(n,t)}}(i)):o(r,e,i),t||!1},n.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n=Gr(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Mr(this,n[0],(function(e,r){var o,i;if(t.middleware_=r,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());o=r,i=t.tech_,o.forEach((function(e){return e.setTech&&e.setTech(i)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src_=function(e){var t,n,r=this,o=this.selectSource([e]);return!o||(t=o.tech,n=this.techName_,fn(t)!==fn(n)?(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready((function(){r.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||o().Promise;this.paused()||!t?this.doReset_():tr(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Qt(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&e.message&&e.message===this.localize(this.options_.notSupportedMessage)){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Zn(e),this.addClass("vjs-error"),Fe.error("(CODE:"+this.error_.code+" "+Zn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=Xt(this,this.reportUserActivity);this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",(function(t){r(),this.clearInterval(e)}));var o,i=this.getChild("controlBar");!i||kn||Pn||(i.on("mouseenter",(function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),i.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return pn(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=pn(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=pn(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new ir(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<xi.length;n++){var r=xi[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(Ii[e]),this.addClass(Ii[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=ze({},Ri,e),this.updateCurrentBreakpoint_()),ze(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Ii[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=pn(e);var r=this.cache_.media,o=r.artwork,i=r.poster,a=r.src,s=r.textTracks;!o&&i&&(this.cache_.media.artwork=[{src:i,type:Vr(i)}]),a&&this.src(a),i&&this.poster(i),Array.isArray(s)&&s.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Vr(t.poster)}]),t}return pn(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=lt(e),r=n["data-setup"];if(rt(e,"vjs-fill")&&(n.fill=!0),rt(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var o=l()(r||"{}"),i=o[0],a=o[1];i&&Fe.error(i),ze(n,a)}if(ze(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,c=s.length;u<c;u++){var d=s[u],f=d.nodeName.toLowerCase();"source"===f?t.sources.push(lt(d)):"track"===f&&t.tracks.push(lt(d))}return t},n.flexNotSupported_=function(){var e=a().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(hn);Rr.names.forEach((function(e){var t=Rr[e];Di.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Di.players={};var ji=o().navigator;Di.prototype.options_={techOrder:Dr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ji&&(ji.languages&&ji.languages[0]||ji.userLanguage||ji.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Di.prototype[e]=function(){return this.techGet_(e)}})),Ai.forEach((function(e){Di.prototype["handleTech"+fn(e)+"_"]=function(){return this.trigger(e)}})),hn.registerComponent("Player",Di);var Ni="plugin",Li={},Mi=function(e){return Li.hasOwnProperty(e)},Bi=function(e){return Mi(e)?Li[e]:void 0},Fi=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Ui=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Hi=function(e,t){return t.prototype.name=e,function(){Ui(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=vn(t,[this].concat(r));return this[e]=function(){return i},Ui(this,i.getEventHash()),i}},Wi=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,ln(this),delete this.trigger,cn(this,this.constructor.defaultState),Fi(t,this.name),this.dispose=Xt(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),zt(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Hi(e,Li[e])},e.isBasic=function(t){var n="string"==typeof t?Bi(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Mi(t))Fe.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Di.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Li[t]=n,t!==Ni&&(e.isBasic(n)?Di.prototype[t]=function(e,t){var n=function(){Ui(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Fi(this,e),Ui(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Di.prototype[t]=Hi(t,n)),n},e.deregisterPlugin=function(e){if(e===Ni)throw new Error("Cannot de-register base plugin.");Mi(e)&&(delete Li[e],delete Di.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Li)),e.forEach((function(e){var n=Bi(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Bi(e);return t&&t.VERSION||""},e}();Wi.getPlugin=Bi,Wi.BASE_PLUGIN_NAME=Ni,Wi.registerPlugin(Ni,Wi),Di.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Di.prototype.hasPlugin=function(e){return!!Mi(e)};var qi=function(e){return 0===e.indexOf("#")?e.slice(1):e};function zi(e,t,n){var r=zi.getPlayer(e);if(r)return t&&Fe.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var o="string"==typeof e?St("#"+qi(e)):e;if(!Je(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||Fe.warn("The element supplied is not included in the DOM"),t=t||{},zi.hooks("beforesetup").forEach((function(e){var n=e(o,pn(t));Ve(n)&&!Array.isArray(n)?t=pn(t,n):Fe.error("please return an object in beforesetup hooks")}));var i=hn.getComponent("Player");return r=new i(o,t,n),zi.hooks("setup").forEach((function(e){return e(r)})),r}if(zi.hooks_={},zi.hooks=function(e,t){return zi.hooks_[e]=zi.hooks_[e]||[],t&&(zi.hooks_[e]=zi.hooks_[e].concat(t)),zi.hooks_[e]},zi.hook=function(e,t){zi.hooks(e,t)},zi.hookOnce=function(e,t){zi.hooks(e,[].concat(t).map((function(t){return function n(){return zi.removeHook(e,n),t.apply(void 0,arguments)}})))},zi.removeHook=function(e,t){var n=zi.hooks(e).indexOf(t);return!(n<=-1)&&(zi.hooks_[e]=zi.hooks_[e].slice(),zi.hooks_[e].splice(n,1),!0)},!0!==o().VIDEOJS_NO_DYNAMIC_STYLE&&Xe()){var Vi=St(".vjs-styles-defaults");if(!Vi){Vi=Rt("vjs-styles-defaults");var Gi=St("head");Gi&&Gi.insertBefore(Vi,Gi.firstChild),Dt(Vi,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Pt(1,zi),zi.VERSION=Me,zi.options=Di.prototype.options_,zi.getPlayers=function(){return Di.players},zi.getPlayer=function(e){var t,n=Di.players;if("string"==typeof e){var r=qi(e),o=n[r];if(o)return o;t=St("#"+r)}else t=e;if(Je(t)){var i=t,a=i.player,s=i.playerId;if(a||n[s])return a||n[s]}},zi.getAllPlayers=function(){return Object.keys(Di.players).map((function(e){return Di.players[e]})).filter(Boolean)},zi.players=Di.players,zi.getComponent=hn.getComponent,zi.registerComponent=function(e,t){Dr.isTech(t)&&Fe.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),hn.registerComponent.call(hn,e,t)},zi.getTech=Dr.getTech,zi.registerTech=Dr.registerTech,zi.use=function(e,t){jr[e]=jr[e]||[],jr[e].push(t)},Object.defineProperty(zi,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(zi.middleware,"TERMINATOR",{value:Lr,writeable:!1,enumerable:!0}),zi.browser=Hn,zi.TOUCH_ENABLED=Un,zi.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var o in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),r)r.hasOwnProperty(o)&&(n.prototype[o]=r[o]);return n},zi.mergeOptions=pn,zi.bind=Xt,zi.registerPlugin=Wi.registerPlugin,zi.deregisterPlugin=Wi.deregisterPlugin,zi.plugin=function(e,t){return Fe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Wi.registerPlugin(e,t)},zi.getPlugins=Wi.getPlugins,zi.getPlugin=Wi.getPlugin,zi.getPluginVersion=Wi.getPluginVersion,zi.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),zi.options.languages=pn(zi.options.languages,((n={})[e]=t,n)),zi.options.languages[e]},zi.log=Fe,zi.createLogger=Ue,zi.createTimeRange=zi.createTimeRanges=zn,zi.formatTime=lo,zi.setFormatTime=function(e){so=e},zi.resetFormatTime=function(){so=ao},zi.parseUrl=_r,zi.isCrossOrigin=Or,zi.EventTarget=Zt,zi.on=Wt,zi.one=Vt,zi.off=qt,zi.trigger=zt,zi.xhr=f(),zi.TextTrack=Cr,zi.AudioTrack=kr,zi.VideoTrack=Ar,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){zi[e]=function(){return Fe.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Ct[e].apply(null,arguments)}})),zi.computedStyle=$e,zi.dom=Ct,zi.url=Sr;var $i=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=g().buildAbsoluteURL(o().location.href,e)),g().buildAbsoluteURL(e,t))},Ki=function(e,t,n){return e&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Yi=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ji=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},Zi=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Qi=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ea=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ta=zi.mergeOptions,na=zi.EventTarget,ra=zi.log,oa=function(e,t){["AUDIO","SUBTITLES"].forEach((function(n){for(var r in e.mediaGroups[n])for(var o in e.mediaGroups[n][r]){var i=e.mediaGroups[n][r][o];t(i,n,r,o)}}))},ia=function(e,t){var n=ta(e,{}),r=n.playlists[t.uri];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.endList===t.endList&&r.mediaSequence===t.mediaSequence)return null;var o=ta(r,t);r.segments&&(o.segments=function(e,t,n){var r=t.slice();n=n||0;for(var o=Math.min(e.length,t.length+n),i=n;i<o;i++)r[i-n]=ta(e[i],r[i-n]);return r}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),o.segments.forEach((function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=$i(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=$i(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=$i(t,e.map.uri))}(e,o.resolvedUri)}));for(var i=0;i<n.playlists.length;i++)n.playlists[i].uri===t.uri&&(n.playlists[i]=o);return n.playlists[t.uri]=o,n},aa=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=$i(e.uri,n.uri),n.id=t,n.attributes||(n.attributes={},ra.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},sa=function(e){oa(e,(function(t){t.uri&&(t.resolvedUri=$i(e.uri,t.uri))}))},la=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},ua=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yi(this,t);var o=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=r.withCredentials,a=void 0!==i&&i,s=r.handleManifestRedirects,l=void 0!==s&&s;o.srcUrl=e,o.hls_=n,o.withCredentials=a,o.handleManifestRedirects=l;var u=n.options_;if(o.customTagParsers=u&&u.customTagParsers||[],o.customTagMappers=u&&u.customTagMappers||[],!o.srcUrl)throw new Error("A non-empty playlist URL is required");return o.state="HAVE_NOTHING",o.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===o.state&&(o.state="HAVE_CURRENT_METADATA",o.request=o.hls_.xhr({uri:$i(o.master.uri,o.media().uri),withCredentials:o.withCredentials},(function(e,t){if(o.request)return e?o.playlistRequestError(o.request,o.media().uri,"HAVE_METADATA"):void o.haveMetadata(o.request,o.media().uri)})))})),o}return Zi(t,e),Xi(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new C;this.customTagParsers.forEach((function(e){return r.addParser(e)})),this.customTagMappers.forEach((function(e){return r.addTagMapper(e)})),r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var i=ia(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(o().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=o().setTimeout((function(){n.trigger("mediaupdatetimeout")}),la(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),o().clearTimeout(this.mediaUpdateTimeout),o().clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(o().clearTimeout(this.finalRenditionTimeout),t){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=o().setTimeout(this.media.bind(this,e,!1),r)}else{var i=this.state,a=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.resolvedUri=Ki(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e.uri,i);n.haveMetadata(r,e.uri),"HAVE_MASTER"===i?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}}},{key:"pause",value:function(){this.stopRequest(),o().clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;o().clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=o().setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new C;return e.customTagParsers.forEach((function(e){return r.addParser(e)})),e.customTagMappers.forEach((function(e){return r.addTagMapper(e)})),r.push(n.responseText),r.end(),e.state="HAVE_MASTER",e.srcUrl=Ki(e.handleManifestRedirects,e.srcUrl,n),r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,aa(e.master),sa(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:o().location.href,playlists:[{uri:e.srcUrl,id:0,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}}))}}]),t}(na),ca=zi.createTimeRange,da=function(e,t,n){var r,o;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=function(e,t){var n=0,r=t-e.mediaSequence,o=e.segments[r];if(o){if(void 0!==o.start)return{result:o.start,precise:!0};if(void 0!==o.end)return{result:o.end-o.duration,precise:!0}}for(;r--;){if(void 0!==(o=e.segments[r]).end)return{result:n+o.end,precise:!0};if(n+=o.duration,void 0!==o.start)return{result:n+o.start,precise:!0}}return{result:n,precise:!1}}(e,t),r.precise?r.result:(o=function(e,t){for(var n=0,r=void 0,o=t-e.mediaSequence;o<e.segments.length;o++){if(void 0!==(r=e.segments[o]).start)return{result:r.start-n,precise:!0};if(n+=r.duration,void 0!==r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t),o.precise?o.result:r.result+n))},fa=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return o()[1/0]}return da(e,t,n)},pa=function(e,t,n){var r=0;if(t>n){var o=[n,t];t=o[0],n=o[1]}if(t<0){for(var i=t;i<Math.min(0,n);i++)r+=e.targetDuration;t=0}for(var a=t;a<n;a++)r+=e.segments[a].duration;return r},ha=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;t--&&!((n+=e.segments[t].duration)>=r););return Math.max(0,t)},ma=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return fa(e);if(null===t)return null;t=t||0;var r=n?ha(e):e.segments.length;return da(e,e.mediaSequence+r,t)},ga=function(e){return e-Math.floor(e)==0},ya=function(e,t){if(ga(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var o=Math.pow(10,r),i=t*o;if(ga(i)||r===n)return(i+e)/o}},va=ya.bind(null,1),ba=ya.bind(null,-1),_a=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},wa=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Ea=function(e){var t=_a(e);return!e.disabled&&!t},Oa=function(e,t){return t.attributes&&t.attributes[e]},Sa=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!Ea(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Ta={duration:fa,seekable:function(e,t){var n=t||0,r=ma(e,t,!0);return null===r?ca():ca(n,r)},safeLiveIndex:ha,getMediaInfoForTime:function(e,t,n,r){var o=void 0,i=void 0,a=e.segments.length,s=t-r;if(s<0){if(n>0)for(o=n-1;o>=0;o--)if(i=e.segments[o],(s+=ba(i.duration))>0)return{mediaIndex:o,startTime:r-pa(e,n,o)};return{mediaIndex:0,startTime:t}}if(n<0){for(o=n;o<0;o++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(o=n;o<a;o++)if(i=e.segments[o],(s-=va(i.duration))<0)return{mediaIndex:o,startTime:r+pa(e,n,o)};return{mediaIndex:a-1,startTime:t}},isEnabled:Ea,isDisabled:function(e){return e.disabled},isBlacklisted:_a,isIncompatible:wa,playlistEnd:ma,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:Oa,estimateSegmentRequestTime:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!Oa("BANDWIDTH",n))return NaN;var o=e*n.attributes.BANDWIDTH;return(o-8*r)/t},isLowestEnabledRendition:Sa},Ca=zi.xhr,ka=zi.mergeOptions,Aa=function(){return function e(t,n){t=ka({timeout:45e3},t);var r=e.beforeRequest||zi.Hls.xhr.beforeRequest;if(r&&"function"==typeof r){var o=r(t);o&&(t=o)}var i=Ca(t,(function(e,t){var r=i.response;!e&&r&&(i.responseTime=Date.now(),i.roundTripTime=i.responseTime-i.requestTime,i.bytesReceived=r.byteLength||r.length,i.bandwidth||(i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3))),t.headers&&(i.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(i.timedout=!0),e||i.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(i&&(r||i.responseText)))),n(e,i)})),a=i.abort;return i.abort=function(){return i.aborted=!0,a.apply(i,arguments)},i.uri=t.uri,i.requestTime=Date.now(),i}},Pa=function(e){var t,n,r={};return e.byterange&&(r.Range=(t=e.byterange,n=t.offset+t.length-1,"bytes="+t.offset+"-"+n)),r},xa=function(e,t){return e.start(t)+"-"+e.end(t)},Ia=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Ra=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Da=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},ja=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Na=function(e){return e.resolvedUri},La=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",o=0;o<t.length/n;o++)r+=t.slice(o*n,o*n+n).map(Ia).join("")+" "+t.slice(o*n,o*n+n).map(Ra).join("")+"\n";return r},Ma=Object.freeze({createTransferableMessage:Da,initSegmentId:ja,segmentKeyId:Na,hexDump:La,tagDump:function(e){var t=e.bytes;return La(t)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=xa(e,n)+" ";return t}}),Ba=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,o=e.callback;if(!o)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return o({message:"getProgramTime: playlist and time must be provided"});var i=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n=0,r=void 0,o=0;o<t.segments.length&&!(e<=(n=(r=t.segments[o]).videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration));o++);var i=t.segments[t.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*i.duration)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!i)return o({message:"valid programTime was not found"});if("estimate"===i.type)return o({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});var a={mediaSeconds:r},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,i.segment);return s&&(a.programDateTime=s.toISOString()),o(null,a)},Fa=function e(t){var n=t.programTime,r=t.playlist,o=t.retryCount,i=void 0===o?2:o,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!r||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=function(e,t){var n=void 0;try{n=new Date(e)}catch(u){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var o=0;o<t.segments.length-1&&(r=t.segments[o],!(n<t.segments[o+1].dateTimeObject));o++);var i,a=t.segments[t.segments.length-1],s=a.dateTimeObject,l=a.videoTimingInfo?(i=a.videoTimingInfo).transmuxedPresentationEnd-i.transmuxedPresentationStart-i.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*l)?null:(n>s&&(r=a),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ta.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!d)return c({message:n+" was not found in the stream"});var f=d.segment,p=function(e,t){var n=void 0,r=void 0;try{n=new Date(e),r=new Date(t)}catch(i){}var o=n.getTime();return(r.getTime()-o)/1e3}(f.dateTimeObject,n);if("estimate"===d.type)return 0===i?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+p),void u.one("seeked",(function(){e({programTime:n,playlist:r,retryCount:i-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})})));var h=f.start+p;u.one("seeked",(function(){return c(null,u.currentTime())})),l&&u.pause(),a(h)},Ua=1/30,Ha=.1,Wa=function(e,t){var n=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return zi.createTimeRanges(n)},qa=function(e,t){return Wa(e,(function(e,n){return e-Ha<=t&&n+Ha>=t}))},za=function(e,t){return Wa(e,(function(e){return e-Ua>=t}))},Va=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Ga=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},$a=function(e,t,n){var r=void 0,o=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)(o=n.cues[r]).startTime<=t&&o.endTime>=e&&n.removeCue(o)},Ka=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},Ya=function(e,t,n){var r=o().WebKitDataCue||o().VTTCue;if(t&&t.forEach((function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))}),e),n){var i=Ka(e.mediaSource_.duration);if(n.forEach((function(e){var t=e.cueTime+this.timestampOffset;!("number"!=typeof t||o().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return zi.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return zi.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return zi.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),this.metadataTrack_.addCue(n)}),this)}),e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var a=e.metadataTrack_.cues,s=[],l=0;l<a.length;l++)a[l]&&s.push(a[l]);var u=s.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),c=Object.keys(u).sort((function(e,t){return Number(e)-Number(t)}));c.forEach((function(e,t){var n=u[e],r=Number(c[t+1])||i;n.forEach((function(e){e.endTime=r}))}))}}},Xa="undefined"!=typeof window?window:{},Ja="undefined"==typeof Symbol?"__target":Symbol(),Za=Xa.BlobBuilder||Xa.WebKitBlobBuilder||Xa.MozBlobBuilder||Xa.MSBlobBuilder,Qa=Xa.URL||Xa.webkitURL||Qa&&Qa.msURL,es=Xa.Worker;function ts(e,t){return function(n){var r=this;if(!t)return new es(e);if(es&&!n){var o=is(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ja]=new es(o),function(e,t){if(!e||!t)return;var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Qa.revokeObjectURL(e.objURL),n.call(e)}}(this[Ja],o),this[Ja]}var i={postMessage:function(e){r.onmessage&&setTimeout((function(){r.onmessage({data:e,target:i})}))}};t.call(i),this.postMessage=function(e){setTimeout((function(){i.onmessage({data:e,target:r})}))},this.isThisThread=!0}}if(es){var ns,rs=is("self.onmessage = function () {}"),os=new Uint8Array(1);try{(ns=new es(rs)).postMessage(os,[os.buffer])}catch(Pl){es=null}finally{Qa.revokeObjectURL(rs),ns&&ns.terminate()}}function is(e){try{return Qa.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(Pl){var t=new Za;return t.append(e),Qa.createObjectURL(t.getBlob(type))}}var as=new ts("./transmuxer-worker.worker.js",(function(e,t){var n=this;!function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,o,i;if(n=e[t])if(2===arguments.length)for(o=n.length,r=0;r<o;++r)n[r].call(this,arguments[1]);else{for(i=[],r=arguments.length,r=1;r<arguments.length;++r)i.push(arguments[r]);for(o=n.length,r=0;r<o;++r)n[r].apply(this,i)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,o,i,a,s,l,u,c,d,f,p,h,m,g,y,v,b,_,w,E,O,S,T,C,k,A,P,x,I,R,D,j,N,L,M,B,F,U,H,W=e,q=Math.pow(2,32)-1;!function(){var e;if(O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in O)O.hasOwnProperty(e)&&(O[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),T=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:k,audio:A},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),j=D,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=D,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,r=[],o=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)o+=r[t].byteLength;for(n=new Uint8Array(o+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,o=8;t<r.length;t++)n.set(r[t],o),o+=r[t].byteLength;return n},r=function(){return t(O.dinf,t(O.dref,R))},o=function(e){return t(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(O.hdlr,P[e])},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(O.mdhd,n)},h=function(e){return t(O.mdia,m(e),g(e.type),s(e))},a=function(e){return t(O.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return t(O.minf,"video"===e.type?t(O.vmhd,x):t(O.smhd,I),r(),v(e))},l=function(e,n){for(var r=[],o=n.length;o--;)r[o]=_(n[o]);return t.apply(null,[O.moof,a(e)].concat(r))},u=function(e){for(var n=e.length,r=[];n--;)r[n]=f(e[n]);return t.apply(null,[O.moov,d(4294967295)].concat(r).concat(c(e)))},c=function(e){for(var n=e.length,r=[];n--;)r[n]=w(e[n]);return t.apply(null,[O.mvex].concat(r))},d=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(O.mvhd,n)},y=function(e){var n,r,o=e.samples||[],i=new Uint8Array(4+o.length);for(r=0;r<o.length;r++)n=o[r].flags,i[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(O.sdtp,i)},v=function(e){return t(O.stbl,b(e),t(O.stts,L),t(O.stsc,j),t(O.stsz,N),t(O.stco,D))},b=function(e){return t(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):B(e))},M=function(e){var n,r,o=e.sps||[],i=e.pps||[],a=[],s=[];for(n=0;n<o.length;n++)a.push((65280&o[n].byteLength)>>>8),a.push(255&o[n].byteLength),a=a.concat(Array.prototype.slice.call(o[n]));for(n=0;n<i.length;n++)s.push((65280&i[n].byteLength)>>>8),s.push(255&i[n].byteLength),s=s.concat(Array.prototype.slice.call(i[n]));if(r=[O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(O.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([o.length],a,[i.length],s))),t(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(t(O.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,r)},B=function(e){return t(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))},p=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(O.tkhd,n)},_=function(e){var n,r,o,i,a,s;return n=t(O.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(q+1)),s=Math.floor(e.baseMediaDecodeTime%(q+1)),r=t(O.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(o=E(e,92),t(O.traf,n,r,o)):(i=y(e),o=E(e,i.length+92),t(O.traf,n,r,o,i))},f=function(e){return e.duration=e.duration||4294967295,t(O.trak,p(e),h(e))},w=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(O.trex,n)},H=function(e,t){var n=0,r=0,o=0,i=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(o=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,n|r|o|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var r,o,i,a;for(n+=20+16*(o=e.samples||[]).length,r=H(o,n),a=0;a<o.length;a++)i=o[a],r=r.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size,i.flags.isLeading<<2|i.flags.dependsOn,i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,61440&i.flags.degradationPriority,15&i.flags.degradationPriority,(4278190080&i.compositionTimeOffset)>>>24,(16711680&i.compositionTimeOffset)>>>16,(65280&i.compositionTimeOffset)>>>8,255&i.compositionTimeOffset]);return t(O.trun,new Uint8Array(r))},F=function(e,n){var r,o,i,a;for(n+=20+8*(o=e.samples||[]).length,r=H(o,n),a=0;a<o.length;a++)i=o[a],r=r.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size]);return t(O.trun,new Uint8Array(r))},E=function(e,t){return"audio"===e.type?F(e,t):U(e,t)};i=function(){return t(O.ftyp,S,T,S,C)};var z,V,G,$,K,Y,X,J,Z=function(e){return t(O.mdat,e)},Q=l,ee=function(e){var t,n=i(),r=u(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t},te=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ne=function(e){var t,n,r=[],o=[];for(o.byteLength=0,o.nalCount=0,o.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,o.byteLength+=r.byteLength,o.nalCount+=r.length,o.duration+=r.duration,o.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return o.length&&(!r.duration||r.duration<=0)&&(r.duration=o[o.length-1].duration),o.byteLength+=r.byteLength,o.nalCount+=r.length,o.duration+=r.duration,o.push(r),o},re=function(e){var t,n,r=[],o=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,o.byteLength=0,o.nalCount=0,o.duration=0,o.pts=e[0].pts,o.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(o.push(r),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return o.length&&r.duration<=0&&(r.duration=o[o.length-1].duration),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.duration+=r.duration,o.push(r),o},oe=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ie=function(e,t){var n,r,o,i,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(i=e[n],r=0;r<i.length;r++)a=i[r],s+=(o=te(a,s)).size,l.push(o);return l},ae=function(e){var t,n,r,o,i,a,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(o=e[t],n=0;n<o.length;n++)for(i=o[n],r=0;r<i.length;r++)a=i[r],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},se=[33,16,5,32,164,27],le=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ue=function(e){for(var t=[];e--;)t.push(0);return t},ce={96e3:[se,[227,64],ue(154),[56]],88200:[se,[231],ue(170),[56]],64e3:[se,[248,192],ue(240),[56]],48e3:[se,[255,192],ue(268),[55,148,128],ue(54),[112]],44100:[se,[255,192],ue(268),[55,163,128],ue(84),[112]],32e3:[se,[255,192],ue(268),[55,234],ue(226),[112]],24e3:[se,[255,192],ue(268),[55,255,128],ue(268),[111,112],ue(126),[224]],16e3:[se,[255,192],ue(268),[55,255,128],ue(268),[111,255],ue(269),[223,108],ue(195),[1,192]],12e3:[le,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,253,128],ue(259),[56]],11025:[le,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,255,192],ue(268),[55,175,128],ue(108),[112]],8e3:[le,ue(268),[3,121,16],ue(47),[7]]},de=(z=ce,Object.keys(z).reduce((function(e,t){return e[t]=new Uint8Array(z[t].reduce((function(e,t){return e.concat(t)}),[])),e}),{})),fe=9e4;Y=function(e,t){return V(K(e,t))},X=function(e,t){return G($(e),t)},J=function(e,t,n){return $(n?e:e-t)};var pe=fe,he=(V=function(e){return e*fe},G=function(e,t){return e*t},$=function(e){return e/fe},K=function(e,t){return e/t},Y),me=X,ge=J,ye=function(e,t,n,r){var o,i,a,s,l,u=0,c=0,d=0;if(t.length&&(o=he(e.baseMediaDecodeTime,e.samplerate),i=Math.ceil(pe/(e.samplerate/1024)),n&&r&&(u=o-Math.max(n,r),d=(c=Math.floor(u/i))*i),!(c<1||d>pe/2))){for((a=de[e.samplerate])||(a=t[0].data),s=0;s<c;s++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-i,pts:l.pts-i});e.baseMediaDecodeTime-=Math.floor(me(d,e.samplerate))}},ve=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},be=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},_e=function(e){var t,n,r=0,o=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],o.set(n.data,r),r+=n.data.byteLength;return o},we=pe,Ee=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Oe=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/we,n=Math.floor(n)),n},Se=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Te=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,o=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=o,n.payload=e.subarray(t,t+o);break}t+=o,r=0,o=0}return n},Ce=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},ke=function(e,t){var n,r,o,i,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)i={type:3&t[(o=3*n)+2],pts:e},4&t[o+2]&&(i.ccData=t[o+3]<<8|t[o+4],a.push(i));return a},Ae=4,Pe=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new je(0,0),new je(0,1),new je(1,0),new je(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};(Pe.prototype=new W).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=Te(e.escapedRBSP)).payloadType===Ae&&(n=Ce(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=ke(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Pe.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Pe.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Pe.prototype.flush=function(){return this.flushStream("flush")},Pe.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Pe.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Pe.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Pe.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Pe.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ie=function(e){return null===e?"":(e=xe[e]||e,String.fromCharCode(e))},Re=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],De=function(){for(var e=[],t=15;t--;)e.push("");return e},je=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,o,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,o=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=De();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=De();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=De()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,o))i=Ie((r=(3&r)<<8)|o),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(r,o))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=Ie((r=(3&r)<<8)|o),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(r,o))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&o)&&this.addFormatting(e.pts,["i"]),1==(1&o)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,o))this.column_+=3&o;else if(this.isPAC(r,o)){var a=Re.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&o&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(o)&&14==(14&o)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===o&&(o=null),i=Ie(r),i+=Ie(o),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};je.prototype=new W,je.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(Pl){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=De(),this.nonDisplayed_=De(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},je.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},je.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},je.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},je.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},je.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},je.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},je.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},je.prototype.isNormalChar=function(e){return e>=32&&e<=127},je.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=De(),this.displayed_=De()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},je.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},je.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},je.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},je.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},je.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},je.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Ne={CaptionStream:Pe,Cea608Stream:je},Le={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Me="shared",Be=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Fe=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||Me,this.push=function(e){this.type_!==Me&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=Be(e.dts,r),e.pts=Be(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Fe.prototype=new W;var Ue,He=Fe,We=function(e,t,n){var r,o="";for(r=t;r<n;r++)o+="%"+("00"+e[r].toString(16)).slice(-2);return o},qe=function(e,t,n){return decodeURIComponent(We(e,t,n))},ze=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ve={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=qe(e.data,1,t),e.value=qe(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=qe(e.data,1,t),e.url=qe(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(We(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Ue=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,o=[],i=0;if(Ue.prototype.init.call(this),this.dispatchType=Le.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,l,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(i=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),i+=e.data.byteLength,1===o.length&&(r=ze(e.data.subarray(6,10)),r+=10),!(i<r)){for(t={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},u=0;u<r;)t.data.set(o[0].data.subarray(0,r-u),u),u+=o[0].data.byteLength,i-=o[0].data.byteLength,o.shift();a=10,64&t.data[5]&&(a+=4,a+=ze(t.data.subarray(10,14)),r-=ze(t.data.subarray(16,20)));do{if((s=ze(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=l.id,Ve[l.id]&&(Ve[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],l.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=s}while(a<r);this.trigger("data",t)}}},Ue.prototype=new W;var Ge,$e,Ke,Ye=Ue,Xe=He,Je=188;(Ge=function(){var e=new Uint8Array(Je),t=0;Ge.prototype.init.call(this),this.push=function(n){var r,o=0,i=Je;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;i<r.byteLength;)71!==r[o]||71!==r[i]?(o++,i++):(this.trigger("data",r.subarray(o,i)),o+=Je,i+=Je);o<r.byteLength&&(e.set(r.subarray(o),0),t=r.byteLength-o)},this.flush=function(){t===Je&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new W,$e=function(){var e,t,n,r;$e.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var o=0;r.payloadUnitStartIndicator&&(o+=e[o]+1),"pat"===r.type?t(e.subarray(o),r):n(e.subarray(o),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,o;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,o=12+((15&e[10])<<8|e[11]);o<n;){var i=e[o],a=(31&e[o+1])<<8|e[o+2];i===Le.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:i===Le.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:i===Le.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=i),o+=5+((15&e[o+3])<<8|e[o+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Le.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Le.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},$e.prototype=new W,$e.STREAM_TYPES={h264:27,adts:15},Ke=function(){var e,t=this,n={data:[],size:0},r={data:[],size:0},o={data:[],size:0},i=function(e,n,r){var o,i,a=new Uint8Array(e.size),s={type:n},l=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)i=e.data[l],a.set(i.data,u),u+=i.data.byteLength;var c,d,f;c=a,(d=s).packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(f=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&f&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8]),o="video"===n||s.packetLength<=e.size,(r||o)&&(e.size=0,e.data.length=0),o&&t.trigger("data",s)}};Ke.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Le.H264_STREAM_TYPE:case Le.H264_STREAM_TYPE:e=n,t="video";break;case Le.ADTS_STREAM_TYPE:e=r,t="audio";break;case Le.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&i(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){i(n,"video"),i(r,"audio"),i(o,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},Ke.prototype=new W;var Ze={PAT_PID:0,MP2T_PACKET_LENGTH:Je,TransportPacketStream:Ge,TransportParseStream:$e,ElementaryStream:Ke,TimestampRolloverStream:Xe,CaptionStream:Ne.CaptionStream,Cea608Stream:Ne.Cea608Stream,MetadataStream:Ye};for(var Qe in Le)Le.hasOwnProperty(Qe)&&(Ze[Qe]=Le[Qe]);var et,tt=Ze,nt=pe,rt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];et=function(e){var t,n=0;et.prototype.init.call(this),this.push=function(r){var o,i,a,s,l,u,c=0;if(e||(n=0),"audio"===r.type)for(t?(s=t,(t=new Uint8Array(s.byteLength+r.data.byteLength)).set(s),t.set(r.data,s.byteLength)):t=r.data;c+5<t.length;)if(255===t[c]&&240==(246&t[c+1])){if(i=2*(1&~t[c+1]),o=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,u=(l=1024*(1+(3&t[c+6])))*nt/rt[(60&t[c+2])>>>2],a=c+o,t.byteLength<a)return;if(this.trigger("data",{pts:r.pts+n*u,dts:r.dts+n*u,sampleCount:l,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:rt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+i,a)}),n++,t.byteLength===a)return void(t=void 0);t=t.subarray(a)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},et.prototype=new W;var ot,it,at,st=et,lt=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var o=e.byteLength-t,i=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");i.set(e.subarray(o,o+a)),n=new DataView(i.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var o;r>e?(n<<=e,r-=e):(e-=r,e-=8*(o=Math.floor(e/8)),t-=o,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var o=Math.min(r,e),i=n>>>32-o;return(r-=o)>0?n<<=o:t>0&&this.loadWord(),(o=e-o)>0?i<<o|this.readBits(o):i},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};it=function(){var e,t,n=0;it.prototype.init.call(this),this.push=function(r){var o;t?((o=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),o.set(r.data,t.byteLength),t=o):t=r.data;for(var i=t.byteLength;n<i-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<i;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<i);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},it.prototype=new W,at={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ot=function(){var e,t,n,r,o,i,a,s=new it;ot.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=o(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=o(a.subarray(1)),s.config=i(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,r=8,o=8;for(n=0;n<e;n++)0!==o&&(o=(r+t.readExpGolomb()+256)%256),r=0===o?r:o},o=function(e){for(var t,n,r=e.byteLength,o=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=r-o.length,n=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),n[i]=e[a];return n},i=function(e){var t,n,r,o,i,s,l,u,c,d,f,p,h,m=0,g=0,y=0,v=0,b=1;if(n=(t=new lt(e)).readUnsignedByte(),o=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),at[n]&&(3===(i=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==i?8:12,h=0;h<f;h++)t.readBoolean()&&a(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),h=0;h<l;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}p&&(b=p[0]/p[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:o,width:Math.ceil((16*(u+1)-2*m-2*g)*b),height:(2-d)*(c+1)*16-2*y-2*v,sarRatio:p}}},ot.prototype=new W;var ut,ct={H264Stream:ot,NalByteStream:it},dt=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},ft=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},pt=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n};(ut=function(){var e=new Uint8Array,t=0;ut.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,o,i,a,s=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=pt(e,l))>e.length)break;i={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",i),l+=s}else{if(e.length-l<10)break;if(l+(s=ft(e,l))>e.length)break;o={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",o),l+=s}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new W;var ht,mt,gt,yt,vt=ut,bt=ct.H264Stream,_t=dt,wt=pe,Et=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ot=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],St=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Tt=function(e,t,n,r,o,i){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(o-n)},prependedContentDuration:i,baseMediaDecodeTime:e}};mt=function(e,t){var n=[],r=0,o=0,i=0,a=1/0;t=t||{},mt.prototype.init.call(this),this.push=function(t){Se(e,t),e&&Et.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(t){o=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){i=e},this.flush=function(){var s,l,u,c,d;0!==n.length?(s=ve(n,e,o),e.baseMediaDecodeTime=Oe(e,t.keepOriginalTimestamps),ye(e,s,i,a),e.samples=be(s),u=Z(_e(s)),n=[],l=Q(r,[e]),c=new Uint8Array(l.byteLength+u.byteLength),r++,c.set(l),c.set(u,l.byteLength),Ee(e),d=Math.ceil(1024*wt/e.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].dts,end:s[0].dts+s.length*d}),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ee(e),n=[],this.trigger("reset")}},mt.prototype=new W,ht=function(e,t){var n,r,o=0,i=[],a=[];t=t||{},ht.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Se(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Ot.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),i.push(t)},this.flush=function(){for(var n,r,s,l,u,c,d,f,p=0;i.length&&"access_unit_delimiter_rbsp"!==i[0].nalUnitType;)i.shift();if(0===i.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=ne(i),(s=re(n))[0][0].keyFrame||((r=this.getGopForFusion_(i[0],e))?(p=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=oe(s)),a.length){var h;if(!(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),i=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ee(e),s=h}Se(e,s),e.samples=ie(s),u=Z(ae(s)),e.baseMediaDecodeTime=Oe(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],f=s[s.length-1],this.trigger("segmentTimingInfo",Tt(e.baseMediaDecodeTime,d.dts,d.pts,f.dts+f.duration,f.pts+f.duration,p)),this.trigger("timingInfo",{start:s[0].dts,end:s[s.length-1].dts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),i=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=Q(o,[e]),c=new Uint8Array(l.byteLength+u.byteLength),o++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),i=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Ee(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,r,o,i,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)o=(i=this.gopCache_[a]).gop,e.pps&&St(e.pps[0],i.pps[0])&&e.sps&&St(e.sps[0],i.sps[0])&&(o.dts<e.timelineStartInfo.dts||(n=t.dts-o.dts-o.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=i,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,o,i,s,l,u;for(i=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<a.length&&n<e.length&&(r=a[t],o=e[n],r.pts!==o.pts);)o.pts>r.pts?t++:(n++,i-=o.byteLength,s-=o.nalCount,l-=o.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=i,u.duration=l,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,o,i,s,l;for(t=a.length-1,n=e.length-1,i=null,s=!1;t>=0&&n>=0;){if(r=a[t],o=e[n],r.pts===o.pts){s=!0;break}r.pts>o.pts?t--:(t===a.length-1&&(i=n),n--)}if(!s&&null===i)return null;if(0===(l=s?n:i))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){a=e}},ht.prototype=new W,yt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,yt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},yt.prototype=new W,yt.prototype.flush=function(e){var t,n,r,o,i=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Ot.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Et.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=ee(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),o=0;o<this.pendingBoxes.length;o++)a.data.set(this.pendingBoxes[o],i),i+=this.pendingBoxes[o].byteLength;for(o=0;o<this.pendingCaptions.length;o++)(t=this.pendingCaptions[o]).startTime=ge(t.startPts,s,this.keepOriginalTimestamps),t.endTime=ge(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(o=0;o<this.pendingMetadata.length;o++)(n=this.pendingMetadata[o]).cueTime=ge(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),o=0;o<a.captions.length;o++)t=a.captions[o],this.trigger("caption",t);for(o=0;o<a.metadata.length;o++)n=a.metadata[o],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},yt.prototype.setRemux=function(e){this.remuxTracks=e},gt=function(e){var t,n,r=this,o=!0;gt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="aac",o.metadataStream=new tt.MetadataStream,o.aacStream=new vt,o.audioTimestampRolloverStream=new tt.TimestampRolloverStream("audio"),o.timedMetadataTimestampRolloverStream=new tt.TimestampRolloverStream("timed-metadata"),o.adtsStream=new st,o.coalesceStream=new yt(e,o.metadataStream),o.headOfPipeline=o.aacStream,o.aacStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream),o.aacStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream),o.metadataStream.on("timestamp",(function(e){o.aacStream.setTimestamp(e.timeStamp)})),o.aacStream.on("data",(function(i){"timed-metadata"!==i.type||o.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new mt(n,e),o.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})})),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new tt.MetadataStream,o.packetStream=new tt.TransportPacketStream,o.parseStream=new tt.TransportParseStream,o.elementaryStream=new tt.ElementaryStream,o.timestampRolloverStream=new tt.TimestampRolloverStream,o.adtsStream=new st,o.h264Stream=new bt,o.captionStream=new tt.CaptionStream,o.coalesceStream=new yt(e,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream).pipe(o.timestampRolloverStream),o.timestampRolloverStream.pipe(o.h264Stream),o.timestampRolloverStream.pipe(o.adtsStream),o.timestampRolloverStream.pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",(function(i){var a;if("metadata"===i.type){for(a=i.tracks.length;a--;)t||"video"!==i.tracks[a].type?n||"audio"!==i.tracks[a].type||((n=i.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=i.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new ht(t,e),o.videoSegmentStream.on("timelineStartInfo",(function(e){n&&(n.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts))})),o.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),o.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),o.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),n&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new mt(n,e),o.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("id3Frame",(function(e){e.dispatchType=o.metadataStream.dispatchType,r.trigger("id3Frame",e)})),o.coalesceStream.on("caption",this.trigger.bind(this,"caption")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var o=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ee(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=r),o.audioTimestampRolloverStream&&o.audioTimestampRolloverStream.discontinuity()),t&&(o.videoSegmentStream&&(o.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ee(t),o.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=r)),o.timestampRolloverStream&&o.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(o){var t=_t(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),o=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){o=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},gt.prototype=new W;var Ct={Transmuxer:gt,VideoSegmentStream:ht,AudioSegmentStream:mt,AUDIO_PROPERTIES:Et,VIDEO_PROPERTIES:Ot,generateVideoSegmentTimingInfo:Tt},kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),At=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n||{},this.self=t,this.init()}return kt(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ct.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.captionStream&&t.captionStream.on("data",(function(t){e.postMessage({action:"caption",data:t})})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}))}(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),Pt=new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new At(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new At(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(n)}()})),ss={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},ls=function(e){return e.map((function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)}))}))},us=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,(n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},cs=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter((function(e){return!!e})).join(", ")+'"'},ds=function(e,t){var n=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),r=function(e){var t=e.attributes||{};return t.CODECS?us(t.CODECS):ss}(t),o=t.attributes||{},i=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&o.AUDIO){var s=e.mediaGroups.AUDIO[o.AUDIO];if(s)for(var l in a=!0,i=!1,s)if(!s[l].uri&&!s[l].playlists){i=!0;break}}a&&!r.audioProfile&&(i||(r.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var o=n[r];if(o.default&&o.playlists)return us(o.playlists[0].attributes.CODECS).audioProfile}return null}(e,o.AUDIO)),r.audioProfile||(zi.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=ss.audioProfile));var u={};r.videoCodec&&(u.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(u.audio="mp4a.40."+r.audioProfile);var c=cs("audio",n,[u.audio]),d=cs("video",n,[u.video]),f=cs("video",n,[u.video,u.audio]);return a?!i&&u.video?[d,c]:i||u.video?[f,c]:[c,c]:u.video?[f]:[c]},fs=function(e){return/mp4a\.\d+.\d+/i.test(e)},ps=function(e){return/avc1\.[\da-f]+/i.test(e)},hs=function(e,t,n){if(null==t||!e.length)return[];var r=Math.ceil(9e4*(t-n+3)),o=void 0;for(o=0;o<e.length&&!(e[o].pts>r);o++);return e.slice(o)},ms=9e4,gs=function(e){function t(e,n){Yi(this,t);var r=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,zi.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=n,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=zi.browser.IE_VERSION>=11;var o={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach((function(e){fs(e)?r.audioCodec_=e:ps(e)&&(r.videoCodec_=e)})),r.transmuxer_=new as,r.transmuxer_.postMessage({action:"init",options:o}),r.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?r.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return function(e,t,n){var r=null,o=null,i=0,a=[],s=[];if(!e&&!t)return zi.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return zi.createTimeRange();for(var l=e.buffered,u=t.buffered,c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),c=0;c<a.length;c++)"start"===a[c].type?2==++i&&(r=a[c].time):"end"===a[c].type&&1==--i&&(o=a[c].time),null!==r&&null!==o&&(s.push([r,o]),r=null,o=null);return zi.createTimeRanges(s)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return Zi(t,e),Xi(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length)for(var o in e.inbandTextTracks_||(e.inbandTextTracks_={}),n.captionStreams)if(!e.inbandTextTracks_[o]){r.tech_.trigger({type:"usage",name:"hls-608"});var i=r.textTracks().getTrackById(o);e.inbandTextTracks_[o]=i||r.addRemoteTextTrack({kind:"captions",id:o,label:o},!1).track}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/ms,presentation:e.start.pts/ms},end:{decode:e.end.dts/ms,presentation:e.end.pts/ms},baseMediaDecodeTime:e.baseMediaDecodeTime/ms};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/ms),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach((function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;if(e.mediaSource_[n+"Buffer_"])(r=e.mediaSource_[n+"Buffer_"]).updating=!1;else{var o=n+'/mp4;codecs="'+e[n+"Codec_"]+'"';r=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var o=function(e){"function"==typeof n[e]?r[e]=function(){return n[e].apply(n,arguments)}:void 0===r[e]&&Object.defineProperty(r,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var i in n)o(i);return r}(e.mediaSource_.nativeMediaSource_,o),e.mediaSource_[n+"Buffer_"]=r}e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach((function(o){r.addEventListener(o,(function(){if("audio"!==n||!e.audioDisabled_)return"updateend"===o&&(e[n+"Buffer_"].updating=!1),t.every((function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)}))?e.trigger(o):void 0}))}))}}))}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:hs(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,o=0;o<e.length&&!(e[o].pts>=r);o++);return e.slice(0,o).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,n,r){for(var o=Math.ceil(9e4*(t-r)),i=Math.ceil(9e4*(n-r)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=i););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=o););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),$a(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)$a(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce((function(e,t){var n=t.type,r=t.data,o=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=o,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e}),e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),Ya(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach((function(e){r.set(e,n),n+=e.byteLength}));try{t.updating=!0,t.appendBuffer(r)}catch(o){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:o.message,originalError:o})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(zi.EventTarget),ys=function(e){function t(){Yi(this,t);var e=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;for(n in e.nativeMediaSource_=new(o().MediaSource),e.nativeMediaSource_)n in t.prototype||"function"!=typeof e.nativeMediaSource_[n]||(e[n]=e.nativeMediaSource_[n].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?zi.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,r=!0,o=0;o<e.player_.audioTracks().length;o++){var i=e.player_.audioTracks()[o];if(i.enabled&&"main"!==i.kind){n=!0,r=!1;break}}e.sourceBuffers.forEach((function(t,o){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=o?r:!r,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)}))},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach((function(e){e.appendAudioInitSegment_=!0}))},e.onHlsReset_=function(){e.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})}))},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach((function(e){return e.timeMapping_=t.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))}),e),e.on("sourceopen",(function(t){var n=a().querySelector('[src="'+e.url_+'"]');n&&(e.player_=zi(n.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))})),e.on("sourceended",(function(t){for(var n=Ka(e.duration),r=0;r<e.sourceBuffers.length;r++){var o=e.sourceBuffers[r],i=o.metadataTrack_&&o.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=n)}})),e.on("sourceclose",(function(e){this.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})),e}return Zi(t,e),Xi(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach((function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),o=n[1].replace(/"/g,"").trim();t.parameters[r]=o}})),t}(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(r=ls(r)).filter((function(e){return fs(e)||ps(e)}))),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new gs(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(zi.EventTarget),vs=0;zi.mediaSources={};var bs=function(e,t){var n=zi.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},_s=function(){return!!o().MediaSource&&!!o().MediaSource.isTypeSupported&&o().MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},ws=function(){if(this.MediaSource={open:bs,supportsNativeMediaSources:_s},_s())return new ys;throw new Error("Cannot use create a virtual MediaSource for this video")};ws.open=bs,ws.supportsNativeMediaSources=_s;var Es={createObjectURL:function(e){var t=void 0;return e instanceof ys?(t=o().URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof ys?(t="blob:vjs-media-source/"+vs,vs++,zi.mediaSources[t]=e,t):(t=o().URL.createObjectURL(e),e.url_=t,t)}};zi.MediaSource=ws,zi.URL=Es;var Os=zi.EventTarget,Ss=zi.mergeOptions,Ts=function(e,t){for(var n=void 0,r=Ss(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),o=0;o<t.playlists.length;o++){var i=ia(r,t.playlists[o]);i?r=i:n=!0}return oa(t,(function(e,t,o,i){if(e.playlists&&e.playlists.length){var a=e.playlists[0].uri,s=ia(r,e.playlists[0]);s&&((r=s).mediaGroups[t][o][i].playlists[0]=r.playlists[a],n=!1)}})),n?null:r},Cs=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},ks=function(e,t){var n,r,o={};for(var i in e){var a=e[i].sidx;if(a){var s=Cs(a);if(!t[s])break;var l=t[s].sidxInfo;n=l,r=a,(Boolean(!n.map&&!r.map)||Boolean(n.map&&r.map&&n.map.byterange.offset===r.map.byterange.offset&&n.map.byterange.length===r.map.byterange.length))&&n.uri===r.uri&&n.byterange.offset===r.byterange.offset&&n.byterange.length===r.byterange.length&&(o[s]=t[s])}}return o},As=function(e,t,n,r,o){var i={uri:Ki(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t};return n(zi.mergeOptions(i,{responseType:"arraybuffer",headers:Pa(i)}),o)},Ps=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];Yi(this,t);var i=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=r.withCredentials,s=void 0!==a&&a,l=r.handleManifestRedirects,u=void 0!==l&&l;if(i.hls_=n,i.withCredentials=s,i.handleManifestRedirects=u,!e)throw new Error("A non-empty playlist URL or playlist is required");return i.on("minimumUpdatePeriod",(function(){i.refreshXml_()})),i.on("mediaupdatetimeout",(function(){i.refreshMedia_(i.media().uri)})),i.state="HAVE_NOTHING",i.loadedPlaylists_={},"string"==typeof e?(i.srcUrl=e,i.sidxMapping_={},Qi(i)):(i.setupChildLoader(o,e),i)}return Zi(t,e),Xi(t,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},o().clearTimeout(this.minimumUpdatePeriodTimeout_),o().clearTimeout(this.mediaRequest_),o().clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(e,t,n,r){var o=this;return function(i,a){if(o.request){if(o.request=null,i)return o.error={status:a.status,message:"DASH playlist request error at URL: "+e.uri,response:a.response,code:2},n&&(o.state=n),o.trigger("error"),r(t,null);var s=new Uint8Array(a.response),l=we().parseSidx(s.subarray(8));return r(t,l)}}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(r&&this.loadedPlaylists_[e.uri]&&this.loadedPlaylists_[e.uri].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var i=void 0,a=void 0;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(i=this.master,a=this.sidxMapping_);var s=Cs(e.sidx);a[s]={sidxInfo:e.sidx},this.request=As(e.sidx,e,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,i,n,(function(r,o){if(!r||!o)throw new Error("failed to request sidx");a[s].sidx=o,t.haveMetadata({startingState:n,playlist:r.playlists[e.uri]})})))}else this.mediaRequest_=o().setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:e}),0)}},{key:"haveMetadata",value:function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.uri]=n,this.mediaRequest_=null,this.refreshMedia_(n.uri),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),o().clearTimeout(this.mediaUpdateTimeout),o().clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;o().clearTimeout(this.mediaUpdateTimeout),o().clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=o().setTimeout((function(){return t.load()}),r)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=ve(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var n="placeholder-uri-"+t;e.playlists[t].uri=n,e.playlists[n]=e.playlists[t]}return oa(e,(function(t,n,r,o){if(t.playlists&&t.playlists.length){var i="placeholder-uri-"+n+"-"+r+"-"+o;t.playlists[0].uri=i,e.playlists[i]=t.playlists[0]}})),aa(e),sa(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=o().setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Ki(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))}},{key:"syncClientServerClock_",value:function(e){var t=this,n=be(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:$i(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,o){if(t.request){if(r)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var i=void 0;i="HEAD"===n.method?o.responseHeaders&&o.responseHeaders.date?Date.parse(o.responseHeaders.date):t.masterLoaded_:Date.parse(o.responseText),t.clientOffset_=i-Date.now(),e()}})))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=o().setTimeout((function(){e.trigger("minimumUpdatePeriod")}),this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,e.sidxMapping_=function(e,t,n,r){var o=ve(e,{manifestUri:t,clientOffset:n}),i=ks(o.playlists,r);return oa(o,(function(e,t,n,o){if(e.playlists&&e.playlists.length){var a=e.playlists;i=Ss(i,ks(a,r))}})),i}(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var r=e.parseMasterXml(),i=Ts(e.master,r),a=e.media().sidx;if(i)if(a){var s=Cs(a);if(!e.sidxMapping_[s]){var l=e.media();e.request=As(l.sidx,l,e.hls_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(l,r,e.state,(function(t,n){if(!t||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[s].sidx=n,e.minimumUpdatePeriodTimeout_=o().setTimeout((function(){e.trigger("minimumUpdatePeriod")}),e.master.minimumUpdatePeriod),e.refreshMedia_(e.media().uri)})))}}else e.master=i;e.minimumUpdatePeriodTimeout_=o().setTimeout((function(){e.trigger("minimumUpdatePeriod")}),e.master.minimumUpdatePeriod)}}))}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var n=void 0,r=void 0;this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,r=this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,r=this.parseMasterXml());var i=Ts(n,r);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[e]):(this.media_=r.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=o().setTimeout((function(){t.trigger("mediaupdatetimeout")}),la(this.media(),!!i))),this.trigger("loadedplaylist")}}]),t}(Os),xs=function(e){return zi.log.debug?zi.log.debug.bind(zi,"VHS:",e+" >"):function(){}};function Is(){}var Rs=function(){function e(t,n,r,o){Yi(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=r,this.mimeType_=n,this.logger_=xs("SourceUpdater["+r+"]["+n+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,o)):this.createSourceBuffer_(n,o)}return Xi(e,[{key:"createSourceBuffer_",value:function(e,t){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",(function(){n.start_()})):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.sourceBuffer_.removing=!1,e.logger_("buffered ["+Va(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_((function(){t.sourceBuffer_.abort()}),e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_((function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(e.bytes)}),(function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()}))}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:zi.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Is;this.processedAppend_&&this.queueCallback_((function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(e,t)}),r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==Is}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_((function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()})),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){var e=this,t=function t(){e.sourceBuffer_&&"open"===e.mediaSource.readyState&&e.sourceBuffer_.abort(),e.sourceBuffer_.removeEventListener("updateend",t)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",t):t()}}]),e}(),Ds={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},js=2,Ns=-101,Ls=-102,Ms=function(e){e.forEach((function(e){e.abort()}))},Bs=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Ns,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Ls,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:js,xhr:t}:null},Fs=function(e,t,n){var r=0,o=!1;return function(i,a){if(!o)return i?(o=!0,Ms(e),n(i,a)):(r+=1)===e.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?function(e,t,n){e.addEventListener("message",(function r(o){if(o.data.source===t.requestId){e.removeEventListener("message",r);var i=o.data.decrypted;return t.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),n(null,t)}}));var r=void 0;r=t.key.bytes.slice?t.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.key.bytes)),e.postMessage(Da({source:t.requestId,encrypted:t.encryptedBytes,key:r,iv:t.key.iv}),[t.encryptedBytes.buffer,r.buffer])}(t,a,n):n(null,a)):void 0}},Us=function(e,t){return function(n){var r,o,i;return e.stats=zi.mergeOptions(e.stats,(o=(r=n).target,(i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-o.requestTime||0}).bytesReceived=r.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},Hs=function(e,t,n,r,o,i,a){var s=[],l=Fs(s,n,a);if(o.key&&!o.key.bytes){var u=zi.mergeOptions(t,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),c=function(e,t){return function(n,r){var o=r.response,i=Bs(n,r);if(i)return t(i,e);if(16!==o.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:js,xhr:r},e);var a=new DataView(o);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(o,l),d=e(u,c);s.push(d)}if(o.map&&!o.map.bytes){var f=zi.mergeOptions(t,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:Pa(o.map)}),p=function(e,t,n){return function(r,o){var i=o.response,a=Bs(r,o);return a?n(a,e):0===i.byteLength?n({status:o.status,message:"Empty HLS segment content at URL: "+o.uri,code:js,xhr:o},e):(e.map.bytes=new Uint8Array(o.response),t&&!t.isInitialized()&&t.init(),e.map.timescales=Oe().timescale(e.map.bytes),e.map.videoTrackIds=Oe().videoTrackIds(e.map.bytes),n(null,e))}}(o,r,l),h=e(f,p);s.push(h)}var m=zi.mergeOptions(t,{uri:o.resolvedUri,responseType:"arraybuffer",headers:Pa(o)}),g=function(e,t,n){return function(r,o){var i=o.response,a=Bs(r,o),s=void 0;return a?n(a,e):0===i.byteLength?n({status:o.status,message:"Empty HLS segment content at URL: "+o.uri,code:js,xhr:o},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(o),e.key?e.encryptedBytes=new Uint8Array(o.response):e.bytes=new Uint8Array(o.response),t&&e.map&&e.map.bytes&&(t.isInitialized()||t.init(),(s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales))&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),n(null,e))}}(o,r,l),y=e(m,g);return y.addEventListener("progress",Us(o,i)),s.push(y),function(){return Ms(s)}},Ws=function(e,t){var n;return e&&(n=o().getComputedStyle(e))?n[t]:""},qs=function(e,t){var n=e.slice();e.sort((function(e,r){var o=t(e,r);return 0===o?n.indexOf(e)-n.indexOf(r):o}))},zs=function(e,t){var n=void 0,r=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||o().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||o().Number.MAX_VALUE)},Vs=function(e,t,n){if(!e||!t)return!1;var r=n===e.segments.length;return e.endList&&"open"===t.readyState&&r},Gs=function(e){return"number"==typeof e&&isFinite(e)},$s=function(e){function t(e){Yi(this,t);var n=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.hls_=e.hls,n.loaderType_=e.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=e.cacheEncryptionKeys,n.keyCache_={},"main"===n.loaderType_?n.captionParser_=new(Te()):n.captionParser_=null,n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",(function(){return n.trigger("syncinfoupdate")})),n.mediaSource_.addEventListener("sourceopen",(function(){return n.ended_=!1})),n.fetchAtBuffer_=!1,n.logger_=xs("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),n}return Zi(t,e),Xi(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():zi.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ja(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),r||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Na(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var o={resolvedUri:(r||e).resolvedUri};return r&&(o.bytes=r.bytes),o}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Rs(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var o=null;if(n&&(n.id?o=n.id:n.uri&&(o=n.uri)),this.logger_("playlist update ["+o+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var i=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+i+"]"),null!==this.mediaIndex&&(this.mediaIndex-=i),r&&(r.mediaIndex-=i,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(o().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),$a(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)$a(e,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&o().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=o().setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&o().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=o().setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return Vs(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,n,r,o,i){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-o);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!r&&l>=1)return null;if(null===i)return n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){t.segments[n];return s=a,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var u=Ta.getMediaInfoForTime(t,a,i.segmentIndex,i.time);n=u.mediaIndex,s=u.startTime}else{var c=Ta.getMediaInfoForTime(t,o,i.segmentIndex,i.time);n=c.mediaIndex,s=c.startTime}return this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map((function(e,t){return{timeline:e.timeline,segmentIndex:t}})).filter((function(e){return e.timeline===t.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var o=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:o.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:o.timeline,duration:o.duration,segment:o}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,o=Ta.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(o<=i)return!1;var a=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,o=e.duration,i=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,u=t.playlists.filter((function(e){return!Ta.isIncompatible(e)})),c=u.filter(Ta.isEnabled);c.length||(c=u.filter((function(e){return!Ta.isDisabled(e)})));var d=c.filter(Ta.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=l.getSyncPoint(e,o,s,n)?1:2;return{playlist:e,rebufferingImpact:Ta.estimateSegmentRequestTime(i,r,e)*t-a}})),f=d.filter((function(e){return e.rebufferingImpact<=0}));return qs(f,(function(e,t){return zs(t.playlist,e.playlist)})),f.length?f[0]:(qs(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=o-i-a.rebufferingImpact,l=.5;return i<=Ua&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*Ds.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Hs(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,n){var r=void 0;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=r}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Ls?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Ns?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(!function(e,t,n){for(var r in n)if(!e[r]){t.trigger({type:"usage",name:"hls-608"});var o=t.textTracks().getTrackById(r);e[r]=o||t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var o=window.WebKitDataCue||window.VTTCue;n.forEach((function(e){var n=e.stream,i=e.startTime,a=e.endTime;t[n]&&(i+=r,a+=r,t[n].addCue(new o(i,a,e.text)))}))}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,r=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var o,i,a,s=(o=this.loaderType_,i=this.startingMedia_,a=r,"main"===o&&i&&a?a.containsAudio||a.containsVideo?i.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(s)return this.error({message:s,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(r&&r.segmentTimestampInfo){var l=r.segmentTimestampInfo[0].ptsTime,u=r.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=l-u}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var c=this.syncController_.mappingForTimeline(t.timeline);if(null!==c&&this.trigger({type:"segmenttimemapping",mapping:c}),this.state="APPENDING",n.map){var d=ja(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==d){var f=this.initSegment(n.map);this.sourceUpdater_.appendBuffer({bytes:f.bytes},(function(){e.activeInitSegmentId_=d}))}}t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(function(e){var t=e.segment,n=t.start,r=t.end,o=e.playlist,i=o.mediaSequence,a=o.id,s=o.segments,l=void 0===s?[]:s,u=e.mediaIndex,c=e.timeline;return["appending ["+u+"] of ["+i+", "+(i+l.length)+"] from playlist ["+a+"]","["+n+" => "+r+"] in timeline ["+c+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(Gs(n)&&Gs(r)){$a(n,r,this.segmentMetadataTrack_);var i=o().WebKitDataCue||o().VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},s=new i(n,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),t}(zi.EventTarget),Ks=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Ys=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),Xs=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi(this,t);var r=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return Zi(t,e),Xi(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return zi.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return zi.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ja(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var o=Ys.byteLength+e.bytes.byteLength,i=new Uint8Array(o);i.set(e.bytes),i.set(Ys,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:i}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){$a(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof o().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=void 0,i=function(){e.subtitlesTrack_.tech_.off("vttjsloaded",r),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")};return r=function(){e.subtitlesTrack_.tech_.off("vttjserror",i),e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",r),void this.subtitlesTrack_.tech_.one("vttjserror",i)}n.requested=!0;try{this.parseVTTCues_(t)}catch(Pl){return this.error({message:Pl.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach((function(t){e.subtitlesTrack_.addCue(t)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof o().TextDecoder?t=new(o().TextDecoder)("utf8"):(t=o().WebVTT.StringDecoder(),n=!0);var r=new(o().WebVTT.Parser)(o(),o().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){zi.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=Ks(i)),r.parse(i)}var a=e.bytes;n&&(a=Ks(a)),r.parse(a),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var o=e.timestampmap,i=o.MPEGTS/9e4-o.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=i,e.endTime+=i})),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}else r.empty=!0}}]),t}($s),Js=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var o=n[r];if(t>=o.adStartTime&&t<=o.adEndTime)return o}return null},Zs=ke().inspect,Qs=[{name:"VOD",run:function(e,t,n,r,o){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,o){if(!e.datetimeToDisplayTime)return null;var i=t.segments||[],a=null,s=null;o=o||0;for(var l=0;l<i.length;l++){var u=i[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,d=Math.abs(o-c);if(null!==s&&(0===d||s<d))break;s=d,a={time:c,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,n,r,o){var i=t.segments||[],a=null,s=null;o=o||0;for(var l=0;l<i.length;l++){var u=i[l];if(u.timeline===r&&void 0!==u.start){var c=Math.abs(o-u.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,o){var i=null;if(o=o||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){var d=Math.abs(o-c.time);if(null!==a&&a<d)break;(!i||null===a||a>=d)&&(a=d,i={time:c.time,segmentIndex:l})}}return i}},{name:"Playlist",run:function(e,t,n,r,o){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],el=function(e){function t(){Yi(this,t);var e=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=xs("SyncController"),e}return Zi(t,e),Xi(t,[{key:"getSyncPoint",value:function(e,t,n,r){var o=this.runStrategies_(e,t,n,r);return o.length?this.selectSyncPoint_(o,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+pa(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var o=[],i=0;i<Qs.length;i++){var a=Qs[i],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,o.push({strategy:a.name,syncPoint:s}))}return o}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),o=e[0].strategy,i=1;i<e.length;i++){var a=Math.abs(e[i].syncPoint[t.key]-t.value);a<r&&(r=a,n=e[i].syncPoint,o=e[i].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+o+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var r=e.segments[n];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=void 0;return(r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=Oe().timescale(t.map.bytes),r=Oe().startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Zs(e.bytes,this.inspectCache_),n=void 0,r=void 0,o=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime,o=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime,o=t.audio),{segmentTimestampInfo:o,start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var o=t.discontinuityStarts[r],i=t.discontinuitySequence+r+1,a=o-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[i]||this.discontinuities[i].accuracy>s){var l=void 0;l=a<0?n.start-pa(t,e.mediaIndex,o):n.end+pa(t,e.mediaIndex+1,o),this.discontinuities[i]={time:l,accuracy:s}}}}}]),t}(zi.EventTarget),tl=new ts("./decrypter-worker.worker.js",(function(e,t){var n=this;!function(){var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=null,o=function(){function t(n){e(this,t),r||(r=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],o=n[4],i=void 0,a=void 0,s=void 0,l=[],u=[],c=void 0,d=void 0,f=void 0,p=void 0,h=void 0;for(i=0;i<256;i++)u[(l[i]=i<<1^283*(i>>7))^i]=i;for(a=s=0;!r[a];a^=c||1,s=u[s]||1)for(f=(f=s^s<<1^s<<2^s<<3^s<<4)>>8^255&f^99,r[a]=f,o[f]=a,h=16843009*l[d=l[c=l[a]]]^65537*d^257*c^16843008*a,p=257*l[f]^16843008*f,i=0;i<4;i++)t[i][a]=p=p<<24^p>>>8,n[i][f]=h=h<<24^h>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),n[i]=n[i].slice(0);return e}()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,u=this._tables[0][4],c=this._tables[1],d=n.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(s=n.slice(0),l=[],this._key=[s,l],o=d;o<4*d+28;o++)a=s[o-1],(o%d==0||8===d&&o%d==4)&&(a=u[a>>>24]<<24^u[a>>16&255]<<16^u[a>>8&255]<<8^u[255&a],o%d==0&&(a=a<<8^a>>>24^f<<24,f=f<<1^283*(f>>7))),s[o]=s[o-d]^a;for(i=0;o;i++,o--)a=s[3&i?o:o-4],l[i]=o<=4||i<4?a:c[0][u[a>>>24]]^c[1][u[a>>16&255]]^c[2][u[a>>8&255]]^c[3][u[255&a]]}return t.prototype.decrypt=function(e,t,n,r,o,i){var a=this._key[1],s=e^a[0],l=r^a[1],u=n^a[2],c=t^a[3],d=void 0,f=void 0,p=void 0,h=a.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],b=y[1],_=y[2],w=y[3],E=y[4];for(m=0;m<h;m++)d=v[s>>>24]^b[l>>16&255]^_[u>>8&255]^w[255&c]^a[g],f=v[l>>>24]^b[u>>16&255]^_[c>>8&255]^w[255&s]^a[g+1],p=v[u>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&l]^a[g+2],c=v[c>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&u]^a[g+3],g+=4,s=d,l=f,u=p;for(m=0;m<4;m++)o[(3&-m)+i]=E[s>>>24]<<24^E[l>>16&255]<<16^E[u>>8&255]<<8^E[255&c]^a[g++],d=s,s=l,l=u,u=c,c=d},t}(),i=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),i=t.length,a=0;a<i;++a)t[a].apply(this,o)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},t}(),a=function(t){function n(){e(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,i));return r.jobs=[],r.delay=1,r.timeout_=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(i),s=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(){function n(t,r,o,i){e(this,n);var l=n.STEP,u=new Int32Array(t.buffer),c=new Uint8Array(t.byteLength),d=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(u.subarray(d,d+l),r,o,c)),d=l;d<u.length;d+=l)o=new Uint32Array([s(u[d-4]),s(u[d-3]),s(u[d-2]),s(u[d-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(d,d+l),r,o,c));this.asyncStream_.push((function(){var e;i(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return n.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new o(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer),u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0,g=void 0,y=void 0;for(u=n[0],c=n[1],d=n[2],f=n[3],y=0;y<r.length;y+=4)p=s(r[y]),h=s(r[y+1]),m=s(r[y+2]),g=s(r[y+3]),i.decrypt(p,h,m,g,l,y),l[y]=s(l[y]^u),l[y+1]=s(l[y+1]^c),l[y+2]=s(l[y+2]^d),l[y+3]=s(l[y+3]^f),u=p,c=h,d=m,f=g;return a}(e,t,n);r.set(i,e.byteOffset)}},t(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),u=new function(e){e.onmessage=function(t){var n=t.data,r=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),o=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),i=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(r,o,i,(function(t,r){var o,i;e.postMessage((o={source:n.source,decrypted:r},i={},Object.keys(o).forEach((function(e){var t=o[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t})),i),[r.buffer])}))}}(n)}()})),nl=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},rl=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},ol=function(e,t){t.activePlaylistLoader=e,e.load()},il={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],o=t.blacklistCurrentPlaylist;rl(n,r);var i=r.activeTrack(),a=r.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,l=r.tracks[s];if(i!==l){for(var u in zi.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===l;r.onTrackChanged()}else o({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];zi.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),rl(n,r);var o=r.activeTrack();o&&(o.mode="disabled"),r.onTrackChanged()}}},al={AUDIO:function(e,t,n){if(t){var r=n.tech,o=n.requestOptions,i=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();i.playlist(e,o),(!r.paused()||e.endList&&"none"!==r.preload())&&i.load()})),t.on("loadedplaylist",(function(){i.playlist(t.media(),o),r.paused()||i.load()})),t.on("error",il[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,o=n.requestOptions,i=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();i.playlist(e,o),i.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&i.load()})),t.on("loadedplaylist",(function(){i.playlist(t.media(),o),r.paused()||i.load()})),t.on("error",il[e](e,n))}},sl={AUDIO:function(e,t){var n=t.hls,r=t.sourceType,o=t.segmentLoaders[e],i=t.requestOptions,a=t.master.mediaGroups,s=t.mediaTypes[e],l=s.groups,u=s.tracks,c=t.masterPlaylistLoader;for(var d in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}}),a[e])for(var f in l[d]||(l[d]=[]),a[e][d]){var p=a[e][d][f],h=void 0;if(h=p.resolvedUri?new ua(p.resolvedUri,n,i):p.playlists&&"dash"===r?new Ps(p.playlists[0],n,i,c):null,p=zi.mergeOptions({id:f,playlistLoader:h},p),al[e](e,p.playlistLoader,t),l[d].push(p),void 0===u[f]){var m=new zi.AudioTrack({id:f,kind:nl(p),enabled:!1,language:p.language,default:p.default,label:f});u[f]=m}}o.on("error",il[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.hls,o=t.sourceType,i=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var f in s[e])for(var p in u[f]||(u[f]=[]),s[e][f])if(!s[e][f][p].forced){var h=s[e][f][p],m=void 0;if("hls"===o?m=new ua(h.resolvedUri,r,a):"dash"===o&&(m=new Ps(h.playlists[0],r,a,d)),h=zi.mergeOptions({id:p,playlistLoader:m},h),al[e](e,h.playlistLoader,t),u[f].push(h),void 0===c[p]){var g=n.addRemoteTextTrack({id:p,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:p},!1).track;c[p]=g}}i.on("error",il[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,o=t.mediaTypes[e],i=o.groups,a=o.tracks;for(var s in r[e])for(var l in i[s]||(i[s]=[]),r[e][s]){var u=r[e][s][l];if(u.instreamId.match(/CC\d/)&&(i[s].push(zi.mergeOptions({id:l},u)),void 0===a[l])){var c=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;a[l]=c}}}},ll={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}},ul=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){sl[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,o=e.hls;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.masterPlaylistLoader,o=t.mediaTypes[e].groups,i=r.media();if(!i)return null;var a=null;return i.attributes[e]&&(a=o[i.attributes[e]]),a=a||o.main,void 0===n?a:null===n?null:a.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=ll[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],o=n.main,i=t.mediaTypes[e],a=i.activeTrack(),s=i.activeGroup(a),l=i.activePlaylistLoader;rl(r,i),s&&(s.playlistLoader?(r.resyncLoader(),ol(s.playlistLoader,i)):l&&o.resetEverything())}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],o=n.main,i=t.mediaTypes[e],a=i.activeTrack(),s=i.activeGroup(a),l=i.activePlaylistLoader;rl(r,i),s&&(s.playlistLoader?l!==s.playlistLoader?(r.track&&r.track(a),r.resetEverything(),ol(s.playlistLoader,i)):ol(s.playlistLoader,i):o.resetEverything())}}(n,e)}));var i=t.AUDIO.activeGroup(),a=(i.filter((function(e){return e.default}))[0]||i[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))}));var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};for(var l in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),o.on("dispose",(function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[l])},cl=void 0,dl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],fl=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},pl=function(e){function t(e){Yi(this,t);var n,r=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.url,i=e.handleManifestRedirects,a=e.withCredentials,s=e.tech,l=e.bandwidth,u=e.externHls,c=e.useCueTags,d=e.blacklistDuration,f=e.enableLowInitialPlaylist,p=e.sourceType,h=e.seekTo,m=e.cacheEncryptionKeys;if(!o)throw new Error("A non-empty playlist URL is required");cl=u,r.withCredentials=a,r.tech_=s,r.hls_=s.hls,r.seekTo_=h,r.sourceType_=p,r.useCueTags_=c,r.blacklistDuration=d,r.enableLowInitialPlaylist=f,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:a,handleManifestRedirects:i,timeout:null},r.mediaTypes_=(n={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){n[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Is,activeTrack:Is,onGroupChanged:Is,onTrackChanged:Is}})),n),r.mediaSource=new zi.MediaSource,r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_.bind(r)),r.seekable_=zi.createTimeRanges(),r.hasPlayed_=function(){return!1},r.syncController_=new el(e),r.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new tl,r.inbandTextTracks_={};var g={hls:r.hls_,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.mediaSource.duration},hasPlayed:function(){return r.hasPlayed_()},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:l,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:m};return r.masterPlaylistLoader_="dash"===r.sourceType_?new Ps(o,r.hls_,r.requestOptions_):new ua(o,r.hls_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new $s(zi.mergeOptions(g,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),e),r.audioSegmentLoader_=new $s(zi.mergeOptions(g,{loaderType:"audio"}),e),r.subtitleSegmentLoader_=new Xs(zi.mergeOptions(g,{loaderType:"vtt"}),e),r.setupSegmentLoaderListeners_(),dl.forEach((function(e){r[e+"_"]=fl.bind(r,e)})),r.logger_=xs("MPC"),r.masterPlaylistLoader_.load(),r}return Zi(t,e),Xi(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;Sa(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),ul({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(Pl){return zi.log.warn("Failed to create SourceBuffers",Pl),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var r=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){e.tech_.one("durationchange",(function t(){e.duration()===1/0?r():e.tech_.one("durationchange",t)}))}else r()}})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;Sa(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,o=Object.keys(n.AUDIO);for(var i in n.AUDIO)for(var a in n.AUDIO[i]){n.AUDIO[i][a].uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),cl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),cl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),o.length&&Object.keys(n.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),o=r.length?r.end(r.length-1)-e.tech_.currentTime():0,i=e.bufferLowWaterLine();(!n.endList||e.duration()<Ds.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||o>=i)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)})),this.mainSegmentLoader_.on("reseteverything",(function(){e.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})})),this.audioSegmentLoader_.on("ended",(function(){e.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){zi.browser.IE_VERSION||zi.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(zi.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.seekTo_(n.end(0)),e.hasPlayed_=function(){return!0}})),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(Pl){return zi.log.warn("Failed to create Source Buffers",Pl),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(Pl){zi.log.warn("Failed to call media source endOfStream",Pl)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=cl.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return n-r<=Ha;var i=o.end(o.length-1);return i-r<=Ha&&n-i<=Ha}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0,r=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(Pl){return this.trigger("error")}}var o=1===this.masterPlaylistLoader_.master.playlists.filter(Ea).length,i=this.masterPlaylistLoader_.master.playlists;return 1===i.length?(zi.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o)):(o&&(zi.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),i.forEach((function(e){e.excludeUntil!==1/0&&delete e.excludeUntil})),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),zi.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r,o))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=qa(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:cl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&0!==(e=cl.Playlist.seekable(n,r)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(t=cl.Playlist.seekable(n,r)).length)return}var o=void 0,i=void 0;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),i=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=zi.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===i||(this.logger_("seekable updated ["+Va(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=cl.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),o=function t(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+n);try{e.mediaSource.duration=n}catch(Pl){zi.log.warn("Failed to set media source duration",Pl)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",o):o())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=ds(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new zi.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach((function(e){var t;e.attributes.CODECS&&o().MediaSource&&o().MediaSource.isTypeSupported&&!o().MediaSource.isTypeSupported('video/mp4; codecs="'+(t=e.attributes.CODECS,t.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return ls([e])[0]}))+'"'))&&(e.excludeUntil=1/0)}))}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,n=null,r=void 0;e.attributes.CODECS&&(r=us(e.attributes.CODECS),n=r.videoCodec,t=r.codecCount),this.master().playlists.forEach((function(e){var r={codecCount:2,videoCodec:null};e.attributes.CODECS&&(r=us(e.attributes.CODECS)),r.codecCount!==t&&(e.excludeUntil=1/0),r.videoCodec!==n&&(e.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var r=n,i=void 0,a=0;a<e.segments.length;a++){var s=e.segments[a];if(i||(i=Js(t,r+s.duration/2)),i){if("cueIn"in s){i.endTime=r,i.adEndTime=r,r+=s.duration,i=null;continue}if(r<i.endTime){r+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&((i=new(o().VTTCue)(r,r+s.duration,s.cueOut)).adStartTime=r,i.adEndTime=r+parseFloat(s.cueOut),t.addCue(i)),"cueOutCont"in s){var l=void 0,u=void 0,c=s.cueOutCont.split("/").map(parseFloat),d=ea(c,2);l=d[0],u=d[1],(i=new(o().VTTCue)(r,r+s.duration,"")).adStartTime=r-l,i.adEndTime=i.adStartTime+u,t.addCue(i)}r+=s.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Ds.GOAL_BUFFER_LENGTH,n=Ds.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,Ds.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Ds.BUFFER_LOW_WATER_LINE,n=Ds.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,Ds.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),t}(zi.EventTarget),hl=function e(t,n,r){Yi(this,e);var o,i,a,s=t.masterPlaylistController_,l=s[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=(o=t.playlists,i=n.uri,a=l,function(e){var t=o.master.playlists[i],n=wa(t),r=Ea(t);return void 0===e?r:(e?delete t.disabled:t.disabled=!0,e===r||n||(a(),e?o.trigger("renditionenabled"):o.trigger("renditiondisabled")),e)})},ml=["seeking","seeked","pause","playing","error"],gl=function(){function e(t){var n=this;Yi(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=xs("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",i),this.tech_.on(ml,a),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",i),n.tech_.off(ml,a),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&o().clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Xi(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&o().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=o().setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Ha>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime(),n=void 0;this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(n=e.end(e.length-1));this.beforeSeekableWindow_(e,t)&&(n=e.start(0)+Ha);return void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+Va(e)+". Seeking to "+n+"."),this.seekTo(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=qa(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),o=za(r,t);if(this.videoUnderflow_(o,r,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(o.length>0){var i=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+i+", seeking to "+o.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var o=e.end(e.length-1)+Ha,i=!n.endList;return i&&r&&(o=e.end(e.length-1)+3*n.targetDuration),t>o}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-Ha)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=za(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+Ua),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=function(e){if(e.length<2)return zi.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),o=e.start(n);t.push([r,o])}return zi.createTimeRanges(t)}(e),r=0;r<n.length;r++){var o=n.start(r),i=n.end(r);if(t-o<4&&t-o>2)return{start:o,end:i}}return null}}]),e}(),yl={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},vl=function e(t,n){var r=0,o=0,i=zi.mergeOptions(yl,n);t.ready((function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){o&&t.currentTime(o)},s=function(e){null!=e&&(o=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-r<1e3*i.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(i.getSource&&"function"==typeof i.getSource)return r=Date.now(),i.getSource.call(t,s);zi.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}},bl=function(e){vl(this,e)};zi.use("*",(function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.tech_.currentTime())}}}));var _l={PlaylistLoader:ua,Playlist:Ta,Decrypter:Le,AsyncStream:De,decrypt:Ne,utils:Ma,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,n,r,i){var a=e.playlists.map((function(e){var t,n;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||o().Number.MAX_VALUE,width:t,height:n,playlist:e}}));qs(a,(function(e,t){return e.bandwidth-t.bandwidth}));var s=(a=a.filter((function(e){return!Ta.isIncompatible(e.playlist)}))).filter((function(e){return Ta.isEnabled(e.playlist)}));s.length||(s=a.filter((function(e){return!Ta.isDisabled(e.playlist)})));var l=s.filter((function(e){return e.bandwidth*Ds.BANDWIDTH_VARIANCE<t})),u=l[l.length-1],c=l.filter((function(e){return e.bandwidth===u.bandwidth}))[0];if(!1===i){var d=c||s[0]||a[0];return d?d.playlist:null}var f=l.filter((function(e){return e.width&&e.height}));qs(f,(function(e,t){return e.width-t.width}));var p=f.filter((function(e){return e.width===n&&e.height===r}));u=p[p.length-1];var h=p.filter((function(e){return e.bandwidth===u.bandwidth}))[0],m=void 0,g=void 0,y=void 0;h||(g=(m=f.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===m[0].width&&e.height===m[0].height})),u=g[g.length-1],y=g.filter((function(e){return e.bandwidth===u.bandwidth}))[0]);var v=y||h||c||s[0]||a[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Ws(this.tech_.el(),"width"),10),parseInt(Ws(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Ta.isEnabled);return qs(e,(function(e,t){return zs(e,t)})),e.filter((function(e){return us(e.attributes.CODECS).videoCodec}))[0]||null},comparePlaylistBandwidth:zs,comparePlaylistResolution:function(e,t){var n=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||o().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||o().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:Aa()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(e){Object.defineProperty(_l,e,{get:function(){return zi.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Ds[e]},set:function(t){zi.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?zi.log.warn("value of Hls."+e+" must be greater than or equal to 0"):Ds[e]=t}})}));var wl="videojs-vhs",El=function(e){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e))return"hls";return/^application\/dash\+xml/i.test(e)?"dash":null},Ol=function(e,t){for(var n=t.media(),r=-1,o=0;o<e.length;o++)if(e[o].id===n.uri){r=o;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};_l.canPlaySource=function(){return zi.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Sl=function(e){if("dash"===e.options_.sourceType){var t=zi.players[e.tech_.options_.playerId];if(t.eme){var n=function(e,t,n){if(!e)return e;var r={};for(var o in e)r[o]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(r[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(r[o].url=e[o]);return zi.mergeOptions(e,r)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(t.currentSource().keySystems=n,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}},Tl=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem(wl);if(!e)return null;try{return JSON.parse(e)}catch(Pl){return null}};_l.supportsNativeHls=function(){var e=a().createElement("video");if(!zi.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),_l.supportsNativeDash=!!zi.getTech("Html5").isSupported()&&/maybe|probably/i.test(a().createElement("video").canPlayType("application/dash+xml")),_l.supportsTypeNatively=function(e){return"hls"===e?_l.supportsNativeHls:"dash"===e&&_l.supportsNativeDash},_l.isSupported=function(){return zi.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Cl=function(e){function t(e,n,r){Yi(this,t);var o=Qi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.hls));if(n.options_&&n.options_.playerId){var i=zi(n.options_.playerId);i.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return zi.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),o},configurable:!0}),i.vhs=o,i.dash=o,o.player_=i}if(o.tech_=n,o.source_=e,o.stats={},o.setOptions_(),o.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(a(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=a().fullscreenElement||a().webkitFullscreenElement||a().mozFullScreenElement||a().msFullscreenElement;t&&t.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()})),o.on(o.tech_,"seeking",(function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)})),o.on(o.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),o.on(o.tech_,"play",o.play),o}return Zi(t,e),Xi(t,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Tl();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ds.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ds.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=_l,this.options_.sourceType=El(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e),n.setCurrentTime(e)},this.masterPlaylistController_=new pl(this.options_),this.playbackWatcher_=new gl(zi.mergeOptions(this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",(function(){zi.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):_l.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=_l.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){zi.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ga(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ga(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!window.localStorage)return!1;var t=Tl();t=t?zi.mergeOptions(t,e):e;try{window.localStorage.setItem(wl,JSON.stringify(t))}catch(Pl){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,t;t=(e=n).playlists,e.representations=function(){return t.master.playlists.filter((function(e){return!wa(e)})).map((function(t,n){return new hl(e,t,t.uri)}))},Sl(n)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.tech_.ready((function(){return n.setupQualityLevels_()})),this.tech_.el()&&this.tech_.src(zi.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=zi.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),Ol(t,n.playlists)})),this.playlists.on("mediachange",(function(){Ol(e.qualityLevels_,e.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,Ji(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return Ba({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Fa({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),t}(zi.getComponent("Component")),kl={name:"videojs-http-streaming",VERSION:"1.10.6",canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zi.mergeOptions(zi.options,t);return kl.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=zi.mergeOptions(zi.options,n);return t.hls=new Cl(e,t,r),t.hls.xhr=Aa(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zi.mergeOptions(zi.options,t),r=n.hls.overrideNative,o=El(e),i=o&&(!_l.supportsTypeNatively(o)||r);return i?"maybe":""}};void 0!==zi.MediaSource&&void 0!==zi.URL||(zi.MediaSource=ws,zi.URL=Es),ws.supportsNativeMediaSources()&&zi.getTech("Html5").registerSourceHandler(kl,0),zi.HlsHandler=Cl,zi.HlsSourceHandler=kl,zi.Hls=_l,zi.use||zi.registerComponent("Hls",_l),zi.options.hls=zi.options.hls||{},zi.registerPlugin?zi.registerPlugin("reloadSourceOnError",bl):zi.plugin("reloadSourceOnError",bl);const Al=zi},()=>{},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedDocumentationTab=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=p(n(2)),s=p(n(13)),l=p(n(427)),u=n(1295),c=p(n(1589)),d=n(749),f=p(n(59));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.programmingEnvironment,n=e.defaultClassKey,r=void 0===n?"MainMethod":n,i=(0,u.useFetch)("/programming_environments/".concat(t,"/get_summary_by_name"),null,[t]),a=i.loading,p=i.data,h=i.error,y=g((0,o.useState)(null),2),v=y[0],b=y[1],_=g((0,o.useState)({}),2),E=_[0],O=_[1],S=g((0,o.useState)(null),2),T=S[0],C=S[1];(0,o.useEffect)((function(){var e={},t=null;if(p){var n,o=m(p);try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=a.name,l=m(a.docs);try{for(l.s();!(i=l.n()).done;){var u=i.value,c="".concat(s," - ").concat(u.name);e[u.key]={name:c,doc:u},t||(t=u.key)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}}e[r]?C(r):C(t),O(e)}),[p]);var k=v||T;return o.default.createElement("div",null,a&&o.default.createElement("div",{style:w.loadingInformation},o.default.createElement(l.default,{style:w.spinner})),h&&o.default.createElement("p",{style:w.loadingInformation},s.default.errorLoadingDocumentation()),!a&&E&&k&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{style:w.header},o.default.createElement("select",{value:k,onChange:function(e){return b(e.target.value)},style:w.select},function(){var e=[];for(var t in E)e.push(o.default.createElement("option",{key:t,value:t},E[t].name));return e}()),o.default.createElement("div",{style:w.docLink},o.default.createElement(d.TextLink,{href:"/docs/ide/".concat(t,"/classes/").concat(k),openInNewTab:!0,icon:o.default.createElement(f.default,{icon:"external-link"})}))),o.default.createElement(c.default,{programmingClass:E[k].doc,includeMethodSummary:!0,isSmallWindow:!0})))};t.UnconnectedDocumentationTab=b,b.propTypes={programmingEnvironment:a.default.string.isRequired,defaultClassKey:a.default.string};var _=(0,i.connect)((function(e){return{programmingEnvironment:e.instructions.programmingEnvironment}}))(b);t.default=_;var w={select:{width:275,marginTop:5},header:{display:"flex",justifyContent:"space-between"},loadingInformation:{display:"flex",margin:"25px",justifyContent:"center"},docLink:{marginRight:5,display:"flex",justifyContent:"center",alignItems:"center"}}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1698),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedCodeReviewTimelineReview=void 0;var o=b(n(1)),i=y(n(2)),a=n(27),s=b(n(1421)),l=y(n(59)),u=y(n(74)),c=y(n(141)),d=y(n(596)),f=y(n(1776)),p=y(n(1518)),h=n(1299),m=y(n(1290)),g=n(388);function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.review,n=e.isLastElementInTimeline,r=e.addCodeReviewComment,i=e.closeReview,a=e.toggleResolveComment,h=e.deleteCodeReviewComment,y=e.currentUserId,v=t.id,b=t.createdAt,w=t.isOpen,E=t.version,O=t.ownerId,S=t.ownerName,C=t.comments,k=_((0,o.useState)(!1),2),A=k[0],P=k[1],x=_((0,o.useState)(!1),2),I=x[0],R=x[1],D=(0,c.default)(b).format("M/D/YYYY [at] h:mm A"),j=!!(0,g.queryParams)("version"),N=function(e){P(e),R(!1)},L=O===y;return o.default.createElement(s.default,{type:s.codeReviewTimelineElementType.CODE_REVIEW,isLast:n,projectVersionId:E},o.default.createElement("div",{style:T.wrapper,className:"uitest-code-review-timeline-review"},o.default.createElement("div",{style:T.header},o.default.createElement("div",{style:T.icon},o.default.createElement(l.default,{icon:"comments-o"})),o.default.createElement("div",{style:T.title},o.default.createElement("div",{style:T.codeReviewTitle},L?d.default.codeReviewForYou():d.default.codeReviewForStudent({student:S})),o.default.createElement("div",{style:T.date},d.default.openedDate({date:D}))),w&&L&&!j&&o.default.createElement("div",null,o.default.createElement(u.default,{className:"uitest-close-code-review",icon:"close",style:{fontSize:13,margin:0},onClick:function(){R(!0),i((function(){return N(!1)}),(function(){return N(!0)}))},text:d.default.closeReview(),color:u.default.ButtonColor.blue,disabled:I}),A&&o.default.createElement(m.default,null))),w&&L&&o.default.createElement("div",{style:T.codeWorkspaceDisabledMsg},o.default.createElement("span",{style:T.note},d.default.noteWorthy())," ",d.default.codeEditingDisabled()),C&&C.map((function(e){return o.default.createElement(f.default,{viewingAsOwner:O===y,comment:e,key:"code-review-comment-".concat(e.id),onResolveStateToggle:a,onDelete:h})})),0===(null==C?void 0:C.length)&&!w&&o.default.createElement("span",null,d.default.noFeedbackGiven()),w&&!L&&!j&&o.default.createElement(p.default,{addCodeReviewComment:function(e,t,n){return r(e,v,t,n)}})))},O=E;t.UnconnectedCodeReviewTimelineReview=O;var S=(0,a.connect)((function(e){var t;return{currentUserId:null===(t=e.currentUser)||void 0===t?void 0:t.userId}}))(E);t.default=S,E.propTypes={isLastElementInTimeline:i.default.bool,review:h.reviewShape,addCodeReviewComment:i.default.func.isRequired,closeReview:i.default.func.isRequired,toggleResolveComment:i.default.func.isRequired,deleteCodeReviewComment:i.default.func.isRequired,currentUserId:i.default.number};var T={wrapper:{backgroundColor:"white",borderRadius:"10px",padding:"16px 12px"},icon:{marginRight:"5px",backgroundColor:"lightgrey",minWidth:"30px",height:"30px",borderRadius:"100%",fontSize:"22px",display:"flex",alignItems:"center",justifyContent:"center"},header:{display:"flex",marginBottom:"10px"},title:{flexGrow:1,fontStyle:"italic",marginRight:"10px"},codeReviewTitle:{fontFamily:'"Gotham 5r", sans-serif',lineHeight:"14px",marginBottom:"4px"},author:{fontSize:"12px",lineHeight:"12px",marginBottom:"4px"},date:{fontSize:"12px",marginBottom:"10px",lineHeight:"15px"},codeWorkspaceDisabledMsg:{textAlign:"center",fontStyle:"italic",margin:"10px 0"},note:{fontFamily:'"Gotham 5r", sans-serif'}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedComment=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=y(n(2)),s=y(n(141)),l=y(n(596)),u=y(n(20)),c=y(n(13)),d=n(1299),f=y(n(1777)),p=n(420),h=y(n(427)),m=y(n(165)),g=y(n(59));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(1778);function S(e){var t=e.comment,n=e.onResolveStateToggle,r=e.onDelete,i=e.viewAsTeacher,a=e.currentUserId,u=e.viewingAsOwner,d=(0,o.useRef)(!1),p=E((0,o.useState)(t.isResolved),2),y=p[0],v=p[1],b=E((0,o.useState)(!0),2),w=b[0],O=b[1],S=E((0,o.useState)(!1),2),T=S[0],C=S[1],A=E((0,o.useState)(!1),2),P=A[0],x=A[1],I=E((0,o.useState)(!1),2),R=I[0],D=I[1];(0,o.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]),(0,o.useEffect)((function(){O(t.isResolved),v(t.isResolved)}),[t.isResolved]);var j,N,L=function(){O(!w)},M=function(){var e=!y;n(t.id,e,(function(){return v(e)}),F)},B=function(){r(t.id,(function(){return x(!0)}),F)},F=function(){D(!0),setTimeout((function(){return D(!1)}),5e3)},U=t.comment,H=t.createdAt,W=t.isFromTeacher;return P?null:o.default.createElement("div",{style:_(_({},k.commentContainer),y&&k.lessVisible)},o.default.createElement("div",{style:k.commentHeaderContainer},y&&o.default.createElement(g.default,{className:"resolved-checkmark",icon:"check-circle",style:k.check}),o.default.createElement("div",{style:y?k.iconName:{}},function(){var e=t.commenterName,n=t.commenterId,r=t.isFromTeacher;return n===a?o.default.createElement("span",{style:k.name},c.default.you()):r?o.default.createElement("span",{style:_(_({},k.teacherName),k.name)},e,o.default.createElement("span",{style:k.nameSuffix}," (".concat(l.default.teacherLabel(),")"))):o.default.createElement("span",{style:k.name},e)}()),o.default.createElement("span",{style:k.rightAlignedCommentHeaderSection,className:"comment-right-header"},o.default.createElement("span",{style:k.timestamp},(N=H,void(0,s.default)(N).format("M/D/YYYY [at] h:mm A"))),T?o.default.createElement(h.default,{size:"small"}):o.default.createElement(f.default,{selector:o.default.createElement("img",{src:"/blockly/media/templates/instructions/codeReview/ellipsis.svg",style:{height:"3px",display:"flex"}})},(j=[],y&&j.push({onClick:L,text:w?c.default.show():c.default.hide(),iconClass:w?"eye":"eye-slash"}),u&&j.push({onClick:M,text:y?l.default.markIncomplete():l.default.markComplete(),iconClass:y?"circle-o":"check-circle"}),i&&j.push({onClick:B,text:l.default.delete(),iconClass:"trash"}),j.map((function(e,t){return o.default.createElement("a",{onClick:function(){return C(!0),Promise.resolve(e.onClick()).then((function(){d.current&&C(!1)}))},key:t,className:"comment-menu-item"},o.default.createElement("span",{style:k.icon,className:"fa fa-fw fa-"+e.iconClass}),o.default.createElement("span",{style:k.text},e.text))})))))),!(y&&w)&&o.default.createElement("div",{className:"code-review-comment-body",style:_(_(_({},k.comment),W&&k.commentFromTeacher),y&&k.lessVisibleBackgroundColor)},o.default.createElement(m.default,{markdown:U,className:"comment-content"})),R&&o.default.createElement("div",{style:k.error},l.default.commentUpdateError()))}S.propTypes={comment:d.reviewCommentShape.isRequired,onResolveStateToggle:a.default.func.isRequired,onDelete:a.default.func.isRequired,viewingAsOwner:a.default.bool.isRequired,viewAsTeacher:a.default.bool,currentUserId:a.default.number};var T=S;t.UnconnectedComment=T;var C=(0,i.connect)((function(e){var t;return{viewAsTeacher:e.viewAs===p.ViewType.Instructor,currentUserId:null===(t=e.currentUser)||void 0===t?void 0:t.userId}}),{ViewType:p.ViewType})(S);t.default=C;var k={name:{fontFamily:'"Gotham 5r"'},iconName:{marginLeft:"20px"},teacherName:{color:u.default.default_blue},nameSuffix:{fontStyle:"italic"},check:{position:"absolute",lineHeight:"18px",fontSize:"15px"},comment:{clear:"both",backgroundColor:u.default.lightest_gray,padding:"10px 12px",borderRadius:8},commentContainer:{marginBottom:"25px"},commentFromTeacher:{backgroundColor:u.default.lightest_cyan},lessVisible:{color:u.default.light_gray},lessVisibleBackgroundColor:{backgroundColor:u.default.background_gray},timestamp:{fontStyle:"italic",margin:"0 5px"},commentHeaderContainer:{marginBottom:"5px",position:"relative",display:"flex",justifyContent:"space-between"},rightAlignedCommentHeaderSection:{display:"flex"},error:{backgroundColor:u.default.red,color:u.default.white,margin:"5px 0",padding:"10px 12px"},text:{padding:"0 5px"},icon:{fontSize:"18px"}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InlineDropdownMenu=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=c(n(2)),a=c(n(103)),s=c(n(20)),l=c(n(1263)),u=n(137);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(p(t=e.call.apply(e,[this].concat(r))||this),"state",{isOpen:!1}),m(p(t),"handleClickOutside",(function(){t.state.isOpen&&t.setState({isOpen:!1})})),m(p(t),"selectOptionWrapper",(function(e){t.setState({isOpen:!1}),e()})),m(p(t),"handleKeyDown",(function(e,n){switch(e.which){case u.KeyCodes.ENTER:case u.KeyCodes.SPACE:t.selectOptionWrapper(n)}})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.icon,i=t.selector;if(!r&&!i)throw new Error("Icon or selector must be supplied.");var a=this.state.isOpen;return void 0===n||0===n.length?null:o.default.createElement(o.default.Fragment,null,o.default.createElement("button",{type:"button",style:v.menuButton,onClick:function(){return e.setState((function(e){return{isOpen:!e.isOpen}}))}},r?o.default.createElement("i",{className:r}):i),a&&o.default.createElement("ul",{style:v.dropdownContainer,className:"ignore-react-onclickoutside"},n.map((function(t,n){return o.default.createElement("a",f({},t.props,{onClick:function(){return e.selectOptionWrapper(t.props.onClick)},onKeyDown:function(n){return e.handleKeyDown(n,t.props.onClick)},style:v.dropdownOptionContainer,key:n,tabIndex:0}))}))))},r}(o.Component);t.InlineDropdownMenu=g,m(g,"propTypes",{icon:i.default.string,selector:i.default.element,children:function(e){o.default.Children.map(e.children,(function(e){if("a"!==e.type)throw new Error("only accepts children of type <a/>");if(!e.props.href&&!e.props.onClick)throw new Error("each child must have an href or onclick")}))}});var y=(0,l.default)((0,a.default)(g));t.default=y;var v={menuButton:{padding:"0 2px",margin:0,border:"1px solid #fff",background:"none",lineHeight:"18px",":hover":{boxShadow:"none"},":active":{boxShadow:"none"}},dropdownContainer:{top:15,position:"absolute",marginTop:"5px",right:"0px",zIndex:1,boxShadow:"3px 3px 3px ".concat(s.default.lighter_gray),borderRadius:"4px",backgroundColor:s.default.white},dropdownOptionContainer:{height:"22px",fontSize:"14px",fontFamily:'"Gotham 5r"',color:s.default.dark_charcoal,padding:"5px 12px",cursor:"pointer",":hover":{backgroundColor:s.default.lightest_gray,textDecoration:"none"},":focus":{textDecoration:"none"},display:"flex",alignItems:"center"}}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1699),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useSlate=t.useSelected=t.useReadOnly=t.useFocused=t.useEditor=t.Slate=t.ReactEditor=t.Editable=t.DefaultPlaceholder=t.DefaultLeaf=t.DefaultElement=t.DefaultEditable=t.AndroidEditable=void 0,t.useSlateSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt,n=(0,o.useReducer)((function(e){return e+1}),0),r=y(n,2),i=r[1],a=(0,o.useContext)(_t);if(!a)throw new Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var s,l=a.getSlate,u=a.addEventListener,c=(0,o.useRef)(),d=(0,o.useRef)((function(){return null})),f=(0,o.useRef)(null);try{s=e!==d.current||c.current?e(l()):f.current}catch(p){throw c.current&&bt(p)&&(p.message+="\nThe error may be correlated with this previous error:\n".concat(c.current.stack,"\n\n")),p}return M((function(){d.current=e,f.current=s,c.current=void 0})),M((function(){function e(){try{var e=d.current(l());if(t(e,f.current))return;f.current=e}catch(p){c.current=p}i()}var n=u(e);return e(),function(){return n()}}),[u,l]),s},t.withReact=t.useSlateStatic=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(1572),a=f(n(1573)),s=f(n(788)),l=f(n(1685)),u=f(n(1783)),c=n(1784),d=f(n(36));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var E=parseInt(o.default.version.split(".")[0],10)>=17,O="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,S="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),T="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),C="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),k="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),A="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),P="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),x="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),I="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),R="undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),D="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),j="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),N=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),L=!x&&!A&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,M=N?o.useLayoutEffect:o.useEffect,B=function(e){var t=e.isLast,n=e.leaf,r=e.parent,a=e.text,s=ve(),l=at.findPath(s,a),u=i.Path.parent(l);return s.isVoid(r)?o.default.createElement(U,{length:i.Node.string(r).length}):""!==n.text||r.children[r.children.length-1]!==a||s.isInline(r)||""!==i.Editor.string(s,u)?""===n.text?o.default.createElement(U,null):t&&"\n"===n.text.slice(-1)?o.default.createElement(F,{isTrailing:!0,text:n.text}):o.default.createElement(F,{text:n.text}):o.default.createElement(U,{isLineBreak:!0})},F=function(e){var t=e.text,n=e.isTrailing,r=void 0!==n&&n,i=(0,o.useRef)(null),a=function(){return"".concat(null!=t?t:"").concat(r?"\n":"")};return M((function(){var e=a();i.current&&i.current.textContent!==e&&(i.current.textContent=e)})),i.current?o.default.createElement("span",{"data-slate-string":!0,ref:i}):o.default.createElement("span",{"data-slate-string":!0,ref:i},a())},U=function(e){var t=e.length,n=void 0===t?0:t,r=e.isLineBreak,i=void 0!==r&&r;return o.default.createElement("span",{"data-slate-zero-width":i?"n":"z","data-slate-length":n},"\ufeff",i?o.default.createElement("br",null):null)},H=new WeakMap,W=new WeakMap,q=new WeakMap,z=new WeakMap,V=new WeakMap,G=new WeakMap,$=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap,J=new WeakMap,Z=new WeakMap,Q=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=Symbol("placeholder"),oe=function(e){var t=e.leaf,n=e.isLast,r=e.text,i=e.parent,a=e.renderPlaceholder,s=e.renderLeaf,l=void 0===s?function(e){return o.default.createElement(ae,Object.assign({},e))}:s,u=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=null==u?void 0:u.current,t=document.querySelector('[data-slate-editor="true"]');if(e&&t)return t.style.minHeight="".concat(e.clientHeight,"px"),function(){t.style.minHeight="auto"}}),[u,t]);var c=o.default.createElement(B,{isLast:n,leaf:t,parent:i,text:r});if(t[re]){var d={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:u}};c=o.default.createElement(o.default.Fragment,null,a(d),c)}return l({attributes:{"data-slate-leaf":!0},children:c,leaf:t,text:r})},ie=o.default.memo(oe,(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&i.Text.equals(t.leaf,e.leaf)&&t.leaf[re]===e.leaf[re]})),ae=function(e){var t=e.attributes,n=e.children;return o.default.createElement("span",Object.assign({},t),n)};t.DefaultLeaf=ae;var se=["anchor","focus"],le=["anchor","focus"],ue=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(n){return t.hasOwnProperty(n)&&e[n]===t[n]}))},ce=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n],a=w(r,se),s=w(o,le);if(!i.Range.equals(r,o)||r[re]!==o[re]||!ue(a,s))return!1}return!0};function de(e){var t=(0,o.useRef)(0),n=(0,o.useRef)(null),r=y((0,o.useState)(0),2)[1];return(0,o.useEffect)((function(){return ne.set(e,(function(){n.current||(n.current=requestAnimationFrame((function(){r((function(e){return e+1})),n.current=null})),t.current++)})),function(){ne.delete(e)}}),[e]),n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current}var fe=function(e){for(var t=e.decorations,n=e.isLast,r=e.parent,a=e.renderPlaceholder,s=e.renderLeaf,l=e.text,u=ve(),c=(0,o.useRef)(null),d=i.Text.decorations(l,t),f=at.findKey(u,l),p=[],h=0;h<d.length;h++){var m=d[h];p.push(o.default.createElement(ie,{isLast:n&&h===d.length-1,key:"".concat(f.id,"-").concat(h),renderPlaceholder:a,leaf:m,text:l,parent:r,renderLeaf:s}))}M((function(){var e=K.get(u);c.current?(null==e||e.set(f,c.current),G.set(l,c.current),V.set(c.current,l)):(null==e||e.delete(f),G.delete(l))}));var g=T?de(l):void 0;return o.default.createElement("span",{"data-slate-node":"text",ref:c,key:g},p)},pe=o.default.memo(fe,(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&ce(t.decorations,e.decorations)})),he=function(e){var t=e.decorations,n=e.element,r=e.renderElement,s=void 0===r?function(e){return o.default.createElement(ge,Object.assign({},e))}:r,l=e.renderPlaceholder,u=e.renderLeaf,c=e.selection,d=(0,o.useRef)(null),f=ve(),p=Ae(),h=f.isInline(n),m=at.findKey(f,n),g=we({decorations:t,node:n,renderElement:s,renderPlaceholder:l,renderLeaf:u,selection:c}),v={"data-slate-node":"element",ref:d};if(h&&(v["data-slate-inline"]=!0),!h&&i.Editor.hasInlines(f,n)){var b=i.Node.string(n),_=(0,a.default)(b);"rtl"===_&&(v.dir=_)}if(i.Editor.isVoid(f,n)){v["data-slate-void"]=!0,!p&&h&&(v.contentEditable=!1);var w=h?"span":"div",E=y(i.Node.texts(n),1),O=y(E[0],1)[0];g=o.default.createElement(w,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},o.default.createElement(pe,{renderPlaceholder:l,decorations:[],isLast:!1,parent:n,text:O})),H.set(O,0),W.set(O,n)}M((function(){var e=K.get(f);d.current?(null==e||e.set(m,d.current),G.set(n,d.current),V.set(d.current,n)):(null==e||e.delete(m),G.delete(n))}));var S=s({attributes:v,children:g,element:n});if(T){var C=de(n);return o.default.createElement(o.Fragment,{key:C},S)}return S},me=o.default.memo(he,(function(e,t){return e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&ce(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&i.Range.equals(e.selection,t.selection))})),ge=function(e){var t=e.attributes,n=e.children,r=e.element,i=ve().isInline(r)?"span":"div";return o.default.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)};t.DefaultElement=ge;var ye=(0,o.createContext)(null),ve=function(){var e=(0,o.useContext)(ye);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e};t.useSlateStatic=ve;var be=(0,o.createContext)((function(){return[]})),_e=(0,o.createContext)(!1);t.useSelected=function(){return(0,o.useContext)(_e)};var we=function(e){for(var t=e.decorations,n=e.node,r=e.renderElement,a=e.renderPlaceholder,s=e.renderLeaf,l=e.selection,u=(0,o.useContext)(be),c=ve(),d=at.findPath(c,n),f=[],p=i.Element.isElement(n)&&!c.isInline(n)&&i.Editor.hasInlines(c,n),h=0;h<n.children.length;h++){var m,y=d.concat(h),v=n.children[h],b=at.findKey(c,v),_=i.Editor.range(c,y),w=l&&i.Range.intersection(_,l),E=u([v,y]),O=g(t);try{for(O.s();!(m=O.n()).done;){var S=m.value,T=i.Range.intersection(S,_);T&&E.push(T)}}catch(C){O.e(C)}finally{O.f()}i.Element.isElement(v)?f.push(o.default.createElement(_e.Provider,{key:"provider-".concat(b.id),value:!!w},o.default.createElement(me,{decorations:E,element:v,key:b.id,renderElement:r,renderPlaceholder:a,renderLeaf:s,selection:w}))):f.push(o.default.createElement(pe,{decorations:E,key:b.id,isLast:p&&h===n.children.length-1,parent:n,renderPlaceholder:a,renderLeaf:s,text:v})),H.set(v,h),W.set(v,n)}return f},Ee={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Oe={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Se={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Te=function(e){var t=Ee[e],n=Oe[e],r=Se[e],o=t&&(0,c.isKeyHotkey)(t),i=n&&(0,c.isKeyHotkey)(n),a=r&&(0,c.isKeyHotkey)(r);return function(e){return!(!o||!o(e))||(!!(S&&i&&i(e))||!(S||!a||!a(e)))}},Ce={isBold:Te("bold"),isCompose:Te("compose"),isMoveBackward:Te("moveBackward"),isMoveForward:Te("moveForward"),isDeleteBackward:Te("deleteBackward"),isDeleteForward:Te("deleteForward"),isDeleteLineBackward:Te("deleteLineBackward"),isDeleteLineForward:Te("deleteLineForward"),isDeleteWordBackward:Te("deleteWordBackward"),isDeleteWordForward:Te("deleteWordForward"),isExtendBackward:Te("extendBackward"),isExtendForward:Te("extendForward"),isExtendLineBackward:Te("extendLineBackward"),isExtendLineForward:Te("extendLineForward"),isItalic:Te("italic"),isMoveLineBackward:Te("moveLineBackward"),isMoveLineForward:Te("moveLineForward"),isMoveWordBackward:Te("moveWordBackward"),isMoveWordForward:Te("moveWordForward"),isRedo:Te("redo"),isSoftBreak:Te("insertSoftBreak"),isSplitBlock:Te("splitBlock"),isTransposeCharacter:Te("transposeCharacter"),isUndo:Te("undo")},ke=(0,o.createContext)(!1),Ae=function(){return(0,o.useContext)(ke)};t.useReadOnly=Ae;var Pe=(0,o.createContext)(null),xe=function(){var e=(0,o.useContext)(Pe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return y(e,1)[0]};t.useSlate=xe;var Ie=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Re=function(e){return De(e)&&1===e.nodeType},De=function(e){var t=Ie(e);return!!t&&e instanceof t.Node},je=function(e){var t=e&&e.anchorNode&&Ie(e.anchorNode);return!!t&&e instanceof t.Selection},Ne=function(e){return De(e)&&3===e.nodeType},Le=function(e,t,n){for(var r,o=e.childNodes,i=o[t],a=t,s=!1,l=!1;(De(r=i)&&8===r.nodeType||Re(i)&&0===i.childNodes.length||Re(i)&&"false"===i.getAttribute("contenteditable"))&&(!s||!l);)a>=o.length?(s=!0,a=t-1,n="backward"):a<0?(l=!0,a=t+1,n="forward"):(i=o[a],t=a,a+="forward"===n?1:-1);return[i,t]},Me=function(e,t,n){return y(Le(e,t,n),1)[0]},Be=function e(t){var n="";if(Ne(t)&&t.nodeValue)return t.nodeValue;if(Re(t)){for(var r=0,o=Array.from(t.childNodes);r<o.length;r++){n+=e(o[r])}var i=getComputedStyle(t).getPropertyValue("display");"block"!==i&&"list"!==i&&"BR"!==t.tagName||(n+="\n")}return n},Fe=/data-slate-fragment="(.+?)"/m,Ue=function(e){return y(e.getData("text/html").match(Fe)||[],2)[1]},He=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e){return o.default.createElement(o.default.Fragment,null,we(e))},Ve=function(e){var t=e.autoFocus,n=e.decorate,r=void 0===n?$e:n,u=e.onDOMBeforeInput,c=e.placeholder,d=e.readOnly,f=void 0!==d&&d,p=e.renderElement,h=e.renderLeaf,v=e.renderPlaceholder,b=void 0===v?function(e){return o.default.createElement(Ge,Object.assign({},e))}:v,_=e.scrollSelectionIntoView,E=void 0===_?Ke:_,S=e.style,T=void 0===S?{}:S,A=e.as,x=void 0===A?"div":A,B=w(e,He),F=xe(),U=y((0,o.useState)(!1),2),H=U[0],W=U[1],$=(0,o.useRef)(null),K=(0,o.useRef)([]);Y.set(F,f);var Z=(0,o.useMemo)((function(){return{hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}}),[]);M((function(){var e;$.current&&(e=Ie($.current))?(q.set(F,e),z.set(F,$.current),G.set(F,$.current),V.set($.current,F)):G.delete(F);var t=F.selection,n=at.findDocumentOrShadowRoot(F).getSelection();if(!at.isComposing(F)&&n&&at.isFocused(F)){var r="None"!==n.type;if(t||r){var o=z.get(F),a=!1;if(o.contains(n.anchorNode)&&o.contains(n.focusNode)&&(a=!0),r&&a&&t){var s=at.toSlateRange(F,n,{exactMatch:!0,suppressThrow:!0});if(s&&i.Range.equals(s,t))return}if(!t||at.hasRange(F,t)){Z.isUpdatingSelection=!0;var l=t&&at.toDOMRange(F,t);l?(i.Range.isBackward(t)?n.setBaseAndExtent(l.endContainer,l.endOffset,l.startContainer,l.startOffset):n.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),E(F,l)):n.removeAllRanges(),setTimeout((function(){l&&C&&at.toDOMNode(F,F).focus();Z.isUpdatingSelection=!1}))}else F.selection=at.toSlateRange(F,n,{exactMatch:!1,suppressThrow:!1})}}})),(0,o.useEffect)((function(){$.current&&t&&$.current.focus()}),[t]);var ee=(0,o.useCallback)((0,l.default)((function(){if(!at.isComposing(F)&&!Z.isUpdatingSelection&&!Z.isDraggingInternally){var e=at.findDocumentOrShadowRoot(F),t=e.activeElement,n=at.toDOMNode(F,F),r=e.getSelection();if(t===n?(Z.latestElement=t,X.set(F,!0)):X.delete(F),!r)return i.Transforms.deselect(F);var o=r.anchorNode,a=r.focusNode,s=Xe(F,o)||Je(F,o),l=Xe(F,a)||Je(F,a);if(s&&l){var u=at.toSlateRange(F,r,{exactMatch:!1,suppressThrow:!1});i.Transforms.select(F,u)}}}),100),[f]),te=(0,o.useMemo)((function(){return(0,s.default)(ee,0)}),[ee]),ne=(0,o.useCallback)((function(e){if(!f&&Xe(F,e.target)&&!Qe(e,u)){var t;te.flush(),ee.flush();var n=F.selection,r=e.inputType,o=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;var a=!1;if("insertText"===r&&n&&i.Range.isCollapsed(n)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==n.anchor.offset){var s;a=!0,F.marks&&(a=!1);var l=n.anchor,c=y(at.toDOMPoint(F,l),2),d=c[0],p=c[1],h=null===(s=d.parentElement)||void 0===s?void 0:s.closest("a");if(h&&at.hasDOMNode(F,h)){var m,g=at.getWindow(F).document.createTreeWalker(h,NodeFilter.SHOW_TEXT).lastChild();g===d&&(null===(m=g.textContent)||void 0===m?void 0:m.length)===p&&(a=!1)}}if(!r.startsWith("delete")||r.startsWith("deleteBy")){var v=y(e.getTargetRanges(),1)[0];if(v){var b=at.toSlateRange(F,v,{exactMatch:!1,suppressThrow:!1});if(!n||!i.Range.equals(n,b)){a=!1;var _=F.selection&&i.Editor.rangeRef(F,F.selection);i.Transforms.select(F,b),_&&Q.set(F,_)}}}if(a||e.preventDefault(),n&&i.Range.isExpanded(n)&&r.startsWith("delete")){var w=r.endsWith("Backward")?"backward":"forward";return void i.Editor.deleteFragment(F,{direction:w})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":i.Editor.deleteFragment(F);break;case"deleteContent":case"deleteContentForward":i.Editor.deleteForward(F);break;case"deleteContentBackward":i.Editor.deleteBackward(F);break;case"deleteEntireSoftLine":i.Editor.deleteBackward(F,{unit:"line"}),i.Editor.deleteForward(F,{unit:"line"});break;case"deleteHardLineBackward":i.Editor.deleteBackward(F,{unit:"block"});break;case"deleteSoftLineBackward":i.Editor.deleteBackward(F,{unit:"line"});break;case"deleteHardLineForward":i.Editor.deleteForward(F,{unit:"block"});break;case"deleteSoftLineForward":i.Editor.deleteForward(F,{unit:"line"});break;case"deleteWordBackward":i.Editor.deleteBackward(F,{unit:"word"});break;case"deleteWordForward":i.Editor.deleteForward(F,{unit:"word"});break;case"insertLineBreak":i.Editor.insertSoftBreak(F);break;case"insertParagraph":i.Editor.insertBreak(F);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":var E=F.selection;E&&i.Range.isExpanded(E)&&i.Editor.deleteFragment(F),"insertFromComposition"===r&&at.isComposing(F)&&(W(!1),J.set(F,!1)),"DataTransfer"===(null==o?void 0:o.constructor.name)?at.insertData(F,o):"string"==typeof o&&(a?K.current.push((function(){return i.Editor.insertText(F,o)})):i.Editor.insertText(F,o))}var O=null===(t=Q.get(F))||void 0===t?void 0:t.unref();Q.delete(F),!O||F.selection&&i.Range.equals(F.selection,O)||i.Transforms.select(F,O)}}),[f,u]);M((function(){return $.current&&L&&$.current.addEventListener("beforeinput",ne),function(){$.current&&L&&$.current.removeEventListener("beforeinput",ne)}}),[ne]),M((function(){var e=at.getWindow(F);return e.document.addEventListener("selectionchange",te),function(){e.document.removeEventListener("selectionchange",te)}}),[te]);var oe=r([F,[]]);if(c&&1===F.children.length&&1===Array.from(i.Node.texts(F)).length&&""===i.Node.string(F)&&!H){var ie,ae=i.Editor.start(F,[]);oe.push((m(ie={},re,!0),m(ie,"placeholder",c),m(ie,"anchor",ae),m(ie,"focus",ae),ie))}return o.default.createElement(ke.Provider,{value:f},o.default.createElement(be.Provider,{value:r},o.default.createElement(x,Object.assign({role:f?void 0:"textbox"},B,{spellCheck:!(!L&&N)&&B.spellCheck,autoCorrect:L||!N?B.autoCorrect:"false",autoCapitalize:L||!N?B.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!f,zindex:-1,suppressContentEditableWarning:!0,ref:$,style:qe({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},T),onBeforeInput:(0,o.useCallback)((function(e){if(!L&&!f&&!Ze(e,B.onBeforeInput)&&Xe(F,e.target)&&(e.preventDefault(),!at.isComposing(F))){var t=e.data;i.Editor.insertText(F,t)}}),[f]),onInput:(0,o.useCallback)((function(e){var t,n=g(K.current);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}K.current=[]}),[]),onBlur:(0,o.useCallback)((function(e){if(!f&&!Z.isUpdatingSelection&&Xe(F,e.target)&&!Ze(e,B.onBlur)){var t=at.findDocumentOrShadowRoot(F);if(Z.latestElement!==t.activeElement){var n=e.relatedTarget;if(!(n===at.toDOMNode(F,F)||Re(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&De(n)&&at.hasDOMNode(F,n)){var r=at.toSlateNode(F,n);if(i.Element.isElement(r)&&!F.isVoid(r))return}if(k){var o=t.getSelection();null==o||o.removeAllRanges()}X.delete(F)}}}}),[f,B.onBlur]),onClick:(0,o.useCallback)((function(e){if(Ye(F,e.target)&&!Ze(e,B.onClick)&&De(e.target)){var t=at.toSlateNode(F,e.target),n=at.findPath(F,t);if(!i.Editor.hasPath(F,n)||i.Node.get(F,n)!==t)return;if(3===e.detail&&n.length>=1){var r=n;if(!i.Editor.isBlock(F,t)){var o,a=i.Editor.above(F,{match:function(e){return i.Editor.isBlock(F,e)},at:n});r=null!==(o=null==a?void 0:a[1])&&void 0!==o?o:n.slice(0,1)}var s=i.Editor.range(F,r);return void i.Transforms.select(F,s)}if(f)return;var l=i.Editor.start(F,n),u=i.Editor.end(F,n),c=i.Editor.void(F,{at:l}),d=i.Editor.void(F,{at:u});if(c&&d&&i.Path.equals(c[1],d[1])){var p=i.Editor.range(F,l);i.Transforms.select(F,p)}}}),[f,B.onClick]),onCompositionEnd:(0,o.useCallback)((function(e){if(Xe(F,e.target)&&!Ze(e,B.onCompositionEnd)&&(at.isComposing(F)&&(W(!1),J.set(F,!1)),k||I||O||R||j||D||!e.data||i.Editor.insertText(F,e.data),F.selection&&i.Range.isCollapsed(F.selection))){var t=F.selection.anchor.path,n=i.Node.leaf(F,t);Z.hasInsertPrefixInCompositon&&(Z.hasInsertPrefixInCompositon=!1,i.Editor.withoutNormalizing(F,(function(){var e=n.text.replace(/^\uFEFF/,"");i.Transforms.delete(F,{distance:n.text.length,reverse:!0}),i.Editor.insertText(F,e)})))}}),[B.onCompositionEnd]),onCompositionUpdate:(0,o.useCallback)((function(e){Xe(F,e.target)&&!Ze(e,B.onCompositionUpdate)&&(at.isComposing(F)||(W(!0),J.set(F,!0)))}),[B.onCompositionUpdate]),onCompositionStart:(0,o.useCallback)((function(e){if(Xe(F,e.target)&&!Ze(e,B.onCompositionStart)){var t=F.selection,n=F.marks;if(t){if(i.Range.isExpanded(t))return void i.Editor.deleteFragment(F);var r=i.Editor.above(F,{match:function(e){return i.Editor.isInline(F,e)},mode:"highest"});if(r){var o=y(r,2)[1];if(i.Editor.isEnd(F,t.anchor,o)){var a=i.Editor.after(F,o);i.Transforms.setSelection(F,{anchor:a,focus:a})}}n&&(Z.hasInsertPrefixInCompositon=!0,i.Transforms.insertNodes(F,qe({text:"\ufeff"},n),{select:!0}))}}}),[B.onCompositionStart]),onCopy:(0,o.useCallback)((function(e){Xe(F,e.target)&&!Ze(e,B.onCopy)&&(e.preventDefault(),at.setFragmentData(F,e.clipboardData,"copy"))}),[B.onCopy]),onCut:(0,o.useCallback)((function(e){if(!f&&Xe(F,e.target)&&!Ze(e,B.onCut)){e.preventDefault(),at.setFragmentData(F,e.clipboardData,"cut");var t=F.selection;if(t)if(i.Range.isExpanded(t))i.Editor.deleteFragment(F);else{var n=i.Node.parent(F,t.anchor.path);i.Editor.isVoid(F,n)&&i.Transforms.delete(F)}}}),[f,B.onCut]),onDragOver:(0,o.useCallback)((function(e){if(Ye(F,e.target)&&!Ze(e,B.onDragOver)){var t=at.toSlateNode(F,e.target);i.Editor.isVoid(F,t)&&e.preventDefault()}}),[B.onDragOver]),onDragStart:(0,o.useCallback)((function(e){if(!f&&Ye(F,e.target)&&!Ze(e,B.onDragStart)){var t=at.toSlateNode(F,e.target),n=at.findPath(F,t);if(i.Editor.isVoid(F,t)||i.Editor.void(F,{at:n,voids:!0})){var r=i.Editor.range(F,n);i.Transforms.select(F,r)}Z.isDraggingInternally=!0,at.setFragmentData(F,e.dataTransfer,"drag")}}),[f,B.onDragStart]),onDrop:(0,o.useCallback)((function(e){if(!f&&Ye(F,e.target)&&!Ze(e,B.onDrop)){e.preventDefault();var t=F.selection,n=at.findEventRange(F,e),r=e.dataTransfer;i.Transforms.select(F,n),Z.isDraggingInternally&&(!t||i.Range.equals(t,n)||i.Editor.void(F,{at:n,voids:!0})||i.Transforms.delete(F,{at:t})),at.insertData(F,r),at.isFocused(F)||at.focus(F)}Z.isDraggingInternally=!1}),[f,B.onDrop]),onDragEnd:(0,o.useCallback)((function(e){!f&&Z.isDraggingInternally&&B.onDragEnd&&Ye(F,e.target)&&B.onDragEnd(e),Z.isDraggingInternally=!1}),[f,B.onDragEnd]),onFocus:(0,o.useCallback)((function(e){if(!f&&!Z.isUpdatingSelection&&Xe(F,e.target)&&!Ze(e,B.onFocus)){var t=at.toDOMNode(F,F),n=at.findDocumentOrShadowRoot(F);if(Z.latestElement=n.activeElement,C&&e.target!==t)return void t.focus();X.set(F,!0)}}),[f,B.onFocus]),onKeyDown:(0,o.useCallback)((function(e){if(!f&&Xe(F,e.target)){var t=e.nativeEvent;if(at.isComposing(F)&&!1===t.isComposing&&(J.set(F,!1),W(!1)),Ze(e,B.onKeyDown)||at.isComposing(F))return;var n=F.selection,r=F.children[null!==n?n.focus.path[0]:0],o="rtl"===(0,a.default)(i.Node.string(r));if(Ce.isRedo(t)){e.preventDefault();var s=F;return void("function"==typeof s.redo&&s.redo())}if(Ce.isUndo(t)){e.preventDefault();var l=F;return void("function"==typeof l.undo&&l.undo())}if(Ce.isMoveLineBackward(t))return e.preventDefault(),void i.Transforms.move(F,{unit:"line",reverse:!0});if(Ce.isMoveLineForward(t))return e.preventDefault(),void i.Transforms.move(F,{unit:"line"});if(Ce.isExtendLineBackward(t))return e.preventDefault(),void i.Transforms.move(F,{unit:"line",edge:"focus",reverse:!0});if(Ce.isExtendLineForward(t))return e.preventDefault(),void i.Transforms.move(F,{unit:"line",edge:"focus"});if(Ce.isMoveBackward(t))return e.preventDefault(),void(n&&i.Range.isCollapsed(n)?i.Transforms.move(F,{reverse:!o}):i.Transforms.collapse(F,{edge:"start"}));if(Ce.isMoveForward(t))return e.preventDefault(),void(n&&i.Range.isCollapsed(n)?i.Transforms.move(F,{reverse:o}):i.Transforms.collapse(F,{edge:"end"}));if(Ce.isMoveWordBackward(t))return e.preventDefault(),n&&i.Range.isExpanded(n)&&i.Transforms.collapse(F,{edge:"focus"}),void i.Transforms.move(F,{unit:"word",reverse:!o});if(Ce.isMoveWordForward(t))return e.preventDefault(),n&&i.Range.isExpanded(n)&&i.Transforms.collapse(F,{edge:"focus"}),void i.Transforms.move(F,{unit:"word",reverse:o});if(L){if((P||k)&&n&&(Ce.isDeleteBackward(t)||Ce.isDeleteForward(t))&&i.Range.isCollapsed(n)){var u=i.Node.parent(F,n.anchor.path);if(i.Element.isElement(u)&&i.Editor.isVoid(F,u)&&i.Editor.isInline(F,u))return e.preventDefault(),void i.Editor.deleteBackward(F,{unit:"block"})}}else{if(Ce.isBold(t)||Ce.isItalic(t)||Ce.isTransposeCharacter(t))return void e.preventDefault();if(Ce.isSoftBreak(t))return e.preventDefault(),void i.Editor.insertSoftBreak(F);if(Ce.isSplitBlock(t))return e.preventDefault(),void i.Editor.insertBreak(F);if(Ce.isDeleteBackward(t))return e.preventDefault(),void(n&&i.Range.isExpanded(n)?i.Editor.deleteFragment(F,{direction:"backward"}):i.Editor.deleteBackward(F));if(Ce.isDeleteForward(t))return e.preventDefault(),void(n&&i.Range.isExpanded(n)?i.Editor.deleteFragment(F,{direction:"forward"}):i.Editor.deleteForward(F));if(Ce.isDeleteLineBackward(t))return e.preventDefault(),void(n&&i.Range.isExpanded(n)?i.Editor.deleteFragment(F,{direction:"backward"}):i.Editor.deleteBackward(F,{unit:"line"}));if(Ce.isDeleteLineForward(t))return e.preventDefault(),void(n&&i.Range.isExpanded(n)?i.Editor.deleteFragment(F,{direction:"forward"}):i.Editor.deleteForward(F,{unit:"line"}));if(Ce.isDeleteWordBackward(t))return e.preventDefault(),void(n&&i.Range.isExpanded(n)?i.Editor.deleteFragment(F,{direction:"backward"}):i.Editor.deleteBackward(F,{unit:"word"}));if(Ce.isDeleteWordForward(t))return e.preventDefault(),void(n&&i.Range.isExpanded(n)?i.Editor.deleteFragment(F,{direction:"forward"}):i.Editor.deleteForward(F,{unit:"word"}))}}}),[f,B.onKeyDown]),onPaste:(0,o.useCallback)((function(e){f||!Xe(F,e.target)||Ze(e,B.onPaste)||L&&!function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(e.nativeEvent)||(e.preventDefault(),at.insertData(F,e.clipboardData))}),[f,B.onPaste])}),o.default.createElement(ze,{decorations:oe,node:F,renderElement:p,renderPlaceholder:b,renderLeaf:h,selection:F.selection}))))};t.DefaultEditable=Ve;var Ge=function(e){var t=e.attributes,n=e.children;return o.default.createElement("span",Object.assign({},t),n)};t.DefaultPlaceholder=Ge;var $e=function(){return[]},Ke=function(e,t){if(!e.selection||e.selection&&i.Range.isCollapsed(e.selection)){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),(0,u.default)(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Ye=function(e,t){return De(t)&&at.hasDOMNode(e,t)},Xe=function(e,t){return De(t)&&at.hasDOMNode(e,t,{editable:!0})},Je=function(e,t){if(Y.get(e))return!1;var n=Ye(e,t)&&at.toSlateNode(e,t);return i.Editor.isVoid(e,n)},Ze=function(e,t){if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},Qe=function(e,t){if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented};function et(e,t){if(e===t)return null;var n=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length!==t.length?n:null}(e,t);if(null===n)return null;var r=function(e,t,n){for(var r=e.length,o=t.length,i=Math.min(r,o,n),a=0;a<i;a++)if(e.charAt(r-a-1)!==t.charAt(o-a-1))return a;return e.length!==t.length?i:null}(e,t,Math.min(e.length-n,t.length-n));return null===r?null:{start:n,end:r}}function tt(e,t){return e.slice(t.start,e.length-t.end)}function nt(e,t){var n=at.toSlateNode(e,t);if(i.Text.isText(n)){var r=n.text,o=t.textContent;if(o.endsWith("\n")&&(o=o.slice(0,o.length-1)),o!==r){var a=function(e,t){if(void 0===e||void 0===t)return null;var n=et(e,t);if(null==n)return null;var r=tt(t,n),o=tt(e,n);return{start:n.start,end:e.length-n.end,insertText:r,removeText:o}}(r,o);if(null!==a)return{text:a,path:at.findPath(e,n)}}}}function rt(e,t,n){var r=n.path,o=n.text,a={anchor:{path:r,offset:o.start},focus:{path:r,offset:o.end}};if(!t||!i.Range.isCollapsed(t))return a;var s=o.insertText,l=o.removeText;if((1===s.length||1===l.length)&&i.Path.equals(t.anchor.path,r)){var u=y(Array.from(i.Editor.nodes(e,{at:t,match:i.Text.isText})),1)[0];if(u){var c=y(u,1)[0],d=t.anchor,f=c.text[d.offset-1],p=c.text[d.offset];if(1===s.length&&s===p)return t;if(1===l.length&&l===f)return{anchor:{path:r,offset:d.offset-1},focus:{path:r,offset:d.offset}}}}return a}var ot=0,it=function(){this.id="".concat(ot++)},at={isComposing:function(e){return!!J.get(e)},getWindow:function(e){var t=q.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey:function(e,t){var n=$.get(t);return n||(n=new it,$.set(t,n)),n},findPath:function(e,t){for(var n=[],r=t;;){var o=W.get(r);if(null==o){if(i.Editor.isEditor(r))return n;break}var a=H.get(r);if(null==a)break;n.unshift(a),r=o}throw new Error("Unable to find the path for Slate node: ".concat(i.Scrubber.stringify(t)))},findDocumentOrShadowRoot:function(e){var t=at.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},isFocused:function(e){return!!X.get(e)},isReadOnly:function(e){return!!Y.get(e)},blur:function(e){var t=at.toDOMNode(e,e),n=at.findDocumentOrShadowRoot(e);X.set(e,!1),n.activeElement===t&&t.blur()},focus:function(e){var t=at.toDOMNode(e,e),n=at.findDocumentOrShadowRoot(e);X.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect:function(e){at.toDOMNode(e,e);var t=e.selection,n=at.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&i.Transforms.deselect(e)},hasDOMNode:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.editable,i=void 0!==o&&o,a=at.toDOMNode(e,e);try{n=Re(t)?t:t.parentElement}catch(s){if(!s.message.includes('Permission denied to access property "nodeType"'))throw s}return!!n&&!(n.closest("[data-slate-editor]")!==a||i&&!n.isContentEditable&&("boolean"!=typeof n.isContentEditable||n.closest('[contenteditable="false"]')!==a)&&!n.getAttribute("data-slate-zero-width"))},insertData:function(e,t){e.insertData(t)},insertFragmentData:function(e,t){return e.insertFragmentData(t)},insertTextData:function(e,t){return e.insertTextData(t)},setFragmentData:function(e,t,n){e.setFragmentData(t,n)},toDOMNode:function(e,t){var n=K.get(e),r=i.Editor.isEditor(t)?z.get(e):null==n?void 0:n.get(at.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(i.Scrubber.stringify(t)));return r},toDOMPoint:function(e,t){var n,r=y(i.Editor.node(e,t.path),1)[0],o=at.toDOMNode(e,r);i.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a=0,s=0,l=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));s<l.length;s++){var u=l[s],c=u.childNodes[0];if(null!=c&&null!=c.textContent){var d=c.textContent.length,f=u.getAttribute("data-slate-length"),p=a+(null==f?d:parseInt(f,10));if(t.offset<=p){n=[c,Math.min(d,Math.max(0,t.offset-a))];break}a=p}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(i.Scrubber.stringify(t)));return n},toDOMRange:function(e,t){var n=t.anchor,r=t.focus,o=i.Range.isBackward(t),a=at.toDOMPoint(e,n),s=i.Range.isCollapsed(t)?a:at.toDOMPoint(e,r),l=at.getWindow(e).document.createRange(),u=y(o?s:a,2),c=u[0],d=u[1],f=y(o?a:s,2),p=f[0],h=f[1],m=!!(Re(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),g=!!(Re(p)?p:p.parentElement).getAttribute("data-slate-zero-width");return l.setStart(c,m?1:d),l.setEnd(p,g?1:h),l},toSlateNode:function(e,t){var n=Re(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?V.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n=t,r=n.clientX,o=n.clientY,a=n.target;if(null==r||null==o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var s,l=at.toSlateNode(e,t.target),u=at.findPath(e,l);if(i.Editor.isVoid(e,l)){var c=a.getBoundingClientRect(),d=e.isInline(l)?r-c.left<c.left+c.width-r:o-c.top<c.top+c.height-o,f=i.Editor.point(e,u,{edge:d?"start":"end"}),p=d?i.Editor.before(e,f):i.Editor.after(e,f);if(p)return i.Editor.range(e,p)}var h=at.getWindow(e).document;if(h.caretRangeFromPoint)s=h.caretRangeFromPoint(r,o);else{var m=h.caretPositionFromPoint(r,o);m&&((s=h.createRange()).setStart(m.offsetNode,m.offset),s.setEnd(m.offsetNode,m.offset))}if(!s)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return at.toSlateRange(e,s,{exactMatch:!1,suppressThrow:!1})},toSlatePoint:function(e,t,n){var r=n.exactMatch,o=n.suppressThrow,i=r?t:function(e){var t=y(e,2),n=t[0],r=t[1];if(Re(n)&&n.childNodes.length){var o=r===n.childNodes.length,i=o?r-1:r,a=y(Le(n,i,o?"backward":"forward"),2);for(n=a[0],o=(i=a[1])<r;Re(n)&&n.childNodes.length;){var s=o?n.childNodes.length-1:0;n=Me(n,s,o?"backward":"forward")}r=o&&null!=n.textContent?n.textContent.length:0}return[n,r]}(t),a=y(i,2),s=a[0],l=a[1],u=s.parentNode,c=null,d=0;if(u){var f,p=at.toDOMNode(e,e),m=u.closest('[data-slate-void="true"]'),g=m&&p.contains(m)?m:null,v=u.closest("[data-slate-leaf]"),b=null;if(v){if(c=v.closest('[data-slate-node="text"]')){var _=at.getWindow(e).document.createRange();_.setStart(c,0),_.setEnd(s,l);var w=_.cloneContents();[].concat(h(Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]"))),h(Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]")))).forEach((function(e){e.parentNode.removeChild(e)})),d=w.textContent.length,b=c}}else g&&((v=g.querySelector("[data-slate-leaf]"))?(c=v.closest('[data-slate-node="text"]'),d=(b=v).textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach((function(e){d-=e.textContent.length}))):d=1);b&&d===b.textContent.length&&(u.hasAttribute("data-slate-zero-width")||C&&null!==(f=b.textContent)&&void 0!==f&&f.endsWith("\n\n"))&&d--}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var E=at.toSlateNode(e,c);return{path:at.findPath(e,E),offset:d}},toSlateRange:function(e,t,n){var r,o,a,s,l,u=n.exactMatch,c=n.suppressThrow;if((je(t)?t.anchorNode:t.startContainer)&&(je(t)?(r=t.anchorNode,o=t.anchorOffset,a=t.focusNode,s=t.focusOffset,l=P&&window.document.activeElement&&window.document.activeElement.shadowRoot?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,l=t.collapsed)),null==r||null==a||null==o||null==s)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var d=at.toSlatePoint(e,[r,o],{exactMatch:u,suppressThrow:c});if(!d)return null;var f=l?d:at.toSlatePoint(e,[a,s],{exactMatch:u,suppressThrow:c});if(!f)return null;var p={anchor:d,focus:f};return i.Range.isExpanded(p)&&i.Range.isForward(p)&&Re(a)&&i.Editor.void(e,{at:p.focus,mode:"highest"})&&(p=i.Editor.unhangRange(e,p,{voids:!0})),p},hasRange:function(e,t){var n=t.anchor,r=t.focus;return i.Editor.hasPath(e,n.path)&&i.Editor.hasPath(e,r.path)}};t.ReactEditor=at;var st=function(e,t){var n=this;this.editor=e,this.restoreDOM=t,this.flush=function(e){try{n.reconcileMutations(e)}catch(t){console.error(t),n.restoreDOM()}},this.reconcileMutations=function(e){var t,r,o,a=function(e,t){var n=[],r=[],o=[],a=[];return t.forEach((function(t){switch(t.type){case"childList":t.addedNodes.length&&t.addedNodes.forEach((function(e){n.push(e)})),t.removedNodes.forEach((function(e){r.push(e)}));break;case"characterData":a.push(t);var s=t.target.parentNode;if(!s)return;var l=nt(e,s);if(!l)return;if(o.some((function(e){var t=e.path;return i.Path.equals(t,l.path)})))return;o.push(l)}})),{addedNodes:n,removedNodes:r,insertedText:o,characterDataMutations:a}}(n.editor,e),s=a.insertedText,l=a.removedNodes;if(function(e,t){var n=e.selection,r=t.removedNodes;return!!n&&i.Range.isExpanded(n)&&r.length>0}(n.editor,a)){var u=function(e){return e.reduce((function(e,t){var n=t.text;return"".concat(e).concat(n.insertText)}),"")}(s);n.replaceExpandedSelection(u)}else!function(e,t){var n=t.addedNodes,r=e.selection,o=r?i.Node.parent(e,r.anchor.path):null,a=o?at.toDOMNode(e,o):null;return!!a&&n.some((function(e){return e instanceof HTMLElement&&e.tagName===(null==a?void 0:a.tagName)}))}(n.editor,a)?(n.editor,r=(t=a).addedNodes,o=t.characterDataMutations,t.removedNodes.length>0&&0===r.length&&o.length>0?n.removeLeafNodes(l):(n.editor,a.removedNodes.length>0?n.deleteBackward():(n.editor,a.insertedText.length>0&&n.insertText(s)))):n.insertBreak()},this.insertText=function(e){var t=n.editor.selection;if(at.isComposing(n.editor)||Z.get(n.editor))return ee.set(n.editor,e),void Z.set(n.editor,!1);e.forEach((function(e){var r=e.text.insertText,o=rt(n.editor,t,e);i.Transforms.setSelection(n.editor,o),i.Editor.insertText(n.editor,r)}))},this.insertBreak=function(){var e=n.editor.selection;i.Editor.insertBreak(n.editor),n.restoreDOM(),e&&setTimeout((function(){n.editor.selection&&i.Range.equals(e,n.editor.selection)&&i.Transforms.move(n.editor)}),100)},this.replaceExpandedSelection=function(e){i.Editor.deleteFragment(n.editor),e.length&&i.Editor.insertText(n.editor,e),n.restoreDOM()},this.deleteBackward=function(){i.Editor.deleteBackward(n.editor),at.focus(n.editor),n.restoreDOM()},this.removeLeafNodes=function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=at.toSlateNode(n.editor,o);if(a){var s=at.findPath(n.editor,a);i.Transforms.delete(n.editor,{at:s}),n.restoreDOM()}}}catch(l){r.e(l)}finally{r.f()}},this.editor=e,this.restoreDOM=t};function lt(e,t,n){var r=y((0,o.useState)((function(){return new MutationObserver(t)})),1)[0];M((function(){r.disconnect()})),(0,o.useEffect)((function(){if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),r.disconnect.bind(r)}))}var ut={childList:!0,characterData:!0,subtree:!0};function ct(e){var t,n=Re(e)?e:e.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n&&V.get(n);return r||(null!==(t=n)&&void 0!==t&&t.parentElement?ct(n.parentElement):null)}function dt(e,t){var n=ve(),r=(0,o.useRef)(new Set);lt(e,(0,o.useCallback)((function(e){t.current&&e.forEach((function(e){var t=ct(e.target);if(t)return r.current.add(t)}))}),[]),ut),r.current.clear();var a=(0,o.useCallback)((function(){var e=Array.from(r.current.values()),t=e.filter((function(t){return!e.some((function(e){return i.Path.isParent(at.findPath(n,e),at.findPath(n,t))}))}));t.forEach((function(e){var t;null===(t=ne.get(e))||void 0===t||t()})),r.current.clear()}),[]);return a}var ft={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function pt(e){var t=ve(),n=function(){var e=ve(),t=(0,o.useRef)(!1),n=(0,o.useRef)(null),r=(0,o.useCallback)((function(){if(!1===t.current){var r=at.getWindow(e);t.current=!0,n.current&&r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame((function(){t.current=!1,n.current=null}))}}),[]);return(0,o.useEffect)((function(){t.current&&(t.current=!1)})),{receivedUserInput:t,onUserInput:r}}(),r=n.receivedUserInput,i=n.onUserInput,a=dt(e,r),s=(0,o.useMemo)((function(){return new st(t,a)}),[a,t]),l=(0,o.useRef)(null),u=(0,o.useRef)(!1);return lt(e,(0,o.useCallback)((function(e){r.current&&(u.current=!0,s.flush(e),l.current&&clearTimeout(l.current),l.current=setTimeout((function(){u.current=!1,l.current=null}),250))}),[]),ft),{isReconciling:u,onUserInput:i}}var ht=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=function(e){var t=e.autoFocus,n=e.decorate,r=void 0===n?$e:n,a=e.onDOMBeforeInput,c=e.placeholder,d=e.readOnly,f=void 0!==d&&d,p=e.renderElement,h=e.renderLeaf,g=e.renderPlaceholder,v=void 0===g?function(e){return o.default.createElement(Ge,Object.assign({},e))}:g,b=e.style,_=void 0===b?{}:b,E=e.as,O=void 0===E?"div":E,S=w(e,ht),T=xe(),C=y((0,o.useState)(!1),2),k=C[0],A=C[1],P=(0,o.useRef)(null),x=pt(P);Y.set(T,f);var I=(0,o.useMemo)((function(){return{isComposing:!1,isUpdatingSelection:!1,latestElement:null}}),[]),R=de(T);M((function(){var e;P.current&&(e=Ie(P.current))?(q.set(T,e),z.set(T,P.current),G.set(T,P.current),V.set(P.current,T)):G.delete(T);try{var t=T.selection,n=at.findDocumentOrShadowRoot(T).getSelection();if(I.isComposing||!n||!at.isFocused(T))return;var r="None"!==n.type;if(!t&&!r)return;var o=z.get(T),a=!1;if(o.contains(n.anchorNode)&&o.contains(n.focusNode)&&(a=!0),r&&a&&t){var s=at.toSlateRange(T,n,{exactMatch:!0,suppressThrow:!0});if(s&&i.Range.equals(s,t))return}if(t&&!at.hasRange(T,t))return void(T.selection=at.toSlateRange(T,n,{exactMatch:!1,suppressThrow:!1}));var l=at.toDOMNode(T,T);I.isUpdatingSelection=!0;var c=t&&at.toDOMRange(T,t);if(c){i.Range.isBackward(t)?n.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):n.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset);var d=c.startContainer.parentElement;d.getBoundingClientRect=c.getBoundingClientRect.bind(c),(0,u.default)(d,{scrollMode:"if-needed",boundary:l}),delete d.getBoundingClientRect}else n.removeAllRanges();setTimeout((function(){I.isUpdatingSelection=!1}))}catch(f){I.isUpdatingSelection=!1}})),(0,o.useEffect)((function(){P.current&&t&&P.current.focus()}),[t]);var D=(0,o.useCallback)((0,l.default)((function(){try{if(!I.isComposing&&!I.isUpdatingSelection&&!x.isReconciling.current){var e=at.findDocumentOrShadowRoot(T),t=e.activeElement,n=at.toDOMNode(T,T),r=e.getSelection();if(t===n?(I.latestElement=t,X.set(T,!0)):X.delete(T),!r)return i.Transforms.deselect(T);var o=r.anchorNode,a=r.focusNode,s=Xe(T,o)||Je(T,o),l=Xe(T,a)||Je(T,a);if(s&&l){var u=at.toSlateRange(T,r,{exactMatch:!1,suppressThrow:!1});i.Transforms.select(T,u)}else i.Transforms.deselect(T)}}catch(c){}}),100),[f]),j=(0,o.useMemo)((function(){return(0,s.default)(D,0)}),[D]),N=(0,o.useCallback)((function(e){f||!Xe(T,e.target)||Qe(e,a)||(j.flush(),x.onUserInput())}),[f,a]);M((function(){var e=P.current;return null==e||e.addEventListener("beforeinput",N),function(){return null==e?void 0:e.removeEventListener("beforeinput",N)}}),[R,a]),M((function(){var e=at.getWindow(T);return e.document.addEventListener("selectionchange",j),function(){e.document.removeEventListener("selectionchange",j)}}),[j]);var L=r([T,[]]);if(c&&1===T.children.length&&1===Array.from(i.Node.texts(T)).length&&""===i.Node.string(T)&&!k){var B,F=i.Editor.start(T,[]);L.push((m(B={},re,!0),m(B,"placeholder",c),m(B,"anchor",F),m(B,"focus",F),B))}return o.default.createElement(ke.Provider,{value:f},o.default.createElement(be.Provider,{value:r},o.default.createElement(O,Object.assign({key:R,role:f?void 0:"textbox"},S,{spellCheck:S.spellCheck,autoCorrect:S.autoCorrect,autoCapitalize:S.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!f||void 0,suppressContentEditableWarning:!0,ref:P,style:gt({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},_),onCopy:(0,o.useCallback)((function(e){Xe(T,e.target)&&!Ze(e,S.onCopy)&&(e.preventDefault(),at.setFragmentData(T,e.clipboardData,"copy"))}),[S.onCopy]),onCut:(0,o.useCallback)((function(e){if(!f&&Xe(T,e.target)&&!Ze(e,S.onCut)){e.preventDefault(),at.setFragmentData(T,e.clipboardData,"cut");var t=T.selection;if(t)if(i.Range.isExpanded(t))i.Editor.deleteFragment(T);else{var n=i.Node.parent(T,t.anchor.path);i.Editor.isVoid(T,n)&&i.Transforms.delete(T)}}}),[f,S.onCut]),onFocus:(0,o.useCallback)((function(e){if(!f&&!I.isUpdatingSelection&&Xe(T,e.target)&&!Ze(e,S.onFocus)){var t=at.findDocumentOrShadowRoot(T);I.latestElement=t.activeElement,X.set(T,!0)}}),[f,S.onFocus]),onBlur:(0,o.useCallback)((function(e){if(!f&&!I.isUpdatingSelection&&Xe(T,e.target)&&!Ze(e,S.onBlur)){var t=at.findDocumentOrShadowRoot(T);if(I.latestElement!==t.activeElement){var n=e.relatedTarget;if(!(n===at.toDOMNode(T,T)||Re(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&De(n)&&at.hasDOMNode(T,n)){var r=at.toSlateNode(T,n);if(i.Element.isElement(r)&&!T.isVoid(r))return}X.delete(T)}}}}),[f,S.onBlur]),onClick:(0,o.useCallback)((function(e){if(!f&&Ye(T,e.target)&&!Ze(e,S.onClick)&&De(e.target)){var t=at.toSlateNode(T,e.target),n=at.findPath(T,t);if(i.Editor.hasPath(T,n))if(i.Node.get(T,n)===t){var r=i.Editor.start(T,n),o=i.Editor.end(T,n),a=i.Editor.void(T,{at:r}),s=i.Editor.void(T,{at:o});if(a&&s&&i.Path.equals(a[1],s[1])){var l=i.Editor.range(T,r);i.Transforms.select(T,l)}}}}),[f,S.onClick]),onCompositionEnd:(0,o.useCallback)((function(e){Xe(T,e.target)&&!Ze(e,S.onCompositionEnd)&&(j.flush(),setTimeout((function(){I.isComposing&&A(!1),I.isComposing=!1,J.set(T,!1),Z.set(T,!0);var e=ee.get(T)||[];if(e.length){ee.set(T,[]);var t=T.selection;e.forEach((function(e){var n=e.text.insertText,r=rt(T,t,e);i.Transforms.setSelection(T,r),i.Editor.insertText(T,n)}))}}),20))}),[S.onCompositionEnd]),onCompositionUpdate:(0,o.useCallback)((function(e){Xe(T,e.target)&&!Ze(e,S.onCompositionUpdate)&&(!I.isComposing&&A(!0),I.isComposing=!0,J.set(T,!0))}),[S.onCompositionUpdate]),onCompositionStart:(0,o.useCallback)((function(e){Xe(T,e.target)&&!Ze(e,S.onCompositionStart)&&(!I.isComposing&&A(!0),I.isComposing=!0,J.set(T,!0))}),[S.onCompositionStart]),onPaste:(0,o.useCallback)((function(e){e.clipboardData=function(e){if(!e.getData("application/x-slate-fragment")){var t=Ue(e);if(t){var n=new DataTransfer;return e.types.forEach((function(t){n.setData(t,e.getData(t))})),n.setData("application/x-slate-fragment",t),n}}return e}(e.clipboardData),!Xe(T,e.target)||Ze(e,S.onPaste)||f||(e.preventDefault(),at.insertData(T,e.clipboardData))}),[f,S.onPaste])}),we({decorations:L,node:T,renderElement:p,renderPlaceholder:v,renderLeaf:h,selection:T.selection}))))};t.AndroidEditable=yt;var vt=(0,o.createContext)(!1);function bt(e){return e instanceof Error}t.useFocused=function(){return(0,o.useContext)(vt)};var _t=(0,o.createContext)({}),wt=function(e,t){return e===t};var Et=["editor","children","onChange","value"];t.Slate=function(e){var t=e.editor,n=e.children,r=e.onChange,a=e.value,s=w(e,Et),l=(0,o.useRef)(!1),u=y(o.default.useState((function(){if(!i.Node.isNodeList(a))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(i.Scrubber.stringify(a)));if(!i.Editor.isEditor(t))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(i.Scrubber.stringify(t)));return t.children=a,Object.assign(t,s),[t]})),2),c=u[0],d=u[1],f=function(e){var t=(0,o.useRef)([]).current,n=(0,o.useRef)({editor:e}).current,r=(0,o.useCallback)((function(e){n.editor=e,t.forEach((function(t){return t(e)}))}),[]);return{selectorContext:(0,o.useMemo)((function(){return{getSlate:function(){return n.editor},addEventListener:function(e){return t.push(e),function(){t.splice(t.indexOf(e),1)}}}}),[t,n]),onChange:r}}(t),p=f.selectorContext,h=f.onChange,m=(0,o.useCallback)((function(){r&&r(t.children),d([t]),h(t)}),[r]);te.set(t,m),(0,o.useEffect)((function(){return function(){te.set(t,(function(){})),l.current=!0}}),[]);var g=y((0,o.useState)(at.isFocused(t)),2),v=g[0],b=g[1];return(0,o.useEffect)((function(){b(at.isFocused(t))})),M((function(){var e=function(){return b(at.isFocused(t))};return E?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),function(){document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),o.default.createElement(_t.Provider,{value:p},o.default.createElement(Pe.Provider,{value:c},o.default.createElement(ye.Provider,{value:t},o.default.createElement(vt.Provider,{value:v},n))))};t.useEditor=function(){var e=(0,o.useContext)(ye);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e};var Ot=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},St=function(e,t,n){var r=at.toDOMRange(e,t).getBoundingClientRect(),o=at.toDOMRange(e,n).getBoundingClientRect();return Ot(r,o)&&Ot(o,r)};t.withReact=function(e){var t=e,n=t.apply,r=t.onChange,o=t.deleteBackward;return K.set(t,new WeakMap),t.deleteBackward=function(n){if("line"!==n)return o(n);if(e.selection&&i.Range.isCollapsed(e.selection)){var r=i.Editor.above(e,{match:function(t){return i.Editor.isBlock(e,t)},at:e.selection});if(r){var a=y(r,2)[1],s=i.Editor.range(e,a,e.selection.anchor),l=function(e,t){var n=i.Editor.range(e,i.Range.end(t)),r=Array.from(i.Editor.positions(e,{at:t})),o=0,a=r.length,s=Math.floor(a/2);if(St(e,i.Editor.range(e,r[o]),n))return i.Editor.range(e,r[o],n);if(r.length<2)return i.Editor.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)St(e,i.Editor.range(e,r[s]),n)?a=s:o=s,s=Math.floor((o+a)/2);return i.Editor.range(e,r[a],n)}(t,s);i.Range.isCollapsed(l)||i.Transforms.delete(e,{at:l})}}},t.apply=function(r){var o=[];switch(r.type){case"insert_text":case"remove_text":case"set_node":case"split_node":o.push.apply(o,h(Tt(t,r.path)));break;case"set_selection":var a;null===(a=Q.get(e))||void 0===a||a.unref(),Q.delete(e);break;case"insert_node":case"remove_node":o.push.apply(o,h(Tt(t,i.Path.parent(r.path))));break;case"merge_node":var s=i.Path.previous(r.path);o.push.apply(o,h(Tt(t,s)));break;case"move_node":var l=i.Path.common(i.Path.parent(r.path),i.Path.parent(r.newPath));o.push.apply(o,h(Tt(t,l)))}n(r);for(var u=0,c=o;u<c.length;u++){var d=y(c[u],2),f=d[0],p=d[1],m=y(i.Editor.node(t,f),1)[0];$.set(m,p)}},t.setFragmentData=function(e){var n=t.selection;if(n){var r=y(i.Range.edges(n),2),o=r[0],a=r[1],s=i.Editor.void(t,{at:o.path}),l=i.Editor.void(t,{at:a.path});if(!i.Range.isCollapsed(n)||s){var u=at.toDOMRange(t,n),c=u.cloneContents(),d=c.childNodes[0];if(c.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(d=e)})),l){var f=y(l,1)[0],p=u.cloneRange(),h=at.toDOMNode(t,f);p.setEndAfter(h),c=p.cloneContents()}if(s&&(d=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Ne(d)){var m=d.ownerDocument.createElement("span");m.style.whiteSpace="pre",m.appendChild(d),c.appendChild(m),d=m}var g=t.getFragment(),v=JSON.stringify(g),b=window.btoa(encodeURIComponent(v));d.setAttribute("data-slate-fragment",b),e.setData("application/x-slate-fragment",b);var _=c.ownerDocument.createElement("div");return _.appendChild(c),_.setAttribute("hidden","true"),c.ownerDocument.body.appendChild(_),e.setData("text/html",_.innerHTML),e.setData("text/plain",Be(_)),c.ownerDocument.body.removeChild(_),e}}},t.insertData=function(e){t.insertFragmentData(e)||t.insertTextData(e)},t.insertFragmentData=function(e){var n=e.getData("application/x-slate-fragment")||Ue(e);if(n){var r=decodeURIComponent(window.atob(n)),o=JSON.parse(r);return t.insertFragment(o),!0}return!1},t.insertTextData=function(e){var n=e.getData("text/plain");if(n){var r,o=!1,a=g(n.split(/\r\n|\r|\n/));try{for(a.s();!(r=a.n()).done;){var s=r.value;o&&i.Transforms.splitNodes(t,{always:!0}),t.insertText(s),o=!0}}catch(l){a.e(l)}finally{a.f()}return!0}return!1},t.onChange=function(){d.default.unstable_batchedUpdates((function(){var e=te.get(t);e&&e(),r()}))},t};var Tt=function(e,t){var n,r=[],o=g(i.Editor.levels(e,{at:t}));try{for(o.s();!(n=o.n()).done;){var a=y(n.value,2),s=a[0],l=a[1],u=at.findKey(e,s);r.push([l,u])}}catch(c){o.e(c)}finally{o.f()}return r},Ct=T?yt:Ve;t.Editable=Ct},(e,t)=>{"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}},(e,t,n)=>{"use strict";e.exports=n(1782)},(e,t)=>{function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[K]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===X}(e)||Array.isArray(e)||!!e[$]||!!e.constructor[$]||d(e)||f(e))}function i(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:J)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[K];return t?t.t>3?t.t-4:t.t:Array.isArray(e)?1:d(e)?2:f(e)?3:0}function s(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===a(e)?e.get(t):e[t]}function u(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return q&&e instanceof Map}function f(e){return z&&e instanceof Set}function p(e){return e.i||e.u}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Z(e);delete t[K];for(var n=J(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),y(e)||r(e)||!o(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&i(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function v(e){var t=Q[e];return t||n(18,e),t}function b(e,t){Q[e]||(Q[e]=t)}function _(){return H}function w(e,t){t&&(v("Patches"),e.o=[],e.v=[],e.s=t)}function E(e){O(e),e.p.forEach(T),e.p=null}function O(e){e===H&&(H=e.l)}function S(e){return H={p:[],l:H,h:e,_:!0,m:0}}function T(e){var t=e[K];0===t.t||1===t.t?t.j():t.O=!0}function C(e,t){t.m=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.S||v("ES5").P(t,e,i),i?(r[K].M&&(E(t),n(4)),o(e)&&(e=k(t,e),t.l||P(t,e)),t.o&&v("Patches").g(r[K].u,e,t.o,t.v)):e=k(t,r,[]),E(t),t.o&&t.s(t.o,t.v),e!==G?e:void 0}function k(e,t,n){if(y(t))return t;var r=t[K];if(!r)return i(t,(function(o,i){return A(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.M)return P(e,r.u,!0),r.u;if(!r.R){r.R=!0,r.A.m--;var o=4===r.t||5===r.t?r.i=h(r.k):r.i;i(3===r.t?new Set(o):o,(function(t,i){return A(e,r,o,t,i,n)})),P(e,o,!1),n&&e.o&&v("Patches").F(r,n,e.o,e.v)}return r.i}function A(e,t,n,i,a,l){if(r(a)){var c=k(e,a,l&&t&&3!==t.t&&!s(t.D,i)?l.concat(i):void 0);if(u(n,i,c),!r(c))return;e._=!1}if(o(a)&&!y(a)){if(!e.h.K&&e.m<1)return;k(e,a),t&&t.A.l||P(e,a)}}function P(e,t,n){void 0===n&&(n=!1),e.h.K&&e._&&m(t,n)}function x(e,t){var n=e[K];return(n?p(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function R(e){e.M||(e.M=!0,e.l&&R(e.l))}function D(e){e.i||(e.i=h(e.u))}function j(e,t,n){var r=d(t)?v("MapSet").$(t,n):f(t)?v("MapSet").C(t,n):e.S?function(e,t){var n=Array.isArray(e),r={t:n?1:0,A:t?t.A:_(),M:!1,R:!1,D:{},l:t,u:e,k:null,i:null,j:null,I:!1},o=r,i=ee;n&&(o=[r],i=te);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):v("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function N(e){return r(e)||n(22,e),function e(t){if(!o(t))return t;var n,r=t[K],s=a(t);if(r){if(!r.M&&(r.t<4||!v("ES5").N(r)))return r.u;r.R=!0,n=L(t,s),r.R=!1}else n=L(t,s);return i(n,(function(t,o){r&&l(r.u,t)===o||u(n,t,e(o))})),3===s?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}function M(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){return ee.get(this[K],e)},set:function(t){ee.set(this[K],e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][K];if(!r.M)switch(r.t){case 5:o(r)&&R(r);break;case 4:n(r)&&R(r)}}}function n(e){for(var t=e.u,n=e.k,r=J(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==K){var a=t[i];if(void 0===a&&!s(t,i))return!0;var l=n[i],u=l&&l[K];if(u?u.u!==a:!c(l,a))return!0}}var d=!!t[K];return r.length!==J(t).length+(d?0:1)}function o(e){var t=e.k;if(t.length!==e.u.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var a={};b("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=Z(n);delete i[K];for(var a=J(i),s=0;s<a.length;s++){var l=a[s];i[l]=e(l,t||!!i[l].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={t:r?5:4,A:n?n.A:_(),M:!1,R:!1,D:{},l:n,u:t,k:o,i:null,O:!1,I:!1};return Object.defineProperty(o,K,{value:i,writable:!0}),o},P:function(e,n,a){a?r(n)&&n[K].A===e&&t(e.p):(e.o&&function e(t){if(t&&"object"==typeof t){var n=t[K];if(n){var r=n.u,a=n.k,l=n.D,u=n.t;if(4===u)i(a,(function(t){t!==K&&(void 0!==r[t]||s(r,t)?l[t]||e(a[t]):(l[t]=!0,R(n)))})),i(r,(function(e){void 0!==a[e]||s(a,e)||(l[e]=!1,R(n))}));else if(5===u){if(o(n)&&(R(n),l.length=!0),a.length<r.length)for(var c=a.length;c<r.length;c++)l[c]=!1;else for(var d=r.length;d<a.length;d++)l[d]=!0;for(var f=Math.min(a.length,r.length),p=0;p<f;p++)a.hasOwnProperty(p)||(l[p]=!0),void 0===l[p]&&e(a[p])}}}}(e.p[0]),t(e.p))},N:function(e){return 4===e.t?n(e):o(e)}})}function B(){function e(t){if(!o(t))return t;if(Array.isArray(t))return t.map(e);if(d(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(f(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return s(t,$)&&(n[$]=t[$]),n}function t(t){return r(t)?e(t):t}var u="add";b("Patches",{W:function(t,r){return r.forEach((function(r){for(var o=r.path,i=r.op,s=t,c=0;c<o.length-1;c++){var d=a(s),f=""+o[c];0!==d&&1!==d||"__proto__"!==f&&"constructor"!==f||n(24),"function"==typeof s&&"prototype"===f&&n(24),"object"!=typeof(s=l(s,f))&&n(15,o.join("/"))}var p=a(s),h=e(r.value),m=o[o.length-1];switch(i){case"replace":switch(p){case 2:return s.set(m,h);case 3:n(16);default:return s[m]=h}case u:switch(p){case 1:return"-"===m?s.push(h):s.splice(m,0,h);case 2:return s.set(m,h);case 3:return s.add(h);default:return s[m]=h}case"remove":switch(p){case 1:return s.splice(m,1);case 2:return s.delete(m);case 3:return s.delete(r.value);default:return delete s[m]}default:n(17,i)}})),t},F:function(e,n,r,o){switch(e.t){case 0:case 4:case 2:return function(e,n,r,o){var a=e.u,c=e.i;i(e.D,(function(e,i){var d=l(a,e),f=l(c,e),p=i?s(a,e)?"replace":u:"remove";if(d!==f||"replace"!==p){var h=n.concat(e);r.push("remove"===p?{op:p,path:h}:{op:p,path:h,value:f}),o.push(p===u?{op:"remove",path:h}:"remove"===p?{op:u,path:h,value:t(d)}:{op:"replace",path:h,value:t(d)})}}))}(e,n,r,o);case 5:case 1:return function(e,n,r,o){var i=e.u,a=e.D,s=e.i;if(s.length<i.length){var l=[s,i];i=l[0],s=l[1];var c=[o,r];r=c[0],o=c[1]}for(var d=0;d<i.length;d++)if(a[d]&&s[d]!==i[d]){var f=n.concat([d]);r.push({op:"replace",path:f,value:t(s[d])}),o.push({op:"replace",path:f,value:t(i[d])})}for(var p=i.length;p<s.length;p++){var h=n.concat([p]);r.push({op:u,path:h,value:t(s[p])})}i.length<s.length&&o.push({op:"replace",path:n.concat(["length"]),value:i.length})}(e,n,r,o);case 3:return function(e,t,n,r){var o=e.u,i=e.i,a=0;o.forEach((function(e){if(!i.has(e)){var o=t.concat([a]);n.push({op:"remove",path:o,value:e}),r.unshift({op:u,path:o,value:e})}a++})),a=0,i.forEach((function(e){if(!o.has(e)){var i=t.concat([a]);n.push({op:u,path:i,value:e}),r.unshift({op:"remove",path:i,value:e})}a++}))}(e,n,r,o)}},g:function(e,t,n,r){n.push({op:"replace",path:[],value:t===G?void 0:t}),r.push({op:"replace",path:[],value:e})}})}function F(){function e(e,t){function n(){this.constructor=e}s(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.i||(e.D=new Map,e.i=new Map(e.u))}function r(e){e.i||(e.i=new Set,e.u.forEach((function(t){if(o(t)){var n=j(e.A.h,t,e);e.p.set(t,n),e.i.add(n)}else e.i.add(t)})))}function a(e){e.O&&n(3,JSON.stringify(p(e)))}var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},l=function(){function n(e,t){return this[K]={t:2,l:t,A:t?t.A:_(),M:!1,R:!1,i:void 0,D:void 0,u:e,k:this,I:!1,O:!1},this}e(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return p(this[K]).size}}),r.has=function(e){return p(this[K]).has(e)},r.set=function(e,n){var r=this[K];return a(r),p(r).has(e)&&p(r).get(e)===n||(t(r),R(r),r.D.set(e,!0),r.i.set(e,n),r.D.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var n=this[K];return a(n),t(n),R(n),n.u.has(e)?n.D.set(e,!1):n.D.delete(e),n.i.delete(e),!0},r.clear=function(){var e=this[K];a(e),p(e).size&&(t(e),R(e),e.D=new Map,i(e.u,(function(t){e.D.set(t,!1)})),e.i.clear())},r.forEach=function(e,t){var n=this;p(this[K]).forEach((function(r,o){e.call(t,n.get(o),o,n)}))},r.get=function(e){var n=this[K];a(n);var r=p(n).get(e);if(n.R||!o(r))return r;if(r!==n.u.get(e))return r;var i=j(n.A.h,r,n);return t(n),n.i.set(e,i),i},r.keys=function(){return p(this[K]).keys()},r.values=function(){var e,t=this,n=this.keys();return(e={})[Y]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,n=this.keys();return(e={})[Y]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},r[Y]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[K]={t:3,l:t,A:t?t.A:_(),M:!1,R:!1,i:void 0,u:e,k:this,p:new Map,O:!1,I:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return p(this[K]).size}}),n.has=function(e){var t=this[K];return a(t),t.i?!!t.i.has(e)||!(!t.p.has(e)||!t.i.has(t.p.get(e))):t.u.has(e)},n.add=function(e){var t=this[K];return a(t),this.has(e)||(r(t),R(t),t.i.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[K];return a(t),r(t),R(t),t.i.delete(e)||!!t.p.has(e)&&t.i.delete(t.p.get(e))},n.clear=function(){var e=this[K];a(e),p(e).size&&(r(e),R(e),e.i.clear())},n.values=function(){var e=this[K];return a(e),r(e),e.i.values()},n.entries=function(){var e=this[K];return a(e),r(e),e.i.entries()},n.keys=function(){return this.values()},n[Y]=function(){return this.values()},n.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();b("MapSet",{$:function(e,t){return new l(e,t)},C:function(e,t){return new u(e,t)}})}var U;Object.defineProperty(t,"__esModule",{value:!0});var H,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),q="undefined"!=typeof Map,z="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=W?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),$=W?Symbol.for("immer-draftable"):"__$immer_draftable",K=W?Symbol.for("immer-state"):"__$immer_state",Y="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",X=""+Object.prototype.constructor,J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Z=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},ee={get:function(e,t){if(t===K)return e;var n=p(e);if(!s(n,t))return function(e,t,n){var r,o=I(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.R||!o(r)?r:r===x(e.u,t)?(D(e),e.i[t]=j(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=I(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.M){var o=x(p(e),t),i=null==o?void 0:o[K];if(i&&i.u===n)return e.i[t]=n,e.D[t]=!1,!0;if(c(n,o)&&(void 0!==n||s(e.u,t)))return!0;D(e),R(e)}return e.i[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.i)||(e.i[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==x(e.u,t)||t in e.u?(e.D[t]=!1,D(e),R(e)):delete e.D[t],e.i&&delete e.i[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.t||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.u)},setPrototypeOf:function(){n(12)}},te={};i(ee,(function(e,t){te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)},te.set=function(e,t,n){return ee.set.call(this,e[0],t,n,e[0])};var ne=function(){function e(e){var t=this;this.S=V,this.K=!0,this.produce=function(e,r,i){if("function"==typeof e&&"function"!=typeof r){var a=r;r=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return s.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var l;if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),o(e)){var u=S(t),c=j(t,e,void 0),d=!0;try{l=r(c),d=!1}finally{d?E(u):O(u)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return w(u,i),C(e,u)}),(function(e){throw E(u),e})):(w(u,i),C(l,u))}if(!e||"object"!=typeof e){if(void 0===(l=r(e))&&(l=e),l===G&&(l=void 0),t.K&&m(l,!0),i){var f=[],p=[];v("Patches").g(e,l,f,p),i(f,p)}return l}n(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),r(e)&&(e=N(e));var t=S(this),i=j(this,e,void 0);return i[K].I=!0,O(t),i},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return w(n,t),C(void 0,n)},t.setAutoFreeze=function(e){this.K=e},t.setUseProxies=function(e){e&&!V&&n(20),this.S=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}n>-1&&(t=t.slice(n+1));var i=v("Patches").W;return r(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),re=new ne,oe=re.produce,ie=re.produceWithPatches.bind(re),ae=re.setAutoFreeze.bind(re),se=re.setUseProxies.bind(re),le=re.applyPatches.bind(re),ue=re.createDraft.bind(re),ce=re.finishDraft.bind(re);t.Immer=ne,t.applyPatches=le,t.castDraft=function(e){return e},t.castImmutable=function(e){return e},t.createDraft=ue,t.current=N,t.default=oe,t.enableAllPlugins=function(){M(),F(),B()},t.enableES5=M,t.enableMapSet=F,t.enablePatches=B,t.finishDraft=ce,t.freeze=m,t.immerable=$,t.isDraft=r,t.isDraftable=o,t.nothing=G,t.original=function(e){return r(e)||n(23,e),e[K].u},t.produce=oe,t.produceWithPatches=ie,t.setAutoFreeze=ae,t.setUseProxies=se},(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function o(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function i(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return o(n.overflowY,t)||o(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}function s(e,t){var n=window,o=t.scrollMode,s=t.block,l=t.inline,u=t.boundary,c=t.skipOverflowHiddenElements,d="function"==typeof u?u:function(e){return e!==u};if(!r(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,p=[],h=e;r(h)&&d(h);){if((h=h.parentElement)===f){p.push(h);break}null!=h&&h===document.body&&i(h)&&!i(document.documentElement)||null!=h&&i(h,c)&&p.push(h)}for(var m=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),_=b.height,w=b.width,E=b.top,O=b.right,S=b.bottom,T=b.left,C="start"===s||"nearest"===s?E:"end"===s?S:E+_/2,k="center"===l?T+w/2:"end"===l?O:T,A=[],P=0;P<p.length;P++){var x=p[P],I=x.getBoundingClientRect(),R=I.height,D=I.width,j=I.top,N=I.right,L=I.bottom,M=I.left;if("if-needed"===o&&E>=0&&T>=0&&S<=g&&O<=m&&E>=j&&S<=L&&T>=M&&O<=N)return A;var B=getComputedStyle(x),F=parseInt(B.borderLeftWidth,10),U=parseInt(B.borderTopWidth,10),H=parseInt(B.borderRightWidth,10),W=parseInt(B.borderBottomWidth,10),q=0,z=0,V="offsetWidth"in x?x.offsetWidth-x.clientWidth-F-H:0,G="offsetHeight"in x?x.offsetHeight-x.clientHeight-U-W:0;if(f===x)q="start"===s?C:"end"===s?C-g:"nearest"===s?a(v,v+g,g,U,W,v+C,v+C+_,_):C-g/2,z="start"===l?k:"center"===l?k-m/2:"end"===l?k-m:a(y,y+m,m,F,H,y+k,y+k+w,w),q=Math.max(0,q+v),z=Math.max(0,z+y);else{q="start"===s?C-j-U:"end"===s?C-L+W+G:"nearest"===s?a(j,L,R,U,W+G,C,C+_,_):C-(j+R/2)+G/2,z="start"===l?k-M-F:"center"===l?k-(M+D/2)+V/2:"end"===l?k-N+H+V:a(M,N,D,F,H+V,k,k+w,w);var $=x.scrollLeft,K=x.scrollTop;C+=K-(q=Math.max(0,Math.min(K+q,x.scrollHeight-R+G))),k+=$-(z=Math.max(0,Math.min($+z,x.scrollWidth-D+V)))}A.push({el:x,top:q,left:z})}return A}function l(e){return e===Object(e)&&0!==Object.keys(e).length}n.r(t),n.d(t,{default:()=>u});const u=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(n?s(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(s(e,r),r.behavior)}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function s(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return l(e,t)})),o=function(e){return r.some((function(t){return u(t,e)}))};return null==n?o:o(n)}function l(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var s in r)o[r[s]]=!1;var l=!0,u=!1,f=void 0;try{for(var p,h=i[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var m=p.value,g=m.endsWith("?")&&m.length>1;g&&(m=m.slice(0,-1));var y=d(m),v=r[y];1!==a&&v||(n?o.key=y:o.which=c(m)),v&&(o[v]=!g||null)}}catch(b){u=!0,f=b}finally{try{!l&&h.return&&h.return()}finally{if(u)throw f}}return o}function u(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function c(e){return e=d(e),i[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=o[e]||e}t.default=s,t.isHotkey=s,t.isCodeHotkey=function(e,t){return s(e,t)},t.isKeyHotkey=function(e,t){return s(e,{byKey:!0},t)},t.parseHotkey=l,t.compareHotkey=u,t.toKeyCode=c,t.toKeyName=d},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1700),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=o&&(s||+o[1]<57)||a&&s,c=0;c<10;c++)n[48+c]=n[96+c]=String(c);for(c=1;c<=24;c++)n[c+111]="F"+c;for(c=65;c<=90;c++)n[c]=String.fromCharCode(c+32),r[c]=String.fromCharCode(c);for(var d in n)r.hasOwnProperty(d)||(r[d]=n[d]);t.base=n,t.keyName=function(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(i||l)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t},t.shift=r},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedCommitDialog=void 0;var o=m(n(1)),i=m(n(2)),a=m(n(596)),s=m(n(20)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(815)),u=n(27),c=m(n(53)),d=m(n(1575)),f=n(1264),p=n(1355);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _(v(t=e.call.apply(e,[this].concat(r))||this),"state",{filesToBackpack:[],existingBackpackFiles:[],commitNotes:"",backpackSaveInProgress:!1,hasBackpackLoadError:!1,hasBackpackSaveError:!1,compileStatus:p.CompileStatus.NONE}),_(v(t),"renderFooter",(function(){var e=t.state,n=e.backpackSaveInProgress,r=e.commitNotes,i=e.hasBackpackLoadError,s=e.hasBackpackSaveError,u=e.filesToBackpack,c=t.props,d=c.isCommitSaveInProgress,f=c.hasCommitSaveError,p="",h="",m="",g=a.default.commit(),y=n||d,v=s||f||i,b=!r||y||i;return u.length>0&&(g=a.default.commitAndSave()),y?(p=o.default.createElement("span",{className:"fa fa-spin fa-spinner",style:E.spinner}),h=a.default.saving()):v&&(p=o.default.createElement("span",{className:"fa fa-exclamation-circle",style:E.iconError}),h=a.default.backpackErrorTitle(),m=i?a.default.backpackListLoadErrorMessageCommitDialog():a.default.backpackSaveErrorMessage()),[o.default.createElement("div",{key:"footer-status",style:E.footerStatus},o.default.createElement("div",{style:E.footerIcon},p),o.default.createElement("div",{style:E.footerMessage},o.default.createElement("div",{style:E.footerMessageTitle},h),o.default.createElement("div",{style:E.footerMessageText},m))),o.default.createElement("div",{key:"buttons"},o.default.createElement(l.FooterButton,{key:"cancel",type:"cancel",text:a.default.cancel(),disabled:y,onClick:t.clearSaveStateAndClose}),o.default.createElement(l.FooterButton,{id:"confirmationButton",key:"confirm",text:g,disabled:b,color:"green",onClick:t.commitAndSaveToBackpack}))]})),_(v(t),"commitAndSaveToBackpack",(function(){t.saveCommit(),t.props.backpackEnabled&&t.saveToBackpack()})),_(v(t),"getConflictingBackpackFiles",(function(){return c.default.intersection(t.state.filesToBackpack,t.state.existingBackpackFiles)})),_(v(t),"saveCommit",(function(){t.props.setCommitSaveStatus({isCommitSaveInProgress:!0,hasCommitSaveError:!1}),t.props.handleCommit(t.state.commitNotes,t.handleCommitSaveSuccess)})),_(v(t),"saveToBackpack",(function(){t.setState({hasBackpackSaveError:!1,backpackSaveInProgress:!0}),t.props.backpackApi.saveFiles(t.props.sources,t.state.filesToBackpack,t.handleBackpackSaveError,t.handleBackpackSaveSuccess)})),_(v(t),"handleBackpackSaveError",(function(){t.setState({hasBackpackSaveError:!0,backpackSaveInProgress:!1})})),_(v(t),"handleBackpackSaveSuccess",(function(){var e=!t.props.isCommitSaveInProgress&&!t.props.hasCommitSaveError;t.setState({hasBackpackSaveError:!1,backpackSaveInProgress:!1,filesToBackpack:[]}),t.updateBackpackFileList(),e&&t.props.handleClose()})),_(v(t),"handleBackpackLoadError",(function(){return t.setState({hasBackpackLoadError:!0})})),_(v(t),"handleCommitSaveError",(function(){t.props.setCommitSaveStatus({isCommitSaveInProgress:!1,hasCommitSaveError:!0})})),_(v(t),"handleCommitSaveSuccess",(function(){var e=!t.state.backpackSaveInProgress&&!t.state.hasBackpackSaveError;t.setState({commitNotes:""}),t.props.setCommitSaveStatus({isCommitSaveInProgress:!1,hasCommitSaveError:!1}),e&&t.props.handleClose()})),_(v(t),"clearSaveStateAndClose",(function(){t.setState({hasBackpackSaveError:!1,hasBackpackLoadError:!1,backpackSaveInProgress:!1}),t.props.setCommitSaveStatus({isCommitSaveInProgress:!1,hasCommitSaveError:!1}),t.props.handleClose()})),_(v(t),"toggleFileToBackpack",(function(e){var n=g(t.state.filesToBackpack),r=n.indexOf(e);-1===r?n.push(e):n.splice(r,1),t.setState({filesToBackpack:n})})),_(v(t),"updateNotes",(function(e){t.setState({commitNotes:e})})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var i=r.prototype;return i.componentDidMount=function(){this.props.backpackEnabled&&this.updateBackpackFileList()},i.componentDidUpdate=function(e){this.props.isOpen&&!e.isOpen&&(this.compileCode(),this.props.backpackEnabled&&this.updateBackpackFileList())},i.compileCode=function(){var e=this;this.setState({compileStatus:p.CompileStatus.LOADING}),setTimeout((function(){e.setState({compileStatus:p.CompileStatus.SUCCESS})}),500)},i.updateBackpackFileList=function(){var e=this;this.props.backpackEnabled&&this.props.backpackApi.hasBackpack()&&this.props.backpackApi.getFileList((function(){return e.setState({hasBackpackLoadError:!0})}),(function(t){return e.setState({existingBackpackFiles:t})}))},i.render=function(){var e=this,t=this.state,n=t.commitNotes,r=t.filesToBackpack,i=this.props,s=i.isOpen,u=i.files;return o.default.createElement(l.default,{isOpen:s,title:a.default.commitCode(),confirmationButtonText:a.default.commit(),body:o.default.createElement(d.default,{files:u.map((function(t){return{name:t,commit:r.includes(t),hasConflictingName:e.getConflictingBackpackFiles().includes(t)}})),notes:n,onToggleFile:this.toggleFileToBackpack,onChangeNotes:this.updateNotes,showSaveToBackpackSection:this.props.backpackEnabled}),renderFooter:this.renderFooter,handleClose:this.clearSaveStateAndClose,footerJustification:"space-between"})},r}(o.default.Component);t.UnconnectedCommitDialog=w,w.propTypes={isOpen:i.default.bool.isRequired,files:i.default.arrayOf(i.default.string).isRequired,handleClose:i.default.func.isRequired,handleCommit:i.default.func.isRequired,sources:i.default.object,backpackApi:i.default.object,backpackEnabled:i.default.bool,isCommitSaveInProgress:i.default.bool,hasCommitSaveError:i.default.bool,setCommitSaveStatus:i.default.func};var E={footerStatus:{display:"flex",alignItems:"center"},iconSuccess:{color:s.default.level_perfect,marginRight:5},iconError:{color:s.default.light_orange,fontSize:32},footerMessageTitle:{fontFamily:'"Gotham 5r", sans-serif',fontSize:14},footerMessageText:{fontStyle:"italic",fontSize:12},footerMessage:{color:s.default.dark_charcoal},spinner:{color:s.default.dark_charcoal,fontSize:28},footerIcon:{paddingRight:8}},O=(0,u.connect)((function(e){return{sources:e.javalab.sources,backpackApi:e.javalab.backpackApi,backpackEnabled:e.javalab.backpackEnabled,isCommitSaveInProgress:e.javalab.isCommitSaveInProgress,hasCommitSaveError:e.javalab.hasCommitSaveError}}),(function(e){return{setCommitSaveStatus:function(t){var n=t.isCommitSaveInProgress,r=t.hasCommitSaveError;return e((0,f.setCommitSaveStatus)(n,r))}}}))(w);t.default=O},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedInstructionsCsfLeftCol=void 0;var r=p(n(32)),o=p(n(1)),i=p(n(36)),a=p(n(2)),s=p(n(9)),l=n(27),u=p(n(1524)),c=p(n(1525)),d=n(594),f=p(n(755));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v(g(t=e.call.apply(e,[this].concat(r))||this),"handleClickLightbulb",(function(){t.props.hasAuthoredHints&&t.props.hasUnseenHint&&t.props.requestHint()})),v(g(t),"getColumnWidth",(function(){return(t.getAvatar()?60:10)+(t.props.hasAuthoredHints?30:0)})),v(g(t),"getColumnHeight",(function(){return(0,d.getOuterHeight)(t.leftCol,!0)})),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var l=a.prototype;return l.componentDidMount=function(){var e=this;this.updateDimensions(),(0,r.default)(i.default.findDOMNode(this.icon)).load((function(){e.updateDimensions()}))},l.componentDidUpdate=function(){this.updateDimensions()},l.updateDimensions=function(){this.props.setColWidth(this.getColumnWidth()),this.props.setColHeight(this.getColumnHeight())},l.getAvatar=function(){return this.props.feedback&&this.props.feedback.isFailure?this.props.failureAvatar:this.props.smallStaticAvatar},l.render=function(){var e=this,t=this.props.hasAuthoredHints;return o.default.createElement("div",{ref:function(t){e.leftCol=t},style:m(m({},f.default.bubble),!t&&_.noAuthoredHints)},o.default.createElement("div",{className:(0,s.default)("prompt-icon-cell",{authored_hints:t}),onClick:this.handleClickLightbulb},t&&o.default.createElement(c.default,null),this.getAvatar()&&o.default.createElement(u.default,{src:this.getAvatar(),ref:function(t){e.icon=t}})))},a}(o.default.Component);v(b,"propTypes",{requestHint:a.default.func.isRequired,setColWidth:a.default.func.isRequired,setColHeight:a.default.func.isRequired,hasUnseenHint:a.default.bool.isRequired,hasAuthoredHints:a.default.bool.isRequired,smallStaticAvatar:a.default.string,failureAvatar:a.default.string,feedback:a.default.shape({message:a.default.string.isRequired,isFailure:a.default.bool})});var _={noAuthoredHints:{cursor:"default"}},w=b;t.UnconnectedInstructionsCsfLeftCol=w;var E=(0,l.connect)((function(e){return{hasUnseenHint:e.authoredHints.unseenHints.length>0,hasAuthoredHints:e.instructions.hasAuthoredHints,smallStaticAvatar:e.pageConstants.smallStaticAvatar,failureAvatar:e.pageConstants.failureAvatar,feedback:e.instructions.feedback}}),null,null,{withRef:!0})(b);t.default=E},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedInstructionsCsfRightCol=void 0;var r=f(n(32)),o=f(n(1)),i=f(n(36)),a=f(n(2)),s=n(27),l=f(n(1526)),u=f(n(1527)),c=f(n(452)),d=n(594);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=c.default["workspace-headers-height"],v=c.default["resize-bar-width"],b=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var s=a.prototype;return s.componentDidMount=function(){this.updateDimensions()},s.componentDidUpdate=function(e){var t=this.props,n=t.height,r=t.collapsed;e.height===n&&e.collapsed===r||this.updateDimensions()},s.updateDimensions=function(){this.props.setColWidth(this.getColumnWidth()),this.props.setColHeight(this.getColumnHeight())},s.shouldDisplayCollapserButton=function(){return this.props.hints.length||this.props.shouldDisplayHintPrompt()||this.props.feedback||this.props.hasShortAndLongInstructions},s.getColumnWidth=function(){return this.shouldDisplayCollapserButton()?(0,r.default)(i.default.findDOMNode(this.collapser)).outerWidth(!0):this.props.collapsed?10:this.props.isMinecraft?100:80},s.getColumnHeight=function(){return this.collapser?(0,d.getOuterHeight)(this.collapser,!0)+20:0},s.render=function(){var e=this,t=this.shouldDisplayCollapserButton(),n=this.props.isMinecraft?_.craftStyles.scrollButtonsBelowCollapser:_.scrollButtonsBelowCollapser,r=this.props.height-y-v-(t?n.top:10);return o.default.createElement("div",null,t&&o.default.createElement(l.default,{ref:function(t){e.collapser=t},style:h(h({},_.collapserButton),this.props.isMinecraft&&_.craftStyles.collapserButton),collapsed:this.props.collapsed,onClick:this.props.handleClickCollapser,isMinecraft:this.props.isMinecraft,isRtl:this.props.isRtl}),this.props.displayScrollButtons&&o.default.createElement(u.default,{style:h(h(h({},_.scrollButtons),this.props.isMinecraft&&(this.props.isRtl?_.craftStyles.scrollButtonsRtl:_.craftStyles.scrollButtons)),t&&n),ref:function(t){e.scrollButtons=t},getScrollTarget:this.props.getScrollTarget,visible:!0,height:r,isMinecraft:this.props.isMinecraft}))},a}(o.default.Component);g(b,"propTypes",{shouldDisplayHintPrompt:a.default.func.isRequired,promptForHint:a.default.bool.isRequired,displayScrollButtons:a.default.bool.isRequired,getScrollTarget:a.default.func.isRequired,handleClickCollapser:a.default.func.isRequired,setColWidth:a.default.func.isRequired,setColHeight:a.default.func.isRequired,hasShortAndLongInstructions:a.default.bool.isRequired,collapsed:a.default.bool.isRequired,hints:a.default.arrayOf(a.default.shape({hintId:a.default.string.isRequired,markdown:a.default.string.isRequired,block:a.default.object,video:a.default.string})).isRequired,feedback:a.default.shape({message:a.default.string.isRequired,isFailure:a.default.bool}),height:a.default.number.isRequired,isMinecraft:a.default.bool.isRequired,isRtl:a.default.bool.isRequired});var _={collapserButton:{position:"absolute",right:0,marginTop:9,marginRight:5},scrollButtons:{margin:"10px 0px 5px 0px",minWidth:"40px",position:"relative"},scrollButtonsBelowCollapser:{position:"relative",top:50,margin:"0px"},craftStyles:{collapserButton:{padding:5,marginBottom:0},scrollButtons:{left:0},scrollButtonsRtl:{right:0},scrollButtonsBelowCollapser:{position:"relative",top:60,margin:"0px"}}},w=b;t.UnconnectedInstructionsCsfRightCol=w;var E=(0,s.connect)((function(e){return{collapsed:e.instructions.isCollapsed,hints:e.authoredHints.seenHints,feedback:e.instructions.feedback,height:e.instructions.renderedHeight,isMinecraft:!!e.pageConstants.isMinecraft,isRtl:e.isRtl}}),null,null,{withRef:!0})(b);t.default=E},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedInstructionsCsfMiddleCol=void 0;var r=y(n(1)),o=y(n(36)),i=y(n(2)),a=n(27),s=y(n(1528)),l=y(n(1530)),u=y(n(1791)),c=y(n(1069)),d=y(n(784)),f=y(n(13)),p=y(n(165)),h=n(594),m=y(n(20)),g=y(n(854));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=n(643),S=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(_(t=e.call.apply(e,[this].concat(r))||this),"showHint",(function(){t.props.dismissHintPrompt(),t.props.showNextHint(),t.props.clearFeedback()})),E(_(t),"closeOverlay",(function(){t.props.hideOverlay(),t.props.setInstructionsRenderedHeight(t.props.getMinInstructionsHeight()),t.props.adjustMaxNeededHeight()})),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n);var a=i.prototype;return a.componentDidUpdate=function(e){var t=e.hints.length!==this.props.hints.length;t&&this.handleHintOnLoad(),(this.props.feedback||this.props.promptForHint||t)&&this.scrollInstructionsToBottom()},a.handleHintOnLoad=function(){for(var e,t=o.default.findDOMNode(this.instructions).getElementsByTagName("img"),n=0;e=t[n];n++)e.onload=e.onload||this.scrollInstructionsToBottom.bind(this)},a.scrollInstructionsToBottom=function(){var e=this.instructions,t=e.parentElement;if(e.children.length>1){var n=e.children[e.children.length-1];(0,h.scrollTo)(t,n.offsetTop-10)}else scrollBy(t,t.scrollHeight)},a.shouldDisplayShortInstructions=function(){return this.props.hasShortAndLongInstructions&&this.props.collapsed||!this.props.longInstructions},a.render=function(){var e=this,t=this.shouldDisplayShortInstructions()?this.props.shortInstructions:this.props.longInstructions,n=this.shouldDisplayShortInstructions()?this.props.ttsShortInstructionsUrl:this.props.ttsLongInstructionsUrl,o=(0,h.shouldDisplayChatTips)(this.props.skinId)?this.props.isRtl?T.instructionsWithTipsRtl:T.instructionsWithTips:{};return r.default.createElement("div",{ref:function(t){e.instructions=t},className:"csf-top-instructions",style:b(b({},T.instructions),o)},r.default.createElement(c.default,{ttsUrl:n,textToSpeechEnabled:this.props.textToSpeechEnabled,isMinecraft:this.props.isMinecraft,skinId:this.props.skinId},r.default.createElement(g.default,{ref:function(t){e.instructions=t},instructions:t,onResize:this.props.adjustMaxNeededHeight,inputOutputTable:this.props.collapsed?void 0:this.props.inputOutputTable,imgURL:this.props.aniGifURL,inTopPane:!0,isBlockly:this.props.isBlockly,noInstructionsWhenCollapsed:!1}),this.props.shortInstructions2&&r.default.createElement("div",{className:"secondary-instructions"},r.default.createElement(p.default,{markdown:this.props.shortInstructions2})),this.props.overlayVisible&&r.default.createElement("div",null,r.default.createElement("hr",null),r.default.createElement(d.default,{type:"primary",onClick:this.closeOverlay},f.default.dialogOK()))),!this.props.collapsed&&this.props.hints&&this.props.hints.map((function(t){return r.default.createElement(u.default,{key:t.hintId,borderColor:m.default.yellow,markdown:t.markdown,ttsUrl:t.ttsUrl,ttsMessage:t.ttsMessage,block:t.block,video:t.hintVideo,isRtl:e.props.isRtl})})),this.props.feedback&&!this.props.collapsed&&r.default.createElement(l.default,{key:this.props.feedback.message,borderColor:this.props.isMinecraft?m.default.white:m.default.charcoal,message:this.props.feedback.message,isMinecraft:this.props.isMinecraft,skinId:this.props.skinId,textToSpeechEnabled:this.props.textToSpeechEnabled}),this.props.shouldDisplayHintPrompt()&&r.default.createElement(s.default,{borderColor:m.default.yellow,onConfirm:this.showHint,onDismiss:this.props.dismissHintPrompt,isMinecraft:this.props.isMinecraft,skinId:this.props.skinId,textToSpeechEnabled:this.props.textToSpeechEnabled}))},i}(r.default.Component);E(S,"propTypes",{dismissHintPrompt:i.default.func.isRequired,shouldDisplayHintPrompt:i.default.func.isRequired,adjustMaxNeededHeight:i.default.func.isRequired,promptForHint:i.default.bool.isRequired,getMinInstructionsHeight:i.default.func.isRequired,hasShortAndLongInstructions:i.default.bool.isRequired,overlayVisible:i.default.bool,skinId:i.default.string,isMinecraft:i.default.bool.isRequired,isBlockly:i.default.bool.isRequired,aniGifURL:i.default.string,inputOutputTable:i.default.arrayOf(i.default.arrayOf(i.default.number)),isRtl:i.default.bool.isRequired,feedback:i.default.shape({message:i.default.string.isRequired,isFailure:i.default.bool}),collapsed:i.default.bool.isRequired,hints:i.default.arrayOf(i.default.shape({hintId:i.default.string.isRequired,markdown:i.default.string.isRequired,block:i.default.object,video:i.default.string})).isRequired,showNextHint:i.default.func.isRequired,ttsShortInstructionsUrl:i.default.string,ttsLongInstructionsUrl:i.default.string,textToSpeechEnabled:i.default.bool,shortInstructions:i.default.string,shortInstructions2:i.default.string,longInstructions:i.default.string,clearFeedback:i.default.func.isRequired,hideOverlay:i.default.func.isRequired,setInstructionsRenderedHeight:i.default.func.isRequired});var T={instructions:{padding:"5px 0",minWidth:40},instructionsWithTips:{width:"calc(100% - 20px)",float:"right"},instructionsWithTipsRtl:{width:"calc(100% - 20px)",float:"left"}},C=S;t.UnconnectedInstructionsCsfMiddleCol=C;var k=(0,a.connect)((function(e){return{overlayVisible:e.instructions.overlayVisible,skinId:e.pageConstants.skinId,isMinecraft:!!e.pageConstants.isMinecraft,isBlockly:!!e.pageConstants.isBlockly,aniGifURL:e.pageConstants.aniGifURL,inputOutputTable:e.pageConstants.inputOutputTable,isRtl:e.isRtl,feedback:e.instructions.feedback,collapsed:e.instructions.isCollapsed,hints:e.authoredHints.seenHints,showNextHint:e.pageConstants.showNextHint,ttsShortInstructionsUrl:e.pageConstants.ttsShortInstructionsUrl,ttsLongInstructionsUrl:e.pageConstants.ttsLongInstructionsUrl,textToSpeechEnabled:e.pageConstants.textToSpeechEnabled||e.pageConstants.isK1,shortInstructions:e.instructions.shortInstructions,shortInstructions2:e.instructions.shortInstructions2,longInstructions:e.instructions.longInstructions}}),(function(e){return{hideOverlay:function(){e(O.hideOverlay())},setInstructionsRenderedHeight:function(t){e(O.setInstructionsRenderedHeight(t))},clearFeedback:function(){e(O.setFeedback(null))}}}),null,{withRef:!0})(S);t.default=k},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatelessInlineHint=void 0;var r=m(n(1)),o=m(n(36)),i=m(n(2)),a=m(n(103)),s=m(n(1531)),l=m(n(1069)),u=m(n(131)),c=n(27),d=n(594),f=m(n(1372)),p=n(1417),h=m(n(165));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v(g(t=e.call.apply(e,[this].concat(r))||this),"onVideoClick",(function(){u.default.putRecord({study:"hint-videos",event:"click",data_string:t.props.video.key},{includeUserId:!0})})),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var a=i.prototype;return a.componentDidMount=function(){this.props.isBlockly&&(0,d.convertXmlToBlockly)(o.default.findDOMNode(this),this.props.isRtl)},a.render=function(){return r.default.createElement(l.default,{borderColor:this.props.borderColor,textToSpeechEnabled:this.props.textToSpeechEnabled,ttsUrl:this.props.ttsUrl,ttsMessage:this.props.ttsMessage,isMinecraft:this.props.isMinecraft,skinId:this.props.skinId},r.default.createElement(h.default,{markdown:this.props.markdown}),this.props.block&&r.default.createElement(s.default,{block:this.props.block,isRtl:this.props.isRtl}),this.props.video&&r.default.createElement(f.default,{onClick:this.onVideoClick,video:this.props.video}))},i}(r.default.Component);v(b,"propTypes",{block:i.default.object,borderColor:i.default.string,markdown:i.default.string.isRequired,video:p.videoDataShape,ttsUrl:i.default.string,ttsMessage:i.default.string,ttsEnabled:i.default.bool,textToSpeechEnabled:i.default.bool,isBlockly:i.default.bool,isMinecraft:i.default.bool,isRtl:i.default.bool,skinId:i.default.string});var _=(0,a.default)(b);t.StatelessInlineHint=_;var w=(0,c.connect)((function(e){return{isBlockly:e.pageConstants.isBlockly,isMinecraft:e.pageConstants.isMinecraft,skinId:e.pageConstants.skinId,textToSpeechEnabled:e.pageConstants.textToSpeechEnabled||e.pageConstants.isK1}}))((0,a.default)(b));t.default=w},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRubric=function(e){return o.default.ajax({url:"/levels/".concat(e,"/get_rubric"),method:"GET",contentType:"application/json;charset=UTF-8"})},t.getTeacherFeedbackForStudent=function(e,t,n){return o.default.ajax({url:"/api/v1/teacher_feedbacks/get_feedbacks?student_id=".concat(e,"&level_id=").concat(t,"&script_id=").concat(n),method:"GET",contentType:"application/json;charset=UTF-8"})},t.getTeacherFeedbackForTeacher=function(e,t,n,r){return o.default.ajax({url:"/api/v1/teacher_feedbacks/get_feedback_from_teacher?student_id=".concat(e,"&level_id=").concat(t,"&teacher_id=").concat(n,"&script_id=").concat(r),method:"GET",contentType:"application/json;charset=UTF-8"})},t.incrementVisitCount=function(e,t){return o.default.ajax({url:"/api/v1/teacher_feedbacks/".concat(e,"/increment_visit_count"),method:"POST",contentType:"application/json;charset=UTF-8",headers:{"X-CSRF-Token":t}})};var r,o=(r=n(32))&&r.__esModule?r:{default:r}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(1701),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=t.UnconnectedBackgroundMusicMuteButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=p(n(2)),a=p(n(13)),s=n(27),l=n(998),u=p(n(131)),c=n(1498),d=n(491),f=p(n(1312));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t=e.className,n=e.signedIn,r=e.isMinecraft,i=e.isRtl,s=e.currentUserBackgroundMusicMuted,d=e.setMuteMusic,p=e.muteBackgroundMusic,h=e.unmuteBackgroundMusic,m=n?s:(0,c.muteCookieValue)(),y=v((0,o.useState)(m),2),b=y[0],_=y[1];return o.default.createElement(l.PaneButton,{id:t,headerHasFocus:!0,iconClass:b?"fa fa-volume-off":"fa fa-music",label:b?a.default.backgroundMusicOff():a.default.backgroundMusicOn(),isRtl:i,isMinecraft:r,onClick:function(){var e,t=!b;!function(e){!n||(new f.default).setMuteMusic(e),d(e)}(t),_(t),t?(p(),(0,c.setMuteCookie)(),e="mute"):(h(),(0,c.removeMuteCookie)(),e="unmute");var o=r?"Minecraft":"Starwars",i={study:"mute-music",event:"mute-toggle",data_json:JSON.stringify({labType:o,muteLabel:e})};u.default.putRecord(i)},style:g(g({},w.button),r?{}:b?w.musicOff:w.musicOn)})}_.propTypes={className:i.default.string.isRequired,signedIn:i.default.bool.isRequired,isMinecraft:i.default.bool.isRequired,isRtl:i.default.bool.isRequired,setMuteMusic:i.default.func.isRequired,currentUserBackgroundMusicMuted:i.default.bool.isRequired,muteBackgroundMusic:i.default.func.isRequired,unmuteBackgroundMusic:i.default.func.isRequired};var w={button:{whiteSpace:"nowrap",minWidth:"fit-content"},musicOn:{color:"rgb(118, 101, 160)",backgroundColor:"rgb(255, 255, 255)"},musicOff:{color:"rgb(255, 255, 255)",backgroundColor:"rgb(166, 155, 193)"}};t.styles=w;var E=_;t.UnconnectedBackgroundMusicMuteButton=E;var O=(0,s.connect)((function(e){return{currentUserBackgroundMusicMuted:e.currentUser.isBackgroundMusicMuted,signedIn:e.currentUser.signInState===d.SignInState.SignedIn,muteBackgroundMusic:e.instructions.muteBackgroundMusic,unmuteBackgroundMusic:e.instructions.unmuteBackgroundMusic}}),(function(e){return{setMuteMusic:function(t){e((0,d.setMuteMusic)(t))}}}))(_);t.default=O},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedContainedLevelResetButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=m(n(2)),a=m(n(74)),s=m(n(587)),l=n(491),u=n(760),c=n(27),d=n(493),f=m(n(131)),p=m(n(20)),h=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.teacherViewingStudentWork,n=e.userId,r=e.queryUserProgress,i=e.hasLevelResults,c=e.userRoleInCourse,d=e.codeIsRunning,p=e.serverScriptId,m=e.serverLevelId,g=y((0,o.useState)(!1),2),v=g[0],b=g[1];return c!==l.CourseRoles.Instructor||t?null:o.default.createElement("div",null,o.default.createElement(a.default,{text:h.default.deleteAnswer(),onClick:function(){(0,u.resetContainedLevel)().then((function(){r(n),b(!1)}),(function(){return b(!0)})),f.default.putRecord({study:"reset-predict-level",event:"level-reset",script_id:p,level_id:m})},color:a.default.ButtonColor.red,disabled:!i||!!d}),o.default.createElement(s.default,null,h.default.deleteAnswerHelpTip()),v&&o.default.createElement("span",{style:w.error},h.default.errorResettingAnswer()))};t.UnconnectedContainedLevelResetButton=b,b.propTypes={teacherViewingStudentWork:i.default.bool,userId:i.default.number,queryUserProgress:i.default.func.isRequired,hasLevelResults:i.default.bool,userRoleInCourse:i.default.string,codeIsRunning:i.default.bool,serverScriptId:i.default.number,serverLevelId:i.default.number};var _=(0,c.connect)((function(e){return{hasLevelResults:!!e.progress.levelResults[parseInt(e.progress.currentLevelId)],userId:e.pageConstants.userId,userRoleInCourse:e.currentUser.userRoleInCourse,codeIsRunning:e.runState.isRunning,serverScriptId:e.pageConstants.serverScriptId,serverLevelId:e.pageConstants.serverLevelId}}),(function(e){return{queryUserProgress:function(t){e((0,d.queryUserProgress)(t))}}}))(b);t.default=_;var w={error:{color:p.default.red,fontStyle:"italic"}}},,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";var r=n(188),o=n(617).Buffer,i=n(393).EventEmitter,a=function(e,t,n,o){i.call(this);var a=this;a.port={};var l=Array.prototype.slice.call(arguments);"function"!=typeof(o=l.pop())&&(o=null),this.options="function"!=typeof t&&t||{},n=null==n||n,o=o||function(e){e&&a._events.error&&a.emit("error",e)},chrome.runtime.sendMessage(s.extensionId,{op:"construct",path:e,options:this.options},(function(e){return chrome.runtime.lastError?o(chrome.runtime.lastError):e&&e.error?o(new Error(e.error)):void(n&&r.nextTick((function(){a.open(o)})))}))};n(728).inherits(a,i),a.prototype.open=function(e){e||(e=function(){});var t=this;chrome.runtime.sendMessage(s.extensionId,{op:"open"},(function(n){if(chrome.runtime.lastError)return e(chrome.runtime.lastError);if(n&&n.error)return e(new Error(n.error));if(t.port=chrome.runtime.connect(s.extensionId),chrome.runtime.lastError)return e(chrome.runtime.lastError);t.port.onDisconnect.addListener((function(){t.port=null}));t.port.onMessage.addListener((function(e){var n={onDisconnect:function(){t.port.disconnect(),t.port=null,t.emit("disconnect",e.error)},onError:function(){t.emit("error",e.error)},onClose:function(){t.port.disconnect(),t.port=null,t.emit("close")},data:function(){e&&e.hasOwnProperty("data")&&e.data.hasOwnProperty("data")&&t.emit("data",new o(e.data.data))}};n.hasOwnProperty(e.op)||console.log("unknown op"),n[e.op]()})),t.emit("open"),e()}))},a.prototype.write=function(e,t){if(t||(t=function(){}),!this.port)return t(new Error("Serialport not open"));"string"==typeof e?this.port.postMessage(new o(e)):this.port.postMessage(e),t(chrome.runtime.lastError)},a.prototype.flush=function(e){e||(e=function(){}),chrome.runtime.sendMessage(s.extensionId,{op:"flush"},(function(t){return chrome.runtime.lastError?e(chrome.runtime.lastError):t&&t.error?e(new Error(t.error)):void e(null,t.data)}))},a.prototype.drain=function(e){e||(e=function(){}),chrome.runtime.sendMessage(s.extensionId,{op:"drain"},(function(t){return chrome.runtime.lastError?e(chrome.runtime.lastError):t&&t.error?e(new Error(t.error)):void e(null,t.data)}))},a.prototype.close=function(e){e||(e=function(){}),chrome.runtime.sendMessage(s.extensionId,{op:"close"},(function(t){return chrome.runtime.lastError?e(chrome.runtime.lastError):t&&t.error?e(new Error(t.error)):void e()}))};var s={SerialPort:a,list:function(e){chrome.runtime.sendMessage(s.extensionId,{op:"list"},(function(t){return chrome.runtime.lastError?e(chrome.runtime.lastError):t&&t.error?e(new Error(t.error)):void e(null,t.data)}))},isInstalled:function(e){if(void 0===chrome.runtime)return e(new Error("chrome-serialport not installed"));!function(e){chrome.runtime.sendMessage(s.extensionId,{op:"getManifest"},(function(t){return chrome.runtime.lastError?e(chrome.runtime.lastError):t&&t.error?e(new Error(t.error)):void e(null,t.data)}))}((function(t){if(t)return e(t);e()}))}};e.exports=s},,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";var r,o=(r=n(1906))&&r.__esModule?r:{default:r};var i=n(799),a=n(33).randomValue,s={letters:{nonDisappearingPegmanHittingObstacle:!0,pegmanHeight:50,pegmanWidth:50,danceOnLoad:!1,goal:"",idlePegmanAnimation:"idle_avatar.gif",movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,hideInstructions:!0},bee:{obstacleAnimation:"",obstacleIdle:"obstacle.png",redFlower:"redFlower.png",purpleFlower:"purpleFlower.png",honey:"honey.png",cloud:"cloud.png",cloudAnimation:"cloud_hide.gif",beeSound:!0,nectarSound:"getNectar.mp3",honeySound:"makeHoney.mp3",look:"#000",nonDisappearingPegmanHittingObstacle:!0,idlePegmanAnimation:"idle_avatar.gif",wallPegmanAnimation:"wall_avatar.png",movePegmanAnimation:"move_avatar.png",hittingWallAnimation:"wall.gif",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,actionSpeedScale:{nectar:1},pegmanYOffset:0,tileSheetWidth:5,pegmanHeight:50,pegmanWidth:50},collector:{wallPegmanAnimation:"wall_avatar.png",movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1,movePegmanAnimationFrameNumber:8,pegmanHeight:50,pegmanWidth:50,goal:"gem.png",collectBlock:"gem_cropped.png",corners:"corners.png",collectSounds:["get_gem_2.mp3","get_gem_4.mp3","get_gem_6.mp3"],look:"#000",transparentTileEnding:!0,nonDisappearingPegmanHittingObstacle:!0,background:"background.png",danceOnLoad:!0},farmer:{obstacleIdle:"obstacle.png",dirt:"dirt.png",fillSound:"fill.mp3",digSound:"dig.mp3",look:"#000",transparentTileEnding:!0,nonDisappearingPegmanHittingObstacle:!0,background:"background"+a([0,1,2,3])+".png",dirtSound:!0,pegmanYOffset:-8,danceOnLoad:!0},harvester:{obstacleIdle:"obstacle.png",corn:"corn.png",pumpkin:"pumpkin.png",sprout:"sprout.png",lettuce:"lettuce.png",harvestSound:"dig.mp3",look:"#000",transparentTileEnding:!0,nonDisappearingPegmanHittingObstacle:!0,background:"background"+a([0,1,2,3])+".png",pegmanYOffset:-8,danceOnLoad:!0},pvz:{goalIdle:"goalIdle.gif",obstacleIdle:"obstacleIdle.gif",goalAnimation:"goal.gif",maze_forever:"maze_forever.png",obstacleScale:1.4,pegmanYOffset:-8,danceOnLoad:!0},birds:{goalIdle:"goalIdle.gif",obstacleIdle:"obstacle.png",goalAnimation:"goal.gif",maze_forever:"maze_forever.png",largerObstacleAnimationTiles:"tiles-broken.png",obstacleScale:1.2,additionalSound:!0,idlePegmanAnimation:"idle_avatar.gif",wallPegmanAnimation:"wall_avatar.png",movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,hittingWallAnimation:"wall.gif",approachingGoalAnimation:"close_goal.png",pegmanHeight:68,pegmanWidth:51,pegmanYOffset:-14,turnAfterVictory:!0},scrat:{goalIdle:"goal.png",goalAnimation:"goal.png",maze_forever:"maze_forever.png",largerObstacleAnimationTiles:"tiles-broken.png",additionalSound:!0,idlePegmanAnimation:"idle_avatar_sheet.png",idlePegmanAnimationSpeedScale:1.5,idlePegmanCol:4,idlePegmanRow:11,hittingWallAnimation:"wall_avatar_sheet.png",hittingWallAnimationFrameNumber:20,hittingWallAnimationSpeedScale:1.5,hittingWallPegmanCol:1,hittingWallPegmanRow:20,celebrateAnimation:"jump_acorn_sheet.png",celebratePegmanCol:1,celebratePegmanRow:9,movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,approachingGoalAnimation:"close_goal.png",pegmanHeight:107,pegmanWidth:80,pegmanXOffset:-12,pegmanYOffset:-30,turnAfterVictory:!0},neighborhood:{spriteMap:o.default,sheetRows:{"other.png":3,"vehicles.png":7,"buildings.png":26,"sidewalk.png":4,"wall.png":4},pegmanHeight:80,pegmanWidth:80,pegmanYOffset:0,pegmanXOffset:0,pegmanSheetWidth:1280,squareSize:80,svgHeight:800,svgWidth:800,paintCan:"paint_can.png"}};function l(e,t){var n=t.match(/^(.*)\.mp3$/)[1];return[e.assetUrl(t),e.assetUrl(n+".ogg")]}s.bee_night=s.bee,s.farmer_night=s.farmer,s.planter=Object.assign({},s.harvester,{soil:"soil.png"}),t.load=function(e,t){var n=i.load(e,t),r=s[n.id];n.obstacleScale=1,n.obstacleAnimation=n.assetUrl("obstacle.gif"),n.movePegmanAnimationSpeedScale=1,n.look="#FFF",n.background=n.assetUrl("background.png"),n.tiles=n.assetUrl("tiles.png"),n.pegmanHeight=52,n.pegmanWidth=49,n.pegmanYOffset=0,n.turnAfterVictory=!1,n.danceOnLoad=!1,n.obstacleSound=l(n,"obstacle.mp3"),n.wallSound=l(n,"wall.mp3"),n.winGoalSound=l(n,"win_goal.mp3"),n.wall0Sound=l(n,"wall0.mp3"),n.wall1Sound=l(n,"wall1.mp3"),n.wall2Sound=l(n,"wall2.mp3"),n.wall3Sound=l(n,"wall3.mp3"),n.wall4Sound=l(n,"wall4.mp3");var o=/\.\S{3}$/,a=/^(.*)\.mp3$/;function u(e){return a.test(e)?e=l(n,e):o.test(e)&&(e=n.assetUrl(e)),e}for(var c in r){var d=r[c];Array.isArray(d)?n[c]=d.map(u):n[c]=u(d)}return n}},,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(1)),o=m(n(2)),i=m(n(20)),a=m(n(644)),s=n(467),l=m(n(59)),u=m(n(994)),c=m(n(1957)),d=m(n(169)),f=n(197),p=m(n(53)),h=m(n(165));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return _(v(t=e.call.apply(e,[this].concat(o))||this),"getSublevelUrl",(function(){var e=t.props,n=e.isLessonExtra,r=e.sublevel,o=e.sectionId,i=e.userId;if(n){var a=location.origin+location.pathname+"?";return o&&i?a+d.default.stringify({id:r.id,section_id:o,user_id:i}):o?a+d.default.stringify({id:r.id,section_id:o}):a+d.default.stringify({id:r.id})}return r.url+location.search})),_(v(t),"renderThumbnail",(function(){var e=t.props.sublevel;return e.thumbnail_url?r.default.createElement("img",{src:e.thumbnail_url,style:T.thumbnail}):["Maze","Karel"].includes(e.type)?t.renderWithMazeThumbnail():r.default.createElement("div",{style:T.placeholderThumbnail,className:"placeholder"},r.default.createElement(l.default,{icon:(0,s.getIconForLevel)(e),style:T.icon,key:e.id}))})),_(v(t),"renderBubble",(function(){var e=t.props,n=e.isLessonExtra,o=e.sublevel;if(n)return r.default.createElement("a",{href:t.getSublevelUrl()},r.default.createElement(u.default,{isPerfect:o.perfect,size:30}));var i=o;return i&&(i=p.default.mapKeys(o,(function(e,t){return p.default.camelCase(t)}))),r.default.createElement(a.default,{level:i,disabled:!1,hideToolTips:!0})})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var i=o.prototype;return i.renderWithMazeThumbnail=function(){return r.default.createElement(c.default,{size:E,mazeSummary:this.props.sublevel.maze_summary})},i.render=function(){var e=this.props.sublevel;return r.default.createElement("div",{key:e.id,style:T.row,className:"uitest-bubble-choice"},r.default.createElement("a",{href:this.getSublevelUrl()},this.renderThumbnail()),r.default.createElement("div",{style:y(y({},T.column),{width:S-(2*O+E)})},r.default.createElement("div",{style:T.bubbleAndTitle},this.renderBubble(),r.default.createElement("a",{href:this.getSublevelUrl(),style:T.title,className:"sublevel-card-title-uitest"},e.display_name)),e.description&&r.default.createElement("div",{style:T.description,className:"sublevel-card-description-uitest"},r.default.createElement(h.default,{markdown:e.description}))))},o}(r.default.Component);t.default=w,_(w,"propTypes",{isLessonExtra:o.default.bool,sublevel:f.levelType,sectionId:o.default.number,userId:o.default.number});var E=200,O=10,S=435,T={row:{display:"flex",width:S,marginBottom:O,marginRight:O,backgroundColor:i.default.white,border:"1px solid rgb(187, 187, 187)",borderRadius:2},thumbnail:{minWidth:E,width:E,height:E,border:"1px solid rgb(187, 187, 187)",borderRadius:2},placeholderThumbnail:{minWidth:E,width:E,height:E,backgroundColor:i.default.lighter_gray,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgb(187, 187, 187)",borderRadius:2},icon:{fontSize:E-50,color:i.default.white,opacity:.8},column:{marginLeft:2*O,display:"flex",flexDirection:"column",alignItems:"flex-start",margin:O},bubbleAndTitle:{display:"flex",flexDirection:"row",alignItems:"flex-start"},title:{minHeight:30,fontSize:16,lineHeight:"25px",fontFamily:'"Gotham 5r"',color:i.default.teal,marginBottom:10,marginLeft:O,overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto",display:"flex",alignItems:"center"},description:{marginTop:5}};e.exports=t.default},,,,,,,,,,,,,,,(e,t,n)=>{"use strict";var r=c(n(32)),o=c(n(53)),i=n(137),a=n(385),s=n(760),l=n(136),u=n(493);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var f,p=n(765),h={},m=e.exports;function g(e,t,n){var r=!1;(r="array"===n?r||Array.isArray(t):r||d(t)===n)||console.error("Expected ".concat(e," to be of type '").concat(n,"'. Got '").concat(d(t),"'"))}function y(e){var t=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){}return e}(e.fallbackResponse);return t?e.pass?t.success:t.failure:null}function v(e,t){f=null,t&&(h.report_error=e.error,h.nextRedirect=t.redirect,h.videoInfo=t.video_info,h.endOfLessonExperience=t.end_of_lesson_experience,h.previousStageInfo=t.lesson_changing&&t.lesson_changing.previous),e.onComplete&&e.onComplete(t)}m.getLastServerResponse=function(){return h},m.sendReport=function(e){!function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=!0===e.allowMultipleSends,r=e.testResult===i.TestResults.CONTAINED_LEVEL_RESULT,o=e[t];switch(t){case"program":"match"===e.app?g("program",o,"array"):"multi"===e.app&&r?g("program",o,"number"):"multi"!==e.app||n?g("program",o,"string"):g("program",o,"array");break;case"fallbackResponse":break;case"callback":null!==o&&g("callback",o,"string");break;case"app":g("app",o,"string");break;case"allowMultipleSends":g("allowMultipleSends",o,"boolean");break;case"skipSuccessCallback":g("skipSuccessCallback",o,"boolean");break;case"level":null!==o&&("level_group"===e.app||r?g("level",o,"number"):g("level",o,"string"));break;case"result":g("result",o,n?"object":"boolean");break;case"pass":g("pass",o,n?"object":"boolean");break;case"testResult":g("testResult",o,"number");break;case"submitted":"applab"===e.app||"gamelab"===e.app||"javalab"===e.app||"spritelab"===e.app||"weblab"===e.app?g("submitted",o,"boolean"):"true"!==o&&!1!==o&&console.error('Expected submitted to be either string "true" or value false');break;case"onComplete":void 0!==o&&g("onComplete",o,"function");break;case"time":g("time",o,"number");break;case"timeSinceLastMilestone":g("timeSinceLastMilestone",o,"number");break;case"lines":g("lines",o,"number");break;case"attempt":g("attempt",o,"number");break;case"image":null!==o&&g("image",o,"string");break;case"containedLevelResultsInfo":g("containedLevelResultsInfo",o,"object");break;case"feedback":o&&g("feedback",o,"string");break;default:console.error("Unexpected report key '".concat(t,"' of type '").concat(d(e[t]),"'"))}}}(e);var t=(0,l.getStore)();t.dispatch((0,u.mergeResults)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},appOptions.serverLevelId,e.testResult))),t.getState().progress.usingDbProgress||function(e){if(p.trackProgress(appOptions.scriptName,appOptions.serverLevelId,e.testResult),e.program&&e.testResult!==i.TestResults.SKIPPED){var t=decodeURIComponent(e.program),n=appOptions.hasContainedLevels&&!appOptions.level.edit_blocks?(0,s.getContainedLevelId)():appOptions.serverProjectLevelId||appOptions.serverLevelId;p.writeSourceForLevel(appOptions.scriptName,n,+new Date,t)}}(e);var n=[],c=o.default.pick(e,["program","app","allowMultipleSends","level","result","testResult","submitted","time","timeSinceLastMilestone","lines","attempt","image"]);for(var h in c)n.push(h+"="+e[h]);var m,b=n.join("&"),_=appOptions.postMilestoneMode||a.PostMilestoneMode.all;switch(_){case a.PostMilestoneMode.all:m=!0;break;case a.PostMilestoneMode.successful_runs_and_final_level_only:m=e.pass||appOptions.level.isLastLevelInScript;break;case a.PostMilestoneMode.final_level_only:m=appOptions.level.isLastLevelInScript;break;default:console.error("Unexpected postMilestoneMode "+_),m=!0}if(m){var w=function(t){(e.allowMultipleSends||E===f)&&(e.error=t.responseText,v(e,y(e)))},E=r.default.ajax({type:"POST",url:e.callback,contentType:"application/x-www-form-urlencoded",timeout:15e3,data:b,dataType:"json",jsonp:!1,beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",(0,r.default)('meta[name="csrf-token"]').attr("content"))},success:function(t){if(!0!==e.skipSuccessCallback){if(appOptions.hasContainedLevels&&!t.redirect){e.pass=!0;var n=y(e)||{};t.redirect=n.redirect}appOptions.isBonusLevel&&(t.redirect=appOptions.nextLevelUrl),v(e,t)}else w(t)},error:function(e){return w(e)}});f=E}else setTimeout((function(){v(e,y(e))}),1e3)},m.cancelReport=function(){f&&f.abort(),f=null}},,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(20)),a=l(n(13)),s=l(n(1919));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c=function(e){var t,n;function r(t){return e.call(this,t)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){return o.default.createElement("div",{style:d.container},o.default.createElement("h1",{style:d.primaryHeader},a.default.playzonePrimaryHeader({stageName:this.props.lessonName})),o.default.createElement("h4",{style:d.secondaryHeader},a.default.playzoneSecondaryHeader()),o.default.createElement(s.default,null),o.default.createElement("div",{className:"farSide"},o.default.createElement("button",{type:"button",id:"ok-button",onClick:this.props.onContinue,style:d.continueButton},a.default.playzoneContinueButton())))},r}(o.default.Component);t.default=c;var d={container:{margin:20},primaryHeader:{fontSize:"200%"},secondaryHeader:{color:i.default.charcoal},courseblockContainer:{width:720,paddingTop:20},continueButton:{marginTop:20,marginRight:0}};c.propTypes={lessonName:r.default.string.isRequired,onContinue:r.default.func.isRequired},e.exports=t.default},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=c(n(2)),a=c(n(74)),s=c(n(20)),l=n(27),u=c(n(165));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e=this.props,t=e.title,n=e.callout,r=e.description,i=e.buttonText,s=e.link,l=e.isRtl,c=e.allowWrap,d=e.allowMarkdown,f=e.linkId,h=e.linkClass,m=e.responsiveSize,g=l?y.rtl:y.ltr,v=y.button,b=p(p({},y.card),g),_=p(p({},y.title),g),w=p(p(p({},y.text),y.description),g);["sm","xs"].includes(m)&&(Object.assign(b,y.cardSmall),Object.assign(_,y.titleSmall),Object.assign(w,y.descriptionSmall)),c?(Object.assign(v,y.buttonAllowWrap),Object.assign(b,y.cardAllowWrap),Object.assign(_,y.titleAllowWrap)):Object.assign(_,y.titleNoWrap);var E=r;return d&&(E=o.default.createElement(u.default,{markdown:r})),o.default.createElement("div",{style:b},o.default.createElement("div",{style:y.titleContainer},o.default.createElement("div",{style:_},t),n&&o.default.createElement("div",{style:y.callout},o.default.createElement("i",null,n))),o.default.createElement("div",{style:w},E),o.default.createElement("br",null),o.default.createElement(a.default,{__useDeprecatedTag:!0,id:f,className:h,href:s,color:a.default.ButtonColor.gray,text:i,style:v}))},r}(o.Component);m(g,"propTypes",{title:i.default.string.isRequired,callout:i.default.string,description:i.default.string,buttonText:i.default.string.isRequired,link:i.default.string.isRequired,isRtl:i.default.bool.isRequired,responsiveSize:i.default.string.isRequired,allowWrap:i.default.bool,allowMarkdown:i.default.bool,linkId:i.default.string,linkClass:i.default.string});var y={card:{height:250,width:310,background:s.default.teal},cardSmall:{width:"100%"},cardAllowWrap:{position:"relative"},text:{paddingLeft:20,paddingRight:20,color:s.default.white},titleContainer:{display:"flex",alignItems:"baseline",padding:"14px 20px 10px 20px"},title:{color:s.default.white,fontFamily:'"Gotham 7r", sans-serif',fontSize:27,lineHeight:"29px",boxSizing:"border-box"},titleSmall:{boxSizing:"border-box"},titleNoWrap:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},titleAllowWrap:{lineHeight:"1.1"},callout:{flex:"none",fontSize:14,margin:"0px 8px",fontFamily:'"Gotham 5r", sans-serif',color:s.default.white},description:{fontFamily:'"Gotham 4r", sans-serif',fontSize:14,lineHeight:"21px",height:140,marginBottom:5,overflowY:"auto"},descriptionSmall:{width:"100%",boxSizing:"border-box"},button:{marginLeft:20,marginRight:20,whiteSpace:"inherit"},buttonAllowWrap:{position:"absolute",bottom:20,left:0},ltr:{float:"left"},rtl:{float:"right"}},v=(0,l.connect)((function(e){return{isRtl:e.isRtl,responsiveSize:e.responsive.responsiveSize}}))(g);t.default=v,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(13)),a=c(n(74)),s=c(n(1486)),l=c(n(131)),u=n(766);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(d(t=e.call.apply(e,[this].concat(r))||this),"handleDropdownClick",(function(){var e=t.props.studentFacing?"student-resources":"teacher-resources";t.props.unitGroupId?t.recordFirehose(e,"unit-group","click-dropdown",{unitGroupId:t.props.unitGroupId}):t.props.unitId&&t.recordFirehose(e,"unit","click-dropdown",{unitId:t.props.unitId})})),p(d(t),"handleItemClick",(function(e,n){e.preventDefault();var r=t.props.studentFacing?"student-resources":"teacher-resources",o=n.key,i=n.url,a=function(){window.open(i,"noopener","noreferrer")};t.props.unitGroupId?t.recordFirehose(r,"unit-group","click-resource",{unitGroupId:t.props.unitGroupId,resourceKey:o},a):t.props.unitId&&t.recordFirehose(r,"unit","click-resource",{unitId:t.props.unitId,resourceKey:o},a)})),p(d(t),"recordFirehose",(function(e,t,n,r,o){l.default.putRecord({study:e,study_group:t,event:n,data_json:JSON.stringify(r)},{includeUserId:!0,callback:o})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this,t=this.props.resources.map((function(t){return o.default.createElement("a",{key:t.key,href:t.url,onClick:function(n){return e.handleItemClick(n,t)}},t.name)}));return o.default.createElement("div",{style:m.dropdown},o.default.createElement(s.default,{text:this.props.studentFacing?i.default.studentResources():i.default.teacherResources(),color:this.props.studentFacing?a.default.ButtonColor.gray:a.default.ButtonColor.blue,size:this.props.studentFacing?a.default.ButtonSize.large:a.default.ButtonSize.default,onClick:this.handleDropdownClick},t))},r}(o.default.Component);t.default=h,p(h,"propTypes",{resources:r.default.arrayOf(u.resourceShape).isRequired,studentFacing:r.default.bool,unitGroupId:r.default.number,unitId:r.default.number});var m={dropdown:{display:"inline-block",marginRight:5}};e.exports=t.default},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(1)),o=a(n(2)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.children;return r.default.createElement("table",{style:l.tableStyle},r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("div",{style:l.circleStyle},r.default.createElement("div",{style:l.exclamationStyle},"!"))),r.default.createElement("td",{style:l.bodyStyle},t))))}s.propTypes={children:o.default.node.isRequired};var l={tableStyle:{backgroundColor:i.default.cyan,color:"white",maxWidth:600,margin:"0 auto",marginTop:20,borderRadius:15},circleStyle:{width:100,height:100,background:"gold",borderRadius:50,MozBorderRadius:50,WebkitBorderRadius:50,margin:20,position:"relative"},exclamationStyle:{fontSize:80,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},bodyStyle:{paddingLeft:0,paddingTop:10,paddingBottom:10,paddingRight:20}};e.exports=t.default},,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MethodOverloadSection=y,t.SingleMethod=g,t.default=v;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=f(n(2)),a=f(n(1458)),s=f(n(1598)),l=f(n(634)),u=f(n(59)),c=f(n(13)),d=f(n(20));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n,r=e.method,i=e.programmingEnvironmentName,u=e.programmingEnvironmentLanguage,d=e.isSmallWindow;return o.default.createElement("div",{id:"method-".concat(r.key)},o.default.createElement("h3",null,r.name),r.syntax&&o.default.createElement(l.default,{markdown:r.syntax}),r.content&&o.default.createElement(l.default,{markdown:r.content}),!!r.returnValue&&o.default.createElement("div",null,o.default.createElement("h4",null,c.default.returnsHeader()),o.default.createElement("div",null,r.returnValue)),(null===(t=r.parameters)||void 0===t?void 0:t.length)>0&&o.default.createElement("div",null,o.default.createElement("h4",null,c.default.parametersHeader()),o.default.createElement(s.default,{parameters:r.parameters,programmingEnvironmentLanguage:u,isSmallWindow:d})),(null===(n=r.examples)||void 0===n?void 0:n.length)>0&&o.default.createElement("div",null,o.default.createElement("h4",null,c.default.examples()),r.examples.map((function(e,t){return o.default.createElement(a.default,{key:t,example:e,programmingEnvironmentName:i})}))),!!r.externalLink&&o.default.createElement("div",null,o.default.createElement("h4",null,c.default.additionalInformationHeader()),o.default.createElement(l.default,{markdown:c.default.additionalInformationText({externalLinkUrl:r.externalLink.trim()})})))}function y(e){var t=e.overloads,n=e.programmingEnvironmentName,r=e.programmingEnvironmentLanguage,i=e.isSmallWindow,a=h((0,o.useState)(!0),2),s=a[0],l=a[1],d=s?"caret-down":"caret-up";return o.default.createElement("div",null,o.default.createElement("div",{className:"unittest-overloads-header",style:s?_.openOverloadHeader:_.closedOverloadHeader,onClick:function(){return l(!s)}},o.default.createElement(u.default,{icon:d})," ",c.default.overloads()),s&&o.default.createElement("div",{style:_.overloadBox},t.map((function(e){return o.default.createElement(g,{key:e.key,method:e,programmingEnvironmentName:n,programmingEnvironmentLanguage:r,isSmallWindow:i})}))))}function v(e){var t,n=e.method,r=e.programmingEnvironmentName,i=e.programmingEnvironmentLanguage,a=e.isSmallWindow;return o.default.createElement("div",{style:_.container},o.default.createElement(g,{method:n,programmingEnvironmentName:r,programmingEnvironmentLanguage:i,isSmallWindow:a}),(null===(t=n.overloads)||void 0===t?void 0:t.length)>0&&o.default.createElement(y,{overloads:n.overloads,programmingEnvironmentName:r,programmingEnvironmentLanguage:i,isSmallWindow:a}))}var b=i.default.shape({key:i.default.string.isRequired,name:i.default.string.isRequired,syntax:i.default.string,content:i.default.string,externalLink:i.default.string,parameters:i.default.arrayOf(i.default.object),examples:i.default.arrayOf(i.default.object),overloads:i.default.arrayOf(i.default.object)});g.propTypes={method:b.isRequired,programmingEnvironmentName:i.default.string,programmingEnvironmentLanguage:i.default.string,isSmallWindow:i.default.bool},y.propTypes={overloads:i.default.arrayOf(b),programmingEnvironmentName:i.default.string,programmingEnvironmentLanguage:i.default.string,isSmallWindow:i.default.bool},v.propTypes={method:b.isRequired,programmingEnvironmentName:i.default.string,programmingEnvironmentLanguage:i.default.string,isSmallWindow:i.default.bool};var _={container:{borderStyle:"solid",borderColor:d.default.lighter_gray,borderWidth:3,borderRadius:5,padding:5,marginBottom:10,minWidth:"fit-content"},openOverloadHeader:{backgroundColor:d.default.lightest_gray,borderStyle:"solid solid hidden solid",borderColor:d.default.lighter_gray,borderWidth:1,borderRadius:"5px 5px 0px 0px",padding:5,marginTop:15,fontSize:20},closedOverloadHeader:{backgroundColor:d.default.lightest_gray,borderStyle:"solid",borderColor:d.default.lighter_gray,borderWidth:1,borderRadius:"5px",padding:5,marginTop:15,fontSize:20},overloadBox:{borderStyle:"solid",borderColor:d.default.lighter_gray,borderWidth:1,borderRadius:"0px 0px 5px 5px",padding:3}}},,,,,,,e=>{"use strict";e.exports=JSON.parse('{"0":{"name":"street","sheet":"other.png","row":0,"column":0},"1":{"name":"N-taxi-2","sheet":"vehicles.png","row":0,"column":1},"2":{"name":"N-taxi-3","sheet":"vehicles.png","row":1,"column":0},"3":{"name":"N-taxi-4","sheet":"vehicles.png","row":1,"column":1},"4":{"name":"N-taxi-5","sheet":"vehicles.png","row":2,"column":0},"5":{"name":"N-taxi-6","sheet":"vehicles.png","row":2,"column":1},"6":{"name":"E-taxi-1","sheet":"vehicles.png","row":0,"column":9},"7":{"name":"E-taxi-2","sheet":"vehicles.png","row":1,"column":9},"8":{"name":"E-taxi-3","sheet":"vehicles.png","row":0,"column":8},"9":{"name":"E-taxi-4","sheet":"vehicles.png","row":1,"column":8},"10":{"name":"E-taxi-5","sheet":"vehicles.png","row":0,"column":7},"11":{"name":"E-taxi-6","sheet":"vehicles.png","row":1,"column":7},"12":{"name":"N-DonutTruck-1","sheet":"vehicles.png","row":3,"column":0},"13":{"name":"N-DonutTruck-2","sheet":"vehicles.png","row":3,"column":1},"14":{"name":"N-DonutTruck-3","sheet":"vehicles.png","row":4,"column":0},"15":{"name":"N-DonutTruck-4","sheet":"vehicles.png","row":4,"column":1},"16":{"name":"N-DonutTruck-5","sheet":"vehicles.png","row":5,"column":0},"17":{"name":"N-DonutTruck-6","sheet":"vehicles.png","row":5,"column":1},"18":{"name":"N-DonutTruck-7","sheet":"vehicles.png","row":6,"column":0},"19":{"name":"N-DonutTruck-8","sheet":"vehicles.png","row":6,"column":1},"20":{"name":"E-DonutTruck-1","sheet":"vehicles.png","row":4,"column":7},"21":{"name":"E-DonutTruck-2","sheet":"vehicles.png","row":5,"column":7},"22":{"name":"E-DonutTruck-3","sheet":"vehicles.png","row":4,"column":6},"23":{"name":"E-DonutTruck-4","sheet":"vehicles.png","row":5,"column":6},"24":{"name":"E-DonutTruck-5","sheet":"vehicles.png","row":4,"column":5},"25":{"name":"E-DonutTruck-6","sheet":"vehicles.png","row":5,"column":5},"26":{"name":"E-DonutTruck-7","sheet":"vehicles.png","row":4,"column":4},"27":{"name":"E-DonutTruck-8","sheet":"vehicles.png","row":5,"column":4},"28":{"name":"W-DonutTruck-1","sheet":"vehicles.png","row":3,"column":4},"29":{"name":"W-DonutTruck-2","sheet":"vehicles.png","row":2,"column":4},"30":{"name":"W-DonutTruck-3","sheet":"vehicles.png","row":3,"column":5},"31":{"name":"W-DonutTruck-4","sheet":"vehicles.png","row":2,"column":5},"32":{"name":"W-DonutTruck-5","sheet":"vehicles.png","row":3,"column":6},"33":{"name":"W-DonutTruck-6","sheet":"vehicles.png","row":2,"column":6},"34":{"name":"W-DonutTruck-7","sheet":"vehicles.png","row":3,"column":7},"35":{"name":"W-DonutTruck-8","sheet":"vehicles.png","row":2,"column":7},"36":{"name":"S-DonutTruck-1","sheet":"vehicles.png","row":6,"column":3},"37":{"name":"S-DonutTruck-2","sheet":"vehicles.png","row":6,"column":2},"38":{"name":"S-DonutTruck-3","sheet":"vehicles.png","row":5,"column":3},"39":{"name":"S-DonutTruck-4","sheet":"vehicles.png","row":5,"column":2},"40":{"name":"S-DonutTruck-5","sheet":"vehicles.png","row":4,"column":3},"41":{"name":"S-DonutTruck-6","sheet":"vehicles.png","row":4,"column":2},"42":{"name":"S-DonutTruck-7","sheet":"vehicles.png","row":3,"column":3},"43":{"name":"S-DonutTruck-8","sheet":"vehicles.png","row":3,"column":2},"46":{"name":"cone","sheet":"other.png","row":1,"column":1},"47":{"name":"N-taxi-1","sheet":"vehicles.png","row":0,"column":0},"48":{"name":"grass","sheet":"sidewalk.png","row":1,"column":5},"49":{"name":"top-left-sidewalk-corner","sheet":"sidewalk.png","row":0,"column":4},"50":{"name":"top-right-sidwalk-corner","sheet":"sidewalk.png","row":0,"column":6},"51":{"name":"bottom-right-sidewalk-corner","sheet":"sidewalk.png","row":2,"column":6},"52":{"name":"bottom-left-sidewalk-corner","sheet":"sidewalk.png","row":2,"column":4},"53":{"name":"south-left-horizontal-bench","sheet":"other.png","row":1,"column":2},"54":{"name":"south-right-horizontal-bench","sheet":"other.png","row":1,"column":3},"55":{"name":"east-top-vertical-bench","sheet":"other.png","row":0,"column":5},"56":{"name":"east-bottom-vertical-bench","sheet":"other.png","row":1,"column":5},"57":{"name":"north-left-horizontal-bench","sheet":"other.png","row":0,"column":3},"58":{"name":"north-right-horizontal-bench","sheet":"other.png","row":0,"column":4},"59":{"name":"west-top-vertical-bench","sheet":"other.png","row":0,"column":6},"60":{"name":"west-bottom-vertical-bench","sheet":"other.png","row":1,"column":6},"61":{"name":"bush","sheet":"other.png","row":2,"column":3},"62":{"name":"brick-wall-cracked-1","sheet":"wall.png","row":0,"column":3},"63":{"name":"brick-wall-cracked-5","sheet":"wall.png","row":0,"column":7},"64":{"name":"brick-wall-cracked-2","sheet":"wall.png","row":0,"column":4},"65":{"name":"brick-wall-cracked-3","sheet":"wall.png","row":0,"column":5},"66":{"name":"brick-wall-cracked-4","sheet":"wall.png","row":0,"column":6},"67":{"name":"brick-wall-cracked-11","sheet":"wall.png","row":3,"column":4},"68":{"name":"brick-wall-cracked-12","sheet":"wall.png","row":3,"column":5},"69":{"name":"brick-wall-cracked-13","sheet":"wall.png","row":3,"column":6},"70":{"name":"brick-wall-cracked10","sheet":"wall.png","row":3,"column":3},"71":{"name":"brick-wall-cracked-14","sheet":"wall.png","row":3,"column":7},"72":{"name":"brick-wall-cracked-6","sheet":"wall.png","row":1,"column":3},"73":{"name":"brick-wall-cracked-7","sheet":"wall.png","row":2,"column":3},"74":{"name":"brick-wall-cracked-8","sheet":"wall.png","row":1,"column":7},"75":{"name":"brick-wall-cracked-9","sheet":"wall.png","row":2,"column":7},"76":{"name":"brick-wall-smooth-1","sheet":"wall.png","row":0,"column":0},"77":{"name":"brick-wall-smooth-2","sheet":"wall.png","row":0,"column":1},"78":{"name":"brick-wall-smooth-3","sheet":"wall.png","row":0,"column":2},"79":{"name":"brick-square","sheet":"wall.png","row":1,"column":1},"80":{"name":"brick-wall-smooth-4","sheet":"wall.png","row":1,"column":0},"81":{"name":"brick-wall-smooth-5","sheet":"wall.png","row":1,"column":2},"82":{"name":"brick-cap-vertical-3","sheet":"wall.png","row":0,"column":8},"83":{"name":"brick-strip-vertical","sheet":"wall.png","row":1,"column":8},"84":{"name":"brick-cap-vertical-1","sheet":"wall.png","row":2,"column":8},"85":{"name":"brick-wall-smooth-6","sheet":"wall.png","row":2,"column":0},"86":{"name":"brick-wall-smooth-7","sheet":"wall.png","row":2,"column":1},"87":{"name":"brick-wall-smooth-8","sheet":"wall.png","row":2,"column":2},"88":{"name":"brick-cap-horizontal-1","sheet":"wall.png","row":1,"column":4},"89":{"name":"brick-strip-horizontal","sheet":"wall.png","row":1,"column":5},"90":{"name":"brick-cap-horizontal-3","sheet":"wall.png","row":1,"column":6},"91":{"name":"flower-planter-1","sheet":"other.png","row":0,"column":7},"92":{"name":"flower-planter-2","sheet":"other.png","row":0,"column":8},"93":{"name":"flower-planter-3","sheet":"other.png","row":1,"column":7},"94":{"name":"flower-planter-4","sheet":"other.png","row":1,"column":8},"95":{"name":"bush-strip-horizontal-1","sheet":"other.png","row":2,"column":1},"96":{"name":"bush-strip-horizontal-2","sheet":"other.png","row":2,"column":2},"97":{"name":"bush-strip-vertical-1","sheet":"other.png","row":1,"column":4},"98":{"name":"bush-strip-vertical-2","sheet":"other.png","row":2,"column":4},"99":{"name":"N-Bodega-15","sheet":"buildings.png","row":23,"column":0},"100":{"name":"N-Bodega-14","sheet":"buildings.png","row":23,"column":1},"101":{"name":"N-Bodega-13","sheet":"buildings.png","row":23,"column":2},"102":{"name":"N-Bodega-12","sheet":"buildings.png","row":23,"column":3},"103":{"name":"N-Bodega-11","sheet":"buildings.png","row":23,"column":4},"104":{"name":"W-Bodega-11","sheet":"buildings.png","row":19,"column":6},"105":{"name":"W-Bodega-6","sheet":"buildings.png","row":19,"column":7},"106":{"name":"W-Bodega-1","sheet":"buildings.png","row":19,"column":8},"107":{"name":"N-Bodega-10","sheet":"buildings.png","row":24,"column":0},"108":{"name":"N-Bodega-9","sheet":"buildings.png","row":24,"column":1},"109":{"name":"N-Bodega-8","sheet":"buildings.png","row":24,"column":2},"110":{"name":"N-Bodega-7","sheet":"buildings.png","row":24,"column":3},"111":{"name":"N-Bodega-6","sheet":"buildings.png","row":24,"column":4},"112":{"name":"W-Bodega-12","sheet":"buildings.png","row":20,"column":6},"113":{"name":"W-Bodega-7","sheet":"buildings.png","row":20,"column":7},"114":{"name":"W-Bodega-2","sheet":"buildings.png","row":20,"column":8},"115":{"name":"N-Bodega-5","sheet":"buildings.png","row":25,"column":0},"116":{"name":"N-Bodega-4","sheet":"buildings.png","row":25,"column":1},"117":{"name":"N-Bodega-3","sheet":"buildings.png","row":25,"column":2},"118":{"name":"N-Bodega-2","sheet":"buildings.png","row":25,"column":3},"119":{"name":"N-Bodega-1","sheet":"buildings.png","row":25,"column":4},"120":{"name":"W-Bodega-13","sheet":"buildings.png","row":21,"column":6},"121":{"name":"W-Bodega-8","sheet":"buildings.png","row":21,"column":7},"122":{"name":"W-Bodega-3","sheet":"buildings.png","row":21,"column":8},"123":{"name":"E-Bodega-5","sheet":"buildings.png","row":13,"column":6},"124":{"name":"E-Bodega-10","sheet":"buildings.png","row":13,"column":7},"125":{"name":"E-Bodega-15","sheet":"buildings.png","row":13,"column":8},"126":{"name":"W-Bodega-14","sheet":"buildings.png","row":22,"column":6},"127":{"name":"W-Bodega-9","sheet":"buildings.png","row":22,"column":7},"128":{"name":"W-Bodega-4","sheet":"buildings.png","row":22,"column":8},"129":{"name":"E-Bodega-4","sheet":"buildings.png","row":14,"column":6},"130":{"name":"E-Bodega-9","sheet":"buildings.png","row":14,"column":7},"131":{"name":"E-Bodega-14","sheet":"buildings.png","row":14,"column":8},"132":{"name":"W-Bodega-15","sheet":"buildings.png","row":23,"column":6},"133":{"name":"W-Bodega-10","sheet":"buildings.png","row":23,"column":7},"134":{"name":"W-Bodega-5","sheet":"buildings.png","row":23,"column":8},"135":{"name":"E-Bodega-3","sheet":"buildings.png","row":15,"column":6},"136":{"name":"E-Bodega-8","sheet":"buildings.png","row":15,"column":7},"137":{"name":"E-Bodega-13","sheet":"buildings.png","row":15,"column":8},"138":{"name":"S-Bodega-1","sheet":"buildings.png","row":20,"column":0},"139":{"name":"S-Bodega-2","sheet":"buildings.png","row":20,"column":1},"140":{"name":"S-Bodega-3","sheet":"buildings.png","row":20,"column":2},"141":{"name":"S-Bodega-4","sheet":"buildings.png","row":20,"column":3},"142":{"name":"S-Bodega-5","sheet":"buildings.png","row":20,"column":4},"143":{"name":"E-Bodega-2","sheet":"buildings.png","row":16,"column":6},"144":{"name":"E-Bodega-7","sheet":"buildings.png","row":16,"column":7},"145":{"name":"E-Bodega-12","sheet":"buildings.png","row":16,"column":8},"146":{"name":"S-Bodega-6","sheet":"buildings.png","row":21,"column":0},"147":{"name":"S-Bodega-7","sheet":"buildings.png","row":21,"column":1},"148":{"name":"S-Bodega-8","sheet":"buildings.png","row":21,"column":2},"149":{"name":"S-Bodega-9","sheet":"buildings.png","row":21,"column":3},"150":{"name":"S-Bodega-10","sheet":"buildings.png","row":21,"column":4},"151":{"name":"E-Bodega-1","sheet":"buildings.png","row":17,"column":6},"152":{"name":"E-Bodega-6","sheet":"buildings.png","row":17,"column":7},"153":{"name":"E-Bodega-11","sheet":"buildings.png","row":17,"column":8},"154":{"name":"S-Bodega-11","sheet":"buildings.png","row":22,"column":0},"155":{"name":"S-Bodega-12","sheet":"buildings.png","row":22,"column":1},"156":{"name":"S-Bodega-13","sheet":"buildings.png","row":22,"column":2},"157":{"name":"S-Bodega-14","sheet":"buildings.png","row":22,"column":3},"158":{"name":"S-Bodega-15","sheet":"buildings.png","row":22,"column":4},"159":{"name":"N-RedHouse-3","sheet":"buildings.png","row":13,"column":0},"160":{"name":"N-RedHouse-6","sheet":"buildings.png","row":13,"column":1},"161":{"name":"N-RedHouse-9","sheet":"buildings.png","row":13,"column":2},"162":{"name":"N-RedHouse-12","sheet":"buildings.png","row":13,"column":3},"163":{"name":"N-RedHouse-15","sheet":"buildings.png","row":13,"column":4},"164":{"name":"E-RedHouse-1","sheet":"buildings.png","row":0,"column":3},"165":{"name":"E-RedHouse-2","sheet":"buildings.png","row":0,"column":4},"166":{"name":"E-RedHouse-3","sheet":"buildings.png","row":0,"column":5},"167":{"name":"N-RedHouse-2","sheet":"buildings.png","row":14,"column":0},"168":{"name":"N-RedHouse-5","sheet":"buildings.png","row":14,"column":1},"169":{"name":"N-RedHouse-8","sheet":"buildings.png","row":14,"column":2},"170":{"name":"N-RedHouse-11","sheet":"buildings.png","row":14,"column":3},"171":{"name":"N-RedHouse-14","sheet":"buildings.png","row":14,"column":4},"172":{"name":"E-RedHouse-4","sheet":"buildings.png","row":1,"column":3},"173":{"name":"E-RedHouse-5","sheet":"buildings.png","row":1,"column":4},"174":{"name":"E-RedHouse-6","sheet":"buildings.png","row":1,"column":5},"175":{"name":"N-RedHouse-1","sheet":"buildings.png","row":15,"column":0},"176":{"name":"N-RedHouse-4","sheet":"buildings.png","row":15,"column":1},"177":{"name":"N-RedHouse-7","sheet":"buildings.png","row":15,"column":2},"178":{"name":"N-RedHouse-10","sheet":"buildings.png","row":15,"column":3},"179":{"name":"N-RedHouse-13","sheet":"buildings.png","row":15,"column":4},"180":{"name":"E-RedHouse-7","sheet":"buildings.png","row":2,"column":3},"181":{"name":"E-RedHouse-8","sheet":"buildings.png","row":2,"column":4},"182":{"name":"E-RedHouse-9","sheet":"buildings.png","row":2,"column":5},"183":{"name":"W-RedHouse-15","sheet":"buildings.png","row":0,"column":0},"184":{"name":"W-RedHouse-14","sheet":"buildings.png","row":0,"column":1},"185":{"name":"W-RedHouse-13","sheet":"buildings.png","row":0,"column":2},"186":{"name":"E-RedHouse-10","sheet":"buildings.png","row":3,"column":3},"187":{"name":"E-RedHouse-11","sheet":"buildings.png","row":3,"column":4},"188":{"name":"E-RedHouse-12","sheet":"buildings.png","row":3,"column":5},"189":{"name":"W-RedHouse-12","sheet":"buildings.png","row":1,"column":0},"190":{"name":"W-RedHouse-11","sheet":"buildings.png","row":1,"column":1},"191":{"name":"W-RedHouse-10","sheet":"buildings.png","row":1,"column":2},"192":{"name":"E-RedHouse-13","sheet":"buildings.png","row":4,"column":3},"193":{"name":"E-RedHouse-14","sheet":"buildings.png","row":4,"column":4},"194":{"name":"E-RedHouse-15","sheet":"buildings.png","row":4,"column":5},"195":{"name":"W-RedHouse-9","sheet":"buildings.png","row":2,"column":0},"196":{"name":"W-RedHouse-8","sheet":"buildings.png","row":2,"column":1},"197":{"name":"W-RedHouse-7","sheet":"buildings.png","row":2,"column":2},"198":{"name":"S-RedHouse-13","sheet":"buildings.png","row":16,"column":0},"199":{"name":"S-RedHouse-10","sheet":"buildings.png","row":16,"column":1},"200":{"name":"S-RedHouse-7","sheet":"buildings.png","row":16,"column":2},"201":{"name":"S-RedHouse-4","sheet":"buildings.png","row":16,"column":3},"202":{"name":"S-RedHouse-1","sheet":"buildings.png","row":16,"column":4},"203":{"name":"W-RedHouse-6","sheet":"buildings.png","row":3,"column":0},"204":{"name":"W-RedHouse-5","sheet":"buildings.png","row":3,"column":1},"205":{"name":"W-RedHouse-4","sheet":"buildings.png","row":3,"column":2},"206":{"name":"S-RedHouse-14","sheet":"buildings.png","row":17,"column":0},"207":{"name":"S-RedHouse-11","sheet":"buildings.png","row":17,"column":1},"208":{"name":"S-RedHouse-8","sheet":"buildings.png","row":17,"column":2},"209":{"name":"S-RedHouse-5","sheet":"buildings.png","row":17,"column":3},"210":{"name":"S-RedHouse-2","sheet":"buildings.png","row":17,"column":4},"211":{"name":"W-RedHouse-3","sheet":"buildings.png","row":4,"column":0},"212":{"name":"W-RedHouse-2","sheet":"buildings.png","row":4,"column":1},"213":{"name":"W-RedHouse-1","sheet":"buildings.png","row":4,"column":2},"214":{"name":"S-RedHouse-15","sheet":"buildings.png","row":18,"column":0},"215":{"name":"S-RedHouse-12","sheet":"buildings.png","row":18,"column":1},"216":{"name":"S-RedHouse-9","sheet":"buildings.png","row":18,"column":2},"217":{"name":"S-RedHouse-6","sheet":"buildings.png","row":18,"column":3},"218":{"name":"S-RedHouse-3","sheet":"buildings.png","row":18,"column":4},"219":{"name":"N-BlueHouse-5","sheet":"buildings.png","row":7,"column":6},"220":{"name":"N-BlueHouse-10","sheet":"buildings.png","row":7,"column":7},"221":{"name":"N-BlueHouse-15","sheet":"buildings.png","row":7,"column":8},"222":{"name":"E-BlueHouse-1","sheet":"buildings.png","row":6,"column":0},"223":{"name":"E-BlueHouse-2","sheet":"buildings.png","row":6,"column":1},"224":{"name":"E-BlueHouse-3","sheet":"buildings.png","row":6,"column":2},"225":{"name":"E-BlueHouse-4","sheet":"buildings.png","row":6,"column":3},"226":{"name":"E-BlueHouse-5","sheet":"buildings.png","row":6,"column":4},"227":{"name":"N-BlueHouse-4","sheet":"buildings.png","row":8,"column":6},"228":{"name":"N-BlueHouse-9","sheet":"buildings.png","row":8,"column":7},"229":{"name":"N-BlueHouse-14","sheet":"buildings.png","row":8,"column":8},"230":{"name":"E-BlueHouse-6","sheet":"buildings.png","row":7,"column":0},"231":{"name":"E-BlueHouse-7","sheet":"buildings.png","row":7,"column":1},"232":{"name":"E-BlueHouse-8","sheet":"buildings.png","row":7,"column":2},"233":{"name":"E-BlueHouse-9","sheet":"buildings.png","row":7,"column":3},"234":{"name":"E-BlueHouse-10","sheet":"buildings.png","row":7,"column":4},"235":{"name":"N-BlueHouse-3","sheet":"buildings.png","row":9,"column":6},"236":{"name":"N-BlueHouse-8","sheet":"buildings.png","row":9,"column":7},"237":{"name":"N-BlueHouse-13","sheet":"buildings.png","row":9,"column":8},"238":{"name":"E-BlueHouse-11","sheet":"buildings.png","row":8,"column":0},"239":{"name":"E-BlueHouse-12","sheet":"buildings.png","row":8,"column":1},"240":{"name":"E-BlueHouse-13","sheet":"buildings.png","row":8,"column":2},"241":{"name":"E-BlueHouse-14","sheet":"buildings.png","row":8,"column":3},"242":{"name":"E-BlueHouse-15","sheet":"buildings.png","row":8,"column":4},"243":{"name":"N-BlueHouse-2","sheet":"buildings.png","row":10,"column":6},"244":{"name":"N-BlueHouse-7","sheet":"buildings.png","row":10,"column":7},"245":{"name":"N-BlueHouse-12","sheet":"buildings.png","row":10,"column":8},"246":{"name":"S-BlueHouse-11","sheet":"buildings.png","row":0,"column":7},"247":{"name":"S-BlueHouse-6","sheet":"buildings.png","row":0,"column":8},"248":{"name":"S-BlueHouse-1","sheet":"buildings.png","row":0,"column":9},"249":{"name":"N-BlueHouse-1","sheet":"buildings.png","row":11,"column":6},"250":{"name":"N-BlueHouse-6","sheet":"buildings.png","row":11,"column":7},"251":{"name":"N-BlueHouse-11","sheet":"buildings.png","row":11,"column":8},"252":{"name":"S-BlueHouse-12","sheet":"buildings.png","row":1,"column":7},"253":{"name":"S-BlueHouse-7","sheet":"buildings.png","row":1,"column":8},"254":{"name":"S-BlueHouse-2","sheet":"buildings.png","row":1,"column":9},"255":{"name":"W-BlueHouse-15","sheet":"buildings.png","row":9,"column":0},"256":{"name":"W-BlueHouse-14","sheet":"buildings.png","row":9,"column":1},"257":{"name":"W-BlueHouse-13","sheet":"buildings.png","row":9,"column":2},"258":{"name":"W-BlueHouse-12","sheet":"buildings.png","row":9,"column":3},"259":{"name":"W-BlueHouse-11","sheet":"buildings.png","row":9,"column":4},"260":{"name":"S-BlueHouse-13","sheet":"buildings.png","row":2,"column":7},"261":{"name":"S-BlueHouse-8","sheet":"buildings.png","row":2,"column":8},"262":{"name":"S-BlueHouse-3","sheet":"buildings.png","row":2,"column":9},"263":{"name":"W-BlueHouse-10","sheet":"buildings.png","row":10,"column":0},"264":{"name":"W-BlueHouse-9","sheet":"buildings.png","row":10,"column":1},"265":{"name":"W-BlueHouse-8","sheet":"buildings.png","row":10,"column":2},"266":{"name":"W-BlueHouse-7","sheet":"buildings.png","row":10,"column":3},"267":{"name":"W-BlueHouse-6","sheet":"buildings.png","row":10,"column":4},"268":{"name":"S-BlueHouse-14","sheet":"buildings.png","row":3,"column":7},"269":{"name":"S-BlueHouse-9","sheet":"buildings.png","row":3,"column":8},"270":{"name":"S-BlueHouse-4","sheet":"buildings.png","row":3,"column":9},"271":{"name":"W-BlueHouse-5","sheet":"buildings.png","row":11,"column":0},"272":{"name":"W-BlueHouse-4","sheet":"buildings.png","row":11,"column":1},"273":{"name":"W-BlueHouse-3","sheet":"buildings.png","row":11,"column":2},"274":{"name":"W-BlueHouse-2","sheet":"buildings.png","row":11,"column":3},"275":{"name":"W-BlueHouse-1","sheet":"buildings.png","row":11,"column":4},"276":{"name":"S-BlueHouse-15","sheet":"buildings.png","row":4,"column":7},"277":{"name":"S-BlueHouse-10","sheet":"buildings.png","row":4,"column":8},"278":{"name":"S-BlueHouse-5","sheet":"buildings.png","row":4,"column":9},"279":{"name":"bottom-left-sidewalk-corner-grass","sheet":"sidewalk.png","row":2,"column":1},"280":{"name":"bottom-right-sidewalk-corner-grass","sheet":"sidewalk.png","row":2,"column":2},"281":{"name":"top-left-sidewalk-corner-grass","sheet":"sidewalk.png","row":1,"column":1},"282":{"name":"top-right-sidewalk-corner-grass","sheet":"sidewalk.png","row":1,"column":2},"283":{"name":"bottom-horizontal-sidewalk-straight","sheet":"sidewalk.png","row":2,"column":5},"284":{"name":"right-vertical-sidewalk-straight","sheet":"sidewalk.png","row":1,"column":6},"285":{"name":"left-vertical-sidewalk-straight","sheet":"sidewalk.png","row":1,"column":4},"286":{"name":"top-horizontal-sidewalk-straight","sheet":"sidewalk.png","row":0,"column":5},"287":{"name":"E-Painter","sheet":"idle_avatar.png","row":0,"column":1},"288":{"name":"N-Painter","sheet":"idle_avatar.png","row":0,"column":0},"289":{"name":"W-Painter","sheet":"idle_avatar.png","row":0,"column":3},"290":{"name":"S-Painter","sheet":"idle_avatar.png","row":0,"column":2},"291":{"name":"W-taxi-2","sheet":"vehicles.png","row":0,"column":4},"292":{"name":"W-taxi-4","sheet":"vehicles.png","row":0,"column":5},"293":{"name":"W-taxi-6","sheet":"vehicles.png","row":0,"column":6},"294":{"name":"W-taxi-1","sheet":"vehicles.png","row":1,"column":4},"295":{"name":"W-taxi-3","sheet":"vehicles.png","row":1,"column":5},"296":{"name":"W-taxi-5","sheet":"vehicles.png","row":1,"column":6},"297":{"name":"S-taxi-1","sheet":"vehicles.png","row":2,"column":3},"298":{"name":"S-taxi-2","sheet":"vehicles.png","row":2,"column":2},"299":{"name":"S-taxi-3","sheet":"vehicles.png","row":1,"column":3},"300":{"name":"S-taxi-4","sheet":"vehicles.png","row":1,"column":2},"301":{"name":"S-taxi-5","sheet":"vehicles.png","row":0,"column":3},"302":{"name":"S-taxi-6","sheet":"vehicles.png","row":0,"column":2},"303":{"name":"paintcan","sheet":"other.png","row":1,"column":0}}')},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATES=t.COUNTRIES=void 0;t.STATES=["","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Washington DC","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];var n=[{label:"AD",value:"Andorra"},{label:"AE",value:"United Arab Emirates"},{label:"AF",value:"Afghanistan"},{label:"AG",value:"Antigua and Barbuda"},{label:"AI",value:"Anguilla"},{label:"AL",value:"Albania"},{label:"AM",value:"Armenia"},{label:"AO",value:"Angola"},{label:"AQ",value:"Antarctica"},{label:"AR",value:"Argentina"},{label:"AS",value:"American Samoa"},{label:"AT",value:"Austria"},{label:"AU",value:"Australia"},{label:"AW",value:"Aruba"},{label:"AX",value:"Åland Islands"},{label:"AZ",value:"Azerbaijan"},{label:"BA",value:"Bosnia and Herzegovina"},{label:"BB",value:"Barbados"},{label:"BD",value:"Bangladesh"},{label:"BE",value:"Belgium"},{label:"BF",value:"Burkina Faso"},{label:"BG",value:"Bulgaria"},{label:"BH",value:"Bahrain"},{label:"BI",value:"Burundi"},{label:"BJ",value:"Benin"},{label:"BL",value:"Saint Barthélemy"},{label:"BM",value:"Bermuda"},{label:"BN",value:"Brunei"},{label:"BO",value:"Plurinational State of Bolivia"},{label:"BQ",value:"Bonaire"},{label:"BR",value:"Brazil"},{label:"BS",value:"Bahamas"},{label:"BT",value:"Bhutan"},{label:"BV",value:"Bouvet Island"},{label:"BW",value:"Botswana"},{label:"BY",value:"Belarus"},{label:"BZ",value:"Belize"},{label:"CA",value:"Canada"},{label:"CC",value:"Cocos (Keeling) Islands"},{label:"CD",value:"Democratic Republic of Congo"},{label:"CF",value:"Central African Republic"},{label:"CG",value:"Congo"},{label:"CH",value:"Switzerland"},{label:"CI",value:"Côte d'Ivoire"},{label:"CK",value:"Cook Islands"},{label:"CL",value:"Chile"},{label:"CM",value:"Cameroon"},{label:"CN",value:"China"},{label:"CO",value:"Colombia"},{label:"CR",value:"Costa Rica"},{label:"CU",value:"Cuba"},{label:"CV",value:"Cape Verde"},{label:"CW",value:"Curaçao"},{label:"CX",value:"Christmas Island"},{label:"CY",value:"Cyprus"},{label:"CZ",value:"Czech Republic"},{label:"DE",value:"Germany"},{label:"DJ",value:"Djibouti"},{label:"DK",value:"Denmark"},{label:"DM",value:"Dominica"},{label:"DO",value:"Dominican Republic"},{label:"DZ",value:"Algeria"},{label:"EC",value:"Ecuador"},{label:"EE",value:"Estonia"},{label:"EG",value:"Egypt"},{label:"EH",value:"Western Sahara"},{label:"ER",value:"Eritrea"},{label:"ES",value:"Spain"},{label:"ET",value:"Ethiopia"},{label:"FI",value:"Finland"},{label:"FJ",value:"Fiji"},{label:"FK",value:"Falkland Islands (Malvinas)"},{label:"FM",value:"Micronesia"},{label:"FO",value:"Faroe Islands"},{label:"FR",value:"France"},{label:"GA",value:"Gabon"},{label:"GB",value:"United Kingdom"},{label:"GD",value:"Grenada"},{label:"GE",value:"Georgia"},{label:"GF",value:"French Guiana"},{label:"GG",value:"Guernsey"},{label:"GH",value:"Ghana"},{label:"GI",value:"Gibraltar"},{label:"GL",value:"Greenland"},{label:"GM",value:"Gambia"},{label:"GN",value:"Guinea"},{label:"GP",value:"Guadeloupe"},{label:"GQ",value:"Equatorial Guinea"},{label:"GR",value:"Greece"},{label:"GS",value:"South Georgia and the South Sandwich Islands"},{label:"GT",value:"Guatemala"},{label:"GU",value:"Guam"},{label:"GW",value:"Guinea-Bissau"},{label:"GY",value:"Guyana"},{label:"HK",value:"Hong Kong"},{label:"HM",value:"Heard Island and McDonald Islands"},{label:"HN",value:"Honduras"},{label:"HR",value:"Croatia"},{label:"HT",value:"Haiti"},{label:"HU",value:"Hungary"},{label:"ID",value:"Indonesia"},{label:"IE",value:"Ireland"},{label:"IL",value:"Israel"},{label:"IM",value:"Isle of Man"},{label:"IN",value:"India"},{label:"IO",value:"British Indian Ocean Territory"},{label:"IQ",value:"Iraq"},{label:"IR",value:"Islamic Republic of Iran"},{label:"IS",value:"Iceland"},{label:"IT",value:"Italy"},{label:"JE",value:"Jersey"},{label:"JM",value:"Jamaica"},{label:"JO",value:"Jordan"},{label:"JP",value:"Japan"},{label:"KE",value:"Kenya"},{label:"KG",value:"Kyrgyzstan"},{label:"KH",value:"Cambodia"},{label:"KI",value:"Kiribati"},{label:"KM",value:"Comoros"},{label:"KN",value:"Saint Kitts and Nevis"},{label:"KP",value:"Democratic People's Republic of Korea"},{label:"KR",value:"Republic of Korea"},{label:"KW",value:"Kuwait"},{label:"KY",value:"Cayman Islands"},{label:"KZ",value:"Kazakhstan"},{label:"LA",value:"Lao People's Democratic Republic"},{label:"LB",value:"Lebanon"},{label:"LC",value:"Saint Lucia"},{label:"LI",value:"Liechtenstein"},{label:"LK",value:"Sri Lanka"},{label:"LR",value:"Liberia"},{label:"LS",value:"Lesotho"},{label:"LT",value:"Lithuania"},{label:"LU",value:"Luxembourg"},{label:"LV",value:"Latvia"},{label:"LY",value:"Libya"},{label:"MA",value:"Morocco"},{label:"MC",value:"Monaco"},{label:"MD",value:"Moldova"},{label:"ME",value:"Montenegro"},{label:"MG",value:"Madagascar"},{label:"MH",value:"Marshall Islands"},{label:"MK",value:"Republic of Macedonia"},{label:"ML",value:"Mali"},{label:"MM",value:"Myanmar"},{label:"MN",value:"Mongolia"},{label:"MO",value:"Macao"},{label:"MP",value:"Northern Mariana Islands"},{label:"MQ",value:"Martinique"},{label:"MR",value:"Mauritania"},{label:"MS",value:"Montserrat"},{label:"MT",value:"Malta"},{label:"MU",value:"Mauritius"},{label:"MV",value:"Maldives"},{label:"MW",value:"Malawi"},{label:"MX",value:"Mexico"},{label:"MY",value:"Malaysia"},{label:"MZ",value:"Mozambique"},{label:"NA",value:"Namibia"},{label:"NC",value:"New Caledonia"},{label:"NE",value:"Niger"},{label:"NF",value:"Norfolk Island"},{label:"NG",value:"Nigeria"},{label:"NI",value:"Nicaragua"},{label:"NL",value:"Netherlands"},{label:"NO",value:"Norway"},{label:"NP",value:"Nepal"},{label:"NR",value:"Nauru"},{label:"NU",value:"Niue"},{label:"NZ",value:"New Zealand"},{label:"OM",value:"Oman"},{label:"PA",value:"Panama"},{label:"PE",value:"Peru"},{label:"PF",value:"French Polynesia"},{label:"PG",value:"Papua New Guinea"},{label:"PH",value:"Philippines"},{label:"PK",value:"Pakistan"},{label:"PL",value:"Poland"},{label:"PM",value:"Saint Pierre and Miquelon"},{label:"PN",value:"Pitcairn"},{label:"PR",value:"Puerto Rico"},{label:"PS",value:"Palestine"},{label:"PT",value:"Portugal"},{label:"PW",value:"Palau"},{label:"PY",value:"Paraguay"},{label:"QA",value:"Qatar"},{label:"RE",value:"Réunion"},{label:"RO",value:"Romania"},{label:"RS",value:"Serbia"},{label:"RU",value:"Russian Federation"},{label:"RW",value:"Rwanda"},{label:"SA",value:"Saudi Arabia"},{label:"SB",value:"Solomon Islands"},{label:"SC",value:"Seychelles"},{label:"SD",value:"Sudan"},{label:"SE",value:"Sweden"},{label:"SG",value:"Singapore"},{label:"SI",value:"Slovenia"},{label:"SJ",value:"Svalbard and Jan Mayen"},{label:"SK",value:"Slovakia"},{label:"SL",value:"Sierra Leone"},{label:"SM",value:"San Marino"},{label:"SN",value:"Senegal"},{label:"SO",value:"Somalia"},{label:"SR",value:"Suriname"},{label:"SS",value:"South Sudan"},{label:"ST",value:"Sao Tome and Principe"},{label:"SV",value:"El Salvador"},{label:"SX",value:"Sint Maarten (Dutch part)"},{label:"SY",value:"Syrian Arab Republic"},{label:"SZ",value:"Swaziland"},{label:"TC",value:"Turks and Caicos Islands"},{label:"TD",value:"Chad"},{label:"TG",value:"Togo"},{label:"TH",value:"Thailand"},{label:"TJ",value:"Tajikistan"},{label:"TK",value:"Tokelau"},{label:"TL",value:"Timor-Leste"},{label:"TM",value:"Turkmenistan"},{label:"TN",value:"Tunisia"},{label:"TO",value:"Tonga"},{label:"TR",value:"Turkey"},{label:"TT",value:"Trinidad and Tobago"},{label:"TV",value:"Tuvalu"},{label:"TW",value:"Taiwan"},{label:"TZ",value:"Tanzania"},{label:"UA",value:"Ukraine"},{label:"UG",value:"Uganda"},{label:"US",value:"United States"},{label:"UY",value:"Uruguay"},{label:"UZ",value:"Uzbekistan"},{label:"VA",value:"Holy See (Vatican City State)"},{label:"VC",value:"Saint Vincent and the Grenadines"},{label:"VE",value:"Bolivarian Republic of Venezuela"},{label:"VG",value:"Virgin Islands, British"},{label:"VI",value:"Virgin Islands, U.S."},{label:"VN",value:"Viet Nam"},{label:"VU",value:"Vanuatu"},{label:"WF",value:"Wallis and Futuna"},{label:"WS",value:"Samoa"},{label:"XK",value:"Kosovo"},{label:"YE",value:"Yemen"},{label:"YT",value:"Mayotte"},{label:"ZA",value:"South Africa"},{label:"ZM",value:"Zambia"},{label:"ZW",value:"Zimbabwe"}].sort((function(e,t){return e.value.localeCompare(t.value)}));t.COUNTRIES=n},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConfirmCancelFooter",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return r.default}});var r=a(n(3056)),o=a(n(3057)),i=a(n(3058));function a(e){return e&&e.__esModule?e:{default:e}}},,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(13)),i=l(n(20)),a=l(n(142)),s=l(n(53));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(d(t=e.call.apply(e,[this].concat(r))||this),"state",{mode:"none"}),p(d(t),"updateViewport",(function(){var e=t.isZoomed();if("none"===t.state.mode||e)"none"===t.state.mode&&e&&(t.setState({mode:"button"}),(0,a.default)("Research","FixZoomHelper","none-to-button"));else{var n=t.state.mode;t.setState({mode:"none"}),(0,a.default)("Research","FixZoomHelper","".concat(n,"-to-none"))}window.visualViewport&&t.setState({offsetLeft:window.visualViewport.offsetLeft,offsetTop:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height})})),p(d(t),"onButtonClick",(function(){t.setState({mode:"helper"}),(0,a.default)("Research","FixZoomHelper","button-to-helper")})),p(d(t),"onHelperClick",(function(){t.setState({mode:"button"}),(0,a.default)("Research","FixZoomHelper","helper-to-button")})),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var l=i.prototype;return l.isLandscape=function(){return window.matchMedia("(orientation: landscape)").matches},l.isZoomed=function(){return Math.abs(document.body.offsetWidth-window.visualViewport.width)>30},l.componentDidMount=function(){window.visualViewport&&(this.updateViewport(),this.resizeListener=s.default.throttle(this.updateViewport,200),window.visualViewport.addEventListener("resize",this.resizeListener),window.visualViewport.addEventListener("scroll",this.resizeListener))},l.componentWillUnmount=function(){window.visualViewport&&(document.removeEventListener("resize",this.resizeListener,!1),document.removeEventListener("scroll",this.resizeListener,!1))},l.render=function(){var e=this.state,t=e.offsetTop,n=e.offsetLeft,i=e.height,a=e.width,s=e.mode;if("button"===s){var l=t+i-10,u=n+a-10;return r.default.createElement("div",{onClick:this.onButtonClick,style:c(c({},m.button),{},{top:l,left:u})},r.default.createElement("div",{style:m.buttonIcon},r.default.createElement("span",{style:m.icon,className:"fa fa-search-minus"})," "),r.default.createElement("div",{style:m.buttonText},o.default.fixZoomHelperZoomOut()))}if("helper"===s){var d=t+i/2,f=n+a/2;return r.default.createElement("div",null,r.default.createElement("div",{onClick:this.onHelperClick,style:m.helper}),r.default.createElement("div",{style:c(c({},m.helperInner),{},{top:d,left:f})},r.default.createElement("div",{style:m.helperInnerIcons},r.default.createElement("span",{className:"fa fa-arrow-circle-o-right"})," ",r.default.createElement("span",{className:"fa fa-arrow-circle-o-left"})),o.default.fixZoomHelperPinch(),r.default.createElement("br",null),o.default.fixZoomHelperDismiss()))}return null},i}(r.default.Component);t.default=h;var m={button:{position:"fixed",zIndex:9999,opacity:.8,color:i.default.white,backgroundColor:i.default.black,borderRadius:4,padding:15,transform:"translate(-100%,-100%)",whiteSpace:"nowrap",cursor:"pointer"},buttonIcon:{display:"inline-block",verticalAlign:"middle",fontSize:24},buttonText:{display:"inline-block",verticalAlign:"middle",paddingTop:5},helper:{position:"fixed",zIndex:9998,backgroundColor:"white",opacity:.8,top:0,left:0,right:0,bottom:0,width:"100%",height:"100%"},helperInner:{position:"fixed",zIndex:9999,transform:"translate(-50%,-50%)",color:i.default.white,backgroundColor:i.default.black,opacity:.8,padding:15,borderRadius:5,textAlign:"center",pointerEvents:"none"},helperInnerIcons:{fontSize:24,marginBottom:10},closeX:{position:"absolute",top:5,right:5,fontSize:13}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(13)),i=u(n(179)),a=u(n(165)),s=u(n(142)),l=u(n(53));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="hide_toolbar_helper",h=function(e){var t,n;function u(t){var n;return f(c(n=e.call(this,t)||this),"state",{showHelper:!1}),f(c(n),"updateLayout",(function(){var e=n.isCompatibleiOS(),t=n.isHideCookieSet(),r=n.isLandscape();if(e&&r&&!t){var o=n.isToolbarShowing();!n.wasHelperShowing||o||n.didTrackToolbarHide||((0,s.default)("Research","HideToolbarHelper","hid-"+window.innerHeight),n.setHideHelperCookie(),n.didTrackToolbarHide=!0),n.wasHelperShowing=o,n.setState({showHelper:o})}else n.setState({showHelper:!1})})),f(c(n),"onClick",(function(){n.setHideHelperCookie(),n.updateLayout(),(0,s.default)("Research","HideToolbarHelper","click-"+window.innerHeight+"-"+document.body.offsetHeight)})),n.wasHelperShowing=!1,n.didTrackToolbarHide=!1,-1!==window.location.search.indexOf("force_show_toolbar_helper")&&i.default.remove(p,{path:"/"}),n}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var h=u.prototype;return h.isCompatibleiOS=function(){return-1!==navigator.userAgent.indexOf("iPhone OS 13")||-1!==navigator.userAgent.indexOf("iPhone OS 14")},h.isHideCookieSet=function(){return i.default.get(p)},h.isLandscape=function(){return 0!==window.orientation},h.isToolbarShowing=function(){return window.innerHeight<document.body.offsetHeight},h.componentDidMount=function(){this.updateLayout(),this.updateLayoutListener=l.default.throttle(this.updateLayout,200),window.addEventListener("resize",this.updateLayoutListener)},h.componentWillUnmount=function(){document.removeEventListener("resize",this.updateLayoutListener,!1)},h.setHideHelperCookie=function(){i.default.set(p,"true",{expires:365,path:"/"})},h.render=function(){return this.state.showHelper?r.default.createElement("div",{className:"hide_toolbar_helper",onClick:this.onClick},r.default.createElement(a.default,{markdown:o.default.hideToolbarHelper()}),r.default.createElement("i",{className:"fa fa-times",style:m.closeX})):null},u}(r.default.Component);t.default=h;var m={closeX:{position:"absolute",top:5,right:5,fontSize:13}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(13)),a=s(n(53));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f(c(t=e.call.apply(e,[this].concat(r))||this),"state",{hasVisualViewport:!1}),f(c(t),"updateViewport",(function(){t.setState({hasVisualViewport:!0,offsetLeft:window.visualViewport.offsetLeft,offsetTop:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height})})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var s=r.prototype;return s.componentDidMount=function(){window.visualViewport&&(this.updateViewport(),this.resizeListener=a.default.throttle(this.updateViewport,200),window.visualViewport.addEventListener("resize",this.resizeListener),window.visualViewport.addEventListener("scroll",this.resizeListener))},s.render=function(){var e=u(u({},h.rotateContainerInner),{},{backgroundImage:"url("+this.props.assetUrl("media/turnphone_horizontal.png")+")"}),t=u({},h.rotateText),n=u({},h.paragraph);if(this.state.hasVisualViewport){var r=this.state.width,a=this.state.height,s=this.state.offsetLeft,l=this.state.offsetTop,c=-.4*r,d=a/2,f=r/25;e=u(u({},e),{},{width:r,height:a,left:s,top:l}),t=u(u({},t),{},{left:c,top:d}),n=u(u({},n),{},{fontSize:f})}return o.default.createElement("div",{id:"rotateContainer",style:h.rotateContainer},o.default.createElement("div",{id:"rotateContainerInner",style:e},o.default.createElement("div",{id:"rotateText",style:t},o.default.createElement("p",{style:n},i.default.rotateText(),o.default.createElement("br",null),i.default.orientationLock()))))},r}(o.default.Component);t.default=p,f(p,"propTypes",{assetUrl:r.default.func.isRequired});var h={rotateContainer:{position:"fixed",zIndex:10001,backgroundColor:"white",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%"},rotateContainerInner:{position:"absolute",backgroundPosition:"50% 50%",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"100%",height:"100%"},rotateText:{position:"relative",top:"50%",left:"-40%"},paragraph:{textAlign:"center",fontSize:24,lineHeight:1.5,transform:"rotate(90deg)"}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=n(27),a=l(n(2143)),s=n(1308);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){return o.default.createElement(a.default,{timeout:12e4,onIdle:this.props.setStartIdle,onActive:this.props.setEndIdle})},r}(o.default.Component);c=p,d="propTypes",f={setStartIdle:r.default.func.isRequired,setEndIdle:r.default.func.isRequired},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var h=(0,i.connect)(null,(function(e){return{setStartIdle:function(){e((0,s.setStartIdle)())},setEndIdle:function(){e((0,s.setEndIdle)())}}}))(p);t.default=h,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}var s=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).links=[{href:"/projects/artist/new",img:"/shared/images/courses/logo_tall_artist.jpg",title:o.default.playzoneArtistTitle(),className:"artist",description:o.default.playzoneArtistDescription()},{href:"/projects/playlab/new",img:"/shared/images/courses/logo_tall_playlab.jpg",title:o.default.playzonePlaylabTitle(),className:"playlab",description:o.default.playzonePlaylabDescription()},{href:"/projects",img:"/shared/images/courses/logo_tall_applab.png",title:o.default.playzoneProjectsTitle(),className:"projects",description:o.default.playzoneProjectsDescription()}],n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),i.prototype.render=function(){return r.default.createElement("div",{className:"center",style:l.courseblockContainer},this.links.map((function(e){return r.default.createElement("div",{key:e.className,className:"courseblock-noaction courseblock-span3 courseblock-tall"},r.default.createElement("a",{href:e.href},r.default.createElement("div",{className:"imgspan"},r.default.createElement("img",{height:"120px",src:e.img,alt:"Logo tall ".concat(e.className)})),r.default.createElement("div",{className:"heading"},r.default.createElement("h3",null,e.title)),r.default.createElement("div",{className:"smalltext"},e.description)))})))},i}(r.default.Component);t.default=s;var l={courseblockContainer:{width:720,paddingTop:20}};e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(790)),a=c(n(1838)),s=c(n(845)),l=n(1262),u=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=l.utils.getSubtypeForSkin,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var c=r.prototype;return c.componentDidMount=function(){var e=a.default.load(s.default,this.props.mazeSummary.skin),t={},n=new(m(this.props.mazeSummary.skin))(t,{skin:e,level:this.props.mazeSummary.level});t.map=this.props.mazeSummary.serializedMaze?l.MazeMap.deserialize(this.props.mazeSummary.serializedMaze,n.getCellClass()):l.MazeMap.parseFromOldValues(this.props.mazeSummary.map,null,n.getCellClass()),n.initStartFinish(),n.createDrawer(this.svg),n.initWallMap(),(0,l.drawMap)(this.svg,e,n,t.map)},c.render=function(){var e=this,t=(this.props.size||400)/400;return o.default.createElement("div",{style:{width:this.props.size,height:this.props.size,display:"inline-block",overflow:"hidden",border:"1px solid ".concat(u.default.lighter_gray)}},o.default.createElement("div",{style:f({transform:"scale(".concat(t,")")},y.wrapper)},o.default.createElement(i.default,null,o.default.createElement("svg",{width:"400",height:"400",ref:function(t){e.svg=t}}))))},r}(o.default.Component);t.default=g,h(g,"propTypes",{size:r.default.number,mazeSummary:r.default.shape({level:r.default.shape({startDirection:r.default.number.isRequired,flowerType:r.default.string}).isRequired,map:r.default.array,serializedMaze:r.default.array,skin:r.default.string.isRequired})}),h(g,"defaultProps",{scale:1});var y={wrapper:{display:"inline-block",position:"relative",transformOrigin:"0 0"},overlay:{width:400,height:400,backgroundColor:"rgba(0, 255, 0, 0.3)",position:"absolute",top:0,left:0,textAlign:"center"},check:{fontSize:350,lineHeight:"400px",color:"#fff",opacity:.8}};e.exports=t.default},,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(32)),o=u(n(1)),i=n(760),a=n(765),s=u(n(631)),l=n(1693);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,o,i,a,s,l,u){var c=this;this.levelId=e,this.id=t,this.app=n,this.standalone=o,this.lastSelectionIndex=-1,this.numAnswers=i,this.answers=a,this.answersFeedback=s,this.lastAttemptString=l,this.containedMode=u,this.selectedAnswers=[],this.crossedAnswers=[],this.submitAllowed=!0,(0,r.default)(document).ready((function(){return c.ready()}))};c.prototype.enableButton=function(e){(0,r.default)("#"+this.id+" .submitButton").attr("disabled",!e)},c.prototype.choiceClicked=function(e){if(this.submitAllowed){var t=parseInt((0,r.default)(e).attr("index"));s.default.getSingleton().play("click"),this.clickItem(t),(0,i.onAnswerChanged)(this.levelId,!0)}},c.prototype.clickItem=function(e){if(-1===this.crossedAnswers.indexOf(e)&&(1!==this.numAnswers||-1===r.default.inArray(e,this.selectedAnswers))){if(!(this.numAnswers>1&&-1!==r.default.inArray(e,this.selectedAnswers))){if(this.enableButton(!0),this.lastSelectionIndex=e,(0,r.default)("#"+this.id+" #unchecked_"+e).hide(),(0,r.default)("#"+this.id+" #checked_"+e).show(),this.selectedAnswers.unshift(e),this.selectedAnswers.length>this.numAnswers){var t=this.selectedAnswers.pop();-1===this.crossedAnswers.indexOf(t)&&((0,r.default)("#"+this.id+" #unchecked_"+t).show(),(0,r.default)("#"+this.id+" #checked_"+t).hide())}return!0}this.unclickItem(e)}},c.prototype.unclickItem=function(e){var t=this.selectedAnswers.indexOf(e);this.selectedAnswers.splice(t,1),(0,r.default)("#"+this.id+" #unchecked_"+e).show(),(0,r.default)("#"+this.id+" #checked_"+e).hide()},c.prototype.ready=function(){window.appOptions.readonlyWorkspace&&!this.containedMode&&((0,r.default)(".submitButton").hide(),(0,r.default)("#"+this.id+".item-mark").css("opacity",.5),this.submitAllowed=!1,window.appOptions.submitted&&(0,r.default)("#"+this.id+" .unsubmitButton").show()),(0,r.default)("#"+this.id+" .answerbutton").click(r.default.proxy((function(e){this.choiceClicked((0,r.default)(e.currentTarget))}),this)),(0,r.default)("#"+this.id+" #voteform img").on("dragstart",r.default.proxy((function(e){var t=(0,r.default)(e.currentTarget).parent().parent().parent();this.choiceClicked(t),e.preventDefault(),e.stopPropagation()}),this)),this.enableButton(!1),this.standalone&&(0,i.registerGetResult)(this.getResult.bind(this));var e=this.lastAttemptString||(0,a.sourceForLevel)(window.appOptions.scriptName,this.levelId);if(e)for(var t=e.split(","),n=0;n<t.length;n++)this.clickItem(parseInt(t[n]));if(this.standalone)(0,r.default)(".submitButton").click(r.default.proxy(this.submitButtonClick,this));else{var o=(0,r.default)("#reset-predict-progress-button");o&&o.click((function(){return(0,i.resetContainedLevel)()}))}},c.prototype.lockAnswers=function(){var e;(0,r.default)("#"+this.id+" .answerbutton").addClass("lock-answers"),null===(e=(0,r.default)("#reset-predict-progress-button"))||void 0===e||e.prop("disabled",!1)},c.prototype.resetAnswers=function(){var e,t=this;(0,r.default)("#"+this.id+" .answerbutton").removeClass("lock-answers"),null===(e=(0,r.default)("#reset-predict-progress-button"))||void 0===e||e.prop("disabled",!0),this.selectedAnswers.forEach((function(e){return t.unclickItem(e)}))},c.prototype.getAppName=function(){return this.app},c.prototype.getResult=function(e){var t,n,r,i,a;return this.numAnswers>1&&this.selectedAnswers.length!==this.numAnswers&&(n=o.default.createElement(l.LegacyTooFewDialog,null)),1===this.numAnswers?r=-1!==(t=this.lastSelectionIndex):(t=this.selectedAnswers,r=this.selectedAnswers.length===this.numAnswers),e||!window.appOptions.level.submittable&&!this.forceSubmittable?(i=this.validateAnswers(),a=!1):(i=!0,a=!0),{response:t,result:i,errorDialog:n,submitted:a,valid:r}},c.prototype.getCurrentAnswerFeedback=function(){if(this.answersFeedback&&0!==this.selectedAnswers.length){for(var e=[],t=0;t<this.selectedAnswers.length;t++)e.push(this.answersFeedback[this.selectedAnswers[t]]);return e.join("\n")}},c.prototype.submitButtonClick=function(){window.appOptions.level.submittable||this.forceSubmittable||1!==this.numAnswers||-1!==this.crossedAnswers.indexOf(this.lastSelectionIndex)||this.validateAnswers()||((0,r.default)("#"+this.id+" #checked_"+this.lastSelectionIndex).hide(),(0,r.default)("#"+this.id+" #cross_"+this.lastSelectionIndex).show(),this.crossedAnswers.unshift(this.lastSelectionIndex))},c.prototype.validateAnswers=function(){if(!this.answers)return!1;if(this.selectedAnswers.length===this.numAnswers){for(var e=0;e<this.numAnswers;e++)if(!this.answers[this.selectedAnswers[e]])return!1;return!0}return!1};var d=c;t.default=d,e.exports=t.default},,e=>{"use strict";var t=function(){};e.exports=t},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{var r=n(13);t.install=function(e,t){var n=t.skin,o=t.isK1;!function(e,t){e.JavaScript.controls_repeat_simplified=e.JavaScript.controls_repeat,e.JavaScript.controls_repeat_simplified_dropdown=e.JavaScript.controls_repeat,e.Blocks.controls_repeat_simplified={init:function(){this.setHelpUrl(e.Msg.CONTROLS_REPEAT_HELPURL),Blockly.cdoUtils.setHSV(this,322,.9,.95),this.appendDummyInput().appendField(e.Msg.CONTROLS_REPEAT_TITLE_REPEAT).appendField(new e.FieldTextInput("10",e.FieldTextInput.nonnegativeIntegerValidator),"TIMES"),this.appendStatementInput("DO").appendField(new e.FieldImage(t.repeatImage)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.CONTROLS_REPEAT_TOOLTIP)}},e.Blocks.controls_repeat_simplified_dropdown={init:function(){this.setHelpUrl(e.Msg.CONTROLS_REPEAT_HELPURL),Blockly.cdoUtils.setHSV(this,322,.9,.95),this.appendDummyInput().appendField(e.Msg.CONTROLS_REPEAT_TITLE_REPEAT).appendField(new e.FieldDropdown,"TIMES"),this.appendStatementInput("DO").appendField(new e.FieldImage(t.repeatImage)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.CONTROLS_REPEAT_TOOLTIP)}}}(e,n),function(e){e.JavaScript.controls_repeat_dropdown=e.JavaScript.controls_repeat,e.Blocks.controls_repeat_dropdown={init:function(){this.setHelpUrl(e.Msg.CONTROLS_REPEAT_HELPURL),Blockly.cdoUtils.setHSV(this,322,.9,.95),this.appendDummyInput().appendField(e.Msg.CONTROLS_REPEAT_TITLE_REPEAT).appendField(new e.FieldDropdown,"TIMES").appendField(e.Msg.CONTROLS_REPEAT_TITLE_TIMES),this.appendStatementInput("DO").appendField(e.Msg.CONTROLS_REPEAT_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.CONTROLS_REPEAT_TOOLTIP)}}}(e),function(e){e.JavaScript.math_number_dropdown=e.JavaScript.math_number,e.Blocks.math_number_dropdown={init:function(){this.setHelpUrl(e.Msg.MATH_NUMBER_HELPURL),Blockly.cdoUtils.setHSV(this,258,.35,.62),this.appendDummyInput().appendField(new e.FieldDropdown,"NUM"),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.setTooltip(e.Msg.MATH_NUMBER_TOOLTIP)}}}(e),function(e){e.Blocks.pick_one={init:function(){Blockly.cdoUtils.setHSV(this,322,.9,.95),this.appendDummyInput().appendField("Pick one (Use only in required blocks)"),this.appendStatementInput("PICK")}},e.JavaScript.pick_one=function(){return"\n"}}(e),function(e){e.Blocks.category={init:function(){Blockly.cdoUtils.setHSV(this,322,.9,.95),this.setInputsInline(!0),this.appendDummyInput().appendField("Category").appendField(new e.FieldTextInput("Name"),"CATEGORY"),this.setPreviousStatement(!1),this.setNextStatement(!1)}},e.JavaScript.category=function(){return"\n"},e.Blocks.custom_category={init:function(){Blockly.cdoUtils.setHSV(this,322,.9,.95),this.setInputsInline(!0);var t=new e.FieldDropdown([["Variables","VARIABLE"],["Functions","PROCEDURE"],["Behaviors","Behavior"],["Locations","Location"]]);this.appendDummyInput().appendField("Auto-populated Category").appendField(t,"CUSTOM"),this.setPreviousStatement(!1),this.setNextStatement(!1)}},e.JavaScript.custom_category=function(){return"\n"}}(e),function(e,t,n){e.Blocks.when_run={helpUrl:"",init:function(){Blockly.cdoUtils.setHSV(this,39,1,.99),n?this.appendDummyInput().appendField(r.whenRun()).appendField(new e.FieldImage(t.runArrow,22,26)):this.appendDummyInput().appendField(r.whenRun()),this.setPreviousStatement(!1),this.setNextStatement(!0)},shouldBeGrayedOut:function(){return!1}},e.JavaScript.when_run=function(){return"\n"}}(e,n,o),function(e){e.Blocks.text_join_simple={init:function(){this.helpUrl="",this.setColour(160),this.setOutput(!0,Blockly.BlockValueType.STRING),this.setTooltip(r.joinTextTooltip()),this.inputCount=0},getCustomContextMenuItems:function(){return[{text:"Set number of inputs (current: ".concat(this.inputCount,")"),enabled:!0,callback:function(){var e=prompt("Number of inputs",this.inputCount);"???"===e?this.setInputCount(e):""!==e&&this.setInputCount(parseInt(e))}.bind(this)}]},setInputCount:function(e){var t;if((t="???"===e?2:Math.max(parseInt(e),2))>this.inputCount)for(var n=this.inputCount;n<t;n++){var o=this.appendValueInput("ADD"+n);0===n&&o.appendField(r.joinText())}else for(n=this.inputCount-1;n>=t;n--)this.removeInput("ADD"+n);this.inputCount="???"===e?e:t},pendingConnection:function(e,t){for(var n=this,r=0,o=-1,i=-1,a=0;a<this.inputList.length;a++){var s=this.inputList[a].connection;s.targetConnection&&(r=a),s===e&&(o=a),s===t&&(i=a)}var l=i>=r,u=o>=r;this.delayedResize&&l^u&&(window.clearTimeout(this.delayedResize),this.delayedResize=null),l&&!u?this.setInputCount(r+2):u&&!l&&(this.delayedResize=window.setTimeout((function(){return n.setInputCount(r+1)}),100))}},e.JavaScript.text_join_simple=function(){for(var e=new Array("???"===this.inputCount?2:this.inputCount),t=0;t<this.inputCount;t++)e[t]=Blockly.JavaScript.valueToCode(this,"ADD"+t,Blockly.JavaScript.ORDER_COMMA)||"''";return["[".concat(e.join(","),"].join('')"),Blockly.JavaScript.ORDER_FUNCTION_CALL]}}(e),function(e){e.Blocks.comment={init:function(){Blockly.cdoUtils.setHSV(this,0,0,.6),this.appendDummyInput().appendField(r.commentPrefix()).appendField(new Blockly.FieldTextInput(""),"TEXT"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(r.commentTooltip())}},e.JavaScript.comment=function(){var e=this.getFieldValue("TEXT");return"// ".concat(e,"\n")}}(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;if(t.type===i)return r(r({},e),{},{localeCode:t.localeCode});return e},t.setLocaleCode=void 0;var i="locale/SET_LOCALE_CODE";t.setLocaleCode=function(e){return{type:i,localeCode:e}};var a={localeCode:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(32))&&r.__esModule?r:{default:r},i=n(760);var a=function(e,t,n,r,i,a){this.levelId=e,this.id=t,this.app=n,this.standalone=r,this.lastAttempt=a,this.answers=i,(0,o.default)(document).ready(o.default.proxy((function(){this.ready()}),this))};a.prototype.ready=function(){var e=this;(0,o.default)("#"+this.id+" textarea.response").val(this.lastAttempt),this.standalone&&(0,i.registerGetResult)(this.getResult.bind(this));var t=(0,o.default)("#"+this.id+" textarea.response");t.blur((function(){(0,i.onAnswerChanged)(e.levelId,!0)})),t.on("input",null,null,(function(){(0,i.onAnswerChanged)(e.levelId,!1)}))},a.prototype.getAppName=function(){return this.app},a.prototype.getResult=function(){var e=(0,o.default)("#"+this.id+" textarea.response").val(),t=this.answers;if(t&&t.length>0){e=e.replace(/\s+/g,"");var n=t.some((function(t){return e===t.replace(/\s+/g,"")}));return{response:this.standalone?encodeURIComponent(e):e,result:n,valid:e.length>0}}return{response:this.standalone?encodeURIComponent(e):e,result:e.length>0,valid:e.length>0}},a.prototype.lockAnswers=function(){},a.prototype.getCurrentAnswerFeedback=function(){};var s=a;t.default=s,e.exports=t.default},,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(1),o=n(2),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){var n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o),n=null}),t)}}function h(e,t){var n=0;return function(){var r=(new Date).getTime();if(!(r-n<t))return n=r,e.apply(void 0,arguments)}}var m="object"===("undefined"==typeof window||"undefined"==typeof window?"undefined":a(window)),g=m?document:{},y=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}(this,c(t).call(this,e)),l(f(n),"state",{idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null}),l(f(n),"tId",null),l(f(n),"_handleEvent",(function(e){var t=n.state,r=t.remaining,o=t.pageX,i=t.pageY,a=t.idle,s=n.props,l=s.timeout,u=s.onAction,c=s.debounce,d=s.throttle,f=s.stopOnIdle;if(c>0?n.debouncedAction(e):d>0?n.throttledAction(e):u(e),!r){if("mousemove"===e.type){if(e.pageX===o&&e.pageY===i)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(n.getElapsedTime()<200)return}clearTimeout(n.tId),n.tId=null,a&&!f&&n.toggleIdleState(e),n.setState({lastActive:+new Date,pageX:e.pageX,pageY:e.pageY}),a&&f||(n.tId=setTimeout(n.toggleIdleState,l))}})),e.debounce>0&&e.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return e.debounce>0&&(n.debouncedAction=p(e.onAction,e.debounce)),e.throttle>0&&(n.throttledAction=h(e.onAction,e.throttle)),e.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(f(n)),n.reset=n.reset.bind(f(n)),n.pause=n.pause.bind(f(n)),n.resume=n.resume.bind(f(n)),n.getRemainingTime=n.getRemainingTime.bind(f(n)),n.getElapsedTime=n.getElapsedTime.bind(f(n)),n.getLastActiveTime=n.getLastActiveTime.bind(f(n)),n.isIdle=n._isIdle.bind(f(n)),n}return u(t,e),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"componentDidMount",value:function(){this._bindEvents(),this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(e){e.debounce!==this.props.debounce&&(this.debouncedAction=p(this.props.onAction,this.props.debounce)),e.throttle!==this.props.throttle&&(this.throttledAction=h(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var e=this;if(m){var t=this.state.eventsBound,n=this.props,r=n.element,o=n.events,i=n.passive,a=n.capture;t||(o.forEach((function(t){r.addEventListener(t,e._handleEvent,{capture:a,passive:i})})),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var e=this;if(m){var t=this.props,n=t.element,r=t.events,o=t.passive,i=t.capture;this.state.eventsBound&&(r.forEach((function(t){n.removeEventListener(t,e._handleEvent,{capture:i,passive:o})})),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(e){var t=this,n=this.state.idle,r=this.props,o=r.onActive,i=r.onIdle,a=r.stopOnIdle;this.setState({idle:!n},(function(){n?a||(t._bindEvents(),o(e)):(a&&(clearTimeout(t.tId),t.tId=null,t._unbindEvents()),i(e))}))}},{key:"reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null});var e=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,e)}},{key:"pause",value:function(){null===this.state.remaining&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"resume",value:function(){var e=this.state,t=e.remaining,n=e.idle;null!==t&&(this._bindEvents(),n||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,t)))}},{key:"getRemainingTime",value:function(){var e=this.state,t=e.remaining,n=e.lastActive,r=this.props.timeout;if(null!==t)return t<0?0:t;var o=r-(+new Date-n);return o<0?0:o}},{key:"getElapsedTime",value:function(){var e=this.state.oldDate;return+new Date-e}},{key:"getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}(r.Component);l(y,"propTypes",{timeout:i().number,events:i().arrayOf(i().string),onIdle:i().func,onActive:i().func,onAction:i().func,debounce:i().number,throttle:i().number,element:i().oneOfType([i().object,i().element]),startOnMount:i().bool,stopOnIdle:i().bool,passive:i().bool,capture:i().bool}),l(y,"defaultProps",{timeout:12e5,element:g,events:["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0});const v=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(2)),o=u(n(1)),i=u(n(20)),a=u(n(13)),s=n(735),l=n(1317);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e=this.props,t=e.projectData,n=e.currentGallery,r=e.isDetailView,i=this.props.projectData,u=i.type,c=i.channel,d="personal"===n,f="public"===n,p=d?"/projects/".concat(u,"/").concat(c,"/edit"):"/projects/".concat(u,"/").concat(c),h=m.thumbnail;this.props.showFullThumbnail&&Object.assign(h,m.fullThumbnail);var g=f&&r&&t.publishedAt,y=g?{}:m.noTime;return o.default.createElement("div",{className:"project_card"},o.default.createElement("div",{style:m.card},o.default.createElement("div",{style:h},o.default.createElement("a",{href:(0,s.studio)(p),style:{width:"100%"},target:f?"_blank":void 0},o.default.createElement("img",{src:t.thumbnailUrl||"/blockly/media/projects/project_default.png",style:m.image,alt:a.default.projectThumbnail()}))),o.default.createElement("a",{style:m.titleLink,href:(0,s.studio)(p),target:f?"_blank":void 0},o.default.createElement("div",{style:m.title,className:"ui-project-name-".concat(t.type)},t.name)),o.default.createElement("div",{style:y},f&&t.studentName&&o.default.createElement("span",{style:m.firstInitial},a.default.by(),": ",o.default.createElement("span",{style:m.bold},t.studentName)),f&&t.studentAgeRange&&o.default.createElement("span",{style:m.ageRange},a.default.age(),": ",o.default.createElement("span",{style:m.bold},t.studentAgeRange))),g&&!t.isFeatured&&o.default.createElement("div",{style:m.lastEdit},a.default.published(),": ",o.default.createElement(l.UnlocalizedTimeAgo,{style:m.bold,dateString:t.publishedAt})),g&&t.isFeatured&&o.default.createElement("div",{style:m.lastEdit},o.default.createElement("span",{style:m.bold},a.default.featuredProject())),d&&t.updatedAt&&o.default.createElement("div",{style:m.lastEdit},a.default.projectLastUpdated(),": ",o.default.createElement(l.UnlocalizedTimeAgo,{style:m.bold,dateString:t.updatedAt}))))},r}(o.default.Component);t.default=h,d=h,f="propTypes",p={projectData:r.default.object.isRequired,currentGallery:r.default.oneOf(["personal","public"]).isRequired,showFullThumbnail:r.default.bool,isDetailView:r.default.bool},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var m={card:{border:"1px solid #bbbbbb",borderRadius:2,width:214,backgroundColor:i.default.white},title:{paddingLeft:15,paddingRight:10,paddingTop:18,paddingBottom:5,fontSize:16,fontFamily:'"Gotham 5r", sans-serif',color:i.default.charcoal,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",height:18,boxSizing:"content-box"},titleLink:{color:i.default.charcoal},lastEdit:{paddingLeft:30,paddingRight:10,paddingBottom:10,fontSize:11,fontFamily:'"Gotham", sans-serif',color:i.default.charcoal},ageRange:{paddingLeft:10,paddingTop:5,fontSize:11,fontFamily:'"Gotham", sans-serif',color:i.default.charcoal},firstInitial:{paddingTop:5,fontSize:11,paddingLeft:15,paddingRight:15,fontFamily:'"Gotham", sans-serif',color:i.default.charcoal},thumbnail:{width:214,height:150,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},fullThumbnail:{height:214},image:{flexShrink:0,width:"100%",weight:"100%"},bold:{fontFamily:'"Gotham 5r", sans-serif'},noTime:{paddingBottom:10}};e.exports=t.default},,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(20)),a=n(27),s=l(n(452));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c,d,f,p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){var e,t,n,r,i=this.props,a=i.short,s=i.headingText,l=i.subHeadingText,u=i.description,c=i.responsiveSize,d=i.backgroundUrl,f=i.imageUrl,p="xs"===c;e=a?h.headerBannerContainerShort:h.headerBannerContainer,t=a?h.bannerHeadingShort:h.bannerHeading,p?(n=h.bannerSubHeadingResponsive,r=h.bannerDescriptionResponsive):(n=h.bannerSubHeading,r=h.bannerDescription);var m={backgroundImage:"url(".concat(d,")")},g=a?h.bannerContentImageShort:h.bannerContentImage;return p?o.default.createElement("div",null,o.default.createElement("div",{id:"header-banner",style:m},o.default.createElement("div",{className:"bannerContentContainer",style:e},o.default.createElement("div",{className:"bannerContent"},o.default.createElement("div",{style:t},s)))),o.default.createElement("div",{id:"header-banner-overflow"},o.default.createElement("div",{className:"bannerContent"},l&&o.default.createElement("div",{style:n},l),u&&o.default.createElement("div",{style:r},u),this.props.children&&o.default.createElement("div",{className:"children"},this.props.children)))):o.default.createElement("div",{id:"header-banner",style:m},o.default.createElement("div",{className:"bannerContentContainer",style:e},o.default.createElement("div",{className:"bannerContent"},o.default.createElement("div",{style:t},s),l&&o.default.createElement("div",{style:n},l),u&&o.default.createElement("div",{style:r},u),this.props.children&&o.default.createElement("div",{className:"children"},this.props.children)),f&&o.default.createElement("img",{style:g,src:f})))},r}(o.default.Component);c=p,d="propTypes",f={headingText:r.default.string,subHeadingText:r.default.string,description:r.default.string,children:r.default.node,short:r.default.bool,responsiveSize:r.default.oneOf(["lg","md","sm","xs"]).isRequired,backgroundUrl:r.default.string,imageUrl:r.default.string},d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f;var h={headerBannerContainer:{minHeight:260,maxWidth:s.default["content-width"]},headerBannerContainerShort:{minHeight:140,maxWidth:s.default["content-width"]},bannerHeading:{fontFamily:'"Gotham 7r", sans-serif',color:i.default.white,fontSize:32,lineHeight:"40px"},bannerHeadingShort:{fontFamily:'"Gotham 7r", sans-serif',color:i.default.white,fontSize:32,lineHeight:"40px"},bannerSubHeading:{fontFamily:'"Gotham 4r", sans-serif',color:i.default.white,fontSize:16,lineHeight:"21px",marginTop:16},bannerSubHeadingResponsive:{fontFamily:'"Gotham 4r", sans-serif',color:i.default.dark_charcoal,fontSize:16,lineHeight:"21px",marginTop:16},bannerDescription:{fontFamily:'"Gotham 4r", sans-serif',color:i.default.white,fontSize:16,lineHeight:"21px",marginTop:16},bannerDescriptionResponsive:{fontFamily:'"Gotham 4r", sans-serif',color:i.default.dark_charcoal,fontSize:16,lineHeight:"21px",marginTop:16},bannerContentImage:{maxHeight:260},bannerContentImageShort:{maxHeight:140}},m=(0,a.connect)((function(e){return{responsiveSize:e.responsive.responsiveSize}}))(p);t.default=m,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.QuickActionsCellType=void 0;var o,i=h(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),s=h(n(20)),l=h(n(1481)),u=h(n(452)),c=h(n(788)),d=h(n(59)),f=h(n(131));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={header:"header",body:"body"};t.QuickActionsCellType=_;var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(y(t=e.call.apply(e,[this].concat(r))||this),"state",{open:!1,canOpen:!0,menuTop:0,menuLeft:0,currWindowWidth:window.innerWidth}),b(y(t),"open",(function(){t.updateMenuLocation(),window.addEventListener("resize",(0,c.default)(t.updateMenuLocation,50)),t.setState({open:!0,canOpen:!1}),t.props.experimentDetails&&f.default.putRecord(t.props.experimentDetails)})),b(y(t),"close",(function(){window.removeEventListener("resize",(0,c.default)(t.updateMenuLocation,50)),t.setState({open:!1})})),b(y(t),"onClose",(function(){t.setState({open:!1,canOpen:!0})})),b(y(t),"updateMenuLocation",(function(){var e=t.icon.getBoundingClientRect(),n=window.innerWidth;n>u.default["content-width"]?t.setState({menuTop:e.bottom+window.pageYOffset,menuLeft:e.left-e.width-(n-t.state.currWindowWidth)/2,currWindowWidth:window.innerWidth}):t.setState({menuTop:e.bottom+window.pageYOffset,menuLeft:e.left-e.width+window.pageXOffset})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n),r.prototype.render=function(){var e=this,t=this.props.type,n={top:this.state.menuTop,left:this.state.menuLeft},r=t===_.header?E.actionButton.header:E.actionButton.body,o=this.state.open?E.hoverFocus.body:null,i=g(g(g({},E.icon),r),o);return a.default.createElement("span",{ref:function(t){return e.icon=t}},a.default.createElement(d.default,{icon:{header:"cog",body:"chevron-down"}[t],style:i,onClick:this.state.canOpen?this.open:void 0,className:"ui-test-section-dropdown ui-projects-table-dropdown"}),a.default.createElement(l.default,{targetPoint:n,isOpen:this.state.open,onClose:this.onClose,showTail:!1},this.props.children))},r}(a.Component);t.default=w,b(w,"propTypes",{children:i.default.oneOfType([i.default.node,i.default.array]).isRequired,type:i.default.oneOf(Object.keys(_)),experimentDetails:i.default.shape({study:i.default.string,study_group:i.default.string,event:i.default.string,user_id:i.default.number,data_json:i.default.string})}),b(w,"defaultProps",{type:_.body});var E={icon:{paddingLeft:5,paddingRight:5,paddingTop:4,paddingBottom:4,cursor:"pointer"},actionButton:(o={},b(o,_.body,{border:"1px solid "+s.default.white,borderRadius:5,color:s.default.darker_gray,margin:3}),b(o,_.header,{fontSize:20,lineHeight:"15px",color:s.default.charcoal}),o),hoverFocus:b({},_.body,{backgroundColor:s.default.lighter_gray,border:"1px solid "+s.default.light_gray,borderRadius:5,color:s.default.white})}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuccessDialog=y,t.processResults=function(e,t){t?t(n):n();function n(){var t=(0,s.getResult)(),n=t.response,r=t.result,u=t.errorDialog,p=t.testResult?t.testResult:r?100:0,h=t.submitted||!1;r?appOptions.dialog.skipSound||c.default.getSingleton().play("success"):(u?m(u):m(o.default.createElement(d.LegacyErrorDialog,null),null,g),appOptions.dialog.skipSound||c.default.getSingleton().play("failure")),window.dashboard.reporting.sendReport({program:n,fallbackResponse:appOptions.dialog.fallbackResponse,callback:appOptions.dialog.callback,app:appOptions.dialog.app,level:appOptions.dialog.level,result:r,pass:r,testResult:p,submitted:h,onComplete:function(){var t=window.dashboard.reporting.getLastServerResponse(),n=!!t.nextRedirect;if(e&&e(n),t.videoInfo)window.dashboard.videos.showVideoDialog(t.videoInfo);else if(t.endOfLessonExperience){var r=document.createElement("div"),s=t.previousStageInfo,u="".concat(f.default.lesson()," ").concat(s.position,": ").concat(s.name);a.default.render(o.default.createElement(i.default,{lessonName:u,onContinue:function(){c.hide()}}),r);var c=new l.default({body:r,width:800,redirect:t.nextRedirect});c.show()}else t.nextRedirect&&(appOptions.dialog.shouldShowDialog?m(y(appOptions),null,(function(){var e=window.dashboard.reporting.getLastServerResponse();e.nextRedirect&&(window.location.href=e.nextRedirect)})):window.location.href=t.nextRedirect)}})}},t.showDialog=m;var r=p(n(32)),o=p(n(1)),i=p(n(1879)),a=p(n(36)),s=n(760),l=p(n(753)),u=p(n(138)),c=p(n(631)),d=n(1693),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=!1;function m(e,t,n){if(!u.default.isEnabled(u.default.BYPASS_DIALOG_POPUP)){var o=document.createElement("div");a.default.render(e,o);var i=o.childNodes[0],s=new l.default({body:i,onHidden:n,autoResizeScrollableElement:".scrollable-element"});return(0,r.default)(i).find("#ok-button").click((function(){s.hide(),t&&t()})),(0,r.default)(i).find("#cancel-button").click((function(){s.hide()})),s.show(),s}}function g(){if(!h){var e=(0,r.default)(window),t=(0,r.default)(".mainblock");e.scrollTop()+e.height()<t.offset().top+t.height()-10&&(0,r.default)("html, body").animate({scrollTop:(0,r.default)(".submitButton:first").offset().top-10},1e3),h=!0}}function y(e){var t,n,r=e.level,i=r.options||{},a=e.dialog.app;return t=i.success_title?i.success_title:"text_match"===a&&!r.answers||r.submittable?f.default.thankyou():f.default.correct(),n=i.success_body?i.success_body:"text_match"!==a||r.answers?r.submittable&&"multi"===a?f.default.thankyouForAnswer():f.default.correctAnswer():f.default.thanksForYourResponse(),o.default.createElement(d.LegacySuccessDialog,{title:t,body:n})}},,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(36)),i=l(n(2292)),a=l(n(1001)),s=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){o.default.render(r.default.createElement(i.default,{i18n:{tos:t,contact_us:s.default.contactUs({url:"https://support.code.org/hc/en-us/requests/new?&description=".concat(encodeURIComponent("Abuse error for project at url: ".concat(e.getShareUrl())))}),edit_project:s.default.editProject(),go_to_code_studio:s.default.goToCodeStudio()},isOwner:e.isOwner()}),document.getElementById("codeApp")),(0,a.default)(e)},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=s(n(2)),o=s(n(1)),i=s(n(817)),a=s(n(1884));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t,n,r=e.i18n;e.isOwner?(t="edit",n=r.edit_project):(t="https://studio.code.org",n=r.go_to_code_studio);return o.default.createElement(a.default,null,o.default.createElement(i.default,{i18n:r,className:"exclamation-abuse"}),o.default.createElement("p",{className:"exclamation-abuse",style:{fontSize:18,lineHeight:"24px",padding:5}},o.default.createElement("a",{href:t},n)))}l.propTypes={i18n:r.default.shape({tos:r.default.string.isRequired,contact_us:r.default.string.isRequired,edit_project:r.default.string.isRequired,go_to_code_studio:r.default.string.isRequired}).isRequired,isOwner:r.default.bool.isRequired},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(767)),s=d(n(13)),l=n(1695),u=n(1907);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,a.default)((function(){return Promise.all([n.e(4),n.e(6),n.e(8)]).then(n.t.bind(n,1704,23))})),v={display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},b={display:"table",width:"100%"},_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(h(t=e.call.apply(e,[this].concat(r))||this),"handleChange",(function(e){t.props.onChange("country",e)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n),r.prototype.render=function(){var e=this.props,t=e.showRequiredIndicator,n=e.showErrorMsg,r=e.value,o=e.singleLineLayout,a=e.maxHeight,c=p(p({},l.styles.question),o&&v),d=p({},o&&b),f=n&&!r,h=i.default.createElement("div",{style:l.styles.errors},s.default.censusRequiredSelect());return i.default.createElement("div",null,i.default.createElement("div",{style:d},i.default.createElement("div",{style:c},o?s.default.country():s.default.schoolCountry(),t&&i.default.createElement("span",{style:l.styles.asterisk}," *"),f&&!o&&h),i.default.createElement(y,{name:this.props.fieldName,options:u.COUNTRIES,value:r,onChange:this.handleChange,placeholder:s.default.searchForCountry(),labelKey:"value",matchPos:"start",maxHeight:a})),f&&o&&h)},r}(i.Component);t.default=_,g(_,"propTypes",{onChange:o.default.func,showErrorMsg:o.default.bool,showRequiredIndicator:o.default.bool,value:o.default.string,fieldName:o.default.string,singleLineLayout:o.default.bool,maxHeight:o.default.number}),g(_,"defaultProps",{fieldName:"country_s"}),e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(13)),s=n(1907),l=n(1695),u=d(n(2543));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=["",a.default.schoolTypeCharter(),a.default.schoolTypePrivate(),a.default.schoolTypePublic(),a.default.other()],v={display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},b={display:"table",width:"100%",height:42,marginBottom:0},_={width:"100%",height:"auto"},w={height:"auto",width:"100%",marginBottom:0,boxSizing:"border-box"},E={marginTop:0,marginBottom:0,width:"100%"},O="__omit_field__",S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(h(t=e.call.apply(e,[this].concat(r))||this),"handleChange",(function(e,n){t.props.onChange(e,n)})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var o=r.prototype;return o.isNotBlank=function(e){return e&&""!==e},o.isFieldValid=function(e){return!(O!==e&&!this.isNotBlank(e))},o.isValid=function(){return!(!this.isFieldValid(this.props.schoolName)||!this.isFieldValid(this.props.schoolType))&&(this.props.useLocationSearch&&this.locationSearchRef?this.isFieldValid(this.locationSearchRef.value()):this.isFieldValid(this.props.schoolCity)&&this.isFieldValid(this.props.schoolState)&&this.isFieldValid(this.props.schoolZip))},o.renderLabel=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.singleLineLayout,o=n.showRequiredIndicators,a=p(p({},l.styles.question),r&&v);return i.default.createElement("div",{style:a},e,o&&t&&i.default.createElement("span",{style:l.styles.asterisk}," *"))},o.render=function(){var e=this,t=this.props.singleLineLayout,n=p({},t&&b),r=p(p({},l.styles.field),t&&_),o=p(p({},l.styles.input),t&&w),c=p(p({},l.styles.schoolNotFoundDropdown),t&&E),d=this.props.showErrorMsg&&!this.isValid(),f=i.default.createElement("div",{style:l.styles.errors},a.default.schoolInfoRequired()),h=!1;this.props.country&&"United States"===this.props.country&&(h=!0);var m=h;return this.props.isNcesSchool||(m=!1),i.default.createElement("div",null,!t&&i.default.createElement("div",{style:l.styles.question},a.default.schoolNotFoundDescription(),d&&f),i.default.createElement("div",null,this.props.schoolName!==O&&i.default.createElement("div",{style:r},i.default.createElement("label",{style:n},this.renderLabel(this.props.schoolNameLabel,m),i.default.createElement("input",{id:"school_name",type:"text",name:this.props.fieldNames.schoolName,value:this.props.schoolName,onChange:this.handleChange.bind(this,"schoolName"),style:o}))),this.props.schoolType!==O&&i.default.createElement("div",{style:r},i.default.createElement("label",{style:n},this.renderLabel(a.default.schoolType(),h),i.default.createElement("select",{id:"school_type",name:this.props.fieldNames.schoolType,value:this.props.schoolType,onChange:this.handleChange.bind(this,"schoolType"),style:c},y.map((function(e,t){return i.default.createElement("option",{value:e,key:t},e)})))))),i.default.createElement("div",null,this.props.schoolCity!==O&&!this.props.useLocationSearch&&i.default.createElement("div",{style:r},i.default.createElement("label",{style:n},this.renderLabel(a.default.schoolCity()),i.default.createElement("input",{id:"school_city",type:"text",name:this.props.fieldNames.schoolCity,value:this.props.schoolCity,onChange:this.handleChange.bind(this,"schoolCity"),style:o}))),this.props.schoolState!==O&&!this.props.useLocationSearch&&i.default.createElement("div",{style:r},i.default.createElement("label",{style:n},this.renderLabel(a.default.schoolState()),i.default.createElement("select",{id:"school_state",name:this.props.fieldNames.schoolState,value:this.props.schoolState,onChange:this.handleChange.bind(this,"schoolState"),style:c},s.STATES.map((function(e,t){return i.default.createElement("option",{value:e,key:t},e)})))))),this.props.schoolZip!==O&&!this.props.useLocationSearch&&i.default.createElement("div",{style:r},i.default.createElement("label",{style:n},this.renderLabel(a.default.schoolZip()),i.default.createElement("input",{id:"school_zipcode",type:"text",name:this.props.fieldNames.schoolZip,value:this.props.schoolZip,onChange:this.handleChange.bind(this,"schoolZip"),style:o}))),this.props.useLocationSearch&&i.default.createElement("div",{style:r},i.default.createElement("label",{style:n},this.renderLabel(a.default.schoolCityTown(),!1),i.default.createElement(u.default,{ref:function(t){return e.locationSearchRef=t},name:this.props.fieldNames.googleLocation,value:this.props.schoolLocation,onChange:this.handleChange.bind(this,"schoolLocation"),style:o,locationTypes:["country","region","place","postcode","locality","neighborhood"]}))),i.default.createElement("div",{style:l.styles.clear}),t&&d&&f)},r}(i.Component);t.default=S,g(S,"propTypes",{onChange:o.default.func,schoolName:o.default.string,schoolCity:o.default.string,schoolState:o.default.string,schoolZip:o.default.string,schoolType:o.default.string,schoolLocation:o.default.string,country:o.default.string,controlSchoolLocation:o.default.bool,fieldNames:o.default.object,showErrorMsg:o.default.bool,isNcesSchool:o.default.bool,singleLineLayout:o.default.bool,showRequiredIndicators:o.default.bool,schoolNameLabel:o.default.string,useLocationSearch:o.default.bool}),g(S,"defaultProps",{showRequiredIndicators:!0,controlSchoolLocation:!1,schoolNameLabel:a.default.schoolName(),fieldNames:{schoolName:"school_name_s",schoolType:"school_type_s",schoolCity:"school_city_s",schoolState:"school_state_s",schoolZip:"school_zip_s",googleLocation:"registration_location"}}),g(S,"OMIT_FIELD",O),e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=(o=n(2))&&o.__esModule?o:{default:o};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e={lg:3,md:2,sm:1,xs:1}[this.props.responsiveSize];return i.default.createElement("div",null,this.props.children.map((function(t,n){return i.default.createElement("div",{key:n,style:c(c({},h.cardContainer),n%e==0?h.startRow:h.inRow)},t)})))},r}(i.Component);f(p,"propTypes",{children:s.default.any,responsiveSize:s.default.string.isRequired});var h={container:{width:"100%",display:"flex",justifyContent:"space-between"},regularRow:{marginBottom:20},cardContainer:{float:"left"},inRow:{paddingLeft:20,paddingTop:20},startRow:{clear:"both",paddingTop:20}},m=(0,a.connect)((function(e){return{responsiveSize:e.responsive.responsiveSize}}))(p);t.default=m,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(1)),i=u(n(2)),a=d(n(1251)),s=u(n(13)),l=u(n(32));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={numFeedbackLevels:0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var i=r.prototype;return i.UNSAFE_componentWillMount=function(){var e=this,t=this.props.studentId;l.default.ajax({url:"/api/v1/teacher_feedbacks/count?student_id=".concat(t),method:"GET",dataType:"json"}).done((function(t){e.setState({numFeedbackLevels:t})}))},i.render=function(){var e=s.default.feedbackNotificationDetails({numFeedbackLevels:this.state.numFeedbackLevels});return this.state.numFeedbackLevels?o.default.createElement(a.default,{type:a.NotificationType.feedback,notice:this.props.isProfessionalLearningCourse?s.default.feedbackNotificationInstructor():s.default.feedbackNotification(),details:e,buttonText:s.default.feedbackNotificationButton(),buttonLink:"/feedback",dismissible:!1,googleAnalyticsId:"student-feedback"}):null},r}(o.Component);t.default=g,p=g,h="propTypes",m={studentId:i.default.number.isRequired,isProfessionalLearningCourse:i.default.bool},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=f(n(2654)),s=f(n(20)),l=f(n(13)),u=n(33),c=n(2539);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var h,m,g,y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var o=r.prototype;return o.getPageTitle=function(){return"Vocabulary"===this.props.objectToRollUp?l.default.rollupTitleVocab({title:this.props.course.title}):"Resources"===this.props.objectToRollUp?l.default.rollupTitleResources({title:this.props.course.title}):"Standards"===this.props.objectToRollUp?l.default.rollupTitleStandards({title:this.props.course.title}):"Code"===this.props.objectToRollUp?l.default.rollupTitleCode({title:this.props.course.title}):void 0},o.render=function(){var e=this;return i.default.createElement("div",null,i.default.createElement("a",{href:(0,u.linkWithQueryParams)(this.props.course.link),style:v.navLink},"< ".concat(this.props.course.title)),i.default.createElement("h1",null,this.getPageTitle()),this.props.course.units.map((function(t){return i.default.createElement("div",{key:t.name},i.default.createElement("h3",{style:v.h1},t.title),i.default.createElement(a.default,{objectToRollUp:e.props.objectToRollUp,unit:t}))})))},r}(i.Component);t.default=y,h=y,m="propTypes",g={objectToRollUp:o.default.string,course:c.courseShape},m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g;var v={h1:{color:s.default.teal},navLink:{fontSize:14,lineHeight:"22px",color:s.default.purple,margin:"10px 0px"}};e.exports=t.default},,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=f(n(2654)),s=f(n(13)),l=n(33),u=f(n(20)),c=n(2539);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var h,m,g,y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var o=r.prototype;return o.getPageTitle=function(){return"Vocabulary"===this.props.objectToRollUp?s.default.rollupTitleVocab({title:this.props.unit.title}):"Resources"===this.props.objectToRollUp?s.default.rollupTitleResources({title:this.props.unit.title}):"Standards"===this.props.objectToRollUp?s.default.rollupTitleStandards({title:this.props.unit.title}):"Code"===this.props.objectToRollUp?s.default.rollupTitleCode({title:this.props.unit.title}):void 0},o.render=function(){return i.default.createElement("div",null,i.default.createElement("a",{href:(0,l.linkWithQueryParams)(this.props.unit.link),style:v.navLink},"< ".concat(this.props.unit.title)),i.default.createElement("h1",null,this.getPageTitle()),i.default.createElement(a.default,{objectToRollUp:this.props.objectToRollUp,unit:this.props.unit}))},r}(i.Component);t.default=y,h=y,m="propTypes",g={objectToRollUp:o.default.string,unit:c.unitShape},m in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g;var v={navLink:{fontSize:14,lineHeight:"22px",color:u.default.purple,margin:"10px 0px"}};e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,e=>{var t={};e.exports={startTiming:function(e,n,r){t[e+n+r]=(new Date).getTime()},stopTiming:function(e,n,r){var o=e+n+r,i=(new Date).getTime(),a=t[o];ga("send","timing",e,n,i-a,r)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l((0,r.default)(e.email_selector).val());if(""!==t&&a.test(t)){var n=s(t);(0,r.default)(e.hashed_email_selector).val(n),e.skip_clear_email||(!e.age_selector||(0,r.default)(e.age_selector).val()<13)&&(0,r.default)(e.email_selector).val("")}},t.hashEmail=s;var r=i(n(32)),o=i(n(204));function i(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;function s(e){return(0,o.default)(l(e)).toString()}function l(e){return e.toLowerCase().trim()}},,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unitShape=t.lessonShape=t.courseShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=o.default.shape({key:o.default.string.isRequired,link:o.default.string.isRequired,position:o.default.number.isRequired,displayName:o.default.string.isRequired,vocabularies:o.default.array.isRequired,programmingExpressions:o.default.array.isRequired,preparation:o.default.string,resources:o.default.object.isRequired});t.lessonShape=i;var a=o.default.shape({name:o.default.string.isRequired,link:o.default.string.isRequired,title:o.default.string.isRequired,lessons:o.default.arrayOf(i)});t.unitShape=a;var s=o.default.shape({link:o.default.string.isRequired,title:o.default.string.isRequired,units:o.default.arrayOf(a)});t.courseShape=s},,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MapboxLocationSearchField=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(13)),a=n(27);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var a=r.prototype;return a.addMapboxInput=function(){var e=this;if(this.props.mapboxAccessToken&&!this.props.readOnly){var t=new MapboxGeocoder({accessToken:this.props.mapboxAccessToken,types:this.props.locationTypes.join(","),placeholder:this.props.placeholder||i.default.schoolLocationSearchPlaceholder()});t.addTo("#".concat(this.searchContainerRef.id)),t.setInput(this.props.value),t.on("result",(function(t){var n=t&&t.result&&t.result.place_name;e.props.onChange({target:{value:n}})})),t.on("loading",(function(t){var n=t&&t.query;e.props.onChange({target:{value:n}})})),t.on("clear",(function(t){e.props.onChange({target:{value:""}})}))}},a.componentDidMount=function(){this.addMapboxInput()},a.componentDidUpdate=function(e){e.readOnly===this.props.readOnly&&e.mapboxAccessToken===this.props.mapboxAccessToken||this.addMapboxInput()},a.render=function(){var e=this,t=o.default.createElement("div",{id:"mapbox-geocoder-container",ref:function(t){return e.searchContainerRef=t}});return!this.props.readOnly&&this.props.mapboxAccessToken||(t=o.default.createElement("input",{type:"text",style:this.props.style,className:"".concat(this.props.className," readOnly"),value:this.props.value,disabled:this.props.readOnly,onChange:this.props.onChange})),o.default.createElement("div",{id:"mapbox-location-search-container"},t)},r}(o.default.Component);t.MapboxLocationSearchField=c,u(c,"propTypes",{mapboxAccessToken:r.default.string,value:r.default.string,onChange:r.default.func,placeholder:r.default.string,readOnly:r.default.bool,style:r.default.object,className:r.default.string,locationTypes:r.default.array}),u(c,"defaultProps",{locationTypes:["address","country","region","place","postcode","locality","neighborhood"]});var d=(0,a.connect)((function(e){return{mapboxAccessToken:e.mapbox.mapboxAccessToken}}))(c);t.default=d},e=>{"use strict";e.exports=function(){}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(1881)),s=c(n(2414)),l=n(735);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){return i.default.createElement(s.default,null,this.props.cards.map((function(e,t){return i.default.createElement(a.default,{linkId:e.linkId,linkClass:e.linkClass,key:t,title:e.heading,description:e.description,buttonText:e.buttonText,link:(0,l.pegasus)(e.path)})})))},r}(i.Component);f=m,p="propTypes",h={cards:o.default.arrayOf(o.default.shape({linkId:o.default.string,linkClass:o.default.string,heading:o.default.string.isRequired,description:o.default.string.isRequired,path:o.default.string.isRequired,buttonText:o.default.string.isRequired})).isRequired},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h;var g=m;t.default=g,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(2)),a=n(735),s=u(n(20)),l=u(n(74));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,p(t,r),i.prototype.render=function(){var e=this.props,t=e.altText,r=e.title,i=e.description,s=e.link,u=e.buttonText,c=e.jumbo,d=e.MCShareLink,p=e.image,h=e.hasAdjustableHeight,m=h?{}:g.cardHeight,y=f(f({},c?g.jumboCard:g.card),m),v=h?{}:g.imageHeight,b=f(f({},c?g.jumboImage:g.image),v),_=h?g.description:f(f({},g.description),g.descriptionHeight),w={"another-hoc":n(2851),"applab-marketing":n(2852),"applab-project":n(2853),"applab-tutorial":n(2854),"create-account":n(2855),"csf-express":n(2856),"course-catalog":n(2857),"hero-minecraft":n(2858),"old-minecraft":n(2859),"minecraft-marketing":n(2860),"aquatic-minecraft":n(2861),"codeorg-teacher":n(2862),"third-party-teacher":n(2863),"third-party-teacher-small":n(2864),maker:n(2865),"dance-party":n(2866),"dance-party-2":n(2867),"dance-party-2-2019":n(2868),"dance-party-sloth-2019":n(2869),course2:(0,a.pegasus)("/shared/images/courses/logo_tall_course2.jpg"),course3:(0,a.pegasus)("/shared/images/courses/logo_tall_course3.jpg"),course4:(0,a.pegasus)("/shared/images/courses/logo_tall_course4.jpg"),courseB:(0,a.pegasus)("/shared/images/courses/logo_tall_courseb.png"),courseC:(0,a.pegasus)("/shared/images/courses/logo_tall_coursec.png"),courseD:(0,a.pegasus)("/shared/images/courses/logo_tall_coursed.png"),courseE:(0,a.pegasus)("/shared/images/courses/logo_tall_coursee.png"),courseF:(0,a.pegasus)("/shared/images/courses/logo_tall_coursef.png")}[p];return o.default.createElement("div",{style:y},o.default.createElement("div",{style:b},o.default.createElement("a",{href:s},o.default.createElement("img",{src:w,alt:t}))),o.default.createElement("div",null,o.default.createElement("div",{style:f(f({},g.text),g.title)},r),o.default.createElement("div",{style:f(f({},g.text),_)},i,d&&o.default.createElement("input",{type:"text",style:f(f({},g.text),g.shareLink),value:d,onChange:function(){},onClick:function(e){return e.target.select()}})),o.default.createElement(l.default,{__useDeprecatedTag:!0,href:s,color:l.default.ButtonColor.gray,text:u,style:f({},g.button)})))},i}(o.Component);h(m,"propTypes",{altText:i.default.string,title:i.default.string.isRequired,description:i.default.string.isRequired,buttonText:i.default.string.isRequired,link:i.default.string.isRequired,image:i.default.string.isRequired,MCShareLink:i.default.string,jumbo:i.default.bool,hasAdjustableHeight:i.default.bool}),m.defaultProps={altText:""};var g={card:{overflow:"hidden",borderWidth:1,borderStyle:"solid",borderColor:s.default.border_gray,width:308,backgroundColor:s.default.white},jumboCard:{overflow:"hidden",borderWidth:1,borderStyle:"solid",borderColor:s.default.border_gray,width:473,marginBottom:20,backgroundColor:s.default.white},cardHeight:{height:440},image:{width:310},jumboImage:{width:473},imageHeight:{height:220},text:{fontFamily:'"Gotham 4r", sans-serif',color:s.default.charcoal},title:{paddingTop:20,paddingLeft:20,paddingRight:20,paddingBottom:15,fontSize:20},button:{margin:20},description:{paddingLeft:20,paddingRight:20,fontSize:14,lineHeight:1.5},descriptionHeight:{height:89},shareLink:{borderWidth:1,borderStyle:"solid",borderColor:s.default.border_gray,fontSize:14,marginTop:5,padding:5,width:258}},y=m;t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(1647),s=n(735),l=c(n(13));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props,t=e.isEnglish,n=e.isTeacher,r=t&&n?l.default.teacherAnnouncementSpecialWinter2021Heading():l.default.studentAnnouncementSpecial2022HocHeading(),o=t&&n?l.default.teacherAnnouncementSpecialWinter2021Body():l.default.studentAnnouncementSpecial2022HocBody(),u=n?"teacher_homepage_announcement_special_winter2021":"student_homepage_announcement_special2020",c=n&&t?(0,s.pegasus)("/ai"):(0,s.pegasus)("/hourofcode2022"),d=n&&t?l.default.joinUs():l.default.learnMore(),f=n&&t?(0,s.pegasus)("/shared/images/fill-540x300/announcement/announcement_hoc2020_ai.png"):(0,s.pegasus)("/shared/images/fill-540x300/announcement/announcement_special_hoc2022.png");return i.default.createElement(a.TwoColumnActionBlock,{imageUrl:f,subHeading:r,description:o,buttons:[{id:u,url:c,text:d}]})},r}(i.Component);t.default=p,f(p,"propTypes",{isEnglish:o.default.bool,isTeacher:o.default.bool}),f(p,"defaultProps",{isEnglish:!0}),e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=u(n(1)),a=u(n(1251)),s=c(n(13));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){return i.default.createElement(a.default,{type:a.NotificationType.warning,notice:s.default.verifiedResourcesNotice(),details:this.props.inLesson?s.default.verifiedResourcesLessonDetails():s.default.verifiedResourcesDetails(),buttonText:s.default.learnMore(),buttonLink:"https://support.code.org/hc/en-us/articles/115001550131",dismissible:!0,width:this.props.width})},r}(i.PureComponent);t.default=f,f.propTypes={width:o.default.number,inLesson:o.default.bool},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(1)),i=c(n(13)),a=c(n(143)),s=c(n(74)),l=c(n(394)),u=n(33);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(d(t=e.call.apply(e,[this].concat(r))||this),"redirect",(function(){(0,u.navigateToHref)(t.props.redirectUrl)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.details,r=e.handleClose,u=e.redirectButtonText;return o.default.createElement(a.default,{useUpdatedStyles:!0,isOpen:t,style:m.dialog,handleClose:r},o.default.createElement("div",null,o.default.createElement("h2",{style:m.dialogHeader},i.default.notInRightPlace()),n),o.default.createElement(l.default,null,o.default.createElement(s.default,{__useDeprecatedTag:!0,text:i.default.stayHere(),onClick:r,color:s.default.ButtonColor.gray}),o.default.createElement(s.default,{__useDeprecatedTag:!0,text:u,onClick:this.redirect,color:s.default.ButtonColor.orange})))},r}(o.default.Component);t.default=h,p(h,"propTypes",{isOpen:r.default.bool.isRequired,details:r.default.string.isRequired,handleClose:r.default.func.isRequired,redirectUrl:r.default.string.isRequired,redirectButtonText:r.default.string.isRequired});var m={dialog:{padding:20},dialogHeader:{marginTop:0}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=h(n(2)),i=p(n(1)),a=h(n(13)),s=n(977),l=p(n(1481)),u=p(n(3522)),c=h(n(3029)),d=h(n(53));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,d.default)(u.columnWidths).values().reduce(d.default.add)+2*l.STANDARD_PADDING,b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(t=e.call.apply(e,[this].concat(r))||this),"state",{isMenuOpen:!1,targetPoint:{top:0,left:0}}),y(m(t),"handleMouseDown",(function(e){e.preventDefault()})),y(m(t),"handleClick",(function(){t.state.isMenuOpen||t.openMenu()})),y(m(t),"closeMenu",(function(){return t.setState({isMenuOpen:!1})})),y(m(t),"handleNativeDropdownChange",(function(e){var n=e.target.value;t.props.onChangeVersion(n.id)})),y(m(t),"chooseMenuItem",(function(e){t.props.onChangeVersion(e.id),t.closeMenu()})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n);var o=r.prototype;return o.openMenu=function(){var e=this.select.getBoundingClientRect(),t={top:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset};this.setState({isMenuOpen:!0,targetPoint:t})},o.render=function(){var e=this,t=this.props,n=t.dropdownStyle,r=t.courseVersions,o=t.disabled,s=t.selectedCourseVersionId,f={x:this.props.rightJustifiedPopupMenu?-v/2:0,y:0},p=d.default.orderBy(r,"key","desc");return i.default.createElement("span",{style:_.version,id:"uitest-version-selector"},i.default.createElement("div",{style:_.dropdownLabel},a.default.assignmentSelectorVersion()),i.default.createElement("select",{id:"assignment-version-year",value:s,onChange:this.handleNativeDropdownChange,onMouseDown:this.handleMouseDown,onClick:this.handleClick,style:n,disabled:o,ref:function(t){return e.select=t}},Object.values(p).map((function(e){return i.default.createElement("option",{key:e.id,value:e.id},e.is_recommended?"".concat(e.version_year," (").concat(a.default.recommended(),")"):e.version_year)}))),i.default.createElement(l.default,{isOpen:this.state.isMenuOpen,targetPoint:this.state.targetPoint,offset:f,style:_.popUpMenuStyle,onClose:this.closeMenu},i.default.createElement(c.default,null),Object.values(p).map((function(t){return i.default.createElement(u.default,{selectedCourseVersionId:s,courseVersion:t,onClick:function(){return e.chooseMenuItem(t)},key:t.id})}))))},r}(i.Component);t.default=b,y(b,"propTypes",{dropdownStyle:o.default.object,onChangeVersion:o.default.func.isRequired,selectedCourseVersionId:o.default.number,courseVersions:o.default.objectOf(s.assignmentCourseVersionShape),disabled:o.default.bool,rightJustifiedPopupMenu:o.default.bool});var _={version:{display:"inline-block",marginTop:4},dropdownLabel:{fontFamily:'"Gotham 5r", sans-serif'},popUpMenuStyle:{zIndex:1051,maxWidth:null,width:v}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=p(n(13)),s=p(n(131)),l=n(33),u=p(n(1486)),c=p(n(74)),d=n(3721);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(h(t=e.call.apply(e,[this].concat(r))||this),"normalizeUrl",(function(e){return/https?:\/\//.test(e)?e:"https://"+e})),g(h(t),"downloadResource",(function(e,n){e.preventDefault(),s.default.putRecord({study:"resources-rollup"===t.props.pageType?"course-rollup-pages":"lesson-plan",study_group:t.props.pageType,event:"download-resource",data_int:n.id,data_json:JSON.stringify({resourceId:n.id})},{includeUserId:!0,callback:function(){(0,l.windowOpen)(t.normalizeUrl(n.download_url),"noopener","noreferrer")}})})),g(h(t),"openResource",(function(e,n){e.preventDefault(),s.default.putRecord({study:"resources-rollup"===t.props.pageType?"rollup-pages":"lesson-plan",study_group:t.props.pageType,event:"open-resource",data_int:n.id,data_json:JSON.stringify({resourceId:n.id})},{includeUserId:!0,callback:function(){(0,l.windowOpen)(t.normalizeUrl(n.url),"noopener","noreferrer")}})})),g(h(t),"createResourceListItem",(function(e){return i.default.createElement("li",{key:e.key},i.default.createElement("a",{onClick:function(n){t.openResource(n,e)},href:e.url},e.name),e.type&&" -  ".concat(e.type," "),e.download_url&&i.default.createElement("span",null," (",i.default.createElement("a",{onClick:function(n){t.downloadResource(n,e)},href:e.download_url},"".concat(a.default.download())),")"),(0,d.isGDocsUrl)(e.url)&&i.default.createElement(u.default,{text:a.default.makeACopy(),color:c.default.ButtonColor.gray,size:c.default.ButtonSize.small},i.default.createElement("a",{href:(0,d.gDocsPdfUrl)(e.url)},"PDF"),i.default.createElement("a",{href:(0,d.gDocsMsOfficeUrl)(e.url)},"Microsoft Office"),i.default.createElement("a",{href:(0,d.gDocsCopyUrl)(e.url)},"Google Docs")))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n),r.prototype.render=function(){var e=this;return i.default.createElement("div",null,i.default.createElement("ul",null,this.props.resources.map((function(t){return e.createResourceListItem(t)}))))},r}(i.Component);t.default=y,g(y,"propTypes",{resources:o.default.arrayOf(o.default.object).isRequired,pageType:o.default.oneOf(["student-lesson-plan","teacher-lesson-plan","resources-rollup"]).isRequired}),e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(165)),i=s(n(13)),a=s(n(3524));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){return r.default.createElement("div",null,r.default.createElement("div",{style:{display:"flex",flexWrap:"nowrap",alignItems:"baseline",margin:"20px 0 5px 0"}},r.default.createElement("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},r.default.createElement("img",{style:{height:40,paddingRight:10},src:a.default,alt:"Creative Commons License (CC BY-NC-SA 4.0)."})),r.default.createElement(o.default,{markdown:i.default.licenseInformation({link:"http://creativecommons.org/licenses/by-nc-sa/4.0/"}),openExternalLinksInNewTab:!0})),r.default.createElement(o.default,{markdown:i.default.licenseMaterials({link:"https://code.org/contact"})}))};t.default=l,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=s(n(1)),o=s(n(2)),i=s(n(13)),a=n(3525);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children,n=e.categoriesForNavigation,o=e.programmingEnvironmentTitle,s=e.currentCategoryKey,l=e.currentDocId;return r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",null,i.default.programmingEnvironmentDocumentation({programmingEnvironmentTitle:o})),r.default.createElement("div",{style:{display:"flex",gap:25,width:"100%"},className:"page-content"},r.default.createElement(a.NavigationBar,{initialCategoryKey:s},n.map((function(e){return r.default.createElement(a.NavigationCategory,{key:e.key,name:e.name,color:e.color,initialIsOpen:e.key===s,useColorWhenClosed:!0},e.docs.map((function(e){return r.default.createElement(a.NavigationItem,{key:e.key,text:e.name,indentLevel:1,href:e.link,isActive:e.id===l})})))}))),t))}l.propTypes={children:o.default.node.isRequired,categoriesForNavigation:o.default.arrayOf(o.default.object).isRequired,programmingEnvironmentTitle:o.default.string.isRequired,currentCategoryKey:o.default.string,currentDocId:o.default.number},e.exports=t.default},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(3082)),a=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(l(t=e.call.apply(e,[this].concat(r))||this),"state",{isLoading:!0,projectList:t.props.projectList||[]}),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var s=r.prototype;return s.UNSAFE_componentWillMount=function(){var e=this;0===this.state.projectList.length?a.default.ajax({method:"GET",url:"/v3/channels",dataType:"json"}).done((function(t){e.setState({isLoading:!1,projectList:t})})):this.setState({isLoading:!1})},s.render=function(){var e=this.props,t=e.canViewAdvancedTools,n=e.canViewFullList;return o.default.createElement(i.default,{projectList:this.state.projectList,projectTypes:this.props.projectTypes,isLoading:this.state.isLoading,canViewFullList:n,canViewAdvancedTools:t})},r}(o.default.Component);c(d,"propTypes",{projectTypes:r.default.arrayOf(r.default.string),projectList:r.default.array,canViewFullList:r.default.bool,canViewAdvancedTools:r.default.bool});var f=d;t.default=f,e.exports=t.default},,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(document).ready((function(){var n=(0,u.getStore)();n.dispatch((0,c.setUserSignedIn)(p())),e&&n.dispatch((0,c.setUserType)(e,t));var r=document.createElement("div");i.default.render(o.default.createElement(a.Provider,{store:n},o.default.createElement(l.default,null)),r),document.body.appendChild(r)}))},t.getUserSignedInFromCookieAndDom=p;var r=f(n(32)),o=f(n(1)),i=f(n(36)),a=n(27),s=f(n(179)),l=f(n(2848)),u=n(876),c=n(491),d=n(388);function f(e){return e&&e.__esModule?e:{default:e}}function p(){if(s.default.get((0,d.environmentSpecificCookieName)("_shortName")))return!0;var e=document.querySelector(".header_button.header_user.user_menu .display_name");return!(!e||!e.dataset.id)}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onDismissRedirectWarning=t.onDismissRedirectDialog=t.onDismissRedirect=t.dismissedRedirectWarning=t.dismissedRedirectDialog=t.dismissedRedirect=void 0;var n="dismissedRedirectWarnings",r="dismissedRedirectDialogs",o=function(e,t){return(sessionStorage.getItem(e)||"").split(",").includes(t)};t.dismissedRedirect=o;t.dismissedRedirectWarning=function(e){return o(n,e)};t.dismissedRedirectDialog=function(e){return o(r,e)};var i=function(e,t){var n=sessionStorage.getItem(e);n?n+=",".concat(t):n=t,sessionStorage.setItem(e,n)};t.onDismissRedirect=i;t.onDismissRedirectWarning=function(e){return i(n,e)};t.onDismissRedirectDialog=function(e){return i(r,e)}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareBlocklyForEmbedding=void 0;var o,i=n(876),a=n(136),s=n(1347),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(885)),u=n(1309),c=(o=n(845))&&o.__esModule?o:{default:o},d=n(618);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.prepareBlocklyForEmbedding=function(e){e&&(Blockly.assetUrl=c.default,Blockly.typeHints=!0,Blockly.Css.inject(document),(0,a.registerReducers)({animationList:l.default}),(0,i.getStore)().dispatch((0,l.setInitialAnimationList)(u.exampleSprites)),Blockly.valueTypeTabShapeMap=(0,u.valueTypeTabShapeMap)(Blockly),(0,d.installCustomBlocks)({blockly:Blockly,blockDefinitions:e,customInputTypes:s.customInputTypes}))}},(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;if(t.type===i)return r(r({},e),{},{mapboxAccessToken:t.mapboxAccessToken});return e},t.setMapboxAccessToken=function(e){return{type:i,mapboxAccessToken:e}};var i="mapbox/SET_MAPBOX_ACCESS_TOKEN",a={mapboxAccessToken:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=c(n(2581)),s=c(n(1592)),l=c(n(13));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(d(t=e.call.apply(e,[this].concat(r))||this),"cards",[{heading:l.default.courseBlocksGradeBandsK5(),description:l.default.courseBlocksGradeBandsK5Description(),buttonText:l.default.courseBlocksGradeBandsK5Button(),path:"/student/elementary"},{heading:l.default.courseBlocksGradeBands612(),description:l.default.courseBlocksGradeBands612Description(),buttonText:l.default.courseBlocksGradeBands612Button(),path:"/student/middle-high"},{heading:l.default.courseBlocksGradeBandsUniversity(),description:l.default.courseBlocksGradeBandsUniversityDescription(),buttonText:l.default.courseBlocksGradeBandsUniversityButton(),path:"/beyond"}]),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this.props,t=e.showContainer,n=e.hideBottomMargin,r=t?"/home/#recent-courses":"",o=t?l.default.viewMyRecentCourses():"",u=t?l.default.courseBlocksGradeBandsContainerHeading():"",c=t?l.default.courseBlocksGradeBandsContainerDescription():"";return i.default.createElement(s.default,{link:r,linkText:o,heading:u,description:c,hideBottomMargin:n},i.default.createElement(a.default,{cards:this.cards}))},r}(i.Component);p(h,"propTypes",{showContainer:o.default.bool.isRequired,hideBottomMargin:o.default.bool.isRequired});var m=h;t.default=m,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(1592)),a=u(n(2414)),s=u(n(2582)),l=u(n(1494));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var f,p,h,m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props.cards;return o.default.createElement(i.default,{heading:"",description:"",hideBottomMargin:!0},o.default.createElement(a.default,null,e.map((function(e,t){return o.default.createElement(s.default,{key:t,title:e.title,description:e.description,buttonText:e.buttonText,link:e.link,image:e.image,MCShareLink:e.MCShareLink})}))))},r}(o.Component);t.default=m,f=m,p="propTypes",h={cards:l.default.courses},p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h,e.exports=t.default},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(20)),s=d(n(13)),l=d(n(143)),u=d(n(74));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this.props,t=e.sectionName,n=e.assignmentName,r=e.onClose,o=e.onConfirm;return i.default.createElement(l.default,{isOpen:!0,handleClose:r},i.default.createElement("div",{style:y.header,className:"uitest-confirm-assignment-dialog"},s.default.unhideAndAssignHeader()),i.default.createElement("div",{style:y.content},s.default.assignHiddenUnitConfirm({assignmentName:n,sectionName:t})),i.default.createElement("div",{style:{textAlign:"right"}},i.default.createElement(u.default,{__useDeprecatedTag:!0,text:s.default.dialogCancel(),onClick:r,color:u.default.ButtonColor.gray}),i.default.createElement(u.default,{__useDeprecatedTag:!0,id:"confirm-assign",text:s.default.unhideUnitAndAssign(),style:{marginLeft:5},onClick:o,color:u.default.ButtonColor.orange})))},r}(i.Component);t.default=g,p=g,h="propTypes",m={sectionName:o.default.string.isRequired,assignmentName:o.default.string.isRequired,onClose:o.default.func.isRequired,onConfirm:o.default.func.isRequired},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={header:{fontSize:16,marginBottom:5,fontWeight:"bold"},content:{fontSize:14,marginBottom:10,marginTop:10,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderLeftWidth:0,borderRightWidth:0,borderStyle:"solid",borderColor:a.default.lighter_gray}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=l(n(59)),a=l(n(20)),s=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){return o.default.createElement("span",{style:f.assigned,className:"uitest-assigned"},o.default.createElement("span",{style:f.checkmark},o.default.createElement(i.default,{icon:"check"})),s.default.assigned())},r}(o.Component);t.default=d;var f={checkmark:{padding:5},assigned:{color:a.default.level_perfect,fontSize:16,fontFamily:'"Gotham 5r", sans-serif',lineHeight:"36px",marginLeft:10,verticalAlign:"top",display:"flex",alignItems:"center"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=u(n(3030)),s=n(2539);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d,f,p,h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e=this;return i.default.createElement("div",null,this.props.unit.lessons.map((function(t){return i.default.createElement(a.default,{objectToRollUp:e.props.objectToRollUp,lesson:t,key:t.key})})))},r}(i.Component);t.default=h,d=h,f="propTypes",p={objectToRollUp:o.default.string,unit:s.unitShape},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=p(n(2)),a=p(n(13)),s=p(n(74)),l=p(n(1486)),u=p(n(20)),c=n(1694),d=n(33),f=p(n(131));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){var t,n;function r(t){var n;b(y(n=e.call(this,t)||this),"handleDropdownClick",(function(e,t){e.preventDefault(),t.link?f.default.putRecord({study:"lesson-plan",study_group:n.props.isStudentLessonPlan?"student-lesson-plan":"teacher-lesson-plan",event:"navigate-between-lessons",data_int:n.props.lesson.id,data_json:JSON.stringify({startingLessonId:n.props.lesson.id,endingLessonId:t.id})},{includeUserId:!0,callback:function(){(0,d.navigateToHref)((0,d.linkWithQueryParams)(t.link))}}):n.setState({currentSection:t.sectionNumber})})),b(y(n),"createSectionsOfLessons",(function(){var e=n.props.lesson,t=[];return e.unit.lessonGroups.forEach((function(e,r){e.userFacing&&t.push({displayName:e.displayName,sectionNumber:r+1}),r+1===n.state.currentSection&&e.lessons.forEach((function(e){t.push(e)}))})),t}));var r=t.lesson.unit.lessonGroups.findIndex((function(e){return e.lessons.some((function(e){return e.key===t.lesson.key}))}))+1;return n.state={currentSection:r},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n),r.prototype.render=function(){var e=this,t=this.props.lesson,n=this.createSectionsOfLessons();return o.default.createElement("div",{style:w.dropdown},o.default.createElement(l.default,{text:a.default.otherLessonsInUnit(),color:s.default.ButtonColor.purple,className:"uitest-lesson-dropdown-nav"},n.map((function(n,r){return o.default.createElement("a",{key:r,onClick:function(t){return e.handleDropdownClick(t,n)},href:n.link&&(0,d.linkWithQueryParams)(n.link),className:n.link?"navigate":"no-navigation",style:n.link?w.lesson:w.section},n.link&&o.default.createElement("span",{style:{marginLeft:10}},o.default.createElement("span",{style:g(g({},{margin:"0px 2px"}),n.key===t.key&&w.boldText)},"".concat(n.position," - ").concat(n.displayName))),!n.link&&o.default.createElement("span",null,n.displayName))}))))},r}(o.Component);t.default=_,b(_,"propTypes",{lesson:c.navigationLessonShape.isRequired,isStudentLessonPlan:i.default.bool});var w={dropdown:{display:"inline-block"},boldText:{fontFamily:'"Gotham 7r", sans-serif'},section:{width:300,fontFamily:'"Gotham 4r", sans-serif',backgroundColor:u.default.lightest_purple},lesson:{width:300,fontFamily:'"Gotham 4r", sans-serif'}};e.exports=t.default},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(36)),i=a(n(3055));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(e){var t=this,n=e.form,a=e.formParentEmailField,l=e.formParentOptInField,u=e.link,c=e.onSuccessCallback;s(this,"showAddParentEmailModal",(function(){if(!t.mountPoint){t.mountPoint=document.createElement("div"),document.body.appendChild(t.mountPoint),o.default.render(r.default.createElement(i.default,{handleSubmit:function(e){return t.submitParentEmailChange(e).then(t.onParentEmailChanged)},handleCancel:t.hideAddParentEmailModal,currentParentEmail:t.formParentEmailField.val()}),t.mountPoint)}})),s(this,"hideAddParentEmailModal",(function(){t.mountPoint&&(o.default.unmountComponentAtNode(t.mountPoint),document.body.removeChild(t.mountPoint),delete t.mountPoint)})),s(this,"onParentEmailChanged",(function(e){t.onSuccessCallback&&t.onSuccessCallback(e),t.hideAddParentEmailModal()})),this.form=n,this.formParentEmailField=a,this.formParentOptInField=l,this.onSuccessCallback=c,u.click((function(e){e.preventDefault(),t.showAddParentEmailModal()}))}return e.prototype.submitParentEmailChange=function(e){var t=this,n=e.parentEmail,r=e.parentEmailOptIn;return new Promise((function(e,o){var i=function(){s(),e(n)},a=function(e,t){var n,r=t.responseJSON;n=r?{serverErrors:{parentEmail:r.email&&r.email[0]}}:new Error("Unexpected failure: "+t.status),s(),o(n)},s=function(){t.form.on("ajax:success",i),t.form.on("ajax:error",a)};t.form.on("ajax:success",i),t.form.on("ajax:error",a),t.formParentEmailField.val(n),t.formParentOptInField.val(r),t.form.submit()}))},e}();t.default=l,e.exports=t.default},,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=h(n(2)),a=h(n(103)),s=n(27),l=h(n(13)),u=h(n(20)),c=h(n(452)),d=h(n(74)),f=h(n(2874)),p=h(n(3528));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var y,v,b,_=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),r.prototype.render=function(){var e=this.props,t=e.assignableName,n=e.lessonName,r=e.linkToOverview,i=e.linkToLesson,a=e.isRtl,s=e.isProfessionalLearningCourse,u=a?w.ltr:w.rtl;return o.default.createElement("div",{style:w.card},o.default.createElement("img",{src:s?f.default:p.default,style:w.image,alt:""}),o.default.createElement("div",{style:w.name},t),o.default.createElement("div",{style:w.description},o.default.createElement("div",null,l.default.topCourseLessonIntro({lessonName:n})),o.default.createElement("div",{style:{marginTop:10}},l.default.topCourseExplanation())),o.default.createElement("div",{style:[w.buttonBox,u]},o.default.createElement(d.default,{__useDeprecatedTag:!0,href:r,color:d.default.ButtonColor.gray,text:l.default.viewCourse()}),o.default.createElement(d.default,{__useDeprecatedTag:!0,href:i,color:d.default.ButtonColor.orange,text:l.default.continueLesson(),style:w.lessonButton})))},r}(o.Component);y=_,v="propTypes",b={isRtl:i.default.bool.isRequired,assignableName:i.default.string.isRequired,lessonName:i.default.string.isRequired,linkToOverview:i.default.string.isRequired,linkToLesson:i.default.string.isRequired,isProfessionalLearningCourse:i.default.bool},v in y?Object.defineProperty(y,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[v]=b;var w={card:{overflow:"hidden",borderWidth:1,borderStyle:"solid",borderColor:u.default.border_gray,position:"relative",height:200,width:c.default["content-width"],marginBottom:20,background:u.default.white},image:{position:"absolute",width:c.default["content-width"],height:80},name:{paddingTop:10,paddingBottom:10,paddingLeft:25,paddingRight:25,marginTop:15,fontSize:30,fontFamily:'"Gotham 4r", sans-serif',color:u.default.white,width:c.default["content-width"]-35,zIndex:2,position:"absolute",display:"inline",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},description:{paddingLeft:25,paddingRight:25,paddingTop:20,paddingBottom:5,marginTop:80,fontSize:14,lineHeight:1.5,fontFamily:'"Gotham 4r", sans-serif',color:u.default.charcoal,background:u.default.white,width:"65%",boxSizing:"border-box",position:"absolute",zIndex:2},buttonBox:{marginTop:120,zIndex:2},lessonButton:{marginLeft:20,marginRight:25},ltr:{float:"left"},rtl:{float:"right"}},E=(0,s.connect)((function(e){return{isRtl:e.isRtl}}))((0,a.default)(_));t.default=E,e.exports=t.default},,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(2)),o=u(n(1)),i=u(n(3084)),a=u(n(13)),s=u(n(74)),l=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f(c(t=e.call.apply(e,[this].concat(r))||this),"state",{showFullList:!1}),f(c(t),"toggleShowFullList",(function(){t.setState({showFullList:!t.state.showFullList})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){var e=this.props,t=e.canViewAdvancedTools,n=e.canViewFullList,r=this.state.showFullList,l=t?["spritelab","artist","applab","gamelab"]:["spritelab","artist","dance","playlab"];return o.default.createElement("div",null,o.default.createElement("div",{style:h.headingStartNew},a.default.projectStartNew()),o.default.createElement(i.default,{projectTypes:l}),n&&o.default.createElement(s.default,{__useDeprecatedTag:!0,id:"uitest-view-full-list",onClick:this.toggleShowFullList,color:s.default.ButtonColor.gray,icon:r?"caret-up":"caret-down",text:r?a.default.hideFullList():a.default.viewFullList(),style:h.button}),o.default.createElement("div",{style:{clear:"both"}}),r&&o.default.createElement("div",null,o.default.createElement(i.default,{description:a.default.projectGroupOpenEnded(),projectTypes:["spritelab","dance","poetry","thebadguys"]}),o.default.createElement(i.default,{description:a.default.projectGroupArtist(),projectTypes:["artist","frozen"]}),o.default.createElement(i.default,{description:a.default.projectGroupMinecraft(),projectTypes:["minecraft_adventurer","minecraft_designer","minecraft_hero","minecraft_aquatic"]}),o.default.createElement(i.default,{description:a.default.projectGroupEvents(),projectTypes:["flappy","starwarsblocks","bounce","sports","basketball"]}),t&&o.default.createElement(i.default,{description:a.default.projectGroupAdvancedTools(),projectTypes:["applab","gamelab","weblab","starwars"]}),o.default.createElement(i.default,{description:a.default.projectGroupPlaylab(),projectTypes:["playlab","infinity","gumball","iceage"]}),o.default.createElement(i.default,{description:a.default.projectGroupPreReader(),projectTypes:["playlab_k1","artist_k1"]}),t&&o.default.createElement(i.default,{description:a.default.projectGroupMath(),projectTypes:["calc","eval"]})),o.default.createElement("div",{style:h.spacer}))},r}(o.default.Component);t.default=p,f(p,"propTypes",{projectTypes:r.default.arrayOf(r.default.string),canViewFullList:r.default.bool,canViewAdvancedTools:r.default.bool}),f(p,"defaultProps",{canViewAdvancedTools:!0});var h={button:{float:"right",marginRight:1},headingStartNew:{paddingRight:10,paddingBottom:10,fontSize:16,fontFamily:'"Gotham 4r"',color:l.default.charcoal,marginBottom:-10},spacer:{paddingTop:10,clear:"both",width:"100%"}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=v(n(2)),i=v(n(1)),a=n(27),s=v(n(32)),l=v(n(13)),u=v(n(20)),c=v(n(143)),d=v(n(74)),f=y(n(2873)),p=v(n(131)),h=n(462),m=y(n(2606));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="show",T="submit",C="save_success",k="save_failure",A=(0,h.createStore)((0,h.combineReducers)({mapbox:m.default})),P=function(e){var t,n;function r(t){var n;O(w(n=e.call(this,t)||this),"validateSubmission",(function(){var e=n.state,t=e.country,r=e.schoolType,o=e.schoolName,i=e.ncesSchoolId,a={},s=!0;if(n.isBlank(t))a.country=!0,s=!1;else if("United States"===t)if(n.isBlank(r))a.schoolType=!0,s=!1;else{["public","private","charter"].includes(r)&&(n.isBlank(i)&&(a.ncesSchoolId=!0,s=!1),"-1"===i&&n.isBlank(o)&&(a.schoolName=!0,s=!1))}return{errors:a,isValid:s}})),O(w(n),"handleSchoolInfoSubmit",(function(){var e=n.validateSubmission(),t=e.errors,r=e.isValid;if(n.setState({errors:t}),r){n.logEvent(T,{attempt:n.state.showSchoolInfoUnknownError?2:1});var o=n.buildSchoolData(),i=n.props.scriptData,a=i.formUrl,l=i.authTokenName,u=i.authTokenValue;s.default.post({url:a+".json",dataType:"json",data:_(O({_method:"patch"},l,u),o)}).done((function(){n.logEvent(C,{attempt:n.state.showSchoolInfoUnknownError?2:1}),n.props.onClose()})).fail((function(){n.logEvent(k,{attempt:n.state.showSchoolInfoUnknownError?2:1}),n.state.showSchoolInfoUnknownError?n.props.onClose():n.setState({showSchoolInfoUnknownError:!0})}))}})),O(w(n),"dismissSchoolInfoForm",(function(){n.setState({isOpen:!1}),n.props.onClose()})),O(w(n),"onCountryChange",(function(e,t){var r=t?t.value:"";n.setState({country:r,ncesSchoolId:"",errors:{}})})),O(w(n),"onSchoolTypeChange",(function(e){var t=e?e.target.value:"";n.setState({schoolType:t,ncesSchoolId:"",errors:{}})})),O(w(n),"onSchoolChange",(function(e,t){var r=t?t.value:"",o=n.state.errors;"-1"===r&&(o={}),n.setState({ncesSchoolId:r,errors:o})})),O(w(n),"onSchoolNotFoundChange",(function(e,t){var r,o=t?t.target.value:"";n.setState((O(r={},e,o),O(r,"errors",{}),r))}));var r=n.props.scriptData.existingSchoolInfo,o=r.country||"";"US"===o&&(o="United States");var i=r.school_id?r.school_id:"United States"===r.country&&f.SCHOOL_TYPES_HAVING_NCES_SEARCH.includes(r.school_type)&&(r.school_name||r.full_address)?"-1":"";return n.state={country:o,schoolType:r.school_type||"",schoolName:r.school_name||"",schoolLocation:r.full_address||"",ncesSchoolId:i,showSchoolInfoUnknownError:!1,errors:{},isOpen:!0},n.props.scriptData.mapboxAccessToken&&A.dispatch((0,m.setMapboxAccessToken)(n.props.scriptData.mapboxAccessToken)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,E(t,n);var o=r.prototype;return o.logEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.default.putRecord({study:"school_info_interstitial",study_group:"control",event:e,data_int:this.state.ncesSchoolId&&"-1"!==this.state.ncesSchoolId?1:0,data_json:JSON.stringify(_({isComplete:r.isSchoolInfoComplete(this.state)},t))})},r.isSchoolInfoComplete=function(e){return!!e.country&&("United States"!==e.country||(!!["homeschool","after school","organization","other"].includes(e.schoolType)||(!(!e.ncesSchoolId||"-1"===e.ncesSchoolId)||!!(e.country&&e.schoolType&&e.schoolName))))},o.componentDidMount=function(){this.logEvent(S)},o.buildSchoolData=function(){var e=this.state,t=e.country,n=e.schoolType,r=e.ncesSchoolId;return r&&"-1"!==r?{"user[school_info_attributes][school_id]":r}:t&&n?"United States"===t&&f.SCHOOL_TYPES_HAVING_NCES_SEARCH.includes(n)&&""===r?{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":n,"user[school_info_attributes][school_id]":r}:f.SCHOOL_TYPES_HAVING_NAMES.includes(n)?{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":n,"user[school_info_attributes][school_name]":this.state.schoolName,"user[school_info_attributes][full_address]":this.state.schoolLocation}:{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":n,"user[school_info_attributes][full_address]":this.state.schoolLocation}:{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":n}},o.isBlank=function(e){return!(e&&""!==e.trim())},o.render=function(){var e=this,t=Object.keys(this.state.errors).length>0,n=this.props.scriptData.mapboxAccessToken;return i.default.createElement(a.Provider,{store:A},i.default.createElement(c.default,{useUpdatedStyles:!0,isOpen:this.state.isOpen,handleClose:this.props.onClose,uncloseable:!0,overflow:"visible"},i.default.createElement("div",{style:x.container},i.default.createElement("div",{style:x.heading},l.default.schoolInfoInterstitialTitle()),this.state.showSchoolInfoUnknownError&&i.default.createElement("p",{style:x.error},l.default.schoolInfoInterstitialUnknownError()),i.default.createElement("div",{style:x.middle},i.default.createElement("p",null,l.default.schoolInfoInterstitialDescription()),i.default.createElement(f.default,{ref:function(t){return e.schoolInfoInputs=t},onCountryChange:this.onCountryChange,onSchoolTypeChange:this.onSchoolTypeChange,onSchoolChange:this.onSchoolChange,onSchoolNotFoundChange:this.onSchoolNotFoundChange,country:this.state.country,schoolType:this.state.schoolType,ncesSchoolId:this.state.ncesSchoolId,schoolName:this.state.schoolName,schoolLocation:this.state.schoolLocation,useLocationSearch:!0,showErrors:t,showRequiredIndicator:!0,mapboxAccessToken:n})),i.default.createElement("div",{style:x.bottom},i.default.createElement(d.default,{__useDeprecatedTag:!0,onClick:this.dismissSchoolInfoForm,style:x.button,color:"gray",size:"large",text:l.default.dismiss(),id:"dismiss-button"}),i.default.createElement(d.default,{__useDeprecatedTag:!0,onClick:this.handleSchoolInfoSubmit,style:x.button,size:"large",text:l.default.save(),color:d.default.ButtonColor.orange,id:"save-button"})))))},r}(i.default.Component);t.default=P,O(P,"propTypes",{scriptData:o.default.shape({formUrl:o.default.string.isRequired,authTokenName:o.default.string.isRequired,authTokenValue:o.default.string.isRequired,existingSchoolInfo:o.default.shape({school_id:o.default.string,country:o.default.string,school_type:o.default.string,school_name:o.default.string,full_address:o.default.string}).isRequired,mapboxAccessToken:o.default.string}).isRequired,onClose:o.default.func.isRequired});var x={container:{margin:20,color:u.default.charcoal,fontSize:13},heading:{fontSize:16,fontFamily:"'Gotham 5r', sans-serif"},middle:{marginTop:20,marginBottom:20,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:u.default.lighter_gray},bottom:{display:"flex",justifyContent:"flex-end"},error:{color:u.default.red},button:{marginLeft:7,marginRight:7,marginTop:15,marginBottom:15}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=l(n(1)),o=l(n(2)),i=l(n(634)),a=l(n(13)),s=l(n(2588));function l(e){return e&&e.__esModule?e:{default:e}}n(3526);var u=o.default.shape({content:o.default.string});function c(e){var t=e.referenceGuide;return r.default.createElement("div",null,r.default.createElement(i.default,{markdown:t.content,className:"docs-pages"}),r.default.createElement(i.default,{markdown:a.default.documentationBug(),className:"docs-pages"}),r.default.createElement(s.default,null))}c.propTypes={referenceGuide:u.isRequired},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=n(1693),a=n(760);jQuery.fn.swap=function(e){e=jQuery(e)[0];var t=this[0],n=t.parentNode.insertBefore(document.createTextNode(""),t);return e.parentNode.insertBefore(t,e),n.parentNode.insertBefore(e,n),n.parentNode.removeChild(n),this};var s=function(){function e(e,t,n,r){var o=this;this.levelId=e,this.container=document.getElementById(t),this.standalone=n,this.enableSounds=!1,this.lastAttempt=r?r.split(","):[],this.readonly=!!window.appOptions.readonlyWorkspace,$(document).ready((function(){return o.ready()}))}var t=e.prototype;return t.ready=function(){this.standalone&&(0,a.registerGetResult)(this.getResult.bind(this)),this.initMatch()},t.getResult=function(){for(var e=!1,t=!0,n=$(this.container).find(".match_slots li"),r=[],a=0;a<n.length;a++){var s=$("#xmark_".concat(this.levelId,"_").concat(a)),l=n[a].getAttribute("originalIndex");r.push(l),null===l?(e=!0,t=!1,s.hide()):l!==String(a)?(e=!0,this.standalone&&s.show()):s.hide()}return{response:r,result:!e,errorDialog:e?o.default.createElement(i.LegacyMatchErrorDialog,null):null,valid:t}},t.getAppName=function(){return"match"},t.lockAnswers=function(){$(this.container).find(".mainblock li.answer").draggable("destroy")},t.getCurrentAnswerFeedback=function(){throw"getCurrentAnswerFeedback not implemented"},t.initMatch=function(){$(this.container).find(".mainblock .match_answers li.answer").draggable({revert:"invalid",stack:".answer",containment:this.container}),this.makeInitialAnswersDroppable(this.container),this.makeInitialMoves(),this.readonly&&this.lockAnswers(),this.enableSounds=this.standalone},t.makeInitialAnswersDroppable=function(){var e=this;$(this.container).find(".mainblock .match_slots li").droppable({activeClass:"active",hoverClass:"hover",accept:function(t){return $(t).is(".answerlist,.answerslot")&&$(e.container).find(t[0]).length},drop:function(t,n){if(e.enableSounds&&CDOSounds.play("click"),n.draggable.hasClass("answerslot"))n.draggable.swap(t.target),n.draggable.css({top:"auto",left:"auto"});else{var r=n.draggable.detach(),o=$(t.target);e.moveAnswerToSlot(o,r)}}})},t.moveAnswerToSlot=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.replaceWith(t),t.droppable(),t.css({top:"auto",left:"auto"}),t.removeClass("answerlist"),t.addClass("answerslot"),this.makeItemDroppable(t),0===$(this.container).find(".match_answers .answer").length&&(0,a.onAnswerChanged)(this.levelId,n)},t.makeItemDroppable=function(e){var t=this;e.droppable({accept:function(e){return $(e).is(".answerslot")&&$(t.container).find(e[0]).length},activeClass:"active",drop:function(e,n){t.enableSounds&&CDOSounds.play("whoosh"),n.draggable.css({top:"0px",left:"0px"});var r=$(e.target).offset().top,o=$(n.draggable).offset().top-r;n.draggable.swap(e.target),$(e.target).css({top:-o+"px"}),$(e.target).animate({top:"0px"})}})},t.makeInitialMoves=function(){for(var e=$(this.container).find(".match_slots .emptyslot").toArray(),t=0;t<this.lastAttempt.length;t++){var n=$(e[t]),r=parseInt(this.lastAttempt[t],10);if(!isNaN(r)){var o=$(this.container).find(".answer[originalIndex=".concat(r,"]"));this.moveAnswerToSlot(n,o,!1)}}},e}();t.default=s,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(o=(0,i.useState)(!0),l=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(o,l)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(o,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1];var o,l;return i.default.createElement("div",{id:"ui-test-unversioned-script-redirect-dialog"},i.default.createElement(s.default,{title:a.default.warning(),body:a.default.unversionedRedirectWarning_June2022(),renderFooter:function(){return i.default.createElement(s.FooterButton,{type:"confirm",onClick:function(){return r(!1)},text:a.default.dialogOK()})},handleClose:function(){return r(!1)},isOpen:n}))};var o,i=u(n(1)),a=(o=n(13))&&o.__esModule?o:{default:o},s=u(n(815));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=t.default},,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(2)),i=m(n(1)),a=g(n(13)),s=n(808),l=m(n(882)),u=n(467),c=n(642),d=g(n(59)),f=n(385),p=g(n(53));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function g(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}n(1359);var _,w,E,O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var o=r.prototype;return o.render=function(){var e=this.getLevelStatusColumns(),t=this.getLevelDetailsColumns();return this.renderTable(t,e)},o.renderTable=function(e,t){if(e&&(null==t?void 0:t.length)>5)return i.default.createElement("div",null,this.renderTable(null,t),this.renderTable(e,null));var n=[this.getLevelTypeColumn()];e&&(n=n.concat(e)),t&&(n=n.concat(t));var r=p.default.zip.apply(p.default,y(n));return i.default.createElement("table",{className:"progress-legend"},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("td",null,a.default.levelType()),e&&i.default.createElement("td",{colSpan:3},a.default.levelDetails()),t&&i.default.createElement("td",{colSpan:t.length},a.default.levelStatus())),t&&i.default.createElement("tr",null,r[0].map((function(e){return e})))),i.default.createElement("tbody",null,i.default.createElement("tr",null,r[1].map((function(e){return e}))),i.default.createElement("tr",null,r[2].map((function(e){return e})))))},o.getLevelStatusColumns=function(){var e=this.props,t=e.includeCsfColumn,n=e.includeProgressNotApplicable,r=e.includeReviewStates,o=[];return n&&o.push(this.getProgressNAColumn()),o.push(this.getNotStartedColumn()),o.push(this.getInProgressColumn()),r&&o.push(this.getKeepWorkingColumn()),r&&o.push(this.getNeedsReviewColumn()),t&&o.push(this.getTooManyBlocksColumn()),o.push(this.getPerfectColumn()),o.push(this.getAssessmentsColumn()),o},o.getLevelDetailsColumns=function(){return[[i.default.createElement("td",{key:p.default.uniqueId()}),i.default.createElement("td",{key:p.default.uniqueId()},this.getLevelDetails("file-text",a.default.text())),i.default.createElement("td",{key:p.default.uniqueId()},this.getLevelDetails("scissors",a.default.unplugged()),this.getLevelDetails("flag-checkered",a.default.stageExtras()))],[i.default.createElement("td",{key:p.default.uniqueId()}),i.default.createElement("td",{key:p.default.uniqueId()},this.getLevelDetails("video-camera",a.default.video())),i.default.createElement("td",{key:p.default.uniqueId()},this.getLevelDetails("desktop",a.default.online()),this.getLevelDetails("check-circle",a.default.progressLegendAssessment()))],[i.default.createElement("td",{key:p.default.uniqueId()}),i.default.createElement("td",{key:p.default.uniqueId(),className:"end-border"},this.getLevelDetails("map",a.default.map())),i.default.createElement("td",{key:p.default.uniqueId(),className:"end-border"},this.getLevelDetails("list-ul",a.default.question()),this.getLevelDetails("sitemap",a.default.choiceLevel()))]]},o.getLevelTypeColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()}),i.default.createElement("td",{key:p.default.uniqueId()},a.default.concept()),i.default.createElement("td",{key:p.default.uniqueId()},a.default.activity())]},o.getProgressNAColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},a.default.progress(),i.default.createElement("br",null),a.default.notApplicable()),i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,"—")),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,"—"))]},o.getNotStartedColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},a.default.notStarted()),i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,this.getBubble(f.LevelStatus.not_tried,!0,"".concat(a.default.concept(),": ").concat(a.default.notStarted())))),i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,this.getBubble(f.LevelStatus.not_tried,!1,"".concat(a.default.activity(),": ").concat(a.default.notStarted()))))]},o.getInProgressColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},a.default.inProgress()),i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,this.getBubble(f.LevelStatus.attempted,!0,"".concat(a.default.concept(),": ").concat(a.default.inProgress())))),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,this.getBubble(f.LevelStatus.attempted,!1,"".concat(a.default.activity(),": ").concat(a.default.inProgress()))))]},o.getKeepWorkingColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},a.default.keepWorking()),this.getNotApplicableCell(),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,this.getBubble(f.LevelStatus.attempted,!1,"".concat(a.default.activity(),": ").concat(a.default.keepWorking()),!0)))]},o.getNeedsReviewColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},a.default.needsReview()),this.getNotApplicableCell(),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,this.getBubble(f.LevelStatus.perfect,!1,"".concat(a.default.activity(),": ").concat(a.default.needsReview()),!0)))]},o.getTooManyBlocksColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,a.default.completed()),i.default.createElement("div",null,"(",a.default.tooManyBlocks(),")")),this.getNotApplicableCell(),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,this.getBubble(f.LevelStatus.passed,!1,"".concat(a.default.activity(),": ").concat(a.default.completed()," (").concat(a.default.tooManyBlocks(),")"))))]},o.getPerfectColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,a.default.completed()),this.props.includeCsfColumn&&i.default.createElement("div",null,"(",a.default.perfect(),")")),i.default.createElement("td",{key:p.default.uniqueId()},i.default.createElement("div",null,this.getBubble(f.LevelStatus.perfect,!0,"".concat(a.default.concept(),": ").concat(a.default.completed()," (").concat(a.default.perfect(),")")))),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,this.getBubble(f.LevelStatus.perfect,!1,"".concat(a.default.activity(),": ").concat(a.default.completed()," (").concat(a.default.perfect(),")"))))]},o.getAssessmentsColumn=function(){return[i.default.createElement("td",{key:p.default.uniqueId()},a.default.assessmentAndSurvey()),this.getNotApplicableCell(),i.default.createElement("td",{key:p.default.uniqueId(),rowSpan:2},i.default.createElement("div",null,this.getBubble(f.LevelStatus.submitted,!1,"".concat(a.default.activity(),": ").concat(a.default.submitted()))))]},o.getNotApplicableCell=function(){return i.default.createElement("td",{key:p.default.uniqueId()},a.default.notApplicable())},o.getLevelDetails=function(e,t){return i.default.createElement("div",{className:"level-details"},i.default.createElement(d.default,{icon:e}),t)},o.getBubble=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t?s.BubbleShape.diamond:s.BubbleShape.circle;return i.default.createElement(s.BasicTooltip,{icon:u.defaultBubbleIcon,text:n},i.default.createElement(s.BasicBubble,{shape:o,size:s.BubbleSize.full,progressStyle:(0,c.levelProgressStyle)(e)},r&&i.default.createElement(l.default,{badgeType:l.BadgeType.keepWorking,bubbleSize:s.BubbleSize.full,bubbleShape:o})))},r}(i.Component);t.default=O,_=O,w="propTypes",E={includeCsfColumn:o.default.bool.isRequired,includeProgressNotApplicable:o.default.bool,includeReviewStates:o.default.bool},w in _?Object.defineProperty(_,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):_[w]=E,e.exports=t.default},,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectNotFoundAlert=l,t.default=void 0;var r=s(n(1)),o=s(n(36)),i=s(n(1884)),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return r.default.createElement(i.default,null,r.default.createElement("div",{className:"exclamation-abuse"},r.default.createElement("p",{style:u.text},a.default.projectNotFound()),r.default.createElement("p",{style:u.text},r.default.createElement("a",{href:"https://studio.code.org"},a.default.goToCodeStudio()))))}t.default=function(){o.default.render(r.default.createElement(l,null),document.getElementById("codeApp"))};var u={text:{fontSize:18,lineHeight:"24px",padding:5}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VersionNotFoundAlert=l,t.default=void 0;var r=s(n(1)),o=s(n(36)),i=s(n(1884)),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return r.default.createElement(i.default,null,r.default.createElement("div",{className:"exclamation-abuse"},r.default.createElement("p",{style:u.text},a.default.versionNotFound()),r.default.createElement("p",{style:u.text},r.default.createElement("a",{href:"https://studio.code.org"},a.default.goToCodeStudio()))))}t.default=function(){o.default.render(r.default.createElement(l,null),document.getElementById("codeApp"))};var u={text:{fontSize:18,lineHeight:"24px",padding:5}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSignInOrAgeDialog=void 0;var o=v(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=v(n(179)),l=v(n(143)),u=v(n(20)),c=v(n(74)),d=v(n(1307)),f=n(491),p=v(n(13)),h=n(33),m=n(388),g=n(735);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E="anon_over13",O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w(b(t=e.call.apply(e,[this].concat(r))||this),"state",{open:!0,tooYoung:!1}),w(b(t),"onClickAgeOk",(function(){var e=t.ageDropdown.getValue();if(e)if(parseInt(e,10)<13)t.setState({tooYoung:!0});else{t.props.storage.setItem(E,parseInt(e,10)>=13);var n=(0,m.environmentSpecificCookieName)("storage_id");s.default.get(n)?(s.default.remove(n,{path:"/",domain:".code.org"}),(0,h.reload)()):t.setState({open:!1})}})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,_(t,n),r.prototype.render=function(){var e=this,t=this.props,n=t.signedIn,r=t.age13Required,o=t.storage;if(!r||n||o.getItem(E))return null;var a=i.default.createElement("div",{style:S.middleCell},p.default.provideAge(),i.default.createElement("div",{style:S.age},i.default.createElement(d.default,{style:S.dropdown,ref:function(t){return e.ageDropdown=t}}),i.default.createElement(c.default,{__useDeprecatedTag:!0,id:"uitest-submit-age",onClick:this.onClickAgeOk,text:p.default.ok(),color:c.default.ButtonColor.gray})));return this.state.tooYoung?i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:!0,uncloseable:!0},i.default.createElement("div",{style:S.container},i.default.createElement("div",{style:S.heading},p.default.tutorialUnavailable()),i.default.createElement("div",{style:S.middle},p.default.tutorialUnavailableExplanation()),i.default.createElement("div",{style:S.tooYoungButton},i.default.createElement(c.default,{__useDeprecatedTag:!0,href:(0,g.pegasus)("/hourofcode/overview"),text:"See all tutorials",color:c.default.ButtonColor.orange})))):i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:this.state.open,uncloseable:!0},i.default.createElement("div",{style:S.container,className:"signInOrAgeDialog"},i.default.createElement("div",{style:S.heading},p.default.signinOrAge()),i.default.createElement("div",{style:S.middle},i.default.createElement("div",{style:S.middleCell},p.default.signinForProgress(),i.default.createElement("div",{style:S.button},i.default.createElement(c.default,{__useDeprecatedTag:!0,href:"/users/sign_in?user_return_to=".concat(location.pathname),text:p.default.signinCodeOrg(),color:c.default.ButtonColor.gray}))),i.default.createElement("div",{style:S.center},i.default.createElement("div",{style:S.centerLine}),i.default.createElement("div",{style:S.centerText},p.default.or()),i.default.createElement("div",{style:S.centerLine})),a),i.default.createElement("div",null,i.default.createElement("a",{href:"https://code.org/privacy"},p.default.privacyPolicy()))))},r}(i.Component);w(O,"propTypes",{signedIn:o.default.bool.isRequired,age13Required:o.default.bool.isRequired,storage:o.default.object.isRequired}),w(O,"defaultProps",{storage:window.sessionStorage});var S={container:{margin:20,color:u.default.charcoal},heading:{fontSize:16,fontFamily:"'Gotham 5r', sans-serif"},middle:{marginTop:20,marginBottom:20,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:u.default.lighter_gray,display:"flex"},middleCell:{display:"inline-block",verticalAlign:"top",maxWidth:"50%"},center:{paddingLeft:20,paddingRight:20,flexDirection:"column",display:"flex"},centerLine:{borderLeft:"1px solid ".concat(u.default.lighter_gray),marginLeft:"50%",height:"100%"},centerText:{padding:3},button:{paddingTop:15},age:{paddingTop:15},dropdown:{verticalAlign:"top",marginRight:10,marginTop:2,width:160},tooYoungButton:{textAlign:"right"}},T=O;t.UnconnectedSignInOrAgeDialog=T;var C=(0,a.connect)((function(e){return{age13Required:e.progress.isAge13Required,signedIn:e.currentUser.signInState===f.SignInState.SignedIn}}))(O);t.default=C},,,(e,t,n)=>{e.exports=n.p+"anotherhocwpaf86497935e32baa094324e08ebd98e5.png"},(e,t,n)=>{e.exports=n.p+"applabmarketingwp4cbaa98b0e572c92f029b7f7a15c3ac0.png"},(e,t,n)=>{e.exports=n.p+"applabcreateprojectwpcf448e2676e480e4b6e76d1f2a789375.png"},(e,t,n)=>{e.exports=n.p+"applabtutorialwp7ff5dc0637a5366ee15ed33f55e46275.png"},(e,t,n)=>{e.exports=n.p+"createaccountwp6bc4d85137ef27e6cbc70de8ad01649e.png"},(e,t,n)=>{e.exports=n.p+"csfexpresswp0b20764af143a4ca6300cb5c6886634c.png"},(e,t,n)=>{e.exports=n.p+"coursecatalogwp656af7303a30326877116834c8a810b0.png"},(e,t,n)=>{e.exports=n.p+"herominecraftwp3eb6eba9d1bce70fbfb30d379f61eb77.png"},(e,t,n)=>{e.exports=n.p+"oldminecraftwpa2e06c6faa08f3acbe842eefd813cc86.png"},(e,t,n)=>{e.exports=n.p+"minecraftmarketingwp9b165d6ab3f0fc39cab7507fc0e0abf7.png"},(e,t,n)=>{e.exports=n.p+"aquaticminecraftwp194e083e65424d6061703abd1153d12d.png"},(e,t,n)=>{e.exports=n.p+"codeorgteacherwpa4469dc978da3470408bbd7941b83dd0.png"},(e,t,n)=>{e.exports=n.p+"thirdpartyteacherwpdf9bd0c6bc0f7dddca8ea8485d95a388.png"},(e,t,n)=>{e.exports=n.p+"thirdpartyteachersmallwp2debf70a49346a8f8c61db4316ef0ce4.png"},(e,t,n)=>{e.exports=n.p+"makerwpf946ba57b70fd906726b4bb8417c9afd.png"},(e,t,n)=>{e.exports=n.p+"dancepartywp4c7ccb78b92185cf75ace92a3541adf2.png"},(e,t,n)=>{e.exports=n.p+"danceparty2wpa1cb8e7c2ce04e3447ffeb59d77098c6.png"},(e,t,n)=>{e.exports=n.p+"danceparty2-2019wpd694c02ec273a83cfc1ccaff09440118.png"},(e,t,n)=>{e.exports=n.p+"danceparty-sloth-2019wpd14550cde507a22cf9afffe9720dc5b5.png"},,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SCHOOL_TYPES_HAVING_NCES_SEARCH=t.SCHOOL_TYPES_HAVING_NAMES=void 0;var o=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=f(n(2366)),s=f(n(3053)),l=f(n(1678)),u=f(n(2367)),c=f(n(13));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=["charter","private","public"];t.SCHOOL_TYPES_HAVING_NCES_SEARCH=y;var v=["charter","private","public","afterschool","organization"];t.SCHOOL_TYPES_HAVING_NAMES=v;var b=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).bindSchoolNotFound=t.bindSchoolNotFound.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var o=r.prototype;return o.isSchoolNotFoundValid=function(){return this.schoolNotFound.isValid()},o.isSchoolAutocompleteDropdownValid=function(){return!!this.props.ncesSchoolId&&("-1"!==this.props.ncesSchoolId||this.isSchoolNotFoundValid())},o.isValid=function(){return!(!this.props.country||!this.props.schoolType)&&("United States"===this.props.country&&y.includes(this.props.schoolType)?this.isSchoolAutocompleteDropdownValid():this.isSchoolNotFoundValid())},o.bindSchoolNotFound=function(e){this.schoolNotFound=e},o.render=function(){var e="United States"===this.props.country,t=!e,n="-1"===this.props.ncesSchoolId,r=!y.includes(this.props.schoolType)&&""!==this.props.schoolType,o=v.includes(this.props.schoolType),d=!1;["public","private","charter"].includes(this.props.schoolType)&&(d=!0);var f=["afterschool","organization"].includes(this.props.schoolType)?c.default.signupFormSchoolOrOrganization():c.default.schoolName();return i.default.createElement("div",{style:h({width:600},this.props.styles)},i.default.createElement(a.default,{onChange:this.props.onCountryChange,value:this.props.country,fieldName:this.props.fieldNames.country,showErrorMsg:this.props.showErrors,showRequiredIndicator:this.props.showRequiredIndicator,singleLineLayout:!0,maxHeight:160}),i.default.createElement(s.default,{value:this.props.schoolType,fieldName:this.props.fieldNames.schoolType,country:this.props.country,onChange:this.props.onSchoolTypeChange,showErrorMsg:this.props.showErrors,showRequiredIndicator:this.props.showRequiredIndicator}),e&&y.includes(this.props.schoolType)&&i.default.createElement(l.default,{setField:this.props.onSchoolChange,value:this.props.ncesSchoolId,fieldName:this.props.fieldNames.ncesSchoolId,showErrorMsg:this.props.showErrors,singleLineLayout:!0,showRequiredIndicator:this.props.showRequiredIndicator}),(t||n||r)&&i.default.createElement(u.default,{ref:this.bindSchoolNotFound,onChange:this.props.onSchoolNotFoundChange,isNcesSchool:d,schoolName:o?this.props.schoolName:u.default.OMIT_FIELD,schoolType:u.default.OMIT_FIELD,schoolCity:u.default.OMIT_FIELD,schoolState:e?this.props.schoolState:u.default.OMIT_FIELD,schoolZip:e?this.props.schoolZip:u.default.OMIT_FIELD,schoolLocation:this.props.schoolLocation,country:this.props.country,controlSchoolLocation:!0,fieldNames:this.props.fieldNames,showErrorMsg:this.props.showErrors,singleLineLayout:!0,showRequiredIndicators:this.props.showRequiredIndicator,schoolNameLabel:f,useLocationSearch:this.props.useLocationSearch}))},r}(i.Component);t.default=b,g(b,"propTypes",{onCountryChange:o.default.func.isRequired,onSchoolTypeChange:o.default.func.isRequired,onSchoolChange:o.default.func.isRequired,onSchoolNotFoundChange:o.default.func.isRequired,country:o.default.string,schoolType:o.default.string,ncesSchoolId:o.default.string,schoolName:o.default.string,schoolCity:o.default.string,schoolState:o.default.string,schoolZip:o.default.string,schoolLocation:o.default.string,useLocationSearch:o.default.bool,fieldNames:o.default.object,showErrors:o.default.bool,showRequiredIndicator:o.default.bool,styles:o.default.object}),g(b,"defaultProps",{schoolType:"",country:"",ncesSchoolId:"",schoolName:"",schoolCity:"",schoolState:"",schoolZip:"",schoolLocation:"",useLocationSearch:!1,fieldNames:{schoolType:"user[school_info_attributes][school_type]",country:"user[school_info_attributes][country]",ncesSchoolId:"user[school_info_attributes][school_id]",schoolName:"user[school_info_attributes][school_name]",schoolState:"user[school_info_attributes][school_state]",schoolZip:"user[school_info_attributes][school_zip]",googleLocation:"user[school_info_attributes][full_address]"}})},(e,t,n)=>{e.exports=n.p+"small_blue_icons_fullwidthwpee94b44df9d05f7e52fb938d6a6439e2.png"},(e,t,n)=>{"use strict";n.r(t),n.d(t,{BrowserRouter:()=>se,HashRouter:()=>de,Link:()=>ye,MemoryRouter:()=>we,NavLink:()=>Be,Prompt:()=>We,Redirect:()=>Je,Route:()=>je,Router:()=>re,StaticRouter:()=>lt,Switch:()=>ft,generatePath:()=>pt,matchPath:()=>ht,withRouter:()=>vt});var r=n(1965),o=n.n(r),i=n(1),a=n(2),s=n.n(a),l=n(2544),u=n.n(l),c=n(189),d=n.n(c);function f(e){return"/"===e.charAt(0)}function p(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}const h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&f(e),i=t&&f(t),a=o||i;if(e&&f(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var l=r[r.length-1];s="."===l||".."===l||""===l}else s=!1;for(var u=0,c=r.length;c>=0;c--){var d=r[c];"."===d?p(r,c):".."===d?(p(r,c),u++):u&&(p(r,c),u--)}if(!a)for(;u--;u)r.unshift("..");!a||""===r[0]||r[0]&&f(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h};var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const g=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));var r=void 0===t?"undefined":m(t);if(r!==(void 0===n?"undefined":m(n)))return!1;if("object"===r){var o=t.valueOf(),i=n.valueOf();if(o!==t||i!==n)return e(o,i);var a=Object.keys(t),s=Object.keys(n);return a.length===s.length&&a.every((function(r){return e(t[r],n[r])}))}return!1};var y=function(e){return"/"===e.charAt(0)?e:"/"+e},v=function(e){return"/"===e.charAt(0)?e.substr(1):e},b=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},_=function(e,t){return b(e,t)?e.substr(t.length):e},w=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},E=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=O({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=h(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},T=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&g(e.state,t.state)};const C=function(){var e=null,t=[];return{setPrompt:function(t){return u()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):(u()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}};var k=!("undefined"==typeof window||!window.document||!window.document.createElement),A=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},P=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},x=function(e,t){return t(window.confirm(e))},I=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},R=function(){return-1===window.navigator.userAgent.indexOf("Trident")},D=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},j=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M="popstate",B="hashchange",F=function(){try{return window.history.state||{}}catch(e){return{}}};const U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d()(k,"Browser history needs a DOM");var t=window.history,n=I(),r=!R(),o=e.forceRefresh,i=void 0!==o&&o,a=e.getUserConfirmation,s=void 0===a?x:a,l=e.keyLength,c=void 0===l?6:l,f=e.basename?w(y(e.basename)):"",p=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return u()(!f||b(i,f),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+f+'".'),f&&(i=_(i,f)),S(i,r,n)},h=function(){return Math.random().toString(36).substr(2,c)},m=C(),g=function(e){L(ee,e),ee.length=t.length,m.notifyListeners(ee.location,ee.action)},v=function(e){j(e)||D(p(e.state))},O=function(){D(p(F()))},T=!1,D=function(e){if(T)T=!1,g();else{m.confirmTransitionTo(e,"POP",s,(function(t){t?g({action:"POP",location:e}):U(e)}))}},U=function(e){var t=ee.location,n=W.indexOf(t.key);-1===n&&(n=0);var r=W.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(T=!0,G(o))},H=p(F()),W=[H.key],q=function(e){return f+E(e)},z=function(e,r){u()(!("object"===(void 0===e?"undefined":N(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",a=S(e,r,h(),ee.location);m.confirmTransitionTo(a,o,s,(function(e){if(e){var r=q(a),s=a.key,l=a.state;if(n)if(t.pushState({key:s,state:l},null,r),i)window.location.href=r;else{var c=W.indexOf(ee.location.key),d=W.slice(0,-1===c?0:c+1);d.push(a.key),W=d,g({action:o,location:a})}else u()(void 0===l,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}}))},V=function(e,r){u()(!("object"===(void 0===e?"undefined":N(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",a=S(e,r,h(),ee.location);m.confirmTransitionTo(a,o,s,(function(e){if(e){var r=q(a),s=a.key,l=a.state;if(n)if(t.replaceState({key:s,state:l},null,r),i)window.location.replace(r);else{var c=W.indexOf(ee.location.key);-1!==c&&(W[c]=a.key),g({action:o,location:a})}else u()(void 0===l,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}}))},G=function(e){t.go(e)},$=function(){return G(-1)},K=function(){return G(1)},Y=0,X=function(e){1===(Y+=e)?(A(window,M,v),r&&A(window,B,O)):0===Y&&(P(window,M,v),r&&P(window,B,O))},J=!1,Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=m.setPrompt(e);return J||(X(1),J=!0),function(){return J&&(J=!1,X(-1)),t()}},Q=function(e){var t=m.appendListener(e);return X(1),function(){X(-1),t()}},ee={length:t.length,action:"POP",location:H,createHref:q,push:z,replace:V,go:G,goBack:$,goForward:K,block:Z,listen:Q};return ee};var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W="hashchange",q={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:y},slash:{encodePath:y,decodePath:y}},z=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},V=function(e){return window.location.hash=e},G=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)};const $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d()(k,"Hash history needs a DOM");var t=window.history,n=D(),r=e.getUserConfirmation,o=void 0===r?x:r,i=e.hashType,a=void 0===i?"slash":i,s=e.basename?w(y(e.basename)):"",l=q[a],c=l.encodePath,f=l.decodePath,p=function(){var e=f(z());return u()(!s||b(e,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+s+'".'),s&&(e=_(e,s)),S(e)},h=C(),m=function(e){H(te,e),te.length=t.length,h.notifyListeners(te.location,te.action)},g=!1,v=null,O=function(){var e=z(),t=c(e);if(e!==t)G(t);else{var n=p(),r=te.location;if(!g&&T(r,n))return;if(v===E(n))return;v=null,I(n)}},I=function(e){if(g)g=!1,m();else{h.confirmTransitionTo(e,"POP",o,(function(t){t?m({action:"POP",location:e}):R(e)}))}},R=function(e){var t=te.location,n=M.lastIndexOf(E(t));-1===n&&(n=0);var r=M.lastIndexOf(E(e));-1===r&&(r=0);var o=n-r;o&&(g=!0,$(o))},j=z(),N=c(j);j!==N&&G(N);var L=p(),M=[E(L)],B=function(e){return"#"+c(s+E(e))},F=function(e,t){u()(void 0===t,"Hash history cannot push state; it is ignored");var n="PUSH",r=S(e,void 0,void 0,te.location);h.confirmTransitionTo(r,n,o,(function(e){if(e){var t=E(r),o=c(s+t);if(z()!==o){v=t,V(o);var i=M.lastIndexOf(E(te.location)),a=M.slice(0,-1===i?0:i+1);a.push(t),M=a,m({action:n,location:r})}else u()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),m()}}))},U=function(e,t){u()(void 0===t,"Hash history cannot replace state; it is ignored");var n="REPLACE",r=S(e,void 0,void 0,te.location);h.confirmTransitionTo(r,n,o,(function(e){if(e){var t=E(r),o=c(s+t);z()!==o&&(v=t,G(o));var i=M.indexOf(E(te.location));-1!==i&&(M[i]=t),m({action:n,location:r})}}))},$=function(e){u()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},K=function(){return $(-1)},Y=function(){return $(1)},X=0,J=function(e){1===(X+=e)?A(window,W,O):0===X&&P(window,W,O)},Z=!1,Q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.setPrompt(e);return Z||(J(1),Z=!0),function(){return Z&&(Z=!1,J(-1)),t()}},ee=function(e){var t=h.appendListener(e);return J(1),function(){J(-1),t()}},te={length:t.length,action:"POP",location:L,createHref:B,push:F,replace:U,go:$,goBack:K,goForward:Y,block:Q,listen:ee};return te};var K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(e,t,n){return Math.min(Math.max(e,t),n)};const J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,o=e.initialIndex,i=void 0===o?0:o,a=e.keyLength,s=void 0===a?6:a,l=C(),c=function(e){Y(T,e),T.length=T.entries.length,l.notifyListeners(T.location,T.action)},d=function(){return Math.random().toString(36).substr(2,s)},f=X(i,0,r.length-1),p=r.map((function(e){return S(e,void 0,"string"==typeof e?d():e.key||d())})),h=E,m=function(e,n){u()(!("object"===(void 0===e?"undefined":K(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r="PUSH",o=S(e,n,d(),T.location);l.confirmTransitionTo(o,r,t,(function(e){if(e){var t=T.index+1,n=T.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),c({action:r,location:o,index:t,entries:n})}}))},g=function(e,n){u()(!("object"===(void 0===e?"undefined":K(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r="REPLACE",o=S(e,n,d(),T.location);l.confirmTransitionTo(o,r,t,(function(e){e&&(T.entries[T.index]=o,c({action:r,location:o}))}))},y=function(e){var n=X(T.index+e,0,T.entries.length-1),r=T.entries[n];l.confirmTransitionTo(r,"POP",t,(function(e){e?c({action:"POP",location:r,index:n}):c()}))},v=function(){return y(-1)},b=function(){return y(1)},_=function(e){var t=T.index+e;return t>=0&&t<T.entries.length},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},O=function(e){return l.appendListener(e)},T={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:h,push:m,replace:g,go:y,goBack:v,goForward:b,canGo:_,block:w,listen:O};return T};var Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=function(e){function t(){var n,r;Q(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ee(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},ee(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Z({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;d()(null==n||1===i.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){o()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?i.Children.only(e):null},t}(i.Component);te.propTypes={history:s().object.isRequired,children:s().node},te.contextTypes={router:s().object},te.childContextTypes={router:s().object.isRequired};const ne=te,re=ne;function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ae=function(e){function t(){var n,r;oe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ie(this,e.call.apply(e,[this].concat(i))),r.history=U(r.props),ie(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){o()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return i.createElement(re,{history:this.history,children:this.props.children})},t}(i.Component);ae.propTypes={basename:s().string,forceRefresh:s().bool,getUserConfirmation:s().func,keyLength:s().number,children:s().node};const se=ae;function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ce=function(e){function t(){var n,r;le(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ue(this,e.call.apply(e,[this].concat(i))),r.history=$(r.props),ue(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){o()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return i.createElement(re,{history:this.history,children:this.props.children})},t}(i.Component);ce.propTypes={basename:s().string,getUserConfirmation:s().func,hashType:s().oneOf(["hashbang","noslash","slash"]),children:s().node};const de=ce;var fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var me=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},ge=function(e){function t(){var n,r;pe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=he(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!me(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?t.replace(i):t.push(i)}},he(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);d()(this.context.router,"You should not use <Link> outside a <Router>"),d()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,a="string"==typeof t?S(t,null,null,o.location):t,s=o.createHref(a);return i.createElement("a",fe({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(i.Component);ge.propTypes={onClick:s().func,target:s().string,replace:s().bool,to:s().oneOfType([s().string,s().object]).isRequired,innerRef:s().oneOfType([s().string,s().func])},ge.defaultProps={replace:!1},ge.contextTypes={router:s().shape({history:s().shape({push:s().func.isRequired,replace:s().func.isRequired,createHref:s().func.isRequired}).isRequired}).isRequired};const ye=ge;function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _e=function(e){function t(){var n,r;ve(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=be(this,e.call.apply(e,[this].concat(i))),r.history=J(r.props),be(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){o()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return i.createElement(ne,{history:this.history,children:this.props.children})},t}(i.Component);_e.propTypes={initialEntries:s().array,initialIndex:s().number,getUserConfirmation:s().func,keyLength:s().number,children:s().node};const we=_e;var Ee=n(3074),Oe=n.n(Ee),Se={},Te=0,Ce=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Se[n]||(Se[n]={});if(r[e])return r[e];var o=[],i={re:Oe()(e,o,t),keys:o};return Te<1e4&&(r[e]=i,Te++),i};const ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,l=void 0!==s&&s,u=r.sensitive,c=void 0!==u&&u;if(null==o)return n;var d=Ce(o,{end:a,strict:l,sensitive:c}),f=d.re,p=d.keys,h=f.exec(e);if(!h)return null;var m=h[0],g=h.slice(1),y=e===m;return a&&!y?null:{path:o,url:"/"===o&&""===m?"/":m,isExact:y,params:p.reduce((function(e,t,n){return e[t.name]=g[n],e}),{})}};var Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=function(e){return 0===i.Children.count(e)},Re=function(e){function t(){var n,r;Pe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=xe(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props,r.context.router)},xe(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Ae({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,i=e.strict,a=e.exact,s=e.sensitive;if(n)return n;d()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,u=(r||l.location).pathname;return ke(u,{path:o,strict:i,exact:a,sensitive:s},l.match)},t.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!Ie(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!Ie(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){o()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,o=t.render,a=this.context.router,s=a.history,l=a.route,u=a.staticContext,c={match:e,location:this.props.location||l.location,history:s,staticContext:u};return r?e?i.createElement(r,c):null:o?e?o(c):null:"function"==typeof n?n(c):n&&!Ie(n)?i.Children.only(n):null},t}(i.Component);Re.propTypes={computedMatch:s().object,path:s().string,exact:s().bool,strict:s().bool,sensitive:s().bool,component:s().func,render:s().func,children:s().oneOfType([s().func,s().node]),location:s().object},Re.contextTypes={router:s().shape({history:s().object.isRequired,route:s().object.isRequired,staticContext:s().object})},Re.childContextTypes={router:s().object.isRequired};const De=Re,je=De;var Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Me=function(e){var t=e.to,n=e.exact,r=e.strict,o=e.location,a=e.activeClassName,s=e.className,l=e.activeStyle,u=e.style,c=e.isActive,d=e["aria-current"],f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===(void 0===t?"undefined":Le(t))?t.pathname:t,h=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return i.createElement(je,{path:h,exact:n,strict:r,location:o,children:function(e){var n=e.location,r=e.match,o=!!(c?c(r,n):r);return i.createElement(ye,Ne({to:t,className:o?[s,a].filter((function(e){return e})).join(" "):s,style:o?Ne({},u,l):u,"aria-current":o&&d||null},f))}})};Me.propTypes={to:ye.propTypes.to,exact:s().bool,strict:s().bool,location:s().object,activeClassName:s().string,className:s().string,activeStyle:s().object,style:s().object,isActive:s().func,"aria-current":s().oneOf(["page","step","location","date","time","true"])},Me.defaultProps={activeClassName:"active","aria-current":"page"};const Be=Me;function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var He=function(e){function t(){return Fe(this,t),Ue(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(i.Component);He.propTypes={when:s().bool,message:s().oneOfType([s().func,s().string]).isRequired},He.defaultProps={when:!0},He.contextTypes={router:s().shape({history:s().shape({block:s().func.isRequired}).isRequired}).isRequired};const We=He;var qe={},ze=0,Ve=function(e){var t=e,n=qe[t]||(qe[t]={});if(n[e])return n[e];var r=Oe().compile(e);return ze<1e4&&(n[e]=r,ze++),r};const Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=Ve(e);return n(t,{pretty:!0})};var $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Xe=function(e){function t(){return Ke(this,t),Ye(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=S(e.to),n=S(this.props.to);T(t,n)?o()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?Ge(n,t.params):$e({},n,{pathname:Ge(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(i.Component);Xe.propTypes={computedMatch:s().object,push:s().bool,from:s().string,to:s().oneOfType([s().string,s().object]).isRequired},Xe.defaultProps={push:!1},Xe.contextTypes={router:s().shape({history:s().shape({push:s().func.isRequired,replace:s().func.isRequired}).isRequired,staticContext:s().object}).isRequired};const Je=Xe;var Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var tt=function(e){return"/"===e.charAt(0)?e:"/"+e},nt=function(e,t){return e?Ze({},t,{pathname:tt(e)+t.pathname}):t},rt=function(e,t){if(!e)return t;var n=tt(e);return 0!==t.pathname.indexOf(n)?t:Ze({},t,{pathname:t.pathname.substr(n.length)})},ot=function(e){return"string"==typeof e?e:E(e)},it=function(e){return function(){d()(!1,"You cannot %s with <StaticRouter>",e)}},at=function(){},st=function(e){function t(){var n,r;Qe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=et(this,e.call.apply(e,[this].concat(i))),r.createHref=function(e){return tt(r.props.basename+ot(e))},r.handlePush=function(e){var t=r.props,n=t.basename,o=t.context;o.action="PUSH",o.location=nt(n,S(e)),o.url=ot(o.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,o=t.context;o.action="REPLACE",o.location=nt(n,S(e)),o.url=ot(o.location)},r.handleListen=function(){return at},r.handleBlock=function(){return at},et(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){o()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:rt(t,S(n)),push:this.handlePush,replace:this.handleReplace,go:it("go"),goBack:it("goBack"),goForward:it("goForward"),listen:this.handleListen,block:this.handleBlock};return i.createElement(ne,Ze({},r,{history:o}))},t}(i.Component);st.propTypes={basename:s().string,context:s().object.isRequired,location:s().oneOfType([s().string,s().object])},st.defaultProps={basename:"",location:"/"},st.childContextTypes={router:s().object.isRequired};const lt=st;function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var dt=function(e){function t(){return ut(this,t),ct(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){o()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,o=void 0;return i.Children.forEach(t,(function(t){if(null==r&&i.isValidElement(t)){var a=t.props,s=a.path,l=a.exact,u=a.strict,c=a.sensitive,d=a.from,f=s||d;o=t,r=ke(n.pathname,{path:f,exact:l,strict:u,sensitive:c},e.match)}})),r?i.cloneElement(o,{location:n,computedMatch:r}):null},t}(i.Component);dt.contextTypes={router:s().shape({route:s().object.isRequired}).isRequired},dt.propTypes={children:s().node,location:s().object};const ft=dt,pt=Ge,ht=ke;var mt=n(3532),gt=n.n(mt),yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const vt=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return i.createElement(De,{children:function(t){return i.createElement(e,yt({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s().func},gt()(t,e)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translatedCourseOfferingCategories=void 0;var r,o=(r=n(13))&&r.__esModule?r:{default:r};var i={pl_self_paced:o.default.courseOfferingSelfPacedPl(),pl_virtual:o.default.courseOfferingVirtualPl(),pl_other:o.default.courseOfferingOtherPl(),full_course:o.default.courseOfferingFullCourse(),csf:o.default.courseOfferingCSF(),csc:o.default.courseOfferingCSC(),aiml:o.default.courseOfferingAIML(),hoc:o.default.courseOfferingHOC(),csf_international:o.default.courseOfferingCSFInternational(),math:o.default.courseOfferingMath(),twenty_hour:o.default.courseOfferingTwentyHour(),other:o.default.courseOfferingOther()};t.translatedCourseOfferingCategories=i},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onContinue=function(){var e=$(".submitButton");if(e.attr("disabled"))return;e.attr("disabled",!0);var t=(0,r.getResult)(),n=appOptions.dialog.callback;if(!n)return;(0,o.sendReport)({program:t.response,fallbackResponse:appOptions.dialog.fallbackResponse,callback:n,app:appOptions.dialog.app,level:appOptions.dialog.level,result:t.result,pass:!0,testResult:i.TestResults.ALL_PASS,onComplete:function(){var e=(0,o.getLastServerResponse)(),t=e&&e.nextRedirect;t||(t=JSON.parse(appOptions.dialog.fallbackResponse).success.redirect);window.location.href=t}})};var r=n(760),o=n(1870),i=n(137)},,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS=t.ImageWithStatus=void 0;var o,i=(o=n(2))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var c={LOADING:"loading",LOADED:"loaded",ERROR:"error"};t.STATUS=c;var d=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleImageLoad=n.handleImageLoad.bind(l(n)),n.handleImageError=n.handleImageError.bind(l(n)),n.state={imageStatus:c.LOADING},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var o=r.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){this.props.src!==e.src&&this.setState({imageStatus:c.LOADING})},o.handleImageLoad=function(){this.setState({imageStatus:c.LOADED})},o.handleImageError=function(){this.setState({imageStatus:c.ERROR})},o.render=function(){return a.default.createElement("div",{style:this.props.wrapperStyle},a.default.createElement("img",{src:this.props.src,width:this.props.width,height:this.props.height,onLoad:this.handleImageLoad,onError:this.handleImageError}),a.default.createElement("div",{"data-image-status":this.state.imageStatus}))},r}(a.Component);t.ImageWithStatus=d,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(d,"propTypes",{src:i.default.string.isRequired,width:i.default.number.isRequired,height:i.default.number,wrapperStyle:i.default.object})},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROJECT_TYPE_MAP=t.FEATURED_PROJECT_TYPE_MAP=void 0;var r,o=(r=n(13))&&r.__esModule?r:{default:r};var i={algebra_game:o.default.projectTypeAlgebra(),applab:o.default.projectTypeApplab(),artist:o.default.projectTypeArtist(),frozen:o.default.projectTypeFrozen(),gumball:o.default.projectTypeGumball(),infinity:o.default.projectTypeInfinity(),iceage:o.default.projectTypeIceage(),minecraft_adventurer:o.default.projectTypeMinecraft(),minecraft_designer:o.default.projectTypeMinecraft(),minecraft_hero:o.default.projectTypeMinecraft(),minecraft_aquatic:o.default.projectTypeMinecraft(),gamelab:o.default.projectTypeGamelab(),playlab:o.default.projectTypePlaylab(),weblab:o.default.projectTypeWeblab(),bounce:o.default.projectTypeBounce(),flappy:o.default.projectTypeFlappy(),starwars:o.default.projectTypeStarwars(),starwarsblocks:o.default.projectTypeStarwarsBlocks(),sports:o.default.projectTypeSports(),basketball:o.default.projectTypeBasketball(),artist_k1:o.default.projectTypeArtistPreReader(),playlab_k1:o.default.projectTypePlaylabPreReader(),eval:o.default.projectTypeEval(),calc:o.default.projectTypeCalc(),dance:o.default.projectTypeDance(),spritelab:o.default.projectTypeSpriteLab(),javalab:o.default.projectTypeJavalab(),poetry:o.default.projectTypePoetry(),poetry_hoc:o.default.projectTypePoetry(),thebadguys:o.default.projectTypeThebadguys()};t.PROJECT_TYPE_MAP=i;var a={applab:o.default.projectTypeApplab(),artist:o.default.projectTypeDrawing(),frozen:o.default.projectTypeDrawing(),gamelab:o.default.projectTypeGamelab(),playlab:o.default.projectTypePlaylab(),gumball:o.default.projectTypePlaylab(),infinity:o.default.projectTypePlaylab(),iceage:o.default.projectTypePlaylab(),minecraft_adventurer:o.default.projectTypeMinecraft(),minecraft_designer:o.default.projectTypeMinecraft(),minecraft_hero:o.default.projectTypeMinecraft(),minecraft_aquatic:o.default.projectTypeMinecraft(),bounce:o.default.projectTypeEvents(),flappy:o.default.projectTypeEvents(),starwars:o.default.projectTypeEvents(),starwarsblocks:o.default.projectTypeEvents(),sports:o.default.projectTypeEvents(),basketball:o.default.projectTypeEvents(),artist_k1:o.default.projectTypeK1(),playlab_k1:o.default.projectTypeK1(),dance:o.default.projectTypeDance(),poetry:o.default.projectTypePoetry(),thebadguys:o.default.projectTypeThebadguys(),spritelab:o.default.projectTypeSpriteLab()};t.FEATURED_PROJECT_TYPE_MAP=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(143)),s=d(n(394)),l=d(n(74)),u=d(n(13));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"unassign",(function(){t.props.unassignSection(),t.props.onClose()})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.courseName,r=e.sectionName,o=e.cancelUnassign;return i.default.createElement(a.default,{isOpen:t,handleClose:o,useUpdatedStyles:!0,style:g.dialog},i.default.createElement("h2",{className:"unassign-dialog-title"},u.default.unassignSection({courseName:n||u.default.thisUnit()})),i.default.createElement("div",{id:"unassign-dialog-body",style:g.confirm},u.default.unassignSectionConfirm({sectionName:r,courseName:n||u.default.thisUnit()})),i.default.createElement(s.default,null,i.default.createElement(l.default,{__useDeprecatedTag:!0,text:u.default.dialogCancel(),onClick:o,color:l.default.ButtonColor.gray,className:"ui-unassign-cancel-button"}),i.default.createElement(l.default,{__useDeprecatedTag:!0,text:u.default.unassignConfirm(),onClick:this.unassign,color:l.default.ButtonColor.orange,className:"ui-confirm-unassign-section-button"})))},r}(i.Component);h(m,"propTypes",{isOpen:o.default.bool.isRequired,sectionId:o.default.number.isRequired,onClose:o.default.func.isRequired,cancelUnassign:o.default.func.isRequired,unassignSection:o.default.func.isRequired,courseName:o.default.string,sectionName:o.default.string});var g={dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20},confirm:{marginBottom:10}},y=m;t.default=y,e.exports=t.default},,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=m(n(2)),a=m(n(20)),s=m(n(13)),l=m(n(1481)),u=m(n(3028)),c=n(977),d=m(n(3521)),f=n(388),p=n(33),h=m(n(169));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(y(t=e.call.apply(e,[this].concat(r))||this),"state",{isMenuOpen:!1,targetPoint:{top:0,left:0}}),b(y(t),"handleMouseDown",(function(e){e.preventDefault()})),b(y(t),"handleClick",(function(){t.state.isMenuOpen||t.openMenu()})),b(y(t),"handleNativeDropdownChange",(function(e){var n=parseInt(e.target.value);t.props.onChangeSection(n)})),b(y(t),"closeMenu",(function(){return t.setState({isMenuOpen:!1})})),b(y(t),"chooseMenuItem",(function(e){t.props.onChangeSection(e.id),(0,f.updateQueryParam)("section_id",e.id),(0,f.updateQueryParam)("user_id",void 0),t.props.forceReload&&(0,p.reload)(),t.closeMenu()})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var i=r.prototype;return i.openMenu=function(){var e=this.select.getBoundingClientRect(),t={top:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset};this.setState({isMenuOpen:!0,targetPoint:t})},i.render=function(){var e=this,t=this.props,n=t.sections,r=t.selectedSection,i=t.courseOfferingId,a=t.courseVersionId,c=t.unitId,f=r?r.id:"",p=h.default.stringify({courseOfferingId:i,courseVersionId:a,unitId:c});return o.default.createElement("div",null,o.default.createElement("select",{value:f,onChange:this.props.onChangeSection,ref:function(t){return e.select=t},onClick:this.handleClick,onMouseDown:this.handleMouseDown,style:w.select},o.default.createElement("option",{value:""},s.default.selectSectionOption()),n&&n.map((function(e){return o.default.createElement("option",{key:e.id,value:e.id},e.name)}))),o.default.createElement(l.default,{isOpen:this.state.isMenuOpen,targetPoint:this.state.targetPoint,onClose:this.closeMenu,offset:{x:0,y:0}},n&&n.map((function(t){return o.default.createElement(u.default,{section:t,onClick:function(){return e.chooseMenuItem(t)},key:t.id})})),o.default.createElement("div",{style:w.addNewSection},o.default.createElement(d.default,{href:"/home?".concat(p),text:s.default.addNewSection()}))))},r}(o.Component);t.default=_,b(_,"propTypes",{sections:i.default.arrayOf(c.sectionForDropdownShape).isRequired,selectedSection:i.default.object,onChangeSection:i.default.func.isRequired,forceReload:i.default.bool,courseOfferingId:i.default.number,courseOfferingParticipantType:i.default.string,courseVersionId:i.default.number,unitId:i.default.number});var w={select:{height:34,width:300,marginBottom:0},addNewSection:{borderTop:"1px solid ".concat(a.default.charcoal),paddingTop:16,paddingBottom:8,paddingLeft:20,paddingRight:12,width:268}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(1481)),s=d(n(59)),l=d(n(20)),u=n(977);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){var e=this.props,t=e.section,n=e.onClick,r={marginRight:5,color:l.default.level_perfect,visibility:t.isAssigned?"visible":"hidden"};return i.default.createElement(a.default.Item,{onClick:n,style:y.item},i.default.createElement("span",{style:r},i.default.createElement(s.default,{icon:"check"})),i.default.createElement("span",null,t.name))},r}(i.Component);t.default=g,p=g,h="propTypes",m={section:u.sectionForDropdownShape,onClick:o.default.func.isRequired},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={item:{height:28,lineHeight:"28px",width:270,fontSize:14,fontFamily:'"Gotham 4r", sans-serif',whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:10}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(1481)),a=u(n(13)),s=u(n(20)),l=n(3522);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={item:{backgroundColor:s.default.charcoal,":hover":{backgroundColor:s.default.charcoal},cursor:"default"},wrapper:{fontSize:16,fontWeight:"bold",height:l.rowHeight,color:s.default.white,display:"flex",alignItems:"center"},selectedColumn:p(p({},l.cellStyle),{},{width:l.columnWidths.selected,marginLeft:-10}),titleColumn:p(p({},l.cellStyle),{},{width:l.columnWidths.title}),statusColumn:p(p({},l.cellStyle),{},{width:l.columnWidths.status}),languageColumn:p(p({},l.cellStyle),{},{width:l.columnWidths.language,marginRight:-10})},g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n),r.prototype.render=function(){return o.default.createElement(i.default.Item,{onClick:function(){},style:m.item},o.default.createElement("div",{style:m.wrapper},o.default.createElement("span",{style:m.selectedColumn}),o.default.createElement("span",{style:m.titleColumn},a.default.version()),o.default.createElement("span",{style:m.statusColumn}),o.default.createElement("span",{style:m.languageColumn},a.default.languages())))},r}(o.Component);t.default=g,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(20)),s=d(n(13)),l=d(n(3031)),u=n(2539);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),r.prototype.render=function(){return i.default.createElement("div",{style:y.main},i.default.createElement("div",{style:y.header},i.default.createElement("a",{href:this.props.lesson.link,style:y.link},i.default.createElement("h3",null,s.default.lessonNumbered({lessonNumber:this.props.lesson.position,lessonName:this.props.lesson.displayName})))),i.default.createElement("div",{style:y.entries},i.default.createElement(l.default,{objectToRollUp:this.props.objectToRollUp,lesson:this.props.lesson}),"Resources"===this.props.objectToRollUp&&i.default.createElement(l.default,{objectToRollUp:"Prep",lesson:this.props.lesson})))},r}(i.Component);t.default=g,p=g,h="propTypes",m={objectToRollUp:o.default.string,lesson:u.lessonShape},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var y={main:{width:"100%"},header:{backgroundColor:a.default.purple,color:a.default.white,border:"solid 1px"+a.default.charcoal,padding:"0px 10px"},object:{backgroundColor:a.default.lightest_gray,color:a.default.charcoal,border:"solid 1px"+a.default.charcoal,padding:"0px 10px"},entries:{display:"flex",flexDirection:"row",alignItems:"stretch",alignContent:"stretch"},link:{color:a.default.white}};e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(2)),i=m(n(1)),a=g(n(20)),s=g(n(13)),l=g(n(806)),u=g(n(2587)),c=g(n(634)),d=m(n(3523)),f=g(n(1252)),p=n(2539);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var v,b,_,w=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),r.prototype.render=function(){var e=this.props.lesson.resources.Teacher||this.props.lesson.resources.Student||this.props.lesson.resources.All;return i.default.createElement("div",{style:E.main},("Resources"===this.props.objectToRollUp||"Prep"===this.props.objectToRollUp)&&i.default.createElement("div",{style:E.object},i.default.createElement("h4",null,"Resources"===this.props.objectToRollUp?s.default.resources():s.default.preparation())),i.default.createElement("div",{style:E.entries},"Vocabulary"===this.props.objectToRollUp&&this.props.lesson.vocabularies.length>0&&this.props.lesson.vocabularies.map((function(e){return i.default.createElement("li",{key:e.key},i.default.createElement(l.default,{markdown:"**".concat(e.word,"** - ").concat(e.definition)}))})),"Vocabulary"===this.props.objectToRollUp&&this.props.lesson.vocabularies.length<=0&&i.default.createElement("p",null,s.default.rollupNoVocab()),"Code"===this.props.objectToRollUp&&this.props.lesson.programmingExpressions.length>0&&i.default.createElement("ul",null,this.props.lesson.programmingExpressions.map((function(e){return i.default.createElement("li",{key:e.name},i.default.createElement(f.default,{programmingExpression:e}))}))),"Code"===this.props.objectToRollUp&&this.props.lesson.programmingExpressions.length<=0&&i.default.createElement("p",null,s.default.rollupNoCode()),"Resources"===this.props.objectToRollUp&&e&&i.default.createElement("div",null,this.props.lesson.resources.Teacher&&i.default.createElement("div",null,i.default.createElement("h5",null,s.default.forTheTeachers()),i.default.createElement(u.default,{resources:this.props.lesson.resources.Teacher,pageType:"resources-rollup"})),this.props.lesson.resources.Student&&i.default.createElement("div",null,i.default.createElement("h5",null,s.default.forTheStudents()),i.default.createElement(u.default,{resources:this.props.lesson.resources.Student,pageType:"resources-rollup"})),this.props.lesson.resources.All&&i.default.createElement("div",null,i.default.createElement("h5",null,s.default.forAll()),i.default.createElement(u.default,{resources:this.props.lesson.resources.All,pageType:"resources-rollup"}))),"Resources"===this.props.objectToRollUp&&!e&&i.default.createElement("p",null,s.default.rollupNoResources()),"Prep"===this.props.objectToRollUp&&this.props.lesson.preparation&&i.default.createElement(c.default,{markdown:this.props.lesson.preparation,expandableImages:!0}),"Prep"===this.props.objectToRollUp&&!this.props.lesson.preparation&&i.default.createElement("p",null,s.default.rollupNoPrep()),"Standards"===this.props.objectToRollUp&&this.props.lesson.standards.length>0&&i.default.createElement(d.default,{standards:this.props.lesson.standards,expandMode:d.ExpandMode.ALL}),"Standards"===this.props.objectToRollUp&&this.props.lesson.standards.length<=0&&i.default.createElement("p",null,s.default.rollupNoStandards())))},r}(i.Component);t.default=w,v=w,b="propTypes",_={objectToRollUp:o.default.string,lesson:p.lessonShape},b in v?Object.defineProperty(v,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[b]=_;var E={main:{width:"100%",display:"flex",flexDirection:"column"},object:{backgroundColor:a.default.lightest_gray,color:a.default.charcoal,border:"solid 1px"+a.default.charcoal,padding:"0px 10px"},entries:{color:a.default.charcoal,border:"solid 1px"+a.default.charcoal,padding:10,height:"100%"}};e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=u(n(13)),s=u(n(20));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e=this.props.showErrorMsg&&!this.props.value,t=i.default.createElement("div",{style:p.errors},a.default.censusRequiredSelect()),n=!1;return this.props.country&&"United States"===this.props.country&&(n=!0),i.default.createElement("div",null,i.default.createElement("div",{style:p.singleLineContainerStyles},i.default.createElement("div",{style:p.singleLineLayoutStyles},a.default.signupFormSchoolType(),this.props.showRequiredIndicator&&n&&i.default.createElement("span",{style:p.asterisk}," *")),i.default.createElement("select",{id:"school-type",name:this.props.fieldName,type:"select",onChange:this.props.onChange,value:this.props.value,style:p.selectStyle},i.default.createElement("option",{disabled:!0,value:""}),i.default.createElement("option",{value:"charter"},a.default.schoolTypeCharter()),i.default.createElement("option",{value:"private"},a.default.schoolTypePrivate()),i.default.createElement("option",{value:"public"},a.default.schoolTypePublic()),i.default.createElement("option",{value:"homeschool"},a.default.schoolTypeHomeschool()),i.default.createElement("option",{value:"afterschool"},a.default.schoolTypeAfter()),i.default.createElement("option",{value:"organization"},a.default.schoolTypeOrganization()),i.default.createElement("option",{value:"other"},a.default.schoolTypeOther()))),e&&t)},r}(i.Component);t.default=f,d(f,"propTypes",{onChange:o.default.func.isRequired,value:o.default.string,country:o.default.string,fieldName:o.default.string,showRequiredIndicator:o.default.bool,showErrorMsg:o.default.bool}),d(f,"defaultProps",{value:"",fieldName:"user[school_info_attributes][school_type]"});var p={asterisk:{fontSize:20,fontFamily:'"Gotham 5r", sans-serif',color:s.default.red},errors:{fontSize:14,fontFamily:'"Gotham 4r", sans-serif',color:s.default.red,paddingTop:5,paddingBottom:5},singleLineLayoutStyles:{display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},singleLineContainerStyles:{display:"table",width:"100%"},selectStyle:{width:390,verticalAlign:"top",marginBottom:"5px",marginTop:"5px"}};e.exports=t.default},,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(2)),o=d(n(1)),i=d(n(13)),a=d(n(143)),s=d(n(20)),l=n(1482),u=n(1908),c=n(735);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="initial",g="saving",y="unknown-error",v=function(e){var t,n;function r(t){var n;h(f(n=e.call(this,t)||this),"save",(function(){if(n.isFormValid(n.getValidationErrors())){var e=n.state.values;n.setState({saveState:g}),n.props.handleSubmit(e).catch(n.onSubmitFailure)}})),h(f(n),"cancel",(function(){return n.props.handleCancel()})),h(f(n),"onSubmitFailure",(function(e){e&&e.hasOwnProperty("serverErrors")?n.setState({saveState:m,errors:e.serverErrors},(function(){return n.focusOnError()})):n.setState({saveState:y})})),h(f(n),"getNewEmailValidationError",(function(){var e=n.state.values.parentEmail;return 0===e.trim().length?i.default.addParentEmailModal_parentEmail_isRequired():(0,l.isEmail)(e.trim())?e.trim()===n.props.currentParentEmail?i.default.addParentEmailModal_parentEmail_mustBeDifferent():null:i.default.addParentEmailModal_parentEmail_invalid()})),h(f(n),"getConfirmedEmailValidationError",(function(){var e=n.state.values;return e.parentEmail!==e.confirmedParentEmail?i.default.addParentEmailModal_confirmedParentEmail_mustMatch():null})),h(f(n),"onParentEmailChange",(function(e){var t=n.state,r=t.values,o=t.errors;r.parentEmail=e.target.value,o.parentEmail="",n.setState({values:r,errors:o})})),h(f(n),"onConfirmedParentEmailChange",(function(e){var t=n.state,r=t.values,o=t.errors;r.confirmedParentEmail=e.target.value,o.confirmedParentEmail="",n.setState({values:r,errors:o})})),h(f(n),"onEmailOptInChange",(function(e){var t=n.state,r=t.values,o=t.errors;r.parentEmailOptIn=e.target.value,o.parentEmailOptIn="",n.setState({values:r,errors:o})})),h(f(n),"render",(function(){var e=n.state,t=e.saveState,r=e.values,s=n.getValidationErrors(),l=n.isFormValid(s),d=t===g;return o.default.createElement(a.default,{useUpdatedStyles:!0,isOpen:!0,handleClose:n.cancel,uncloseable:g===t},o.default.createElement("div",{style:b.container},o.default.createElement("div",null,o.default.createElement(u.Header,{text:i.default.addParentEmailModal_title(),hideBorder:!0}),i.default.addParentEmailModal_subtitle(),o.default.createElement("hr",null)),o.default.createElement(u.Field,{label:i.default.addParentEmailModal_parentEmail_label(),error:s.parentEmail},o.default.createElement("input",{type:"email",value:r.parentEmail,disabled:d,tabIndex:"1",onKeyDown:n.onKeyDown,onChange:n.onParentEmailChange,autoComplete:"off",maxLength:"255",size:"255",style:b.input,ref:function(e){return n.parentEmailInput=e}})),o.default.createElement(u.Field,{label:i.default.addParentEmailModal_confirmedParentEmail_label(),error:s.confirmedParentEmail},o.default.createElement("input",{type:"email",value:r.confirmedParentEmail,disabled:d,tabIndex:"1",onKeyDown:n.onKeyDown,onChange:n.onConfirmedParentEmailChange,autoComplete:"off",maxLength:"255",size:"255",style:b.input,ref:function(e){return n.confirmedParentEmailInput=e}})),o.default.createElement("div",{style:b.parentOptInSection},o.default.createElement("div",{style:b.parentEmailOptInHeading},o.default.createElement("b",null,i.default.addParentEmailModal_emailOptIn_label()),o.default.createElement("br",null)," ",i.default.addParentEmailModal_emailOptIn_sublabel()),o.default.createElement("div",{style:b.parentEmailOptInInput},o.default.createElement("label",{style:b.label},i.default.addParentEmailModal_emailOptIn_description()," ",o.default.createElement("a",{href:(0,c.pegasus)("/privacy")},i.default.changeEmailModal_emailOptIn_privacyPolicy())),o.default.createElement("div",{style:b.radioSelectors},o.default.createElement("div",{style:b.radioButton},o.default.createElement("input",{type:"radio",id:"yes",value:"yes",disabled:d,checked:"yes"===r.parentEmailOptIn,onChange:n.onEmailOptInChange,style:b.radio}),o.default.createElement("label",{htmlFor:"yes",style:b.label},i.default.yes())),o.default.createElement("div",{style:b.radioButton},o.default.createElement("input",{type:"radio",id:"no",value:"no",disabled:d,checked:"no"===r.parentEmailOptIn,onChange:n.onEmailOptInChange,style:b.radio}),o.default.createElement("label",{htmlFor:"no",style:b.label},i.default.no()))))),o.default.createElement(u.ConfirmCancelFooter,{confirmText:i.default.addParentEmailModal_save(),onConfirm:n.save,onCancel:n.cancel,disableConfirm:d||!l,disableCancel:d,tabIndex:"2"},d&&o.default.createElement("em",null,i.default.saving()),y===t&&o.default.createElement("em",null,i.default.changeEmailModal_unexpectedError()))))}));var r=t.currentParentEmail?t.currentParentEmail:"";return n.state={saveState:m,values:{parentEmail:r,confirmedParentEmail:"",parentEmailOptIn:""},errors:{parentEmail:"",confirmedParentEmail:""}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var s=r.prototype;return s.focusOnError=function(){this.state.errors.parentEmail&&this.parentEmailInput.focus()},s.isFormValid=function(e){return Object.keys(e).every((function(t){return!e[t]}))},s.getValidationErrors=function(){var e=this.state.errors;return{parentEmail:e.parentEmail||this.getNewEmailValidationError(),confirmedParentEmail:e.confirmedParentEmail||this.getConfirmedEmailValidationError()}},r}(o.default.Component);t.default=v,h(v,"propTypes",{handleSubmit:r.default.func.isRequired,handleCancel:r.default.func.isRequired,currentParentEmail:r.default.string});var b={container:{margin:20,color:s.default.charcoal},parentOptInSection:{border:"1px solid",borderColor:s.default.charcoal,backgroundColor:s.default.background_gray,padding:"10px"},parentEmailOptInHeading:{borderColor:s.default.charcoal,borderTopWidth:0,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",paddingBottom:10},parentEmailOptInInput:{display:"flex",flexDirection:"row",paddingTop:10},radioSelectors:{paddingLeft:10,paddingRight:10,display:"flex",flexDirection:"column",justifyContent:"center"},radioButton:{display:"flex",justifyContent:"space-between"},label:{margin:"auto"},radio:{height:12,width:12,margin:4}};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=a(n(1)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){var e=l(l({},f),this.props.hideBorder&&{borderBottomWidth:0,paddingBottom:5});return o.default.createElement("h1",{style:e},this.props.text)},r}(o.default.Component);t.default=d,c(d,"propTypes",{text:r.default.string.isRequired,hideBorder:r.default.bool});var f={fontSize:16,lineHeight:"20px",color:i.default.charcoal,fontFamily:"'Gotham 5r', sans-serif",borderStyle:"solid",borderColor:i.default.lighter_gray,borderTopWidth:0,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,paddingBottom:10,paddingTop:0,paddingLeft:0,paddingRight:0,marginBottom:10,marginTop:10};e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2)),o=s(n(1)),i=s(n(20)),a=n(33);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).uniqueId=(0,a.createUuid)(),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r.prototype.render=function(){var e=this.props,t=e.label,n=e.labelDetails,r=e.error,a=e.children,s=e.style;return o.default.createElement("div",{style:u({marginBottom:15},s)},(t||n)&&o.default.createElement("label",{htmlFor:this.uniqueId,style:{display:"block",color:i.default.charcoal}},t&&o.default.createElement("span",{style:{fontWeight:"bold",marginRight:"1em"}},t),n&&o.default.createElement("span",null,n)),o.default.cloneElement(a,{id:this.uniqueId}),r&&o.default.createElement(p,null,r))},r}(o.default.Component);t.default=f,d(f,"propTypes",{label:r.default.string,labelDetails:r.default.node,error:r.default.any,children:r.default.element.isRequired,style:r.default.object});var p=function(e){var t=e.children;return o.default.createElement("div",{style:{color:i.default.red,fontStyle:"italic"}},t)};p.propTypes={children:r.default.string},e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2)),o=l(n(1)),i=l(n(20)),a=l(n(13)),s=l(n(74));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.prototype.render=function(){var e=this.props,t=e.onConfirm,n=e.onCancel,r=e.confirmText,i=e.cancelText,a=e.confirmColor,l=e.cancelColor,u=e.disableConfirm,c=e.disableCancel,d=e.tabIndex,m=e.children;return o.default.createElement("div",{style:f},o.default.createElement(s.default,{__useDeprecatedTag:!0,onClick:t,text:r,color:a,disabled:u,tabIndex:d,style:h}),o.default.createElement("span",{style:p},m),o.default.createElement(s.default,{__useDeprecatedTag:!0,onClick:n,text:i,color:l,disabled:c,tabIndex:d,style:h}))},r}(o.default.Component);t.default=d,c(d,"propTypes",{onConfirm:r.default.func.isRequired,onCancel:r.default.func.isRequired,confirmText:s.default.propTypes.text,cancelText:s.default.propTypes.text,confirmColor:s.default.propTypes.color.isRequired,cancelColor:s.default.propTypes.color.isRequired,disableConfirm:r.default.bool,disableCancel:r.default.bool,tabIndex:r.default.oneOfType([r.default.string,r.default.number]),children:r.default.any}),c(d,"defaultProps",{confirmText:a.default.dialogOK(),cancelText:a.default.cancel(),confirmColor:s.default.ButtonColor.orange,cancelColor:s.default.ButtonColor.gray});var f={display:"flex",flexDirection:"row-reverse",alignItems:"flex-end",justifyContent:"space-between",borderStyle:"solid",borderColor:i.default.lighter_gray,borderTopWidth:1,borderBottomWidth:0,borderRightWidth:0,borderLeftWidth:0,paddingTop:10,marginTop:10},p={display:"inline-block",lineHeight:"34px",textAlign:"right",verticalAlign:"top",marginLeft:"1em",marginRight:"1em",flexGrow:1},h={flexShrink:0};e.exports=t.default},,,,,,,,,,,,,,,,(e,t,n)=>{var r=n(3531);e.exports=p,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,f)s+=f[1];else{var h=e[a],m=n[2],g=n[3],y=n[4],v=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=h&&h!==m,E="+"===b||"*"===b,O="?"===b||"*"===b,S=n[2]||c,T=y||v;r.push({name:g||i++,prefix:m||"",delimiter:S,optional:O,repeat:E,partial:w,asterisk:!!_,pattern:T?u(T):_?".*":"[^"+l(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",d(t)));return function(t,o){for(var i="",s=t||{},l=(o||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var d,f=s[c.name];if(null==f){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=l(f[p]),!n[u].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===p?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!n[u].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');i+=c.prefix+d}}else i+=c}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"==typeof u)a+=l(u);else{var f=l(u.prefix),p="(?:"+u.pattern+")";t.push(u),u.repeat&&(p+="(?:"+f+p+")*"),a+=p=u.optional?u.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var h=l(n.delimiter||"/"),m=a.slice(-h.length)===h;return o||(a=(m?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+h+"|$)",c(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(i(e,n),t,n)}(e,t,n)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=l(n(1)),o=l(n(2)),i=l(n(13)),a=l(n(20)),s=l(n(165));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.courseName;return r.default.createElement("div",{style:c.verifiedBanner},r.default.createElement("div",null,r.default.createElement("i",{className:"fa fa-warning",style:c.warningIcon})),r.default.createElement("div",null,r.default.createElement("h4",{style:c.title},i.default.getVerifiedTitle()),r.default.createElement(s.default,{markdown:i.default.getVerifiedInfo({courseName:t,verificationFormUrl:"https://docs.google.com/forms/d/e/1FAIpQLSdGGAJuaDMBVIRYnimPhAL96w6fCl4UdvhwmynGONM75TWwWw/viewform",verificationInfoUrl:"https://support.code.org/hc/en-us/articles/115001550131-How-do-I-get-a-verified-teacher-account-for-CS-Principles-CS-Discoveries-and-CSA-"})})))}u.propTypes={courseName:o.default.string};var c={verifiedBanner:{border:"1px solid",borderColor:a.default.goldenrod,borderRadius:5,marginRight:20,display:"flex",marginTop:5},warningIcon:{color:a.default.goldenrod,fontSize:22,margin:"10px 15px"},title:{color:a.default.goldenrod,marginTop:10,fontWeight:"bold"}};e.exports=t.default},,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(2)),o=d(n(1)),i=d(n(3083)),a=d(n(1592)),s=d(n(13)),l=d(n(53)),u=d(n(59)),c=d(n(2664));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"state",{showFullList:!1}),h(f(t),"toggleShowFullList",(function(){t.setState({showFullList:!t.state.showFullList})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.prototype.render=function(){var e=g(this.props.projectList),t=this.props,n=t.canViewAdvancedTools,r=t.canViewFullList;return o.default.createElement(a.default,{heading:s.default.projects(),linkText:s.default.projectsViewProjectGallery(),link:"/projects"},this.props.isLoading&&o.default.createElement("div",{style:{height:280,textAlign:"center"}},o.default.createElement(u.default,{icon:"spinner",className:"fa-pulse fa-3x"})),e.length>0&&o.default.createElement(i.default,{projectList:e}),o.default.createElement(c.default,{projectTypes:this.props.projectTypes,canViewFullList:r,canViewAdvancedTools:n}))},r}(o.default.Component);h(m,"propTypes",{projectList:r.default.array.isRequired,projectTypes:r.default.arrayOf(r.default.string),isLoading:r.default.bool,canViewFullList:r.default.bool,canViewAdvancedTools:r.default.bool});var g=function(e){var t=l.default.sortBy(e,"updatedAt").reverse();t=t.filter((function(e){return!e.hidden&&e.id&&e.projectType}));var n=Math.min(4,t.length);return l.default.range(n).map((function(e){return{name:t[e].name,channel:t[e].id,thumbnailUrl:t[e].thumbnailUrl,type:t[e].projectType,updatedAt:t[e].updatedAt}}))},y=m;t.default=y,e.exports=t.default},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=n(27),a=f(n(2238)),s=n(1276),l=f(n(20)),u=f(n(13)),c=f(n(2)),d=f(n(103));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m,g,y,v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),r.prototype.render=function(){var e=this.props.isRtl?b.cardPaddingRtl:b.cardPadding;return o.default.createElement("div",{style:b.grid},o.default.createElement("div",{style:b.description},u.default.projectsContinueWorking()),o.default.createElement("div",null,this.props.projectList&&this.props.projectList.slice(0,4).map((function(t,n){return o.default.createElement("div",{key:n,style:[b.card,n<3&&e]},o.default.createElement(a.default,{projectData:t,currentGallery:"personal"}))}))))},r}(o.Component);m=v,g="propTypes",y={projectList:c.default.arrayOf(s.personalProjectDataPropType).isRequired,isRtl:c.default.bool.isRequired},g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y;var b={grid:{width:"100%"},card:{display:"inline-block",paddingTop:10,paddingBottom:20,paddingRight:0,paddingLeft:0},cardPadding:{paddingRight:35},cardPaddingRtl:{paddingLeft:35},description:{paddingRight:10,paddingBottom:10,fontSize:16,fontFamily:"Gotham 4r",zIndex:2,color:l.default.charcoal,width:940,marginBottom:-10}},_=(0,i.connect)((function(e){return{isRtl:e.isRtl}}))((0,d.default)(v));t.default=_,e.exports=t.default},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(1)),o=n(27),i=d(n(13)),a=d(n(452)),s=d(n(20)),l=d(n(2)),u=d(n(103)),c=d(n(53));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p,h,m,g={playlab:{label:i.default.projectTypePlaylab(),thumbnail:"/shared/images/fill-70x70/courses/logo_playlab.png"},playlab_k1:{label:i.default.projectTypePlaylabPreReader(),thumbnail:"/shared/images/fill-70x70/courses/logo_playlab.png"},artist:{label:i.default.projectTypeArtist(),thumbnail:"/shared/images/fill-70x70/courses/logo_artist.png"},artist_k1:{label:i.default.projectTypeArtistPreReader(),thumbnail:"/shared/images/fill-70x70/courses/logo_artist.png"},applab:{label:i.default.projectTypeApplab(),thumbnail:"/shared/images/fill-70x70/courses/logo_applab_square.png"},gamelab:{label:i.default.projectTypeGamelab(),thumbnail:"/shared/images/fill-70x70/courses/logo_gamelab_square.png"},weblab:{label:i.default.projectTypeWeblab(),thumbnail:"/shared/images/fill-70x70/courses/logo_weblab.png"},calc:{label:i.default.projectTypeCalc(),thumbnail:"/shared/images/fill-70x70/courses/logo_calc.png"},eval:{label:i.default.projectTypeEval(),thumbnail:"/shared/images/fill-70x70/courses/logo_eval.png"},frozen:{label:i.default.projectTypeFrozen(),thumbnail:"/shared/images/fill-70x70/courses/logo_frozen.png"},minecraft_adventurer:{label:i.default.projectTypeMinecraftAdventurer(),thumbnail:"/shared/images/fill-70x70/courses/logo_mc.png"},minecraft_designer:{label:i.default.projectTypeMinecraftDesigner(),thumbnail:"/shared/images/fill-70x70/courses/logo_minecraft.png"},minecraft_hero:{label:i.default.projectTypeMinecraftHero(),thumbnail:"/shared/images/fill-70x70/courses/logo_minecraft_hero_square.jpg"},minecraft_aquatic:{label:i.default.projectTypeMinecraftAquatic(),thumbnail:"/shared/images/fill-70x70/courses/logo_minecraft_aquatic_square.jpg"},starwars:{label:i.default.projectTypeStarwars(),thumbnail:"/shared/images/fill-70x70/courses/logo_starwars.png"},starwarsblocks:{label:i.default.projectTypeStarwarsBlocks(),thumbnail:"/shared/images/fill-70x70/courses/logo_starwarsblocks.png"},flappy:{label:i.default.projectTypeFlappy(),thumbnail:"/shared/images/fill-70x70/courses/logo_flappy.png"},sports:{label:i.default.projectTypeSports(),thumbnail:"/shared/images/fill-70x70/courses/logo_sports.png"},basketball:{label:i.default.projectTypeBasketball(),thumbnail:"/shared/images/fill-70x70/courses/logo_basketball.png"},bounce:{label:i.default.projectTypeBounce(),thumbnail:"/shared/images/fill-70x70/courses/logo_bounce.png"},infinity:{label:i.default.projectTypeInfinity(),thumbnail:"/shared/images/fill-70x70/courses/logo_infinity.png"},iceage:{label:i.default.projectTypeIceage(),thumbnail:"/shared/images/fill-70x70/courses/logo_iceage.png"},gumball:{label:i.default.projectTypeGumball(),thumbnail:"/shared/images/fill-70x70/courses/logo_gumball.png"},spritelab:{label:i.default.projectTypeSpriteLab(),thumbnail:"/shared/images/fill-70x70/courses/logo_spritelab.png"},dance:{label:i.default.projectTypeDance(),thumbnail:"/shared/images/fill-70x70/courses/logo_dance.png"},poetry:{label:i.default.projectTypePoetry(),thumbnail:"/shared/images/fill-70x70/courses/logo_poetry.png"},thebadguys:{label:i.default.projectTypeThebadguys(),thumbnail:"/shared/images/fill-70x70/courses/logo_thebadguys.png"}},y=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),o.prototype.render=function(){var e=this.props,t=e.description,n=e.isRtl,o=e.projectTypes,i=n?v.thumbnailRtl:v.thumbnail;return r.default.createElement("div",{style:v.fullsize},t&&r.default.createElement("div",{style:v.description},t),c.default.chunk(o,4).map((function(e,t){return r.default.createElement("div",{style:v.row,key:t},e.map((function(e,t){return r.default.createElement("a",{key:t,href:"/projects/"+e+"/new"},r.default.createElement("div",{style:[v.tile,t<3&&v.tilePadding]},r.default.createElement("img",{style:i,src:g[e].thumbnail,alt:g[e].label}),r.default.createElement("div",{style:v.label},g[e].label)))})),r.default.createElement("div",{style:{clear:"both"}}))})))},o}(r.default.Component);p=y,h="propTypes",m={projectTypes:l.default.arrayOf(l.default.string),isRtl:l.default.bool,description:l.default.string},h in p?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m;var v={fullsize:{width:a.default["content-width"],marginTop:20,marginBottom:10},row:{marginBottom:10},tile:{width:214,height:70,border:"1px solid "+s.default.lighter_gray,borderRadius:2,float:"left",display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:s.default.white},tilePadding:{marginRight:35},thumbnail:{borderTopLeftRadius:2,borderBottomLeftRadius:2,marginRight:10},thumbnailRtl:{borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:10},label:{paddingRight:5,color:s.default.teal},description:{paddingRight:10,paddingBottom:10,fontSize:14,fontFamily:'"Gotham 5r"',color:s.default.charcoal}},b=(0,o.connect)((function(e){return{isRtl:e.isRtl}}))((0,u.default)(y));t.default=b,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedAssignButton=void 0;var r=d(n(1)),o=d(n(2)),i=n(27),a=d(n(74)),s=d(n(13)),l=n(468),u=d(n(2652)),c=n(761);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(f(t=e.call.apply(e,[this].concat(r))||this),"state",{confirmationDialogOpen:!1}),h(f(t),"onCloseDialog",(function(){t.setState({confirmationDialogOpen:!1})})),h(f(t),"unhideAndAssign",(function(){var e=t.props,n=e.sectionId,r=e.courseId,o=e.courseOfferingId,i=e.courseVersionId,a=e.scriptId,s=e.assignToSection;(0,e.updateHiddenScript)(n,a,!1),s(n,r,o,i,a)})),h(f(t),"handleClick",(function(){var e=t.props,n=e.scriptId,r=e.courseId,o=e.courseOfferingId,i=e.courseVersionId,a=e.sectionId,s=e.hiddenLessonState,l=e.assignToSection;a&&n&&s&&(0,c.isScriptHiddenForSection)(s,a,n)?t.setState({confirmationDialogOpen:!0}):l(a,r,o,i,n)})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),o.prototype.render=function(){var e=this.state.confirmationDialogOpen,t=this.props,n=t.assignmentName,o=t.sectionName,i=t.isRtl?g.buttonMarginRTL:g.buttonMargin;return r.default.createElement("div",null,r.default.createElement("div",{style:i},r.default.createElement(a.default,{__useDeprecatedTag:!0,color:a.default.ButtonColor.orange,text:s.default.assignToSection(),icon:"plus",onClick:this.handleClick,className:"uitest-assign-button"})),e&&r.default.createElement(u.default,{sectionName:o,assignmentName:n,onClose:this.onCloseDialog,onConfirm:this.unhideAndAssign}))},o}(r.default.Component);h(m,"propTypes",{sectionId:o.default.number.isRequired,sectionName:o.default.string,courseId:o.default.number,courseOfferingId:o.default.number,courseVersionId:o.default.number,scriptId:o.default.number,assignmentName:o.default.string,assignToSection:o.default.func.isRequired,hiddenLessonState:o.default.object,updateHiddenScript:o.default.func.isRequired,isRtl:o.default.bool});var g={buttonMargin:{marginLeft:10,display:"flex",alignItems:"center"},buttonMarginRTL:{marginRight:10,display:"flex",alignItems:"center"}},y=m;t.UnconnectedAssignButton=y;var v=(0,i.connect)((function(e){return{hiddenLessonState:e.hiddenLesson,isRtl:e.isRtl}}),{assignToSection:l.assignToSection,updateHiddenScript:c.updateHiddenScript})(m);t.default=v},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedUnassignSectionButton=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),o=d(n(2)),i=n(27),a=d(n(74)),s=d(n(13)),l=n(468),u=d(n(3025)),c=d(n(131));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){if(null!==t&&void 0!==m(t))return t}function y(e){var t=e.sectionId,n=e.courseName,o=e.buttonLocationAnalytics,i=e.initialUnitId,l=e.initialCourseId,d=e.unassignSection,f=e.sectionName,h=e.isRtl,m=p((0,r.useState)(s.default.assigned()),2),y=m[0],b=m[1],_=p((0,r.useState)("check"),2),w=_[0],E=_[1],O=p((0,r.useState)(!1),2),S=O[0],T=O[1],C=h?v.buttonMarginRTL:v.buttonMargin,k=function(){T(!1)},A=function(e){c.default.putRecord({study:"assignment",event:e,data_json:JSON.stringify({sectionId:t,scriptId:i,courseId:l,location:o,date:new Date},g)},{includeUserId:!0})};return r.default.createElement("div",{onMouseOver:function(){b(s.default.unassign()),E("times")},onMouseLeave:function(){b(s.default.assigned()),E("check")},style:C,className:"uitest-unassign-button"},r.default.createElement(a.default,{__useDeprecatedTag:!0,color:a.default.ButtonColor.green,text:y,icon:w,onClick:function(){T(!0),A("start-course-unassigned-from-section")}}),r.default.createElement(u.default,{isOpen:S,sectionId:t,courseName:n,sectionName:f,onClose:k,cancelUnassign:function(){k(),A("cancel-course-unassigned-from-section")},unassignSection:function(){d(t,o)}}))}y.propTypes={sectionId:o.default.number.isRequired,courseName:o.default.string,buttonLocationAnalytics:o.default.string,initialUnitId:o.default.number,initialCourseId:o.default.number,unassignSection:o.default.func.isRequired,sectionName:o.default.string,isRtl:o.default.bool};var v={buttonMargin:{marginLeft:10,display:"flex",alignItems:"center"},buttonMarginRTL:{marginRight:10,display:"flex",alignItems:"center"}},b=y;t.UnconnectedUnassignSectionButton=b;var _=(0,i.connect)((function(e,t){return{isRtl:e.isRtl,initialUnitId:e.teacherSections.initialUnitId,initialCourseId:e.teacherSections.initialCourseId,sectionName:(0,l.sectionName)(e,t.sectionId)}}),{unassignSection:l.unassignSection})(y);t.default=_},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSectionAssigner=void 0;var o=h(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=n(27),s=h(n(13)),l=n(977),u=h(n(3027)),c=h(n(3518)),d=h(n(3519)),f=n(468);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(t=e.call.apply(e,[this].concat(r))||this),"onChangeSection",(function(e){t.props.selectSection(e)})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),r.prototype.render=function(){var e=this.props,t=e.sections,n=e.showAssignButton,r=e.courseOfferingId,o=e.courseVersionId,a=e.courseId,l=e.scriptId,f=e.selectedSectionId,p=e.forceReload,h=e.assignmentName,m=e.buttonLocationAnalytics,g=t.find((function(e){return e.id===f}));return i.default.createElement("div",{style:b.section},i.default.createElement("div",{style:b.label},s.default.currentSection()),i.default.createElement("div",{style:b.content},i.default.createElement(u.default,{sections:t,onChangeSection:this.onChangeSection,selectedSection:g,forceReload:p,courseOfferingId:r,courseVersionId:o,unitId:l}),g&&g.isAssigned&&i.default.createElement(d.default,{courseName:h,sectionId:g.id,buttonLocationAnalytics:m}),g&&!g.isAssigned&&n&&i.default.createElement(c.default,{sectionId:g.id,courseOfferingId:r,courseVersionId:o,courseId:a,scriptId:l,assignmentName:h,sectionName:g.name})))},r}(i.Component);y(v,"propTypes",{sections:o.default.arrayOf(l.sectionForDropdownShape).isRequired,showAssignButton:o.default.bool,courseOfferingId:o.default.number,courseVersionId:o.default.number,courseId:o.default.number,scriptId:o.default.number,forceReload:o.default.bool,buttonLocationAnalytics:o.default.string,selectSection:o.default.func.isRequired,selectedSectionId:o.default.number,assignmentName:o.default.string});var b={section:{marginBottom:10},content:{display:"flex",alignItems:"center"},label:{width:"100%",fontSize:16,fontFamily:'"Gotham 5r", sans-serif',paddingTop:10,paddingBottom:10}},_=v;t.UnconnectedSectionAssigner=_;var w=(0,a.connect)((function(e){return{selectedSectionId:e.teacherSections.selectedSectionId}}),(function(e){return{selectSection:function(t){e((0,f.selectSection)(t))}}}))(v);t.default=w},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmallChevronLink=u,t.default=void 0;var r=l(n(2)),o=l(n(1)),i=n(27),a=n(749),s=l(n(59));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.href,n=e.text,r=e.iconBefore,i=void 0!==r&&r,l=e.isRtl,u=void 0!==l&&l,c=e.style,d=void 0===c?{margin:"10px 0"}:c;return o.default.createElement("div",{style:d},o.default.createElement(a.TextLink,{href:t,text:n,icon:o.default.createElement(s.default,{icon:i?"chevron-left":"chevron-right",className:u?"fa-flip-horizontal":void 0,"aria-label":n}),iconBefore:i}))}u.propTypes={text:r.default.string.isRequired,href:r.default.string.isRequired,iconBefore:r.default.bool,style:r.default.object,isRtl:r.default.bool};var c=(0,i.connect)((function(e){return{isRtl:e.isRtl}}))(u);t.default=c},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.columnWidths=t.cellStyle=void 0,t.default=g,t.rowHeight=void 0;var r=f(n(2)),o=f(n(1)),i=f(n(1481)),a=n(977),s=f(n(13)),l=f(n(59)),u=f(n(20)),c=f(n(382)),d=f(n(53));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(){var t=e.courseVersion.locales;return 0===t.length||1===t.length&&"English"===t[0]},n=e.courseVersion,r=e.onClick,a=d.default.uniqueId();return o.default.createElement(i.default.Item,{onClick:r},o.default.createElement("div",{style:b.wrapper},o.default.createElement("span",{style:b.selectedColumn},n.id===e.selectedCourseVersionId&&o.default.createElement(l.default,{icon:"check"})),o.default.createElement("span",{style:b.titleColumn,className:"assignment-version-title"},n.version_year),o.default.createElement("span",{style:b.statusColumn},n.is_recommended&&o.default.createElement("span",{style:b.recommended},s.default.recommended()),!n.is_stable&&o.default.createElement("span",null,o.default.createElement(l.default,{icon:"exclamation-triangle",style:{color:u.default.light_orange}})," ",s.default.preview())),o.default.createElement("span",{style:b.languageColumn},t()&&s.default.englishOnly(),!t()&&o.default.createElement("div",null,o.default.createElement("span",{"data-tip":!0,"data-for":a},s.default.numLanguages({numLanguages:n.locales.length})," ",o.default.createElement(l.default,{icon:"info-circle",style:b.infoCircle})),o.default.createElement(c.default,{id:a,place:"right"},n.locales.join(", "))))))}g.propTypes={selectedCourseVersionId:r.default.number,courseVersion:a.assignmentCourseVersionShape,onClick:r.default.func.isRequired};var y={selected:25,title:70,status:160,language:140};t.columnWidths=y;t.rowHeight=35;var v={display:"inline-block"};t.cellStyle=v;var b={wrapper:{fontSize:16,minHeight:35,display:"flex",alignItems:"center"},selectedColumn:h(h({},v),{},{width:y.selected,marginLeft:-10}),titleColumn:h(h({},v),{},{width:y.title,fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold"}),statusColumn:h(h({},v),{},{width:y.status}),recommended:{display:"inline-block",borderRadius:5,padding:8,backgroundColor:u.default.cyan,color:"white"},languageColumn:h(h({},v),{},{width:y.language,marginRight:-10}),infoCircle:{fontSize:18}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=t.ExpandMode=void 0;var o=d(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=d(n(53)),s=n(1694),l=d(n(20)),u=d(n(103));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var h={frameworkName:{fontFamily:"'Gotham 5r', sans-serif",fontWeight:"bold",color:l.default.dark_charcoal},categoryShortcode:{fontFamily:"'Gotham 7r', sans-serif",fontWeight:"bold",color:l.default.link_color,":hover":{textDecoration:"underline"}},standardShortcode:{fontFamily:"'Gotham 5r', sans-serif",fontWeight:"bold",color:l.default.dark_charcoal},summary:{padding:3},standard:{padding:3}};t.styles=h;var m={NONE:"none",ALL:"all"};t.ExpandMode=m;var g=o.default.oneOf([m.NONE,m.ALL]);function y(e,t){switch(e){case m.ALL:return m.ALL;case m.NONE:return m.NONE}}function v(e){return e===m.ALL}var b=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this,t=this.props.standards,n=(0,a.default)(t).orderBy("frameworkName").groupBy("frameworkName").value();return i.default.createElement("div",null,Object.keys(n).map((function(t,r){var o=n[t],a=y(e.props.expandMode);return i.default.createElement(_,{name:t,key:t,standards:o,expandMode:a})})))},t}(i.PureComponent);t.default=b,b.propTypes={standards:o.default.arrayOf(s.standardShape).isRequired,expandMode:g};var _=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.name,r=t.standards,o=!!r[0].parentCategoryShortcode,s=o?E:S,l=o?"parentCategoryShortcode":"categoryShortcode",u=(0,a.default)(r).orderBy(l,"shortcode").groupBy(l).value();return i.default.createElement("div",null,i.default.createElement("span",{style:h.frameworkName},n),i.default.createElement("ul",{style:{listStyleType:"none"}},Object.keys(u).map((function(t,n){var r=u[t],o=y(e.props.expandMode);return i.default.createElement(s,{key:t,shortcode:t,standards:r,expandMode:o})}))))},t}(i.PureComponent);_.propTypes={name:o.default.string.isRequired,standards:o.default.arrayOf(s.standardShape).isRequired,expandMode:g};var w=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.shortcode,r=t.standards,o=r[0].parentCategoryDescription,s=(0,a.default)(r).orderBy("categoryShortcode","shortcode").groupBy("categoryShortcode").value(),l=v(this.props.expandMode);return i.default.createElement("li",{key:n},i.default.createElement("details",{open:l},i.default.createElement("summary",{style:h.summary},i.default.createElement("span",{style:h.categoryShortcode},n)," - ",o),i.default.createElement("ul",{style:{listStyleType:"none"}},Object.keys(s).map((function(t,n){var r=s[t],o=y(e.props.expandMode);return i.default.createElement(S,{key:t,shortcode:t,standards:r,expandMode:o})})))))},t}(i.PureComponent);w.propTypes={shortcode:o.default.string.isRequired,standards:o.default.arrayOf(s.standardShape).isRequired,expandMode:g};var E=(0,u.default)(w),O=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.shortcode,n=e.standards,r=n[0].categoryDescription,o=v(this.props.expandMode);return i.default.createElement("li",{key:t},i.default.createElement("details",{open:o},i.default.createElement("summary",{style:h.summary},i.default.createElement("span",{style:h.categoryShortcode},t)," - ",r),i.default.createElement("ul",null,n.map((function(e){return i.default.createElement(T,{key:e.shortcode,standard:e})})))))},t}(i.PureComponent);O.propTypes={shortcode:o.default.string.isRequired,standards:o.default.arrayOf(s.standardShape).isRequired,expandMode:g};var S=(0,u.default)(O),T=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props.standard;return i.default.createElement("li",{key:e.shortcode,style:h.standard},i.default.createElement("span",{style:h.standardShortcode},e.shortcode)," - ",e.description)},t}(i.PureComponent);T.propTypes={standard:s.standardShape.isRequired}},(e,t,n)=>{e.exports=n.p+"creative-commons-by-nc-sawpe2a1058a53201224f6f84749cc8a3aac.png"},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationItem=t.NavigationCategory=t.NavigationBar=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),i=u(n(2)),a=u(n(9)),s=u(n(20)),l=n(749);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.text,n=e.href,r=e.indentLevel,i=void 0===r?0:r,s=e.isActive,u=void 0!==s&&s;return o.default.createElement("div",{style:{paddingLeft:"".concat(12*i,"px")},className:(0,a.default)({"nav-link":!0,active:u})},o.default.createElement(l.Link,{className:"link",href:n,weight:"medium"},t))};t.NavigationItem=p,p.propTypes={text:i.default.node.isRequired,href:i.default.string.isRequired,indentLevel:i.default.number,isActive:i.default.bool};var h=function(e){var t=e.name,n=e.color,r=void 0===n?s.default.teal:n,i=e.initialIsOpen,l=void 0!==i&&i,u=e.useColorWhenClosed,c=void 0!==u&&u,f=e.children,p=d((0,o.useState)(l||!1),2),h=p[0],m=p[1],g=c||h?r:s.default.lightest_gray,y=c||!h?s.default.dimgray:s.default.white;return o.default.createElement("div",{style:{backgroundColor:g,color:y},className:(0,a.default)({category:!0,open:h,"transition-color":h&&!c})},o.default.createElement("span",{className:"title",tabIndex:"0",role:"button",onClick:function(){return m(!h)},onKeyDown:function(e){[" ","Enter","Spacebar"].includes(e.key)&&m(!h)}},t),f)};t.NavigationCategory=h,h.propTypes={name:i.default.string.isRequired,color:i.default.string,useColorWhenClosed:i.default.bool,initialIsOpen:i.default.bool,children:i.default.node};var m=function(e){var t=e.children;return o.default.createElement("div",{className:"nav-bar header"},t)};t.NavigationBar=m,m.propTypes={children:i.default.node}},(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(170),o=n.n(r),i=n(171),a=n.n(i),s=n(172),l=n.n(s),u=n(173),c=n.n(u),d=n(174),f=n.n(d),p=n(175),h=n.n(p),m=n(3630),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f();o()(m.Z,g);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},,(e,t,n)=>{e.exports=n.p+"small_purple_icons_fullwidthwp8bb773bcc71a08672a6ea12bb8004fd1.png"},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recordOpenEditSectionDetails=function(e,t){a.default.putRecord({study:"teacher_dashboard_actions",study_group:t,event:"open_edit_section_dashboard_header",data_json:JSON.stringify({section_id:e})},{includeUserId:!0})},t.recordSwitchToSection=function(e,t,n){a.default.putRecord({study:"teacher_dashboard_actions",study_group:n,event:"change_section",data_json:JSON.stringify({section_id:t,old_section_id:t,new_section_id:e})},{includeUserId:!0})},t.switchToSection=function(e,t){var n="/teacher_dashboard/sections/".concat(e,"/"),a=r.default.last(r.default.split(window.location.pathname,"/")),s=r.default.values(i.TeacherDashboardPath).includes("/".concat(a))?n.concat(a):n;(0,o.navigateToHref)(s)};var r=s(n(53)),o=n(33),i=n(3530),a=s(n(131));function s(e){return e&&e.__esModule?e:{default:e}}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TeacherDashboardPath=void 0;var o=f(n(32)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=f(n(2)),s=n(2875),l=f(n(13)),u=f(n(20)),c=f(n(59));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(1340),b={progress:"/progress",textResponses:"/text_responses",assessments:"/assessments",projects:"/projects",stats:"/stats",manageStudents:"/manage_students",loginInfo:"/login_info",standardsReport:"/standards_report"};t.TeacherDashboardPath=b;var _=[{label:l.default.teacherTabProgress(),url:b.progress},{label:l.default.teacherTabStatsTextResponses(),url:b.textResponses},{label:l.default.teacherTabAssessments(),url:b.assessments},{label:l.default.teacherTabProjects(),url:b.projects},{label:l.default.teacherTabStats(),url:b.stats},{label:l.default.teacherTabManageStudents(),url:b.manageStudents}],w="start",E="middle",O="end",S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return y(m(t=e.call.apply(e,[this].concat(r))||this),"state",{listPosition:w,shouldScroll:!0}),y(m(t),"setShouldScroll",(function(){for(var e=(0,o.default)(t.refs.navbar),n=e.children(),r=0,i=0;i<n.length;i++)r+=n[i].clientWidth;var a=e.width()<r+150;t.setState({shouldScroll:a})})),y(m(t),"scrollTo",(function(e){var n=0;e===O&&(n=(0,o.default)(t.refs.navbar).width()),t.setState({listPosition:e}),(0,o.default)(t.refs.navbar).animate({scrollLeft:n},500)})),y(m(t),"handleScroll",(function(){var e=t.state.listPosition,n=t.refs.navbar,r=(0,o.default)(n).scrollLeft(),i=(0,o.default)(n)[0].scrollWidth-(0,o.default)(n)[0].clientWidth;r>0&&r<i&&e!==E?t.setState({listPosition:E}):0===r&&e!==w?t.setState({listPosition:w}):r===i&&e!==O&&t.setState({listPosition:O})})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n);var a=r.prototype;return a.componentDidMount=function(){this.setShouldScroll()},a.render=function(){var e=this,t=this.state,n=t.listPosition,r=t.shouldScroll,o=this.props.links||_,a=this.state.shouldScroll?h(h({},C.container),C.scrollableContainer):h(h({},C.container),C.centerContainer),l=v.isSafari()?h(h({},C.chevron),C.safariSticky):C.chevron;return i.default.createElement("div",{ref:"navbar",id:"uitest-teacher-dashboard-nav",style:a,onScroll:this.handleScroll},n!==w&&r&&i.default.createElement(c.default,{icon:"chevron-left",style:h(h({},l),C.chevronLeft),onClick:function(){return e.scrollTo(w)}}),o.map((function(e){return i.default.createElement(s.NavLink,{key:e.url,to:e.url,style:C.linkContainer,activeStyle:C.activeLinkContainer},i.default.createElement("div",{style:C.link},e.label))})),n!==O&&r&&i.default.createElement(c.default,{icon:"chevron-right",style:h(h({},l),C.chevronRight),onClick:function(){return e.scrollTo(O)}}))},r}(i.Component);t.default=S,y(S,"propTypes",{links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,url:a.default.string.isRequired}))});var T=10,C={container:{width:"100%",height:50,backgroundColor:u.default.purple,display:"flex",marginBottom:10,overflow:"hidden",position:"relative"},centerContainer:{justifyContent:"center"},scrollableContainer:{overflowX:"scroll"},linkContainer:{whiteSpace:"nowrap",textDecoration:"none",color:u.default.white,fontSize:14,paddingLeft:T,paddingRight:T,marginLeft:T,marginRight:T},activeLinkContainer:{borderBottom:"3px solid ".concat(u.default.orange)},link:{height:50,display:"flex",alignItems:"center",textAlign:"center"},chevron:{position:"sticky",height:50,top:0,fontSize:24,backgroundColor:u.default.purple,color:u.default.white,marginTop:13,paddingLeft:T,paddingRight:T,cursor:"pointer"},safariSticky:{position:"-webkit-sticky"},chevronLeft:{left:0},chevronRight:{right:0}}},e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},e=>{"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,l=s&&s(Object);e.exports=function e(u,c,d){if("string"!=typeof c){if(l){var f=s(c);f&&f!==l&&e(u,f,d)}var p=o(c);i&&(p=p.concat(i(c)));for(var h=0;h<p.length;++h){var m=p[h];if(!(t[m]||n[m]||d&&d[m])){var g=a(c,m);try{r(u,m,g)}catch(y){}}}return u}return u}},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReloadAfterEditSectionDialog=void 0;var o=h(n(2)),i=p(n(1)),a=n(27),s=h(n(13)),l=h(n(143)),u=p(n(3534)),c=h(n(1e3)),d=n(468);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t,n,r,a=function(t){var n,r;function o(){return t.apply(this,arguments)||this}return r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,m(n,r),o.prototype.render=function(){return i.default.createElement(l.default,{useUpdatedStyles:!0,fixedWidth:1010,fullHeight:!0,isOpen:this.props.isOpen,uncloseable:!0},i.default.createElement(c.default,null,i.default.createElement(e,{title:s.default.editSectionDetails(),isNewSection:!1})))},o}(i.Component);return t=a,n="propTypes",r={isOpen:o.default.bool.isRequired},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,a}var y=(0,a.connect)((function(e){return{isOpen:(0,d.isEditingSection)(e.teacherSections)}}))(g(u.default));t.default=y;var v=(0,a.connect)((function(e){return{isOpen:(0,d.isEditingSection)(e.teacherSections)}}))(g(u.ReloadAfterEditSectionForm));t.ReloadAfterEditSectionDialog=v},(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedEditSectionForm=t.ReloadAfterEditSectionForm=void 0;var o=O(n(2)),i=E(n(1)),a=n(27),s=n(763),l=E(n(452)),u=O(n(74)),c=O(n(3774)),d=n(977),f=O(n(394)),p=O(n(13)),h=n(468),m=n(761),g=O(n(2652)),y=n(385),v=O(n(131)),b=n(997),_=O(n(3075));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function O(e){return e&&e.__esModule?e:{default:e}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P(k(t=e.call.apply(e,[this].concat(r))||this),"state",{showHiddenUnitWarning:!1}),P(k(t),"onSaveClick",(function(){var e=t.props,n=e.section,r=e.hiddenLessonState,o=n.id,i=n.unitId;o&&i&&(0,m.isScriptHiddenForSection)(r,o,i)?t.setState({showHiddenUnitWarning:!0}):t.handleSave()})),P(k(t),"handleConfirmAssign",(function(){var e=t.props,n=e.section;(0,e.updateHiddenScript)(n.id.toString(),n.unitId,!1),t.setState({showHiddenUnitWarning:!1}),t.handleSave()})),P(k(t),"handleSave",(function(){t.props.handleSave().catch((function(e){alert(p.default.unexpectedError()),console.error(e)}))})),P(k(t),"recordAutoplayToggleEvent",(function(e){v.default.putRecord({study:"section_setting",study_group:"tts_auto_play",event:e?"turn_on":"turn_off",script_id:t.props.section.unitId,data_json:JSON.stringify({section_id:t.props.section.id})},{useProgressScriptId:!1,includeUserId:!0})})),P(k(t),"recordRestrictSectionEvent",(function(e){v.default.putRecord({study:"lock_section",study_group:"display_lock_section",event:e?"turn_on":"turn_off",data_json:JSON.stringify({section_id:t.props.section.id})},{useProgressScriptId:!1,includeUserId:!0})})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,A(t,n);var o=r.prototype;return o.isOauthType=function(e){return[y.SectionLoginType.google_classroom,y.SectionLoginType.clever].includes(e)},o.render=function(){var e=this,t=this.props,n=t.section,r=t.title,o=t.courseOfferings,a=t.isSaveInProgress,l=t.editSectionProperties,c=t.handleClose,d=t.assignedUnitLessonExtrasAvailable,h=t.assignedUnitTextToSpeechEnabled,m=t.assignedUnitRequiresVerifiedInstructor,v=t.assignedUnitName,w=t.localeCode,E=t.isNewSection,O=t.showLockSectionField,S=t.isVerifiedInstructor,T=n.courseOfferingId?o[n.courseOfferingId].display_name:"",C=[y.SectionLoginType.word,y.SectionLoginType.picture],k={};k[y.SectionLoginType.email]=[y.SectionLoginType.email],k[y.SectionLoginType.picture]=[y.SectionLoginType.word,y.SectionLoginType.picture],k[y.SectionLoginType.word]=[y.SectionLoginType.word,y.SectionLoginType.picture],k[y.SectionLoginType.clever]=[y.SectionLoginType.clever],k[y.SectionLoginType.google_classroom]=[y.SectionLoginType.google_classroom];var A=k[n.loginType],P=!E&&C.includes(n.loginType);return n?i.default.createElement("div",{style:K.root},i.default.createElement(s.Heading1,null,r),i.default.createElement("div",{style:K.scroll},i.default.createElement(R,{value:n.name,onChange:function(e){return l({name:e})},disabled:a}),n.participantType===b.ParticipantAudience.student&&i.default.createElement(D,{value:n.grade||"",onChange:function(e){return l({grade:e})},disabled:a}),P&&i.default.createElement(j,{value:n.loginType,onChange:function(e){return l({loginType:e})},validLoginTypes:A,disabled:a}),i.default.createElement(N,{section:n,onChange:function(e){return l(e)},courseOfferings:o,disabled:a,isNewSection:E}),!S&&m&&T&&i.default.createElement(_.default,{courseName:T}),d&&i.default.createElement(L,{value:n.lessonExtras,onChange:function(e){return l({lessonExtras:e})},disabled:a}),i.default.createElement(M,{value:n.pairingAllowed,onChange:function(e){return l({pairingAllowed:e})},disabled:a}),h&&i.default.createElement(F,{isEnglish:w.startsWith("en"),value:n.ttsAutoplayEnabled,onChange:function(t){l({ttsAutoplayEnabled:t}),e.recordAutoplayToggleEvent(t)},disabled:a}),O&&i.default.createElement(B,{value:n.restrictSection,onChange:function(t){l({restrictSection:t}),e.recordRestrictSectionEvent(t)},disabled:a,loginType:this.props.section.loginType})),i.default.createElement(f.default,null,i.default.createElement(u.default,{__useDeprecatedTag:!0,onClick:c,text:p.default.dialogCancel(),size:u.default.ButtonSize.large,color:u.default.ButtonColor.gray,disabled:a}),i.default.createElement(u.default,{__useDeprecatedTag:!0,className:"uitest-saveButton",onClick:this.onSaveClick,text:p.default.save(),size:u.default.ButtonSize.large,color:u.default.ButtonColor.orange,disabled:a})),this.state.showHiddenUnitWarning&&i.default.createElement(g.default,{sectionName:n.name,assignmentName:v,onClose:c,onConfirm:this.handleConfirmAssign})):null},r}(i.Component);P(x,"propTypes",{title:o.default.string.isRequired,isNewSection:o.default.bool,initialUnitId:o.default.number,initialCourseId:o.default.number,courseOfferings:o.default.objectOf(d.assignmentCourseOfferingShape).isRequired,section:d.sectionShape.isRequired,editSectionProperties:o.default.func.isRequired,handleSave:o.default.func.isRequired,handleClose:o.default.func.isRequired,isSaveInProgress:o.default.bool.isRequired,assignedUnitLessonExtrasAvailable:o.default.bool.isRequired,hiddenLessonState:o.default.object.isRequired,assignedUnitName:o.default.string.isRequired,assignedUnitTextToSpeechEnabled:o.default.bool.isRequired,updateHiddenScript:o.default.func.isRequired,localeCode:o.default.string,assignedUnitRequiresVerifiedInstructor:o.default.bool,isVerifiedInstructor:o.default.bool,showLockSectionField:o.default.bool});var I={value:o.default.any,onChange:o.default.func.isRequired,disabled:o.default.bool},R=function(e){var t=e.value,n=e.onChange,r=e.disabled;return i.default.createElement("div",null,i.default.createElement(U,null,p.default.sectionName()),i.default.createElement(H,null,p.default.addSectionName()),i.default.createElement("input",{value:t,placeholder:p.default.addSectionNameHint(),onChange:function(e){return n(e.target.value)},style:K.sectionNameInput,disabled:r,id:"uitest-section-name"}))};R.propTypes=I;var D=function(e){var t=e.value,n=e.onChange,r=e.disabled,o=[""].concat(y.StudentGradeLevels).map((function(e){return{value:e,text:"Other"===e?"Other/Mixed":e}}));return i.default.createElement("div",null,i.default.createElement(U,null,p.default.grade()),i.default.createElement(W,{value:t,onChange:function(e){return n(e.target.value)},disabled:r},o.map((function(e,t){return i.default.createElement("option",{key:t,value:e.value},e.text)}))))};D.propTypes=I;var j=function(e){var t,n,r=e.value,o=e.onChange,a=e.validLoginTypes,s=e.disabled,l=(P(t={},y.SectionLoginType.picture,p.default.loginTypePicture()),P(t,y.SectionLoginType.word,p.default.loginTypeWord()),P(t,y.SectionLoginType.email,p.default.loginTypePersonal()),P(t,y.SectionLoginType.google_classroom,p.default.loginTypeGoogleClassroom()),P(t,y.SectionLoginType.clever,p.default.loginTypeClever()),t),u=(P(n={},y.SectionLoginType.picture,p.default.editSectionLoginTypePicDesc()),P(n,y.SectionLoginType.word,p.default.editSectionLoginTypeWordDesc()),P(n,y.SectionLoginType.email,p.default.editSectionLoginTypeEmailDesc()),P(n,y.SectionLoginType.google_classroom,p.default.editSectionLoginTypeGoogleDesc()),P(n,y.SectionLoginType.clever,p.default.editSectionLoginTypeCleverDesc()),n);return i.default.createElement("div",null,i.default.createElement(U,null,p.default.loginType()),i.default.createElement(W,{value:r,onChange:function(e){return o(e.target.value)},disabled:s},a.map((function(e,t){return i.default.createElement("option",{key:t,value:e},l[e])}))),i.default.createElement("span",{style:{marginLeft:5}},u[r]))};j.propTypes=C(C({},I),{},{validLoginTypes:o.default.arrayOf(o.default.string).isRequired});var N=function(e){var t=e.section,n=e.onChange,r=e.courseOfferings,o=e.disabled,a=e.isNewSection;return i.default.createElement("div",null,i.default.createElement(U,null,p.default.course()),i.default.createElement(H,null,p.default.whichCourse(),i.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/204874337-What-happens-when-I-assign-a-course-to-a-section-Can-I-assign-2-at-once-",target:"_blank",rel:"noopener noreferrer"},p.default.explainCourseAssignmentsLearnMore())),i.default.createElement(c.default,{section:t,onChange:function(e){return n(e)},courseOfferings:r,dropdownStyle:K.dropdown,disabled:o,isNewSection:a}))};N.propTypes={section:d.sectionShape,onChange:o.default.func.isRequired,courseOfferings:o.default.objectOf(d.assignmentCourseOfferingShape).isRequired,disabled:o.default.bool,isNewSection:o.default.bool};var L=function(e){var t=e.value,n=e.onChange,r=e.disabled;return i.default.createElement("div",null,i.default.createElement(U,null,p.default.enableLessonExtras()),i.default.createElement(H,null,p.default.explainLessonExtras()," ",i.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/228116568-In-the-teacher-dashboard-what-are-stage-extras-",target:"_blank",rel:"noopener noreferrer"},p.default.explainLessonExtrasLearnMore())),i.default.createElement(q,{value:t,onChange:function(e){return n(e)},disabled:r}))};L.propTypes=I;var M=function(e){var t=e.value,n=e.onChange,r=e.disabled;return i.default.createElement("div",null,i.default.createElement(U,null,p.default.enablePairProgramming()),i.default.createElement(H,null,p.default.explainPairProgramming()," ",i.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/115002122788-How-does-pair-programming-within-Code-Studio-work-",target:"_blank",rel:"noopener noreferrer"},p.default.explainPairProgrammingLearnMore())),i.default.createElement(q,{value:t,onChange:function(e){return n(e)},disabled:r}))};M.propTypes=I;var B=function(e){var t=e.value,n=e.onChange,r=e.disabled,o=e.loginType,a=y.SectionLoginType.clever,s=y.SectionLoginType.google_classroom;return o!==(a&&s)?i.default.createElement("div",null,i.default.createElement(U,null,p.default.restrictSectionAccess()),i.default.createElement(H,null,"email"===o?p.default.explainRestrictedSectionEmail():p.default.explainRestrictedSectionWordAndPicture()," ",i.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/360060056611",target:"_blank",rel:"noopener noreferrer"},p.default.learnMore())),i.default.createElement(q,{value:t,onChange:function(e){return n(e)},disabled:r})):null};B.propTypes=C(C({},I),{},{loginType:o.default.string});var F=function(e){var t=e.value,n=e.onChange,r=e.disabled,o=e.isEnglish;return i.default.createElement("div",null,i.default.createElement(U,null,p.default.enableTtsAutoplay()),i.default.createElement(H,null,p.default.explainTtsAutoplay()," ",o&&i.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/360058843692",target:"_blank",rel:"noopener noreferrer"},"Learn more about read aloud options on Code.org.")),i.default.createElement(q,{value:t,onChange:function(e){return n(e)},disabled:r}))};F.propTypes=C(C({},I),{},{isEnglish:o.default.bool.isRequired});var U=function(e){return i.default.createElement("div",S({style:C(C({},s.h3Style),{},{marginTop:20,marginBottom:0})},e))},H=function(e){return i.default.createElement("div",S({style:{marginBottom:5}},e))},W=function(e){return i.default.createElement("select",S({style:K.dropdown},e))},q=function(e){var t=e.value,n=e.onChange,r=e.disabled;return i.default.createElement(W,{value:t?"yes":"no",onChange:function(e){return n("yes"===e.target.value)},disabled:r},i.default.createElement("option",{value:"yes"},p.default.yes()),i.default.createElement("option",{value:"no"},p.default.no()))};q.propTypes=I;var z=function(e){return{initialCourseId:e.teacherSections.initialCourseId,initialUnitId:e.teacherSections.initialUnitId,courseOfferings:e.teacherSections.courseOfferings,section:e.teacherSections.sectionBeingEdited,isSaveInProgress:e.teacherSections.saveInProgress,assignedUnitLessonExtrasAvailable:(0,h.assignedUnitLessonExtrasAvailable)(e),hiddenLessonState:e.hiddenLesson,assignedUnitName:(0,h.assignedUnitName)(e),assignedUnitTextToSpeechEnabled:(0,h.assignedUnitTextToSpeechEnabled)(e),localeCode:e.locales.localeCode,assignedUnitRequiresVerifiedInstructor:(0,h.assignedUnitRequiresVerifiedInstructor)(e),isVerifiedInstructor:e.verifiedInstructor.isVerified,showLockSectionField:e.teacherSections.showLockSectionField}},V=x;t.UnconnectedEditSectionForm=V;var G=(0,a.connect)(z,{editSectionProperties:h.editSectionProperties,updateHiddenScript:m.updateHiddenScript,handleSave:h.reloadAfterEditingSection,handleClose:h.cancelEditingSection})(x);t.ReloadAfterEditSectionForm=G;var $=(0,a.connect)(z,{editSectionProperties:h.editSectionProperties,updateHiddenScript:m.updateHiddenScript,handleSave:h.finishEditingSection,handleClose:h.cancelEditingSection})(x);t.default=$;var K={root:{width:l["content-width"],height:"80vh",left:20,right:20},dropdown:{padding:"0.3em"},sectionNameInput:{display:"block",width:"98%",boxSizing:"border-box",fontSize:"large",padding:"0.5em"},scroll:{position:"absolute",top:80,overflowY:"scroll",height:"calc(80vh - 200px)"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(176),o=n.n(r),i=n(177),a=n.n(i)()(o());a.push([e.id,'span.vocab{text-decoration:underline}code.visual-block{border:none;box-shadow:inset -1px -1px 1px rgba(0,0,0,.5),inset 1px 1px 1px 0 rgba(255,255,255,.8);color:#000}.docs-pages th{background-color:#5b6770;color:#fff;border:1px solid #fff;text-align:left;font-size:120%;font-family:"Gotham 5r",sans-serif;font-weight:normal;padding:5px}.docs-pages td{padding:5px;border:1px solid #5b6770}',"",{version:3,sources:["webpack://./style/curriculum/markdown.scss","webpack://./style/curriculum/documentation_tables.scss","webpack://./../shared/css/color.scss","webpack://./../shared/css/font.scss"],names:[],mappings:"AACA,WACE,yBAAA,CAIF,kBACE,WAAA,CACA,sFACE,CAEF,UAAA,CCNA,eACE,wBCOO,CDNP,UCYI,CDXJ,qBAAA,CACA,eAAA,CACA,cAAA,CACA,kCEPU,CFQV,kBAAA,CACA,WAAA,CAGF,eACE,WAAA,CACA,wBAAA",sourcesContent:["/* Style the vocab definitions generated by the Markdown Preprocessor */\nspan.vocab {\n  text-decoration: underline;\n}\n\n/* Style the visual code blocks generated by Remark */\ncode.visual-block {\n  border: none;\n  box-shadow:\n    inset -1px -1px 1px rgb(0 0 0 / 0.5),\n    inset 1px 1px 1px 0 rgb(255 255 255 / 0.8);\n  color: #000;\n}\n",'@import "color.scss";\n@import "font";\n@import "markdown";\n\n.docs-pages {\n  th {\n    background-color: $charcoal;\n    color: $white;\n    border: 1px solid $white;\n    text-align: left;\n    font-size: 120%;\n    font-family: $gotham-bold;\n    font-weight: normal;\n    padding: 5px;\n  }\n\n  td {\n    padding: 5px;\n    border: 1px solid $charcoal;\n  }\n}\n',"// colors from https://www.dropbox.com/s/ycjiwt8vxlmv2ih/Code.org_stylesheet_v2_09.05.13.pdf\n\n// Please keep this file simple; it should only contain color definitions\n//   and aliases.  Variables defined in this file are exported to\n//   apps/src/color.js during the apps build process.\n\n$black: #000;\n$background_black: #121416;\n$dark_gray: #2D3139;\n$darkest_gray: #272822;\n$dark_slate_gray: #282c34;\n$darkest_slate_gray: #25292d;\n$dark_charcoal: #4d575f;\n$charcoal: #5b6770;\n$light_gray: #949ca2;\n$lighter_gray: #c6cacd;\n$lightest_gray: #e7e8ea;\n$background_gray: #f2f2f2;\n$dimgray: #696969;\n$white: #fff;\n$default_blue: #3670b3;\n\n$dark_teal: #0094a3;\n$teal: #00adbc;\n$applab_button_teal: #1abc9c;\n$light_teal: #59cad3;\n$lightish_teal: #80d6de;\n$lighter_teal: #a6e3e8;\n$lightest_teal: #d9f3f5;\n\n$dark_purple: #5c3f7f;\n$purple: #7665a0;\n$light_purple: #a69bc1;\n$lighter_purple: #cfc9de;\n$lightest_purple: #ebe8f1;\n\n$cyan: #0094ca;\n$light_cyan: #59b9dc;\n$lighter_cyan: #a6daed;\n$lightest_cyan: #d9eff7;\n$almost_white_cyan: #f5fcff;\n\n$orange: #ffa400;\n$light_orange: #ffc459;\n$lighter_orange: #ffe0a6;\n$lightest_orange: #fff2d9;\n$dark_orange: #ff8600;\n\n$green: #b9bf15;\n$light_green: #d1d567;\n$lighter_green: #e7e9ad;\n$lightest_green: #f5f5dc;\n$highlight_green: #8afc9b;\n\n$yellow: #ffb81d;\n$light_yellow: #ffdb74;\n$lighter_yellow: #ffebb5;\n$lightest_yellow: #fff7df;\n\n$goldenrod: #daa520;\n\n$header_text: $white;\n$bkgnd_color: $teal;\n$inset_color: $lighter_gray;\n$dark_color: $purple;\n$hdr_color: $purple;\n\n// Some extra colors.\n$red: #c00;\n$lightest_red: #fcc;\n$dark_red: #d62911;\n$realgreen: #008000;\n$realyellow: #ff0;\n$mustardyellow: #efcd1c;\n$twitter_blue: #00aced;\n$facebook_blue: #3b5998;\n$microsoft_blue: #2a5cb2;\n$dark_blue: #00647f;\n$google_red: #a5201a;\n$blockly_flyout_gray: #ddd;\n$default_text: #333;\n$border_gray: #bbb;\n$border_light_gray: #d8d8d8;\n$table_header: #ececec;\n$table_light_row: #fcfcfc;\n$table_dark_row: #f4f4f4;\n\n// Progress colors.\n$level_submitted: $purple;\n$level_perfect: rgb(14, 190, 14);\n$level_passed: rgb(159, 212, 159);\n$level_attempted: $realyellow;\n$level_not_tried: #fefefe;\n$level_current: $orange;\n$level_review_rejected: $red;\n$level_review_accepted: rgb(11, 142, 11); // TODO: $level_passed;\n$assessment: $cyan;\n$workspace_running_background: #e5e5e5;\n\n// Experimental Sprite Lab validation colors.\n$dark_purple: #682A77;\n$bright_green: #0ebe0e;\n$neon_pink: #e9118f;\n\n// Links (used in apps).\n$link_color: #0596ce;\n\n// Shadow.\n$shadow: rgba(0, 0, 0, 0.3);\n\n// Colors that are taken from bootstrap, and not necessarily part of our core theme.\n$bootstrap_button_blue: #337ab7;\n$bootstrap_button_red: #d9534f;\n$bootstrap_error_background: #f2dede;\n$bootstrap_error_text: #b94a48;\n$bootstrap_error_border: #ebccd1;\n$bootstrap_warning_background: #fcf8e3;\n$bootstrap_warning_text: #c09853;\n$bootstrap_warning_border: #faebcc;\n$bootstrap_border_color: #cccccc;\n$bootstrap_success_background: #dff0d8;\n$bootstrap_success_text: #468847;\n$bootstrap_success_border: #d6e9c6;\n\n// Colors taken from droplet, not part of our core theme.\n$droplet_light_green: #d3e965;\n$droplet_blue: #64b5f6;\n$droplet_bright_blue: #19c3e1;\n$droplet_yellow: #fff176;\n$droplet_orange: #ffb74d;\n$droplet_red: #f78183;\n$droplet_cyan: #4dd0e1;\n$droplet_pink: #f57ac6;\n$droplet_purple: #bb77c7;\n$droplet_green: #68d995;\n$droplet_white: $white;\n\n// Oceans: deep blue background.\n$oceans_deep_blue: rgb(2, 0, 28);\n$music_black: #000\n",'// Common site-wide fonts, put here for easy access from all scss files\n\n$gotham-regular: "Gotham 4r", sans-serif;\n$gotham-italics: "Gotham 4i", sans-serif;\n$gotham-bold: "Gotham 5r", sans-serif;\n$gotham-extra-bold: "Gotham 7r", sans-serif;\n$gotham-extra-bold-italics: "Gotham 7i";\n$code-font: \'Source Code Pro\', Monaco, \'Bitstream Vera Sans Mono\', \'Lucida Console\', Terminal, monospace;\n'],sourceRoot:""}]);const s=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gDocsBaseUrl=l,t.gDocsCopyUrl=function(e){return[l(e),s].join("")},t.gDocsMsOfficeUrl=function(e){var t;i.test(e)?t="doc":o.test(e)&&(t="pptx");return[l(e),a,t].join("")},t.gDocsPdfUrl=function(e){return[l(e),a,"pdf"].join("")},t.isGDocsUrl=function(e){try{var t=new URL(e);if(t.host!==n)return!1;if(o.test(t.pathname)||i.test(t.pathname))return!0}catch(r){return!1}return!1};var n="docs.google.com",r=/^https?:\/\/docs\.google\.com\/(document|presentation)\/d\/([\w-]+)/,o=/\/presentation\/d\/[\w-]+/,i=/\/document\/d\/[\w-]+/,a="/export?format=",s="/copy";function l(e){var t=r.exec(e),o=t[1],i=t[2];return"https://".concat(n,"/").concat(o,"/d/").concat(i)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCourseOfferingsByCategory=t.default=void 0;var o=p(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(1)),a=p(n(53)),s=p(n(13)),l=n(977),u=p(n(2586)),c=n(997),d=n(2876);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="__noAssignment__",v="__decideLater__",b=function(e){return e!==y&&e!==v},_=function(e,t){var n=a.default.filter(e,(function(e){return c.ParticipantAudiencesByType[t].includes(e.participant_audience)})),r=a.default.orderBy(n,"display_name");return r=a.default.orderBy(r,"is_featured","desc"),a.default.groupBy(r,"category")};t.getCourseOfferingsByCategory=_;var w=function(e){var t,n;function r(t){var n;g(h(n=e.call(this,t)||this),"onChangeCourseOffering",(function(e){if(e.target.value===y&&n.state.selectedCourseOfferingId!==y||e.target.value===v&&n.state.selectedCourseOfferingId!==v)n.setState({selectedCourseOfferingId:e.target.value,selectedCourseVersionId:y,selectedUnitId:y},n.reportChange);else{var t=Number(e.target.value);if(n.state.selectedCourseOfferingId!==t){var r,o,i,s,l=null===(r=n.props.courseOfferings[t])||void 0===r?void 0:r.course_versions;if(1===Object.keys(l).length)o=Object.values(l)[0].id;else o=null===(i=Object.values(l))||void 0===i||null===(s=i.find((function(e){return e.is_recommended})))||void 0===s?void 0:s.id;var u=o?Object.values(a.default.orderBy(l[o].units,"position")):null,c=(null==u?void 0:u.length)>1?u[0].id:y;n.setState({selectedCourseOfferingId:t,selectedCourseVersionId:o,selectedUnitId:c},n.reportChange)}}})),g(h(n),"onChangeCourseVersion",(function(e){if(e===y&&n.state.selectedCourseVersionId!==y)n.setState({selectedUnitId:y,selectedCourseVersionId:y},n.reportChange);else{var t=Number(e);if(n.state.selectedCourseVersionId!==t){var r,o=Object.values(a.default.orderBy(null===(r=n.props.courseOfferings[n.state.selectedCourseOfferingId])||void 0===r?void 0:r.course_versions[t].units,"position")),i=o.length>1?o[0].id:y;n.setState({selectedUnitId:i,selectedCourseVersionId:t},n.reportChange)}}})),g(h(n),"onChangeUnit",(function(e){if(e.target.value===y&&n.state.selectedUnitId!==y)n.setState({selectedUnitId:y},n.reportChange);else{var t=Number(e.target.value);n.state.selectedUnitId!==t&&n.setState({selectedUnitId:t},n.reportChange)}})),g(h(n),"reportChange",(function(){"function"==typeof n.props.onChange&&n.props.onChange(n.getSelectedAssignment())}));var r=t.section,o=null!=r&&r.courseOfferingId?r.courseOfferingId:y,i=null!=r&&r.courseVersionId?r.courseVersionId:y,s=null!=r&&r.unitId?r.unitId:y;return n.state={selectedCourseOfferingId:o,selectedCourseVersionId:i,selectedUnitId:s},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var o=r.prototype;return o.getSelectedAssignment=function(){var e=this.state,t=e.selectedCourseOfferingId,n=e.selectedCourseVersionId,r=e.selectedUnitId;return{courseOfferingId:b(t)?t:null,courseVersionId:b(n)?n:null,unitId:b(r)?r:null}},o.render=function(){var e,t=this.props,n=t.dropdownStyle,r=t.disabled,o=t.courseOfferings,l=t.section,f=this.state,p=f.selectedCourseOfferingId,h=f.selectedCourseVersionId,m=f.selectedUnitId,g=_(o,l.participantType),b=o[p],w=null==b?void 0:b.course_versions[h],O=a.default.orderBy(null==w?void 0:w.units,"position"),S=a.default.filter(c.CourseOfferingCategories,(function(e){return g[e]}));return i.default.createElement("div",null,i.default.createElement("span",{style:E.family},i.default.createElement("div",{style:E.dropdownLabel},s.default.assignmentSelectorCourse()),i.default.createElement("select",{id:"uitest-assignment-family",value:p,onChange:this.onChangeCourseOffering,style:n,disabled:r},i.default.createElement("option",{key:"default",value:y}),i.default.createElement("option",{key:"later",value:v},s.default.decideLater()),S.map((function(e){var t;return i.default.createElement("optgroup",{key:e,label:d.translatedCourseOfferingCategories[e]},null===(t=g[e])||void 0===t?void 0:t.map((function(e){return i.default.createElement("option",{key:e.id,value:e.id},e.display_name)})))})))),p!==y&&(null==b?void 0:b.course_versions)&&(null===(e=Object.entries(null==b?void 0:b.course_versions))||void 0===e?void 0:e.length)>1&&i.default.createElement(u.default,{dropdownStyle:n,selectedCourseVersionId:h,courseVersions:null==b?void 0:b.course_versions,onChangeVersion:this.onChangeCourseVersion,disabled:r}),0!==h&&O&&Object.entries(O).length>1&&i.default.createElement("div",{style:E.secondary},i.default.createElement("div",{style:E.dropdownLabel},s.default.assignmentSelectorUnit()),i.default.createElement("select",{id:"uitest-secondary-assignment",value:m,onChange:this.onChangeUnit,style:n,disabled:r},Object.values(O).map((function(e){return i.default.createElement("option",{key:e.id,value:e.id},e.name)})),i.default.createElement("option",{value:y}))))},r}(i.Component);t.default=w,g(w,"propTypes",{section:l.sectionShape,courseOfferings:o.default.objectOf(l.assignmentCourseOfferingShape).isRequired,dropdownStyle:o.default.object,onChange:o.default.func,disabled:o.default.bool,isNewSection:o.default.bool});var E={family:{display:"inline-block",marginTop:4,marginRight:6},secondary:{marginTop:6},dropdownLabel:{fontFamily:'"Gotham 5r", sans-serif'}}}]]);
//# sourceMappingURL=code-studio-commonwp66228e0484c0ac75b218.min.js.map
;
